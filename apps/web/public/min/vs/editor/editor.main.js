/*!-----------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.48.0-dev-20240320(c92a3639858e646af7f81ff0ea87e5297af79b8c)
 * Released under the MIT license
 * https://github.com/microsoft/vscode/blob/main/LICENSE.txt
 *-----------------------------------------------------------*/(function(){var te=["exports","require","vs/base/common/lifecycle","vs/nls","vs/nls!vs/editor/editor.main","vs/editor/common/core/range","vs/base/browser/dom","vs/base/common/event","vs/platform/instantiation/common/instantiation","vs/editor/common/core/position","vs/css!vs/editor/editor.main","vs/base/common/strings","vs/base/common/errors","vs/base/common/arrays","vs/platform/contextkey/common/contextkey","vs/base/common/async","vs/editor/browser/editorExtensions","vs/base/common/platform","vs/editor/common/services/languageFeatures","vs/editor/common/editorContextKeys","vs/base/common/cancellation","vs/base/common/types","vs/base/common/uri","vs/platform/theme/common/themeService","vs/editor/common/core/selection","vs/platform/configuration/common/configuration","vs/base/common/codicons","vs/platform/commands/common/commands","vs/platform/actions/common/actions","vs/editor/common/languages","vs/base/common/themables","vs/platform/theme/common/colorRegistry","vs/base/common/observable","vs/editor/common/languages/languageConfigurationRegistry","vs/base/common/color","vs/platform/keybinding/common/keybinding","vs/editor/browser/services/codeEditorService","vs/editor/common/model/textModel","vs/editor/common/config/editorOptions","vs/platform/registry/common/platform","vs/base/browser/fastDomNode","vs/base/common/actions","vs/editor/common/languages/language","vs/editor/common/model","vs/base/browser/ui/hover/hoverDelegateFactory","vs/base/browser/ui/aria/aria","vs/platform/instantiation/common/extensions","vs/base/common/map","vs/base/browser/keyboardEvent","vs/base/common/network","vs/base/common/resources","vs/platform/notification/common/notification","vs/base/browser/window","vs/editor/common/services/model","vs/base/common/iterator","vs/base/common/objects","vs/editor/browser/view/viewPart","vs/base/common/htmlContent","vs/platform/contextview/browser/contextView","vs/platform/opener/common/opener","vs/editor/common/core/lineRange","vs/platform/log/common/log","vs/base/browser/browser","vs/base/common/stopwatch","vs/editor/common/core/offsetRange","vs/platform/telemetry/common/telemetry","vs/base/common/arraysFind","vs/base/browser/touch","vs/base/common/keyCodes","vs/base/common/linkedList","vs/editor/browser/config/domFontInfo","vs/editor/common/core/editOperation","vs/base/browser/mouseEvent","vs/editor/common/services/resolverService","vs/platform/accessibility/common/accessibility","vs/platform/quickinput/common/quickInput","vs/base/common/filters","vs/editor/common/cursorCommon","vs/base/browser/ui/widget","vs/base/browser/ui/scrollbar/scrollableElement","vs/base/browser/ui/hover/updatableHoverWidget","vs/base/browser/ui/actionbar/actionbar","vs/editor/browser/widget/diffEditor/utils","vs/editor/common/services/languageFeatureDebounce","vs/editor/common/languages/modesRegistry","vs/platform/theme/common/iconRegistry","vs/editor/common/core/editorColorRegistry","vs/base/common/assert","vs/base/browser/event","vs/editor/common/core/cursorColumns","vs/editor/common/viewModel","vs/platform/progress/common/progress","vs/platform/theme/common/colorUtils","vs/platform/theme/common/theme","vs/base/common/hierarchicalKind","vs/editor/contrib/hover/browser/hoverTypes","vs/base/common/path","vs/platform/storage/common/storage","vs/base/browser/trustedTypes","vs/base/common/lazy","vs/editor/common/diff/rangeMapping","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/length","vs/editor/common/tokens/lineTokens","vs/editor/common/standaloneStrings","vs/platform/markers/common/markers","vs/platform/configuration/common/configurationRegistry","vs/platform/theme/browser/defaultStyles","vs/base/common/severity","vs/base/browser/ui/iconLabel/iconLabels","vs/base/browser/ui/list/listWidget","vs/editor/common/core/stringBuilder","vs/editor/common/services/editorWorker","vs/platform/clipboard/common/clipboardService","vs/platform/layout/browser/layoutService","vs/editor/browser/widget/markdownRenderer/browser/markdownRenderer","vs/editor/contrib/editorState/browser/editorState","vs/platform/theme/common/colors/baseColors","vs/platform/actions/browser/menuEntryActionViewItem","vs/base/common/decorators","vs/base/common/functional","vs/base/common/mime","vs/base/common/hash","vs/editor/common/core/textLength","vs/editor/common/core/textEdit","vs/editor/common/languages/languageConfiguration","vs/editor/common/textModelEvents","vs/editor/browser/view/dynamicViewOverlay","vs/editor/contrib/codeAction/common/types","vs/editor/contrib/snippet/browser/snippetParser","vs/editor/common/viewLayout/viewLineRenderer","vs/platform/accessibilitySignal/browser/accessibilitySignalService","vs/platform/keybinding/common/keybindingsRegistry","vs/platform/theme/common/colors/editorColors","vs/base/common/keybindings","vs/base/common/numbers","vs/base/common/observableInternal/base","vs/base/common/iconLabels","vs/editor/browser/stableEditorScroll","vs/editor/common/core/characterClassifier","vs/editor/common/core/eolCounter","vs/editor/common/commands/replaceCommand","vs/editor/common/editorFeatures","vs/editor/common/encodedTokenAttributes","vs/editor/common/languages/supports","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/smallImmutableSet","vs/editor/common/viewLayout/lineDecorations","vs/base/browser/ui/actionbar/actionViewItems","vs/editor/browser/services/bulkEditService","vs/editor/standalone/common/standaloneTheme","vs/editor/contrib/suggest/browser/suggest","vs/platform/quickinput/common/quickAccess","vs/editor/contrib/codeAction/browser/codeAction","vs/editor/contrib/peekView/browser/peekView","vs/base/browser/ui/tree/tree","vs/base/common/buffer","vs/base/common/observableInternal/logging","vs/base/common/scrollable","vs/editor/browser/view/renderingContext","vs/editor/common/config/editorZoom","vs/editor/common/core/wordCharacterClassifier","vs/editor/common/core/wordHelper","vs/editor/common/diff/defaultLinesDiffComputer/algorithms/diffAlgorithm","vs/editor/browser/editorBrowser","vs/editor/common/viewEventHandler","vs/base/browser/globalPointerMoveMonitor","vs/base/browser/ui/sash/sash","vs/base/browser/ui/toggle/toggle","vs/base/browser/ui/tree/abstractTree","vs/editor/common/languages/nullTokenize","vs/editor/contrib/gotoSymbol/browser/referencesModel","vs/platform/dialogs/common/dialogs","vs/platform/instantiation/common/serviceCollection","vs/platform/label/common/label","vs/editor/contrib/documentSymbols/browser/outlineModel","vs/editor/contrib/message/browser/messageController","vs/editor/browser/editorDom","vs/editor/browser/widget/codeEditor/embeddedCodeEditorWidget","vs/platform/workspace/common/workspace","vs/base/common/idGenerator","vs/base/common/observableInternal/debugName","vs/base/common/observableInternal/derived","vs/base/common/range","vs/base/common/diff/diff","vs/base/common/codiconsUtil","vs/base/common/uint","vs/base/common/uuid","vs/base/common/dataTransfer","vs/base/browser/ui/codicons/codiconStyles","vs/editor/common/core/textModelDefaults","vs/editor/common/editorCommon","vs/editor/common/cursor/cursorWordOperations","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/beforeEditPositionMapper","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/ast","vs/editor/common/model/textModelSearch","vs/editor/contrib/folding/browser/foldingRanges","vs/editor/contrib/inlineCompletions/browser/ghostText","vs/editor/contrib/inlineCompletions/browser/utils","vs/base/browser/markdownRenderer","vs/base/browser/ui/keybindingLabel/keybindingLabel","vs/editor/contrib/gotoSymbol/browser/link/clickLinkGesture","vs/editor/common/services/textResourceConfiguration","vs/platform/contextkey/common/contextkeys","vs/platform/hover/browser/hover","vs/editor/browser/controller/textAreaInput","vs/editor/browser/coreCommands","vs/platform/list/browser/listService","vs/platform/actions/browser/toolbar","vs/platform/undoRedo/common/undoRedo","vs/editor/browser/widget/diffEditor/registrations.contribution","vs/editor/browser/widget/codeEditor/codeEditorWidget","vs/editor/contrib/find/browser/findModel","vs/editor/contrib/snippet/browser/snippetController2","vs/base/browser/ui/scrollbar/scrollbarState","vs/base/browser/dnd","vs/base/common/ternarySearchTree","vs/base/browser/ui/mouseCursor/mouseCursor","vs/css!vs/editor/contrib/colorPicker/browser/colorPicker","vs/css!vs/platform/quickinput/browser/media/quickInput","vs/editor/browser/config/tabFocus","vs/editor/common/core/indentation","vs/editor/common/diff/defaultLinesDiffComputer/utils","vs/editor/common/diff/linesDiffComputer","vs/editor/common/cursor/cursorMoveOperations","vs/editor/common/cursor/cursorDeleteOperations","vs/editor/common/cursor/cursorMoveCommands","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/tokenizer","vs/editor/common/model/utils","vs/editor/common/standalone/standaloneEnums","vs/editor/common/textModelGuides","vs/editor/browser/viewParts/glyphMargin/glyphMargin","vs/editor/common/viewEvents","vs/editor/common/viewModelEventDispatcher","vs/editor/contrib/inlineCompletions/browser/commandIds","vs/editor/contrib/inlineCompletions/browser/singleTextEdit","vs/base/common/keybindingLabels","vs/base/browser/canIUse","vs/base/browser/ui/tree/indexTreeModel","vs/base/browser/ui/tree/objectTreeModel","vs/base/common/extpath","vs/base/common/marshalling","vs/base/browser/pixelRatio","vs/base/browser/ui/resizable/resizable","vs/base/browser/ui/scrollbar/scrollbarArrow","vs/base/browser/ui/hover/hoverWidget","vs/base/browser/ui/list/listView","vs/base/browser/ui/button/button","vs/base/browser/ui/iconLabel/iconLabel","vs/base/browser/ui/inputbox/inputBox","vs/base/browser/ui/findinput/findInput","vs/editor/browser/view/viewLayer","vs/editor/common/languages/supports/richEditBrackets","vs/editor/common/config/fontInfo","vs/platform/instantiation/common/descriptors","vs/editor/common/services/markerDecorations","vs/editor/common/services/semanticTokensStyling","vs/editor/contrib/dropOrPasteInto/browser/edit","vs/editor/contrib/inlineCompletions/browser/inlineCompletionContextKeys","vs/editor/contrib/parameterHints/browser/provideSignatureHelp","vs/platform/environment/common/environment","vs/platform/jsonschemas/common/jsonContributionRegistry","vs/editor/common/config/editorConfigurationSchema","vs/editor/browser/services/editorWorkerService","vs/editor/common/languages/autoIndent","vs/editor/common/languages/enterAction","vs/editor/common/commands/shiftCommand","vs/editor/common/cursor/cursorTypeOperations","vs/editor/contrib/gotoSymbol/browser/goToSymbol","vs/editor/contrib/hover/browser/markdownHoverParticipant","vs/platform/theme/common/colors/miscColors","vs/platform/theme/common/colors/listColors","vs/editor/contrib/symbolIcons/browser/symbolIcons","vs/editor/browser/viewParts/lines/viewLine","vs/editor/common/services/semanticTokensProviderStyling","vs/editor/contrib/inlineCompletions/browser/inlineCompletionsHintsWidget","vs/editor/contrib/inlineEdit/browser/inlineEditController","vs/editor/browser/widget/diffEditor/diffEditorWidget","vs/editor/contrib/codeAction/browser/codeActionController","vs/editor/contrib/folding/browser/folding","vs/editor/contrib/inlineProgress/browser/inlineProgress","vs/editor/contrib/gotoSymbol/browser/goToCommands","vs/editor/contrib/dropOrPasteInto/browser/defaultProviders","vs/editor/contrib/inlineCompletions/browser/inlineCompletionsController","vs/editor/standalone/browser/standaloneServices","vs/base/browser/performance","vs/base/common/cache","vs/base/common/collections","vs/base/common/observableInternal/autorun","vs/base/common/observableInternal/utils","vs/base/common/ime","vs/base/common/symbols","vs/css!vs/base/browser/ui/actionbar/actionbar","vs/css!vs/base/browser/ui/dropdown/dropdown","vs/css!vs/base/browser/ui/findinput/findInput","vs/css!vs/base/browser/ui/list/list","vs/css!vs/platform/actionWidget/browser/actionWidget","vs/editor/browser/viewParts/minimap/minimapCharSheet","vs/editor/common/config/diffEditor","vs/editor/browser/view/viewUserInputEvents","vs/editor/browser/controller/textAreaState","vs/editor/common/core/rgba","vs/editor/common/cursor/cursorAtomicMoveOperations","vs/editor/common/diff/defaultLinesDiffComputer/algorithms/myersDiffAlgorithm","vs/editor/common/diff/defaultLinesDiffComputer/heuristicSequenceOptimizations","vs/editor/common/diff/defaultLinesDiffComputer/linesSliceCharSequence","vs/editor/common/diff/defaultLinesDiffComputer/defaultLinesDiffComputer","vs/editor/common/editorAction","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/combineTextEditInfos","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/parser","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/brackets","vs/editor/common/model/prefixSumComputer","vs/editor/common/model/textModelPart","vs/editor/common/model/pieceTreeTextBuffer/pieceTreeBase","vs/editor/common/modelLineProjectionData","vs/editor/common/services/treeViewsDnd","vs/editor/common/services/unicodeTextModelHighlighter","vs/editor/common/model/guidesTextModelPart","vs/editor/common/tokens/contiguousMultilineTokensBuilder","vs/editor/browser/viewParts/margin/margin","vs/editor/common/viewModel/overviewZoneManager","vs/editor/contrib/comment/browser/blockCommentCommand","vs/editor/contrib/folding/browser/foldingModel","vs/editor/contrib/folding/browser/indentRangeProvider","vs/editor/contrib/folding/browser/syntaxRangeProvider","vs/editor/contrib/format/browser/formattingEdit","vs/editor/contrib/indentation/browser/indentUtils","vs/editor/contrib/semanticTokens/common/semanticTokensConfig","vs/editor/contrib/smartSelect/browser/bracketSelections","vs/editor/contrib/stickyScroll/browser/stickyScrollElement","vs/editor/contrib/suggest/browser/completionModel","vs/editor/contrib/suggest/browser/wordDistance","vs/editor/standalone/common/monarch/monarchCommon","vs/editor/browser/widget/multiDiffEditor/utils","vs/base/common/process","vs/base/common/glob","vs/base/browser/dompurify/dompurify","vs/base/browser/formattedTextRenderer","vs/base/browser/ui/contextview/contextview","vs/base/browser/ui/countBadge/countBadge","vs/base/browser/ui/scrollbar/abstractScrollbar","vs/base/browser/ui/splitview/splitview","vs/base/browser/ui/highlightedlabel/highlightedLabel","vs/base/browser/ui/dropdown/dropdownActionViewItem","vs/base/browser/ui/findinput/findInputToggles","vs/base/browser/ui/tree/objectTree","vs/base/common/worker/simpleWorker","vs/editor/browser/config/elementSizeObserver","vs/editor/common/core/textChange","vs/editor/common/languageSelector","vs/editor/common/model/pieceTreeTextBuffer/pieceTreeTextBuffer","vs/editor/contrib/hover/browser/hoverOperation","vs/editor/contrib/inlayHints/browser/inlayHints","vs/editor/browser/widget/diffEditor/features/movedBlocksLinesFeature","vs/editor/browser/config/fontMeasurements","vs/editor/common/viewModel/viewModelDecorations","vs/editor/common/languages/textToHtmlTokenizer","vs/editor/common/services/editorBaseApi","vs/editor/common/viewModel/minimapTokensColorTracker","vs/editor/common/model/editStack","vs/platform/files/common/files","vs/editor/browser/widget/diffEditor/features/hideUnchangedRegionsFeature","vs/editor/contrib/inlineCompletions/browser/ghostTextWidget","vs/editor/contrib/codelens/browser/codelens","vs/editor/contrib/semanticTokens/common/getSemanticTokens","vs/editor/standalone/common/monarch/monarchLexer","vs/editor/contrib/dropOrPasteInto/browser/postEditWidget","vs/platform/keybinding/common/keybindingResolver","vs/platform/keybinding/common/resolvedKeybindingItem","vs/editor/standalone/browser/standaloneLayoutService","vs/platform/contextview/browser/contextViewService","vs/platform/quickinput/browser/quickInputUtils","vs/platform/dnd/browser/dnd","vs/editor/browser/dnd","vs/editor/contrib/colorPicker/browser/defaultDocumentColorProvider","vs/editor/contrib/colorPicker/browser/color","vs/editor/contrib/suggest/browser/suggestWidgetDetails","vs/platform/configuration/common/configurationModels","vs/platform/history/browser/contextScopedHistoryWidget","vs/editor/contrib/suggest/browser/suggestMemory","vs/editor/browser/widget/diffEditor/diffEditorViewModel","vs/editor/contrib/codeAction/browser/codeActionModel","vs/editor/contrib/codeAction/browser/lightBulbWidget","vs/editor/contrib/format/browser/format","vs/editor/contrib/hover/browser/getHover","vs/editor/contrib/wordOperations/browser/wordOperations","vs/platform/theme/common/colors/inputColors","vs/platform/theme/common/colors/minimapColors","vs/editor/browser/controller/mouseTarget","vs/editor/browser/widget/diffEditor/features/overviewRulerFeature","vs/editor/browser/viewParts/lineNumbers/lineNumbers","vs/editor/contrib/quickAccess/browser/editorNavigationQuickAccess","vs/editor/standalone/browser/standaloneCodeEditorService","vs/editor/standalone/browser/standaloneThemeService","vs/editor/contrib/inlineEdit/browser/inlineEditHintsWidget","vs/platform/quickinput/browser/quickInputTree","vs/platform/quickinput/browser/quickInput","vs/editor/browser/widget/multiDiffEditor/diffEditorItemTemplate","vs/editor/contrib/colorPicker/browser/colorDetector","vs/editor/contrib/colorPicker/browser/colorHoverParticipant","vs/editor/contrib/find/browser/findController","vs/editor/contrib/folding/browser/foldingDecorations","vs/editor/contrib/hover/browser/contentHover","vs/editor/contrib/wordHighlighter/browser/highlightDecorations","vs/editor/contrib/gotoError/browser/gotoError","vs/editor/contrib/gotoSymbol/browser/peek/referencesController","vs/editor/contrib/gotoSymbol/browser/link/goToDefinitionAtPosition","vs/editor/contrib/hover/browser/hover","vs/editor/contrib/inlayHints/browser/inlayHintsLocations","vs/editor/contrib/inlayHints/browser/inlayHintsController","vs/editor/contrib/stickyScroll/browser/stickyScrollController","vs/editor/contrib/dropOrPasteInto/browser/copyPasteController","vs/editor/contrib/snippet/browser/snippetSession","vs/editor/contrib/suggest/browser/suggestModel","vs/editor/contrib/suggest/browser/suggestController","vs/platform/workspace/common/workspaceTrust","vs/base/browser/iframe","vs/base/browser/ui/list/list","vs/base/browser/ui/list/splice","vs/base/common/diff/diffChange","vs/base/common/comparers","vs/base/common/linkedText","vs/base/common/marked/marked","vs/base/common/naturalLanguage/korean","vs/base/common/navigator","vs/base/common/history","vs/base/common/observableInternal/promise","vs/base/browser/ui/list/rangeMap","vs/base/common/search","vs/base/common/tfIdf","vs/base/common/codiconsLibrary","vs/css!vs/base/browser/ui/aria/aria","vs/css!vs/base/browser/ui/button/button","vs/css!vs/base/browser/ui/codicons/codicon/codicon","vs/css!vs/base/browser/ui/codicons/codicon/codicon-modifiers","vs/css!vs/base/browser/ui/contextview/contextview","vs/css!vs/base/browser/ui/countBadge/countBadge","vs/css!vs/base/browser/ui/hover/hoverWidget","vs/css!vs/base/browser/ui/iconLabel/iconlabel","vs/css!vs/base/browser/ui/inputbox/inputBox","vs/css!vs/base/browser/ui/keybindingLabel/keybindingLabel","vs/css!vs/base/browser/ui/mouseCursor/mouseCursor","vs/css!vs/base/browser/ui/progressbar/progressbar","vs/css!vs/base/browser/ui/sash/sash","vs/css!vs/base/browser/ui/scrollbar/media/scrollbars","vs/css!vs/base/browser/ui/selectBox/selectBox","vs/css!vs/base/browser/ui/selectBox/selectBoxCustom","vs/css!vs/base/browser/ui/splitview/splitview","vs/css!vs/base/browser/ui/table/table","vs/css!vs/base/browser/ui/toggle/toggle","vs/css!vs/base/browser/ui/toolbar/toolbar","vs/css!vs/base/browser/ui/tree/media/tree","vs/css!vs/editor/browser/controller/textAreaHandler","vs/css!vs/editor/browser/services/hoverService/hover","vs/css!vs/editor/browser/viewParts/blockDecorations/blockDecorations","vs/css!vs/editor/browser/viewParts/currentLineHighlight/currentLineHighlight","vs/css!vs/editor/browser/viewParts/decorations/decorations","vs/css!vs/editor/browser/viewParts/glyphMargin/glyphMargin","vs/css!vs/editor/browser/viewParts/indentGuides/indentGuides","vs/css!vs/editor/browser/viewParts/lineNumbers/lineNumbers","vs/css!vs/editor/browser/viewParts/lines/viewLines","vs/css!vs/editor/browser/viewParts/linesDecorations/linesDecorations","vs/css!vs/editor/browser/viewParts/margin/margin","vs/css!vs/editor/browser/viewParts/marginDecorations/marginDecorations","vs/css!vs/editor/browser/viewParts/minimap/minimap","vs/css!vs/editor/browser/viewParts/overlayWidgets/overlayWidgets","vs/css!vs/editor/browser/viewParts/rulers/rulers","vs/css!vs/editor/browser/viewParts/scrollDecoration/scrollDecoration","vs/css!vs/editor/browser/viewParts/selections/selections","vs/css!vs/editor/browser/viewParts/viewCursors/viewCursors","vs/css!vs/editor/browser/viewParts/whitespace/whitespace","vs/css!vs/editor/browser/widget/codeEditor/editor","vs/css!vs/editor/browser/widget/diffEditor/components/accessibleDiffViewer","vs/css!vs/editor/browser/widget/diffEditor/style","vs/css!vs/editor/browser/widget/markdownRenderer/browser/renderedMarkdown","vs/css!vs/editor/browser/widget/multiDiffEditor/style","vs/css!vs/editor/contrib/anchorSelect/browser/anchorSelect","vs/css!vs/editor/contrib/bracketMatching/browser/bracketMatching","vs/css!vs/editor/contrib/codeAction/browser/lightBulbWidget","vs/css!vs/editor/contrib/codelens/browser/codelensWidget","vs/css!vs/editor/contrib/dnd/browser/dnd","vs/css!vs/editor/contrib/dropOrPasteInto/browser/postEditWidget","vs/css!vs/editor/contrib/find/browser/findOptionsWidget","vs/css!vs/editor/contrib/find/browser/findWidget","vs/css!vs/editor/contrib/folding/browser/folding","vs/css!vs/editor/contrib/gotoError/browser/media/gotoErrorWidget","vs/css!vs/editor/contrib/gotoSymbol/browser/link/goToDefinitionAtPosition","vs/css!vs/editor/contrib/gotoSymbol/browser/peek/referencesWidget","vs/css!vs/editor/contrib/hover/browser/hover","vs/css!vs/editor/contrib/inPlaceReplace/browser/inPlaceReplace","vs/css!vs/editor/contrib/inlineCompletions/browser/ghostText","vs/css!vs/editor/contrib/inlineCompletions/browser/inlineCompletionsHintsWidget","vs/css!vs/editor/contrib/inlineEdit/browser/inlineEdit","vs/css!vs/editor/contrib/inlineEdit/browser/inlineEditHintsWidget","vs/css!vs/editor/contrib/inlineProgress/browser/inlineProgressWidget","vs/css!vs/editor/contrib/linkedEditing/browser/linkedEditing","vs/css!vs/editor/contrib/links/browser/links","vs/css!vs/editor/contrib/message/browser/messageController","vs/css!vs/editor/contrib/parameterHints/browser/parameterHints","vs/css!vs/editor/contrib/peekView/browser/media/peekViewWidget","vs/css!vs/editor/contrib/rename/browser/renameInputField","vs/css!vs/editor/contrib/snippet/browser/snippetSession","vs/css!vs/editor/contrib/stickyScroll/browser/stickyScroll","vs/css!vs/editor/contrib/suggest/browser/media/suggest","vs/css!vs/editor/contrib/symbolIcons/browser/symbolIcons","vs/css!vs/editor/contrib/unicodeHighlighter/browser/bannerController","vs/css!vs/editor/contrib/unicodeHighlighter/browser/unicodeHighlighter","vs/css!vs/editor/contrib/wordHighlighter/browser/highlightDecorations","vs/css!vs/editor/contrib/zoneWidget/browser/zoneWidget","vs/css!vs/editor/standalone/browser/iPadShowKeyboard/iPadShowKeyboard","vs/css!vs/editor/standalone/browser/inspectTokens/inspectTokens","vs/css!vs/editor/standalone/browser/quickInput/standaloneQuickInput","vs/css!vs/editor/standalone/browser/standalone-tokens","vs/css!vs/platform/actions/browser/menuEntryActionViewItem","vs/css!vs/platform/opener/browser/link","vs/css!vs/platform/severityIcon/browser/media/severityIcon","vs/editor/browser/config/charWidthReader","vs/editor/browser/config/migrateOptions","vs/editor/browser/viewParts/lines/domReadingContext","vs/editor/browser/viewParts/lines/rangeUtil","vs/editor/browser/viewParts/minimap/minimapCharRenderer","vs/editor/browser/viewParts/minimap/minimapPreBaked","vs/editor/browser/viewParts/minimap/minimapCharRendererFactory","vs/editor/browser/widget/diffEditor/delegatingEditorImpl","vs/editor/browser/widget/multiDiffEditor/objectPool","vs/editor/common/commands/trimTrailingWhitespaceCommand","vs/editor/common/commands/surroundSelectionCommand","vs/editor/common/core/positionToOffset","vs/editor/common/cursor/cursorContext","vs/editor/common/diff/defaultLinesDiffComputer/lineSequence","vs/editor/common/diff/defaultLinesDiffComputer/algorithms/dynamicProgrammingDiffing","vs/editor/common/diff/defaultLinesDiffComputer/computeMovedLines","vs/editor/common/diff/legacyLinesDiffComputer","vs/editor/common/diff/linesDiffComputers","vs/editor/common/editorTheme","vs/editor/common/languages/defaultDocumentColorsComputer","vs/editor/common/languages/linkComputer","vs/editor/common/cursor/cursorColumnSelection","vs/editor/common/cursor/oneCursor","vs/editor/common/cursor/cursorCollection","vs/editor/common/languages/supports/characterPair","vs/editor/common/languages/supports/indentRules","vs/editor/common/languages/supports/inplaceReplaceSupport","vs/editor/common/languages/supports/languageBracketsConfiguration","vs/editor/common/languages/supports/onEnter","vs/editor/common/languages/supports/tokenization","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/nodeReader","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/concat23Trees","vs/editor/common/model/bracketPairsTextModelPart/fixBrackets","vs/editor/common/model/fixedArray","vs/editor/common/model/indentationGuesser","vs/editor/common/model/intervalTree","vs/editor/common/model/pieceTreeTextBuffer/rbTreeBase","vs/editor/common/model/mirrorTextModel","vs/editor/common/model/textModelText","vs/editor/common/services/findSectionHeaders","vs/editor/common/textModelBracketPairs","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/bracketPairsTree","vs/editor/common/tokenizationRegistry","vs/editor/common/tokens/contiguousMultilineTokens","vs/editor/common/tokens/contiguousTokensEditing","vs/editor/common/tokens/contiguousTokensStore","vs/editor/common/tokens/sparseMultilineTokens","vs/editor/common/tokens/sparseTokensStore","vs/editor/browser/viewParts/blockDecorations/blockDecorations","vs/editor/browser/viewParts/decorations/decorations","vs/editor/browser/viewParts/linesDecorations/linesDecorations","vs/editor/browser/viewParts/marginDecorations/marginDecorations","vs/editor/browser/viewParts/rulers/rulers","vs/editor/browser/viewParts/scrollDecoration/scrollDecoration","vs/editor/browser/viewParts/viewZones/viewZones","vs/editor/common/viewLayout/linePart","vs/editor/common/viewLayout/linesLayout","vs/editor/common/viewLayout/viewLinesViewportData","vs/editor/common/viewModel/glyphLanesModel","vs/editor/common/viewModel/modelLineProjection","vs/editor/common/viewModel/monospaceLineBreaksComputer","vs/editor/browser/viewParts/overviewRuler/overviewRuler","vs/editor/common/viewModel/viewContext","vs/editor/common/viewLayout/viewLayout","vs/editor/contrib/caretOperations/browser/moveCaretCommand","vs/editor/contrib/colorPicker/browser/colorPickerModel","vs/editor/contrib/comment/browser/lineCommentCommand","vs/editor/contrib/dnd/browser/dragAndDropCommand","vs/editor/contrib/find/browser/replaceAllCommand","vs/editor/contrib/find/browser/replacePattern","vs/editor/contrib/folding/browser/hiddenRangeModel","vs/editor/contrib/inPlaceReplace/browser/inPlaceReplaceCommand","vs/editor/contrib/inlineEdit/browser/commandIds","vs/editor/contrib/linesOperations/browser/copyLinesCommand","vs/editor/contrib/linesOperations/browser/sortLinesCommand","vs/editor/contrib/smartSelect/browser/wordSelections","vs/editor/contrib/suggest/browser/suggestCommitCharacters","vs/editor/contrib/suggest/browser/suggestOvertypingCapturer","vs/editor/standalone/common/monarch/monarchCompile","vs/nls!vs/base/browser/ui/actionbar/actionViewItems","vs/nls!vs/base/browser/ui/findinput/findInput","vs/nls!vs/base/browser/ui/findinput/findInputToggles","vs/nls!vs/base/browser/ui/findinput/replaceInput","vs/nls!vs/base/browser/ui/hover/hoverWidget","vs/nls!vs/base/browser/ui/hover/updatableHoverWidget","vs/nls!vs/base/browser/ui/inputbox/inputBox","vs/nls!vs/base/browser/ui/keybindingLabel/keybindingLabel","vs/nls!vs/base/browser/ui/selectBox/selectBoxCustom","vs/nls!vs/base/browser/ui/toolbar/toolbar","vs/nls!vs/base/browser/ui/tree/abstractTree","vs/nls!vs/base/common/actions","vs/nls!vs/base/common/errorMessage","vs/base/common/errorMessage","vs/nls!vs/base/common/keybindingLabels","vs/nls!vs/base/common/platform","vs/base/browser/fonts","vs/base/browser/ui/scrollbar/scrollbarVisibilityController","vs/base/browser/ui/tree/compressedObjectTreeModel","vs/base/common/hotReload","vs/base/common/fuzzyScorer","vs/base/common/labels","vs/base/browser/ui/dropdown/dropdown","vs/base/browser/ui/list/rowCache","vs/base/browser/ui/progressbar/progressbar","vs/base/browser/ui/selectBox/selectBoxNative","vs/base/browser/ui/scrollbar/horizontalScrollbar","vs/base/browser/ui/scrollbar/verticalScrollbar","vs/base/browser/ui/list/listPaging","vs/base/browser/ui/selectBox/selectBoxCustom","vs/base/browser/ui/selectBox/selectBox","vs/base/browser/ui/menu/menu","vs/base/browser/ui/table/tableWidget","vs/base/browser/ui/findinput/replaceInput","vs/base/browser/ui/toolbar/toolbar","vs/base/browser/ui/tree/dataTree","vs/base/browser/ui/tree/asyncDataTree","vs/base/browser/defaultWorkerFactory","vs/base/parts/storage/common/storage","vs/editor/browser/viewParts/contentWidgets/contentWidgets","vs/editor/browser/viewParts/overlayWidgets/overlayWidgets","vs/editor/browser/widget/codeEditor/codeEditorContributions","vs/editor/browser/widget/diffEditor/components/diffEditorSash","vs/editor/browser/widget/diffEditor/utils/editorGutter","vs/editor/browser/view/domLineBreaksComputer","vs/editor/browser/view/viewOverlays","vs/editor/common/languageFeatureRegistry","vs/editor/common/languages/supports/electricCharacter","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsImpl","vs/editor/common/model/pieceTreeTextBuffer/pieceTreeTextBufferBuilder","vs/editor/common/services/semanticTokensDto","vs/editor/contrib/hover/browser/resizableContentWidget","vs/editor/contrib/inlineCompletions/browser/provideInlineCompletions","vs/nls!vs/editor/browser/controller/textAreaHandler","vs/nls!vs/editor/browser/coreCommands","vs/nls!vs/editor/browser/editorExtensions","vs/nls!vs/editor/browser/services/hoverService/hoverWidget","vs/nls!vs/editor/browser/widget/codeEditor/codeEditorWidget","vs/nls!vs/editor/browser/widget/diffEditor/commands","vs/nls!vs/editor/browser/widget/diffEditor/components/accessibleDiffViewer","vs/nls!vs/editor/browser/widget/diffEditor/components/diffEditorEditors","vs/nls!vs/editor/browser/widget/diffEditor/components/diffEditorViewZones/inlineDiffDeletedCodeMargin","vs/editor/browser/widget/diffEditor/components/diffEditorViewZones/inlineDiffDeletedCodeMargin","vs/nls!vs/editor/browser/widget/diffEditor/diffEditor.contribution","vs/nls!vs/editor/browser/widget/diffEditor/features/hideUnchangedRegionsFeature","vs/nls!vs/editor/browser/widget/diffEditor/features/movedBlocksLinesFeature","vs/nls!vs/editor/browser/widget/diffEditor/features/revertButtonsFeature","vs/editor/browser/widget/diffEditor/features/revertButtonsFeature","vs/nls!vs/editor/browser/widget/diffEditor/registrations.contribution","vs/nls!vs/editor/browser/widget/multiDiffEditor/colors","vs/nls!vs/editor/common/config/editorConfigurationSchema","vs/nls!vs/editor/common/config/editorOptions","vs/editor/browser/viewParts/viewCursors/viewCursor","vs/editor/browser/widget/diffEditor/diffEditorOptions","vs/nls!vs/editor/common/core/editorColorRegistry","vs/nls!vs/editor/common/editorContextKeys","vs/nls!vs/editor/common/languages","vs/editor/common/model/textModelTokens","vs/editor/common/model/tokenizationTextModelPart","vs/editor/common/services/editorSimpleWorker","vs/nls!vs/editor/common/languages/modesRegistry","vs/nls!vs/editor/common/model/editStack","vs/nls!vs/editor/common/standaloneStrings","vs/nls!vs/editor/common/viewLayout/viewLineRenderer","vs/editor/browser/widget/diffEditor/components/diffEditorViewZones/renderLines","vs/nls!vs/editor/contrib/anchorSelect/browser/anchorSelect","vs/nls!vs/editor/contrib/bracketMatching/browser/bracketMatching","vs/nls!vs/editor/contrib/caretOperations/browser/caretOperations","vs/nls!vs/editor/contrib/caretOperations/browser/transpose","vs/nls!vs/editor/contrib/clipboard/browser/clipboard","vs/nls!vs/editor/contrib/codeAction/browser/codeAction","vs/nls!vs/editor/contrib/codeAction/browser/codeActionCommands","vs/nls!vs/editor/contrib/codeAction/browser/codeActionContributions","vs/nls!vs/editor/contrib/codeAction/browser/codeActionController","vs/nls!vs/editor/contrib/codeAction/browser/codeActionMenu","vs/nls!vs/editor/contrib/codeAction/browser/lightBulbWidget","vs/nls!vs/editor/contrib/codelens/browser/codelensController","vs/nls!vs/editor/contrib/colorPicker/browser/colorPickerWidget","vs/nls!vs/editor/contrib/colorPicker/browser/standaloneColorPickerActions","vs/nls!vs/editor/contrib/comment/browser/comment","vs/nls!vs/editor/contrib/contextmenu/browser/contextmenu","vs/nls!vs/editor/contrib/cursorUndo/browser/cursorUndo","vs/nls!vs/editor/contrib/dropOrPasteInto/browser/copyPasteContribution","vs/nls!vs/editor/contrib/dropOrPasteInto/browser/copyPasteController","vs/nls!vs/editor/contrib/dropOrPasteInto/browser/defaultProviders","vs/nls!vs/editor/contrib/dropOrPasteInto/browser/dropIntoEditorContribution","vs/nls!vs/editor/contrib/dropOrPasteInto/browser/dropIntoEditorController","vs/nls!vs/editor/contrib/editorState/browser/keybindingCancellation","vs/nls!vs/editor/contrib/find/browser/findController","vs/nls!vs/editor/contrib/find/browser/findWidget","vs/nls!vs/editor/contrib/folding/browser/folding","vs/nls!vs/editor/contrib/folding/browser/foldingDecorations","vs/nls!vs/editor/contrib/fontZoom/browser/fontZoom","vs/nls!vs/editor/contrib/format/browser/formatActions","vs/nls!vs/editor/contrib/gotoError/browser/gotoError","vs/nls!vs/editor/contrib/gotoError/browser/gotoErrorWidget","vs/nls!vs/editor/contrib/gotoSymbol/browser/goToCommands","vs/nls!vs/editor/contrib/gotoSymbol/browser/link/goToDefinitionAtPosition","vs/nls!vs/editor/contrib/gotoSymbol/browser/peek/referencesController","vs/nls!vs/editor/contrib/gotoSymbol/browser/peek/referencesTree","vs/nls!vs/editor/contrib/gotoSymbol/browser/peek/referencesWidget","vs/nls!vs/editor/contrib/gotoSymbol/browser/referencesModel","vs/nls!vs/editor/contrib/gotoSymbol/browser/symbolNavigation","vs/nls!vs/editor/contrib/hover/browser/hover","vs/nls!vs/editor/contrib/hover/browser/markdownHoverParticipant","vs/nls!vs/editor/contrib/hover/browser/markerHoverParticipant","vs/nls!vs/editor/contrib/inPlaceReplace/browser/inPlaceReplace","vs/nls!vs/editor/contrib/indentation/browser/indentation","vs/nls!vs/editor/contrib/inlayHints/browser/inlayHintsHover","vs/nls!vs/editor/contrib/inlineCompletions/browser/commands","vs/nls!vs/editor/contrib/inlineCompletions/browser/hoverParticipant","vs/nls!vs/editor/contrib/inlineCompletions/browser/inlineCompletionContextKeys","vs/nls!vs/editor/contrib/inlineCompletions/browser/inlineCompletionsController","vs/nls!vs/editor/contrib/inlineCompletions/browser/inlineCompletionsHintsWidget","vs/nls!vs/editor/contrib/lineSelection/browser/lineSelection","vs/nls!vs/editor/contrib/linesOperations/browser/linesOperations","vs/nls!vs/editor/contrib/linkedEditing/browser/linkedEditing","vs/nls!vs/editor/contrib/links/browser/links","vs/nls!vs/editor/contrib/message/browser/messageController","vs/nls!vs/editor/contrib/multicursor/browser/multicursor","vs/nls!vs/editor/contrib/parameterHints/browser/parameterHints","vs/nls!vs/editor/contrib/parameterHints/browser/parameterHintsWidget","vs/nls!vs/editor/contrib/peekView/browser/peekView","vs/nls!vs/editor/contrib/quickAccess/browser/gotoLineQuickAccess","vs/nls!vs/editor/contrib/quickAccess/browser/gotoSymbolQuickAccess","vs/nls!vs/editor/contrib/readOnlyMessage/browser/contribution","vs/nls!vs/editor/contrib/rename/browser/rename","vs/nls!vs/editor/contrib/rename/browser/renameInputField","vs/nls!vs/editor/contrib/smartSelect/browser/smartSelect","vs/nls!vs/editor/contrib/snippet/browser/snippetController2","vs/nls!vs/editor/contrib/snippet/browser/snippetVariables","vs/nls!vs/editor/contrib/stickyScroll/browser/stickyScrollActions","vs/nls!vs/editor/contrib/suggest/browser/suggest","vs/nls!vs/editor/contrib/suggest/browser/suggestController","vs/nls!vs/editor/contrib/suggest/browser/suggestWidget","vs/nls!vs/editor/contrib/suggest/browser/suggestWidgetDetails","vs/nls!vs/editor/contrib/suggest/browser/suggestWidgetRenderer","vs/nls!vs/editor/contrib/suggest/browser/suggestWidgetStatus","vs/nls!vs/editor/contrib/symbolIcons/browser/symbolIcons","vs/nls!vs/editor/contrib/toggleTabFocusMode/browser/toggleTabFocusMode","vs/nls!vs/editor/contrib/tokenization/browser/tokenization","vs/nls!vs/editor/contrib/unicodeHighlighter/browser/unicodeHighlighter","vs/nls!vs/editor/contrib/unusualLineTerminators/browser/unusualLineTerminators","vs/nls!vs/editor/contrib/wordHighlighter/browser/highlightDecorations","vs/nls!vs/editor/contrib/wordHighlighter/browser/wordHighlighter","vs/nls!vs/editor/contrib/wordOperations/browser/wordOperations","vs/nls!vs/platform/accessibilitySignal/browser/accessibilitySignalService","vs/nls!vs/platform/action/common/actionCommonCategories","vs/nls!vs/platform/actionWidget/browser/actionList","vs/nls!vs/platform/actionWidget/browser/actionWidget","vs/nls!vs/platform/actions/browser/menuEntryActionViewItem","vs/nls!vs/platform/actions/browser/toolbar","vs/nls!vs/platform/actions/common/menuService","vs/nls!vs/platform/configuration/common/configurationRegistry","vs/nls!vs/platform/contextkey/browser/contextKeyService","vs/nls!vs/platform/contextkey/common/contextkey","vs/nls!vs/platform/contextkey/common/contextkeys","vs/nls!vs/platform/contextkey/common/scanner","vs/nls!vs/platform/history/browser/contextScopedHistoryWidget","vs/nls!vs/platform/keybinding/common/abstractKeybindingService","vs/nls!vs/platform/list/browser/listService","vs/nls!vs/platform/markers/common/markers","vs/nls!vs/platform/quickinput/browser/commandsQuickAccess","vs/nls!vs/platform/quickinput/browser/helpQuickAccess","vs/nls!vs/platform/quickinput/browser/quickInput","vs/nls!vs/platform/quickinput/browser/quickInputController","vs/nls!vs/platform/quickinput/browser/quickInputTree","vs/nls!vs/platform/quickinput/browser/quickInputUtils","vs/nls!vs/platform/theme/common/colors/baseColors","vs/nls!vs/platform/theme/common/colors/chartsColors","vs/nls!vs/platform/theme/common/colors/editorColors","vs/nls!vs/platform/theme/common/colors/inputColors","vs/nls!vs/platform/theme/common/colors/listColors","vs/nls!vs/platform/theme/common/colors/menuColors","vs/nls!vs/platform/theme/common/colors/minimapColors","vs/nls!vs/platform/theme/common/colors/miscColors","vs/nls!vs/platform/theme/common/colors/quickpickColors","vs/nls!vs/platform/theme/common/colors/searchColors","vs/nls!vs/platform/theme/common/iconRegistry","vs/nls!vs/platform/undoRedo/common/undoRedoService","vs/nls!vs/platform/workspace/common/workspace","vs/platform/action/common/action","vs/platform/action/common/actionCommonCategories","vs/platform/contextkey/common/scanner","vs/platform/editor/common/editor","vs/platform/extensions/common/extensions","vs/platform/history/browser/historyWidgetKeybindingHint","vs/platform/instantiation/common/graph","vs/editor/common/services/languageFeaturesService","vs/editor/common/services/treeViewsDndService","vs/editor/contrib/inlineEdit/browser/ghostTextWidget","vs/editor/contrib/links/browser/getLinks","vs/editor/standalone/browser/colorizer","vs/editor/contrib/parameterHints/browser/parameterHintsModel","vs/editor/contrib/suggest/browser/suggestAlternatives","vs/editor/contrib/suggest/browser/wordContextKey","vs/editor/browser/config/editorConfiguration","vs/platform/contextkey/browser/contextKeyService","vs/platform/instantiation/common/instantiationService","vs/platform/keybinding/common/baseResolvedKeybinding","vs/platform/keybinding/common/abstractKeybindingService","vs/platform/keybinding/common/usLayoutResolvedKeybinding","vs/platform/accessibility/browser/accessibilityService","vs/editor/contrib/diffEditorBreadcrumbs/browser/contribution","vs/editor/contrib/documentSymbols/browser/documentSymbols","vs/platform/clipboard/browser/clipboardService","vs/platform/log/common/logService","vs/editor/contrib/gotoError/browser/markerNavigationService","vs/platform/markers/common/markerService","vs/editor/browser/services/openerService","vs/platform/opener/browser/link","vs/platform/quickinput/browser/pickerQuickAccess","vs/platform/quickinput/browser/quickInputBox","vs/editor/browser/services/hoverService/hoverWidget","vs/editor/browser/services/webWorker","vs/editor/common/cursor/cursor","vs/editor/common/services/getIconClasses","vs/editor/common/services/languagesAssociations","vs/editor/common/services/languagesRegistry","vs/editor/common/services/languageService","vs/editor/contrib/hover/browser/marginHover","vs/editor/contrib/inlineCompletions/browser/inlineCompletionsSource","vs/editor/contrib/linesOperations/browser/moveLinesCommand","vs/platform/configuration/common/configurations","vs/editor/contrib/toggleTabFocusMode/browser/toggleTabFocusMode","vs/platform/quickinput/browser/helpQuickAccess","vs/editor/standalone/browser/quickAccess/standaloneHelpQuickAccess","vs/platform/quickinput/browser/quickAccess","vs/platform/severityIcon/browser/severityIcon","vs/editor/contrib/codelens/browser/codeLensCache","vs/platform/actions/common/menuService","vs/editor/browser/services/markerDecorations","vs/editor/browser/view/viewController","vs/editor/browser/widget/diffEditor/diffProviderFactoryService","vs/editor/contrib/anchorSelect/browser/anchorSelect","vs/editor/contrib/caretOperations/browser/caretOperations","vs/editor/contrib/caretOperations/browser/transpose","vs/editor/contrib/comment/browser/comment","vs/editor/contrib/cursorUndo/browser/cursorUndo","vs/editor/contrib/editorState/browser/keybindingCancellation","vs/editor/contrib/codeAction/browser/codeActionKeybindingResolver","vs/editor/contrib/fontZoom/browser/fontZoom","vs/editor/contrib/format/browser/formatActions","vs/editor/contrib/gotoSymbol/browser/symbolNavigation","vs/editor/contrib/indentation/browser/indentation","vs/editor/contrib/lineSelection/browser/lineSelection","vs/editor/contrib/linesOperations/browser/linesOperations","vs/editor/contrib/longLinesHelper/browser/longLinesHelper","vs/editor/contrib/readOnlyMessage/browser/contribution","vs/editor/contrib/smartSelect/browser/smartSelect","vs/editor/contrib/tokenization/browser/tokenization","vs/editor/contrib/unusualLineTerminators/browser/unusualLineTerminators","vs/editor/contrib/wordPartOperations/browser/wordPartOperations","vs/editor/standalone/browser/iPadShowKeyboard/iPadShowKeyboard","vs/editor/standalone/browser/inspectTokens/inspectTokens","vs/platform/quickinput/browser/commandsQuickAccess","vs/editor/contrib/quickAccess/browser/commandsQuickAccess","vs/editor/standalone/browser/quickAccess/standaloneCommandsQuickAccess","vs/platform/theme/common/colors/menuColors","vs/platform/theme/common/colors/chartsColors","vs/platform/theme/common/colors/quickpickColors","vs/platform/theme/common/colors/searchColors","vs/editor/browser/viewParts/minimap/minimap","vs/editor/browser/widget/multiDiffEditor/colors","vs/editor/contrib/codeAction/browser/codeActionMenu","vs/editor/contrib/gotoSymbol/browser/peek/referencesTree","vs/platform/actionWidget/browser/actionList","vs/platform/actionWidget/browser/actionWidget","vs/platform/contextview/browser/contextMenuHandler","vs/editor/browser/widget/diffEditor/components/accessibleDiffViewer","vs/editor/contrib/colorPicker/browser/colorPickerWidget","vs/editor/contrib/parameterHints/browser/parameterHintsWidget","vs/editor/contrib/parameterHints/browser/parameterHints","vs/editor/contrib/unicodeHighlighter/browser/bannerController","vs/platform/theme/browser/iconsStyleSheet","vs/editor/browser/controller/mouseHandler","vs/editor/browser/controller/pointerHandler","vs/editor/browser/viewParts/lines/viewLines","vs/editor/browser/services/abstractCodeEditorService","vs/editor/browser/services/hoverService/hoverService","vs/editor/browser/viewParts/editorScrollbar/editorScrollbar","vs/editor/browser/viewParts/selections/selections","vs/editor/browser/widget/diffEditor/components/diffEditorEditors","vs/editor/browser/viewParts/currentLineHighlight/currentLineHighlight","vs/editor/browser/viewParts/indentGuides/indentGuides","vs/editor/browser/controller/textAreaHandler","vs/editor/browser/viewParts/overviewRuler/decorationsOverviewRuler","vs/editor/browser/viewParts/viewCursors/viewCursors","vs/editor/browser/viewParts/whitespace/whitespace","vs/editor/browser/view","vs/editor/common/model/bracketPairsTextModelPart/colorizedBracketPairsDecorationProvider","vs/editor/common/services/markerDecorationsService","vs/editor/common/services/semanticTokensStylingService","vs/editor/contrib/quickAccess/browser/gotoLineQuickAccess","vs/editor/contrib/quickAccess/browser/gotoSymbolQuickAccess","vs/editor/contrib/rename/browser/renameInputField","vs/editor/contrib/rename/browser/rename","vs/editor/contrib/semanticTokens/browser/documentSemanticTokens","vs/editor/contrib/semanticTokens/browser/viewportSemanticTokens","vs/editor/contrib/suggest/browser/suggestWidgetRenderer","vs/editor/standalone/browser/quickAccess/standaloneGotoLineQuickAccess","vs/editor/standalone/browser/quickAccess/standaloneGotoSymbolQuickAccess","vs/editor/standalone/common/themes","vs/editor/standalone/browser/toggleHighContrast/toggleHighContrast","vs/editor/contrib/suggest/browser/suggestWidgetStatus","vs/editor/browser/widget/diffEditor/features/gutterFeature","vs/editor/contrib/inlineEdit/browser/commands","vs/editor/contrib/inlineEdit/browser/hoverParticipant","vs/editor/contrib/inlineEdit/browser/inlineEdit.contribution","vs/platform/contextview/browser/contextMenuService","vs/platform/quickinput/browser/quickInputController","vs/platform/quickinput/browser/quickInputService","vs/editor/standalone/browser/quickInput/standaloneQuickInputService","vs/editor/browser/widget/diffEditor/components/diffEditorDecorations","vs/editor/browser/widget/diffEditor/components/diffEditorViewZones/diffEditorViewZones","vs/editor/common/services/modelService","vs/editor/common/viewModel/viewModelLines","vs/editor/common/viewModel/viewModelImpl","vs/editor/browser/widget/diffEditor/commands","vs/editor/browser/widget/diffEditor/diffEditor.contribution","vs/editor/browser/widget/multiDiffEditor/multiDiffEditorWidgetImpl","vs/editor/browser/widget/multiDiffEditor/multiDiffEditorWidget","vs/editor/contrib/bracketMatching/browser/bracketMatching","vs/editor/contrib/codeAction/browser/codeActionCommands","vs/editor/contrib/codeAction/browser/codeActionContributions","vs/editor/contrib/codelens/browser/codelensWidget","vs/editor/contrib/codelens/browser/codelensController","vs/editor/contrib/dnd/browser/dnd","vs/editor/contrib/find/browser/findDecorations","vs/editor/contrib/find/browser/findOptionsWidget","vs/editor/contrib/find/browser/findState","vs/editor/contrib/find/browser/findWidget","vs/editor/contrib/colorPicker/browser/standaloneColorPickerWidget","vs/editor/contrib/colorPicker/browser/standaloneColorPickerActions","vs/editor/contrib/inPlaceReplace/browser/inPlaceReplace","vs/editor/contrib/dropOrPasteInto/browser/dropIntoEditorController","vs/editor/contrib/linkedEditing/browser/linkedEditing","vs/editor/contrib/links/browser/links","vs/editor/contrib/sectionHeaders/browser/sectionHeaders","vs/editor/contrib/stickyScroll/browser/stickyScrollModelProvider","vs/editor/contrib/stickyScroll/browser/stickyScrollProvider","vs/editor/contrib/stickyScroll/browser/stickyScrollWidget","vs/editor/contrib/suggest/browser/suggestWidget","vs/editor/contrib/multicursor/browser/multicursor","vs/editor/contrib/wordHighlighter/browser/wordHighlighter","vs/editor/contrib/zoneWidget/browser/zoneWidget","vs/editor/contrib/gotoError/browser/gotoErrorWidget","vs/editor/contrib/gotoSymbol/browser/peek/referencesWidget","vs/editor/contrib/hover/browser/markerHoverParticipant","vs/editor/contrib/colorPicker/browser/colorContributions","vs/editor/contrib/inlayHints/browser/inlayHintsHover","vs/editor/contrib/inlayHints/browser/inlayHintsContribution","vs/editor/contrib/stickyScroll/browser/stickyScrollActions","vs/editor/contrib/stickyScroll/browser/stickyScrollContribution","vs/editor/standalone/browser/referenceSearch/standaloneReferenceSearch","vs/platform/undoRedo/common/undoRedoService","vs/editor/contrib/contextmenu/browser/contextmenu","vs/editor/contrib/clipboard/browser/clipboard","vs/editor/contrib/dropOrPasteInto/browser/copyPasteContribution","vs/editor/contrib/dropOrPasteInto/browser/dropIntoEditorContribution","vs/editor/contrib/snippet/browser/snippetVariables","vs/editor/contrib/inlineCompletions/browser/inlineCompletionsModel","vs/editor/contrib/inlineCompletions/browser/suggestWidgetInlineCompletionProvider","vs/editor/contrib/inlineCompletions/browser/commands","vs/editor/contrib/inlineCompletions/browser/hoverParticipant","vs/editor/contrib/inlineCompletions/browser/inlineCompletions.contribution","vs/editor/contrib/suggest/browser/suggestInlineCompletions","vs/editor/contrib/unicodeHighlighter/browser/unicodeHighlighter","vs/editor/editor.all","vs/editor/standalone/browser/standaloneCodeEditor","vs/editor/standalone/browser/standaloneEditor","vs/editor/standalone/browser/standaloneLanguages","vs/editor/editor.api","vs/css","vs/editor/edcore.main"],ie=function(J){for(var e=[],m=0,k=J.length;m<k;m++)e[m]=te[J[m]];return e};define(te[986],ie([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.load=m;function m(p,w,C,b){if(b=b||{},(b["vs/css"]||{}).disabled){C({});return}const s=w.toUrl(p+".css");k(p,s,()=>{C({})},i=>{typeof C.error=="function"&&C.error("Could not find "+s+".")})}function k(p,w,C,b){if(D(p,w)){C();return}L(p,w,C,b)}function D(p,w){const C=window.document.getElementsByTagName("link");for(let b=0,a=C.length;b<a;b++){const s=C[b].getAttribute("data-name"),i=C[b].getAttribute("href");if(s===p||i===w)return!0}return!1}function L(p,w,C,b){const a=document.createElement("link");a.setAttribute("rel","stylesheet"),a.setAttribute("type","text/css"),a.setAttribute("data-name",p),y(p,a,C,b),a.setAttribute("href",w),(window.document.head||window.document.getElementsByTagName("head")[0]).appendChild(a)}function y(p,w,C,b){const a=()=>{w.removeEventListener("load",s),w.removeEventListener("error",i)},s=t=>{a(),C()},i=t=>{a(),b(t)};w.addEventListener("load",s),w.addEventListener("error",i)}}),define(te[3],ie([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.localize=b,e.localize2=a,e.getConfiguredDefaultLocale=s,e.setPseudoTranslation=i,e.create=t,e.load=n;let m=typeof document<"u"&&document.location&&document.location.hash.indexOf("pseudo=true")>=0;const k="i-default";function D(h,v){let u;return v.length===0?u=h:u=h.replace(/\{(\d+)\}/g,(d,r)=>{const l=r[0],o=v[l];let g=d;return typeof o=="string"?g=o:(typeof o=="number"||typeof o=="boolean"||o===void 0||o===null)&&(g=String(o)),g}),m&&(u="\uFF3B"+u.replace(/[aouei]/g,"$&$&")+"\uFF3D"),u}function L(h,v){let u=h[v];return u||(u=h["*"],u)?u:null}function y(h){return h.charAt(h.length-1)==="/"?h:h+"/"}async function p(h,v,u){const d=y(h)+y(v)+"vscode/"+y(u),r=await fetch(d);if(r.ok)return await r.json();throw new Error(`${r.status} - ${r.statusText}`)}function w(h){return function(v,u){const d=Array.prototype.slice.call(arguments,2);return D(h[v],d)}}function C(h){return(v,u,...d)=>({value:D(h[v],d),original:D(u,d)})}function b(h,v,...u){return D(v,u)}function a(h,v,...u){const d=D(v,u);return{value:d,original:d}}function s(h){}function i(h){m=h}function t(h,v){var u;return{localize:w(v[h]),localize2:C(v[h]),getConfiguredDefaultLocale:(u=v.getConfiguredDefaultLocale)!==null&&u!==void 0?u:d=>{}}}function n(h,v,u,d){var r;const l=(r=d["vs/nls"])!==null&&r!==void 0?r:{};if(!h||h.length===0)return u({localize:b,localize2:a,getConfiguredDefaultLocale:()=>{var _;return(_=l.availableLanguages)===null||_===void 0?void 0:_["*"]}});const o=l.availableLanguages?L(l.availableLanguages,h):null,g=o===null||o===k;let c=".nls";g||(c=c+"."+o);const f=_=>{Array.isArray(_)?(_.localize=w(_),_.localize2=C(_)):(_.localize=w(_[h]),_.localize2=C(_[h])),_.getConfiguredDefaultLocale=()=>{var S;return(S=l.availableLanguages)===null||S===void 0?void 0:S["*"]},u(_)};typeof l.loadBundle=="function"?l.loadBundle(h,o,(_,S)=>{_?v([h+".nls"],f):f(S)}):l.translationServiceUrl&&!g?(async()=>{var _;try{const S=await p(l.translationServiceUrl,o,h);return f(S)}catch(S){if(!o.includes("-"))return console.error(S),v([h+".nls"],f);try{const I=o.split("-")[0],E=await p(l.translationServiceUrl,I,h);return(_=l.availableLanguages)!==null&&_!==void 0||(l.availableLanguages={}),l.availableLanguages["*"]=I,f(E)}catch(I){return console.error(I),v([h+".nls"],f)}}})():v([h+c],f,_=>{if(c===".nls"){console.error("Failed trying to load default language strings",_);return}console.error(`Failed to load message bundle for language ${o}. Falling back to the default language:`,_),v([h+".nls"],f)})}});/*! @license DOMPurify 3.0.5 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.0.5/LICENSE */const{entries:Ht,setPrototypeOf:Vt,isFrozen:Qt,getPrototypeOf:Xt,getOwnPropertyDescriptor:Jt}=Object;let{freeze:ft,seal:wt,create:ei}=Object,{apply:At,construct:Rt}=typeof Reflect<"u"&&Reflect;At||(At=function(e,m,k){return e.apply(m,k)}),ft||(ft=function(e){return e}),wt||(wt=function(e){return e}),Rt||(Rt=function(e,m){return new e(...m)});const ti=bt(Array.prototype.forEach),zt=bt(Array.prototype.pop),It=bt(Array.prototype.push),Tt=bt(String.prototype.toLowerCase),Pt=bt(String.prototype.toString),ii=bt(String.prototype.match),yt=bt(String.prototype.replace),ni=bt(String.prototype.indexOf),si=bt(String.prototype.trim),vt=bt(RegExp.prototype.test),kt=oi(TypeError);function bt(J){return function(e){for(var m=arguments.length,k=new Array(m>1?m-1:0),D=1;D<m;D++)k[D-1]=arguments[D];return At(J,e,k)}}function oi(J){return function(){for(var e=arguments.length,m=new Array(e),k=0;k<e;k++)m[k]=arguments[k];return Rt(J,m)}}function Xe(J,e,m){var k;m=(k=m)!==null&&k!==void 0?k:Tt,Vt&&Vt(J,null);let D=e.length;for(;D--;){let L=e[D];if(typeof L=="string"){const y=m(L);y!==L&&(Qt(e)||(e[D]=y),L=y)}J[L]=!0}return J}function Et(J){const e=ei(null);for(const[m,k]of Ht(J))e[m]=k;return e}function Mt(J,e){for(;J!==null;){const k=Jt(J,e);if(k){if(k.get)return bt(k.get);if(typeof k.value=="function")return bt(k.value)}J=Xt(J)}function m(k){return console.warn("fallback value for",k),null}return m}const Kt=ft(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Ot=ft(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Ft=ft(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),ri=ft(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),xt=ft(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),ai=ft(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),qt=ft(["#text"]),Ut=ft(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),Bt=ft(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),jt=ft(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Nt=ft(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),li=wt(/\{\{[\w\W]*|[\w\W]*\}\}/gm),di=wt(/<%[\w\W]*|[\w\W]*%>/gm),ci=wt(/\${[\w\W]*}/gm),ui=wt(/^data-[\-\w.\u00B7-\uFFFF]/),hi=wt(/^aria-[\-\w]+$/),Gt=wt(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),gi=wt(/^(?:\w+script|data):/i),fi=wt(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),$t=wt(/^html$/i);var Zt=Object.freeze({__proto__:null,MUSTACHE_EXPR:li,ERB_EXPR:di,TMPLIT_EXPR:ci,DATA_ATTR:ui,ARIA_ATTR:hi,IS_ALLOWED_URI:Gt,IS_SCRIPT_OR_DATA:gi,ATTR_WHITESPACE:fi,DOCTYPE_NAME:$t});const mi=()=>typeof window>"u"?null:window,pi=function(e,m){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let k=null;const D="data-tt-policy-suffix";m&&m.hasAttribute(D)&&(k=m.getAttribute(D));const L="dompurify"+(k?"#"+k:"");try{return e.createPolicy(L,{createHTML(y){return y},createScriptURL(y){return y}})}catch{return console.warn("TrustedTypes policy "+L+" could not be created."),null}};function Yt(){let J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:mi();const e=Te=>Yt(Te);if(e.version="3.0.5",e.removed=[],!J||!J.document||J.document.nodeType!==9)return e.isSupported=!1,e;const m=J.document,k=m.currentScript;let{document:D}=J;const{DocumentFragment:L,HTMLTemplateElement:y,Node:p,Element:w,NodeFilter:C,NamedNodeMap:b=J.NamedNodeMap||J.MozNamedAttrMap,HTMLFormElement:a,DOMParser:s,trustedTypes:i}=J,t=w.prototype,n=Mt(t,"cloneNode"),h=Mt(t,"nextSibling"),v=Mt(t,"childNodes"),u=Mt(t,"parentNode");if(typeof y=="function"){const Te=D.createElement("template");Te.content&&Te.content.ownerDocument&&(D=Te.content.ownerDocument)}let d,r="";const{implementation:l,createNodeIterator:o,createDocumentFragment:g,getElementsByTagName:c}=D,{importNode:f}=m;let _={};e.isSupported=typeof Ht=="function"&&typeof u=="function"&&l&&l.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:S,ERB_EXPR:I,TMPLIT_EXPR:E,DATA_ATTR:T,ARIA_ATTR:N,IS_SCRIPT_OR_DATA:A,ATTR_WHITESPACE:O}=Zt;let{IS_ALLOWED_URI:M}=Zt,P=null;const x=Xe({},[...Kt,...Ot,...Ft,...xt,...qt]);let R=null;const B=Xe({},[...Ut,...Bt,...jt,...Nt]);let H=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),V=null,q=null,K=!0,U=!0,$=!1,se=!0,F=!1,X=!1,Q=!1,Z=!1,ae=!1,ue=!1,ge=!1,fe=!0,re=!1;const de="user-content-";let ee=!0,W=!1,z={},Y=null;const j=Xe({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let G=null;const oe=Xe({},["audio","video","img","source","image","track"]);let ne=null;const ce=Xe({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),le="http://www.w3.org/1998/Math/MathML",me="http://www.w3.org/2000/svg",ve="http://www.w3.org/1999/xhtml";let Ce=ve,Se=!1,_e=null;const Le=Xe({},[le,me,ve],Pt);let ke;const Ae=["application/xhtml+xml","text/html"],xe="text/html";let He,Be=null;const Ee=D.createElement("form"),Ne=function(De){return De instanceof RegExp||De instanceof Function},pe=function(De){if(!(Be&&Be===De)){if((!De||typeof De!="object")&&(De={}),De=Et(De),ke=Ae.indexOf(De.PARSER_MEDIA_TYPE)===-1?ke=xe:ke=De.PARSER_MEDIA_TYPE,He=ke==="application/xhtml+xml"?Pt:Tt,P="ALLOWED_TAGS"in De?Xe({},De.ALLOWED_TAGS,He):x,R="ALLOWED_ATTR"in De?Xe({},De.ALLOWED_ATTR,He):B,_e="ALLOWED_NAMESPACES"in De?Xe({},De.ALLOWED_NAMESPACES,Pt):Le,ne="ADD_URI_SAFE_ATTR"in De?Xe(Et(ce),De.ADD_URI_SAFE_ATTR,He):ce,G="ADD_DATA_URI_TAGS"in De?Xe(Et(oe),De.ADD_DATA_URI_TAGS,He):oe,Y="FORBID_CONTENTS"in De?Xe({},De.FORBID_CONTENTS,He):j,V="FORBID_TAGS"in De?Xe({},De.FORBID_TAGS,He):{},q="FORBID_ATTR"in De?Xe({},De.FORBID_ATTR,He):{},z="USE_PROFILES"in De?De.USE_PROFILES:!1,K=De.ALLOW_ARIA_ATTR!==!1,U=De.ALLOW_DATA_ATTR!==!1,$=De.ALLOW_UNKNOWN_PROTOCOLS||!1,se=De.ALLOW_SELF_CLOSE_IN_ATTR!==!1,F=De.SAFE_FOR_TEMPLATES||!1,X=De.WHOLE_DOCUMENT||!1,ae=De.RETURN_DOM||!1,ue=De.RETURN_DOM_FRAGMENT||!1,ge=De.RETURN_TRUSTED_TYPE||!1,Z=De.FORCE_BODY||!1,fe=De.SANITIZE_DOM!==!1,re=De.SANITIZE_NAMED_PROPS||!1,ee=De.KEEP_CONTENT!==!1,W=De.IN_PLACE||!1,M=De.ALLOWED_URI_REGEXP||Gt,Ce=De.NAMESPACE||ve,H=De.CUSTOM_ELEMENT_HANDLING||{},De.CUSTOM_ELEMENT_HANDLING&&Ne(De.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(H.tagNameCheck=De.CUSTOM_ELEMENT_HANDLING.tagNameCheck),De.CUSTOM_ELEMENT_HANDLING&&Ne(De.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(H.attributeNameCheck=De.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),De.CUSTOM_ELEMENT_HANDLING&&typeof De.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(H.allowCustomizedBuiltInElements=De.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),F&&(U=!1),ue&&(ae=!0),z&&(P=Xe({},[...qt]),R=[],z.html===!0&&(Xe(P,Kt),Xe(R,Ut)),z.svg===!0&&(Xe(P,Ot),Xe(R,Bt),Xe(R,Nt)),z.svgFilters===!0&&(Xe(P,Ft),Xe(R,Bt),Xe(R,Nt)),z.mathMl===!0&&(Xe(P,xt),Xe(R,jt),Xe(R,Nt))),De.ADD_TAGS&&(P===x&&(P=Et(P)),Xe(P,De.ADD_TAGS,He)),De.ADD_ATTR&&(R===B&&(R=Et(R)),Xe(R,De.ADD_ATTR,He)),De.ADD_URI_SAFE_ATTR&&Xe(ne,De.ADD_URI_SAFE_ATTR,He),De.FORBID_CONTENTS&&(Y===j&&(Y=Et(Y)),Xe(Y,De.FORBID_CONTENTS,He)),ee&&(P["#text"]=!0),X&&Xe(P,["html","head","body"]),P.table&&(Xe(P,["tbody"]),delete V.tbody),De.TRUSTED_TYPES_POLICY){if(typeof De.TRUSTED_TYPES_POLICY.createHTML!="function")throw kt('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof De.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw kt('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');d=De.TRUSTED_TYPES_POLICY,r=d.createHTML("")}else d===void 0&&(d=pi(i,k)),d!==null&&typeof r=="string"&&(r=d.createHTML(""));ft&&ft(De),Be=De}},be=Xe({},["mi","mo","mn","ms","mtext"]),Re=Xe({},["foreignobject","desc","title","annotation-xml"]),We=Xe({},["title","style","font","a","script"]),qe=Xe({},Ot);Xe(qe,Ft),Xe(qe,ri);const je=Xe({},xt);Xe(je,ai);const Ze=function(De){let Oe=u(De);(!Oe||!Oe.tagName)&&(Oe={namespaceURI:Ce,tagName:"template"});const Pe=Tt(De.tagName),ze=Tt(Oe.tagName);return _e[De.namespaceURI]?De.namespaceURI===me?Oe.namespaceURI===ve?Pe==="svg":Oe.namespaceURI===le?Pe==="svg"&&(ze==="annotation-xml"||be[ze]):!!qe[Pe]:De.namespaceURI===le?Oe.namespaceURI===ve?Pe==="math":Oe.namespaceURI===me?Pe==="math"&&Re[ze]:!!je[Pe]:De.namespaceURI===ve?Oe.namespaceURI===me&&!Re[ze]||Oe.namespaceURI===le&&!be[ze]?!1:!je[Pe]&&(We[Pe]||!qe[Pe]):!!(ke==="application/xhtml+xml"&&_e[De.namespaceURI]):!1},Je=function(De){It(e.removed,{element:De});try{De.parentNode.removeChild(De)}catch{De.remove()}},st=function(De,Oe){try{It(e.removed,{attribute:Oe.getAttributeNode(De),from:Oe})}catch{It(e.removed,{attribute:null,from:Oe})}if(Oe.removeAttribute(De),De==="is"&&!R[De])if(ae||ue)try{Je(Oe)}catch{}else try{Oe.setAttribute(De,"")}catch{}},rt=function(De){let Oe,Pe;if(Z)De="<remove></remove>"+De;else{const $e=ii(De,/^[\r\n\t ]+/);Pe=$e&&$e[0]}ke==="application/xhtml+xml"&&Ce===ve&&(De='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+De+"</body></html>");const ze=d?d.createHTML(De):De;if(Ce===ve)try{Oe=new s().parseFromString(ze,ke)}catch{}if(!Oe||!Oe.documentElement){Oe=l.createDocument(Ce,"template",null);try{Oe.documentElement.innerHTML=Se?r:ze}catch{}}const Ue=Oe.body||Oe.documentElement;return De&&Pe&&Ue.insertBefore(D.createTextNode(Pe),Ue.childNodes[0]||null),Ce===ve?c.call(Oe,X?"html":"body")[0]:X?Oe.documentElement:Ue},pt=function(De){return o.call(De.ownerDocument||De,De,C.SHOW_ELEMENT|C.SHOW_COMMENT|C.SHOW_TEXT,null,!1)},et=function(De){return De instanceof a&&(typeof De.nodeName!="string"||typeof De.textContent!="string"||typeof De.removeChild!="function"||!(De.attributes instanceof b)||typeof De.removeAttribute!="function"||typeof De.setAttribute!="function"||typeof De.namespaceURI!="string"||typeof De.insertBefore!="function"||typeof De.hasChildNodes!="function")},ut=function(De){return typeof p=="object"?De instanceof p:De&&typeof De=="object"&&typeof De.nodeType=="number"&&typeof De.nodeName=="string"},ot=function(De,Oe,Pe){_[De]&&ti(_[De],ze=>{ze.call(e,Oe,Pe,Be)})},_t=function(De){let Oe;if(ot("beforeSanitizeElements",De,null),et(De))return Je(De),!0;const Pe=He(De.nodeName);if(ot("uponSanitizeElement",De,{tagName:Pe,allowedTags:P}),De.hasChildNodes()&&!ut(De.firstElementChild)&&(!ut(De.content)||!ut(De.content.firstElementChild))&&vt(/<[/\w]/g,De.innerHTML)&&vt(/<[/\w]/g,De.textContent))return Je(De),!0;if(!P[Pe]||V[Pe]){if(!V[Pe]&&ye(Pe)&&(H.tagNameCheck instanceof RegExp&&vt(H.tagNameCheck,Pe)||H.tagNameCheck instanceof Function&&H.tagNameCheck(Pe)))return!1;if(ee&&!Y[Pe]){const ze=u(De)||De.parentNode,Ue=v(De)||De.childNodes;if(Ue&&ze){const $e=Ue.length;for(let Qe=$e-1;Qe>=0;--Qe)ze.insertBefore(n(Ue[Qe],!0),h(De))}}return Je(De),!0}return De instanceof w&&!Ze(De)||(Pe==="noscript"||Pe==="noembed"||Pe==="noframes")&&vt(/<\/no(script|embed|frames)/i,De.innerHTML)?(Je(De),!0):(F&&De.nodeType===3&&(Oe=De.textContent,Oe=yt(Oe,S," "),Oe=yt(Oe,I," "),Oe=yt(Oe,E," "),De.textContent!==Oe&&(It(e.removed,{element:De.cloneNode()}),De.textContent=Oe)),ot("afterSanitizeElements",De,null),!1)},St=function(De,Oe,Pe){if(fe&&(Oe==="id"||Oe==="name")&&(Pe in D||Pe in Ee))return!1;if(!(U&&!q[Oe]&&vt(T,Oe))){if(!(K&&vt(N,Oe))){if(!R[Oe]||q[Oe]){if(!(ye(De)&&(H.tagNameCheck instanceof RegExp&&vt(H.tagNameCheck,De)||H.tagNameCheck instanceof Function&&H.tagNameCheck(De))&&(H.attributeNameCheck instanceof RegExp&&vt(H.attributeNameCheck,Oe)||H.attributeNameCheck instanceof Function&&H.attributeNameCheck(Oe))||Oe==="is"&&H.allowCustomizedBuiltInElements&&(H.tagNameCheck instanceof RegExp&&vt(H.tagNameCheck,Pe)||H.tagNameCheck instanceof Function&&H.tagNameCheck(Pe))))return!1}else if(!ne[Oe]){if(!vt(M,yt(Pe,O,""))){if(!((Oe==="src"||Oe==="xlink:href"||Oe==="href")&&De!=="script"&&ni(Pe,"data:")===0&&G[De])){if(!($&&!vt(A,yt(Pe,O,"")))){if(Pe)return!1}}}}}}return!0},ye=function(De){return De.indexOf("-")>0},we=function(De){let Oe,Pe,ze,Ue;ot("beforeSanitizeAttributes",De,null);const{attributes:$e}=De;if(!$e)return;const Qe={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:R};for(Ue=$e.length;Ue--;){Oe=$e[Ue];const{name:Ye,namespaceURI:Fe}=Oe;if(Pe=Ye==="value"?Oe.value:si(Oe.value),ze=He(Ye),Qe.attrName=ze,Qe.attrValue=Pe,Qe.keepAttr=!0,Qe.forceKeepAttr=void 0,ot("uponSanitizeAttribute",De,Qe),Pe=Qe.attrValue,Qe.forceKeepAttr||(st(Ye,De),!Qe.keepAttr))continue;if(!se&&vt(/\/>/i,Pe)){st(Ye,De);continue}F&&(Pe=yt(Pe,S," "),Pe=yt(Pe,I," "),Pe=yt(Pe,E," "));const Ve=He(De.nodeName);if(St(Ve,ze,Pe)){if(re&&(ze==="id"||ze==="name")&&(st(Ye,De),Pe=de+Pe),d&&typeof i=="object"&&typeof i.getAttributeType=="function"&&!Fe)switch(i.getAttributeType(Ve,ze)){case"TrustedHTML":{Pe=d.createHTML(Pe);break}case"TrustedScriptURL":{Pe=d.createScriptURL(Pe);break}}try{Fe?De.setAttributeNS(Fe,Ye,Pe):De.setAttribute(Ye,Pe),zt(e.removed)}catch{}}}ot("afterSanitizeAttributes",De,null)},Me=function Te(De){let Oe;const Pe=pt(De);for(ot("beforeSanitizeShadowDOM",De,null);Oe=Pe.nextNode();)ot("uponSanitizeShadowNode",Oe,null),!_t(Oe)&&(Oe.content instanceof L&&Te(Oe.content),we(Oe));ot("afterSanitizeShadowDOM",De,null)};return e.sanitize=function(Te){let De=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Oe,Pe,ze,Ue;if(Se=!Te,Se&&(Te="<!-->"),typeof Te!="string"&&!ut(Te))if(typeof Te.toString=="function"){if(Te=Te.toString(),typeof Te!="string")throw kt("dirty is not a string, aborting")}else throw kt("toString is not a function");if(!e.isSupported)return Te;if(Q||pe(De),e.removed=[],typeof Te=="string"&&(W=!1),W){if(Te.nodeName){const Ye=He(Te.nodeName);if(!P[Ye]||V[Ye])throw kt("root node is forbidden and cannot be sanitized in-place")}}else if(Te instanceof p)Oe=rt("<!---->"),Pe=Oe.ownerDocument.importNode(Te,!0),Pe.nodeType===1&&Pe.nodeName==="BODY"||Pe.nodeName==="HTML"?Oe=Pe:Oe.appendChild(Pe);else{if(!ae&&!F&&!X&&Te.indexOf("<")===-1)return d&&ge?d.createHTML(Te):Te;if(Oe=rt(Te),!Oe)return ae?null:ge?r:""}Oe&&Z&&Je(Oe.firstChild);const $e=pt(W?Te:Oe);for(;ze=$e.nextNode();)_t(ze)||(ze.content instanceof L&&Me(ze.content),we(ze));if(W)return Te;if(ae){if(ue)for(Ue=g.call(Oe.ownerDocument);Oe.firstChild;)Ue.appendChild(Oe.firstChild);else Ue=Oe;return(R.shadowroot||R.shadowrootmode)&&(Ue=f.call(m,Ue,!0)),Ue}let Qe=X?Oe.outerHTML:Oe.innerHTML;return X&&P["!doctype"]&&Oe.ownerDocument&&Oe.ownerDocument.doctype&&Oe.ownerDocument.doctype.name&&vt($t,Oe.ownerDocument.doctype.name)&&(Qe="<!DOCTYPE "+Oe.ownerDocument.doctype.name+`>
`+Qe),F&&(Qe=yt(Qe,S," "),Qe=yt(Qe,I," "),Qe=yt(Qe,E," ")),d&&ge?d.createHTML(Qe):Qe},e.setConfig=function(Te){pe(Te),Q=!0},e.clearConfig=function(){Be=null,Q=!1},e.isValidAttribute=function(Te,De,Oe){Be||pe({});const Pe=He(Te),ze=He(De);return St(Pe,ze,Oe)},e.addHook=function(Te,De){typeof De=="function"&&(_[Te]=_[Te]||[],It(_[Te],De))},e.removeHook=function(Te){if(_[Te])return zt(_[Te])},e.removeHooks=function(Te){_[Te]&&(_[Te]=[])},e.removeAllHooks=function(){_={}},e}var vi=Yt();define("vs/base/browser/dompurify/dompurify",function(){return vi}),define(te[40],ie([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FastDomNode=void 0,e.createFastDomNode=D;class m{constructor(y){this.domNode=y,this._maxWidth="",this._width="",this._height="",this._top="",this._left="",this._bottom="",this._right="",this._paddingLeft="",this._fontFamily="",this._fontWeight="",this._fontSize="",this._fontStyle="",this._fontFeatureSettings="",this._fontVariationSettings="",this._textDecoration="",this._lineHeight="",this._letterSpacing="",this._className="",this._display="",this._position="",this._visibility="",this._color="",this._backgroundColor="",this._layerHint=!1,this._contain="none",this._boxShadow=""}setMaxWidth(y){const p=k(y);this._maxWidth!==p&&(this._maxWidth=p,this.domNode.style.maxWidth=this._maxWidth)}setWidth(y){const p=k(y);this._width!==p&&(this._width=p,this.domNode.style.width=this._width)}setHeight(y){const p=k(y);this._height!==p&&(this._height=p,this.domNode.style.height=this._height)}setTop(y){const p=k(y);this._top!==p&&(this._top=p,this.domNode.style.top=this._top)}setLeft(y){const p=k(y);this._left!==p&&(this._left=p,this.domNode.style.left=this._left)}setBottom(y){const p=k(y);this._bottom!==p&&(this._bottom=p,this.domNode.style.bottom=this._bottom)}setRight(y){const p=k(y);this._right!==p&&(this._right=p,this.domNode.style.right=this._right)}setPaddingLeft(y){const p=k(y);this._paddingLeft!==p&&(this._paddingLeft=p,this.domNode.style.paddingLeft=this._paddingLeft)}setFontFamily(y){this._fontFamily!==y&&(this._fontFamily=y,this.domNode.style.fontFamily=this._fontFamily)}setFontWeight(y){this._fontWeight!==y&&(this._fontWeight=y,this.domNode.style.fontWeight=this._fontWeight)}setFontSize(y){const p=k(y);this._fontSize!==p&&(this._fontSize=p,this.domNode.style.fontSize=this._fontSize)}setFontStyle(y){this._fontStyle!==y&&(this._fontStyle=y,this.domNode.style.fontStyle=this._fontStyle)}setFontFeatureSettings(y){this._fontFeatureSettings!==y&&(this._fontFeatureSettings=y,this.domNode.style.fontFeatureSettings=this._fontFeatureSettings)}setFontVariationSettings(y){this._fontVariationSettings!==y&&(this._fontVariationSettings=y,this.domNode.style.fontVariationSettings=this._fontVariationSettings)}setTextDecoration(y){this._textDecoration!==y&&(this._textDecoration=y,this.domNode.style.textDecoration=this._textDecoration)}setLineHeight(y){const p=k(y);this._lineHeight!==p&&(this._lineHeight=p,this.domNode.style.lineHeight=this._lineHeight)}setLetterSpacing(y){const p=k(y);this._letterSpacing!==p&&(this._letterSpacing=p,this.domNode.style.letterSpacing=this._letterSpacing)}setClassName(y){this._className!==y&&(this._className=y,this.domNode.className=this._className)}toggleClassName(y,p){this.domNode.classList.toggle(y,p),this._className=this.domNode.className}setDisplay(y){this._display!==y&&(this._display=y,this.domNode.style.display=this._display)}setPosition(y){this._position!==y&&(this._position=y,this.domNode.style.position=this._position)}setVisibility(y){this._visibility!==y&&(this._visibility=y,this.domNode.style.visibility=this._visibility)}setColor(y){this._color!==y&&(this._color=y,this.domNode.style.color=this._color)}setBackgroundColor(y){this._backgroundColor!==y&&(this._backgroundColor=y,this.domNode.style.backgroundColor=this._backgroundColor)}setLayerHinting(y){this._layerHint!==y&&(this._layerHint=y,this.domNode.style.transform=this._layerHint?"translate3d(0px, 0px, 0px)":"")}setBoxShadow(y){this._boxShadow!==y&&(this._boxShadow=y,this.domNode.style.boxShadow=y)}setContain(y){this._contain!==y&&(this._contain=y,this.domNode.style.contain=this._contain)}setAttribute(y,p){this.domNode.setAttribute(y,p)}removeAttribute(y){this.domNode.removeAttribute(y)}appendChild(y){this.domNode.appendChild(y.domNode)}removeChild(y){this.domNode.removeChild(y.domNode)}}e.FastDomNode=m;function k(L){return typeof L=="number"?`${L}px`:L}function D(L){return new m(L)}}),define(te[414],ie([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IframeUtils=void 0;const m=new WeakMap;function k(L){if(!L.parent||L.parent===L)return null;try{const y=L.location,p=L.parent.location;if(y.origin!=="null"&&p.origin!=="null"&&y.origin!==p.origin)return null}catch{return null}return L.parent}class D{static getSameOriginWindowChain(y){let p=m.get(y);if(!p){p=[],m.set(y,p);let w=y,C;do C=k(w),C?p.push({window:new WeakRef(w),iframeElement:w.frameElement||null}):p.push({window:new WeakRef(w),iframeElement:null}),w=C;while(w)}return p.slice(0)}static getPositionOfChildWindowRelativeToAncestorWindow(y,p){var w,C;if(!p||y===p)return{top:0,left:0};let b=0,a=0;const s=this.getSameOriginWindowChain(y);for(const i of s){const t=i.window.deref();if(b+=(w=t?.scrollY)!==null&&w!==void 0?w:0,a+=(C=t?.scrollX)!==null&&C!==void 0?C:0,t===p||!i.iframeElement)break;const n=i.iframeElement.getBoundingClientRect();b+=n.top,a+=n.left}return{top:b,left:a}}}e.IframeUtils=D}),define(te[283],ie([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.inputLatency=void 0;var m;(function(k){const D={total:0,min:Number.MAX_VALUE,max:0},L={...D},y={...D},p={...D};let w=0;const C={keydown:0,input:0,render:0};function b(){r(),performance.mark("inputlatency/start"),performance.mark("keydown/start"),C.keydown=1,queueMicrotask(a)}k.onKeyDown=b;function a(){C.keydown===1&&(performance.mark("keydown/end"),C.keydown=2)}function s(){performance.mark("input/start"),C.input=1,d()}k.onBeforeInput=s;function i(){C.input===0&&s(),queueMicrotask(t)}k.onInput=i;function t(){C.input===1&&(performance.mark("input/end"),C.input=2)}function n(){r()}k.onKeyUp=n;function h(){r()}k.onSelectionChange=h;function v(){C.keydown===2&&C.input===2&&C.render===0&&(performance.mark("render/start"),C.render=1,queueMicrotask(u),d())}k.onRenderStart=v;function u(){C.render===1&&(performance.mark("render/end"),C.render=2)}function d(){setTimeout(r)}function r(){C.keydown===2&&C.input===2&&C.render===2&&(performance.mark("inputlatency/end"),performance.measure("keydown","keydown/start","keydown/end"),performance.measure("input","input/start","input/end"),performance.measure("render","render/start","render/end"),performance.measure("inputlatency","inputlatency/start","inputlatency/end"),l("keydown",D),l("input",L),l("render",y),l("inputlatency",p),w++,o())}function l(_,S){const I=performance.getEntriesByName(_)[0].duration;S.total+=I,S.min=Math.min(S.min,I),S.max=Math.max(S.max,I)}function o(){performance.clearMarks("keydown/start"),performance.clearMarks("keydown/end"),performance.clearMarks("input/start"),performance.clearMarks("input/end"),performance.clearMarks("render/start"),performance.clearMarks("render/end"),performance.clearMarks("inputlatency/start"),performance.clearMarks("inputlatency/end"),performance.clearMeasures("keydown"),performance.clearMeasures("input"),performance.clearMeasures("render"),performance.clearMeasures("inputlatency"),C.keydown=0,C.input=0,C.render=0}function g(){if(w===0)return;const _={keydown:c(D),input:c(L),render:c(y),total:c(p),sampleCount:w};return f(D),f(L),f(y),f(p),w=0,_}k.getAndClearMeasurements=g;function c(_){return{average:_.total/w,max:_.max,min:_.min}}function f(_){_.total=0,_.min=Number.MAX_VALUE,_.max=0}})(m||(e.inputLatency=m={}))}),define(te[415],ie([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ListError=void 0;class m extends Error{constructor(D,L){super(`ListError [${D}] ${L}`)}}e.ListError=m}),define(te[416],ie([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CombinedSpliceable=void 0;class m{constructor(D){this.spliceables=D}splice(D,L,y){this.spliceables.forEach(p=>p.splice(D,L,y))}}e.CombinedSpliceable=m}),define(te[212],ie([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ScrollbarState=void 0;const m=20;class k{constructor(L,y,p,w,C,b){this._scrollbarSize=Math.round(y),this._oppositeScrollbarSize=Math.round(p),this._arrowSize=Math.round(L),this._visibleSize=w,this._scrollSize=C,this._scrollPosition=b,this._computedAvailableSize=0,this._computedIsNeeded=!1,this._computedSliderSize=0,this._computedSliderRatio=0,this._computedSliderPosition=0,this._refreshComputedValues()}clone(){return new k(this._arrowSize,this._scrollbarSize,this._oppositeScrollbarSize,this._visibleSize,this._scrollSize,this._scrollPosition)}setVisibleSize(L){const y=Math.round(L);return this._visibleSize!==y?(this._visibleSize=y,this._refreshComputedValues(),!0):!1}setScrollSize(L){const y=Math.round(L);return this._scrollSize!==y?(this._scrollSize=y,this._refreshComputedValues(),!0):!1}setScrollPosition(L){const y=Math.round(L);return this._scrollPosition!==y?(this._scrollPosition=y,this._refreshComputedValues(),!0):!1}setScrollbarSize(L){this._scrollbarSize=Math.round(L)}setOppositeScrollbarSize(L){this._oppositeScrollbarSize=Math.round(L)}static _computeValues(L,y,p,w,C){const b=Math.max(0,p-L),a=Math.max(0,b-2*y),s=w>0&&w>p;if(!s)return{computedAvailableSize:Math.round(b),computedIsNeeded:s,computedSliderSize:Math.round(a),computedSliderRatio:0,computedSliderPosition:0};const i=Math.round(Math.max(m,Math.floor(p*a/w))),t=(a-i)/(w-p),n=C*t;return{computedAvailableSize:Math.round(b),computedIsNeeded:s,computedSliderSize:Math.round(i),computedSliderRatio:t,computedSliderPosition:Math.round(n)}}_refreshComputedValues(){const L=k._computeValues(this._oppositeScrollbarSize,this._arrowSize,this._visibleSize,this._scrollSize,this._scrollPosition);this._computedAvailableSize=L.computedAvailableSize,this._computedIsNeeded=L.computedIsNeeded,this._computedSliderSize=L.computedSliderSize,this._computedSliderRatio=L.computedSliderRatio,this._computedSliderPosition=L.computedSliderPosition}getArrowSize(){return this._arrowSize}getScrollPosition(){return this._scrollPosition}getRectangleLargeSize(){return this._computedAvailableSize}getRectangleSmallSize(){return this._scrollbarSize}isNeeded(){return this._computedIsNeeded}getSliderSize(){return this._computedSliderSize}getSliderPosition(){return this._computedSliderPosition}getDesiredScrollPositionFromOffset(L){if(!this._computedIsNeeded)return 0;const y=L-this._arrowSize-this._computedSliderSize/2;return Math.round(y/this._computedSliderRatio)}getDesiredScrollPositionFromOffsetPaged(L){if(!this._computedIsNeeded)return 0;const y=L-this._arrowSize;let p=this._scrollPosition;return y<this._computedSliderPosition?p-=this._visibleSize:p+=this._visibleSize,p}getDesiredScrollPositionFromDelta(L){if(!this._computedIsNeeded)return 0;const y=this._computedSliderPosition+L;return Math.round(y/this._computedSliderRatio)}}e.ScrollbarState=k}),define(te[153],ie([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WeakMapper=e.TreeError=e.TreeMouseEventTarget=e.ObjectTreeElementCollapseState=void 0;var m;(function(y){y[y.Expanded=0]="Expanded",y[y.Collapsed=1]="Collapsed",y[y.PreserveOrExpanded=2]="PreserveOrExpanded",y[y.PreserveOrCollapsed=3]="PreserveOrCollapsed"})(m||(e.ObjectTreeElementCollapseState=m={}));var k;(function(y){y[y.Unknown=0]="Unknown",y[y.Twistie=1]="Twistie",y[y.Element=2]="Element",y[y.Filter=3]="Filter"})(k||(e.TreeMouseEventTarget=k={}));class D extends Error{constructor(p,w){super(`TreeError [${p}] ${w}`)}}e.TreeError=D;class L{constructor(p){this.fn=p,this._map=new WeakMap}map(p){let w=this._map.get(p);return w||(w=this.fn(p),this._map.set(p,w)),w}}e.WeakMapper=L}),define(te[52],ie([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.mainWindow=void 0,e.ensureCodeWindow=m;function m(k,D){const L=k;typeof L.vscodeWindowId!="number"&&Object.defineProperty(L,"vscodeWindowId",{get:()=>D})}e.mainWindow=window}),define(te[62],ie([1,0,52]),function(J,e,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isAndroid=e.isElectron=e.isWebkitWebView=e.isSafari=e.isChrome=e.isWebKit=e.isFirefox=void 0,e.addMatchMediaChangeListener=D,e.getZoomFactor=L,e.isStandalone=w;class k{constructor(){this.mapWindowIdToZoomFactor=new Map}getZoomFactor(b){var a;return(a=this.mapWindowIdToZoomFactor.get(this.getWindowId(b)))!==null&&a!==void 0?a:1}getWindowId(b){return b.vscodeWindowId}}k.INSTANCE=new k;function D(C,b,a){typeof b=="string"&&(b=C.matchMedia(b)),b.addEventListener("change",a)}function L(C){return k.INSTANCE.getZoomFactor(C)}const y=navigator.userAgent;e.isFirefox=y.indexOf("Firefox")>=0,e.isWebKit=y.indexOf("AppleWebKit")>=0,e.isChrome=y.indexOf("Chrome")>=0,e.isSafari=!e.isChrome&&y.indexOf("Safari")>=0,e.isWebkitWebView=!e.isChrome&&!e.isSafari&&e.isWebKit,e.isElectron=y.indexOf("Electron/")>=0,e.isAndroid=y.indexOf("Android")>=0;let p=!1;if(typeof m.mainWindow.matchMedia=="function"){const C=m.mainWindow.matchMedia("(display-mode: standalone) or (display-mode: window-controls-overlay)"),b=m.mainWindow.matchMedia("(display-mode: fullscreen)");p=C.matches,D(m.mainWindow,C,({matches:a})=>{p&&b.matches||(p=a)})}function w(){return p}}),define(te[13],ie([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Permutation=e.CallbackIterable=e.ArrayQueue=e.booleanComparator=e.numberComparator=e.CompareResult=void 0,e.tail=m,e.tail2=k,e.equals=D,e.removeFastWithoutKeepingOrder=L,e.binarySearch=y,e.binarySearch2=p,e.quickSelect=w,e.groupBy=C,e.groupAdjacentBy=b,e.forEachAdjacent=a,e.forEachWithNeighbors=s,e.coalesce=i,e.coalesceInPlace=t,e.isFalsyOrEmpty=n,e.isNonEmptyArray=h,e.distinct=v,e.firstOrDefault=u,e.range=d,e.arrayInsert=r,e.pushToStart=l,e.pushToEnd=o,e.pushMany=g,e.asArray=c,e.insertInto=f,e.splice=_,e.compareBy=E,e.tieBreakComparators=T,e.reverseOrder=O;function m(R,B=0){return R[R.length-(1+B)]}function k(R){if(R.length===0)throw new Error("Invalid tail call");return[R.slice(0,R.length-1),R[R.length-1]]}function D(R,B,H=(V,q)=>V===q){if(R===B)return!0;if(!R||!B||R.length!==B.length)return!1;for(let V=0,q=R.length;V<q;V++)if(!H(R[V],B[V]))return!1;return!0}function L(R,B){const H=R.length-1;B<H&&(R[B]=R[H]),R.pop()}function y(R,B,H){return p(R.length,V=>H(R[V],B))}function p(R,B){let H=0,V=R-1;for(;H<=V;){const q=(H+V)/2|0,K=B(q);if(K<0)H=q+1;else if(K>0)V=q-1;else return q}return-(H+1)}function w(R,B,H){if(R=R|0,R>=B.length)throw new TypeError("invalid index");const V=B[Math.floor(B.length*Math.random())],q=[],K=[],U=[];for(const $ of B){const se=H($,V);se<0?q.push($):se>0?K.push($):U.push($)}return R<q.length?w(R,q,H):R<q.length+U.length?U[0]:w(R-(q.length+U.length),K,H)}function C(R,B){const H=[];let V;for(const q of R.slice(0).sort(B))!V||B(V[0],q)!==0?(V=[q],H.push(V)):V.push(q);return H}function*b(R,B){let H,V;for(const q of R)V!==void 0&&B(V,q)?H.push(q):(H&&(yield H),H=[q]),V=q;H&&(yield H)}function a(R,B){for(let H=0;H<=R.length;H++)B(H===0?void 0:R[H-1],H===R.length?void 0:R[H])}function s(R,B){for(let H=0;H<R.length;H++)B(H===0?void 0:R[H-1],R[H],H+1===R.length?void 0:R[H+1])}function i(R){return R.filter(B=>!!B)}function t(R){let B=0;for(let H=0;H<R.length;H++)R[H]&&(R[B]=R[H],B+=1);R.length=B}function n(R){return!Array.isArray(R)||R.length===0}function h(R){return Array.isArray(R)&&R.length>0}function v(R,B=H=>H){const H=new Set;return R.filter(V=>{const q=B(V);return H.has(q)?!1:(H.add(q),!0)})}function u(R,B){return R.length>0?R[0]:B}function d(R,B){let H=typeof B=="number"?R:0;typeof B=="number"?H=R:(H=0,B=R);const V=[];if(H<=B)for(let q=H;q<B;q++)V.push(q);else for(let q=H;q>B;q--)V.push(q);return V}function r(R,B,H){const V=R.slice(0,B),q=R.slice(B);return V.concat(H,q)}function l(R,B){const H=R.indexOf(B);H>-1&&(R.splice(H,1),R.unshift(B))}function o(R,B){const H=R.indexOf(B);H>-1&&(R.splice(H,1),R.push(B))}function g(R,B){for(const H of B)R.push(H)}function c(R){return Array.isArray(R)?R:[R]}function f(R,B,H){const V=S(R,B),q=R.length,K=H.length;R.length=q+K;for(let U=q-1;U>=V;U--)R[U+K]=R[U];for(let U=0;U<K;U++)R[U+V]=H[U]}function _(R,B,H,V){const q=S(R,B);let K=R.splice(q,H);return K===void 0&&(K=[]),f(R,q,V),K}function S(R,B){return B<0?Math.max(B+R.length,0):Math.min(B,R.length)}var I;(function(R){function B(K){return K<0}R.isLessThan=B;function H(K){return K<=0}R.isLessThanOrEqual=H;function V(K){return K>0}R.isGreaterThan=V;function q(K){return K===0}R.isNeitherLessOrGreaterThan=q,R.greaterThan=1,R.lessThan=-1,R.neitherLessOrGreaterThan=0})(I||(e.CompareResult=I={}));function E(R,B){return(H,V)=>B(R(H),R(V))}function T(...R){return(B,H)=>{for(const V of R){const q=V(B,H);if(!I.isNeitherLessOrGreaterThan(q))return q}return I.neitherLessOrGreaterThan}}const N=(R,B)=>R-B;e.numberComparator=N;const A=(R,B)=>(0,e.numberComparator)(R?1:0,B?1:0);e.booleanComparator=A;function O(R){return(B,H)=>-R(B,H)}class M{constructor(B){this.items=B,this.firstIdx=0,this.lastIdx=this.items.length-1}get length(){return this.lastIdx-this.firstIdx+1}takeWhile(B){let H=this.firstIdx;for(;H<this.items.length&&B(this.items[H]);)H++;const V=H===this.firstIdx?null:this.items.slice(this.firstIdx,H);return this.firstIdx=H,V}takeFromEndWhile(B){let H=this.lastIdx;for(;H>=0&&B(this.items[H]);)H--;const V=H===this.lastIdx?null:this.items.slice(H+1,this.lastIdx+1);return this.lastIdx=H,V}peek(){if(this.length!==0)return this.items[this.firstIdx]}dequeue(){const B=this.items[this.firstIdx];return this.firstIdx++,B}takeCount(B){const H=this.items.slice(this.firstIdx,this.firstIdx+B);return this.firstIdx+=B,H}}e.ArrayQueue=M;class P{constructor(B){this.iterate=B}toArray(){const B=[];return this.iterate(H=>(B.push(H),!0)),B}filter(B){return new P(H=>this.iterate(V=>B(V)?H(V):!0))}map(B){return new P(H=>this.iterate(V=>H(B(V))))}findLast(B){let H;return this.iterate(V=>(B(V)&&(H=V),!0)),H}findLastMaxBy(B){let H,V=!0;return this.iterate(q=>((V||I.isGreaterThan(B(q,H)))&&(V=!1,H=q),!0)),H}}e.CallbackIterable=P,P.empty=new P(R=>{});class x{constructor(B){this._indexMap=B}static createSortPermutation(B,H){const V=Array.from(B.keys()).sort((q,K)=>H(B[q],B[K]));return new x(V)}apply(B){return B.map((H,V)=>B[this._indexMap[V]])}inverse(){const B=this._indexMap.slice();for(let H=0;H<this._indexMap.length;H++)B[this._indexMap[H]]=H;return new x(B)}}e.Permutation=x}),define(te[66],ie([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MonotonousArray=void 0,e.findLast=m,e.findLastIdx=k,e.findLastMonotonous=D,e.findLastIdxMonotonous=L,e.findFirstMonotonous=y,e.findFirstIdxMonotonousOrArrLen=p,e.findFirstMaxBy=C,e.findLastMaxBy=b,e.findFirstMinBy=a,e.findMaxIdxBy=s,e.mapFindFirst=i;function m(t,n,h){const v=k(t,n);if(v!==-1)return t[v]}function k(t,n,h=t.length-1){for(let v=h;v>=0;v--){const u=t[v];if(n(u))return v}return-1}function D(t,n){const h=L(t,n);return h===-1?void 0:t[h]}function L(t,n,h=0,v=t.length){let u=h,d=v;for(;u<d;){const r=Math.floor((u+d)/2);n(t[r])?u=r+1:d=r}return u-1}function y(t,n){const h=p(t,n);return h===t.length?void 0:t[h]}function p(t,n,h=0,v=t.length){let u=h,d=v;for(;u<d;){const r=Math.floor((u+d)/2);n(t[r])?d=r:u=r+1}return u}class w{constructor(n){this._array=n,this._findLastMonotonousLastIdx=0}findLastMonotonous(n){if(w.assertInvariants){if(this._prevFindLastPredicate){for(const v of this._array)if(this._prevFindLastPredicate(v)&&!n(v))throw new Error("MonotonousArray: current predicate must be weaker than (or equal to) the previous predicate.")}this._prevFindLastPredicate=n}const h=L(this._array,n,this._findLastMonotonousLastIdx);return this._findLastMonotonousLastIdx=h+1,h===-1?void 0:this._array[h]}}e.MonotonousArray=w,w.assertInvariants=!1;function C(t,n){if(t.length===0)return;let h=t[0];for(let v=1;v<t.length;v++){const u=t[v];n(u,h)>0&&(h=u)}return h}function b(t,n){if(t.length===0)return;let h=t[0];for(let v=1;v<t.length;v++){const u=t[v];n(u,h)>=0&&(h=u)}return h}function a(t,n){return C(t,(h,v)=>-n(h,v))}function s(t,n){if(t.length===0)return-1;let h=0;for(let v=1;v<t.length;v++){const u=t[v];n(u,t[h])>0&&(h=v)}return h}function i(t,n){for(const h of t){const v=n(h);if(v!==void 0)return v}}}),define(te[284],ie([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CachedFunction=e.LRUCachedFunction=void 0;class m{constructor(L){this.fn=L,this.lastCache=void 0,this.lastArgKey=void 0}get(L){const y=JSON.stringify(L);return this.lastArgKey!==y&&(this.lastArgKey=y,this.lastCache=this.fn(L)),this.lastCache}}e.LRUCachedFunction=m;class k{get cachedValues(){return this._map}constructor(L){this.fn=L,this._map=new Map}get(L){if(this._map.has(L))return this._map.get(L);const y=this.fn(L);return this._map.set(L,y),y}}e.CachedFunction=k}),define(te[285],ie([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.diffSets=m,e.intersection=k;function m(D,L){const y=[],p=[];for(const w of D)L.has(w)||y.push(w);for(const w of L)D.has(w)||p.push(w);return{removed:y,added:p}}function k(D,L){const y=new Set;for(const p of L)D.has(p)&&y.add(p);return y}}),define(te[34],ie([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Color=e.HSVA=e.HSLA=e.RGBA=void 0;function m(p,w){const C=Math.pow(10,w);return Math.round(p*C)/C}class k{constructor(w,C,b,a=1){this._rgbaBrand=void 0,this.r=Math.min(255,Math.max(0,w))|0,this.g=Math.min(255,Math.max(0,C))|0,this.b=Math.min(255,Math.max(0,b))|0,this.a=m(Math.max(Math.min(1,a),0),3)}static equals(w,C){return w.r===C.r&&w.g===C.g&&w.b===C.b&&w.a===C.a}}e.RGBA=k;class D{constructor(w,C,b,a){this._hslaBrand=void 0,this.h=Math.max(Math.min(360,w),0)|0,this.s=m(Math.max(Math.min(1,C),0),3),this.l=m(Math.max(Math.min(1,b),0),3),this.a=m(Math.max(Math.min(1,a),0),3)}static equals(w,C){return w.h===C.h&&w.s===C.s&&w.l===C.l&&w.a===C.a}static fromRGBA(w){const C=w.r/255,b=w.g/255,a=w.b/255,s=w.a,i=Math.max(C,b,a),t=Math.min(C,b,a);let n=0,h=0;const v=(t+i)/2,u=i-t;if(u>0){switch(h=Math.min(v<=.5?u/(2*v):u/(2-2*v),1),i){case C:n=(b-a)/u+(b<a?6:0);break;case b:n=(a-C)/u+2;break;case a:n=(C-b)/u+4;break}n*=60,n=Math.round(n)}return new D(n,h,v,s)}static _hue2rgb(w,C,b){return b<0&&(b+=1),b>1&&(b-=1),b<1/6?w+(C-w)*6*b:b<1/2?C:b<2/3?w+(C-w)*(2/3-b)*6:w}static toRGBA(w){const C=w.h/360,{s:b,l:a,a:s}=w;let i,t,n;if(b===0)i=t=n=a;else{const h=a<.5?a*(1+b):a+b-a*b,v=2*a-h;i=D._hue2rgb(v,h,C+1/3),t=D._hue2rgb(v,h,C),n=D._hue2rgb(v,h,C-1/3)}return new k(Math.round(i*255),Math.round(t*255),Math.round(n*255),s)}}e.HSLA=D;class L{constructor(w,C,b,a){this._hsvaBrand=void 0,this.h=Math.max(Math.min(360,w),0)|0,this.s=m(Math.max(Math.min(1,C),0),3),this.v=m(Math.max(Math.min(1,b),0),3),this.a=m(Math.max(Math.min(1,a),0),3)}static equals(w,C){return w.h===C.h&&w.s===C.s&&w.v===C.v&&w.a===C.a}static fromRGBA(w){const C=w.r/255,b=w.g/255,a=w.b/255,s=Math.max(C,b,a),i=Math.min(C,b,a),t=s-i,n=s===0?0:t/s;let h;return t===0?h=0:s===C?h=((b-a)/t%6+6)%6:s===b?h=(a-C)/t+2:h=(C-b)/t+4,new L(Math.round(h*60),n,s,w.a)}static toRGBA(w){const{h:C,s:b,v:a,a:s}=w,i=a*b,t=i*(1-Math.abs(C/60%2-1)),n=a-i;let[h,v,u]=[0,0,0];return C<60?(h=i,v=t):C<120?(h=t,v=i):C<180?(v=i,u=t):C<240?(v=t,u=i):C<300?(h=t,u=i):C<=360&&(h=i,u=t),h=Math.round((h+n)*255),v=Math.round((v+n)*255),u=Math.round((u+n)*255),new k(h,v,u,s)}}e.HSVA=L;class y{static fromHex(w){return y.Format.CSS.parseHex(w)||y.red}static equals(w,C){return!w&&!C?!0:!w||!C?!1:w.equals(C)}get hsla(){return this._hsla?this._hsla:D.fromRGBA(this.rgba)}get hsva(){return this._hsva?this._hsva:L.fromRGBA(this.rgba)}constructor(w){if(w)if(w instanceof k)this.rgba=w;else if(w instanceof D)this._hsla=w,this.rgba=D.toRGBA(w);else if(w instanceof L)this._hsva=w,this.rgba=L.toRGBA(w);else throw new Error("Invalid color ctor argument");else throw new Error("Color needs a value")}equals(w){return!!w&&k.equals(this.rgba,w.rgba)&&D.equals(this.hsla,w.hsla)&&L.equals(this.hsva,w.hsva)}getRelativeLuminance(){const w=y._relativeLuminanceForComponent(this.rgba.r),C=y._relativeLuminanceForComponent(this.rgba.g),b=y._relativeLuminanceForComponent(this.rgba.b),a=.2126*w+.7152*C+.0722*b;return m(a,4)}static _relativeLuminanceForComponent(w){const C=w/255;return C<=.03928?C/12.92:Math.pow((C+.055)/1.055,2.4)}isLighter(){return(this.rgba.r*299+this.rgba.g*587+this.rgba.b*114)/1e3>=128}isLighterThan(w){const C=this.getRelativeLuminance(),b=w.getRelativeLuminance();return C>b}isDarkerThan(w){const C=this.getRelativeLuminance(),b=w.getRelativeLuminance();return C<b}lighten(w){return new y(new D(this.hsla.h,this.hsla.s,this.hsla.l+this.hsla.l*w,this.hsla.a))}darken(w){return new y(new D(this.hsla.h,this.hsla.s,this.hsla.l-this.hsla.l*w,this.hsla.a))}transparent(w){const{r:C,g:b,b:a,a:s}=this.rgba;return new y(new k(C,b,a,s*w))}isTransparent(){return this.rgba.a===0}isOpaque(){return this.rgba.a===1}opposite(){return new y(new k(255-this.rgba.r,255-this.rgba.g,255-this.rgba.b,this.rgba.a))}makeOpaque(w){if(this.isOpaque()||w.rgba.a!==1)return this;const{r:C,g:b,b:a,a:s}=this.rgba;return new y(new k(w.rgba.r-s*(w.rgba.r-C),w.rgba.g-s*(w.rgba.g-b),w.rgba.b-s*(w.rgba.b-a),1))}toString(){return this._toString||(this._toString=y.Format.CSS.format(this)),this._toString}static getLighterColor(w,C,b){if(w.isLighterThan(C))return w;b=b||.5;const a=w.getRelativeLuminance(),s=C.getRelativeLuminance();return b=b*(s-a)/s,w.lighten(b)}static getDarkerColor(w,C,b){if(w.isDarkerThan(C))return w;b=b||.5;const a=w.getRelativeLuminance(),s=C.getRelativeLuminance();return b=b*(a-s)/a,w.darken(b)}}e.Color=y,y.white=new y(new k(255,255,255,1)),y.black=new y(new k(0,0,0,1)),y.red=new y(new k(255,0,0,1)),y.blue=new y(new k(0,0,255,1)),y.green=new y(new k(0,255,0,1)),y.cyan=new y(new k(0,255,255,1)),y.lightgrey=new y(new k(211,211,211,1)),y.transparent=new y(new k(0,0,0,0)),function(p){let w;(function(C){let b;(function(a){function s(o){return o.rgba.a===1?`rgb(${o.rgba.r}, ${o.rgba.g}, ${o.rgba.b})`:p.Format.CSS.formatRGBA(o)}a.formatRGB=s;function i(o){return`rgba(${o.rgba.r}, ${o.rgba.g}, ${o.rgba.b}, ${+o.rgba.a.toFixed(2)})`}a.formatRGBA=i;function t(o){return o.hsla.a===1?`hsl(${o.hsla.h}, ${(o.hsla.s*100).toFixed(2)}%, ${(o.hsla.l*100).toFixed(2)}%)`:p.Format.CSS.formatHSLA(o)}a.formatHSL=t;function n(o){return`hsla(${o.hsla.h}, ${(o.hsla.s*100).toFixed(2)}%, ${(o.hsla.l*100).toFixed(2)}%, ${o.hsla.a.toFixed(2)})`}a.formatHSLA=n;function h(o){const g=o.toString(16);return g.length!==2?"0"+g:g}function v(o){return`#${h(o.rgba.r)}${h(o.rgba.g)}${h(o.rgba.b)}`}a.formatHex=v;function u(o,g=!1){return g&&o.rgba.a===1?p.Format.CSS.formatHex(o):`#${h(o.rgba.r)}${h(o.rgba.g)}${h(o.rgba.b)}${h(Math.round(o.rgba.a*255))}`}a.formatHexA=u;function d(o){return o.isOpaque()?p.Format.CSS.formatHex(o):p.Format.CSS.formatRGBA(o)}a.format=d;function r(o){const g=o.length;if(g===0||o.charCodeAt(0)!==35)return null;if(g===7){const c=16*l(o.charCodeAt(1))+l(o.charCodeAt(2)),f=16*l(o.charCodeAt(3))+l(o.charCodeAt(4)),_=16*l(o.charCodeAt(5))+l(o.charCodeAt(6));return new p(new k(c,f,_,1))}if(g===9){const c=16*l(o.charCodeAt(1))+l(o.charCodeAt(2)),f=16*l(o.charCodeAt(3))+l(o.charCodeAt(4)),_=16*l(o.charCodeAt(5))+l(o.charCodeAt(6)),S=16*l(o.charCodeAt(7))+l(o.charCodeAt(8));return new p(new k(c,f,_,S/255))}if(g===4){const c=l(o.charCodeAt(1)),f=l(o.charCodeAt(2)),_=l(o.charCodeAt(3));return new p(new k(16*c+c,16*f+f,16*_+_))}if(g===5){const c=l(o.charCodeAt(1)),f=l(o.charCodeAt(2)),_=l(o.charCodeAt(3)),S=l(o.charCodeAt(4));return new p(new k(16*c+c,16*f+f,16*_+_,(16*S+S)/255))}return null}a.parseHex=r;function l(o){switch(o){case 48:return 0;case 49:return 1;case 50:return 2;case 51:return 3;case 52:return 4;case 53:return 5;case 54:return 6;case 55:return 7;case 56:return 8;case 57:return 9;case 97:return 10;case 65:return 10;case 98:return 11;case 66:return 11;case 99:return 12;case 67:return 12;case 100:return 13;case 68:return 13;case 101:return 14;case 69:return 14;case 102:return 15;case 70:return 15}return 0}})(b=C.CSS||(C.CSS={}))})(w=p.Format||(p.Format={}))}(y||(e.Color=y={}))}),define(te[118],ie([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.memoize=m;function m(k,D,L){let y=null,p=null;if(typeof L.value=="function"?(y="value",p=L.value,p.length!==0&&console.warn("Memoize should only be used in functions with zero parameters")):typeof L.get=="function"&&(y="get",p=L.get),!p)throw new Error("not supported");const w=`$memoize$${D}`;L[y]=function(...C){return this.hasOwnProperty(w)||Object.defineProperty(this,w,{configurable:!1,enumerable:!1,writable:!1,value:p.apply(this,C)}),this[w]}}}),define(te[417],ie([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffChange=void 0;class m{constructor(D,L,y,p){this.originalStart=D,this.originalLength=L,this.modifiedStart=y,this.modifiedLength=p}getOriginalEnd(){return this.originalStart+this.originalLength}getModifiedEnd(){return this.modifiedStart+this.modifiedLength}}e.DiffChange=m}),define(te[12],ie([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BugIndicatingError=e.ErrorNoTelemetry=e.NotSupportedError=e.CancellationError=e.errorHandler=e.ErrorHandler=void 0,e.onUnexpectedError=k,e.onUnexpectedExternalError=D,e.transformErrorForSerialization=L,e.isCancellationError=p,e.canceled=C,e.illegalArgument=b,e.illegalState=a;class m{constructor(){this.listeners=[],this.unexpectedErrorHandler=function(h){setTimeout(()=>{throw h.stack?i.isErrorNoTelemetry(h)?new i(h.message+`

`+h.stack):new Error(h.message+`

`+h.stack):h},0)}}emit(h){this.listeners.forEach(v=>{v(h)})}onUnexpectedError(h){this.unexpectedErrorHandler(h),this.emit(h)}onUnexpectedExternalError(h){this.unexpectedErrorHandler(h)}}e.ErrorHandler=m,e.errorHandler=new m;function k(n){p(n)||e.errorHandler.onUnexpectedError(n)}function D(n){p(n)||e.errorHandler.onUnexpectedExternalError(n)}function L(n){if(n instanceof Error){const{name:h,message:v}=n,u=n.stacktrace||n.stack;return{$isError:!0,name:h,message:v,stack:u,noTelemetry:i.isErrorNoTelemetry(n)}}return n}const y="Canceled";function p(n){return n instanceof w?!0:n instanceof Error&&n.name===y&&n.message===y}class w extends Error{constructor(){super(y),this.name=this.message}}e.CancellationError=w;function C(){const n=new Error(y);return n.name=n.message,n}function b(n){return n?new Error(`Illegal argument: ${n}`):new Error("Illegal argument")}function a(n){return n?new Error(`Illegal state: ${n}`):new Error("Illegal state")}class s extends Error{constructor(h){super("NotSupported"),h&&(this.message=h)}}e.NotSupportedError=s;class i extends Error{constructor(h){super(h),this.name="CodeExpectedError"}static fromError(h){if(h instanceof i)return h;const v=new i;return v.message=h.message,v.stack=h.stack,v}static isErrorNoTelemetry(h){return h.name==="CodeExpectedError"}}e.ErrorNoTelemetry=i;class t extends Error{constructor(h){super(h||"An unexpected bug occurred."),Object.setPrototypeOf(this,t.prototype)}}e.BugIndicatingError=t}),define(te[98],ie([1,0,52,12]),function(J,e,m,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createTrustedTypesPolicy=D;function D(L,y){var p;const w=globalThis.MonacoEnvironment;if(w?.createTrustedTypesPolicy)try{return w.createTrustedTypesPolicy(L,y)}catch(C){(0,k.onUnexpectedError)(C);return}try{return(p=m.mainWindow.trustedTypes)===null||p===void 0?void 0:p.createPolicy(L,y)}catch(C){(0,k.onUnexpectedError)(C);return}}}),define(te[87],ie([1,0,12]),function(J,e,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ok=k,e.assertNever=D,e.softAssert=L,e.assertFn=y,e.checkAdjacentItems=p;function k(w,C){if(!w)throw new Error(C?`Assertion failed (${C})`:"Assertion Failed")}function D(w,C="Unreachable"){throw new Error(C)}function L(w){w||(0,m.onUnexpectedError)(new m.BugIndicatingError("Soft Assertion Failed"))}function y(w){if(!w()){debugger;w(),(0,m.onUnexpectedError)(new m.BugIndicatingError("Assertion Failed"))}}function p(w,C){let b=0;for(;b<w.length-1;){const a=w[b],s=w[b+1];if(!C(a,s))return!1;b++}return!0}}),define(te[119],ie([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createSingleCallFunction=m;function m(k,D){const L=this;let y=!1,p;return function(){if(y)return p;if(y=!0,D)try{p=k.apply(L,arguments)}finally{D()}else p=k.apply(L,arguments);return p}}}),define(te[94],ie([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HierarchicalKind=void 0;class m{constructor(D){this.value=D}equals(D){return this.value===D.value}contains(D){return this.equals(D)||this.value===""||D.value.startsWith(this.value+m.sep)}intersects(D){return this.contains(D)||D.contains(this)}append(...D){return new m((this.value?[this.value,...D]:D).join(m.sep))}}e.HierarchicalKind=m,m.sep=".",m.None=new m("@@none@@"),m.Empty=new m("")}),define(te[178],ie([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.defaultGenerator=e.IdGenerator=void 0;class m{constructor(D){this._prefix=D,this._lastId=0}nextId(){return this._prefix+ ++this._lastId}}e.IdGenerator=m,e.defaultGenerator=new m("id#")}),define(te[54],ie([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Iterable=void 0;var m;(function(k){function D(o){return o&&typeof o=="object"&&typeof o[Symbol.iterator]=="function"}k.is=D;const L=Object.freeze([]);function y(){return L}k.empty=y;function*p(o){yield o}k.single=p;function w(o){return D(o)?o:p(o)}k.wrap=w;function C(o){return o||L}k.from=C;function*b(o){for(let g=o.length-1;g>=0;g--)yield o[g]}k.reverse=b;function a(o){return!o||o[Symbol.iterator]().next().done===!0}k.isEmpty=a;function s(o){return o[Symbol.iterator]().next().value}k.first=s;function i(o,g){for(const c of o)if(g(c))return!0;return!1}k.some=i;function t(o,g){for(const c of o)if(g(c))return c}k.find=t;function*n(o,g){for(const c of o)g(c)&&(yield c)}k.filter=n;function*h(o,g){let c=0;for(const f of o)yield g(f,c++)}k.map=h;function*v(...o){for(const g of o)yield*g}k.concat=v;function u(o,g,c){let f=c;for(const _ of o)f=g(f,_);return f}k.reduce=u;function*d(o,g,c=o.length){for(g<0&&(g+=o.length),c<0?c+=o.length:c>o.length&&(c=o.length);g<c;g++)yield o[g]}k.slice=d;function r(o,g=Number.POSITIVE_INFINITY){const c=[];if(g===0)return[c,o];const f=o[Symbol.iterator]();for(let _=0;_<g;_++){const S=f.next();if(S.done)return[c,k.empty()];c.push(S.value)}return[c,{[Symbol.iterator](){return f}}]}k.consume=r;async function l(o){const g=[];for await(const c of o)g.push(c);return Promise.resolve(g)}k.asyncToArray=l})(m||(e.Iterable=m={}))}),define(te[68],ie([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.KeyCodeUtils=e.IMMUTABLE_KEY_CODE_TO_CODE=e.IMMUTABLE_CODE_TO_KEY_CODE=e.NATIVE_WINDOWS_KEY_CODE_TO_KEY_CODE=e.EVENT_KEY_CODE_MAP=void 0,e.KeyChord=b;class m{constructor(){this._keyCodeToStr=[],this._strToKeyCode=Object.create(null)}define(s,i){this._keyCodeToStr[s]=i,this._strToKeyCode[i.toLowerCase()]=s}keyCodeToStr(s){return this._keyCodeToStr[s]}strToKeyCode(s){return this._strToKeyCode[s.toLowerCase()]||0}}const k=new m,D=new m,L=new m;e.EVENT_KEY_CODE_MAP=new Array(230),e.NATIVE_WINDOWS_KEY_CODE_TO_KEY_CODE={};const y=[],p=Object.create(null),w=Object.create(null);e.IMMUTABLE_CODE_TO_KEY_CODE=[],e.IMMUTABLE_KEY_CODE_TO_CODE=[];for(let a=0;a<=193;a++)e.IMMUTABLE_CODE_TO_KEY_CODE[a]=-1;for(let a=0;a<=132;a++)e.IMMUTABLE_KEY_CODE_TO_CODE[a]=-1;(function(){const a="",s=[[1,0,"None",0,"unknown",0,"VK_UNKNOWN",a,a],[1,1,"Hyper",0,a,0,a,a,a],[1,2,"Super",0,a,0,a,a,a],[1,3,"Fn",0,a,0,a,a,a],[1,4,"FnLock",0,a,0,a,a,a],[1,5,"Suspend",0,a,0,a,a,a],[1,6,"Resume",0,a,0,a,a,a],[1,7,"Turbo",0,a,0,a,a,a],[1,8,"Sleep",0,a,0,"VK_SLEEP",a,a],[1,9,"WakeUp",0,a,0,a,a,a],[0,10,"KeyA",31,"A",65,"VK_A",a,a],[0,11,"KeyB",32,"B",66,"VK_B",a,a],[0,12,"KeyC",33,"C",67,"VK_C",a,a],[0,13,"KeyD",34,"D",68,"VK_D",a,a],[0,14,"KeyE",35,"E",69,"VK_E",a,a],[0,15,"KeyF",36,"F",70,"VK_F",a,a],[0,16,"KeyG",37,"G",71,"VK_G",a,a],[0,17,"KeyH",38,"H",72,"VK_H",a,a],[0,18,"KeyI",39,"I",73,"VK_I",a,a],[0,19,"KeyJ",40,"J",74,"VK_J",a,a],[0,20,"KeyK",41,"K",75,"VK_K",a,a],[0,21,"KeyL",42,"L",76,"VK_L",a,a],[0,22,"KeyM",43,"M",77,"VK_M",a,a],[0,23,"KeyN",44,"N",78,"VK_N",a,a],[0,24,"KeyO",45,"O",79,"VK_O",a,a],[0,25,"KeyP",46,"P",80,"VK_P",a,a],[0,26,"KeyQ",47,"Q",81,"VK_Q",a,a],[0,27,"KeyR",48,"R",82,"VK_R",a,a],[0,28,"KeyS",49,"S",83,"VK_S",a,a],[0,29,"KeyT",50,"T",84,"VK_T",a,a],[0,30,"KeyU",51,"U",85,"VK_U",a,a],[0,31,"KeyV",52,"V",86,"VK_V",a,a],[0,32,"KeyW",53,"W",87,"VK_W",a,a],[0,33,"KeyX",54,"X",88,"VK_X",a,a],[0,34,"KeyY",55,"Y",89,"VK_Y",a,a],[0,35,"KeyZ",56,"Z",90,"VK_Z",a,a],[0,36,"Digit1",22,"1",49,"VK_1",a,a],[0,37,"Digit2",23,"2",50,"VK_2",a,a],[0,38,"Digit3",24,"3",51,"VK_3",a,a],[0,39,"Digit4",25,"4",52,"VK_4",a,a],[0,40,"Digit5",26,"5",53,"VK_5",a,a],[0,41,"Digit6",27,"6",54,"VK_6",a,a],[0,42,"Digit7",28,"7",55,"VK_7",a,a],[0,43,"Digit8",29,"8",56,"VK_8",a,a],[0,44,"Digit9",30,"9",57,"VK_9",a,a],[0,45,"Digit0",21,"0",48,"VK_0",a,a],[1,46,"Enter",3,"Enter",13,"VK_RETURN",a,a],[1,47,"Escape",9,"Escape",27,"VK_ESCAPE",a,a],[1,48,"Backspace",1,"Backspace",8,"VK_BACK",a,a],[1,49,"Tab",2,"Tab",9,"VK_TAB",a,a],[1,50,"Space",10,"Space",32,"VK_SPACE",a,a],[0,51,"Minus",88,"-",189,"VK_OEM_MINUS","-","OEM_MINUS"],[0,52,"Equal",86,"=",187,"VK_OEM_PLUS","=","OEM_PLUS"],[0,53,"BracketLeft",92,"[",219,"VK_OEM_4","[","OEM_4"],[0,54,"BracketRight",94,"]",221,"VK_OEM_6","]","OEM_6"],[0,55,"Backslash",93,"\\",220,"VK_OEM_5","\\","OEM_5"],[0,56,"IntlHash",0,a,0,a,a,a],[0,57,"Semicolon",85,";",186,"VK_OEM_1",";","OEM_1"],[0,58,"Quote",95,"'",222,"VK_OEM_7","'","OEM_7"],[0,59,"Backquote",91,"`",192,"VK_OEM_3","`","OEM_3"],[0,60,"Comma",87,",",188,"VK_OEM_COMMA",",","OEM_COMMA"],[0,61,"Period",89,".",190,"VK_OEM_PERIOD",".","OEM_PERIOD"],[0,62,"Slash",90,"/",191,"VK_OEM_2","/","OEM_2"],[1,63,"CapsLock",8,"CapsLock",20,"VK_CAPITAL",a,a],[1,64,"F1",59,"F1",112,"VK_F1",a,a],[1,65,"F2",60,"F2",113,"VK_F2",a,a],[1,66,"F3",61,"F3",114,"VK_F3",a,a],[1,67,"F4",62,"F4",115,"VK_F4",a,a],[1,68,"F5",63,"F5",116,"VK_F5",a,a],[1,69,"F6",64,"F6",117,"VK_F6",a,a],[1,70,"F7",65,"F7",118,"VK_F7",a,a],[1,71,"F8",66,"F8",119,"VK_F8",a,a],[1,72,"F9",67,"F9",120,"VK_F9",a,a],[1,73,"F10",68,"F10",121,"VK_F10",a,a],[1,74,"F11",69,"F11",122,"VK_F11",a,a],[1,75,"F12",70,"F12",123,"VK_F12",a,a],[1,76,"PrintScreen",0,a,0,a,a,a],[1,77,"ScrollLock",84,"ScrollLock",145,"VK_SCROLL",a,a],[1,78,"Pause",7,"PauseBreak",19,"VK_PAUSE",a,a],[1,79,"Insert",19,"Insert",45,"VK_INSERT",a,a],[1,80,"Home",14,"Home",36,"VK_HOME",a,a],[1,81,"PageUp",11,"PageUp",33,"VK_PRIOR",a,a],[1,82,"Delete",20,"Delete",46,"VK_DELETE",a,a],[1,83,"End",13,"End",35,"VK_END",a,a],[1,84,"PageDown",12,"PageDown",34,"VK_NEXT",a,a],[1,85,"ArrowRight",17,"RightArrow",39,"VK_RIGHT","Right",a],[1,86,"ArrowLeft",15,"LeftArrow",37,"VK_LEFT","Left",a],[1,87,"ArrowDown",18,"DownArrow",40,"VK_DOWN","Down",a],[1,88,"ArrowUp",16,"UpArrow",38,"VK_UP","Up",a],[1,89,"NumLock",83,"NumLock",144,"VK_NUMLOCK",a,a],[1,90,"NumpadDivide",113,"NumPad_Divide",111,"VK_DIVIDE",a,a],[1,91,"NumpadMultiply",108,"NumPad_Multiply",106,"VK_MULTIPLY",a,a],[1,92,"NumpadSubtract",111,"NumPad_Subtract",109,"VK_SUBTRACT",a,a],[1,93,"NumpadAdd",109,"NumPad_Add",107,"VK_ADD",a,a],[1,94,"NumpadEnter",3,a,0,a,a,a],[1,95,"Numpad1",99,"NumPad1",97,"VK_NUMPAD1",a,a],[1,96,"Numpad2",100,"NumPad2",98,"VK_NUMPAD2",a,a],[1,97,"Numpad3",101,"NumPad3",99,"VK_NUMPAD3",a,a],[1,98,"Numpad4",102,"NumPad4",100,"VK_NUMPAD4",a,a],[1,99,"Numpad5",103,"NumPad5",101,"VK_NUMPAD5",a,a],[1,100,"Numpad6",104,"NumPad6",102,"VK_NUMPAD6",a,a],[1,101,"Numpad7",105,"NumPad7",103,"VK_NUMPAD7",a,a],[1,102,"Numpad8",106,"NumPad8",104,"VK_NUMPAD8",a,a],[1,103,"Numpad9",107,"NumPad9",105,"VK_NUMPAD9",a,a],[1,104,"Numpad0",98,"NumPad0",96,"VK_NUMPAD0",a,a],[1,105,"NumpadDecimal",112,"NumPad_Decimal",110,"VK_DECIMAL",a,a],[0,106,"IntlBackslash",97,"OEM_102",226,"VK_OEM_102",a,a],[1,107,"ContextMenu",58,"ContextMenu",93,a,a,a],[1,108,"Power",0,a,0,a,a,a],[1,109,"NumpadEqual",0,a,0,a,a,a],[1,110,"F13",71,"F13",124,"VK_F13",a,a],[1,111,"F14",72,"F14",125,"VK_F14",a,a],[1,112,"F15",73,"F15",126,"VK_F15",a,a],[1,113,"F16",74,"F16",127,"VK_F16",a,a],[1,114,"F17",75,"F17",128,"VK_F17",a,a],[1,115,"F18",76,"F18",129,"VK_F18",a,a],[1,116,"F19",77,"F19",130,"VK_F19",a,a],[1,117,"F20",78,"F20",131,"VK_F20",a,a],[1,118,"F21",79,"F21",132,"VK_F21",a,a],[1,119,"F22",80,"F22",133,"VK_F22",a,a],[1,120,"F23",81,"F23",134,"VK_F23",a,a],[1,121,"F24",82,"F24",135,"VK_F24",a,a],[1,122,"Open",0,a,0,a,a,a],[1,123,"Help",0,a,0,a,a,a],[1,124,"Select",0,a,0,a,a,a],[1,125,"Again",0,a,0,a,a,a],[1,126,"Undo",0,a,0,a,a,a],[1,127,"Cut",0,a,0,a,a,a],[1,128,"Copy",0,a,0,a,a,a],[1,129,"Paste",0,a,0,a,a,a],[1,130,"Find",0,a,0,a,a,a],[1,131,"AudioVolumeMute",117,"AudioVolumeMute",173,"VK_VOLUME_MUTE",a,a],[1,132,"AudioVolumeUp",118,"AudioVolumeUp",175,"VK_VOLUME_UP",a,a],[1,133,"AudioVolumeDown",119,"AudioVolumeDown",174,"VK_VOLUME_DOWN",a,a],[1,134,"NumpadComma",110,"NumPad_Separator",108,"VK_SEPARATOR",a,a],[0,135,"IntlRo",115,"ABNT_C1",193,"VK_ABNT_C1",a,a],[1,136,"KanaMode",0,a,0,a,a,a],[0,137,"IntlYen",0,a,0,a,a,a],[1,138,"Convert",0,a,0,a,a,a],[1,139,"NonConvert",0,a,0,a,a,a],[1,140,"Lang1",0,a,0,a,a,a],[1,141,"Lang2",0,a,0,a,a,a],[1,142,"Lang3",0,a,0,a,a,a],[1,143,"Lang4",0,a,0,a,a,a],[1,144,"Lang5",0,a,0,a,a,a],[1,145,"Abort",0,a,0,a,a,a],[1,146,"Props",0,a,0,a,a,a],[1,147,"NumpadParenLeft",0,a,0,a,a,a],[1,148,"NumpadParenRight",0,a,0,a,a,a],[1,149,"NumpadBackspace",0,a,0,a,a,a],[1,150,"NumpadMemoryStore",0,a,0,a,a,a],[1,151,"NumpadMemoryRecall",0,a,0,a,a,a],[1,152,"NumpadMemoryClear",0,a,0,a,a,a],[1,153,"NumpadMemoryAdd",0,a,0,a,a,a],[1,154,"NumpadMemorySubtract",0,a,0,a,a,a],[1,155,"NumpadClear",131,"Clear",12,"VK_CLEAR",a,a],[1,156,"NumpadClearEntry",0,a,0,a,a,a],[1,0,a,5,"Ctrl",17,"VK_CONTROL",a,a],[1,0,a,4,"Shift",16,"VK_SHIFT",a,a],[1,0,a,6,"Alt",18,"VK_MENU",a,a],[1,0,a,57,"Meta",91,"VK_COMMAND",a,a],[1,157,"ControlLeft",5,a,0,"VK_LCONTROL",a,a],[1,158,"ShiftLeft",4,a,0,"VK_LSHIFT",a,a],[1,159,"AltLeft",6,a,0,"VK_LMENU",a,a],[1,160,"MetaLeft",57,a,0,"VK_LWIN",a,a],[1,161,"ControlRight",5,a,0,"VK_RCONTROL",a,a],[1,162,"ShiftRight",4,a,0,"VK_RSHIFT",a,a],[1,163,"AltRight",6,a,0,"VK_RMENU",a,a],[1,164,"MetaRight",57,a,0,"VK_RWIN",a,a],[1,165,"BrightnessUp",0,a,0,a,a,a],[1,166,"BrightnessDown",0,a,0,a,a,a],[1,167,"MediaPlay",0,a,0,a,a,a],[1,168,"MediaRecord",0,a,0,a,a,a],[1,169,"MediaFastForward",0,a,0,a,a,a],[1,170,"MediaRewind",0,a,0,a,a,a],[1,171,"MediaTrackNext",124,"MediaTrackNext",176,"VK_MEDIA_NEXT_TRACK",a,a],[1,172,"MediaTrackPrevious",125,"MediaTrackPrevious",177,"VK_MEDIA_PREV_TRACK",a,a],[1,173,"MediaStop",126,"MediaStop",178,"VK_MEDIA_STOP",a,a],[1,174,"Eject",0,a,0,a,a,a],[1,175,"MediaPlayPause",127,"MediaPlayPause",179,"VK_MEDIA_PLAY_PAUSE",a,a],[1,176,"MediaSelect",128,"LaunchMediaPlayer",181,"VK_MEDIA_LAUNCH_MEDIA_SELECT",a,a],[1,177,"LaunchMail",129,"LaunchMail",180,"VK_MEDIA_LAUNCH_MAIL",a,a],[1,178,"LaunchApp2",130,"LaunchApp2",183,"VK_MEDIA_LAUNCH_APP2",a,a],[1,179,"LaunchApp1",0,a,0,"VK_MEDIA_LAUNCH_APP1",a,a],[1,180,"SelectTask",0,a,0,a,a,a],[1,181,"LaunchScreenSaver",0,a,0,a,a,a],[1,182,"BrowserSearch",120,"BrowserSearch",170,"VK_BROWSER_SEARCH",a,a],[1,183,"BrowserHome",121,"BrowserHome",172,"VK_BROWSER_HOME",a,a],[1,184,"BrowserBack",122,"BrowserBack",166,"VK_BROWSER_BACK",a,a],[1,185,"BrowserForward",123,"BrowserForward",167,"VK_BROWSER_FORWARD",a,a],[1,186,"BrowserStop",0,a,0,"VK_BROWSER_STOP",a,a],[1,187,"BrowserRefresh",0,a,0,"VK_BROWSER_REFRESH",a,a],[1,188,"BrowserFavorites",0,a,0,"VK_BROWSER_FAVORITES",a,a],[1,189,"ZoomToggle",0,a,0,a,a,a],[1,190,"MailReply",0,a,0,a,a,a],[1,191,"MailForward",0,a,0,a,a,a],[1,192,"MailSend",0,a,0,a,a,a],[1,0,a,114,"KeyInComposition",229,a,a,a],[1,0,a,116,"ABNT_C2",194,"VK_ABNT_C2",a,a],[1,0,a,96,"OEM_8",223,"VK_OEM_8",a,a],[1,0,a,0,a,0,"VK_KANA",a,a],[1,0,a,0,a,0,"VK_HANGUL",a,a],[1,0,a,0,a,0,"VK_JUNJA",a,a],[1,0,a,0,a,0,"VK_FINAL",a,a],[1,0,a,0,a,0,"VK_HANJA",a,a],[1,0,a,0,a,0,"VK_KANJI",a,a],[1,0,a,0,a,0,"VK_CONVERT",a,a],[1,0,a,0,a,0,"VK_NONCONVERT",a,a],[1,0,a,0,a,0,"VK_ACCEPT",a,a],[1,0,a,0,a,0,"VK_MODECHANGE",a,a],[1,0,a,0,a,0,"VK_SELECT",a,a],[1,0,a,0,a,0,"VK_PRINT",a,a],[1,0,a,0,a,0,"VK_EXECUTE",a,a],[1,0,a,0,a,0,"VK_SNAPSHOT",a,a],[1,0,a,0,a,0,"VK_HELP",a,a],[1,0,a,0,a,0,"VK_APPS",a,a],[1,0,a,0,a,0,"VK_PROCESSKEY",a,a],[1,0,a,0,a,0,"VK_PACKET",a,a],[1,0,a,0,a,0,"VK_DBE_SBCSCHAR",a,a],[1,0,a,0,a,0,"VK_DBE_DBCSCHAR",a,a],[1,0,a,0,a,0,"VK_ATTN",a,a],[1,0,a,0,a,0,"VK_CRSEL",a,a],[1,0,a,0,a,0,"VK_EXSEL",a,a],[1,0,a,0,a,0,"VK_EREOF",a,a],[1,0,a,0,a,0,"VK_PLAY",a,a],[1,0,a,0,a,0,"VK_ZOOM",a,a],[1,0,a,0,a,0,"VK_NONAME",a,a],[1,0,a,0,a,0,"VK_PA1",a,a],[1,0,a,0,a,0,"VK_OEM_CLEAR",a,a]],i=[],t=[];for(const n of s){const[h,v,u,d,r,l,o,g,c]=n;if(t[v]||(t[v]=!0,y[v]=u,p[u]=v,w[u.toLowerCase()]=v,h&&(e.IMMUTABLE_CODE_TO_KEY_CODE[v]=d,d!==0&&d!==3&&d!==5&&d!==4&&d!==6&&d!==57&&(e.IMMUTABLE_KEY_CODE_TO_CODE[d]=v))),!i[d]){if(i[d]=!0,!r)throw new Error(`String representation missing for key code ${d} around scan code ${u}`);k.define(d,r),D.define(d,g||r),L.define(d,c||g||r)}l&&(e.EVENT_KEY_CODE_MAP[l]=d),o&&(e.NATIVE_WINDOWS_KEY_CODE_TO_KEY_CODE[o]=d)}e.IMMUTABLE_KEY_CODE_TO_CODE[3]=46})();var C;(function(a){function s(u){return k.keyCodeToStr(u)}a.toString=s;function i(u){return k.strToKeyCode(u)}a.fromString=i;function t(u){return D.keyCodeToStr(u)}a.toUserSettingsUS=t;function n(u){return L.keyCodeToStr(u)}a.toUserSettingsGeneral=n;function h(u){return D.strToKeyCode(u)||L.strToKeyCode(u)}a.fromUserSettings=h;function v(u){if(u>=98&&u<=113)return null;switch(u){case 16:return"Up";case 18:return"Down";case 15:return"Left";case 17:return"Right"}return k.keyCodeToStr(u)}a.toElectronAccelerator=v})(C||(e.KeyCodeUtils=C={}));function b(a,s){const i=(s&65535)<<16>>>0;return(a|i)>>>0}}),define(te[133],ie([1,0,12]),function(J,e,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ResolvedKeybinding=e.ResolvedChord=e.Keybinding=e.ScanCodeChord=e.KeyCodeChord=void 0,e.decodeKeybinding=k,e.createSimpleKeybinding=D;function k(b,a){if(typeof b=="number"){if(b===0)return null;const s=(b&65535)>>>0,i=(b&4294901760)>>>16;return i!==0?new p([D(s,a),D(i,a)]):new p([D(s,a)])}else{const s=[];for(let i=0;i<b.length;i++)s.push(D(b[i],a));return new p(s)}}function D(b,a){const s=!!(b&2048),i=!!(b&256),t=a===2?i:s,n=!!(b&1024),h=!!(b&512),v=a===2?s:i,u=b&255;return new L(t,n,h,v,u)}class L{constructor(a,s,i,t,n){this.ctrlKey=a,this.shiftKey=s,this.altKey=i,this.metaKey=t,this.keyCode=n}equals(a){return a instanceof L&&this.ctrlKey===a.ctrlKey&&this.shiftKey===a.shiftKey&&this.altKey===a.altKey&&this.metaKey===a.metaKey&&this.keyCode===a.keyCode}isModifierKey(){return this.keyCode===0||this.keyCode===5||this.keyCode===57||this.keyCode===6||this.keyCode===4}isDuplicateModifierCase(){return this.ctrlKey&&this.keyCode===5||this.shiftKey&&this.keyCode===4||this.altKey&&this.keyCode===6||this.metaKey&&this.keyCode===57}}e.KeyCodeChord=L;class y{constructor(a,s,i,t,n){this.ctrlKey=a,this.shiftKey=s,this.altKey=i,this.metaKey=t,this.scanCode=n}isDuplicateModifierCase(){return this.ctrlKey&&(this.scanCode===157||this.scanCode===161)||this.shiftKey&&(this.scanCode===158||this.scanCode===162)||this.altKey&&(this.scanCode===159||this.scanCode===163)||this.metaKey&&(this.scanCode===160||this.scanCode===164)}}e.ScanCodeChord=y;class p{constructor(a){if(a.length===0)throw(0,m.illegalArgument)("chords");this.chords=a}}e.Keybinding=p;class w{constructor(a,s,i,t,n,h){this.ctrlKey=a,this.shiftKey=s,this.altKey=i,this.metaKey=t,this.keyLabel=n,this.keyAriaLabel=h}}e.ResolvedChord=w;class C{}e.ResolvedKeybinding=C}),define(te[99],ie([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Lazy=void 0;class m{constructor(D){this.executor=D,this._didRun=!1}get value(){if(!this._didRun)try{this._value=this.executor()}catch(D){this._error=D}finally{this._didRun=!0}if(this._error)throw this._error;return this._value}get rawValue(){return this._value}}e.Lazy=m}),define(te[44],ie([1,0,99]),function(J,e,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setHoverDelegateFactory=p,e.getDefaultHoverDelegate=w,e.createInstantHoverDelegate=C;let D=()=>({get delay(){return-1},dispose:()=>{},showHover:()=>{}});const L=new m.Lazy(()=>D("mouse",!1)),y=new m.Lazy(()=>D("element",!1));function p(b){D=b}function w(b){return b==="element"?y.value:L.value}function C(){return D("element",!0)}}),define(te[154],ie([1,0,99]),function(J,e,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VSBuffer=void 0,e.readUInt16LE=p,e.writeUInt16LE=w,e.readUInt32BE=C,e.writeUInt32BE=b,e.readUInt8=a,e.writeUInt8=s;const k=typeof Buffer<"u",D=new m.Lazy(()=>new Uint8Array(256));let L;class y{static wrap(t){return k&&!Buffer.isBuffer(t)&&(t=Buffer.from(t.buffer,t.byteOffset,t.byteLength)),new y(t)}constructor(t){this.buffer=t,this.byteLength=this.buffer.byteLength}toString(){return k?this.buffer.toString():(L||(L=new TextDecoder),L.decode(this.buffer))}}e.VSBuffer=y;function p(i,t){return i[t+0]<<0>>>0|i[t+1]<<8>>>0}function w(i,t,n){i[n+0]=t&255,t=t>>>8,i[n+1]=t&255}function C(i,t){return i[t]*2**24+i[t+1]*2**16+i[t+2]*2**8+i[t+3]}function b(i,t,n){i[n+3]=t,t=t>>>8,i[n+2]=t,t=t>>>8,i[n+1]=t,t=t>>>8,i[n]=t}function a(i,t){return i[t]}function s(i,t,n){i[n]=t}}),define(te[418],ie([1,0,99]),function(J,e,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.compareFileNames=y,e.compareAnything=p,e.compareByPrefix=w;const k=new m.Lazy(()=>{const C=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"});return{collator:C,collatorIsNumeric:C.resolvedOptions().numeric}}),D=new m.Lazy(()=>({collator:new Intl.Collator(void 0,{numeric:!0})})),L=new m.Lazy(()=>({collator:new Intl.Collator(void 0,{numeric:!0,sensitivity:"accent"})}));function y(C,b,a=!1){const s=C||"",i=b||"",t=k.value.collator.compare(s,i);return k.value.collatorIsNumeric&&t===0&&s!==i?s<i?-1:1:t}function p(C,b,a){const s=C.toLowerCase(),i=b.toLowerCase(),t=w(C,b,a);if(t)return t;const n=s.endsWith(a),h=i.endsWith(a);if(n!==h)return n?-1:1;const v=y(s,i);return v!==0?v:s.localeCompare(i)}function w(C,b,a){const s=C.toLowerCase(),i=b.toLowerCase(),t=s.startsWith(a),n=i.startsWith(a);if(t!==n)return t?-1:1;if(t&&n){if(s.length<i.length)return-1;if(s.length>i.length)return 1}return 0}}),define(te[2],ie([1,0,119,54]),function(J,e,m,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DisposableMap=e.ImmortalReference=e.RefCountedDisposable=e.MutableDisposable=e.Disposable=e.DisposableStore=void 0,e.setDisposableTracker=y,e.trackDisposable=p,e.markAsDisposed=w,e.markAsSingleton=a,e.isDisposable=s,e.dispose=i,e.combinedDisposable=t,e.toDisposable=n;const D=!1;let L=null;function y(o){L=o}if(D){const o="__is_disposable_tracked__";y(new class{trackDisposable(g){const c=new Error("Potentially leaked disposable").stack;setTimeout(()=>{g[o]||console.log(c)},3e3)}setParent(g,c){if(g&&g!==v.None)try{g[o]=!0}catch{}}markAsDisposed(g){if(g&&g!==v.None)try{g[o]=!0}catch{}}markAsSingleton(g){}})}function p(o){return L?.trackDisposable(o),o}function w(o){L?.markAsDisposed(o)}function C(o,g){L?.setParent(o,g)}function b(o,g){if(L)for(const c of o)L.setParent(c,g)}function a(o){return L?.markAsSingleton(o),o}function s(o){return typeof o.dispose=="function"&&o.dispose.length===0}function i(o){if(k.Iterable.is(o)){const g=[];for(const c of o)if(c)try{c.dispose()}catch(f){g.push(f)}if(g.length===1)throw g[0];if(g.length>1)throw new AggregateError(g,"Encountered errors while disposing of store");return Array.isArray(o)?[]:o}else if(o)return o.dispose(),o}function t(...o){const g=n(()=>i(o));return b(o,g),g}function n(o){const g=p({dispose:(0,m.createSingleCallFunction)(()=>{w(g),o()})});return g}class h{constructor(){this._toDispose=new Set,this._isDisposed=!1,p(this)}dispose(){this._isDisposed||(w(this),this._isDisposed=!0,this.clear())}get isDisposed(){return this._isDisposed}clear(){if(this._toDispose.size!==0)try{i(this._toDispose)}finally{this._toDispose.clear()}}add(g){if(!g)return g;if(g===this)throw new Error("Cannot register a disposable on itself!");return C(g,this),this._isDisposed?h.DISABLE_DISPOSED_WARNING||console.warn(new Error("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack):this._toDispose.add(g),g}deleteAndLeak(g){g&&this._toDispose.has(g)&&(this._toDispose.delete(g),C(g,null))}}e.DisposableStore=h,h.DISABLE_DISPOSED_WARNING=!1;class v{constructor(){this._store=new h,p(this),C(this._store,this)}dispose(){w(this),this._store.dispose()}_register(g){if(g===this)throw new Error("Cannot register a disposable on itself!");return this._store.add(g)}}e.Disposable=v,v.None=Object.freeze({dispose(){}});class u{constructor(){this._isDisposed=!1,p(this)}get value(){return this._isDisposed?void 0:this._value}set value(g){var c;this._isDisposed||g===this._value||((c=this._value)===null||c===void 0||c.dispose(),g&&C(g,this),this._value=g)}clear(){this.value=void 0}dispose(){var g;this._isDisposed=!0,w(this),(g=this._value)===null||g===void 0||g.dispose(),this._value=void 0}}e.MutableDisposable=u;class d{constructor(g){this._disposable=g,this._counter=1}acquire(){return this._counter++,this}release(){return--this._counter===0&&this._disposable.dispose(),this}}e.RefCountedDisposable=d;class r{constructor(g){this.object=g}dispose(){}}e.ImmortalReference=r;class l{constructor(){this._store=new Map,this._isDisposed=!1,p(this)}dispose(){w(this),this._isDisposed=!0,this.clearAndDisposeAll()}clearAndDisposeAll(){if(this._store.size)try{i(this._store.values())}finally{this._store.clear()}}get(g){return this._store.get(g)}set(g,c,f=!1){var _;this._isDisposed&&console.warn(new Error("Trying to add a disposable to a DisposableMap that has already been disposed of. The added object will be leaked!").stack),f||(_=this._store.get(g))===null||_===void 0||_.dispose(),this._store.set(g,c)}deleteAndDispose(g){var c;(c=this._store.get(g))===null||c===void 0||c.dispose(),this._store.delete(g)}[Symbol.iterator](){return this._store[Symbol.iterator]()}}e.DisposableMap=l}),define(te[69],ie([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinkedList=void 0;class m{constructor(L){this.element=L,this.next=m.Undefined,this.prev=m.Undefined}}m.Undefined=new m(void 0);class k{constructor(){this._first=m.Undefined,this._last=m.Undefined,this._size=0}get size(){return this._size}isEmpty(){return this._first===m.Undefined}clear(){let L=this._first;for(;L!==m.Undefined;){const y=L.next;L.prev=m.Undefined,L.next=m.Undefined,L=y}this._first=m.Undefined,this._last=m.Undefined,this._size=0}unshift(L){return this._insert(L,!1)}push(L){return this._insert(L,!0)}_insert(L,y){const p=new m(L);if(this._first===m.Undefined)this._first=p,this._last=p;else if(y){const C=this._last;this._last=p,p.prev=C,C.next=p}else{const C=this._first;this._first=p,p.next=C,C.prev=p}this._size+=1;let w=!1;return()=>{w||(w=!0,this._remove(p))}}shift(){if(this._first!==m.Undefined){const L=this._first.element;return this._remove(this._first),L}}pop(){if(this._last!==m.Undefined){const L=this._last.element;return this._remove(this._last),L}}_remove(L){if(L.prev!==m.Undefined&&L.next!==m.Undefined){const y=L.prev;y.next=L.next,L.next.prev=y}else L.prev===m.Undefined&&L.next===m.Undefined?(this._first=m.Undefined,this._last=m.Undefined):L.next===m.Undefined?(this._last=this._last.prev,this._last.next=m.Undefined):L.prev===m.Undefined&&(this._first=this._first.next,this._first.prev=m.Undefined);this._size-=1}*[Symbol.iterator](){let L=this._first;for(;L!==m.Undefined;)yield L.element,L=L.next}}e.LinkedList=k});var Ie=this&&this.__decorate||function(J,e,m,k){var D=arguments.length,L=D<3?e:k===null?k=Object.getOwnPropertyDescriptor(e,m):k,y;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")L=Reflect.decorate(J,e,m,k);else for(var p=J.length-1;p>=0;p--)(y=J[p])&&(L=(D<3?y(L):D>3?y(e,m,L):y(e,m))||L);return D>3&&L&&Object.defineProperty(e,m,L),L};define(te[419],ie([1,0,118]),function(J,e,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinkedText=void 0,e.parseLinkedText=L;class k{constructor(p){this.nodes=p}toString(){return this.nodes.map(p=>typeof p=="string"?p:p.label).join("")}}e.LinkedText=k,Ie([m.memoize],k.prototype,"toString",null);const D=/\[([^\]]+)\]\(((?:https?:\/\/|command:|file:)[^\)\s]+)(?: (["'])(.+?)(\3))?\)/gi;function L(y){const p=[];let w=0,C;for(;C=D.exec(y);){C.index-w>0&&p.push(y.substring(w,C.index));const[,b,a,,s]=C;s?p.push({label:b,href:a,title:s}):p.push({label:b,href:a}),w=C.index+C[0].length}return w<y.length&&p.push(y.substring(w)),new k(p)}}),define(te[47],ie([1,0]),function(J,e){"use strict";var m,k;Object.defineProperty(e,"__esModule",{value:!0}),e.SetMap=e.BidirectionalMap=e.LRUCache=e.LinkedMap=e.ResourceMap=void 0;class D{constructor(s,i){this.uri=s,this.value=i}}function L(a){return Array.isArray(a)}class y{constructor(s,i){if(this[m]="ResourceMap",s instanceof y)this.map=new Map(s.map),this.toKey=i??y.defaultToKey;else if(L(s)){this.map=new Map,this.toKey=i??y.defaultToKey;for(const[t,n]of s)this.set(t,n)}else this.map=new Map,this.toKey=s??y.defaultToKey}set(s,i){return this.map.set(this.toKey(s),new D(s,i)),this}get(s){var i;return(i=this.map.get(this.toKey(s)))===null||i===void 0?void 0:i.value}has(s){return this.map.has(this.toKey(s))}get size(){return this.map.size}clear(){this.map.clear()}delete(s){return this.map.delete(this.toKey(s))}forEach(s,i){typeof i<"u"&&(s=s.bind(i));for(const[t,n]of this.map)s(n.value,n.uri,this)}*values(){for(const s of this.map.values())yield s.value}*keys(){for(const s of this.map.values())yield s.uri}*entries(){for(const s of this.map.values())yield[s.uri,s.value]}*[(m=Symbol.toStringTag,Symbol.iterator)](){for(const[,s]of this.map)yield[s.uri,s.value]}}e.ResourceMap=y,y.defaultToKey=a=>a.toString();class p{constructor(){this[k]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var s;return(s=this._head)===null||s===void 0?void 0:s.value}get last(){var s;return(s=this._tail)===null||s===void 0?void 0:s.value}has(s){return this._map.has(s)}get(s,i=0){const t=this._map.get(s);if(t)return i!==0&&this.touch(t,i),t.value}set(s,i,t=0){let n=this._map.get(s);if(n)n.value=i,t!==0&&this.touch(n,t);else{switch(n={key:s,value:i,next:void 0,previous:void 0},t){case 0:this.addItemLast(n);break;case 1:this.addItemFirst(n);break;case 2:this.addItemLast(n);break;default:this.addItemLast(n);break}this._map.set(s,n),this._size++}return this}delete(s){return!!this.remove(s)}remove(s){const i=this._map.get(s);if(i)return this._map.delete(s),this.removeItem(i),this._size--,i.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const s=this._head;return this._map.delete(s.key),this.removeItem(s),this._size--,s.value}forEach(s,i){const t=this._state;let n=this._head;for(;n;){if(i?s.bind(i)(n.value,n.key,this):s(n.value,n.key,this),this._state!==t)throw new Error("LinkedMap got modified during iteration.");n=n.next}}keys(){const s=this,i=this._state;let t=this._head;const n={[Symbol.iterator](){return n},next(){if(s._state!==i)throw new Error("LinkedMap got modified during iteration.");if(t){const h={value:t.key,done:!1};return t=t.next,h}else return{value:void 0,done:!0}}};return n}values(){const s=this,i=this._state;let t=this._head;const n={[Symbol.iterator](){return n},next(){if(s._state!==i)throw new Error("LinkedMap got modified during iteration.");if(t){const h={value:t.value,done:!1};return t=t.next,h}else return{value:void 0,done:!0}}};return n}entries(){const s=this,i=this._state;let t=this._head;const n={[Symbol.iterator](){return n},next(){if(s._state!==i)throw new Error("LinkedMap got modified during iteration.");if(t){const h={value:[t.key,t.value],done:!1};return t=t.next,h}else return{value:void 0,done:!0}}};return n}[(k=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(s){if(s>=this.size)return;if(s===0){this.clear();return}let i=this._head,t=this.size;for(;i&&t>s;)this._map.delete(i.key),i=i.next,t--;this._head=i,this._size=t,i&&(i.previous=void 0),this._state++}addItemFirst(s){if(!this._head&&!this._tail)this._tail=s;else if(this._head)s.next=this._head,this._head.previous=s;else throw new Error("Invalid list");this._head=s,this._state++}addItemLast(s){if(!this._head&&!this._tail)this._head=s;else if(this._tail)s.previous=this._tail,this._tail.next=s;else throw new Error("Invalid list");this._tail=s,this._state++}removeItem(s){if(s===this._head&&s===this._tail)this._head=void 0,this._tail=void 0;else if(s===this._head){if(!s.next)throw new Error("Invalid list");s.next.previous=void 0,this._head=s.next}else if(s===this._tail){if(!s.previous)throw new Error("Invalid list");s.previous.next=void 0,this._tail=s.previous}else{const i=s.next,t=s.previous;if(!i||!t)throw new Error("Invalid list");i.previous=t,t.next=i}s.next=void 0,s.previous=void 0,this._state++}touch(s,i){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(i!==1&&i!==2)){if(i===1){if(s===this._head)return;const t=s.next,n=s.previous;s===this._tail?(n.next=void 0,this._tail=n):(t.previous=n,n.next=t),s.previous=void 0,s.next=this._head,this._head.previous=s,this._head=s,this._state++}else if(i===2){if(s===this._tail)return;const t=s.next,n=s.previous;s===this._head?(t.previous=void 0,this._head=t):(t.previous=n,n.next=t),s.next=void 0,s.previous=this._tail,this._tail.next=s,this._tail=s,this._state++}}}toJSON(){const s=[];return this.forEach((i,t)=>{s.push([t,i])}),s}fromJSON(s){this.clear();for(const[i,t]of s)this.set(i,t)}}e.LinkedMap=p;class w extends p{constructor(s,i=1){super(),this._limit=s,this._ratio=Math.min(Math.max(0,i),1)}get limit(){return this._limit}set limit(s){this._limit=s,this.checkTrim()}get(s,i=2){return super.get(s,i)}peek(s){return super.get(s,0)}set(s,i){return super.set(s,i,2),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}}e.LRUCache=w;class C{constructor(s){if(this._m1=new Map,this._m2=new Map,s)for(const[i,t]of s)this.set(i,t)}clear(){this._m1.clear(),this._m2.clear()}set(s,i){this._m1.set(s,i),this._m2.set(i,s)}get(s){return this._m1.get(s)}getKey(s){return this._m2.get(s)}delete(s){const i=this._m1.get(s);return i===void 0?!1:(this._m1.delete(s),this._m2.delete(i),!0)}keys(){return this._m1.keys()}values(){return this._m1.values()}}e.BidirectionalMap=C;class b{constructor(){this.map=new Map}add(s,i){let t=this.map.get(s);t||(t=new Set,this.map.set(s,t)),t.add(i)}delete(s,i){const t=this.map.get(s);t&&(t.delete(i),t.size===0&&this.map.delete(s))}forEach(s,i){const t=this.map.get(s);t&&t.forEach(i)}get(s){const i=this.map.get(s);return i||new Set}}e.SetMap=b}),function(J,e){typeof define=="function"&&define.amd?define(te[420],ie([0]),e):typeof exports=="object"&&typeof module<"u"?e(exports):(J=typeof globalThis<"u"?globalThis:J||self,e(J.marked={}))}(this,function(J){"use strict";function e(de,ee){for(var W=0;W<ee.length;W++){var z=ee[W];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(de,z.key,z)}}function m(de,ee,W){return ee&&e(de.prototype,ee),W&&e(de,W),Object.defineProperty(de,"prototype",{writable:!1}),de}function k(de,ee){if(de){if(typeof de=="string")return D(de,ee);var W=Object.prototype.toString.call(de).slice(8,-1);if(W==="Object"&&de.constructor&&(W=de.constructor.name),W==="Map"||W==="Set")return Array.from(de);if(W==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(W))return D(de,ee)}}function D(de,ee){(ee==null||ee>de.length)&&(ee=de.length);for(var W=0,z=new Array(ee);W<ee;W++)z[W]=de[W];return z}function L(de,ee){var W=typeof Symbol<"u"&&de[Symbol.iterator]||de["@@iterator"];if(W)return(W=W.call(de)).next.bind(W);if(Array.isArray(de)||(W=k(de))||ee&&de&&typeof de.length=="number"){W&&(de=W);var z=0;return function(){return z>=de.length?{done:!0}:{done:!1,value:de[z++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function y(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}J.defaults=y();function p(de){J.defaults=de}var w=/[&<>"']/,C=/[&<>"']/g,b=/[<>"']|&(?!#?\w+;)/,a=/[<>"']|&(?!#?\w+;)/g,s={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},i=function(ee){return s[ee]};function t(de,ee){if(ee){if(w.test(de))return de.replace(C,i)}else if(b.test(de))return de.replace(a,i);return de}var n=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function h(de){return de.replace(n,function(ee,W){return W=W.toLowerCase(),W==="colon"?":":W.charAt(0)==="#"?W.charAt(1)==="x"?String.fromCharCode(parseInt(W.substring(2),16)):String.fromCharCode(+W.substring(1)):""})}var v=/(^|[^\[])\^/g;function u(de,ee){de=typeof de=="string"?de:de.source,ee=ee||"";var W={replace:function(Y,j){return j=j.source||j,j=j.replace(v,"$1"),de=de.replace(Y,j),W},getRegex:function(){return new RegExp(de,ee)}};return W}var d=/[^\w:]/g,r=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function l(de,ee,W){if(de){var z;try{z=decodeURIComponent(h(W)).replace(d,"").toLowerCase()}catch{return null}if(z.indexOf("javascript:")===0||z.indexOf("vbscript:")===0||z.indexOf("data:")===0)return null}ee&&!r.test(W)&&(W=_(ee,W));try{W=encodeURI(W).replace(/%25/g,"%")}catch{return null}return W}var o={},g=/^[^:]+:\/*[^/]*$/,c=/^([^:]+:)[\s\S]*$/,f=/^([^:]+:\/*[^/]*)[\s\S]*$/;function _(de,ee){o[" "+de]||(g.test(de)?o[" "+de]=de+"/":o[" "+de]=T(de,"/",!0)),de=o[" "+de];var W=de.indexOf(":")===-1;return ee.substring(0,2)==="//"?W?ee:de.replace(c,"$1")+ee:ee.charAt(0)==="/"?W?ee:de.replace(f,"$1")+ee:de+ee}var S={exec:function(){}};function I(de){for(var ee=1,W,z;ee<arguments.length;ee++){W=arguments[ee];for(z in W)Object.prototype.hasOwnProperty.call(W,z)&&(de[z]=W[z])}return de}function E(de,ee){var W=de.replace(/\|/g,function(j,G,oe){for(var ne=!1,ce=G;--ce>=0&&oe[ce]==="\\";)ne=!ne;return ne?"|":" |"}),z=W.split(/ \|/),Y=0;if(z[0].trim()||z.shift(),z.length>0&&!z[z.length-1].trim()&&z.pop(),z.length>ee)z.splice(ee);else for(;z.length<ee;)z.push("");for(;Y<z.length;Y++)z[Y]=z[Y].trim().replace(/\\\|/g,"|");return z}function T(de,ee,W){var z=de.length;if(z===0)return"";for(var Y=0;Y<z;){var j=de.charAt(z-Y-1);if(j===ee&&!W)Y++;else if(j!==ee&&W)Y++;else break}return de.slice(0,z-Y)}function N(de,ee){if(de.indexOf(ee[1])===-1)return-1;for(var W=de.length,z=0,Y=0;Y<W;Y++)if(de[Y]==="\\")Y++;else if(de[Y]===ee[0])z++;else if(de[Y]===ee[1]&&(z--,z<0))return Y;return-1}function A(de){de&&de.sanitize&&!de.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function O(de,ee){if(ee<1)return"";for(var W="";ee>1;)ee&1&&(W+=de),ee>>=1,de+=de;return W+de}function M(de,ee,W,z){var Y=ee.href,j=ee.title?t(ee.title):null,G=de[1].replace(/\\([\[\]])/g,"$1");if(de[0].charAt(0)!=="!"){z.state.inLink=!0;var oe={type:"link",raw:W,href:Y,title:j,text:G,tokens:z.inlineTokens(G)};return z.state.inLink=!1,oe}return{type:"image",raw:W,href:Y,title:j,text:t(G)}}function P(de,ee){var W=de.match(/^(\s+)(?:```)/);if(W===null)return ee;var z=W[1];return ee.split(`
`).map(function(Y){var j=Y.match(/^\s+/);if(j===null)return Y;var G=j[0];return G.length>=z.length?Y.slice(z.length):Y}).join(`
`)}var x=function(){function de(W){this.options=W||J.defaults}var ee=de.prototype;return ee.space=function(z){var Y=this.rules.block.newline.exec(z);if(Y&&Y[0].length>0)return{type:"space",raw:Y[0]}},ee.code=function(z){var Y=this.rules.block.code.exec(z);if(Y){var j=Y[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:Y[0],codeBlockStyle:"indented",text:this.options.pedantic?j:T(j,`
`)}}},ee.fences=function(z){var Y=this.rules.block.fences.exec(z);if(Y){var j=Y[0],G=P(j,Y[3]||"");return{type:"code",raw:j,lang:Y[2]?Y[2].trim():Y[2],text:G}}},ee.heading=function(z){var Y=this.rules.block.heading.exec(z);if(Y){var j=Y[2].trim();if(/#$/.test(j)){var G=T(j,"#");(this.options.pedantic||!G||/ $/.test(G))&&(j=G.trim())}return{type:"heading",raw:Y[0],depth:Y[1].length,text:j,tokens:this.lexer.inline(j)}}},ee.hr=function(z){var Y=this.rules.block.hr.exec(z);if(Y)return{type:"hr",raw:Y[0]}},ee.blockquote=function(z){var Y=this.rules.block.blockquote.exec(z);if(Y){var j=Y[0].replace(/^ *>[ \t]?/gm,"");return{type:"blockquote",raw:Y[0],tokens:this.lexer.blockTokens(j,[]),text:j}}},ee.list=function(z){var Y=this.rules.block.list.exec(z);if(Y){var j,G,oe,ne,ce,le,me,ve,Ce,Se,_e,Le,ke=Y[1].trim(),Ae=ke.length>1,xe={type:"list",raw:"",ordered:Ae,start:Ae?+ke.slice(0,-1):"",loose:!1,items:[]};ke=Ae?"\\d{1,9}\\"+ke.slice(-1):"\\"+ke,this.options.pedantic&&(ke=Ae?ke:"[*+-]");for(var He=new RegExp("^( {0,3}"+ke+")((?:[	 ][^\\n]*)?(?:\\n|$))");z&&(Le=!1,!(!(Y=He.exec(z))||this.rules.block.hr.test(z)));){if(j=Y[0],z=z.substring(j.length),ve=Y[2].split(`
`,1)[0],Ce=z.split(`
`,1)[0],this.options.pedantic?(ne=2,_e=ve.trimLeft()):(ne=Y[2].search(/[^ ]/),ne=ne>4?1:ne,_e=ve.slice(ne),ne+=Y[1].length),le=!1,!ve&&/^ *$/.test(Ce)&&(j+=Ce+`
`,z=z.substring(Ce.length+1),Le=!0),!Le)for(var Be=new RegExp("^ {0,"+Math.min(3,ne-1)+"}(?:[*+-]|\\d{1,9}[.)])((?: [^\\n]*)?(?:\\n|$))"),Ee=new RegExp("^ {0,"+Math.min(3,ne-1)+"}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)"),Ne=new RegExp("^ {0,"+Math.min(3,ne-1)+"}(?:```|~~~)"),pe=new RegExp("^ {0,"+Math.min(3,ne-1)+"}#");z&&(Se=z.split(`
`,1)[0],ve=Se,this.options.pedantic&&(ve=ve.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(Ne.test(ve)||pe.test(ve)||Be.test(ve)||Ee.test(z)));){if(ve.search(/[^ ]/)>=ne||!ve.trim())_e+=`
`+ve.slice(ne);else if(!le)_e+=`
`+ve;else break;!le&&!ve.trim()&&(le=!0),j+=Se+`
`,z=z.substring(Se.length+1)}xe.loose||(me?xe.loose=!0:/\n *\n *$/.test(j)&&(me=!0)),this.options.gfm&&(G=/^\[[ xX]\] /.exec(_e),G&&(oe=G[0]!=="[ ] ",_e=_e.replace(/^\[[ xX]\] +/,""))),xe.items.push({type:"list_item",raw:j,task:!!G,checked:oe,loose:!1,text:_e}),xe.raw+=j}xe.items[xe.items.length-1].raw=j.trimRight(),xe.items[xe.items.length-1].text=_e.trimRight(),xe.raw=xe.raw.trimRight();var be=xe.items.length;for(ce=0;ce<be;ce++){this.lexer.state.top=!1,xe.items[ce].tokens=this.lexer.blockTokens(xe.items[ce].text,[]);var Re=xe.items[ce].tokens.filter(function(qe){return qe.type==="space"}),We=Re.every(function(qe){for(var je=qe.raw.split(""),Ze=0,Je=L(je),st;!(st=Je()).done;){var rt=st.value;if(rt===`
`&&(Ze+=1),Ze>1)return!0}return!1});!xe.loose&&Re.length&&We&&(xe.loose=!0,xe.items[ce].loose=!0)}return xe}},ee.html=function(z){var Y=this.rules.block.html.exec(z);if(Y){var j={type:"html",raw:Y[0],pre:!this.options.sanitizer&&(Y[1]==="pre"||Y[1]==="script"||Y[1]==="style"),text:Y[0]};if(this.options.sanitize){var G=this.options.sanitizer?this.options.sanitizer(Y[0]):t(Y[0]);j.type="paragraph",j.text=G,j.tokens=this.lexer.inline(G)}return j}},ee.def=function(z){var Y=this.rules.block.def.exec(z);if(Y){Y[3]&&(Y[3]=Y[3].substring(1,Y[3].length-1));var j=Y[1].toLowerCase().replace(/\s+/g," ");return{type:"def",tag:j,raw:Y[0],href:Y[2],title:Y[3]}}},ee.table=function(z){var Y=this.rules.block.table.exec(z);if(Y){var j={type:"table",header:E(Y[1]).map(function(me){return{text:me}}),align:Y[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:Y[3]&&Y[3].trim()?Y[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(j.header.length===j.align.length){j.raw=Y[0];var G=j.align.length,oe,ne,ce,le;for(oe=0;oe<G;oe++)/^ *-+: *$/.test(j.align[oe])?j.align[oe]="right":/^ *:-+: *$/.test(j.align[oe])?j.align[oe]="center":/^ *:-+ *$/.test(j.align[oe])?j.align[oe]="left":j.align[oe]=null;for(G=j.rows.length,oe=0;oe<G;oe++)j.rows[oe]=E(j.rows[oe],j.header.length).map(function(me){return{text:me}});for(G=j.header.length,ne=0;ne<G;ne++)j.header[ne].tokens=this.lexer.inline(j.header[ne].text);for(G=j.rows.length,ne=0;ne<G;ne++)for(le=j.rows[ne],ce=0;ce<le.length;ce++)le[ce].tokens=this.lexer.inline(le[ce].text);return j}}},ee.lheading=function(z){var Y=this.rules.block.lheading.exec(z);if(Y)return{type:"heading",raw:Y[0],depth:Y[2].charAt(0)==="="?1:2,text:Y[1],tokens:this.lexer.inline(Y[1])}},ee.paragraph=function(z){var Y=this.rules.block.paragraph.exec(z);if(Y){var j=Y[1].charAt(Y[1].length-1)===`
`?Y[1].slice(0,-1):Y[1];return{type:"paragraph",raw:Y[0],text:j,tokens:this.lexer.inline(j)}}},ee.text=function(z){var Y=this.rules.block.text.exec(z);if(Y)return{type:"text",raw:Y[0],text:Y[0],tokens:this.lexer.inline(Y[0])}},ee.escape=function(z){var Y=this.rules.inline.escape.exec(z);if(Y)return{type:"escape",raw:Y[0],text:t(Y[1])}},ee.tag=function(z){var Y=this.rules.inline.tag.exec(z);if(Y)return!this.lexer.state.inLink&&/^<a /i.test(Y[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(Y[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(Y[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(Y[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:Y[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(Y[0]):t(Y[0]):Y[0]}},ee.link=function(z){var Y=this.rules.inline.link.exec(z);if(Y){var j=Y[2].trim();if(!this.options.pedantic&&/^</.test(j)){if(!/>$/.test(j))return;var G=T(j.slice(0,-1),"\\");if((j.length-G.length)%2===0)return}else{var oe=N(Y[2],"()");if(oe>-1){var ne=Y[0].indexOf("!")===0?5:4,ce=ne+Y[1].length+oe;Y[2]=Y[2].substring(0,oe),Y[0]=Y[0].substring(0,ce).trim(),Y[3]=""}}var le=Y[2],me="";if(this.options.pedantic){var ve=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(le);ve&&(le=ve[1],me=ve[3])}else me=Y[3]?Y[3].slice(1,-1):"";return le=le.trim(),/^</.test(le)&&(this.options.pedantic&&!/>$/.test(j)?le=le.slice(1):le=le.slice(1,-1)),M(Y,{href:le&&le.replace(this.rules.inline._escapes,"$1"),title:me&&me.replace(this.rules.inline._escapes,"$1")},Y[0],this.lexer)}},ee.reflink=function(z,Y){var j;if((j=this.rules.inline.reflink.exec(z))||(j=this.rules.inline.nolink.exec(z))){var G=(j[2]||j[1]).replace(/\s+/g," ");if(G=Y[G.toLowerCase()],!G||!G.href){var oe=j[0].charAt(0);return{type:"text",raw:oe,text:oe}}return M(j,G,j[0],this.lexer)}},ee.emStrong=function(z,Y,j){j===void 0&&(j="");var G=this.rules.inline.emStrong.lDelim.exec(z);if(G&&!(G[3]&&j.match(/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDF70-\uDF81\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDE70-\uDEBE\uDEC0-\uDEC9\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/))){var oe=G[1]||G[2]||"";if(!oe||oe&&(j===""||this.rules.inline.punctuation.exec(j))){var ne=G[0].length-1,ce,le,me=ne,ve=0,Ce=G[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(Ce.lastIndex=0,Y=Y.slice(-1*z.length+ne);(G=Ce.exec(Y))!=null;)if(ce=G[1]||G[2]||G[3]||G[4]||G[5]||G[6],!!ce){if(le=ce.length,G[3]||G[4]){me+=le;continue}else if((G[5]||G[6])&&ne%3&&!((ne+le)%3)){ve+=le;continue}if(me-=le,!(me>0)){if(le=Math.min(le,le+me+ve),Math.min(ne,le)%2){var Se=z.slice(1,ne+G.index+le);return{type:"em",raw:z.slice(0,ne+G.index+le+1),text:Se,tokens:this.lexer.inlineTokens(Se)}}var _e=z.slice(2,ne+G.index+le-1);return{type:"strong",raw:z.slice(0,ne+G.index+le+1),text:_e,tokens:this.lexer.inlineTokens(_e)}}}}}},ee.codespan=function(z){var Y=this.rules.inline.code.exec(z);if(Y){var j=Y[2].replace(/\n/g," "),G=/[^ ]/.test(j),oe=/^ /.test(j)&&/ $/.test(j);return G&&oe&&(j=j.substring(1,j.length-1)),j=t(j,!0),{type:"codespan",raw:Y[0],text:j}}},ee.br=function(z){var Y=this.rules.inline.br.exec(z);if(Y)return{type:"br",raw:Y[0]}},ee.del=function(z){var Y=this.rules.inline.del.exec(z);if(Y)return{type:"del",raw:Y[0],text:Y[2],tokens:this.lexer.inlineTokens(Y[2])}},ee.autolink=function(z,Y){var j=this.rules.inline.autolink.exec(z);if(j){var G,oe;return j[2]==="@"?(G=t(this.options.mangle?Y(j[1]):j[1]),oe="mailto:"+G):(G=t(j[1]),oe=G),{type:"link",raw:j[0],text:G,href:oe,tokens:[{type:"text",raw:G,text:G}]}}},ee.url=function(z,Y){var j;if(j=this.rules.inline.url.exec(z)){var G,oe;if(j[2]==="@")G=t(this.options.mangle?Y(j[0]):j[0]),oe="mailto:"+G;else{var ne;do ne=j[0],j[0]=this.rules.inline._backpedal.exec(j[0])[0];while(ne!==j[0]);G=t(j[0]),j[1]==="www."?oe="http://"+G:oe=G}return{type:"link",raw:j[0],text:G,href:oe,tokens:[{type:"text",raw:G,text:G}]}}},ee.inlineText=function(z,Y){var j=this.rules.inline.text.exec(z);if(j){var G;return this.lexer.state.inRawBlock?G=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(j[0]):t(j[0]):j[0]:G=t(this.options.smartypants?Y(j[0]):j[0]),{type:"text",raw:j[0],text:G}}},de}(),R={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?<?([^\s>]+)>?(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:S,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};R._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/,R._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,R.def=u(R.def).replace("label",R._label).replace("title",R._title).getRegex(),R.bullet=/(?:[*+-]|\d{1,9}[.)])/,R.listItemStart=u(/^( *)(bull) */).replace("bull",R.bullet).getRegex(),R.list=u(R.list).replace(/bull/g,R.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+R.def.source+")").getRegex(),R._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",R._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,R.html=u(R.html,"i").replace("comment",R._comment).replace("tag",R._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),R.paragraph=u(R._paragraph).replace("hr",R.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",R._tag).getRegex(),R.blockquote=u(R.blockquote).replace("paragraph",R.paragraph).getRegex(),R.normal=I({},R),R.gfm=I({},R.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),R.gfm.table=u(R.gfm.table).replace("hr",R.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",R._tag).getRegex(),R.gfm.paragraph=u(R._paragraph).replace("hr",R.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",R.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",R._tag).getRegex(),R.pedantic=I({},R.normal,{html:u(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",R._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:S,paragraph:u(R.normal._paragraph).replace("hr",R.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",R.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var B={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:S,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^[^_*]*?\_\_[^_*]*?\*[^_*]*?(?=\_\_)|[^*]+(?=[^*])|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?\_[^_*]*?(?=\*\*)|[^_]+(?=[^_])|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:S,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};B._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",B.punctuation=u(B.punctuation).replace(/punctuation/g,B._punctuation).getRegex(),B.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,B.escapedEmSt=/\\\*|\\_/g,B._comment=u(R._comment).replace("(?:-->|$)","-->").getRegex(),B.emStrong.lDelim=u(B.emStrong.lDelim).replace(/punct/g,B._punctuation).getRegex(),B.emStrong.rDelimAst=u(B.emStrong.rDelimAst,"g").replace(/punct/g,B._punctuation).getRegex(),B.emStrong.rDelimUnd=u(B.emStrong.rDelimUnd,"g").replace(/punct/g,B._punctuation).getRegex(),B._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,B._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,B._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,B.autolink=u(B.autolink).replace("scheme",B._scheme).replace("email",B._email).getRegex(),B._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,B.tag=u(B.tag).replace("comment",B._comment).replace("attribute",B._attribute).getRegex(),B._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,B._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,B._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,B.link=u(B.link).replace("label",B._label).replace("href",B._href).replace("title",B._title).getRegex(),B.reflink=u(B.reflink).replace("label",B._label).replace("ref",R._label).getRegex(),B.nolink=u(B.nolink).replace("ref",R._label).getRegex(),B.reflinkSearch=u(B.reflinkSearch,"g").replace("reflink",B.reflink).replace("nolink",B.nolink).getRegex(),B.normal=I({},B),B.pedantic=I({},B.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:u(/^!?\[(label)\]\((.*?)\)/).replace("label",B._label).getRegex(),reflink:u(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",B._label).getRegex()}),B.gfm=I({},B.normal,{escape:u(B.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),B.gfm.url=u(B.gfm.url,"i").replace("email",B.gfm._extended_email).getRegex(),B.breaks=I({},B.gfm,{br:u(B.br).replace("{2,}","*").getRegex(),text:u(B.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});function H(de){return de.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201C").replace(/"/g,"\u201D").replace(/\.{3}/g,"\u2026")}function V(de){var ee="",W,z,Y=de.length;for(W=0;W<Y;W++)z=de.charCodeAt(W),Math.random()>.5&&(z="x"+z.toString(16)),ee+="&#"+z+";";return ee}var q=function(){function de(W){this.tokens=[],this.tokens.links=Object.create(null),this.options=W||J.defaults,this.options.tokenizer=this.options.tokenizer||new x,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};var z={block:R.normal,inline:B.normal};this.options.pedantic?(z.block=R.pedantic,z.inline=B.pedantic):this.options.gfm&&(z.block=R.gfm,this.options.breaks?z.inline=B.breaks:z.inline=B.gfm),this.tokenizer.rules=z}de.lex=function(z,Y){var j=new de(Y);return j.lex(z)},de.lexInline=function(z,Y){var j=new de(Y);return j.inlineTokens(z)};var ee=de.prototype;return ee.lex=function(z){z=z.replace(/\r\n|\r/g,`
`),this.blockTokens(z,this.tokens);for(var Y;Y=this.inlineQueue.shift();)this.inlineTokens(Y.src,Y.tokens);return this.tokens},ee.blockTokens=function(z,Y){var j=this;Y===void 0&&(Y=[]),this.options.pedantic?z=z.replace(/\t/g,"    ").replace(/^ +$/gm,""):z=z.replace(/^( *)(\t+)/gm,function(me,ve,Ce){return ve+"    ".repeat(Ce.length)});for(var G,oe,ne,ce;z;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(function(me){return(G=me.call({lexer:j},z,Y))?(z=z.substring(G.raw.length),Y.push(G),!0):!1}))){if(G=this.tokenizer.space(z)){z=z.substring(G.raw.length),G.raw.length===1&&Y.length>0?Y[Y.length-1].raw+=`
`:Y.push(G);continue}if(G=this.tokenizer.code(z)){z=z.substring(G.raw.length),oe=Y[Y.length-1],oe&&(oe.type==="paragraph"||oe.type==="text")?(oe.raw+=`
`+G.raw,oe.text+=`
`+G.text,this.inlineQueue[this.inlineQueue.length-1].src=oe.text):Y.push(G);continue}if(G=this.tokenizer.fences(z)){z=z.substring(G.raw.length),Y.push(G);continue}if(G=this.tokenizer.heading(z)){z=z.substring(G.raw.length),Y.push(G);continue}if(G=this.tokenizer.hr(z)){z=z.substring(G.raw.length),Y.push(G);continue}if(G=this.tokenizer.blockquote(z)){z=z.substring(G.raw.length),Y.push(G);continue}if(G=this.tokenizer.list(z)){z=z.substring(G.raw.length),Y.push(G);continue}if(G=this.tokenizer.html(z)){z=z.substring(G.raw.length),Y.push(G);continue}if(G=this.tokenizer.def(z)){z=z.substring(G.raw.length),oe=Y[Y.length-1],oe&&(oe.type==="paragraph"||oe.type==="text")?(oe.raw+=`
`+G.raw,oe.text+=`
`+G.raw,this.inlineQueue[this.inlineQueue.length-1].src=oe.text):this.tokens.links[G.tag]||(this.tokens.links[G.tag]={href:G.href,title:G.title});continue}if(G=this.tokenizer.table(z)){z=z.substring(G.raw.length),Y.push(G);continue}if(G=this.tokenizer.lheading(z)){z=z.substring(G.raw.length),Y.push(G);continue}if(ne=z,this.options.extensions&&this.options.extensions.startBlock&&function(){var me=1/0,ve=z.slice(1),Ce=void 0;j.options.extensions.startBlock.forEach(function(Se){Ce=Se.call({lexer:this},ve),typeof Ce=="number"&&Ce>=0&&(me=Math.min(me,Ce))}),me<1/0&&me>=0&&(ne=z.substring(0,me+1))}(),this.state.top&&(G=this.tokenizer.paragraph(ne))){oe=Y[Y.length-1],ce&&oe.type==="paragraph"?(oe.raw+=`
`+G.raw,oe.text+=`
`+G.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=oe.text):Y.push(G),ce=ne.length!==z.length,z=z.substring(G.raw.length);continue}if(G=this.tokenizer.text(z)){z=z.substring(G.raw.length),oe=Y[Y.length-1],oe&&oe.type==="text"?(oe.raw+=`
`+G.raw,oe.text+=`
`+G.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=oe.text):Y.push(G);continue}if(z){var le="Infinite loop on byte: "+z.charCodeAt(0);if(this.options.silent){console.error(le);break}else throw new Error(le)}}return this.state.top=!0,Y},ee.inline=function(z,Y){return Y===void 0&&(Y=[]),this.inlineQueue.push({src:z,tokens:Y}),Y},ee.inlineTokens=function(z,Y){var j=this;Y===void 0&&(Y=[]);var G,oe,ne,ce=z,le,me,ve;if(this.tokens.links){var Ce=Object.keys(this.tokens.links);if(Ce.length>0)for(;(le=this.tokenizer.rules.inline.reflinkSearch.exec(ce))!=null;)Ce.includes(le[0].slice(le[0].lastIndexOf("[")+1,-1))&&(ce=ce.slice(0,le.index)+"["+O("a",le[0].length-2)+"]"+ce.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(le=this.tokenizer.rules.inline.blockSkip.exec(ce))!=null;)ce=ce.slice(0,le.index)+"["+O("a",le[0].length-2)+"]"+ce.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(le=this.tokenizer.rules.inline.escapedEmSt.exec(ce))!=null;)ce=ce.slice(0,le.index)+"++"+ce.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;z;)if(me||(ve=""),me=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(function(_e){return(G=_e.call({lexer:j},z,Y))?(z=z.substring(G.raw.length),Y.push(G),!0):!1}))){if(G=this.tokenizer.escape(z)){z=z.substring(G.raw.length),Y.push(G);continue}if(G=this.tokenizer.tag(z)){z=z.substring(G.raw.length),oe=Y[Y.length-1],oe&&G.type==="text"&&oe.type==="text"?(oe.raw+=G.raw,oe.text+=G.text):Y.push(G);continue}if(G=this.tokenizer.link(z)){z=z.substring(G.raw.length),Y.push(G);continue}if(G=this.tokenizer.reflink(z,this.tokens.links)){z=z.substring(G.raw.length),oe=Y[Y.length-1],oe&&G.type==="text"&&oe.type==="text"?(oe.raw+=G.raw,oe.text+=G.text):Y.push(G);continue}if(G=this.tokenizer.emStrong(z,ce,ve)){z=z.substring(G.raw.length),Y.push(G);continue}if(G=this.tokenizer.codespan(z)){z=z.substring(G.raw.length),Y.push(G);continue}if(G=this.tokenizer.br(z)){z=z.substring(G.raw.length),Y.push(G);continue}if(G=this.tokenizer.del(z)){z=z.substring(G.raw.length),Y.push(G);continue}if(G=this.tokenizer.autolink(z,V)){z=z.substring(G.raw.length),Y.push(G);continue}if(!this.state.inLink&&(G=this.tokenizer.url(z,V))){z=z.substring(G.raw.length),Y.push(G);continue}if(ne=z,this.options.extensions&&this.options.extensions.startInline&&function(){var _e=1/0,Le=z.slice(1),ke=void 0;j.options.extensions.startInline.forEach(function(Ae){ke=Ae.call({lexer:this},Le),typeof ke=="number"&&ke>=0&&(_e=Math.min(_e,ke))}),_e<1/0&&_e>=0&&(ne=z.substring(0,_e+1))}(),G=this.tokenizer.inlineText(ne,H)){z=z.substring(G.raw.length),G.raw.slice(-1)!=="_"&&(ve=G.raw.slice(-1)),me=!0,oe=Y[Y.length-1],oe&&oe.type==="text"?(oe.raw+=G.raw,oe.text+=G.text):Y.push(G);continue}if(z){var Se="Infinite loop on byte: "+z.charCodeAt(0);if(this.options.silent){console.error(Se);break}else throw new Error(Se)}}return Y},m(de,null,[{key:"rules",get:function(){return{block:R,inline:B}}}]),de}(),K=function(){function de(W){this.options=W||J.defaults}var ee=de.prototype;return ee.code=function(z,Y,j){var G=(Y||"").match(/\S*/)[0];if(this.options.highlight){var oe=this.options.highlight(z,G);oe!=null&&oe!==z&&(j=!0,z=oe)}return z=z.replace(/\n$/,"")+`
`,G?'<pre><code class="'+this.options.langPrefix+t(G,!0)+'">'+(j?z:t(z,!0))+`</code></pre>
`:"<pre><code>"+(j?z:t(z,!0))+`</code></pre>
`},ee.blockquote=function(z){return`<blockquote>
`+z+`</blockquote>
`},ee.html=function(z){return z},ee.heading=function(z,Y,j,G){if(this.options.headerIds){var oe=this.options.headerPrefix+G.slug(j);return"<h"+Y+' id="'+oe+'">'+z+"</h"+Y+`>
`}return"<h"+Y+">"+z+"</h"+Y+`>
`},ee.hr=function(){return this.options.xhtml?`<hr/>
`:`<hr>
`},ee.list=function(z,Y,j){var G=Y?"ol":"ul",oe=Y&&j!==1?' start="'+j+'"':"";return"<"+G+oe+`>
`+z+"</"+G+`>
`},ee.listitem=function(z){return"<li>"+z+`</li>
`},ee.checkbox=function(z){return"<input "+(z?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},ee.paragraph=function(z){return"<p>"+z+`</p>
`},ee.table=function(z,Y){return Y&&(Y="<tbody>"+Y+"</tbody>"),`<table>
<thead>
`+z+`</thead>
`+Y+`</table>
`},ee.tablerow=function(z){return`<tr>
`+z+`</tr>
`},ee.tablecell=function(z,Y){var j=Y.header?"th":"td",G=Y.align?"<"+j+' align="'+Y.align+'">':"<"+j+">";return G+z+("</"+j+`>
`)},ee.strong=function(z){return"<strong>"+z+"</strong>"},ee.em=function(z){return"<em>"+z+"</em>"},ee.codespan=function(z){return"<code>"+z+"</code>"},ee.br=function(){return this.options.xhtml?"<br/>":"<br>"},ee.del=function(z){return"<del>"+z+"</del>"},ee.link=function(z,Y,j){if(z=l(this.options.sanitize,this.options.baseUrl,z),z===null)return j;var G='<a href="'+t(z)+'"';return Y&&(G+=' title="'+Y+'"'),G+=">"+j+"</a>",G},ee.image=function(z,Y,j){if(z=l(this.options.sanitize,this.options.baseUrl,z),z===null)return j;var G='<img src="'+z+'" alt="'+j+'"';return Y&&(G+=' title="'+Y+'"'),G+=this.options.xhtml?"/>":">",G},ee.text=function(z){return z},de}(),U=function(){function de(){}var ee=de.prototype;return ee.strong=function(z){return z},ee.em=function(z){return z},ee.codespan=function(z){return z},ee.del=function(z){return z},ee.html=function(z){return z},ee.text=function(z){return z},ee.link=function(z,Y,j){return""+j},ee.image=function(z,Y,j){return""+j},ee.br=function(){return""},de}(),$=function(){function de(){this.seen={}}var ee=de.prototype;return ee.serialize=function(z){return z.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},ee.getNextSafeSlug=function(z,Y){var j=z,G=0;if(this.seen.hasOwnProperty(j)){G=this.seen[z];do G++,j=z+"-"+G;while(this.seen.hasOwnProperty(j))}return Y||(this.seen[z]=G,this.seen[j]=0),j},ee.slug=function(z,Y){Y===void 0&&(Y={});var j=this.serialize(z);return this.getNextSafeSlug(j,Y.dryrun)},de}(),se=function(){function de(W){this.options=W||J.defaults,this.options.renderer=this.options.renderer||new K,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new U,this.slugger=new $}de.parse=function(z,Y){var j=new de(Y);return j.parse(z)},de.parseInline=function(z,Y){var j=new de(Y);return j.parseInline(z)};var ee=de.prototype;return ee.parse=function(z,Y){Y===void 0&&(Y=!0);var j="",G,oe,ne,ce,le,me,ve,Ce,Se,_e,Le,ke,Ae,xe,He,Be,Ee,Ne,pe,be=z.length;for(G=0;G<be;G++){if(_e=z[G],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[_e.type]&&(pe=this.options.extensions.renderers[_e.type].call({parser:this},_e),pe!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(_e.type))){j+=pe||"";continue}switch(_e.type){case"space":continue;case"hr":{j+=this.renderer.hr();continue}case"heading":{j+=this.renderer.heading(this.parseInline(_e.tokens),_e.depth,h(this.parseInline(_e.tokens,this.textRenderer)),this.slugger);continue}case"code":{j+=this.renderer.code(_e.text,_e.lang,_e.escaped);continue}case"table":{for(Ce="",ve="",ce=_e.header.length,oe=0;oe<ce;oe++)ve+=this.renderer.tablecell(this.parseInline(_e.header[oe].tokens),{header:!0,align:_e.align[oe]});for(Ce+=this.renderer.tablerow(ve),Se="",ce=_e.rows.length,oe=0;oe<ce;oe++){for(me=_e.rows[oe],ve="",le=me.length,ne=0;ne<le;ne++)ve+=this.renderer.tablecell(this.parseInline(me[ne].tokens),{header:!1,align:_e.align[ne]});Se+=this.renderer.tablerow(ve)}j+=this.renderer.table(Ce,Se);continue}case"blockquote":{Se=this.parse(_e.tokens),j+=this.renderer.blockquote(Se);continue}case"list":{for(Le=_e.ordered,ke=_e.start,Ae=_e.loose,ce=_e.items.length,Se="",oe=0;oe<ce;oe++)He=_e.items[oe],Be=He.checked,Ee=He.task,xe="",He.task&&(Ne=this.renderer.checkbox(Be),Ae?He.tokens.length>0&&He.tokens[0].type==="paragraph"?(He.tokens[0].text=Ne+" "+He.tokens[0].text,He.tokens[0].tokens&&He.tokens[0].tokens.length>0&&He.tokens[0].tokens[0].type==="text"&&(He.tokens[0].tokens[0].text=Ne+" "+He.tokens[0].tokens[0].text)):He.tokens.unshift({type:"text",text:Ne}):xe+=Ne),xe+=this.parse(He.tokens,Ae),Se+=this.renderer.listitem(xe,Ee,Be);j+=this.renderer.list(Se,Le,ke);continue}case"html":{j+=this.renderer.html(_e.text);continue}case"paragraph":{j+=this.renderer.paragraph(this.parseInline(_e.tokens));continue}case"text":{for(Se=_e.tokens?this.parseInline(_e.tokens):_e.text;G+1<be&&z[G+1].type==="text";)_e=z[++G],Se+=`
`+(_e.tokens?this.parseInline(_e.tokens):_e.text);j+=Y?this.renderer.paragraph(Se):Se;continue}default:{var Re='Token with "'+_e.type+'" type was not found.';if(this.options.silent){console.error(Re);return}else throw new Error(Re)}}}return j},ee.parseInline=function(z,Y){Y=Y||this.renderer;var j="",G,oe,ne,ce=z.length;for(G=0;G<ce;G++){if(oe=z[G],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[oe.type]&&(ne=this.options.extensions.renderers[oe.type].call({parser:this},oe),ne!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(oe.type))){j+=ne||"";continue}switch(oe.type){case"escape":{j+=Y.text(oe.text);break}case"html":{j+=Y.html(oe.text);break}case"link":{j+=Y.link(oe.href,oe.title,this.parseInline(oe.tokens,Y));break}case"image":{j+=Y.image(oe.href,oe.title,oe.text);break}case"strong":{j+=Y.strong(this.parseInline(oe.tokens,Y));break}case"em":{j+=Y.em(this.parseInline(oe.tokens,Y));break}case"codespan":{j+=Y.codespan(oe.text);break}case"br":{j+=Y.br();break}case"del":{j+=Y.del(this.parseInline(oe.tokens,Y));break}case"text":{j+=Y.text(oe.text);break}default:{var le='Token with "'+oe.type+'" type was not found.';if(this.options.silent){console.error(le);return}else throw new Error(le)}}}return j},de}();function F(de,ee,W){if(typeof de>"u"||de===null)throw new Error("marked(): input parameter is undefined or null");if(typeof de!="string")throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(de)+", string expected");if(typeof ee=="function"&&(W=ee,ee=null),ee=I({},F.defaults,ee||{}),A(ee),W){var z=ee.highlight,Y;try{Y=q.lex(de,ee)}catch(ce){return W(ce)}var j=function(le){var me;if(!le)try{ee.walkTokens&&F.walkTokens(Y,ee.walkTokens),me=se.parse(Y,ee)}catch(ve){le=ve}return ee.highlight=z,le?W(le):W(null,me)};if(!z||z.length<3||(delete ee.highlight,!Y.length))return j();var G=0;F.walkTokens(Y,function(ce){ce.type==="code"&&(G++,setTimeout(function(){z(ce.text,ce.lang,function(le,me){if(le)return j(le);me!=null&&me!==ce.text&&(ce.text=me,ce.escaped=!0),G--,G===0&&j()})},0))}),G===0&&j();return}function oe(ce){if(ce.message+=`
Please report this to https://github.com/markedjs/marked.`,ee.silent)return"<p>An error occurred:</p><pre>"+t(ce.message+"",!0)+"</pre>";throw ce}try{var ne=q.lex(de,ee);if(ee.walkTokens){if(ee.async)return Promise.all(F.walkTokens(ne,ee.walkTokens)).then(function(){return se.parse(ne,ee)}).catch(oe);F.walkTokens(ne,ee.walkTokens)}return se.parse(ne,ee)}catch(ce){oe(ce)}}F.options=F.setOptions=function(de){return I(F.defaults,de),p(F.defaults),F},F.getDefaults=y,F.defaults=J.defaults,F.use=function(){for(var de=arguments.length,ee=new Array(de),W=0;W<de;W++)ee[W]=arguments[W];var z=I.apply(void 0,[{}].concat(ee)),Y=F.defaults.extensions||{renderers:{},childTokens:{}},j;ee.forEach(function(G){if(G.extensions&&(j=!0,G.extensions.forEach(function(ne){if(!ne.name)throw new Error("extension name required");if(ne.renderer){var ce=Y.renderers?Y.renderers[ne.name]:null;ce?Y.renderers[ne.name]=function(){for(var le=arguments.length,me=new Array(le),ve=0;ve<le;ve++)me[ve]=arguments[ve];var Ce=ne.renderer.apply(this,me);return Ce===!1&&(Ce=ce.apply(this,me)),Ce}:Y.renderers[ne.name]=ne.renderer}if(ne.tokenizer){if(!ne.level||ne.level!=="block"&&ne.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");Y[ne.level]?Y[ne.level].unshift(ne.tokenizer):Y[ne.level]=[ne.tokenizer],ne.start&&(ne.level==="block"?Y.startBlock?Y.startBlock.push(ne.start):Y.startBlock=[ne.start]:ne.level==="inline"&&(Y.startInline?Y.startInline.push(ne.start):Y.startInline=[ne.start]))}ne.childTokens&&(Y.childTokens[ne.name]=ne.childTokens)})),G.renderer&&function(){var ne=F.defaults.renderer||new K,ce=function(ve){var Ce=ne[ve];ne[ve]=function(){for(var Se=arguments.length,_e=new Array(Se),Le=0;Le<Se;Le++)_e[Le]=arguments[Le];var ke=G.renderer[ve].apply(ne,_e);return ke===!1&&(ke=Ce.apply(ne,_e)),ke}};for(var le in G.renderer)ce(le);z.renderer=ne}(),G.tokenizer&&function(){var ne=F.defaults.tokenizer||new x,ce=function(ve){var Ce=ne[ve];ne[ve]=function(){for(var Se=arguments.length,_e=new Array(Se),Le=0;Le<Se;Le++)_e[Le]=arguments[Le];var ke=G.tokenizer[ve].apply(ne,_e);return ke===!1&&(ke=Ce.apply(ne,_e)),ke}};for(var le in G.tokenizer)ce(le);z.tokenizer=ne}(),G.walkTokens){var oe=F.defaults.walkTokens;z.walkTokens=function(ne){var ce=[];return ce.push(G.walkTokens.call(this,ne)),oe&&(ce=ce.concat(oe.call(this,ne))),ce}}j&&(z.extensions=Y),F.setOptions(z)})},F.walkTokens=function(de,ee){for(var W=[],z=function(){var oe=j.value;switch(W=W.concat(ee.call(F,oe)),oe.type){case"table":{for(var ne=L(oe.header),ce;!(ce=ne()).done;){var le=ce.value;W=W.concat(F.walkTokens(le.tokens,ee))}for(var me=L(oe.rows),ve;!(ve=me()).done;)for(var Ce=ve.value,Se=L(Ce),_e;!(_e=Se()).done;){var Le=_e.value;W=W.concat(F.walkTokens(Le.tokens,ee))}break}case"list":{W=W.concat(F.walkTokens(oe.items,ee));break}default:F.defaults.extensions&&F.defaults.extensions.childTokens&&F.defaults.extensions.childTokens[oe.type]?F.defaults.extensions.childTokens[oe.type].forEach(function(ke){W=W.concat(F.walkTokens(oe[ke],ee))}):oe.tokens&&(W=W.concat(F.walkTokens(oe.tokens,ee)))}},Y=L(de),j;!(j=Y()).done;)z();return W},F.parseInline=function(de,ee){if(typeof de>"u"||de===null)throw new Error("marked.parseInline(): input parameter is undefined or null");if(typeof de!="string")throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(de)+", string expected");ee=I({},F.defaults,ee||{}),A(ee);try{var W=q.lexInline(de,ee);return ee.walkTokens&&F.walkTokens(W,ee.walkTokens),se.parseInline(W,ee)}catch(z){if(z.message+=`
Please report this to https://github.com/markedjs/marked.`,ee.silent)return"<p>An error occurred:</p><pre>"+t(z.message+"",!0)+"</pre>";throw z}},F.Parser=se,F.parser=se.parse,F.Renderer=K,F.TextRenderer=U,F.Lexer=q,F.lexer=q.lex,F.Tokenizer=x,F.Slugger=$,F.parse=F;var X=F.options,Q=F.setOptions,Z=F.use,ae=F.walkTokens,ue=F.parseInline,ge=F,fe=se.parse,re=q.lex;J.Lexer=q,J.Parser=se,J.Renderer=K,J.Slugger=$,J.TextRenderer=U,J.Tokenizer=x,J.getDefaults=y,J.lexer=re,J.marked=F,J.options=X,J.parse=ge,J.parseInline=ue,J.parser=fe,J.setOptions=Q,J.use=Z,J.walkTokens=ae,Object.defineProperty(J,"__esModule",{value:!0})}),define(te[120],ie([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Mimes=void 0,e.Mimes=Object.freeze({text:"text/plain",binary:"application/octet-stream",unknown:"application/unknown",markdown:"text/markdown",latex:"text/latex",uriList:"text/uri-list"})}),define(te[213],ie([1,0,120]),function(J,e,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DataTransfers=void 0,e.DataTransfers={RESOURCES:"ResourceURLs",DOWNLOAD_URL:"DownloadURL",FILES:"Files",TEXT:m.Mimes.text,INTERNAL_URI_LIST:"application/vnd.code.uri-list"}}),define(te[421],ie([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getKoreanAltChars=m;function m(s){const i=L(s);if(i&&i.length>0)return new Uint32Array(i)}let k=0;const D=new Uint32Array(10);function L(s){if(k=0,y(s,w,4352),k>0||(y(s,C,4449),k>0)||(y(s,b,4520),k>0)||(y(s,a,12593),k))return D.subarray(0,k);if(s>=44032&&s<=55203){const i=s-44032,t=i%588,n=Math.floor(i/588),h=Math.floor(t/28),v=t%28-1;if(n<w.length?y(n,w,0):4352+n-12593<a.length&&y(4352+n,a,12593),h<C.length?y(h,C,0):4449+h-12593<a.length&&y(4449+h-12593,a,12593),v>=0&&(v<b.length?y(v,b,0):4520+v-12593<a.length&&y(4520+v-12593,a,12593)),k>0)return D.subarray(0,k)}}function y(s,i,t){s>=t&&s<t+i.length&&p(i[s-t])}function p(s){s!==0&&(D[k++]=s&255,s>>8&&(D[k++]=s>>8&255),s>>16&&(D[k++]=s>>16&255))}const w=new Uint8Array([114,82,115,101,69,102,97,113,81,116,84,100,119,87,99,122,120,118,103]),C=new Uint16Array([107,111,105,79,106,112,117,80,104,27496,28520,27752,121,110,27246,28782,27758,98,109,27757,108]),b=new Uint16Array([114,82,29810,115,30579,26483,101,102,29286,24934,29030,29798,30822,30310,26470,97,113,29809,116,84,100,119,99,122,120,118,103]),a=new Uint16Array([114,82,29810,115,30579,26483,101,69,102,29286,24934,29030,29798,30822,30310,26470,97,113,81,29809,116,84,100,119,87,99,122,120,118,103,107,111,105,79,106,112,117,80,104,27496,28520,27752,121,110,27246,28782,27758,98,109,27757,108])}),define(te[422],ie([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ArrayNavigator=void 0;class m{constructor(D,L=0,y=D.length,p=L-1){this.items=D,this.start=L,this.end=y,this.index=p}current(){return this.index===this.start-1||this.index===this.end?null:this.items[this.index]}next(){return this.index=Math.min(this.index+1,this.end),this.current()}previous(){return this.index=Math.max(this.index-1,this.start-1),this.current()}first(){return this.index=this.start,this.current()}last(){return this.index=this.end-1,this.current()}}e.ArrayNavigator=m}),define(te[423],ie([1,0,422]),function(J,e,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HistoryNavigator=void 0;class k{constructor(L=[],y=10){this._initialize(L),this._limit=y,this._onChange()}getHistory(){return this._elements}add(L){this._history.delete(L),this._history.add(L),this._onChange()}next(){return this._navigator.next()}previous(){return this._currentPosition()!==0?this._navigator.previous():null}current(){return this._navigator.current()}first(){return this._navigator.first()}last(){return this._navigator.last()}isLast(){return this._currentPosition()>=this._elements.length-1}isNowhere(){return this._navigator.current()===null}has(L){return this._history.has(L)}_onChange(){this._reduceToLimit();const L=this._elements;this._navigator=new m.ArrayNavigator(L,0,L.length,L.length)}_reduceToLimit(){const L=this._elements;L.length>this._limit&&this._initialize(L.slice(L.length-this._limit))}_currentPosition(){const L=this._navigator.current();return L?this._elements.indexOf(L):-1}_initialize(L){this._history=new Set;for(const y of L)this._history.add(y)}get _elements(){const L=[];return this._history.forEach(y=>L.push(y)),L}}e.HistoryNavigator=k}),define(te[134],ie([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SlidingWindowAverage=e.MovingAverage=void 0,e.clamp=m;function m(L,y,p){return Math.min(Math.max(L,y),p)}class k{constructor(){this._n=1,this._val=0}update(y){return this._val=this._val+(y-this._val)/this._n,this._n+=1,this._val}get value(){return this._val}}e.MovingAverage=k;class D{constructor(y){this._n=0,this._val=0,this._values=[],this._index=0,this._sum=0,this._values=new Array(y),this._values.fill(0,0,y)}update(y){const p=this._values[this._index];return this._values[this._index]=y,this._index=(this._index+1)%this._values.length,this._sum-=p,this._sum+=y,this._n<this._values.length&&(this._n+=1),this._val=this._sum/this._n,this._val}get value(){return this._val}}e.SlidingWindowAverage=D}),define(te[179],ie([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DebugNameData=void 0,e.getDebugName=L,e.getFunctionName=s;class m{constructor(t,n,h){this.owner=t,this.debugNameSource=n,this.referenceFn=h}getDebugName(t){return L(t,this)}}e.DebugNameData=m;const k=new Map,D=new WeakMap;function L(i,t){var n;const h=D.get(i);if(h)return h;const v=y(i,t);if(v){let u=(n=k.get(v))!==null&&n!==void 0?n:0;u++,k.set(v,u);const d=u===1?v:`${v}#${u}`;return D.set(i,d),d}}function y(i,t){const n=D.get(i);if(n)return n;const h=t.owner?b(t.owner)+".":"";let v;const u=t.debugNameSource;if(u!==void 0)if(typeof u=="function"){if(v=u(),v!==void 0)return h+v}else return h+u;const d=t.referenceFn;if(d!==void 0&&(v=s(d),v!==void 0))return h+v;if(t.owner!==void 0){const r=p(t.owner,i);if(r!==void 0)return h+r}}function p(i,t){for(const n in i)if(i[n]===t)return n}const w=new Map,C=new WeakMap;function b(i){var t;const n=C.get(i);if(n)return n;const h=a(i);let v=(t=w.get(h))!==null&&t!==void 0?t:0;v++,w.set(h,v);const u=v===1?h:`${h}#${v}`;return C.set(i,u),u}function a(i){const t=i.constructor;return t?t.name:"Object"}function s(i){const t=i.toString(),h=/\/\*\*\s*@description\s*([^*]*)\*\//.exec(t),v=h?h[1]:void 0;return v?.trim()}}),define(te[155],ie([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ConsoleObservableLogger=void 0,e.setLogger=k,e.getLogger=D;let m;function k(n){m=n}function D(){return m}class L{constructor(){this.indentation=0,this.changedObservablesSets=new WeakMap}textToConsoleArgs(h){return y([p(i("|  ",this.indentation)),h])}formatInfo(h){return h.hadValue?h.didChange?[p(" "),C(b(h.oldValue,70),{color:"red",strikeThrough:!0}),p(" "),C(b(h.newValue,60),{color:"green"})]:[p(" (unchanged)")]:[p(" "),C(b(h.newValue,60),{color:"green"}),p(" (initial)")]}handleObservableChanged(h,v){console.log(...this.textToConsoleArgs([w("observable value changed"),C(h.debugName,{color:"BlueViolet"}),...this.formatInfo(v)]))}formatChanges(h){if(h.size!==0)return C(" (changed deps: "+[...h].map(v=>v.debugName).join(", ")+")",{color:"gray"})}handleDerivedCreated(h){const v=h.handleChange;this.changedObservablesSets.set(h,new Set),h.handleChange=(u,d)=>(this.changedObservablesSets.get(h).add(u),v.apply(h,[u,d]))}handleDerivedRecomputed(h,v){const u=this.changedObservablesSets.get(h);console.log(...this.textToConsoleArgs([w("derived recomputed"),C(h.debugName,{color:"BlueViolet"}),...this.formatInfo(v),this.formatChanges(u),{data:[{fn:h._computeFn}]}])),u.clear()}handleFromEventObservableTriggered(h,v){console.log(...this.textToConsoleArgs([w("observable from event triggered"),C(h.debugName,{color:"BlueViolet"}),...this.formatInfo(v),{data:[{fn:h._getValue}]}]))}handleAutorunCreated(h){const v=h.handleChange;this.changedObservablesSets.set(h,new Set),h.handleChange=(u,d)=>(this.changedObservablesSets.get(h).add(u),v.apply(h,[u,d]))}handleAutorunTriggered(h){const v=this.changedObservablesSets.get(h);console.log(...this.textToConsoleArgs([w("autorun"),C(h.debugName,{color:"BlueViolet"}),this.formatChanges(v),{data:[{fn:h._runFn}]}])),v.clear(),this.indentation++}handleAutorunFinished(h){this.indentation--}handleBeginTransaction(h){let v=h.getDebugName();v===void 0&&(v=""),console.log(...this.textToConsoleArgs([w("transaction"),C(v,{color:"BlueViolet"}),{data:[{fn:h._fn}]}])),this.indentation++}handleEndTransaction(){this.indentation--}}e.ConsoleObservableLogger=L;function y(n){const h=new Array,v=[];let u="";function d(l){if("length"in l)for(const o of l)o&&d(o);else"text"in l?(u+=`%c${l.text}`,h.push(l.style),l.data&&v.push(...l.data)):"data"in l&&v.push(...l.data)}d(n);const r=[u,...h];return r.push(...v),r}function p(n){return C(n,{color:"black"})}function w(n){return C(t(`${n}: `,10),{color:"black",bold:!0})}function C(n,h={color:"black"}){function v(d){return Object.entries(d).reduce((r,[l,o])=>`${r}${l}:${o};`,"")}const u={color:h.color};return h.strikeThrough&&(u["text-decoration"]="line-through"),h.bold&&(u["font-weight"]="bold"),{text:n,style:v(u)}}function b(n,h){switch(typeof n){case"number":return""+n;case"string":return n.length+2<=h?`"${n}"`:`"${n.substr(0,h-7)}"+...`;case"boolean":return n?"true":"false";case"undefined":return"undefined";case"object":return n===null?"null":Array.isArray(n)?a(n,h):s(n,h);case"symbol":return n.toString();case"function":return`[[Function${n.name?" "+n.name:""}]]`;default:return""+n}}function a(n,h){let v="[ ",u=!0;for(const d of n){if(u||(v+=", "),v.length-5>h){v+="...";break}u=!1,v+=`${b(d,h-v.length)}`}return v+=" ]",v}function s(n,h){let v="{ ",u=!0;for(const[d,r]of Object.entries(n)){if(u||(v+=", "),v.length-5>h){v+="...";break}u=!1,v+=`${d}: ${b(r,h-v.length)}`}return v+=" }",v}function i(n,h){let v="";for(let u=1;u<=h;u++)v+=n;return v}function t(n,h){for(;n.length<h;)n+=" ";return n}}),define(te[286],ie([1,0,87,2,179,155]),function(J,e,m,k,D,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AutorunObserver=void 0,e.autorun=y,e.autorunOpts=p,e.autorunHandleChanges=w,e.autorunWithStore=C;function y(a){return new b(new D.DebugNameData(void 0,void 0,a),a,void 0,void 0)}function p(a,s){var i;return new b(new D.DebugNameData(a.owner,a.debugName,(i=a.debugReferenceFn)!==null&&i!==void 0?i:s),s,void 0,void 0)}function w(a,s){var i;return new b(new D.DebugNameData(a.owner,a.debugName,(i=a.debugReferenceFn)!==null&&i!==void 0?i:s),s,a.createEmptyChangeSummary,a.handleChange)}function C(a){const s=new k.DisposableStore,i=p({owner:void 0,debugName:void 0,debugReferenceFn:a},t=>{s.clear(),a(t,s)});return(0,k.toDisposable)(()=>{i.dispose(),s.dispose()})}class b{get debugName(){var s;return(s=this._debugNameData.getDebugName(this))!==null&&s!==void 0?s:"(anonymous)"}constructor(s,i,t,n){var h,v;this._debugNameData=s,this._runFn=i,this.createChangeSummary=t,this._handleChange=n,this.state=2,this.updateCount=0,this.disposed=!1,this.dependencies=new Set,this.dependenciesToBeRemoved=new Set,this.changeSummary=(h=this.createChangeSummary)===null||h===void 0?void 0:h.call(this),(v=(0,L.getLogger)())===null||v===void 0||v.handleAutorunCreated(this),this._runIfNeeded(),(0,k.trackDisposable)(this)}dispose(){this.disposed=!0;for(const s of this.dependencies)s.removeObserver(this);this.dependencies.clear(),(0,k.markAsDisposed)(this)}_runIfNeeded(){var s,i,t;if(this.state===3)return;const n=this.dependenciesToBeRemoved;this.dependenciesToBeRemoved=this.dependencies,this.dependencies=n,this.state=3;const h=this.disposed;try{if(!h){(s=(0,L.getLogger)())===null||s===void 0||s.handleAutorunTriggered(this);const v=this.changeSummary;this.changeSummary=(i=this.createChangeSummary)===null||i===void 0?void 0:i.call(this),this._runFn(this,v)}}finally{h||(t=(0,L.getLogger)())===null||t===void 0||t.handleAutorunFinished(this);for(const v of this.dependenciesToBeRemoved)v.removeObserver(this);this.dependenciesToBeRemoved.clear()}}toString(){return`Autorun<${this.debugName}>`}beginUpdate(){this.state===3&&(this.state=1),this.updateCount++}endUpdate(){if(this.updateCount===1)do{if(this.state===1){this.state=3;for(const s of this.dependencies)if(s.reportChanges(),this.state===2)break}this._runIfNeeded()}while(this.state!==3);this.updateCount--,(0,m.assertFn)(()=>this.updateCount>=0)}handlePossibleChange(s){this.state===3&&this.dependencies.has(s)&&!this.dependenciesToBeRemoved.has(s)&&(this.state=1)}handleChange(s,i){this.dependencies.has(s)&&!this.dependenciesToBeRemoved.has(s)&&(!this._handleChange||this._handleChange({changedObservable:s,change:i,didChange:n=>n===s},this.changeSummary))&&(this.state=2)}readObservable(s){if(this.disposed)return s.get();s.addObserver(this);const i=s.get();return this.dependencies.add(s),this.dependenciesToBeRemoved.delete(s),i}}e.AutorunObserver=b,function(a){a.Observer=b}(y||(e.autorun=y={}))}),define(te[135],ie([1,0,179,155]),function(J,e,m,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DisposableObservableValue=e.ObservableValue=e.TransactionImpl=e.BaseObservable=e.ConvenientObservable=void 0,e._setRecomputeInitiallyAndOnChange=L,e._setKeepObserved=p,e._setDerivedOpts=C,e.transaction=s,e.globalTransaction=t,e.asyncTransaction=n,e.subtransaction=h,e.observableValue=u,e.disposableObservableValue=r;let D;function L(o){D=o}let y;function p(o){y=o}let w;function C(o){w=o}class b{get TChange(){return null}reportChanges(){this.get()}read(g){return g?g.readObservable(this):this.get()}map(g,c){const f=c===void 0?void 0:g,_=c===void 0?g:c;return w({owner:f,debugName:()=>{const S=(0,m.getFunctionName)(_);if(S!==void 0)return S;const E=/^\s*\(?\s*([a-zA-Z_$][a-zA-Z_$0-9]*)\s*\)?\s*=>\s*\1(?:\??)\.([a-zA-Z_$][a-zA-Z_$0-9]*)\s*$/.exec(_.toString());if(E)return`${this.debugName}.${E[2]}`;if(!f)return`${this.debugName} (mapped)`}},S=>_(this.read(S),S))}recomputeInitiallyAndOnChange(g,c){return g.add(D(this,c)),this}}e.ConvenientObservable=b;class a extends b{constructor(){super(...arguments),this.observers=new Set}addObserver(g){const c=this.observers.size;this.observers.add(g),c===0&&this.onFirstObserverAdded()}removeObserver(g){this.observers.delete(g)&&this.observers.size===0&&this.onLastObserverRemoved()}onFirstObserverAdded(){}onLastObserverRemoved(){}}e.BaseObservable=a;function s(o,g){const c=new v(o,g);try{o(c)}finally{c.finish()}}let i;function t(o){if(i)o(i);else{const g=new v(o,void 0);i=g;try{o(g)}finally{g.finish(),i=void 0}}}async function n(o,g){const c=new v(o,g);try{await o(c)}finally{c.finish()}}function h(o,g,c){o?g(o):s(g,c)}class v{constructor(g,c){var f;this._fn=g,this._getDebugName=c,this.updatingObservers=[],(f=(0,k.getLogger)())===null||f===void 0||f.handleBeginTransaction(this)}getDebugName(){return this._getDebugName?this._getDebugName():(0,m.getFunctionName)(this._fn)}updateObserver(g,c){this.updatingObservers.push({observer:g,observable:c}),g.beginUpdate(c)}finish(){var g;const c=this.updatingObservers;for(let f=0;f<c.length;f++){const{observer:_,observable:S}=c[f];_.endUpdate(S)}this.updatingObservers=null,(g=(0,k.getLogger)())===null||g===void 0||g.handleEndTransaction()}}e.TransactionImpl=v;function u(o,g){return typeof o=="string"?new d(void 0,o,g):new d(o,void 0,g)}class d extends a{get debugName(){var g;return(g=new m.DebugNameData(this._owner,this._debugName,void 0).getDebugName(this))!==null&&g!==void 0?g:"ObservableValue"}constructor(g,c,f){super(),this._owner=g,this._debugName=c,this._value=f}get(){return this._value}set(g,c,f){var _;if(this._value===g)return;let S;c||(c=S=new v(()=>{},()=>`Setting ${this.debugName}`));try{const I=this._value;this._setValue(g),(_=(0,k.getLogger)())===null||_===void 0||_.handleObservableChanged(this,{oldValue:I,newValue:g,change:f,didChange:!0,hadValue:!0});for(const E of this.observers)c.updateObserver(E,this),E.handleChange(this,f)}finally{S&&S.finish()}}toString(){return`${this.debugName}: ${this._value}`}_setValue(g){this._value=g}}e.ObservableValue=d;function r(o,g){return typeof o=="string"?new l(void 0,o,g):new l(o,void 0,g)}class l extends d{_setValue(g){this._value!==g&&(this._value&&this._value.dispose(),this._value=g)}dispose(){var g;(g=this._value)===null||g===void 0||g.dispose()}}e.DisposableObservableValue=l}),define(te[180],ie([1,0,87,2,135,179,155]),function(J,e,m,k,D,L,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Derived=e.defaultEqualityComparer=void 0,e.derived=w,e.derivedOpts=C,e.derivedHandleChanges=b,e.derivedWithStore=a,e.derivedDisposable=s;const p=(t,n)=>t===n;e.defaultEqualityComparer=p;function w(t,n){return n!==void 0?new i(new L.DebugNameData(t,void 0,n),n,void 0,void 0,void 0,e.defaultEqualityComparer):new i(new L.DebugNameData(void 0,void 0,t),t,void 0,void 0,void 0,e.defaultEqualityComparer)}function C(t,n){var h;return new i(new L.DebugNameData(t.owner,t.debugName,t.debugReferenceFn),n,void 0,void 0,t.onLastObserverRemoved,(h=t.equalityComparer)!==null&&h!==void 0?h:e.defaultEqualityComparer)}(0,D._setDerivedOpts)(C);function b(t,n){var h;return new i(new L.DebugNameData(t.owner,t.debugName,void 0),n,t.createEmptyChangeSummary,t.handleChange,void 0,(h=t.equalityComparer)!==null&&h!==void 0?h:e.defaultEqualityComparer)}function a(t,n){let h,v;n===void 0?(h=t,v=void 0):(v=t,h=n);const u=new k.DisposableStore;return new i(new L.DebugNameData(v,void 0,h),d=>(u.clear(),h(d,u)),void 0,void 0,()=>u.dispose(),e.defaultEqualityComparer)}function s(t,n){let h,v;n===void 0?(h=t,v=void 0):(v=t,h=n);const u=new k.DisposableStore;return new i(new L.DebugNameData(v,void 0,h),d=>{u.clear();const r=h(d);return r&&u.add(r),r},void 0,void 0,()=>u.dispose(),e.defaultEqualityComparer)}class i extends D.BaseObservable{get debugName(){var n;return(n=this._debugNameData.getDebugName(this))!==null&&n!==void 0?n:"(anonymous)"}constructor(n,h,v,u,d=void 0,r){var l,o;super(),this._debugNameData=n,this._computeFn=h,this.createChangeSummary=v,this._handleChange=u,this._handleLastObserverRemoved=d,this._equalityComparator=r,this.state=0,this.value=void 0,this.updateCount=0,this.dependencies=new Set,this.dependenciesToBeRemoved=new Set,this.changeSummary=void 0,this.changeSummary=(l=this.createChangeSummary)===null||l===void 0?void 0:l.call(this),(o=(0,y.getLogger)())===null||o===void 0||o.handleDerivedCreated(this)}onLastObserverRemoved(){var n;this.state=0,this.value=void 0;for(const h of this.dependencies)h.removeObserver(this);this.dependencies.clear(),(n=this._handleLastObserverRemoved)===null||n===void 0||n.call(this)}get(){var n;if(this.observers.size===0){const h=this._computeFn(this,(n=this.createChangeSummary)===null||n===void 0?void 0:n.call(this));return this.onLastObserverRemoved(),h}else{do{if(this.state===1){for(const h of this.dependencies)if(h.reportChanges(),this.state===2)break}this.state===1&&(this.state=3),this._recomputeIfNeeded()}while(this.state!==3);return this.value}}_recomputeIfNeeded(){var n,h;if(this.state===3)return;const v=this.dependenciesToBeRemoved;this.dependenciesToBeRemoved=this.dependencies,this.dependencies=v;const u=this.state!==0,d=this.value;this.state=3;const r=this.changeSummary;this.changeSummary=(n=this.createChangeSummary)===null||n===void 0?void 0:n.call(this);try{this.value=this._computeFn(this,r)}finally{for(const o of this.dependenciesToBeRemoved)o.removeObserver(this);this.dependenciesToBeRemoved.clear()}const l=u&&!this._equalityComparator(d,this.value);if((h=(0,y.getLogger)())===null||h===void 0||h.handleDerivedRecomputed(this,{oldValue:d,newValue:this.value,change:void 0,didChange:l,hadValue:u}),l)for(const o of this.observers)o.handleChange(this,void 0)}toString(){return`LazyDerived<${this.debugName}>`}beginUpdate(n){this.updateCount++;const h=this.updateCount===1;if(this.state===3&&(this.state=1,!h))for(const v of this.observers)v.handlePossibleChange(this);if(h)for(const v of this.observers)v.beginUpdate(this)}endUpdate(n){if(this.updateCount--,this.updateCount===0){const h=[...this.observers];for(const v of h)v.endUpdate(this)}(0,m.assertFn)(()=>this.updateCount>=0)}handlePossibleChange(n){if(this.state===3&&this.dependencies.has(n)&&!this.dependenciesToBeRemoved.has(n)){this.state=1;for(const h of this.observers)h.handlePossibleChange(this)}}handleChange(n,h){if(this.dependencies.has(n)&&!this.dependenciesToBeRemoved.has(n)){const v=this._handleChange?this._handleChange({changedObservable:n,change:h,didChange:d=>d===n},this.changeSummary):!0,u=this.state===3;if(v&&(this.state===1||u)&&(this.state=2,u))for(const d of this.observers)d.handlePossibleChange(this)}}readObservable(n){n.addObserver(this);const h=n.get();return this.dependencies.add(n),this.dependenciesToBeRemoved.delete(n),h}addObserver(n){const h=!this.observers.has(n)&&this.updateCount>0;super.addObserver(n),h&&n.beginUpdate(this)}removeObserver(n){const h=this.observers.has(n)&&this.updateCount>0;super.removeObserver(n),h&&n.endUpdate(this)}}e.Derived=i}),define(te[424],ie([1,0,286]),function(J,e,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.waitForState=k;function k(D,L,y){return new Promise((p,w)=>{let C=!0,b=!1;const a=D.map(i=>({isFinished:L(i),error:y?y(i):!1,state:i})),s=(0,m.autorun)(i=>{const{isFinished:t,error:n,state:h}=a.read(i);(t||n)&&(C?b=!0:s.dispose(),n?w(n===!0?h:n):p(h))});C=!1,b&&s.dispose()})}}),define(te[287],ie([1,0,2,135,179,180,155]),function(J,e,m,k,D,L,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.KeepAliveObserver=e.FromEventObservable=void 0,e.constObservable=p,e.observableFromEvent=C,e.observableSignalFromEvent=a,e.observableSignal=i,e.keepObserved=n,e.recomputeInitiallyAndOnChange=h,e.derivedObservableWithCache=u,e.mapObservableArrayCached=d;function p(l){return new w(l)}class w extends k.ConvenientObservable{constructor(o){super(),this.value=o}get debugName(){return this.toString()}get(){return this.value}addObserver(o){}removeObserver(o){}toString(){return`Const: ${this.value}`}}function C(l,o){return new b(l,o)}class b extends k.BaseObservable{constructor(o,g){super(),this.event=o,this._getValue=g,this.hasValue=!1,this.handleEvent=c=>{var f;const _=this._getValue(c),S=this.value,I=!this.hasValue||S!==_;let E=!1;I&&(this.value=_,this.hasValue&&(E=!0,(0,k.subtransaction)(b.globalTransaction,T=>{var N;(N=(0,y.getLogger)())===null||N===void 0||N.handleFromEventObservableTriggered(this,{oldValue:S,newValue:_,change:void 0,didChange:I,hadValue:this.hasValue});for(const A of this.observers)T.updateObserver(A,this),A.handleChange(this,void 0)},()=>{const T=this.getDebugName();return"Event fired"+(T?`: ${T}`:"")})),this.hasValue=!0),E||(f=(0,y.getLogger)())===null||f===void 0||f.handleFromEventObservableTriggered(this,{oldValue:S,newValue:_,change:void 0,didChange:I,hadValue:this.hasValue})}}getDebugName(){return(0,D.getFunctionName)(this._getValue)}get debugName(){const o=this.getDebugName();return"From Event"+(o?`: ${o}`:"")}onFirstObserverAdded(){this.subscription=this.event(this.handleEvent)}onLastObserverRemoved(){this.subscription.dispose(),this.subscription=void 0,this.hasValue=!1,this.value=void 0}get(){return this.subscription?(this.hasValue||this.handleEvent(void 0),this.value):this._getValue(void 0)}}e.FromEventObservable=b,function(l){l.Observer=b;function o(g,c){let f=!1;b.globalTransaction===void 0&&(b.globalTransaction=g,f=!0);try{c()}finally{f&&(b.globalTransaction=void 0)}}l.batchEventsGlobally=o}(C||(e.observableFromEvent=C={}));function a(l,o){return new s(l,o)}class s extends k.BaseObservable{constructor(o,g){super(),this.debugName=o,this.event=g,this.handleEvent=()=>{(0,k.transaction)(c=>{for(const f of this.observers)c.updateObserver(f,this),f.handleChange(this,void 0)},()=>this.debugName)}}onFirstObserverAdded(){this.subscription=this.event(this.handleEvent)}onLastObserverRemoved(){this.subscription.dispose(),this.subscription=void 0}get(){}}function i(l){return typeof l=="string"?new t(l):new t(void 0,l)}class t extends k.BaseObservable{get debugName(){var o;return(o=new D.DebugNameData(this._owner,this._debugName,void 0).getDebugName(this))!==null&&o!==void 0?o:"Observable Signal"}constructor(o,g){super(),this._debugName=o,this._owner=g}trigger(o,g){if(!o){(0,k.transaction)(c=>{this.trigger(c,g)},()=>`Trigger signal ${this.debugName}`);return}for(const c of this.observers)o.updateObserver(c,this),c.handleChange(this,g)}get(){}}function n(l){const o=new v(!1,void 0);return l.addObserver(o),(0,m.toDisposable)(()=>{l.removeObserver(o)})}(0,k._setKeepObserved)(n);function h(l,o){const g=new v(!0,o);return l.addObserver(g),o?o(l.get()):l.reportChanges(),(0,m.toDisposable)(()=>{l.removeObserver(g)})}(0,k._setRecomputeInitiallyAndOnChange)(h);class v{constructor(o,g){this._forceRecompute=o,this._handleValue=g,this._counter=0}beginUpdate(o){this._counter++}endUpdate(o){this._counter--,this._counter===0&&this._forceRecompute&&(this._handleValue?this._handleValue(o.get()):o.reportChanges())}handlePossibleChange(o){}handleChange(o,g){}}e.KeepAliveObserver=v;function u(l){let o;return(0,L.derived)(c=>(o=l(c,o),o))}function d(l,o,g,c){let f=new r(g,c);return(0,L.derivedOpts)({debugReferenceFn:g,owner:l,onLastObserverRemoved:()=>{f.dispose(),f=new r(g)}},S=>(f.setItems(o.read(S)),f.getItems()))}class r{constructor(o,g){this._map=o,this._keySelector=g,this._cache=new Map,this._items=[]}dispose(){this._cache.forEach(o=>o.store.dispose()),this._cache.clear()}setItems(o){const g=[],c=new Set(this._cache.keys());for(const f of o){const _=this._keySelector?this._keySelector(f):f;let S=this._cache.get(_);if(S)c.delete(_);else{const I=new m.DisposableStore;S={out:this._map(f,I),store:I},this._cache.set(_,S)}g.push(S.out)}for(const f of c)this._cache.get(f).store.dispose(),this._cache.delete(f);this._items=g}getItems(){return this._items}}}),define(te[32],ie([1,0,135,180,286,287,424,155]),function(J,e,m,k,D,L,y,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.waitForState=e.observableSignalFromEvent=e.observableSignal=e.observableFromEvent=e.recomputeInitiallyAndOnChange=e.keepObserved=e.derivedObservableWithCache=e.constObservable=e.autorunOpts=e.autorunWithStore=e.autorunHandleChanges=e.autorun=e.derivedWithStore=e.derivedHandleChanges=e.derivedOpts=e.derived=e.subtransaction=e.transaction=e.disposableObservableValue=e.observableValue=void 0,Object.defineProperty(e,"observableValue",{enumerable:!0,get:function(){return m.observableValue}}),Object.defineProperty(e,"disposableObservableValue",{enumerable:!0,get:function(){return m.disposableObservableValue}}),Object.defineProperty(e,"transaction",{enumerable:!0,get:function(){return m.transaction}}),Object.defineProperty(e,"subtransaction",{enumerable:!0,get:function(){return m.subtransaction}}),Object.defineProperty(e,"derived",{enumerable:!0,get:function(){return k.derived}}),Object.defineProperty(e,"derivedOpts",{enumerable:!0,get:function(){return k.derivedOpts}}),Object.defineProperty(e,"derivedHandleChanges",{enumerable:!0,get:function(){return k.derivedHandleChanges}}),Object.defineProperty(e,"derivedWithStore",{enumerable:!0,get:function(){return k.derivedWithStore}}),Object.defineProperty(e,"autorun",{enumerable:!0,get:function(){return D.autorun}}),Object.defineProperty(e,"autorunHandleChanges",{enumerable:!0,get:function(){return D.autorunHandleChanges}}),Object.defineProperty(e,"autorunWithStore",{enumerable:!0,get:function(){return D.autorunWithStore}}),Object.defineProperty(e,"autorunOpts",{enumerable:!0,get:function(){return D.autorunOpts}}),Object.defineProperty(e,"constObservable",{enumerable:!0,get:function(){return L.constObservable}}),Object.defineProperty(e,"derivedObservableWithCache",{enumerable:!0,get:function(){return L.derivedObservableWithCache}}),Object.defineProperty(e,"keepObserved",{enumerable:!0,get:function(){return L.keepObserved}}),Object.defineProperty(e,"recomputeInitiallyAndOnChange",{enumerable:!0,get:function(){return L.recomputeInitiallyAndOnChange}}),Object.defineProperty(e,"observableFromEvent",{enumerable:!0,get:function(){return L.observableFromEvent}}),Object.defineProperty(e,"observableSignal",{enumerable:!0,get:function(){return L.observableSignal}}),Object.defineProperty(e,"observableSignalFromEvent",{enumerable:!0,get:function(){return L.observableSignalFromEvent}}),Object.defineProperty(e,"waitForState",{enumerable:!0,get:function(){return y.waitForState}}),!1&&(0,p.setLogger)(new p.ConsoleObservableLogger)}),define(te[181],ie([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Range=void 0;var m;(function(k){function D(w,C){if(w.start>=C.end||C.start>=w.end)return{start:0,end:0};const b=Math.max(w.start,C.start),a=Math.min(w.end,C.end);return a-b<=0?{start:0,end:0}:{start:b,end:a}}k.intersect=D;function L(w){return w.end-w.start<=0}k.isEmpty=L;function y(w,C){return!L(D(w,C))}k.intersects=y;function p(w,C){const b=[],a={start:w.start,end:Math.min(C.start,w.end)},s={start:Math.max(C.end,w.start),end:w.end};return L(a)||b.push(a),L(s)||b.push(s),b}k.relativeComplement=p})(m||(e.Range=m={}))}),define(te[425],ie([1,0,181]),function(J,e,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RangeMap=void 0,e.groupIntersect=k,e.shift=D,e.consolidate=L;function k(w,C){const b=[];for(const a of C){if(w.start>=a.range.end)continue;if(w.end<a.range.start)break;const s=m.Range.intersect(w,a.range);m.Range.isEmpty(s)||b.push({range:s,size:a.size})}return b}function D({start:w,end:C},b){return{start:w+b,end:C+b}}function L(w){const C=[];let b=null;for(const a of w){const s=a.range.start,i=a.range.end,t=a.size;if(b&&t===b.size){b.range.end=i;continue}b={range:{start:s,end:i},size:t},C.push(b)}return C}function y(...w){return L(w.reduce((C,b)=>C.concat(b),[]))}class p{get paddingTop(){return this._paddingTop}set paddingTop(C){this._size=this._size+C-this._paddingTop,this._paddingTop=C}constructor(C){this.groups=[],this._size=0,this._paddingTop=0,this._paddingTop=C??0,this._size=this._paddingTop}splice(C,b,a=[]){const s=a.length-b,i=k({start:0,end:C},this.groups),t=k({start:C+b,end:Number.POSITIVE_INFINITY},this.groups).map(h=>({range:D(h.range,s),size:h.size})),n=a.map((h,v)=>({range:{start:C+v,end:C+v+1},size:h.size}));this.groups=y(i,n,t),this._size=this._paddingTop+this.groups.reduce((h,v)=>h+v.size*(v.range.end-v.range.start),0)}get count(){const C=this.groups.length;return C?this.groups[C-1].range.end:0}get size(){return this._size}indexAt(C){if(C<0)return-1;if(C<this._paddingTop)return 0;let b=0,a=this._paddingTop;for(const s of this.groups){const i=s.range.end-s.range.start,t=a+i*s.size;if(C<t)return b+Math.floor((C-a)/s.size);b+=i,a=t}return b}indexAfter(C){return Math.min(this.indexAt(C)+1,this.count)}positionAt(C){if(C<0)return-1;let b=0,a=0;for(const s of this.groups){const i=s.range.end-s.range.start,t=a+i;if(C<t)return this._paddingTop+b+(C-a)*s.size;b+=i*s.size,a=t}return-1}}e.RangeMap=p}),define(te[63],ie([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StopWatch=void 0;const m=globalThis.performance&&typeof globalThis.performance.now=="function";class k{static create(L){return new k(L)}constructor(L){this._now=m&&L===!1?Date.now:globalThis.performance.now.bind(globalThis.performance),this._startTime=this._now(),this._stopTime=-1}stop(){this._stopTime=this._now()}reset(){this._startTime=this._now(),this._stopTime=-1}elapsed(){return this._stopTime!==-1?this._stopTime-this._startTime:this._now()-this._startTime}}e.StopWatch=k}),define(te[7],ie([1,0,12,119,2,69,63]),function(J,e,m,k,D,L,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Relay=e.EventBufferer=e.EventMultiplexer=e.MicrotaskEmitter=e.DebounceEmitter=e.PauseableEmitter=e.createEventDeliveryQueue=e.Emitter=e.EventProfiling=e.Event=void 0;const p=!1,w=!1,C=!1;var b;(function(I){I.None=()=>D.Disposable.None;function E(ee){if(C){const{onDidAddListener:W}=ee,z=t.create();let Y=0;ee.onDidAddListener=()=>{++Y===2&&(console.warn("snapshotted emitter LIKELY used public and SHOULD HAVE BEEN created with DisposableStore. snapshotted here"),z.print()),W?.()}}}function T(ee,W){return V(ee,()=>{},0,void 0,!0,void 0,W)}I.defer=T;function N(ee){return(W,z=null,Y)=>{let j=!1,G;return G=ee(oe=>{if(!j)return G?G.dispose():j=!0,W.call(z,oe)},null,Y),j&&G.dispose(),G}}I.once=N;function A(ee,W,z){return B((Y,j=null,G)=>ee(oe=>Y.call(j,W(oe)),null,G),z)}I.map=A;function O(ee,W,z){return B((Y,j=null,G)=>ee(oe=>{W(oe),Y.call(j,oe)},null,G),z)}I.forEach=O;function M(ee,W,z){return B((Y,j=null,G)=>ee(oe=>W(oe)&&Y.call(j,oe),null,G),z)}I.filter=M;function P(ee){return ee}I.signal=P;function x(...ee){return(W,z=null,Y)=>{const j=(0,D.combinedDisposable)(...ee.map(G=>G(oe=>W.call(z,oe))));return H(j,Y)}}I.any=x;function R(ee,W,z,Y){let j=z;return A(ee,G=>(j=W(j,G),j),Y)}I.reduce=R;function B(ee,W){let z;const Y={onWillAddFirstListener(){z=ee(j.fire,j)},onDidRemoveLastListener(){z?.dispose()}};W||E(Y);const j=new d(Y);return W?.add(j),j.event}function H(ee,W){return W instanceof Array?W.push(ee):W&&W.add(ee),ee}function V(ee,W,z=100,Y=!1,j=!1,G,oe){let ne,ce,le,me=0,ve;const Ce={leakWarningThreshold:G,onWillAddFirstListener(){ne=ee(_e=>{me++,ce=W(ce,_e),Y&&!le&&(Se.fire(ce),ce=void 0),ve=()=>{const Le=ce;ce=void 0,le=void 0,(!Y||me>1)&&Se.fire(Le),me=0},typeof z=="number"?(clearTimeout(le),le=setTimeout(ve,z)):le===void 0&&(le=0,queueMicrotask(ve))})},onWillRemoveListener(){j&&me>0&&ve?.()},onDidRemoveLastListener(){ve=void 0,ne.dispose()}};oe||E(Ce);const Se=new d(Ce);return oe?.add(Se),Se.event}I.debounce=V;function q(ee,W=0,z){return I.debounce(ee,(Y,j)=>Y?(Y.push(j),Y):[j],W,void 0,!0,void 0,z)}I.accumulate=q;function K(ee,W=(Y,j)=>Y===j,z){let Y=!0,j;return M(ee,G=>{const oe=Y||!W(G,j);return Y=!1,j=G,oe},z)}I.latch=K;function U(ee,W,z){return[I.filter(ee,W,z),I.filter(ee,Y=>!W(Y),z)]}I.split=U;function $(ee,W=!1,z=[],Y){let j=z.slice(),G=ee(ce=>{j?j.push(ce):ne.fire(ce)});Y&&Y.add(G);const oe=()=>{j?.forEach(ce=>ne.fire(ce)),j=null},ne=new d({onWillAddFirstListener(){G||(G=ee(ce=>ne.fire(ce)),Y&&Y.add(G))},onDidAddFirstListener(){j&&(W?setTimeout(oe):oe())},onDidRemoveLastListener(){G&&G.dispose(),G=null}});return Y&&Y.add(ne),ne.event}I.buffer=$;function se(ee,W){return(Y,j,G)=>{const oe=W(new X);return ee(function(ne){const ce=oe.evaluate(ne);ce!==F&&Y.call(j,ce)},void 0,G)}}I.chain=se;const F=Symbol("HaltChainable");class X{constructor(){this.steps=[]}map(W){return this.steps.push(W),this}forEach(W){return this.steps.push(z=>(W(z),z)),this}filter(W){return this.steps.push(z=>W(z)?z:F),this}reduce(W,z){let Y=z;return this.steps.push(j=>(Y=W(Y,j),Y)),this}latch(W=(z,Y)=>z===Y){let z=!0,Y;return this.steps.push(j=>{const G=z||!W(j,Y);return z=!1,Y=j,G?j:F}),this}evaluate(W){for(const z of this.steps)if(W=z(W),W===F)break;return W}}function Q(ee,W,z=Y=>Y){const Y=(...ne)=>oe.fire(z(...ne)),j=()=>ee.on(W,Y),G=()=>ee.removeListener(W,Y),oe=new d({onWillAddFirstListener:j,onDidRemoveLastListener:G});return oe.event}I.fromNodeEventEmitter=Q;function Z(ee,W,z=Y=>Y){const Y=(...ne)=>oe.fire(z(...ne)),j=()=>ee.addEventListener(W,Y),G=()=>ee.removeEventListener(W,Y),oe=new d({onWillAddFirstListener:j,onDidRemoveLastListener:G});return oe.event}I.fromDOMEventEmitter=Z;function ae(ee){return new Promise(W=>N(ee)(W))}I.toPromise=ae;function ue(ee){const W=new d;return ee.then(z=>{W.fire(z)},()=>{W.fire(void 0)}).finally(()=>{W.dispose()}),W.event}I.fromPromise=ue;function ge(ee,W,z){return W(z),ee(Y=>W(Y))}I.runAndSubscribe=ge;class fe{constructor(W,z){this._observable=W,this._counter=0,this._hasChanged=!1;const Y={onWillAddFirstListener:()=>{W.addObserver(this)},onDidRemoveLastListener:()=>{W.removeObserver(this)}};z||E(Y),this.emitter=new d(Y),z&&z.add(this.emitter)}beginUpdate(W){this._counter++}handlePossibleChange(W){}handleChange(W,z){this._hasChanged=!0}endUpdate(W){this._counter--,this._counter===0&&(this._observable.reportChanges(),this._hasChanged&&(this._hasChanged=!1,this.emitter.fire(this._observable.get())))}}function re(ee,W){return new fe(ee,W).emitter.event}I.fromObservable=re;function de(ee){return(W,z,Y)=>{let j=0,G=!1;const oe={beginUpdate(){j++},endUpdate(){j--,j===0&&(ee.reportChanges(),G&&(G=!1,W.call(z)))},handlePossibleChange(){},handleChange(){G=!0}};ee.addObserver(oe),ee.reportChanges();const ne={dispose(){ee.removeObserver(oe)}};return Y instanceof D.DisposableStore?Y.add(ne):Array.isArray(Y)&&Y.push(ne),ne}}I.fromObservableLight=de})(b||(e.Event=b={}));class a{constructor(E){this.listenerCount=0,this.invocationCount=0,this.elapsedOverall=0,this.durations=[],this.name=`${E}_${a._idPool++}`,a.all.add(this)}start(E){this._stopWatch=new y.StopWatch,this.listenerCount=E}stop(){if(this._stopWatch){const E=this._stopWatch.elapsed();this.durations.push(E),this.elapsedOverall+=E,this.invocationCount+=1,this._stopWatch=void 0}}}e.EventProfiling=a,a.all=new Set,a._idPool=0;let s=-1;class i{constructor(E,T=Math.random().toString(18).slice(2,5)){this.threshold=E,this.name=T,this._warnCountdown=0}dispose(){var E;(E=this._stacks)===null||E===void 0||E.clear()}check(E,T){const N=this.threshold;if(N<=0||T<N)return;this._stacks||(this._stacks=new Map);const A=this._stacks.get(E.value)||0;if(this._stacks.set(E.value,A+1),this._warnCountdown-=1,this._warnCountdown<=0){this._warnCountdown=N*.5;let O,M=0;for(const[P,x]of this._stacks)(!O||M<x)&&(O=P,M=x);console.warn(`[${this.name}] potential listener LEAK detected, having ${T} listeners already. MOST frequent listener (${M}):`),console.warn(O)}return()=>{const O=this._stacks.get(E.value)||0;this._stacks.set(E.value,O-1)}}}class t{static create(){var E;return new t((E=new Error().stack)!==null&&E!==void 0?E:"")}constructor(E){this.value=E}print(){console.warn(this.value.split(`
`).slice(2).join(`
`))}}class n{constructor(E){this.value=E}}const h=2,v=(I,E)=>{if(I instanceof n)E(I);else for(let T=0;T<I.length;T++){const N=I[T];N&&E(N)}},u=p?new FinalizationRegistry(I=>{typeof I=="string"&&(console.warn("[LEAKING LISTENER] GC'ed a listener that was NOT yet disposed. This is where is was created:"),console.warn(I))}):void 0;class d{constructor(E){var T,N,A,O,M;this._size=0,this._options=E,this._leakageMon=s>0||!((T=this._options)===null||T===void 0)&&T.leakWarningThreshold?new i((A=(N=this._options)===null||N===void 0?void 0:N.leakWarningThreshold)!==null&&A!==void 0?A:s):void 0,this._perfMon=!((O=this._options)===null||O===void 0)&&O._profName?new a(this._options._profName):void 0,this._deliveryQueue=(M=this._options)===null||M===void 0?void 0:M.deliveryQueue}dispose(){var E,T,N,A;if(!this._disposed){if(this._disposed=!0,((E=this._deliveryQueue)===null||E===void 0?void 0:E.current)===this&&this._deliveryQueue.reset(),this._listeners){if(w){const O=this._listeners;queueMicrotask(()=>{v(O,M=>{var P;return(P=M.stack)===null||P===void 0?void 0:P.print()})})}this._listeners=void 0,this._size=0}(N=(T=this._options)===null||T===void 0?void 0:T.onDidRemoveLastListener)===null||N===void 0||N.call(T),(A=this._leakageMon)===null||A===void 0||A.dispose()}}get event(){var E;return(E=this._event)!==null&&E!==void 0||(this._event=(T,N,A)=>{var O,M,P,x,R;if(this._leakageMon&&this._size>this._leakageMon.threshold*3)return console.warn(`[${this._leakageMon.name}] REFUSES to accept new listeners because it exceeded its threshold by far`),D.Disposable.None;if(this._disposed)return D.Disposable.None;N&&(T=T.bind(N));const B=new n(T);let H,V;this._leakageMon&&this._size>=Math.ceil(this._leakageMon.threshold*.2)&&(B.stack=t.create(),H=this._leakageMon.check(B.stack,this._size+1)),w&&(B.stack=V??t.create()),this._listeners?this._listeners instanceof n?((R=this._deliveryQueue)!==null&&R!==void 0||(this._deliveryQueue=new l),this._listeners=[this._listeners,B]):this._listeners.push(B):((M=(O=this._options)===null||O===void 0?void 0:O.onWillAddFirstListener)===null||M===void 0||M.call(O,this),this._listeners=B,(x=(P=this._options)===null||P===void 0?void 0:P.onDidAddFirstListener)===null||x===void 0||x.call(P,this)),this._size++;const q=(0,D.toDisposable)(()=>{u?.unregister(q),H?.(),this._removeListener(B)});if(A instanceof D.DisposableStore?A.add(q):Array.isArray(A)&&A.push(q),u){const K=new Error().stack.split(`
`).slice(2).join(`
`).trim();u.register(q,K,q)}return q}),this._event}_removeListener(E){var T,N,A,O;if((N=(T=this._options)===null||T===void 0?void 0:T.onWillRemoveListener)===null||N===void 0||N.call(T,this),!this._listeners)return;if(this._size===1){this._listeners=void 0,(O=(A=this._options)===null||A===void 0?void 0:A.onDidRemoveLastListener)===null||O===void 0||O.call(A,this),this._size=0;return}const M=this._listeners,P=M.indexOf(E);if(P===-1)throw console.log("disposed?",this._disposed),console.log("size?",this._size),console.log("arr?",JSON.stringify(this._listeners)),new Error("Attempted to dispose unknown listener");this._size--,M[P]=void 0;const x=this._deliveryQueue.current===this;if(this._size*h<=M.length){let R=0;for(let B=0;B<M.length;B++)M[B]?M[R++]=M[B]:x&&(this._deliveryQueue.end--,R<this._deliveryQueue.i&&this._deliveryQueue.i--);M.length=R}}_deliver(E,T){var N;if(!E)return;const A=((N=this._options)===null||N===void 0?void 0:N.onListenerError)||m.onUnexpectedError;if(!A){E.value(T);return}try{E.value(T)}catch(O){A(O)}}_deliverQueue(E){const T=E.current._listeners;for(;E.i<E.end;)this._deliver(T[E.i++],E.value);E.reset()}fire(E){var T,N,A,O;if(!((T=this._deliveryQueue)===null||T===void 0)&&T.current&&(this._deliverQueue(this._deliveryQueue),(N=this._perfMon)===null||N===void 0||N.stop()),(A=this._perfMon)===null||A===void 0||A.start(this._size),this._listeners)if(this._listeners instanceof n)this._deliver(this._listeners,E);else{const M=this._deliveryQueue;M.enqueue(this,E,this._listeners.length),this._deliverQueue(M)}(O=this._perfMon)===null||O===void 0||O.stop()}hasListeners(){return this._size>0}}e.Emitter=d;const r=()=>new l;e.createEventDeliveryQueue=r;class l{constructor(){this.i=-1,this.end=0}enqueue(E,T,N){this.i=0,this.end=N,this.current=E,this.value=T}reset(){this.i=this.end,this.current=void 0,this.value=void 0}}class o extends d{constructor(E){super(E),this._isPaused=0,this._eventQueue=new L.LinkedList,this._mergeFn=E?.merge}pause(){this._isPaused++}resume(){if(this._isPaused!==0&&--this._isPaused===0)if(this._mergeFn){if(this._eventQueue.size>0){const E=Array.from(this._eventQueue);this._eventQueue.clear(),super.fire(this._mergeFn(E))}}else for(;!this._isPaused&&this._eventQueue.size!==0;)super.fire(this._eventQueue.shift())}fire(E){this._size&&(this._isPaused!==0?this._eventQueue.push(E):super.fire(E))}}e.PauseableEmitter=o;class g extends o{constructor(E){var T;super(E),this._delay=(T=E.delay)!==null&&T!==void 0?T:100}fire(E){this._handle||(this.pause(),this._handle=setTimeout(()=>{this._handle=void 0,this.resume()},this._delay)),super.fire(E)}}e.DebounceEmitter=g;class c extends d{constructor(E){super(E),this._queuedEvents=[],this._mergeFn=E?.merge}fire(E){this.hasListeners()&&(this._queuedEvents.push(E),this._queuedEvents.length===1&&queueMicrotask(()=>{this._mergeFn?super.fire(this._mergeFn(this._queuedEvents)):this._queuedEvents.forEach(T=>super.fire(T)),this._queuedEvents=[]}))}}e.MicrotaskEmitter=c;class f{constructor(){this.hasListeners=!1,this.events=[],this.emitter=new d({onWillAddFirstListener:()=>this.onFirstListenerAdd(),onDidRemoveLastListener:()=>this.onLastListenerRemove()})}get event(){return this.emitter.event}add(E){const T={event:E,listener:null};this.events.push(T),this.hasListeners&&this.hook(T);const N=()=>{this.hasListeners&&this.unhook(T);const A=this.events.indexOf(T);this.events.splice(A,1)};return(0,D.toDisposable)((0,k.createSingleCallFunction)(N))}onFirstListenerAdd(){this.hasListeners=!0,this.events.forEach(E=>this.hook(E))}onLastListenerRemove(){this.hasListeners=!1,this.events.forEach(E=>this.unhook(E))}hook(E){E.listener=E.event(T=>this.emitter.fire(T))}unhook(E){var T;(T=E.listener)===null||T===void 0||T.dispose(),E.listener=null}dispose(){var E;this.emitter.dispose();for(const T of this.events)(E=T.listener)===null||E===void 0||E.dispose();this.events=[]}}e.EventMultiplexer=f;class _{constructor(){this.buffers=[]}wrapEvent(E){return(T,N,A)=>E(O=>{const M=this.buffers[this.buffers.length-1];M?M.push(()=>T.call(N,O)):T.call(N,O)},void 0,A)}bufferEvents(E){const T=[];this.buffers.push(T);const N=E();return this.buffers.pop(),T.forEach(A=>A()),N}}e.EventBufferer=_;class S{constructor(){this.listening=!1,this.inputEvent=b.None,this.inputEventListener=D.Disposable.None,this.emitter=new d({onDidAddFirstListener:()=>{this.listening=!0,this.inputEventListener=this.inputEvent(this.emitter.fire,this.emitter)},onDidRemoveLastListener:()=>{this.listening=!1,this.inputEventListener.dispose()}}),this.event=this.emitter.event}set input(E){this.inputEvent=E,this.listening&&(this.inputEventListener.dispose(),this.inputEventListener=E(this.emitter.fire,this.emitter))}dispose(){this.inputEventListener.dispose(),this.emitter.dispose()}}e.Relay=S}),define(te[88],ie([1,0,7]),function(J,e,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DomEmitter=void 0;class k{get event(){return this.emitter.event}constructor(L,y,p){const w=C=>this.emitter.fire(C);this.emitter=new m.Emitter({onWillAddFirstListener:()=>L.addEventListener(y,w,p),onDidRemoveLastListener:()=>L.removeEventListener(y,w,p)})}dispose(){this.emitter.dispose()}}e.DomEmitter=k}),define(te[20],ie([1,0,7]),function(J,e,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CancellationTokenSource=e.CancellationToken=void 0;const k=Object.freeze(function(p,w){const C=setTimeout(p.bind(w),0);return{dispose(){clearTimeout(C)}}});var D;(function(p){function w(C){return C===p.None||C===p.Cancelled||C instanceof L?!0:!C||typeof C!="object"?!1:typeof C.isCancellationRequested=="boolean"&&typeof C.onCancellationRequested=="function"}p.isCancellationToken=w,p.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:m.Event.None}),p.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:k})})(D||(e.CancellationToken=D={}));class L{constructor(){this._isCancelled=!1,this._emitter=null}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?k:(this._emitter||(this._emitter=new m.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=null)}}class y{constructor(w){this._token=void 0,this._parentListener=void 0,this._parentListener=w&&w.onCancellationRequested(this.cancel,this)}get token(){return this._token||(this._token=new L),this._token}cancel(){this._token?this._token instanceof L&&this._token.cancel():this._token=D.Cancelled}dispose(w=!1){var C;w&&this.cancel(),(C=this._parentListener)===null||C===void 0||C.dispose(),this._token?this._token instanceof L&&this._token.dispose():this._token=D.None}}e.CancellationTokenSource=y}),define(te[288],ie([1,0,7]),function(J,e,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IME=e.IMEImpl=void 0;class k{constructor(){this._onDidChange=new m.Emitter,this.onDidChange=this._onDidChange.event,this._enabled=!0}get enabled(){return this._enabled}enable(){this._enabled=!0,this._onDidChange.fire()}disable(){this._enabled=!1,this._onDidChange.fire()}}e.IMEImpl=k,e.IME=new k}),define(te[156],ie([1,0,7,2]),function(J,e,m,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SmoothScrollingOperation=e.SmoothScrollingUpdate=e.Scrollable=e.ScrollState=void 0;class D{constructor(i,t,n,h,v,u,d){this._forceIntegerValues=i,this._scrollStateBrand=void 0,this._forceIntegerValues&&(t=t|0,n=n|0,h=h|0,v=v|0,u=u|0,d=d|0),this.rawScrollLeft=h,this.rawScrollTop=d,t<0&&(t=0),h+t>n&&(h=n-t),h<0&&(h=0),v<0&&(v=0),d+v>u&&(d=u-v),d<0&&(d=0),this.width=t,this.scrollWidth=n,this.scrollLeft=h,this.height=v,this.scrollHeight=u,this.scrollTop=d}equals(i){return this.rawScrollLeft===i.rawScrollLeft&&this.rawScrollTop===i.rawScrollTop&&this.width===i.width&&this.scrollWidth===i.scrollWidth&&this.scrollLeft===i.scrollLeft&&this.height===i.height&&this.scrollHeight===i.scrollHeight&&this.scrollTop===i.scrollTop}withScrollDimensions(i,t){return new D(this._forceIntegerValues,typeof i.width<"u"?i.width:this.width,typeof i.scrollWidth<"u"?i.scrollWidth:this.scrollWidth,t?this.rawScrollLeft:this.scrollLeft,typeof i.height<"u"?i.height:this.height,typeof i.scrollHeight<"u"?i.scrollHeight:this.scrollHeight,t?this.rawScrollTop:this.scrollTop)}withScrollPosition(i){return new D(this._forceIntegerValues,this.width,this.scrollWidth,typeof i.scrollLeft<"u"?i.scrollLeft:this.rawScrollLeft,this.height,this.scrollHeight,typeof i.scrollTop<"u"?i.scrollTop:this.rawScrollTop)}createScrollEvent(i,t){const n=this.width!==i.width,h=this.scrollWidth!==i.scrollWidth,v=this.scrollLeft!==i.scrollLeft,u=this.height!==i.height,d=this.scrollHeight!==i.scrollHeight,r=this.scrollTop!==i.scrollTop;return{inSmoothScrolling:t,oldWidth:i.width,oldScrollWidth:i.scrollWidth,oldScrollLeft:i.scrollLeft,width:this.width,scrollWidth:this.scrollWidth,scrollLeft:this.scrollLeft,oldHeight:i.height,oldScrollHeight:i.scrollHeight,oldScrollTop:i.scrollTop,height:this.height,scrollHeight:this.scrollHeight,scrollTop:this.scrollTop,widthChanged:n,scrollWidthChanged:h,scrollLeftChanged:v,heightChanged:u,scrollHeightChanged:d,scrollTopChanged:r}}}e.ScrollState=D;class L extends k.Disposable{constructor(i){super(),this._scrollableBrand=void 0,this._onScroll=this._register(new m.Emitter),this.onScroll=this._onScroll.event,this._smoothScrollDuration=i.smoothScrollDuration,this._scheduleAtNextAnimationFrame=i.scheduleAtNextAnimationFrame,this._state=new D(i.forceIntegerValues,0,0,0,0,0,0),this._smoothScrolling=null}dispose(){this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),super.dispose()}setSmoothScrollDuration(i){this._smoothScrollDuration=i}validateScrollPosition(i){return this._state.withScrollPosition(i)}getScrollDimensions(){return this._state}setScrollDimensions(i,t){var n;const h=this._state.withScrollDimensions(i,t);this._setState(h,!!this._smoothScrolling),(n=this._smoothScrolling)===null||n===void 0||n.acceptScrollDimensions(this._state)}getFutureScrollPosition(){return this._smoothScrolling?this._smoothScrolling.to:this._state}getCurrentScrollPosition(){return this._state}setScrollPositionNow(i){const t=this._state.withScrollPosition(i);this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),this._setState(t,!1)}setScrollPositionSmooth(i,t){if(this._smoothScrollDuration===0)return this.setScrollPositionNow(i);if(this._smoothScrolling){i={scrollLeft:typeof i.scrollLeft>"u"?this._smoothScrolling.to.scrollLeft:i.scrollLeft,scrollTop:typeof i.scrollTop>"u"?this._smoothScrolling.to.scrollTop:i.scrollTop};const n=this._state.withScrollPosition(i);if(this._smoothScrolling.to.scrollLeft===n.scrollLeft&&this._smoothScrolling.to.scrollTop===n.scrollTop)return;let h;t?h=new C(this._smoothScrolling.from,n,this._smoothScrolling.startTime,this._smoothScrolling.duration):h=this._smoothScrolling.combine(this._state,n,this._smoothScrollDuration),this._smoothScrolling.dispose(),this._smoothScrolling=h}else{const n=this._state.withScrollPosition(i);this._smoothScrolling=C.start(this._state,n,this._smoothScrollDuration)}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{this._smoothScrolling&&(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}hasPendingScrollAnimation(){return!!this._smoothScrolling}_performSmoothScrolling(){if(!this._smoothScrolling)return;const i=this._smoothScrolling.tick(),t=this._state.withScrollPosition(i);if(this._setState(t,!0),!!this._smoothScrolling){if(i.isDone){this._smoothScrolling.dispose(),this._smoothScrolling=null;return}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{this._smoothScrolling&&(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}}_setState(i,t){const n=this._state;n.equals(i)||(this._state=i,this._onScroll.fire(this._state.createScrollEvent(n,t)))}}e.Scrollable=L;class y{constructor(i,t,n){this.scrollLeft=i,this.scrollTop=t,this.isDone=n}}e.SmoothScrollingUpdate=y;function p(s,i){const t=i-s;return function(n){return s+t*a(n)}}function w(s,i,t){return function(n){return n<t?s(n/t):i((n-t)/(1-t))}}class C{constructor(i,t,n,h){this.from=i,this.to=t,this.duration=h,this.startTime=n,this.animationFrameDisposable=null,this._initAnimations()}_initAnimations(){this.scrollLeft=this._initAnimation(this.from.scrollLeft,this.to.scrollLeft,this.to.width),this.scrollTop=this._initAnimation(this.from.scrollTop,this.to.scrollTop,this.to.height)}_initAnimation(i,t,n){if(Math.abs(i-t)>2.5*n){let v,u;return i<t?(v=i+.75*n,u=t-.75*n):(v=i-.75*n,u=t+.75*n),w(p(i,v),p(u,t),.33)}return p(i,t)}dispose(){this.animationFrameDisposable!==null&&(this.animationFrameDisposable.dispose(),this.animationFrameDisposable=null)}acceptScrollDimensions(i){this.to=i.withScrollPosition(this.to),this._initAnimations()}tick(){return this._tick(Date.now())}_tick(i){const t=(i-this.startTime)/this.duration;if(t<1){const n=this.scrollLeft(t),h=this.scrollTop(t);return new y(n,h,!1)}return new y(this.to.scrollLeft,this.to.scrollTop,!0)}combine(i,t,n){return C.start(i,t,n)}static start(i,t,n){n=n+10;const h=Date.now()-10;return new C(i,t,h,n)}}e.SmoothScrollingOperation=C;function b(s){return Math.pow(s,3)}function a(s){return 1-b(1-s)}}),define(te[11],ie([1,0,284,99]),function(J,e,m,k){"use strict";var D;Object.defineProperty(e,"__esModule",{value:!0}),e.InvisibleCharacters=e.AmbiguousCharacters=e.noBreakWhitespace=e.UTF8_BOM_CHARACTER=e.UNUSUAL_LINE_TERMINATORS=e.GraphemeIterator=e.CodePointIterator=void 0,e.isFalsyOrWhitespace=L,e.format=p,e.htmlAttributeEncodeValue=w,e.escape=C,e.escapeRegExpCharacters=b,e.trim=a,e.ltrim=s,e.rtrim=i,e.convertSimple2RegExpPattern=t,e.stripWildcards=n,e.createRegExp=h,e.regExpLeadsToEndlessLoop=v,e.splitLines=u,e.splitLinesIncludeSeparators=d,e.firstNonWhitespaceIndex=r,e.getLeadingWhitespace=l,e.lastNonWhitespaceIndex=o,e.compare=g,e.compareSubstring=c,e.compareIgnoreCase=f,e.compareSubstringIgnoreCase=_,e.isAsciiDigit=S,e.isLowerAsciiLetter=I,e.isUpperAsciiLetter=E,e.equalsIgnoreCase=T,e.startsWithIgnoreCase=N,e.commonPrefixLength=A,e.commonSuffixLength=O,e.isHighSurrogate=M,e.isLowSurrogate=P,e.computeCodePoint=x,e.getNextCodePoint=R,e.nextCharLength=q,e.prevCharLength=K,e.getCharContainingOffset=U,e.containsRTL=F,e.isBasicASCII=Q,e.containsUnusualLineTerminators=Z,e.isFullWidthCharacter=ae,e.isEmojiImprecise=ue,e.startsWithUTF8BOM=ge,e.containsUppercaseCharacter=fe,e.singleLetterHash=re,e.getLeftDeleteOffset=z;function L(ne){return!ne||typeof ne!="string"?!0:ne.trim().length===0}const y=/{(\d+)}/g;function p(ne,...ce){return ce.length===0?ne:ne.replace(y,function(le,me){const ve=parseInt(me,10);return isNaN(ve)||ve<0||ve>=ce.length?le:ce[ve]})}function w(ne){return ne.replace(/[<>"'&]/g,ce=>{switch(ce){case"<":return"&lt;";case">":return"&gt;";case'"':return"&quot;";case"'":return"&apos;";case"&":return"&amp;"}return ce})}function C(ne){return ne.replace(/[<>&]/g,function(ce){switch(ce){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";default:return ce}})}function b(ne){return ne.replace(/[\\\{\}\*\+\?\|\^\$\.\[\]\(\)]/g,"\\$&")}function a(ne,ce=" "){const le=s(ne,ce);return i(le,ce)}function s(ne,ce){if(!ne||!ce)return ne;const le=ce.length;if(le===0||ne.length===0)return ne;let me=0;for(;ne.indexOf(ce,me)===me;)me=me+le;return ne.substring(me)}function i(ne,ce){if(!ne||!ce)return ne;const le=ce.length,me=ne.length;if(le===0||me===0)return ne;let ve=me,Ce=-1;for(;Ce=ne.lastIndexOf(ce,ve-1),!(Ce===-1||Ce+le!==ve);){if(Ce===0)return"";ve=Ce}return ne.substring(0,ve)}function t(ne){return ne.replace(/[\-\\\{\}\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&").replace(/[\*]/g,".*")}function n(ne){return ne.replace(/\*/g,"")}function h(ne,ce,le={}){if(!ne)throw new Error("Cannot create regex from empty string");ce||(ne=b(ne)),le.wholeWord&&(/\B/.test(ne.charAt(0))||(ne="\\b"+ne),/\B/.test(ne.charAt(ne.length-1))||(ne=ne+"\\b"));let me="";return le.global&&(me+="g"),le.matchCase||(me+="i"),le.multiline&&(me+="m"),le.unicode&&(me+="u"),new RegExp(ne,me)}function v(ne){return ne.source==="^"||ne.source==="^$"||ne.source==="$"||ne.source==="^\\s*$"?!1:!!(ne.exec("")&&ne.lastIndex===0)}function u(ne){return ne.split(/\r\n|\r|\n/)}function d(ne){var ce;const le=[],me=ne.split(/(\r\n|\r|\n)/);for(let ve=0;ve<Math.ceil(me.length/2);ve++)le.push(me[2*ve]+((ce=me[2*ve+1])!==null&&ce!==void 0?ce:""));return le}function r(ne){for(let ce=0,le=ne.length;ce<le;ce++){const me=ne.charCodeAt(ce);if(me!==32&&me!==9)return ce}return-1}function l(ne,ce=0,le=ne.length){for(let me=ce;me<le;me++){const ve=ne.charCodeAt(me);if(ve!==32&&ve!==9)return ne.substring(ce,me)}return ne.substring(ce,le)}function o(ne,ce=ne.length-1){for(let le=ce;le>=0;le--){const me=ne.charCodeAt(le);if(me!==32&&me!==9)return le}return-1}function g(ne,ce){return ne<ce?-1:ne>ce?1:0}function c(ne,ce,le=0,me=ne.length,ve=0,Ce=ce.length){for(;le<me&&ve<Ce;le++,ve++){const Le=ne.charCodeAt(le),ke=ce.charCodeAt(ve);if(Le<ke)return-1;if(Le>ke)return 1}const Se=me-le,_e=Ce-ve;return Se<_e?-1:Se>_e?1:0}function f(ne,ce){return _(ne,ce,0,ne.length,0,ce.length)}function _(ne,ce,le=0,me=ne.length,ve=0,Ce=ce.length){for(;le<me&&ve<Ce;le++,ve++){let Le=ne.charCodeAt(le),ke=ce.charCodeAt(ve);if(Le===ke)continue;if(Le>=128||ke>=128)return c(ne.toLowerCase(),ce.toLowerCase(),le,me,ve,Ce);I(Le)&&(Le-=32),I(ke)&&(ke-=32);const Ae=Le-ke;if(Ae!==0)return Ae}const Se=me-le,_e=Ce-ve;return Se<_e?-1:Se>_e?1:0}function S(ne){return ne>=48&&ne<=57}function I(ne){return ne>=97&&ne<=122}function E(ne){return ne>=65&&ne<=90}function T(ne,ce){return ne.length===ce.length&&_(ne,ce)===0}function N(ne,ce){const le=ce.length;return ce.length>ne.length?!1:_(ne,ce,0,le)===0}function A(ne,ce){const le=Math.min(ne.length,ce.length);let me;for(me=0;me<le;me++)if(ne.charCodeAt(me)!==ce.charCodeAt(me))return me;return le}function O(ne,ce){const le=Math.min(ne.length,ce.length);let me;const ve=ne.length-1,Ce=ce.length-1;for(me=0;me<le;me++)if(ne.charCodeAt(ve-me)!==ce.charCodeAt(Ce-me))return me;return le}function M(ne){return 55296<=ne&&ne<=56319}function P(ne){return 56320<=ne&&ne<=57343}function x(ne,ce){return(ne-55296<<10)+(ce-56320)+65536}function R(ne,ce,le){const me=ne.charCodeAt(le);if(M(me)&&le+1<ce){const ve=ne.charCodeAt(le+1);if(P(ve))return x(me,ve)}return me}function B(ne,ce){const le=ne.charCodeAt(ce-1);if(P(le)&&ce>1){const me=ne.charCodeAt(ce-2);if(M(me))return x(me,le)}return le}class H{get offset(){return this._offset}constructor(ce,le=0){this._str=ce,this._len=ce.length,this._offset=le}setOffset(ce){this._offset=ce}prevCodePoint(){const ce=B(this._str,this._offset);return this._offset-=ce>=65536?2:1,ce}nextCodePoint(){const ce=R(this._str,this._len,this._offset);return this._offset+=ce>=65536?2:1,ce}eol(){return this._offset>=this._len}}e.CodePointIterator=H;class V{get offset(){return this._iterator.offset}constructor(ce,le=0){this._iterator=new H(ce,le)}nextGraphemeLength(){const ce=ee.getInstance(),le=this._iterator,me=le.offset;let ve=ce.getGraphemeBreakType(le.nextCodePoint());for(;!le.eol();){const Ce=le.offset,Se=ce.getGraphemeBreakType(le.nextCodePoint());if(de(ve,Se)){le.setOffset(Ce);break}ve=Se}return le.offset-me}prevGraphemeLength(){const ce=ee.getInstance(),le=this._iterator,me=le.offset;let ve=ce.getGraphemeBreakType(le.prevCodePoint());for(;le.offset>0;){const Ce=le.offset,Se=ce.getGraphemeBreakType(le.prevCodePoint());if(de(Se,ve)){le.setOffset(Ce);break}ve=Se}return me-le.offset}eol(){return this._iterator.eol()}}e.GraphemeIterator=V;function q(ne,ce){return new V(ne,ce).nextGraphemeLength()}function K(ne,ce){return new V(ne,ce).prevGraphemeLength()}function U(ne,ce){ce>0&&P(ne.charCodeAt(ce))&&ce--;const le=ce+q(ne,ce);return[le-K(ne,le),le]}let $;function se(){return/(?:[\u05BE\u05C0\u05C3\u05C6\u05D0-\u05F4\u0608\u060B\u060D\u061B-\u064A\u066D-\u066F\u0671-\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u0710\u0712-\u072F\u074D-\u07A5\u07B1-\u07EA\u07F4\u07F5\u07FA\u07FE-\u0815\u081A\u0824\u0828\u0830-\u0858\u085E-\u088E\u08A0-\u08C9\u200F\uFB1D\uFB1F-\uFB28\uFB2A-\uFD3D\uFD50-\uFDC7\uFDF0-\uFDFC\uFE70-\uFEFC]|\uD802[\uDC00-\uDD1B\uDD20-\uDE00\uDE10-\uDE35\uDE40-\uDEE4\uDEEB-\uDF35\uDF40-\uDFFF]|\uD803[\uDC00-\uDD23\uDE80-\uDEA9\uDEAD-\uDF45\uDF51-\uDF81\uDF86-\uDFF6]|\uD83A[\uDC00-\uDCCF\uDD00-\uDD43\uDD4B-\uDFFF]|\uD83B[\uDC00-\uDEBB])/}function F(ne){return $||($=se()),$.test(ne)}const X=/^[\t\n\r\x20-\x7E]*$/;function Q(ne){return X.test(ne)}e.UNUSUAL_LINE_TERMINATORS=/[\u2028\u2029]/;function Z(ne){return e.UNUSUAL_LINE_TERMINATORS.test(ne)}function ae(ne){return ne>=11904&&ne<=55215||ne>=63744&&ne<=64255||ne>=65281&&ne<=65374}function ue(ne){return ne>=127462&&ne<=127487||ne===8986||ne===8987||ne===9200||ne===9203||ne>=9728&&ne<=10175||ne===11088||ne===11093||ne>=127744&&ne<=128591||ne>=128640&&ne<=128764||ne>=128992&&ne<=129008||ne>=129280&&ne<=129535||ne>=129648&&ne<=129782}e.UTF8_BOM_CHARACTER="\uFEFF";function ge(ne){return!!(ne&&ne.length>0&&ne.charCodeAt(0)===65279)}function fe(ne,ce=!1){return ne?(ce&&(ne=ne.replace(/\\./g,"")),ne.toLowerCase()!==ne):!1}function re(ne){return ne=ne%(2*26),ne<26?String.fromCharCode(97+ne):String.fromCharCode(65+ne-26)}function de(ne,ce){return ne===0?ce!==5&&ce!==7:ne===2&&ce===3?!1:ne===4||ne===2||ne===3||ce===4||ce===2||ce===3?!0:!(ne===8&&(ce===8||ce===9||ce===11||ce===12)||(ne===11||ne===9)&&(ce===9||ce===10)||(ne===12||ne===10)&&ce===10||ce===5||ce===13||ce===7||ne===1||ne===13&&ce===14||ne===6&&ce===6)}class ee{static getInstance(){return ee._INSTANCE||(ee._INSTANCE=new ee),ee._INSTANCE}constructor(){this._data=W()}getGraphemeBreakType(ce){if(ce<32)return ce===10?3:ce===13?2:4;if(ce<127)return 0;const le=this._data,me=le.length/3;let ve=1;for(;ve<=me;)if(ce<le[3*ve])ve=2*ve;else if(ce>le[3*ve+1])ve=2*ve+1;else return le[3*ve+2];return 0}}ee._INSTANCE=null;function W(){return JSON.parse("[0,0,0,51229,51255,12,44061,44087,12,127462,127487,6,7083,7085,5,47645,47671,12,54813,54839,12,128678,128678,14,3270,3270,5,9919,9923,14,45853,45879,12,49437,49463,12,53021,53047,12,71216,71218,7,128398,128399,14,129360,129374,14,2519,2519,5,4448,4519,9,9742,9742,14,12336,12336,14,44957,44983,12,46749,46775,12,48541,48567,12,50333,50359,12,52125,52151,12,53917,53943,12,69888,69890,5,73018,73018,5,127990,127990,14,128558,128559,14,128759,128760,14,129653,129655,14,2027,2035,5,2891,2892,7,3761,3761,5,6683,6683,5,8293,8293,4,9825,9826,14,9999,9999,14,43452,43453,5,44509,44535,12,45405,45431,12,46301,46327,12,47197,47223,12,48093,48119,12,48989,49015,12,49885,49911,12,50781,50807,12,51677,51703,12,52573,52599,12,53469,53495,12,54365,54391,12,65279,65279,4,70471,70472,7,72145,72147,7,119173,119179,5,127799,127818,14,128240,128244,14,128512,128512,14,128652,128652,14,128721,128722,14,129292,129292,14,129445,129450,14,129734,129743,14,1476,1477,5,2366,2368,7,2750,2752,7,3076,3076,5,3415,3415,5,4141,4144,5,6109,6109,5,6964,6964,5,7394,7400,5,9197,9198,14,9770,9770,14,9877,9877,14,9968,9969,14,10084,10084,14,43052,43052,5,43713,43713,5,44285,44311,12,44733,44759,12,45181,45207,12,45629,45655,12,46077,46103,12,46525,46551,12,46973,46999,12,47421,47447,12,47869,47895,12,48317,48343,12,48765,48791,12,49213,49239,12,49661,49687,12,50109,50135,12,50557,50583,12,51005,51031,12,51453,51479,12,51901,51927,12,52349,52375,12,52797,52823,12,53245,53271,12,53693,53719,12,54141,54167,12,54589,54615,12,55037,55063,12,69506,69509,5,70191,70193,5,70841,70841,7,71463,71467,5,72330,72342,5,94031,94031,5,123628,123631,5,127763,127765,14,127941,127941,14,128043,128062,14,128302,128317,14,128465,128467,14,128539,128539,14,128640,128640,14,128662,128662,14,128703,128703,14,128745,128745,14,129004,129007,14,129329,129330,14,129402,129402,14,129483,129483,14,129686,129704,14,130048,131069,14,173,173,4,1757,1757,1,2200,2207,5,2434,2435,7,2631,2632,5,2817,2817,5,3008,3008,5,3201,3201,5,3387,3388,5,3542,3542,5,3902,3903,7,4190,4192,5,6002,6003,5,6439,6440,5,6765,6770,7,7019,7027,5,7154,7155,7,8205,8205,13,8505,8505,14,9654,9654,14,9757,9757,14,9792,9792,14,9852,9853,14,9890,9894,14,9937,9937,14,9981,9981,14,10035,10036,14,11035,11036,14,42654,42655,5,43346,43347,7,43587,43587,5,44006,44007,7,44173,44199,12,44397,44423,12,44621,44647,12,44845,44871,12,45069,45095,12,45293,45319,12,45517,45543,12,45741,45767,12,45965,45991,12,46189,46215,12,46413,46439,12,46637,46663,12,46861,46887,12,47085,47111,12,47309,47335,12,47533,47559,12,47757,47783,12,47981,48007,12,48205,48231,12,48429,48455,12,48653,48679,12,48877,48903,12,49101,49127,12,49325,49351,12,49549,49575,12,49773,49799,12,49997,50023,12,50221,50247,12,50445,50471,12,50669,50695,12,50893,50919,12,51117,51143,12,51341,51367,12,51565,51591,12,51789,51815,12,52013,52039,12,52237,52263,12,52461,52487,12,52685,52711,12,52909,52935,12,53133,53159,12,53357,53383,12,53581,53607,12,53805,53831,12,54029,54055,12,54253,54279,12,54477,54503,12,54701,54727,12,54925,54951,12,55149,55175,12,68101,68102,5,69762,69762,7,70067,70069,7,70371,70378,5,70720,70721,7,71087,71087,5,71341,71341,5,71995,71996,5,72249,72249,7,72850,72871,5,73109,73109,5,118576,118598,5,121505,121519,5,127245,127247,14,127568,127569,14,127777,127777,14,127872,127891,14,127956,127967,14,128015,128016,14,128110,128172,14,128259,128259,14,128367,128368,14,128424,128424,14,128488,128488,14,128530,128532,14,128550,128551,14,128566,128566,14,128647,128647,14,128656,128656,14,128667,128673,14,128691,128693,14,128715,128715,14,128728,128732,14,128752,128752,14,128765,128767,14,129096,129103,14,129311,129311,14,129344,129349,14,129394,129394,14,129413,129425,14,129466,129471,14,129511,129535,14,129664,129666,14,129719,129722,14,129760,129767,14,917536,917631,5,13,13,2,1160,1161,5,1564,1564,4,1807,1807,1,2085,2087,5,2307,2307,7,2382,2383,7,2497,2500,5,2563,2563,7,2677,2677,5,2763,2764,7,2879,2879,5,2914,2915,5,3021,3021,5,3142,3144,5,3263,3263,5,3285,3286,5,3398,3400,7,3530,3530,5,3633,3633,5,3864,3865,5,3974,3975,5,4155,4156,7,4229,4230,5,5909,5909,7,6078,6085,7,6277,6278,5,6451,6456,7,6744,6750,5,6846,6846,5,6972,6972,5,7074,7077,5,7146,7148,7,7222,7223,5,7416,7417,5,8234,8238,4,8417,8417,5,9000,9000,14,9203,9203,14,9730,9731,14,9748,9749,14,9762,9763,14,9776,9783,14,9800,9811,14,9831,9831,14,9872,9873,14,9882,9882,14,9900,9903,14,9929,9933,14,9941,9960,14,9974,9974,14,9989,9989,14,10006,10006,14,10062,10062,14,10160,10160,14,11647,11647,5,12953,12953,14,43019,43019,5,43232,43249,5,43443,43443,5,43567,43568,7,43696,43696,5,43765,43765,7,44013,44013,5,44117,44143,12,44229,44255,12,44341,44367,12,44453,44479,12,44565,44591,12,44677,44703,12,44789,44815,12,44901,44927,12,45013,45039,12,45125,45151,12,45237,45263,12,45349,45375,12,45461,45487,12,45573,45599,12,45685,45711,12,45797,45823,12,45909,45935,12,46021,46047,12,46133,46159,12,46245,46271,12,46357,46383,12,46469,46495,12,46581,46607,12,46693,46719,12,46805,46831,12,46917,46943,12,47029,47055,12,47141,47167,12,47253,47279,12,47365,47391,12,47477,47503,12,47589,47615,12,47701,47727,12,47813,47839,12,47925,47951,12,48037,48063,12,48149,48175,12,48261,48287,12,48373,48399,12,48485,48511,12,48597,48623,12,48709,48735,12,48821,48847,12,48933,48959,12,49045,49071,12,49157,49183,12,49269,49295,12,49381,49407,12,49493,49519,12,49605,49631,12,49717,49743,12,49829,49855,12,49941,49967,12,50053,50079,12,50165,50191,12,50277,50303,12,50389,50415,12,50501,50527,12,50613,50639,12,50725,50751,12,50837,50863,12,50949,50975,12,51061,51087,12,51173,51199,12,51285,51311,12,51397,51423,12,51509,51535,12,51621,51647,12,51733,51759,12,51845,51871,12,51957,51983,12,52069,52095,12,52181,52207,12,52293,52319,12,52405,52431,12,52517,52543,12,52629,52655,12,52741,52767,12,52853,52879,12,52965,52991,12,53077,53103,12,53189,53215,12,53301,53327,12,53413,53439,12,53525,53551,12,53637,53663,12,53749,53775,12,53861,53887,12,53973,53999,12,54085,54111,12,54197,54223,12,54309,54335,12,54421,54447,12,54533,54559,12,54645,54671,12,54757,54783,12,54869,54895,12,54981,55007,12,55093,55119,12,55243,55291,10,66045,66045,5,68325,68326,5,69688,69702,5,69817,69818,5,69957,69958,7,70089,70092,5,70198,70199,5,70462,70462,5,70502,70508,5,70750,70750,5,70846,70846,7,71100,71101,5,71230,71230,7,71351,71351,5,71737,71738,5,72000,72000,7,72160,72160,5,72273,72278,5,72752,72758,5,72882,72883,5,73031,73031,5,73461,73462,7,94192,94193,7,119149,119149,7,121403,121452,5,122915,122916,5,126980,126980,14,127358,127359,14,127535,127535,14,127759,127759,14,127771,127771,14,127792,127793,14,127825,127867,14,127897,127899,14,127945,127945,14,127985,127986,14,128000,128007,14,128021,128021,14,128066,128100,14,128184,128235,14,128249,128252,14,128266,128276,14,128335,128335,14,128379,128390,14,128407,128419,14,128444,128444,14,128481,128481,14,128499,128499,14,128526,128526,14,128536,128536,14,128543,128543,14,128556,128556,14,128564,128564,14,128577,128580,14,128643,128645,14,128649,128649,14,128654,128654,14,128660,128660,14,128664,128664,14,128675,128675,14,128686,128689,14,128695,128696,14,128705,128709,14,128717,128719,14,128725,128725,14,128736,128741,14,128747,128748,14,128755,128755,14,128762,128762,14,128981,128991,14,129009,129023,14,129160,129167,14,129296,129304,14,129320,129327,14,129340,129342,14,129356,129356,14,129388,129392,14,129399,129400,14,129404,129407,14,129432,129442,14,129454,129455,14,129473,129474,14,129485,129487,14,129648,129651,14,129659,129660,14,129671,129679,14,129709,129711,14,129728,129730,14,129751,129753,14,129776,129782,14,917505,917505,4,917760,917999,5,10,10,3,127,159,4,768,879,5,1471,1471,5,1536,1541,1,1648,1648,5,1767,1768,5,1840,1866,5,2070,2073,5,2137,2139,5,2274,2274,1,2363,2363,7,2377,2380,7,2402,2403,5,2494,2494,5,2507,2508,7,2558,2558,5,2622,2624,7,2641,2641,5,2691,2691,7,2759,2760,5,2786,2787,5,2876,2876,5,2881,2884,5,2901,2902,5,3006,3006,5,3014,3016,7,3072,3072,5,3134,3136,5,3157,3158,5,3260,3260,5,3266,3266,5,3274,3275,7,3328,3329,5,3391,3392,7,3405,3405,5,3457,3457,5,3536,3537,7,3551,3551,5,3636,3642,5,3764,3772,5,3895,3895,5,3967,3967,7,3993,4028,5,4146,4151,5,4182,4183,7,4226,4226,5,4253,4253,5,4957,4959,5,5940,5940,7,6070,6070,7,6087,6088,7,6158,6158,4,6432,6434,5,6448,6449,7,6679,6680,5,6742,6742,5,6754,6754,5,6783,6783,5,6912,6915,5,6966,6970,5,6978,6978,5,7042,7042,7,7080,7081,5,7143,7143,7,7150,7150,7,7212,7219,5,7380,7392,5,7412,7412,5,8203,8203,4,8232,8232,4,8265,8265,14,8400,8412,5,8421,8432,5,8617,8618,14,9167,9167,14,9200,9200,14,9410,9410,14,9723,9726,14,9733,9733,14,9745,9745,14,9752,9752,14,9760,9760,14,9766,9766,14,9774,9774,14,9786,9786,14,9794,9794,14,9823,9823,14,9828,9828,14,9833,9850,14,9855,9855,14,9875,9875,14,9880,9880,14,9885,9887,14,9896,9897,14,9906,9916,14,9926,9927,14,9935,9935,14,9939,9939,14,9962,9962,14,9972,9972,14,9978,9978,14,9986,9986,14,9997,9997,14,10002,10002,14,10017,10017,14,10055,10055,14,10071,10071,14,10133,10135,14,10548,10549,14,11093,11093,14,12330,12333,5,12441,12442,5,42608,42610,5,43010,43010,5,43045,43046,5,43188,43203,7,43302,43309,5,43392,43394,5,43446,43449,5,43493,43493,5,43571,43572,7,43597,43597,7,43703,43704,5,43756,43757,5,44003,44004,7,44009,44010,7,44033,44059,12,44089,44115,12,44145,44171,12,44201,44227,12,44257,44283,12,44313,44339,12,44369,44395,12,44425,44451,12,44481,44507,12,44537,44563,12,44593,44619,12,44649,44675,12,44705,44731,12,44761,44787,12,44817,44843,12,44873,44899,12,44929,44955,12,44985,45011,12,45041,45067,12,45097,45123,12,45153,45179,12,45209,45235,12,45265,45291,12,45321,45347,12,45377,45403,12,45433,45459,12,45489,45515,12,45545,45571,12,45601,45627,12,45657,45683,12,45713,45739,12,45769,45795,12,45825,45851,12,45881,45907,12,45937,45963,12,45993,46019,12,46049,46075,12,46105,46131,12,46161,46187,12,46217,46243,12,46273,46299,12,46329,46355,12,46385,46411,12,46441,46467,12,46497,46523,12,46553,46579,12,46609,46635,12,46665,46691,12,46721,46747,12,46777,46803,12,46833,46859,12,46889,46915,12,46945,46971,12,47001,47027,12,47057,47083,12,47113,47139,12,47169,47195,12,47225,47251,12,47281,47307,12,47337,47363,12,47393,47419,12,47449,47475,12,47505,47531,12,47561,47587,12,47617,47643,12,47673,47699,12,47729,47755,12,47785,47811,12,47841,47867,12,47897,47923,12,47953,47979,12,48009,48035,12,48065,48091,12,48121,48147,12,48177,48203,12,48233,48259,12,48289,48315,12,48345,48371,12,48401,48427,12,48457,48483,12,48513,48539,12,48569,48595,12,48625,48651,12,48681,48707,12,48737,48763,12,48793,48819,12,48849,48875,12,48905,48931,12,48961,48987,12,49017,49043,12,49073,49099,12,49129,49155,12,49185,49211,12,49241,49267,12,49297,49323,12,49353,49379,12,49409,49435,12,49465,49491,12,49521,49547,12,49577,49603,12,49633,49659,12,49689,49715,12,49745,49771,12,49801,49827,12,49857,49883,12,49913,49939,12,49969,49995,12,50025,50051,12,50081,50107,12,50137,50163,12,50193,50219,12,50249,50275,12,50305,50331,12,50361,50387,12,50417,50443,12,50473,50499,12,50529,50555,12,50585,50611,12,50641,50667,12,50697,50723,12,50753,50779,12,50809,50835,12,50865,50891,12,50921,50947,12,50977,51003,12,51033,51059,12,51089,51115,12,51145,51171,12,51201,51227,12,51257,51283,12,51313,51339,12,51369,51395,12,51425,51451,12,51481,51507,12,51537,51563,12,51593,51619,12,51649,51675,12,51705,51731,12,51761,51787,12,51817,51843,12,51873,51899,12,51929,51955,12,51985,52011,12,52041,52067,12,52097,52123,12,52153,52179,12,52209,52235,12,52265,52291,12,52321,52347,12,52377,52403,12,52433,52459,12,52489,52515,12,52545,52571,12,52601,52627,12,52657,52683,12,52713,52739,12,52769,52795,12,52825,52851,12,52881,52907,12,52937,52963,12,52993,53019,12,53049,53075,12,53105,53131,12,53161,53187,12,53217,53243,12,53273,53299,12,53329,53355,12,53385,53411,12,53441,53467,12,53497,53523,12,53553,53579,12,53609,53635,12,53665,53691,12,53721,53747,12,53777,53803,12,53833,53859,12,53889,53915,12,53945,53971,12,54001,54027,12,54057,54083,12,54113,54139,12,54169,54195,12,54225,54251,12,54281,54307,12,54337,54363,12,54393,54419,12,54449,54475,12,54505,54531,12,54561,54587,12,54617,54643,12,54673,54699,12,54729,54755,12,54785,54811,12,54841,54867,12,54897,54923,12,54953,54979,12,55009,55035,12,55065,55091,12,55121,55147,12,55177,55203,12,65024,65039,5,65520,65528,4,66422,66426,5,68152,68154,5,69291,69292,5,69633,69633,5,69747,69748,5,69811,69814,5,69826,69826,5,69932,69932,7,70016,70017,5,70079,70080,7,70095,70095,5,70196,70196,5,70367,70367,5,70402,70403,7,70464,70464,5,70487,70487,5,70709,70711,7,70725,70725,7,70833,70834,7,70843,70844,7,70849,70849,7,71090,71093,5,71103,71104,5,71227,71228,7,71339,71339,5,71344,71349,5,71458,71461,5,71727,71735,5,71985,71989,7,71998,71998,5,72002,72002,7,72154,72155,5,72193,72202,5,72251,72254,5,72281,72283,5,72344,72345,5,72766,72766,7,72874,72880,5,72885,72886,5,73023,73029,5,73104,73105,5,73111,73111,5,92912,92916,5,94095,94098,5,113824,113827,4,119142,119142,7,119155,119162,4,119362,119364,5,121476,121476,5,122888,122904,5,123184,123190,5,125252,125258,5,127183,127183,14,127340,127343,14,127377,127386,14,127491,127503,14,127548,127551,14,127744,127756,14,127761,127761,14,127769,127769,14,127773,127774,14,127780,127788,14,127796,127797,14,127820,127823,14,127869,127869,14,127894,127895,14,127902,127903,14,127943,127943,14,127947,127950,14,127972,127972,14,127988,127988,14,127992,127994,14,128009,128011,14,128019,128019,14,128023,128041,14,128064,128064,14,128102,128107,14,128174,128181,14,128238,128238,14,128246,128247,14,128254,128254,14,128264,128264,14,128278,128299,14,128329,128330,14,128348,128359,14,128371,128377,14,128392,128393,14,128401,128404,14,128421,128421,14,128433,128434,14,128450,128452,14,128476,128478,14,128483,128483,14,128495,128495,14,128506,128506,14,128519,128520,14,128528,128528,14,128534,128534,14,128538,128538,14,128540,128542,14,128544,128549,14,128552,128555,14,128557,128557,14,128560,128563,14,128565,128565,14,128567,128576,14,128581,128591,14,128641,128642,14,128646,128646,14,128648,128648,14,128650,128651,14,128653,128653,14,128655,128655,14,128657,128659,14,128661,128661,14,128663,128663,14,128665,128666,14,128674,128674,14,128676,128677,14,128679,128685,14,128690,128690,14,128694,128694,14,128697,128702,14,128704,128704,14,128710,128714,14,128716,128716,14,128720,128720,14,128723,128724,14,128726,128727,14,128733,128735,14,128742,128744,14,128746,128746,14,128749,128751,14,128753,128754,14,128756,128758,14,128761,128761,14,128763,128764,14,128884,128895,14,128992,129003,14,129008,129008,14,129036,129039,14,129114,129119,14,129198,129279,14,129293,129295,14,129305,129310,14,129312,129319,14,129328,129328,14,129331,129338,14,129343,129343,14,129351,129355,14,129357,129359,14,129375,129387,14,129393,129393,14,129395,129398,14,129401,129401,14,129403,129403,14,129408,129412,14,129426,129431,14,129443,129444,14,129451,129453,14,129456,129465,14,129472,129472,14,129475,129482,14,129484,129484,14,129488,129510,14,129536,129647,14,129652,129652,14,129656,129658,14,129661,129663,14,129667,129670,14,129680,129685,14,129705,129708,14,129712,129718,14,129723,129727,14,129731,129733,14,129744,129750,14,129754,129759,14,129768,129775,14,129783,129791,14,917504,917504,4,917506,917535,4,917632,917759,4,918000,921599,4,0,9,4,11,12,4,14,31,4,169,169,14,174,174,14,1155,1159,5,1425,1469,5,1473,1474,5,1479,1479,5,1552,1562,5,1611,1631,5,1750,1756,5,1759,1764,5,1770,1773,5,1809,1809,5,1958,1968,5,2045,2045,5,2075,2083,5,2089,2093,5,2192,2193,1,2250,2273,5,2275,2306,5,2362,2362,5,2364,2364,5,2369,2376,5,2381,2381,5,2385,2391,5,2433,2433,5,2492,2492,5,2495,2496,7,2503,2504,7,2509,2509,5,2530,2531,5,2561,2562,5,2620,2620,5,2625,2626,5,2635,2637,5,2672,2673,5,2689,2690,5,2748,2748,5,2753,2757,5,2761,2761,7,2765,2765,5,2810,2815,5,2818,2819,7,2878,2878,5,2880,2880,7,2887,2888,7,2893,2893,5,2903,2903,5,2946,2946,5,3007,3007,7,3009,3010,7,3018,3020,7,3031,3031,5,3073,3075,7,3132,3132,5,3137,3140,7,3146,3149,5,3170,3171,5,3202,3203,7,3262,3262,7,3264,3265,7,3267,3268,7,3271,3272,7,3276,3277,5,3298,3299,5,3330,3331,7,3390,3390,5,3393,3396,5,3402,3404,7,3406,3406,1,3426,3427,5,3458,3459,7,3535,3535,5,3538,3540,5,3544,3550,7,3570,3571,7,3635,3635,7,3655,3662,5,3763,3763,7,3784,3789,5,3893,3893,5,3897,3897,5,3953,3966,5,3968,3972,5,3981,3991,5,4038,4038,5,4145,4145,7,4153,4154,5,4157,4158,5,4184,4185,5,4209,4212,5,4228,4228,7,4237,4237,5,4352,4447,8,4520,4607,10,5906,5908,5,5938,5939,5,5970,5971,5,6068,6069,5,6071,6077,5,6086,6086,5,6089,6099,5,6155,6157,5,6159,6159,5,6313,6313,5,6435,6438,7,6441,6443,7,6450,6450,5,6457,6459,5,6681,6682,7,6741,6741,7,6743,6743,7,6752,6752,5,6757,6764,5,6771,6780,5,6832,6845,5,6847,6862,5,6916,6916,7,6965,6965,5,6971,6971,7,6973,6977,7,6979,6980,7,7040,7041,5,7073,7073,7,7078,7079,7,7082,7082,7,7142,7142,5,7144,7145,5,7149,7149,5,7151,7153,5,7204,7211,7,7220,7221,7,7376,7378,5,7393,7393,7,7405,7405,5,7415,7415,7,7616,7679,5,8204,8204,5,8206,8207,4,8233,8233,4,8252,8252,14,8288,8292,4,8294,8303,4,8413,8416,5,8418,8420,5,8482,8482,14,8596,8601,14,8986,8987,14,9096,9096,14,9193,9196,14,9199,9199,14,9201,9202,14,9208,9210,14,9642,9643,14,9664,9664,14,9728,9729,14,9732,9732,14,9735,9741,14,9743,9744,14,9746,9746,14,9750,9751,14,9753,9756,14,9758,9759,14,9761,9761,14,9764,9765,14,9767,9769,14,9771,9773,14,9775,9775,14,9784,9785,14,9787,9791,14,9793,9793,14,9795,9799,14,9812,9822,14,9824,9824,14,9827,9827,14,9829,9830,14,9832,9832,14,9851,9851,14,9854,9854,14,9856,9861,14,9874,9874,14,9876,9876,14,9878,9879,14,9881,9881,14,9883,9884,14,9888,9889,14,9895,9895,14,9898,9899,14,9904,9905,14,9917,9918,14,9924,9925,14,9928,9928,14,9934,9934,14,9936,9936,14,9938,9938,14,9940,9940,14,9961,9961,14,9963,9967,14,9970,9971,14,9973,9973,14,9975,9977,14,9979,9980,14,9982,9985,14,9987,9988,14,9992,9996,14,9998,9998,14,10000,10001,14,10004,10004,14,10013,10013,14,10024,10024,14,10052,10052,14,10060,10060,14,10067,10069,14,10083,10083,14,10085,10087,14,10145,10145,14,10175,10175,14,11013,11015,14,11088,11088,14,11503,11505,5,11744,11775,5,12334,12335,5,12349,12349,14,12951,12951,14,42607,42607,5,42612,42621,5,42736,42737,5,43014,43014,5,43043,43044,7,43047,43047,7,43136,43137,7,43204,43205,5,43263,43263,5,43335,43345,5,43360,43388,8,43395,43395,7,43444,43445,7,43450,43451,7,43454,43456,7,43561,43566,5,43569,43570,5,43573,43574,5,43596,43596,5,43644,43644,5,43698,43700,5,43710,43711,5,43755,43755,7,43758,43759,7,43766,43766,5,44005,44005,5,44008,44008,5,44012,44012,7,44032,44032,11,44060,44060,11,44088,44088,11,44116,44116,11,44144,44144,11,44172,44172,11,44200,44200,11,44228,44228,11,44256,44256,11,44284,44284,11,44312,44312,11,44340,44340,11,44368,44368,11,44396,44396,11,44424,44424,11,44452,44452,11,44480,44480,11,44508,44508,11,44536,44536,11,44564,44564,11,44592,44592,11,44620,44620,11,44648,44648,11,44676,44676,11,44704,44704,11,44732,44732,11,44760,44760,11,44788,44788,11,44816,44816,11,44844,44844,11,44872,44872,11,44900,44900,11,44928,44928,11,44956,44956,11,44984,44984,11,45012,45012,11,45040,45040,11,45068,45068,11,45096,45096,11,45124,45124,11,45152,45152,11,45180,45180,11,45208,45208,11,45236,45236,11,45264,45264,11,45292,45292,11,45320,45320,11,45348,45348,11,45376,45376,11,45404,45404,11,45432,45432,11,45460,45460,11,45488,45488,11,45516,45516,11,45544,45544,11,45572,45572,11,45600,45600,11,45628,45628,11,45656,45656,11,45684,45684,11,45712,45712,11,45740,45740,11,45768,45768,11,45796,45796,11,45824,45824,11,45852,45852,11,45880,45880,11,45908,45908,11,45936,45936,11,45964,45964,11,45992,45992,11,46020,46020,11,46048,46048,11,46076,46076,11,46104,46104,11,46132,46132,11,46160,46160,11,46188,46188,11,46216,46216,11,46244,46244,11,46272,46272,11,46300,46300,11,46328,46328,11,46356,46356,11,46384,46384,11,46412,46412,11,46440,46440,11,46468,46468,11,46496,46496,11,46524,46524,11,46552,46552,11,46580,46580,11,46608,46608,11,46636,46636,11,46664,46664,11,46692,46692,11,46720,46720,11,46748,46748,11,46776,46776,11,46804,46804,11,46832,46832,11,46860,46860,11,46888,46888,11,46916,46916,11,46944,46944,11,46972,46972,11,47000,47000,11,47028,47028,11,47056,47056,11,47084,47084,11,47112,47112,11,47140,47140,11,47168,47168,11,47196,47196,11,47224,47224,11,47252,47252,11,47280,47280,11,47308,47308,11,47336,47336,11,47364,47364,11,47392,47392,11,47420,47420,11,47448,47448,11,47476,47476,11,47504,47504,11,47532,47532,11,47560,47560,11,47588,47588,11,47616,47616,11,47644,47644,11,47672,47672,11,47700,47700,11,47728,47728,11,47756,47756,11,47784,47784,11,47812,47812,11,47840,47840,11,47868,47868,11,47896,47896,11,47924,47924,11,47952,47952,11,47980,47980,11,48008,48008,11,48036,48036,11,48064,48064,11,48092,48092,11,48120,48120,11,48148,48148,11,48176,48176,11,48204,48204,11,48232,48232,11,48260,48260,11,48288,48288,11,48316,48316,11,48344,48344,11,48372,48372,11,48400,48400,11,48428,48428,11,48456,48456,11,48484,48484,11,48512,48512,11,48540,48540,11,48568,48568,11,48596,48596,11,48624,48624,11,48652,48652,11,48680,48680,11,48708,48708,11,48736,48736,11,48764,48764,11,48792,48792,11,48820,48820,11,48848,48848,11,48876,48876,11,48904,48904,11,48932,48932,11,48960,48960,11,48988,48988,11,49016,49016,11,49044,49044,11,49072,49072,11,49100,49100,11,49128,49128,11,49156,49156,11,49184,49184,11,49212,49212,11,49240,49240,11,49268,49268,11,49296,49296,11,49324,49324,11,49352,49352,11,49380,49380,11,49408,49408,11,49436,49436,11,49464,49464,11,49492,49492,11,49520,49520,11,49548,49548,11,49576,49576,11,49604,49604,11,49632,49632,11,49660,49660,11,49688,49688,11,49716,49716,11,49744,49744,11,49772,49772,11,49800,49800,11,49828,49828,11,49856,49856,11,49884,49884,11,49912,49912,11,49940,49940,11,49968,49968,11,49996,49996,11,50024,50024,11,50052,50052,11,50080,50080,11,50108,50108,11,50136,50136,11,50164,50164,11,50192,50192,11,50220,50220,11,50248,50248,11,50276,50276,11,50304,50304,11,50332,50332,11,50360,50360,11,50388,50388,11,50416,50416,11,50444,50444,11,50472,50472,11,50500,50500,11,50528,50528,11,50556,50556,11,50584,50584,11,50612,50612,11,50640,50640,11,50668,50668,11,50696,50696,11,50724,50724,11,50752,50752,11,50780,50780,11,50808,50808,11,50836,50836,11,50864,50864,11,50892,50892,11,50920,50920,11,50948,50948,11,50976,50976,11,51004,51004,11,51032,51032,11,51060,51060,11,51088,51088,11,51116,51116,11,51144,51144,11,51172,51172,11,51200,51200,11,51228,51228,11,51256,51256,11,51284,51284,11,51312,51312,11,51340,51340,11,51368,51368,11,51396,51396,11,51424,51424,11,51452,51452,11,51480,51480,11,51508,51508,11,51536,51536,11,51564,51564,11,51592,51592,11,51620,51620,11,51648,51648,11,51676,51676,11,51704,51704,11,51732,51732,11,51760,51760,11,51788,51788,11,51816,51816,11,51844,51844,11,51872,51872,11,51900,51900,11,51928,51928,11,51956,51956,11,51984,51984,11,52012,52012,11,52040,52040,11,52068,52068,11,52096,52096,11,52124,52124,11,52152,52152,11,52180,52180,11,52208,52208,11,52236,52236,11,52264,52264,11,52292,52292,11,52320,52320,11,52348,52348,11,52376,52376,11,52404,52404,11,52432,52432,11,52460,52460,11,52488,52488,11,52516,52516,11,52544,52544,11,52572,52572,11,52600,52600,11,52628,52628,11,52656,52656,11,52684,52684,11,52712,52712,11,52740,52740,11,52768,52768,11,52796,52796,11,52824,52824,11,52852,52852,11,52880,52880,11,52908,52908,11,52936,52936,11,52964,52964,11,52992,52992,11,53020,53020,11,53048,53048,11,53076,53076,11,53104,53104,11,53132,53132,11,53160,53160,11,53188,53188,11,53216,53216,11,53244,53244,11,53272,53272,11,53300,53300,11,53328,53328,11,53356,53356,11,53384,53384,11,53412,53412,11,53440,53440,11,53468,53468,11,53496,53496,11,53524,53524,11,53552,53552,11,53580,53580,11,53608,53608,11,53636,53636,11,53664,53664,11,53692,53692,11,53720,53720,11,53748,53748,11,53776,53776,11,53804,53804,11,53832,53832,11,53860,53860,11,53888,53888,11,53916,53916,11,53944,53944,11,53972,53972,11,54000,54000,11,54028,54028,11,54056,54056,11,54084,54084,11,54112,54112,11,54140,54140,11,54168,54168,11,54196,54196,11,54224,54224,11,54252,54252,11,54280,54280,11,54308,54308,11,54336,54336,11,54364,54364,11,54392,54392,11,54420,54420,11,54448,54448,11,54476,54476,11,54504,54504,11,54532,54532,11,54560,54560,11,54588,54588,11,54616,54616,11,54644,54644,11,54672,54672,11,54700,54700,11,54728,54728,11,54756,54756,11,54784,54784,11,54812,54812,11,54840,54840,11,54868,54868,11,54896,54896,11,54924,54924,11,54952,54952,11,54980,54980,11,55008,55008,11,55036,55036,11,55064,55064,11,55092,55092,11,55120,55120,11,55148,55148,11,55176,55176,11,55216,55238,9,64286,64286,5,65056,65071,5,65438,65439,5,65529,65531,4,66272,66272,5,68097,68099,5,68108,68111,5,68159,68159,5,68900,68903,5,69446,69456,5,69632,69632,7,69634,69634,7,69744,69744,5,69759,69761,5,69808,69810,7,69815,69816,7,69821,69821,1,69837,69837,1,69927,69931,5,69933,69940,5,70003,70003,5,70018,70018,7,70070,70078,5,70082,70083,1,70094,70094,7,70188,70190,7,70194,70195,7,70197,70197,7,70206,70206,5,70368,70370,7,70400,70401,5,70459,70460,5,70463,70463,7,70465,70468,7,70475,70477,7,70498,70499,7,70512,70516,5,70712,70719,5,70722,70724,5,70726,70726,5,70832,70832,5,70835,70840,5,70842,70842,5,70845,70845,5,70847,70848,5,70850,70851,5,71088,71089,7,71096,71099,7,71102,71102,7,71132,71133,5,71219,71226,5,71229,71229,5,71231,71232,5,71340,71340,7,71342,71343,7,71350,71350,7,71453,71455,5,71462,71462,7,71724,71726,7,71736,71736,7,71984,71984,5,71991,71992,7,71997,71997,7,71999,71999,1,72001,72001,1,72003,72003,5,72148,72151,5,72156,72159,7,72164,72164,7,72243,72248,5,72250,72250,1,72263,72263,5,72279,72280,7,72324,72329,1,72343,72343,7,72751,72751,7,72760,72765,5,72767,72767,5,72873,72873,7,72881,72881,7,72884,72884,7,73009,73014,5,73020,73021,5,73030,73030,1,73098,73102,7,73107,73108,7,73110,73110,7,73459,73460,5,78896,78904,4,92976,92982,5,94033,94087,7,94180,94180,5,113821,113822,5,118528,118573,5,119141,119141,5,119143,119145,5,119150,119154,5,119163,119170,5,119210,119213,5,121344,121398,5,121461,121461,5,121499,121503,5,122880,122886,5,122907,122913,5,122918,122922,5,123566,123566,5,125136,125142,5,126976,126979,14,126981,127182,14,127184,127231,14,127279,127279,14,127344,127345,14,127374,127374,14,127405,127461,14,127489,127490,14,127514,127514,14,127538,127546,14,127561,127567,14,127570,127743,14,127757,127758,14,127760,127760,14,127762,127762,14,127766,127768,14,127770,127770,14,127772,127772,14,127775,127776,14,127778,127779,14,127789,127791,14,127794,127795,14,127798,127798,14,127819,127819,14,127824,127824,14,127868,127868,14,127870,127871,14,127892,127893,14,127896,127896,14,127900,127901,14,127904,127940,14,127942,127942,14,127944,127944,14,127946,127946,14,127951,127955,14,127968,127971,14,127973,127984,14,127987,127987,14,127989,127989,14,127991,127991,14,127995,127999,5,128008,128008,14,128012,128014,14,128017,128018,14,128020,128020,14,128022,128022,14,128042,128042,14,128063,128063,14,128065,128065,14,128101,128101,14,128108,128109,14,128173,128173,14,128182,128183,14,128236,128237,14,128239,128239,14,128245,128245,14,128248,128248,14,128253,128253,14,128255,128258,14,128260,128263,14,128265,128265,14,128277,128277,14,128300,128301,14,128326,128328,14,128331,128334,14,128336,128347,14,128360,128366,14,128369,128370,14,128378,128378,14,128391,128391,14,128394,128397,14,128400,128400,14,128405,128406,14,128420,128420,14,128422,128423,14,128425,128432,14,128435,128443,14,128445,128449,14,128453,128464,14,128468,128475,14,128479,128480,14,128482,128482,14,128484,128487,14,128489,128494,14,128496,128498,14,128500,128505,14,128507,128511,14,128513,128518,14,128521,128525,14,128527,128527,14,128529,128529,14,128533,128533,14,128535,128535,14,128537,128537,14]")}function z(ne,ce){if(ne===0)return 0;const le=Y(ne,ce);if(le!==void 0)return le;const me=new H(ce,ne);return me.prevCodePoint(),me.offset}function Y(ne,ce){const le=new H(ce,ne);let me=le.prevCodePoint();for(;j(me)||me===65039||me===8419;){if(le.offset===0)return;me=le.prevCodePoint()}if(!ue(me))return;let ve=le.offset;return ve>0&&le.prevCodePoint()===8205&&(ve=le.offset),ve}function j(ne){return 127995<=ne&&ne<=127999}e.noBreakWhitespace="\xA0";class G{static getInstance(ce){return D.cache.get(Array.from(ce))}static getLocales(){return D._locales.value}constructor(ce){this.confusableDictionary=ce}isAmbiguous(ce){return this.confusableDictionary.has(ce)}getPrimaryConfusable(ce){return this.confusableDictionary.get(ce)}getConfusableCodePoints(){return new Set(this.confusableDictionary.keys())}}e.AmbiguousCharacters=G,D=G,G.ambiguousCharacterData=new k.Lazy(()=>JSON.parse('{"_common":[8232,32,8233,32,5760,32,8192,32,8193,32,8194,32,8195,32,8196,32,8197,32,8198,32,8200,32,8201,32,8202,32,8287,32,8199,32,8239,32,2042,95,65101,95,65102,95,65103,95,8208,45,8209,45,8210,45,65112,45,1748,45,8259,45,727,45,8722,45,10134,45,11450,45,1549,44,1643,44,8218,44,184,44,42233,44,894,59,2307,58,2691,58,1417,58,1795,58,1796,58,5868,58,65072,58,6147,58,6153,58,8282,58,1475,58,760,58,42889,58,8758,58,720,58,42237,58,451,33,11601,33,660,63,577,63,2429,63,5038,63,42731,63,119149,46,8228,46,1793,46,1794,46,42510,46,68176,46,1632,46,1776,46,42232,46,1373,96,65287,96,8219,96,8242,96,1370,96,1523,96,8175,96,65344,96,900,96,8189,96,8125,96,8127,96,8190,96,697,96,884,96,712,96,714,96,715,96,756,96,699,96,701,96,700,96,702,96,42892,96,1497,96,2036,96,2037,96,5194,96,5836,96,94033,96,94034,96,65339,91,10088,40,10098,40,12308,40,64830,40,65341,93,10089,41,10099,41,12309,41,64831,41,10100,123,119060,123,10101,125,65342,94,8270,42,1645,42,8727,42,66335,42,5941,47,8257,47,8725,47,8260,47,9585,47,10187,47,10744,47,119354,47,12755,47,12339,47,11462,47,20031,47,12035,47,65340,92,65128,92,8726,92,10189,92,10741,92,10745,92,119311,92,119355,92,12756,92,20022,92,12034,92,42872,38,708,94,710,94,5869,43,10133,43,66203,43,8249,60,10094,60,706,60,119350,60,5176,60,5810,60,5120,61,11840,61,12448,61,42239,61,8250,62,10095,62,707,62,119351,62,5171,62,94015,62,8275,126,732,126,8128,126,8764,126,65372,124,65293,45,120784,50,120794,50,120804,50,120814,50,120824,50,130034,50,42842,50,423,50,1000,50,42564,50,5311,50,42735,50,119302,51,120785,51,120795,51,120805,51,120815,51,120825,51,130035,51,42923,51,540,51,439,51,42858,51,11468,51,1248,51,94011,51,71882,51,120786,52,120796,52,120806,52,120816,52,120826,52,130036,52,5070,52,71855,52,120787,53,120797,53,120807,53,120817,53,120827,53,130037,53,444,53,71867,53,120788,54,120798,54,120808,54,120818,54,120828,54,130038,54,11474,54,5102,54,71893,54,119314,55,120789,55,120799,55,120809,55,120819,55,120829,55,130039,55,66770,55,71878,55,2819,56,2538,56,2666,56,125131,56,120790,56,120800,56,120810,56,120820,56,120830,56,130040,56,547,56,546,56,66330,56,2663,57,2920,57,2541,57,3437,57,120791,57,120801,57,120811,57,120821,57,120831,57,130041,57,42862,57,11466,57,71884,57,71852,57,71894,57,9082,97,65345,97,119834,97,119886,97,119938,97,119990,97,120042,97,120094,97,120146,97,120198,97,120250,97,120302,97,120354,97,120406,97,120458,97,593,97,945,97,120514,97,120572,97,120630,97,120688,97,120746,97,65313,65,119808,65,119860,65,119912,65,119964,65,120016,65,120068,65,120120,65,120172,65,120224,65,120276,65,120328,65,120380,65,120432,65,913,65,120488,65,120546,65,120604,65,120662,65,120720,65,5034,65,5573,65,42222,65,94016,65,66208,65,119835,98,119887,98,119939,98,119991,98,120043,98,120095,98,120147,98,120199,98,120251,98,120303,98,120355,98,120407,98,120459,98,388,98,5071,98,5234,98,5551,98,65314,66,8492,66,119809,66,119861,66,119913,66,120017,66,120069,66,120121,66,120173,66,120225,66,120277,66,120329,66,120381,66,120433,66,42932,66,914,66,120489,66,120547,66,120605,66,120663,66,120721,66,5108,66,5623,66,42192,66,66178,66,66209,66,66305,66,65347,99,8573,99,119836,99,119888,99,119940,99,119992,99,120044,99,120096,99,120148,99,120200,99,120252,99,120304,99,120356,99,120408,99,120460,99,7428,99,1010,99,11429,99,43951,99,66621,99,128844,67,71922,67,71913,67,65315,67,8557,67,8450,67,8493,67,119810,67,119862,67,119914,67,119966,67,120018,67,120174,67,120226,67,120278,67,120330,67,120382,67,120434,67,1017,67,11428,67,5087,67,42202,67,66210,67,66306,67,66581,67,66844,67,8574,100,8518,100,119837,100,119889,100,119941,100,119993,100,120045,100,120097,100,120149,100,120201,100,120253,100,120305,100,120357,100,120409,100,120461,100,1281,100,5095,100,5231,100,42194,100,8558,68,8517,68,119811,68,119863,68,119915,68,119967,68,120019,68,120071,68,120123,68,120175,68,120227,68,120279,68,120331,68,120383,68,120435,68,5024,68,5598,68,5610,68,42195,68,8494,101,65349,101,8495,101,8519,101,119838,101,119890,101,119942,101,120046,101,120098,101,120150,101,120202,101,120254,101,120306,101,120358,101,120410,101,120462,101,43826,101,1213,101,8959,69,65317,69,8496,69,119812,69,119864,69,119916,69,120020,69,120072,69,120124,69,120176,69,120228,69,120280,69,120332,69,120384,69,120436,69,917,69,120492,69,120550,69,120608,69,120666,69,120724,69,11577,69,5036,69,42224,69,71846,69,71854,69,66182,69,119839,102,119891,102,119943,102,119995,102,120047,102,120099,102,120151,102,120203,102,120255,102,120307,102,120359,102,120411,102,120463,102,43829,102,42905,102,383,102,7837,102,1412,102,119315,70,8497,70,119813,70,119865,70,119917,70,120021,70,120073,70,120125,70,120177,70,120229,70,120281,70,120333,70,120385,70,120437,70,42904,70,988,70,120778,70,5556,70,42205,70,71874,70,71842,70,66183,70,66213,70,66853,70,65351,103,8458,103,119840,103,119892,103,119944,103,120048,103,120100,103,120152,103,120204,103,120256,103,120308,103,120360,103,120412,103,120464,103,609,103,7555,103,397,103,1409,103,119814,71,119866,71,119918,71,119970,71,120022,71,120074,71,120126,71,120178,71,120230,71,120282,71,120334,71,120386,71,120438,71,1292,71,5056,71,5107,71,42198,71,65352,104,8462,104,119841,104,119945,104,119997,104,120049,104,120101,104,120153,104,120205,104,120257,104,120309,104,120361,104,120413,104,120465,104,1211,104,1392,104,5058,104,65320,72,8459,72,8460,72,8461,72,119815,72,119867,72,119919,72,120023,72,120179,72,120231,72,120283,72,120335,72,120387,72,120439,72,919,72,120494,72,120552,72,120610,72,120668,72,120726,72,11406,72,5051,72,5500,72,42215,72,66255,72,731,105,9075,105,65353,105,8560,105,8505,105,8520,105,119842,105,119894,105,119946,105,119998,105,120050,105,120102,105,120154,105,120206,105,120258,105,120310,105,120362,105,120414,105,120466,105,120484,105,618,105,617,105,953,105,8126,105,890,105,120522,105,120580,105,120638,105,120696,105,120754,105,1110,105,42567,105,1231,105,43893,105,5029,105,71875,105,65354,106,8521,106,119843,106,119895,106,119947,106,119999,106,120051,106,120103,106,120155,106,120207,106,120259,106,120311,106,120363,106,120415,106,120467,106,1011,106,1112,106,65322,74,119817,74,119869,74,119921,74,119973,74,120025,74,120077,74,120129,74,120181,74,120233,74,120285,74,120337,74,120389,74,120441,74,42930,74,895,74,1032,74,5035,74,5261,74,42201,74,119844,107,119896,107,119948,107,120000,107,120052,107,120104,107,120156,107,120208,107,120260,107,120312,107,120364,107,120416,107,120468,107,8490,75,65323,75,119818,75,119870,75,119922,75,119974,75,120026,75,120078,75,120130,75,120182,75,120234,75,120286,75,120338,75,120390,75,120442,75,922,75,120497,75,120555,75,120613,75,120671,75,120729,75,11412,75,5094,75,5845,75,42199,75,66840,75,1472,108,8739,73,9213,73,65512,73,1633,108,1777,73,66336,108,125127,108,120783,73,120793,73,120803,73,120813,73,120823,73,130033,73,65321,73,8544,73,8464,73,8465,73,119816,73,119868,73,119920,73,120024,73,120128,73,120180,73,120232,73,120284,73,120336,73,120388,73,120440,73,65356,108,8572,73,8467,108,119845,108,119897,108,119949,108,120001,108,120053,108,120105,73,120157,73,120209,73,120261,73,120313,73,120365,73,120417,73,120469,73,448,73,120496,73,120554,73,120612,73,120670,73,120728,73,11410,73,1030,73,1216,73,1493,108,1503,108,1575,108,126464,108,126592,108,65166,108,65165,108,1994,108,11599,73,5825,73,42226,73,93992,73,66186,124,66313,124,119338,76,8556,76,8466,76,119819,76,119871,76,119923,76,120027,76,120079,76,120131,76,120183,76,120235,76,120287,76,120339,76,120391,76,120443,76,11472,76,5086,76,5290,76,42209,76,93974,76,71843,76,71858,76,66587,76,66854,76,65325,77,8559,77,8499,77,119820,77,119872,77,119924,77,120028,77,120080,77,120132,77,120184,77,120236,77,120288,77,120340,77,120392,77,120444,77,924,77,120499,77,120557,77,120615,77,120673,77,120731,77,1018,77,11416,77,5047,77,5616,77,5846,77,42207,77,66224,77,66321,77,119847,110,119899,110,119951,110,120003,110,120055,110,120107,110,120159,110,120211,110,120263,110,120315,110,120367,110,120419,110,120471,110,1400,110,1404,110,65326,78,8469,78,119821,78,119873,78,119925,78,119977,78,120029,78,120081,78,120185,78,120237,78,120289,78,120341,78,120393,78,120445,78,925,78,120500,78,120558,78,120616,78,120674,78,120732,78,11418,78,42208,78,66835,78,3074,111,3202,111,3330,111,3458,111,2406,111,2662,111,2790,111,3046,111,3174,111,3302,111,3430,111,3664,111,3792,111,4160,111,1637,111,1781,111,65359,111,8500,111,119848,111,119900,111,119952,111,120056,111,120108,111,120160,111,120212,111,120264,111,120316,111,120368,111,120420,111,120472,111,7439,111,7441,111,43837,111,959,111,120528,111,120586,111,120644,111,120702,111,120760,111,963,111,120532,111,120590,111,120648,111,120706,111,120764,111,11423,111,4351,111,1413,111,1505,111,1607,111,126500,111,126564,111,126596,111,65259,111,65260,111,65258,111,65257,111,1726,111,64428,111,64429,111,64427,111,64426,111,1729,111,64424,111,64425,111,64423,111,64422,111,1749,111,3360,111,4125,111,66794,111,71880,111,71895,111,66604,111,1984,79,2534,79,2918,79,12295,79,70864,79,71904,79,120782,79,120792,79,120802,79,120812,79,120822,79,130032,79,65327,79,119822,79,119874,79,119926,79,119978,79,120030,79,120082,79,120134,79,120186,79,120238,79,120290,79,120342,79,120394,79,120446,79,927,79,120502,79,120560,79,120618,79,120676,79,120734,79,11422,79,1365,79,11604,79,4816,79,2848,79,66754,79,42227,79,71861,79,66194,79,66219,79,66564,79,66838,79,9076,112,65360,112,119849,112,119901,112,119953,112,120005,112,120057,112,120109,112,120161,112,120213,112,120265,112,120317,112,120369,112,120421,112,120473,112,961,112,120530,112,120544,112,120588,112,120602,112,120646,112,120660,112,120704,112,120718,112,120762,112,120776,112,11427,112,65328,80,8473,80,119823,80,119875,80,119927,80,119979,80,120031,80,120083,80,120187,80,120239,80,120291,80,120343,80,120395,80,120447,80,929,80,120504,80,120562,80,120620,80,120678,80,120736,80,11426,80,5090,80,5229,80,42193,80,66197,80,119850,113,119902,113,119954,113,120006,113,120058,113,120110,113,120162,113,120214,113,120266,113,120318,113,120370,113,120422,113,120474,113,1307,113,1379,113,1382,113,8474,81,119824,81,119876,81,119928,81,119980,81,120032,81,120084,81,120188,81,120240,81,120292,81,120344,81,120396,81,120448,81,11605,81,119851,114,119903,114,119955,114,120007,114,120059,114,120111,114,120163,114,120215,114,120267,114,120319,114,120371,114,120423,114,120475,114,43847,114,43848,114,7462,114,11397,114,43905,114,119318,82,8475,82,8476,82,8477,82,119825,82,119877,82,119929,82,120033,82,120189,82,120241,82,120293,82,120345,82,120397,82,120449,82,422,82,5025,82,5074,82,66740,82,5511,82,42211,82,94005,82,65363,115,119852,115,119904,115,119956,115,120008,115,120060,115,120112,115,120164,115,120216,115,120268,115,120320,115,120372,115,120424,115,120476,115,42801,115,445,115,1109,115,43946,115,71873,115,66632,115,65331,83,119826,83,119878,83,119930,83,119982,83,120034,83,120086,83,120138,83,120190,83,120242,83,120294,83,120346,83,120398,83,120450,83,1029,83,1359,83,5077,83,5082,83,42210,83,94010,83,66198,83,66592,83,119853,116,119905,116,119957,116,120009,116,120061,116,120113,116,120165,116,120217,116,120269,116,120321,116,120373,116,120425,116,120477,116,8868,84,10201,84,128872,84,65332,84,119827,84,119879,84,119931,84,119983,84,120035,84,120087,84,120139,84,120191,84,120243,84,120295,84,120347,84,120399,84,120451,84,932,84,120507,84,120565,84,120623,84,120681,84,120739,84,11430,84,5026,84,42196,84,93962,84,71868,84,66199,84,66225,84,66325,84,119854,117,119906,117,119958,117,120010,117,120062,117,120114,117,120166,117,120218,117,120270,117,120322,117,120374,117,120426,117,120478,117,42911,117,7452,117,43854,117,43858,117,651,117,965,117,120534,117,120592,117,120650,117,120708,117,120766,117,1405,117,66806,117,71896,117,8746,85,8899,85,119828,85,119880,85,119932,85,119984,85,120036,85,120088,85,120140,85,120192,85,120244,85,120296,85,120348,85,120400,85,120452,85,1357,85,4608,85,66766,85,5196,85,42228,85,94018,85,71864,85,8744,118,8897,118,65366,118,8564,118,119855,118,119907,118,119959,118,120011,118,120063,118,120115,118,120167,118,120219,118,120271,118,120323,118,120375,118,120427,118,120479,118,7456,118,957,118,120526,118,120584,118,120642,118,120700,118,120758,118,1141,118,1496,118,71430,118,43945,118,71872,118,119309,86,1639,86,1783,86,8548,86,119829,86,119881,86,119933,86,119985,86,120037,86,120089,86,120141,86,120193,86,120245,86,120297,86,120349,86,120401,86,120453,86,1140,86,11576,86,5081,86,5167,86,42719,86,42214,86,93960,86,71840,86,66845,86,623,119,119856,119,119908,119,119960,119,120012,119,120064,119,120116,119,120168,119,120220,119,120272,119,120324,119,120376,119,120428,119,120480,119,7457,119,1121,119,1309,119,1377,119,71434,119,71438,119,71439,119,43907,119,71919,87,71910,87,119830,87,119882,87,119934,87,119986,87,120038,87,120090,87,120142,87,120194,87,120246,87,120298,87,120350,87,120402,87,120454,87,1308,87,5043,87,5076,87,42218,87,5742,120,10539,120,10540,120,10799,120,65368,120,8569,120,119857,120,119909,120,119961,120,120013,120,120065,120,120117,120,120169,120,120221,120,120273,120,120325,120,120377,120,120429,120,120481,120,5441,120,5501,120,5741,88,9587,88,66338,88,71916,88,65336,88,8553,88,119831,88,119883,88,119935,88,119987,88,120039,88,120091,88,120143,88,120195,88,120247,88,120299,88,120351,88,120403,88,120455,88,42931,88,935,88,120510,88,120568,88,120626,88,120684,88,120742,88,11436,88,11613,88,5815,88,42219,88,66192,88,66228,88,66327,88,66855,88,611,121,7564,121,65369,121,119858,121,119910,121,119962,121,120014,121,120066,121,120118,121,120170,121,120222,121,120274,121,120326,121,120378,121,120430,121,120482,121,655,121,7935,121,43866,121,947,121,8509,121,120516,121,120574,121,120632,121,120690,121,120748,121,1199,121,4327,121,71900,121,65337,89,119832,89,119884,89,119936,89,119988,89,120040,89,120092,89,120144,89,120196,89,120248,89,120300,89,120352,89,120404,89,120456,89,933,89,978,89,120508,89,120566,89,120624,89,120682,89,120740,89,11432,89,1198,89,5033,89,5053,89,42220,89,94019,89,71844,89,66226,89,119859,122,119911,122,119963,122,120015,122,120067,122,120119,122,120171,122,120223,122,120275,122,120327,122,120379,122,120431,122,120483,122,7458,122,43923,122,71876,122,66293,90,71909,90,65338,90,8484,90,8488,90,119833,90,119885,90,119937,90,119989,90,120041,90,120197,90,120249,90,120301,90,120353,90,120405,90,120457,90,918,90,120493,90,120551,90,120609,90,120667,90,120725,90,5059,90,42204,90,71849,90,65282,34,65284,36,65285,37,65286,38,65290,42,65291,43,65294,46,65295,47,65296,48,65297,49,65298,50,65299,51,65300,52,65301,53,65302,54,65303,55,65304,56,65305,57,65308,60,65309,61,65310,62,65312,64,65316,68,65318,70,65319,71,65324,76,65329,81,65330,82,65333,85,65334,86,65335,87,65343,95,65346,98,65348,100,65350,102,65355,107,65357,109,65358,110,65361,113,65362,114,65364,116,65365,117,65367,119,65370,122,65371,123,65373,125,119846,109],"_default":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"cs":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"de":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"es":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"fr":[65374,126,65306,58,65281,33,8216,96,8245,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"it":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ja":[8211,45,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65292,44,65307,59],"ko":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pl":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pt-BR":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"qps-ploc":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ru":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,305,105,921,73,1009,112,215,120,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"tr":[160,32,8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"zh-hans":[65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65288,40,65289,41],"zh-hant":[8211,45,65374,126,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65307,59]}')),G.cache=new m.LRUCachedFunction(ne=>{function ce(ke){const Ae=new Map;for(let xe=0;xe<ke.length;xe+=2)Ae.set(ke[xe],ke[xe+1]);return Ae}function le(ke,Ae){const xe=new Map(ke);for(const[He,Be]of Ae)xe.set(He,Be);return xe}function me(ke,Ae){if(!ke)return Ae;const xe=new Map;for(const[He,Be]of ke)Ae.has(He)&&xe.set(He,Be);return xe}const ve=D.ambiguousCharacterData.value;let Ce=ne.filter(ke=>!ke.startsWith("_")&&ke in ve);Ce.length===0&&(Ce=["_default"]);let Se;for(const ke of Ce){const Ae=ce(ve[ke]);Se=me(Se,Ae)}const _e=ce(ve._common),Le=le(_e,Se);return new D(Le)}),G._locales=new k.Lazy(()=>Object.keys(D.ambiguousCharacterData.value).filter(ne=>!ne.startsWith("_")));class oe{static getRawData(){return JSON.parse("[9,10,11,12,13,32,127,160,173,847,1564,4447,4448,6068,6069,6155,6156,6157,6158,7355,7356,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8203,8204,8205,8206,8207,8234,8235,8236,8237,8238,8239,8287,8288,8289,8290,8291,8292,8293,8294,8295,8296,8297,8298,8299,8300,8301,8302,8303,10240,12288,12644,65024,65025,65026,65027,65028,65029,65030,65031,65032,65033,65034,65035,65036,65037,65038,65039,65279,65440,65520,65521,65522,65523,65524,65525,65526,65527,65528,65532,78844,119155,119156,119157,119158,119159,119160,119161,119162,917504,917505,917506,917507,917508,917509,917510,917511,917512,917513,917514,917515,917516,917517,917518,917519,917520,917521,917522,917523,917524,917525,917526,917527,917528,917529,917530,917531,917532,917533,917534,917535,917536,917537,917538,917539,917540,917541,917542,917543,917544,917545,917546,917547,917548,917549,917550,917551,917552,917553,917554,917555,917556,917557,917558,917559,917560,917561,917562,917563,917564,917565,917566,917567,917568,917569,917570,917571,917572,917573,917574,917575,917576,917577,917578,917579,917580,917581,917582,917583,917584,917585,917586,917587,917588,917589,917590,917591,917592,917593,917594,917595,917596,917597,917598,917599,917600,917601,917602,917603,917604,917605,917606,917607,917608,917609,917610,917611,917612,917613,917614,917615,917616,917617,917618,917619,917620,917621,917622,917623,917624,917625,917626,917627,917628,917629,917630,917631,917760,917761,917762,917763,917764,917765,917766,917767,917768,917769,917770,917771,917772,917773,917774,917775,917776,917777,917778,917779,917780,917781,917782,917783,917784,917785,917786,917787,917788,917789,917790,917791,917792,917793,917794,917795,917796,917797,917798,917799,917800,917801,917802,917803,917804,917805,917806,917807,917808,917809,917810,917811,917812,917813,917814,917815,917816,917817,917818,917819,917820,917821,917822,917823,917824,917825,917826,917827,917828,917829,917830,917831,917832,917833,917834,917835,917836,917837,917838,917839,917840,917841,917842,917843,917844,917845,917846,917847,917848,917849,917850,917851,917852,917853,917854,917855,917856,917857,917858,917859,917860,917861,917862,917863,917864,917865,917866,917867,917868,917869,917870,917871,917872,917873,917874,917875,917876,917877,917878,917879,917880,917881,917882,917883,917884,917885,917886,917887,917888,917889,917890,917891,917892,917893,917894,917895,917896,917897,917898,917899,917900,917901,917902,917903,917904,917905,917906,917907,917908,917909,917910,917911,917912,917913,917914,917915,917916,917917,917918,917919,917920,917921,917922,917923,917924,917925,917926,917927,917928,917929,917930,917931,917932,917933,917934,917935,917936,917937,917938,917939,917940,917941,917942,917943,917944,917945,917946,917947,917948,917949,917950,917951,917952,917953,917954,917955,917956,917957,917958,917959,917960,917961,917962,917963,917964,917965,917966,917967,917968,917969,917970,917971,917972,917973,917974,917975,917976,917977,917978,917979,917980,917981,917982,917983,917984,917985,917986,917987,917988,917989,917990,917991,917992,917993,917994,917995,917996,917997,917998,917999]")}static getData(){return this._data||(this._data=new Set(oe.getRawData())),this._data}static isInvisibleCharacter(ce){return oe.getData().has(ce)}static get codePoints(){return oe.getData()}}e.InvisibleCharacters=oe,oe._data=void 0}),define(te[76],ie([1,0,47,421,11]),function(J,e,m,k,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FuzzyScoreOptions=e.FuzzyScore=e.matchesPrefix=e.matchesStrictPrefix=void 0,e.or=L,e.matchesContiguousSubString=p,e.matchesSubString=w,e.isUpper=a,e.matchesCamelCase=S,e.matchesWords=I,e.matchesFuzzy=M,e.matchesFuzzy2=P,e.anyScore=x,e.createMatches=R,e.isPatternInWord=ge,e.fuzzyScore=de,e.fuzzyScoreGracefulAggressive=z;function L(...G){return function(oe,ne){for(let ce=0,le=G.length;ce<le;ce++){const me=G[ce](oe,ne);if(me)return me}return null}}e.matchesStrictPrefix=y.bind(void 0,!1),e.matchesPrefix=y.bind(void 0,!0);function y(G,oe,ne){if(!ne||ne.length<oe.length)return null;let ce;return G?ce=D.startsWithIgnoreCase(ne,oe):ce=ne.indexOf(oe)===0,ce?oe.length>0?[{start:0,end:oe.length}]:[]:null}function p(G,oe){const ne=oe.toLowerCase().indexOf(G.toLowerCase());return ne===-1?null:[{start:ne,end:ne+G.length}]}function w(G,oe){return C(G.toLowerCase(),oe.toLowerCase(),0,0)}function C(G,oe,ne,ce){if(ne===G.length)return[];if(ce===oe.length)return null;if(G[ne]===oe[ce]){let le=null;return(le=C(G,oe,ne+1,ce+1))?r({start:ce,end:ce+1},le):null}return C(G,oe,ne,ce+1)}function b(G){return 97<=G&&G<=122}function a(G){return 65<=G&&G<=90}function s(G){return 48<=G&&G<=57}function i(G){return G===32||G===9||G===10||G===13}const t=new Set;"()[]{}<>`'\"-/;:,.?!".split("").forEach(G=>t.add(G.charCodeAt(0)));function n(G){return i(G)||t.has(G)}function h(G,oe){return G===oe||n(G)&&n(oe)}const v=new Map;function u(G){if(v.has(G))return v.get(G);let oe;const ne=(0,k.getKoreanAltChars)(G);return ne&&(oe=ne),v.set(G,oe),oe}function d(G){return b(G)||a(G)||s(G)}function r(G,oe){return oe.length===0?oe=[G]:G.end===oe[0].start?oe[0].start=G.start:oe.unshift(G),oe}function l(G,oe){for(let ne=oe;ne<G.length;ne++){const ce=G.charCodeAt(ne);if(a(ce)||s(ce)||ne>0&&!d(G.charCodeAt(ne-1)))return ne}return G.length}function o(G,oe,ne,ce){if(ne===G.length)return[];if(ce===oe.length)return null;if(G[ne]!==oe[ce].toLowerCase())return null;{let le=null,me=ce+1;for(le=o(G,oe,ne+1,ce+1);!le&&(me=l(oe,me))<oe.length;)le=o(G,oe,ne+1,me),me++;return le===null?null:r({start:ce,end:ce+1},le)}}function g(G){let oe=0,ne=0,ce=0,le=0,me=0;for(let Le=0;Le<G.length;Le++)me=G.charCodeAt(Le),a(me)&&oe++,b(me)&&ne++,d(me)&&ce++,s(me)&&le++;const ve=oe/G.length,Ce=ne/G.length,Se=ce/G.length,_e=le/G.length;return{upperPercent:ve,lowerPercent:Ce,alphaPercent:Se,numericPercent:_e}}function c(G){const{upperPercent:oe,lowerPercent:ne}=G;return ne===0&&oe>.6}function f(G){const{upperPercent:oe,lowerPercent:ne,alphaPercent:ce,numericPercent:le}=G;return ne>.2&&oe<.8&&ce>.6&&le<.2}function _(G){let oe=0,ne=0,ce=0,le=0;for(let me=0;me<G.length;me++)ce=G.charCodeAt(me),a(ce)&&oe++,b(ce)&&ne++,i(ce)&&le++;return(oe===0||ne===0)&&le===0?G.length<=30:oe<=5}function S(G,oe){if(!oe||(oe=oe.trim(),oe.length===0)||!_(G))return null;oe.length>60&&(oe=oe.substring(0,60));const ne=g(oe);if(!f(ne)){if(!c(ne))return null;oe=oe.toLowerCase()}let ce=null,le=0;for(G=G.toLowerCase();le<oe.length&&(ce=o(G,oe,0,le))===null;)le=l(oe,le+1);return ce}function I(G,oe,ne=!1){if(!oe||oe.length===0)return null;let ce=null,le=0;for(G=G.toLowerCase(),oe=oe.toLowerCase();le<oe.length&&(ce=E(G,oe,0,le,ne),ce===null);)le=T(oe,le+1);return ce}function E(G,oe,ne,ce,le){let me=0;if(ne===G.length)return[];if(ce===oe.length)return null;if(!h(G.charCodeAt(ne),oe.charCodeAt(ce))){const Se=u(G.charCodeAt(ne));if(!Se)return null;for(let _e=0;_e<Se.length;_e++)if(!h(Se[_e],oe.charCodeAt(ce+_e)))return null;me+=Se.length-1}let ve=null,Ce=ce+me+1;if(ve=E(G,oe,ne+1,Ce,le),!le)for(;!ve&&(Ce=T(oe,Ce))<oe.length;)ve=E(G,oe,ne+1,Ce,le),Ce++;if(!ve)return null;if(G.charCodeAt(ne)!==oe.charCodeAt(ce)){const Se=u(G.charCodeAt(ne));if(!Se)return ve;for(let _e=0;_e<Se.length;_e++)if(Se[_e]!==oe.charCodeAt(ce+_e))return ve}return r({start:ce,end:ce+me+1},ve)}function T(G,oe){for(let ne=oe;ne<G.length;ne++)if(n(G.charCodeAt(ne))||ne>0&&n(G.charCodeAt(ne-1)))return ne;return G.length}const N=L(e.matchesPrefix,S,p),A=L(e.matchesPrefix,S,w),O=new m.LRUCache(1e4);function M(G,oe,ne=!1){if(typeof G!="string"||typeof oe!="string")return null;let ce=O.get(G);ce||(ce=new RegExp(D.convertSimple2RegExpPattern(G),"i"),O.set(G,ce));const le=ce.exec(oe);return le?[{start:le.index,end:le.index+le[0].length}]:ne?A(G,oe):N(G,oe)}function P(G,oe){const ne=de(G,G.toLowerCase(),0,oe,oe.toLowerCase(),0,{firstMatchCanBeWeak:!0,boostFullMatch:!0});return ne?R(ne):null}function x(G,oe,ne,ce,le,me){const ve=Math.min(13,G.length);for(;ne<ve;ne++){const Ce=de(G,oe,ne,ce,le,me,{firstMatchCanBeWeak:!0,boostFullMatch:!0});if(Ce)return Ce}return[0,me]}function R(G){if(typeof G>"u")return[];const oe=[],ne=G[1];for(let ce=G.length-1;ce>1;ce--){const le=G[ce]+ne,me=oe[oe.length-1];me&&me.end===le?me.end=le+1:oe.push({start:le,end:le+1})}return oe}const B=128;function H(){const G=[],oe=[];for(let ne=0;ne<=B;ne++)oe[ne]=0;for(let ne=0;ne<=B;ne++)G.push(oe.slice(0));return G}function V(G){const oe=[];for(let ne=0;ne<=G;ne++)oe[ne]=0;return oe}const q=V(2*B),K=V(2*B),U=H(),$=H(),se=H(),F=!1;function X(G,oe,ne,ce,le){function me(Ce,Se,_e=" "){for(;Ce.length<Se;)Ce=_e+Ce;return Ce}let ve=` |   |${ce.split("").map(Ce=>me(Ce,3)).join("|")}
`;for(let Ce=0;Ce<=ne;Ce++)Ce===0?ve+=" |":ve+=`${oe[Ce-1]}|`,ve+=G[Ce].slice(0,le+1).map(Se=>me(Se.toString(),3)).join("|")+`
`;return ve}function Q(G,oe,ne,ce){G=G.substr(oe),ne=ne.substr(ce),console.log(X($,G,G.length,ne,ne.length)),console.log(X(se,G,G.length,ne,ne.length)),console.log(X(U,G,G.length,ne,ne.length))}function Z(G,oe){if(oe<0||oe>=G.length)return!1;const ne=G.codePointAt(oe);switch(ne){case 95:case 45:case 46:case 32:case 47:case 92:case 39:case 34:case 58:case 36:case 60:case 62:case 40:case 41:case 91:case 93:case 123:case 125:return!0;case void 0:return!1;default:return!!D.isEmojiImprecise(ne)}}function ae(G,oe){if(oe<0||oe>=G.length)return!1;switch(G.charCodeAt(oe)){case 32:case 9:return!0;default:return!1}}function ue(G,oe,ne){return oe[G]!==ne[G]}function ge(G,oe,ne,ce,le,me,ve=!1){for(;oe<ne&&le<me;)G[oe]===ce[le]&&(ve&&(q[oe]=le),oe+=1),le+=1;return oe===ne}var fe;(function(G){G.Default=[-100,0];function oe(ne){return!ne||ne.length===2&&ne[0]===-100&&ne[1]===0}G.isDefault=oe})(fe||(e.FuzzyScore=fe={}));class re{constructor(oe,ne){this.firstMatchCanBeWeak=oe,this.boostFullMatch=ne}}e.FuzzyScoreOptions=re,re.default={boostFullMatch:!0,firstMatchCanBeWeak:!1};function de(G,oe,ne,ce,le,me,ve=re.default){const Ce=G.length>B?B:G.length,Se=ce.length>B?B:ce.length;if(ne>=Ce||me>=Se||Ce-ne>Se-me||!ge(oe,ne,Ce,le,me,Se,!0))return;ee(Ce,Se,ne,me,oe,le);let _e=1,Le=1,ke=ne,Ae=me;const xe=[!1];for(_e=1,ke=ne;ke<Ce;_e++,ke++){const pe=q[ke],be=K[ke],Re=ke+1<Ce?K[ke+1]:Se;for(Le=pe-me+1,Ae=pe;Ae<Re;Le++,Ae++){let We=Number.MIN_SAFE_INTEGER,qe=!1;Ae<=be&&(We=W(G,oe,ke,ne,ce,le,Ae,Se,me,U[_e-1][Le-1]===0,xe));let je=0;We!==Number.MAX_SAFE_INTEGER&&(qe=!0,je=We+$[_e-1][Le-1]);const Ze=Ae>pe,Je=Ze?$[_e][Le-1]+(U[_e][Le-1]>0?-5:0):0,st=Ae>pe+1&&U[_e][Le-1]>0,rt=st?$[_e][Le-2]+(U[_e][Le-2]>0?-5:0):0;if(st&&(!Ze||rt>=Je)&&(!qe||rt>=je))$[_e][Le]=rt,se[_e][Le]=3,U[_e][Le]=0;else if(Ze&&(!qe||Je>=je))$[_e][Le]=Je,se[_e][Le]=2,U[_e][Le]=0;else if(qe)$[_e][Le]=je,se[_e][Le]=1,U[_e][Le]=U[_e-1][Le-1]+1;else throw new Error("not possible")}}if(F&&Q(G,ne,ce,me),!xe[0]&&!ve.firstMatchCanBeWeak)return;_e--,Le--;const He=[$[_e][Le],me];let Be=0,Ee=0;for(;_e>=1;){let pe=Le;do{const be=se[_e][pe];if(be===3)pe=pe-2;else if(be===2)pe=pe-1;else break}while(pe>=1);Be>1&&oe[ne+_e-1]===le[me+Le-1]&&!ue(pe+me-1,ce,le)&&Be+1>U[_e][pe]&&(pe=Le),pe===Le?Be++:Be=1,Ee||(Ee=pe),_e--,Le=pe-1,He.push(Le)}Se===Ce&&ve.boostFullMatch&&(He[0]+=2);const Ne=Ee-Ce;return He[0]-=Ne,He}function ee(G,oe,ne,ce,le,me){let ve=G-1,Ce=oe-1;for(;ve>=ne&&Ce>=ce;)le[ve]===me[Ce]&&(K[ve]=Ce,ve--),Ce--}function W(G,oe,ne,ce,le,me,ve,Ce,Se,_e,Le){if(oe[ne]!==me[ve])return Number.MIN_SAFE_INTEGER;let ke=1,Ae=!1;return ve===ne-ce?ke=G[ne]===le[ve]?7:5:ue(ve,le,me)&&(ve===0||!ue(ve-1,le,me))?(ke=G[ne]===le[ve]?7:5,Ae=!0):Z(me,ve)&&(ve===0||!Z(me,ve-1))?ke=5:(Z(me,ve-1)||ae(me,ve-1))&&(ke=5,Ae=!0),ke>1&&ne===ce&&(Le[0]=!0),Ae||(Ae=ue(ve,le,me)||Z(me,ve-1)||ae(me,ve-1)),ne===ce?ve>Se&&(ke-=Ae?3:5):_e?ke+=Ae?2:0:ke+=Ae?0:1,ve+1===Ce&&(ke-=Ae?3:5),ke}function z(G,oe,ne,ce,le,me,ve){return Y(G,oe,ne,ce,le,me,!0,ve)}function Y(G,oe,ne,ce,le,me,ve,Ce){let Se=de(G,oe,ne,ce,le,me,Ce);if(Se&&!ve)return Se;if(G.length>=3){const _e=Math.min(7,G.length-1);for(let Le=ne+1;Le<_e;Le++){const ke=j(G,Le);if(ke){const Ae=de(ke,ke.toLowerCase(),ne,ce,le,me,Ce);Ae&&(Ae[0]-=3,(!Se||Ae[0]>Se[0])&&(Se=Ae))}}}return Se}function j(G,oe){if(oe+1>=G.length)return;const ne=G[oe],ce=G[oe+1];if(ne!==ce)return G.slice(0,oe)+ce+ne+G.slice(oe+2)}}),define(te[121],ie([1,0,11]),function(J,e,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StringSHA1=void 0,e.hash=k,e.doHash=D,e.numberHash=L,e.stringHash=p,e.toHexString=i;function k(n){return D(n,0)}function D(n,h){switch(typeof n){case"object":return n===null?L(349,h):Array.isArray(n)?w(n,h):C(n,h);case"string":return p(n,h);case"boolean":return y(n,h);case"number":return L(n,h);case"undefined":return L(937,h);default:return L(617,h)}}function L(n,h){return(h<<5)-h+n|0}function y(n,h){return L(n?433:863,h)}function p(n,h){h=L(149417,h);for(let v=0,u=n.length;v<u;v++)h=L(n.charCodeAt(v),h);return h}function w(n,h){return h=L(104579,h),n.reduce((v,u)=>D(u,v),h)}function C(n,h){return h=L(181387,h),Object.keys(n).sort().reduce((v,u)=>(v=p(u,v),D(n[u],v)),h)}function b(n,h,v=32){const u=v-h,d=~((1<<u)-1);return(n<<h|(d&n)>>>u)>>>0}function a(n,h=0,v=n.byteLength,u=0){for(let d=0;d<v;d++)n[h+d]=u}function s(n,h,v="0"){for(;n.length<h;)n=v+n;return n}function i(n,h=32){return n instanceof ArrayBuffer?Array.from(new Uint8Array(n)).map(v=>v.toString(16).padStart(2,"0")).join(""):s((n>>>0).toString(16),h/4)}class t{constructor(){this._h0=1732584193,this._h1=4023233417,this._h2=2562383102,this._h3=271733878,this._h4=3285377520,this._buff=new Uint8Array(67),this._buffDV=new DataView(this._buff.buffer),this._buffLen=0,this._totalLen=0,this._leftoverHighSurrogate=0,this._finished=!1}update(h){const v=h.length;if(v===0)return;const u=this._buff;let d=this._buffLen,r=this._leftoverHighSurrogate,l,o;for(r!==0?(l=r,o=-1,r=0):(l=h.charCodeAt(0),o=0);;){let g=l;if(m.isHighSurrogate(l))if(o+1<v){const c=h.charCodeAt(o+1);m.isLowSurrogate(c)?(o++,g=m.computeCodePoint(l,c)):g=65533}else{r=l;break}else m.isLowSurrogate(l)&&(g=65533);if(d=this._push(u,d,g),o++,o<v)l=h.charCodeAt(o);else break}this._buffLen=d,this._leftoverHighSurrogate=r}_push(h,v,u){return u<128?h[v++]=u:u<2048?(h[v++]=192|(u&1984)>>>6,h[v++]=128|(u&63)>>>0):u<65536?(h[v++]=224|(u&61440)>>>12,h[v++]=128|(u&4032)>>>6,h[v++]=128|(u&63)>>>0):(h[v++]=240|(u&1835008)>>>18,h[v++]=128|(u&258048)>>>12,h[v++]=128|(u&4032)>>>6,h[v++]=128|(u&63)>>>0),v>=64&&(this._step(),v-=64,this._totalLen+=64,h[0]=h[64],h[1]=h[65],h[2]=h[66]),v}digest(){return this._finished||(this._finished=!0,this._leftoverHighSurrogate&&(this._leftoverHighSurrogate=0,this._buffLen=this._push(this._buff,this._buffLen,65533)),this._totalLen+=this._buffLen,this._wrapUp()),i(this._h0)+i(this._h1)+i(this._h2)+i(this._h3)+i(this._h4)}_wrapUp(){this._buff[this._buffLen++]=128,a(this._buff,this._buffLen),this._buffLen>56&&(this._step(),a(this._buff));const h=8*this._totalLen;this._buffDV.setUint32(56,Math.floor(h/4294967296),!1),this._buffDV.setUint32(60,h%4294967296,!1),this._step()}_step(){const h=t._bigBlock32,v=this._buffDV;for(let _=0;_<64;_+=4)h.setUint32(_,v.getUint32(_,!1),!1);for(let _=64;_<320;_+=4)h.setUint32(_,b(h.getUint32(_-12,!1)^h.getUint32(_-32,!1)^h.getUint32(_-56,!1)^h.getUint32(_-64,!1),1),!1);let u=this._h0,d=this._h1,r=this._h2,l=this._h3,o=this._h4,g,c,f;for(let _=0;_<80;_++)_<20?(g=d&r|~d&l,c=1518500249):_<40?(g=d^r^l,c=1859775393):_<60?(g=d&r|d&l|r&l,c=2400959708):(g=d^r^l,c=3395469782),f=b(u,5)+g+o+c+h.getUint32(_*4,!1)&4294967295,o=l,l=r,r=b(d,30),d=u,u=f;this._h0=this._h0+u&4294967295,this._h1=this._h1+d&4294967295,this._h2=this._h2+r&4294967295,this._h3=this._h3+l&4294967295,this._h4=this._h4+o&4294967295}}e.StringSHA1=t,t._bigBlock32=new DataView(new ArrayBuffer(320))}),define(te[182],ie([1,0,417,121]),function(J,e,m,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LcsDiff=e.StringDiffSequence=void 0,e.stringDiff=L;class D{constructor(a){this.source=a}getElements(){const a=this.source,s=new Int32Array(a.length);for(let i=0,t=a.length;i<t;i++)s[i]=a.charCodeAt(i);return s}}e.StringDiffSequence=D;function L(b,a,s){return new C(new D(b),new D(a)).ComputeDiff(s).changes}class y{static Assert(a,s){if(!a)throw new Error(s)}}class p{static Copy(a,s,i,t,n){for(let h=0;h<n;h++)i[t+h]=a[s+h]}static Copy2(a,s,i,t,n){for(let h=0;h<n;h++)i[t+h]=a[s+h]}}class w{constructor(){this.m_changes=[],this.m_originalStart=1073741824,this.m_modifiedStart=1073741824,this.m_originalCount=0,this.m_modifiedCount=0}MarkNextChange(){(this.m_originalCount>0||this.m_modifiedCount>0)&&this.m_changes.push(new m.DiffChange(this.m_originalStart,this.m_originalCount,this.m_modifiedStart,this.m_modifiedCount)),this.m_originalCount=0,this.m_modifiedCount=0,this.m_originalStart=1073741824,this.m_modifiedStart=1073741824}AddOriginalElement(a,s){this.m_originalStart=Math.min(this.m_originalStart,a),this.m_modifiedStart=Math.min(this.m_modifiedStart,s),this.m_originalCount++}AddModifiedElement(a,s){this.m_originalStart=Math.min(this.m_originalStart,a),this.m_modifiedStart=Math.min(this.m_modifiedStart,s),this.m_modifiedCount++}getChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes}getReverseChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes.reverse(),this.m_changes}}class C{constructor(a,s,i=null){this.ContinueProcessingPredicate=i,this._originalSequence=a,this._modifiedSequence=s;const[t,n,h]=C._getElements(a),[v,u,d]=C._getElements(s);this._hasStrings=h&&d,this._originalStringElements=t,this._originalElementsOrHash=n,this._modifiedStringElements=v,this._modifiedElementsOrHash=u,this.m_forwardHistory=[],this.m_reverseHistory=[]}static _isStringArray(a){return a.length>0&&typeof a[0]=="string"}static _getElements(a){const s=a.getElements();if(C._isStringArray(s)){const i=new Int32Array(s.length);for(let t=0,n=s.length;t<n;t++)i[t]=(0,k.stringHash)(s[t],0);return[s,i,!0]}return s instanceof Int32Array?[[],s,!1]:[[],new Int32Array(s),!1]}ElementsAreEqual(a,s){return this._originalElementsOrHash[a]!==this._modifiedElementsOrHash[s]?!1:this._hasStrings?this._originalStringElements[a]===this._modifiedStringElements[s]:!0}ElementsAreStrictEqual(a,s){if(!this.ElementsAreEqual(a,s))return!1;const i=C._getStrictElement(this._originalSequence,a),t=C._getStrictElement(this._modifiedSequence,s);return i===t}static _getStrictElement(a,s){return typeof a.getStrictElement=="function"?a.getStrictElement(s):null}OriginalElementsAreEqual(a,s){return this._originalElementsOrHash[a]!==this._originalElementsOrHash[s]?!1:this._hasStrings?this._originalStringElements[a]===this._originalStringElements[s]:!0}ModifiedElementsAreEqual(a,s){return this._modifiedElementsOrHash[a]!==this._modifiedElementsOrHash[s]?!1:this._hasStrings?this._modifiedStringElements[a]===this._modifiedStringElements[s]:!0}ComputeDiff(a){return this._ComputeDiff(0,this._originalElementsOrHash.length-1,0,this._modifiedElementsOrHash.length-1,a)}_ComputeDiff(a,s,i,t,n){const h=[!1];let v=this.ComputeDiffRecursive(a,s,i,t,h);return n&&(v=this.PrettifyChanges(v)),{quitEarly:h[0],changes:v}}ComputeDiffRecursive(a,s,i,t,n){for(n[0]=!1;a<=s&&i<=t&&this.ElementsAreEqual(a,i);)a++,i++;for(;s>=a&&t>=i&&this.ElementsAreEqual(s,t);)s--,t--;if(a>s||i>t){let l;return i<=t?(y.Assert(a===s+1,"originalStart should only be one more than originalEnd"),l=[new m.DiffChange(a,0,i,t-i+1)]):a<=s?(y.Assert(i===t+1,"modifiedStart should only be one more than modifiedEnd"),l=[new m.DiffChange(a,s-a+1,i,0)]):(y.Assert(a===s+1,"originalStart should only be one more than originalEnd"),y.Assert(i===t+1,"modifiedStart should only be one more than modifiedEnd"),l=[]),l}const h=[0],v=[0],u=this.ComputeRecursionPoint(a,s,i,t,h,v,n),d=h[0],r=v[0];if(u!==null)return u;if(!n[0]){const l=this.ComputeDiffRecursive(a,d,i,r,n);let o=[];return n[0]?o=[new m.DiffChange(d+1,s-(d+1)+1,r+1,t-(r+1)+1)]:o=this.ComputeDiffRecursive(d+1,s,r+1,t,n),this.ConcatenateChanges(l,o)}return[new m.DiffChange(a,s-a+1,i,t-i+1)]}WALKTRACE(a,s,i,t,n,h,v,u,d,r,l,o,g,c,f,_,S,I){let E=null,T=null,N=new w,A=s,O=i,M=g[0]-_[0]-t,P=-1073741824,x=this.m_forwardHistory.length-1;do{const R=M+a;R===A||R<O&&d[R-1]<d[R+1]?(l=d[R+1],c=l-M-t,l<P&&N.MarkNextChange(),P=l,N.AddModifiedElement(l+1,c),M=R+1-a):(l=d[R-1]+1,c=l-M-t,l<P&&N.MarkNextChange(),P=l-1,N.AddOriginalElement(l,c+1),M=R-1-a),x>=0&&(d=this.m_forwardHistory[x],a=d[0],A=1,O=d.length-1)}while(--x>=-1);if(E=N.getReverseChanges(),I[0]){let R=g[0]+1,B=_[0]+1;if(E!==null&&E.length>0){const H=E[E.length-1];R=Math.max(R,H.getOriginalEnd()),B=Math.max(B,H.getModifiedEnd())}T=[new m.DiffChange(R,o-R+1,B,f-B+1)]}else{N=new w,A=h,O=v,M=g[0]-_[0]-u,P=1073741824,x=S?this.m_reverseHistory.length-1:this.m_reverseHistory.length-2;do{const R=M+n;R===A||R<O&&r[R-1]>=r[R+1]?(l=r[R+1]-1,c=l-M-u,l>P&&N.MarkNextChange(),P=l+1,N.AddOriginalElement(l+1,c+1),M=R+1-n):(l=r[R-1],c=l-M-u,l>P&&N.MarkNextChange(),P=l,N.AddModifiedElement(l+1,c+1),M=R-1-n),x>=0&&(r=this.m_reverseHistory[x],n=r[0],A=1,O=r.length-1)}while(--x>=-1);T=N.getChanges()}return this.ConcatenateChanges(E,T)}ComputeRecursionPoint(a,s,i,t,n,h,v){let u=0,d=0,r=0,l=0,o=0,g=0;a--,i--,n[0]=0,h[0]=0,this.m_forwardHistory=[],this.m_reverseHistory=[];const c=s-a+(t-i),f=c+1,_=new Int32Array(f),S=new Int32Array(f),I=t-i,E=s-a,T=a-i,N=s-t,O=(E-I)%2===0;_[I]=a,S[E]=s,v[0]=!1;for(let M=1;M<=c/2+1;M++){let P=0,x=0;r=this.ClipDiagonalBound(I-M,M,I,f),l=this.ClipDiagonalBound(I+M,M,I,f);for(let B=r;B<=l;B+=2){B===r||B<l&&_[B-1]<_[B+1]?u=_[B+1]:u=_[B-1]+1,d=u-(B-I)-T;const H=u;for(;u<s&&d<t&&this.ElementsAreEqual(u+1,d+1);)u++,d++;if(_[B]=u,u+d>P+x&&(P=u,x=d),!O&&Math.abs(B-E)<=M-1&&u>=S[B])return n[0]=u,h[0]=d,H<=S[B]&&1447>0&&M<=1448?this.WALKTRACE(I,r,l,T,E,o,g,N,_,S,u,s,n,d,t,h,O,v):null}const R=(P-a+(x-i)-M)/2;if(this.ContinueProcessingPredicate!==null&&!this.ContinueProcessingPredicate(P,R))return v[0]=!0,n[0]=P,h[0]=x,R>0&&1447>0&&M<=1448?this.WALKTRACE(I,r,l,T,E,o,g,N,_,S,u,s,n,d,t,h,O,v):(a++,i++,[new m.DiffChange(a,s-a+1,i,t-i+1)]);o=this.ClipDiagonalBound(E-M,M,E,f),g=this.ClipDiagonalBound(E+M,M,E,f);for(let B=o;B<=g;B+=2){B===o||B<g&&S[B-1]>=S[B+1]?u=S[B+1]-1:u=S[B-1],d=u-(B-E)-N;const H=u;for(;u>a&&d>i&&this.ElementsAreEqual(u,d);)u--,d--;if(S[B]=u,O&&Math.abs(B-I)<=M&&u<=_[B])return n[0]=u,h[0]=d,H>=_[B]&&1447>0&&M<=1448?this.WALKTRACE(I,r,l,T,E,o,g,N,_,S,u,s,n,d,t,h,O,v):null}if(M<=1447){let B=new Int32Array(l-r+2);B[0]=I-r+1,p.Copy2(_,r,B,1,l-r+1),this.m_forwardHistory.push(B),B=new Int32Array(g-o+2),B[0]=E-o+1,p.Copy2(S,o,B,1,g-o+1),this.m_reverseHistory.push(B)}}return this.WALKTRACE(I,r,l,T,E,o,g,N,_,S,u,s,n,d,t,h,O,v)}PrettifyChanges(a){for(let s=0;s<a.length;s++){const i=a[s],t=s<a.length-1?a[s+1].originalStart:this._originalElementsOrHash.length,n=s<a.length-1?a[s+1].modifiedStart:this._modifiedElementsOrHash.length,h=i.originalLength>0,v=i.modifiedLength>0;for(;i.originalStart+i.originalLength<t&&i.modifiedStart+i.modifiedLength<n&&(!h||this.OriginalElementsAreEqual(i.originalStart,i.originalStart+i.originalLength))&&(!v||this.ModifiedElementsAreEqual(i.modifiedStart,i.modifiedStart+i.modifiedLength));){const d=this.ElementsAreStrictEqual(i.originalStart,i.modifiedStart);if(this.ElementsAreStrictEqual(i.originalStart+i.originalLength,i.modifiedStart+i.modifiedLength)&&!d)break;i.originalStart++,i.modifiedStart++}const u=[null];if(s<a.length-1&&this.ChangesOverlap(a[s],a[s+1],u)){a[s]=u[0],a.splice(s+1,1),s--;continue}}for(let s=a.length-1;s>=0;s--){const i=a[s];let t=0,n=0;if(s>0){const l=a[s-1];t=l.originalStart+l.originalLength,n=l.modifiedStart+l.modifiedLength}const h=i.originalLength>0,v=i.modifiedLength>0;let u=0,d=this._boundaryScore(i.originalStart,i.originalLength,i.modifiedStart,i.modifiedLength);for(let l=1;;l++){const o=i.originalStart-l,g=i.modifiedStart-l;if(o<t||g<n||h&&!this.OriginalElementsAreEqual(o,o+i.originalLength)||v&&!this.ModifiedElementsAreEqual(g,g+i.modifiedLength))break;const f=(o===t&&g===n?5:0)+this._boundaryScore(o,i.originalLength,g,i.modifiedLength);f>d&&(d=f,u=l)}i.originalStart-=u,i.modifiedStart-=u;const r=[null];if(s>0&&this.ChangesOverlap(a[s-1],a[s],r)){a[s-1]=r[0],a.splice(s,1),s++;continue}}if(this._hasStrings)for(let s=1,i=a.length;s<i;s++){const t=a[s-1],n=a[s],h=n.originalStart-t.originalStart-t.originalLength,v=t.originalStart,u=n.originalStart+n.originalLength,d=u-v,r=t.modifiedStart,l=n.modifiedStart+n.modifiedLength,o=l-r;if(h<5&&d<20&&o<20){const g=this._findBetterContiguousSequence(v,d,r,o,h);if(g){const[c,f]=g;(c!==t.originalStart+t.originalLength||f!==t.modifiedStart+t.modifiedLength)&&(t.originalLength=c-t.originalStart,t.modifiedLength=f-t.modifiedStart,n.originalStart=c+h,n.modifiedStart=f+h,n.originalLength=u-n.originalStart,n.modifiedLength=l-n.modifiedStart)}}}return a}_findBetterContiguousSequence(a,s,i,t,n){if(s<n||t<n)return null;const h=a+s-n+1,v=i+t-n+1;let u=0,d=0,r=0;for(let l=a;l<h;l++)for(let o=i;o<v;o++){const g=this._contiguousSequenceScore(l,o,n);g>0&&g>u&&(u=g,d=l,r=o)}return u>0?[d,r]:null}_contiguousSequenceScore(a,s,i){let t=0;for(let n=0;n<i;n++){if(!this.ElementsAreEqual(a+n,s+n))return 0;t+=this._originalStringElements[a+n].length}return t}_OriginalIsBoundary(a){return a<=0||a>=this._originalElementsOrHash.length-1?!0:this._hasStrings&&/^\s*$/.test(this._originalStringElements[a])}_OriginalRegionIsBoundary(a,s){if(this._OriginalIsBoundary(a)||this._OriginalIsBoundary(a-1))return!0;if(s>0){const i=a+s;if(this._OriginalIsBoundary(i-1)||this._OriginalIsBoundary(i))return!0}return!1}_ModifiedIsBoundary(a){return a<=0||a>=this._modifiedElementsOrHash.length-1?!0:this._hasStrings&&/^\s*$/.test(this._modifiedStringElements[a])}_ModifiedRegionIsBoundary(a,s){if(this._ModifiedIsBoundary(a)||this._ModifiedIsBoundary(a-1))return!0;if(s>0){const i=a+s;if(this._ModifiedIsBoundary(i-1)||this._ModifiedIsBoundary(i))return!0}return!1}_boundaryScore(a,s,i,t){const n=this._OriginalRegionIsBoundary(a,s)?1:0,h=this._ModifiedRegionIsBoundary(i,t)?1:0;return n+h}ConcatenateChanges(a,s){const i=[];if(a.length===0||s.length===0)return s.length>0?s:a;if(this.ChangesOverlap(a[a.length-1],s[0],i)){const t=new Array(a.length+s.length-1);return p.Copy(a,0,t,0,a.length-1),t[a.length-1]=i[0],p.Copy(s,1,t,a.length,s.length-1),t}else{const t=new Array(a.length+s.length);return p.Copy(a,0,t,0,a.length),p.Copy(s,0,t,a.length,s.length),t}}ChangesOverlap(a,s,i){if(y.Assert(a.originalStart<=s.originalStart,"Left change is not less than or equal to right change"),y.Assert(a.modifiedStart<=s.modifiedStart,"Left change is not less than or equal to right change"),a.originalStart+a.originalLength>=s.originalStart||a.modifiedStart+a.modifiedLength>=s.modifiedStart){const t=a.originalStart;let n=a.originalLength;const h=a.modifiedStart;let v=a.modifiedLength;return a.originalStart+a.originalLength>=s.originalStart&&(n=s.originalStart+s.originalLength-a.originalStart),a.modifiedStart+a.modifiedLength>=s.modifiedStart&&(v=s.modifiedStart+s.modifiedLength-a.modifiedStart),i[0]=new m.DiffChange(t,n,h,v),!0}else return i[0]=null,!1}ClipDiagonalBound(a,s,i,t){if(a>=0&&a<t)return a;const n=i,h=t-i-1,v=s%2===0;if(a<0){const u=n%2===0;return v===u?0:1}else{const u=h%2===0;return v===u?t-1:t-2}}}e.LcsDiff=C}),define(te[426],ie([1,0,11]),function(J,e,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.buildReplaceStringWithCasePreserved=k;function k(y,p){if(y&&y[0]!==""){const w=D(y,p,"-"),C=D(y,p,"_");return w&&!C?L(y,p,"-"):!w&&C?L(y,p,"_"):y[0].toUpperCase()===y[0]?p.toUpperCase():y[0].toLowerCase()===y[0]?p.toLowerCase():m.containsUppercaseCharacter(y[0][0])&&p.length>0?p[0].toUpperCase()+p.substr(1):y[0][0].toUpperCase()!==y[0][0]&&p.length>0?p[0].toLowerCase()+p.substr(1):p}else return p}function D(y,p,w){return y[0].indexOf(w)!==-1&&p.indexOf(w)!==-1&&y[0].split(w).length===p.split(w).length}function L(y,p,w){const C=p.split(w),b=y[0].split(w);let a="";return C.forEach((s,i)=>{a+=k([b[i]],s)+w}),a.slice(0,-1)}}),define(te[107],ie([1,0,11]),function(J,e,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var k;(function(D){D[D.Ignore=0]="Ignore",D[D.Info=1]="Info",D[D.Warning=2]="Warning",D[D.Error=3]="Error"})(k||(k={})),function(D){const L="error",y="warning",p="warn",w="info",C="ignore";function b(s){return s?m.equalsIgnoreCase(L,s)?D.Error:m.equalsIgnoreCase(y,s)||m.equalsIgnoreCase(p,s)?D.Warning:m.equalsIgnoreCase(w,s)?D.Info:D.Ignore:D.Ignore}D.fromValue=b;function a(s){switch(s){case D.Error:return L;case D.Warning:return y;case D.Info:return w;default:return C}}D.toString=a}(k||(k={})),e.default=k}),define(te[289],ie([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MicrotaskDelay=void 0,e.MicrotaskDelay=Symbol("MicrotaskDelay")}),define(te[214],ie([1,0,11]),function(J,e,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TernarySearchTree=e.UriIterator=e.PathIterator=e.ConfigKeysIterator=e.StringIterator=void 0;class k{constructor(){this._value="",this._pos=0}reset(b){return this._value=b,this._pos=0,this}next(){return this._pos+=1,this}hasNext(){return this._pos<this._value.length-1}cmp(b){const a=b.charCodeAt(0),s=this._value.charCodeAt(this._pos);return a-s}value(){return this._value[this._pos]}}e.StringIterator=k;class D{constructor(b=!0){this._caseSensitive=b}reset(b){return this._value=b,this._from=0,this._to=0,this.next()}hasNext(){return this._to<this._value.length}next(){this._from=this._to;let b=!0;for(;this._to<this._value.length;this._to++)if(this._value.charCodeAt(this._to)===46)if(b)this._from++;else break;else b=!1;return this}cmp(b){return this._caseSensitive?(0,m.compareSubstring)(b,this._value,0,b.length,this._from,this._to):(0,m.compareSubstringIgnoreCase)(b,this._value,0,b.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}e.ConfigKeysIterator=D;class L{constructor(b=!0,a=!0){this._splitOnBackslash=b,this._caseSensitive=a}reset(b){this._from=0,this._to=0,this._value=b,this._valueLen=b.length;for(let a=b.length-1;a>=0;a--,this._valueLen--){const s=this._value.charCodeAt(a);if(!(s===47||this._splitOnBackslash&&s===92))break}return this.next()}hasNext(){return this._to<this._valueLen}next(){this._from=this._to;let b=!0;for(;this._to<this._valueLen;this._to++){const a=this._value.charCodeAt(this._to);if(a===47||this._splitOnBackslash&&a===92)if(b)this._from++;else break;else b=!1}return this}cmp(b){return this._caseSensitive?(0,m.compareSubstring)(b,this._value,0,b.length,this._from,this._to):(0,m.compareSubstringIgnoreCase)(b,this._value,0,b.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}e.PathIterator=L;class y{constructor(b,a){this._ignorePathCasing=b,this._ignoreQueryAndFragment=a,this._states=[],this._stateIdx=0}reset(b){return this._value=b,this._states=[],this._value.scheme&&this._states.push(1),this._value.authority&&this._states.push(2),this._value.path&&(this._pathIterator=new L(!1,!this._ignorePathCasing(b)),this._pathIterator.reset(b.path),this._pathIterator.value()&&this._states.push(3)),this._ignoreQueryAndFragment(b)||(this._value.query&&this._states.push(4),this._value.fragment&&this._states.push(5)),this._stateIdx=0,this}next(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()?this._pathIterator.next():this._stateIdx+=1,this}hasNext(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()||this._stateIdx<this._states.length-1}cmp(b){if(this._states[this._stateIdx]===1)return(0,m.compareIgnoreCase)(b,this._value.scheme);if(this._states[this._stateIdx]===2)return(0,m.compareIgnoreCase)(b,this._value.authority);if(this._states[this._stateIdx]===3)return this._pathIterator.cmp(b);if(this._states[this._stateIdx]===4)return(0,m.compare)(b,this._value.query);if(this._states[this._stateIdx]===5)return(0,m.compare)(b,this._value.fragment);throw new Error}value(){if(this._states[this._stateIdx]===1)return this._value.scheme;if(this._states[this._stateIdx]===2)return this._value.authority;if(this._states[this._stateIdx]===3)return this._pathIterator.value();if(this._states[this._stateIdx]===4)return this._value.query;if(this._states[this._stateIdx]===5)return this._value.fragment;throw new Error}}e.UriIterator=y;class p{constructor(){this.height=1}rotateLeft(){const b=this.right;return this.right=b.left,b.left=this,this.updateHeight(),b.updateHeight(),b}rotateRight(){const b=this.left;return this.left=b.right,b.right=this,this.updateHeight(),b.updateHeight(),b}updateHeight(){this.height=1+Math.max(this.heightLeft,this.heightRight)}balanceFactor(){return this.heightRight-this.heightLeft}get heightLeft(){var b,a;return(a=(b=this.left)===null||b===void 0?void 0:b.height)!==null&&a!==void 0?a:0}get heightRight(){var b,a;return(a=(b=this.right)===null||b===void 0?void 0:b.height)!==null&&a!==void 0?a:0}}class w{static forUris(b=()=>!1,a=()=>!1){return new w(new y(b,a))}static forStrings(){return new w(new k)}static forConfigKeys(){return new w(new D)}constructor(b){this._iter=b}clear(){this._root=void 0}set(b,a){const s=this._iter.reset(b);let i;this._root||(this._root=new p,this._root.segment=s.value());const t=[];for(i=this._root;;){const h=s.cmp(i.segment);if(h>0)i.left||(i.left=new p,i.left.segment=s.value()),t.push([-1,i]),i=i.left;else if(h<0)i.right||(i.right=new p,i.right.segment=s.value()),t.push([1,i]),i=i.right;else if(s.hasNext())s.next(),i.mid||(i.mid=new p,i.mid.segment=s.value()),t.push([0,i]),i=i.mid;else break}const n=i.value;i.value=a,i.key=b;for(let h=t.length-1;h>=0;h--){const v=t[h][1];v.updateHeight();const u=v.balanceFactor();if(u<-1||u>1){const d=t[h][0],r=t[h+1][0];if(d===1&&r===1)t[h][1]=v.rotateLeft();else if(d===-1&&r===-1)t[h][1]=v.rotateRight();else if(d===1&&r===-1)v.right=t[h+1][1]=t[h+1][1].rotateRight(),t[h][1]=v.rotateLeft();else if(d===-1&&r===1)v.left=t[h+1][1]=t[h+1][1].rotateLeft(),t[h][1]=v.rotateRight();else throw new Error;if(h>0)switch(t[h-1][0]){case-1:t[h-1][1].left=t[h][1];break;case 1:t[h-1][1].right=t[h][1];break;case 0:t[h-1][1].mid=t[h][1];break}else this._root=t[0][1]}}return n}get(b){var a;return(a=this._getNode(b))===null||a===void 0?void 0:a.value}_getNode(b){const a=this._iter.reset(b);let s=this._root;for(;s;){const i=a.cmp(s.segment);if(i>0)s=s.left;else if(i<0)s=s.right;else if(a.hasNext())a.next(),s=s.mid;else break}return s}has(b){const a=this._getNode(b);return!(a?.value===void 0&&a?.mid===void 0)}delete(b){return this._delete(b,!1)}deleteSuperstr(b){return this._delete(b,!0)}_delete(b,a){var s;const i=this._iter.reset(b),t=[];let n=this._root;for(;n;){const h=i.cmp(n.segment);if(h>0)t.push([-1,n]),n=n.left;else if(h<0)t.push([1,n]),n=n.right;else if(i.hasNext())i.next(),t.push([0,n]),n=n.mid;else break}if(n){if(a?(n.left=void 0,n.mid=void 0,n.right=void 0,n.height=1):(n.key=void 0,n.value=void 0),!n.mid&&!n.value)if(n.left&&n.right){const h=this._min(n.right);if(h.key){const{key:v,value:u,segment:d}=h;this._delete(h.key,!1),n.key=v,n.value=u,n.segment=d}}else{const h=(s=n.left)!==null&&s!==void 0?s:n.right;if(t.length>0){const[v,u]=t[t.length-1];switch(v){case-1:u.left=h;break;case 0:u.mid=h;break;case 1:u.right=h;break}}else this._root=h}for(let h=t.length-1;h>=0;h--){const v=t[h][1];v.updateHeight();const u=v.balanceFactor();if(u>1?(v.right.balanceFactor()>=0||(v.right=v.right.rotateRight()),t[h][1]=v.rotateLeft()):u<-1&&(v.left.balanceFactor()<=0||(v.left=v.left.rotateLeft()),t[h][1]=v.rotateRight()),h>0)switch(t[h-1][0]){case-1:t[h-1][1].left=t[h][1];break;case 1:t[h-1][1].right=t[h][1];break;case 0:t[h-1][1].mid=t[h][1];break}else this._root=t[0][1]}}}_min(b){for(;b.left;)b=b.left;return b}findSubstr(b){const a=this._iter.reset(b);let s=this._root,i;for(;s;){const t=a.cmp(s.segment);if(t>0)s=s.left;else if(t<0)s=s.right;else if(a.hasNext())a.next(),i=s.value||i,s=s.mid;else break}return s&&s.value||i}findSuperstr(b){return this._findSuperstrOrElement(b,!1)}_findSuperstrOrElement(b,a){const s=this._iter.reset(b);let i=this._root;for(;i;){const t=s.cmp(i.segment);if(t>0)i=i.left;else if(t<0)i=i.right;else if(s.hasNext())s.next(),i=i.mid;else return i.mid?this._entries(i.mid):a?i.value:void 0}}forEach(b){for(const[a,s]of this)b(s,a)}*[Symbol.iterator](){yield*this._entries(this._root)}_entries(b){const a=[];return this._dfsEntries(b,a),a[Symbol.iterator]()}_dfsEntries(b,a){b&&(b.left&&this._dfsEntries(b.left,a),b.value&&a.push([b.key,b.value]),b.mid&&this._dfsEntries(b.mid,a),b.right&&this._dfsEntries(b.right,a))}}e.TernarySearchTree=w}),define(te[427],ie([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TfIdfCalculator=void 0,e.normalizeTfIdfScores=D;function m(L){var y;const p=new Map;for(const w of L)p.set(w,((y=p.get(w))!==null&&y!==void 0?y:0)+1);return p}class k{constructor(){this.chunkCount=0,this.chunkOccurrences=new Map,this.documents=new Map}calculateScores(y,p){const w=this.computeEmbedding(y),C=new Map,b=[];for(const[a,s]of this.documents){if(p.isCancellationRequested)return[];for(const i of s.chunks){const t=this.computeSimilarityScore(i,w,C);t>0&&b.push({key:a,score:t})}}return b}static termFrequencies(y){return m(k.splitTerms(y))}static*splitTerms(y){const p=w=>w.toLowerCase();for(const[w]of y.matchAll(/\b\p{Letter}[\p{Letter}\d]{2,}\b/gu)){yield p(w);const C=w.replace(/([a-z])([A-Z])/g,"$1 $2").split(/\s+/g);if(C.length>1)for(const b of C)b.length>2&&/\p{Letter}{3,}/gu.test(b)&&(yield p(b))}}updateDocuments(y){var p;for(const{key:w}of y)this.deleteDocument(w);for(const w of y){const C=[];for(const b of w.textChunks){const a=k.termFrequencies(b);for(const s of a.keys())this.chunkOccurrences.set(s,((p=this.chunkOccurrences.get(s))!==null&&p!==void 0?p:0)+1);C.push({text:b,tf:a})}this.chunkCount+=C.length,this.documents.set(w.key,{chunks:C})}return this}deleteDocument(y){const p=this.documents.get(y);if(p){this.documents.delete(y),this.chunkCount-=p.chunks.length;for(const w of p.chunks)for(const C of w.tf.keys()){const b=this.chunkOccurrences.get(C);if(typeof b=="number"){const a=b-1;a<=0?this.chunkOccurrences.delete(C):this.chunkOccurrences.set(C,a)}}}}computeSimilarityScore(y,p,w){let C=0;for(const[b,a]of Object.entries(p)){const s=y.tf.get(b);if(!s)continue;let i=w.get(b);typeof i!="number"&&(i=this.computeIdf(b),w.set(b,i));const t=s*i;C+=t*a}return C}computeEmbedding(y){const p=k.termFrequencies(y);return this.computeTfidf(p)}computeIdf(y){var p;const w=(p=this.chunkOccurrences.get(y))!==null&&p!==void 0?p:0;return w>0?Math.log((this.chunkCount+1)/w):0}computeTfidf(y){const p=Object.create(null);for(const[w,C]of y){const b=this.computeIdf(w);b>0&&(p[w]=C*b)}return p}}e.TfIdfCalculator=k;function D(L){var y,p;const w=L.slice(0);w.sort((b,a)=>a.score-b.score);const C=(p=(y=w[0])===null||y===void 0?void 0:y.score)!==null&&p!==void 0?p:0;if(C>0)for(const b of w)b.score/=C;return w}}),define(te[21],ie([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isString=m,e.isObject=k,e.isTypedArray=D,e.isNumber=L,e.isIterable=y,e.isBoolean=p,e.isUndefined=w,e.isDefined=C,e.isUndefinedOrNull=b,e.assertType=a,e.assertIsDefined=s,e.isFunction=i,e.validateConstraints=t,e.validateConstraint=n;function m(h){return typeof h=="string"}function k(h){return typeof h=="object"&&h!==null&&!Array.isArray(h)&&!(h instanceof RegExp)&&!(h instanceof Date)}function D(h){const v=Object.getPrototypeOf(Uint8Array);return typeof h=="object"&&h instanceof v}function L(h){return typeof h=="number"&&!isNaN(h)}function y(h){return!!h&&typeof h[Symbol.iterator]=="function"}function p(h){return h===!0||h===!1}function w(h){return typeof h>"u"}function C(h){return!b(h)}function b(h){return w(h)||h===null}function a(h,v){if(!h)throw new Error(v?`Unexpected type, expected '${v}'`:"Unexpected type")}function s(h){if(b(h))throw new Error("Assertion Failed: argument is undefined or null");return h}function i(h){return typeof h=="function"}function t(h,v){const u=Math.min(h.length,v.length);for(let d=0;d<u;d++)n(h[d],v[d])}function n(h,v){if(m(v)){if(typeof h!==v)throw new Error(`argument does not match constraint: typeof ${v}`)}else if(i(v)){try{if(h instanceof v)return}catch{}if(!b(h)&&h.constructor===v||v.length===1&&v.call(void 0,h)===!0)return;throw new Error("argument does not match one of these constraints: arg instanceof constraint, arg.constructor === constraint, nor constraint(arg) === true")}}}),define(te[183],ie([1,0,21]),function(J,e,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.register=D,e.getCodiconFontCharacters=L;const k=Object.create(null);function D(y,p){if((0,m.isString)(p)){const w=k[p];if(w===void 0)throw new Error(`${y} references an unknown codicon: ${p}`);p=w}return k[y]=p,{id:y}}function L(){return k}}),define(te[428],ie([1,0,183]),function(J,e,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.codiconsLibrary=void 0,e.codiconsLibrary={add:(0,m.register)("add",6e4),plus:(0,m.register)("plus",6e4),gistNew:(0,m.register)("gist-new",6e4),repoCreate:(0,m.register)("repo-create",6e4),lightbulb:(0,m.register)("lightbulb",60001),lightBulb:(0,m.register)("light-bulb",60001),repo:(0,m.register)("repo",60002),repoDelete:(0,m.register)("repo-delete",60002),gistFork:(0,m.register)("gist-fork",60003),repoForked:(0,m.register)("repo-forked",60003),gitPullRequest:(0,m.register)("git-pull-request",60004),gitPullRequestAbandoned:(0,m.register)("git-pull-request-abandoned",60004),recordKeys:(0,m.register)("record-keys",60005),keyboard:(0,m.register)("keyboard",60005),tag:(0,m.register)("tag",60006),gitPullRequestLabel:(0,m.register)("git-pull-request-label",60006),tagAdd:(0,m.register)("tag-add",60006),tagRemove:(0,m.register)("tag-remove",60006),person:(0,m.register)("person",60007),personFollow:(0,m.register)("person-follow",60007),personOutline:(0,m.register)("person-outline",60007),personFilled:(0,m.register)("person-filled",60007),gitBranch:(0,m.register)("git-branch",60008),gitBranchCreate:(0,m.register)("git-branch-create",60008),gitBranchDelete:(0,m.register)("git-branch-delete",60008),sourceControl:(0,m.register)("source-control",60008),mirror:(0,m.register)("mirror",60009),mirrorPublic:(0,m.register)("mirror-public",60009),star:(0,m.register)("star",60010),starAdd:(0,m.register)("star-add",60010),starDelete:(0,m.register)("star-delete",60010),starEmpty:(0,m.register)("star-empty",60010),comment:(0,m.register)("comment",60011),commentAdd:(0,m.register)("comment-add",60011),alert:(0,m.register)("alert",60012),warning:(0,m.register)("warning",60012),search:(0,m.register)("search",60013),searchSave:(0,m.register)("search-save",60013),logOut:(0,m.register)("log-out",60014),signOut:(0,m.register)("sign-out",60014),logIn:(0,m.register)("log-in",60015),signIn:(0,m.register)("sign-in",60015),eye:(0,m.register)("eye",60016),eyeUnwatch:(0,m.register)("eye-unwatch",60016),eyeWatch:(0,m.register)("eye-watch",60016),circleFilled:(0,m.register)("circle-filled",60017),primitiveDot:(0,m.register)("primitive-dot",60017),closeDirty:(0,m.register)("close-dirty",60017),debugBreakpoint:(0,m.register)("debug-breakpoint",60017),debugBreakpointDisabled:(0,m.register)("debug-breakpoint-disabled",60017),debugHint:(0,m.register)("debug-hint",60017),terminalDecorationSuccess:(0,m.register)("terminal-decoration-success",60017),primitiveSquare:(0,m.register)("primitive-square",60018),edit:(0,m.register)("edit",60019),pencil:(0,m.register)("pencil",60019),info:(0,m.register)("info",60020),issueOpened:(0,m.register)("issue-opened",60020),gistPrivate:(0,m.register)("gist-private",60021),gitForkPrivate:(0,m.register)("git-fork-private",60021),lock:(0,m.register)("lock",60021),mirrorPrivate:(0,m.register)("mirror-private",60021),close:(0,m.register)("close",60022),removeClose:(0,m.register)("remove-close",60022),x:(0,m.register)("x",60022),repoSync:(0,m.register)("repo-sync",60023),sync:(0,m.register)("sync",60023),clone:(0,m.register)("clone",60024),desktopDownload:(0,m.register)("desktop-download",60024),beaker:(0,m.register)("beaker",60025),microscope:(0,m.register)("microscope",60025),vm:(0,m.register)("vm",60026),deviceDesktop:(0,m.register)("device-desktop",60026),file:(0,m.register)("file",60027),fileText:(0,m.register)("file-text",60027),more:(0,m.register)("more",60028),ellipsis:(0,m.register)("ellipsis",60028),kebabHorizontal:(0,m.register)("kebab-horizontal",60028),mailReply:(0,m.register)("mail-reply",60029),reply:(0,m.register)("reply",60029),organization:(0,m.register)("organization",60030),organizationFilled:(0,m.register)("organization-filled",60030),organizationOutline:(0,m.register)("organization-outline",60030),newFile:(0,m.register)("new-file",60031),fileAdd:(0,m.register)("file-add",60031),newFolder:(0,m.register)("new-folder",60032),fileDirectoryCreate:(0,m.register)("file-directory-create",60032),trash:(0,m.register)("trash",60033),trashcan:(0,m.register)("trashcan",60033),history:(0,m.register)("history",60034),clock:(0,m.register)("clock",60034),folder:(0,m.register)("folder",60035),fileDirectory:(0,m.register)("file-directory",60035),symbolFolder:(0,m.register)("symbol-folder",60035),logoGithub:(0,m.register)("logo-github",60036),markGithub:(0,m.register)("mark-github",60036),github:(0,m.register)("github",60036),terminal:(0,m.register)("terminal",60037),console:(0,m.register)("console",60037),repl:(0,m.register)("repl",60037),zap:(0,m.register)("zap",60038),symbolEvent:(0,m.register)("symbol-event",60038),error:(0,m.register)("error",60039),stop:(0,m.register)("stop",60039),variable:(0,m.register)("variable",60040),symbolVariable:(0,m.register)("symbol-variable",60040),array:(0,m.register)("array",60042),symbolArray:(0,m.register)("symbol-array",60042),symbolModule:(0,m.register)("symbol-module",60043),symbolPackage:(0,m.register)("symbol-package",60043),symbolNamespace:(0,m.register)("symbol-namespace",60043),symbolObject:(0,m.register)("symbol-object",60043),symbolMethod:(0,m.register)("symbol-method",60044),symbolFunction:(0,m.register)("symbol-function",60044),symbolConstructor:(0,m.register)("symbol-constructor",60044),symbolBoolean:(0,m.register)("symbol-boolean",60047),symbolNull:(0,m.register)("symbol-null",60047),symbolNumeric:(0,m.register)("symbol-numeric",60048),symbolNumber:(0,m.register)("symbol-number",60048),symbolStructure:(0,m.register)("symbol-structure",60049),symbolStruct:(0,m.register)("symbol-struct",60049),symbolParameter:(0,m.register)("symbol-parameter",60050),symbolTypeParameter:(0,m.register)("symbol-type-parameter",60050),symbolKey:(0,m.register)("symbol-key",60051),symbolText:(0,m.register)("symbol-text",60051),symbolReference:(0,m.register)("symbol-reference",60052),goToFile:(0,m.register)("go-to-file",60052),symbolEnum:(0,m.register)("symbol-enum",60053),symbolValue:(0,m.register)("symbol-value",60053),symbolRuler:(0,m.register)("symbol-ruler",60054),symbolUnit:(0,m.register)("symbol-unit",60054),activateBreakpoints:(0,m.register)("activate-breakpoints",60055),archive:(0,m.register)("archive",60056),arrowBoth:(0,m.register)("arrow-both",60057),arrowDown:(0,m.register)("arrow-down",60058),arrowLeft:(0,m.register)("arrow-left",60059),arrowRight:(0,m.register)("arrow-right",60060),arrowSmallDown:(0,m.register)("arrow-small-down",60061),arrowSmallLeft:(0,m.register)("arrow-small-left",60062),arrowSmallRight:(0,m.register)("arrow-small-right",60063),arrowSmallUp:(0,m.register)("arrow-small-up",60064),arrowUp:(0,m.register)("arrow-up",60065),bell:(0,m.register)("bell",60066),bold:(0,m.register)("bold",60067),book:(0,m.register)("book",60068),bookmark:(0,m.register)("bookmark",60069),debugBreakpointConditionalUnverified:(0,m.register)("debug-breakpoint-conditional-unverified",60070),debugBreakpointConditional:(0,m.register)("debug-breakpoint-conditional",60071),debugBreakpointConditionalDisabled:(0,m.register)("debug-breakpoint-conditional-disabled",60071),debugBreakpointDataUnverified:(0,m.register)("debug-breakpoint-data-unverified",60072),debugBreakpointData:(0,m.register)("debug-breakpoint-data",60073),debugBreakpointDataDisabled:(0,m.register)("debug-breakpoint-data-disabled",60073),debugBreakpointLogUnverified:(0,m.register)("debug-breakpoint-log-unverified",60074),debugBreakpointLog:(0,m.register)("debug-breakpoint-log",60075),debugBreakpointLogDisabled:(0,m.register)("debug-breakpoint-log-disabled",60075),briefcase:(0,m.register)("briefcase",60076),broadcast:(0,m.register)("broadcast",60077),browser:(0,m.register)("browser",60078),bug:(0,m.register)("bug",60079),calendar:(0,m.register)("calendar",60080),caseSensitive:(0,m.register)("case-sensitive",60081),check:(0,m.register)("check",60082),checklist:(0,m.register)("checklist",60083),chevronDown:(0,m.register)("chevron-down",60084),chevronLeft:(0,m.register)("chevron-left",60085),chevronRight:(0,m.register)("chevron-right",60086),chevronUp:(0,m.register)("chevron-up",60087),chromeClose:(0,m.register)("chrome-close",60088),chromeMaximize:(0,m.register)("chrome-maximize",60089),chromeMinimize:(0,m.register)("chrome-minimize",60090),chromeRestore:(0,m.register)("chrome-restore",60091),circleOutline:(0,m.register)("circle-outline",60092),circle:(0,m.register)("circle",60092),debugBreakpointUnverified:(0,m.register)("debug-breakpoint-unverified",60092),terminalDecorationIncomplete:(0,m.register)("terminal-decoration-incomplete",60092),circleSlash:(0,m.register)("circle-slash",60093),circuitBoard:(0,m.register)("circuit-board",60094),clearAll:(0,m.register)("clear-all",60095),clippy:(0,m.register)("clippy",60096),closeAll:(0,m.register)("close-all",60097),cloudDownload:(0,m.register)("cloud-download",60098),cloudUpload:(0,m.register)("cloud-upload",60099),code:(0,m.register)("code",60100),collapseAll:(0,m.register)("collapse-all",60101),colorMode:(0,m.register)("color-mode",60102),commentDiscussion:(0,m.register)("comment-discussion",60103),creditCard:(0,m.register)("credit-card",60105),dash:(0,m.register)("dash",60108),dashboard:(0,m.register)("dashboard",60109),database:(0,m.register)("database",60110),debugContinue:(0,m.register)("debug-continue",60111),debugDisconnect:(0,m.register)("debug-disconnect",60112),debugPause:(0,m.register)("debug-pause",60113),debugRestart:(0,m.register)("debug-restart",60114),debugStart:(0,m.register)("debug-start",60115),debugStepInto:(0,m.register)("debug-step-into",60116),debugStepOut:(0,m.register)("debug-step-out",60117),debugStepOver:(0,m.register)("debug-step-over",60118),debugStop:(0,m.register)("debug-stop",60119),debug:(0,m.register)("debug",60120),deviceCameraVideo:(0,m.register)("device-camera-video",60121),deviceCamera:(0,m.register)("device-camera",60122),deviceMobile:(0,m.register)("device-mobile",60123),diffAdded:(0,m.register)("diff-added",60124),diffIgnored:(0,m.register)("diff-ignored",60125),diffModified:(0,m.register)("diff-modified",60126),diffRemoved:(0,m.register)("diff-removed",60127),diffRenamed:(0,m.register)("diff-renamed",60128),diff:(0,m.register)("diff",60129),diffSidebyside:(0,m.register)("diff-sidebyside",60129),discard:(0,m.register)("discard",60130),editorLayout:(0,m.register)("editor-layout",60131),emptyWindow:(0,m.register)("empty-window",60132),exclude:(0,m.register)("exclude",60133),extensions:(0,m.register)("extensions",60134),eyeClosed:(0,m.register)("eye-closed",60135),fileBinary:(0,m.register)("file-binary",60136),fileCode:(0,m.register)("file-code",60137),fileMedia:(0,m.register)("file-media",60138),filePdf:(0,m.register)("file-pdf",60139),fileSubmodule:(0,m.register)("file-submodule",60140),fileSymlinkDirectory:(0,m.register)("file-symlink-directory",60141),fileSymlinkFile:(0,m.register)("file-symlink-file",60142),fileZip:(0,m.register)("file-zip",60143),files:(0,m.register)("files",60144),filter:(0,m.register)("filter",60145),flame:(0,m.register)("flame",60146),foldDown:(0,m.register)("fold-down",60147),foldUp:(0,m.register)("fold-up",60148),fold:(0,m.register)("fold",60149),folderActive:(0,m.register)("folder-active",60150),folderOpened:(0,m.register)("folder-opened",60151),gear:(0,m.register)("gear",60152),gift:(0,m.register)("gift",60153),gistSecret:(0,m.register)("gist-secret",60154),gist:(0,m.register)("gist",60155),gitCommit:(0,m.register)("git-commit",60156),gitCompare:(0,m.register)("git-compare",60157),compareChanges:(0,m.register)("compare-changes",60157),gitMerge:(0,m.register)("git-merge",60158),githubAction:(0,m.register)("github-action",60159),githubAlt:(0,m.register)("github-alt",60160),globe:(0,m.register)("globe",60161),grabber:(0,m.register)("grabber",60162),graph:(0,m.register)("graph",60163),gripper:(0,m.register)("gripper",60164),heart:(0,m.register)("heart",60165),home:(0,m.register)("home",60166),horizontalRule:(0,m.register)("horizontal-rule",60167),hubot:(0,m.register)("hubot",60168),inbox:(0,m.register)("inbox",60169),issueReopened:(0,m.register)("issue-reopened",60171),issues:(0,m.register)("issues",60172),italic:(0,m.register)("italic",60173),jersey:(0,m.register)("jersey",60174),json:(0,m.register)("json",60175),kebabVertical:(0,m.register)("kebab-vertical",60176),key:(0,m.register)("key",60177),law:(0,m.register)("law",60178),lightbulbAutofix:(0,m.register)("lightbulb-autofix",60179),linkExternal:(0,m.register)("link-external",60180),link:(0,m.register)("link",60181),listOrdered:(0,m.register)("list-ordered",60182),listUnordered:(0,m.register)("list-unordered",60183),liveShare:(0,m.register)("live-share",60184),loading:(0,m.register)("loading",60185),location:(0,m.register)("location",60186),mailRead:(0,m.register)("mail-read",60187),mail:(0,m.register)("mail",60188),markdown:(0,m.register)("markdown",60189),megaphone:(0,m.register)("megaphone",60190),mention:(0,m.register)("mention",60191),milestone:(0,m.register)("milestone",60192),gitPullRequestMilestone:(0,m.register)("git-pull-request-milestone",60192),mortarBoard:(0,m.register)("mortar-board",60193),move:(0,m.register)("move",60194),multipleWindows:(0,m.register)("multiple-windows",60195),mute:(0,m.register)("mute",60196),noNewline:(0,m.register)("no-newline",60197),note:(0,m.register)("note",60198),octoface:(0,m.register)("octoface",60199),openPreview:(0,m.register)("open-preview",60200),package:(0,m.register)("package",60201),paintcan:(0,m.register)("paintcan",60202),pin:(0,m.register)("pin",60203),play:(0,m.register)("play",60204),run:(0,m.register)("run",60204),plug:(0,m.register)("plug",60205),preserveCase:(0,m.register)("preserve-case",60206),preview:(0,m.register)("preview",60207),project:(0,m.register)("project",60208),pulse:(0,m.register)("pulse",60209),question:(0,m.register)("question",60210),quote:(0,m.register)("quote",60211),radioTower:(0,m.register)("radio-tower",60212),reactions:(0,m.register)("reactions",60213),references:(0,m.register)("references",60214),refresh:(0,m.register)("refresh",60215),regex:(0,m.register)("regex",60216),remoteExplorer:(0,m.register)("remote-explorer",60217),remote:(0,m.register)("remote",60218),remove:(0,m.register)("remove",60219),replaceAll:(0,m.register)("replace-all",60220),replace:(0,m.register)("replace",60221),repoClone:(0,m.register)("repo-clone",60222),repoForcePush:(0,m.register)("repo-force-push",60223),repoPull:(0,m.register)("repo-pull",60224),repoPush:(0,m.register)("repo-push",60225),report:(0,m.register)("report",60226),requestChanges:(0,m.register)("request-changes",60227),rocket:(0,m.register)("rocket",60228),rootFolderOpened:(0,m.register)("root-folder-opened",60229),rootFolder:(0,m.register)("root-folder",60230),rss:(0,m.register)("rss",60231),ruby:(0,m.register)("ruby",60232),saveAll:(0,m.register)("save-all",60233),saveAs:(0,m.register)("save-as",60234),save:(0,m.register)("save",60235),screenFull:(0,m.register)("screen-full",60236),screenNormal:(0,m.register)("screen-normal",60237),searchStop:(0,m.register)("search-stop",60238),server:(0,m.register)("server",60240),settingsGear:(0,m.register)("settings-gear",60241),settings:(0,m.register)("settings",60242),shield:(0,m.register)("shield",60243),smiley:(0,m.register)("smiley",60244),sortPrecedence:(0,m.register)("sort-precedence",60245),splitHorizontal:(0,m.register)("split-horizontal",60246),splitVertical:(0,m.register)("split-vertical",60247),squirrel:(0,m.register)("squirrel",60248),starFull:(0,m.register)("star-full",60249),starHalf:(0,m.register)("star-half",60250),symbolClass:(0,m.register)("symbol-class",60251),symbolColor:(0,m.register)("symbol-color",60252),symbolConstant:(0,m.register)("symbol-constant",60253),symbolEnumMember:(0,m.register)("symbol-enum-member",60254),symbolField:(0,m.register)("symbol-field",60255),symbolFile:(0,m.register)("symbol-file",60256),symbolInterface:(0,m.register)("symbol-interface",60257),symbolKeyword:(0,m.register)("symbol-keyword",60258),symbolMisc:(0,m.register)("symbol-misc",60259),symbolOperator:(0,m.register)("symbol-operator",60260),symbolProperty:(0,m.register)("symbol-property",60261),wrench:(0,m.register)("wrench",60261),wrenchSubaction:(0,m.register)("wrench-subaction",60261),symbolSnippet:(0,m.register)("symbol-snippet",60262),tasklist:(0,m.register)("tasklist",60263),telescope:(0,m.register)("telescope",60264),textSize:(0,m.register)("text-size",60265),threeBars:(0,m.register)("three-bars",60266),thumbsdown:(0,m.register)("thumbsdown",60267),thumbsup:(0,m.register)("thumbsup",60268),tools:(0,m.register)("tools",60269),triangleDown:(0,m.register)("triangle-down",60270),triangleLeft:(0,m.register)("triangle-left",60271),triangleRight:(0,m.register)("triangle-right",60272),triangleUp:(0,m.register)("triangle-up",60273),twitter:(0,m.register)("twitter",60274),unfold:(0,m.register)("unfold",60275),unlock:(0,m.register)("unlock",60276),unmute:(0,m.register)("unmute",60277),unverified:(0,m.register)("unverified",60278),verified:(0,m.register)("verified",60279),versions:(0,m.register)("versions",60280),vmActive:(0,m.register)("vm-active",60281),vmOutline:(0,m.register)("vm-outline",60282),vmRunning:(0,m.register)("vm-running",60283),watch:(0,m.register)("watch",60284),whitespace:(0,m.register)("whitespace",60285),wholeWord:(0,m.register)("whole-word",60286),window:(0,m.register)("window",60287),wordWrap:(0,m.register)("word-wrap",60288),zoomIn:(0,m.register)("zoom-in",60289),zoomOut:(0,m.register)("zoom-out",60290),listFilter:(0,m.register)("list-filter",60291),listFlat:(0,m.register)("list-flat",60292),listSelection:(0,m.register)("list-selection",60293),selection:(0,m.register)("selection",60293),listTree:(0,m.register)("list-tree",60294),debugBreakpointFunctionUnverified:(0,m.register)("debug-breakpoint-function-unverified",60295),debugBreakpointFunction:(0,m.register)("debug-breakpoint-function",60296),debugBreakpointFunctionDisabled:(0,m.register)("debug-breakpoint-function-disabled",60296),debugStackframeActive:(0,m.register)("debug-stackframe-active",60297),circleSmallFilled:(0,m.register)("circle-small-filled",60298),debugStackframeDot:(0,m.register)("debug-stackframe-dot",60298),terminalDecorationMark:(0,m.register)("terminal-decoration-mark",60298),debugStackframe:(0,m.register)("debug-stackframe",60299),debugStackframeFocused:(0,m.register)("debug-stackframe-focused",60299),debugBreakpointUnsupported:(0,m.register)("debug-breakpoint-unsupported",60300),symbolString:(0,m.register)("symbol-string",60301),debugReverseContinue:(0,m.register)("debug-reverse-continue",60302),debugStepBack:(0,m.register)("debug-step-back",60303),debugRestartFrame:(0,m.register)("debug-restart-frame",60304),debugAlt:(0,m.register)("debug-alt",60305),callIncoming:(0,m.register)("call-incoming",60306),callOutgoing:(0,m.register)("call-outgoing",60307),menu:(0,m.register)("menu",60308),expandAll:(0,m.register)("expand-all",60309),feedback:(0,m.register)("feedback",60310),gitPullRequestReviewer:(0,m.register)("git-pull-request-reviewer",60310),groupByRefType:(0,m.register)("group-by-ref-type",60311),ungroupByRefType:(0,m.register)("ungroup-by-ref-type",60312),account:(0,m.register)("account",60313),gitPullRequestAssignee:(0,m.register)("git-pull-request-assignee",60313),bellDot:(0,m.register)("bell-dot",60314),debugConsole:(0,m.register)("debug-console",60315),library:(0,m.register)("library",60316),output:(0,m.register)("output",60317),runAll:(0,m.register)("run-all",60318),syncIgnored:(0,m.register)("sync-ignored",60319),pinned:(0,m.register)("pinned",60320),githubInverted:(0,m.register)("github-inverted",60321),serverProcess:(0,m.register)("server-process",60322),serverEnvironment:(0,m.register)("server-environment",60323),pass:(0,m.register)("pass",60324),issueClosed:(0,m.register)("issue-closed",60324),stopCircle:(0,m.register)("stop-circle",60325),playCircle:(0,m.register)("play-circle",60326),record:(0,m.register)("record",60327),debugAltSmall:(0,m.register)("debug-alt-small",60328),vmConnect:(0,m.register)("vm-connect",60329),cloud:(0,m.register)("cloud",60330),merge:(0,m.register)("merge",60331),export:(0,m.register)("export",60332),graphLeft:(0,m.register)("graph-left",60333),magnet:(0,m.register)("magnet",60334),notebook:(0,m.register)("notebook",60335),redo:(0,m.register)("redo",60336),checkAll:(0,m.register)("check-all",60337),pinnedDirty:(0,m.register)("pinned-dirty",60338),passFilled:(0,m.register)("pass-filled",60339),circleLargeFilled:(0,m.register)("circle-large-filled",60340),circleLarge:(0,m.register)("circle-large",60341),circleLargeOutline:(0,m.register)("circle-large-outline",60341),combine:(0,m.register)("combine",60342),gather:(0,m.register)("gather",60342),table:(0,m.register)("table",60343),variableGroup:(0,m.register)("variable-group",60344),typeHierarchy:(0,m.register)("type-hierarchy",60345),typeHierarchySub:(0,m.register)("type-hierarchy-sub",60346),typeHierarchySuper:(0,m.register)("type-hierarchy-super",60347),gitPullRequestCreate:(0,m.register)("git-pull-request-create",60348),runAbove:(0,m.register)("run-above",60349),runBelow:(0,m.register)("run-below",60350),notebookTemplate:(0,m.register)("notebook-template",60351),debugRerun:(0,m.register)("debug-rerun",60352),workspaceTrusted:(0,m.register)("workspace-trusted",60353),workspaceUntrusted:(0,m.register)("workspace-untrusted",60354),workspaceUnknown:(0,m.register)("workspace-unknown",60355),terminalCmd:(0,m.register)("terminal-cmd",60356),terminalDebian:(0,m.register)("terminal-debian",60357),terminalLinux:(0,m.register)("terminal-linux",60358),terminalPowershell:(0,m.register)("terminal-powershell",60359),terminalTmux:(0,m.register)("terminal-tmux",60360),terminalUbuntu:(0,m.register)("terminal-ubuntu",60361),terminalBash:(0,m.register)("terminal-bash",60362),arrowSwap:(0,m.register)("arrow-swap",60363),copy:(0,m.register)("copy",60364),personAdd:(0,m.register)("person-add",60365),filterFilled:(0,m.register)("filter-filled",60366),wand:(0,m.register)("wand",60367),debugLineByLine:(0,m.register)("debug-line-by-line",60368),inspect:(0,m.register)("inspect",60369),layers:(0,m.register)("layers",60370),layersDot:(0,m.register)("layers-dot",60371),layersActive:(0,m.register)("layers-active",60372),compass:(0,m.register)("compass",60373),compassDot:(0,m.register)("compass-dot",60374),compassActive:(0,m.register)("compass-active",60375),azure:(0,m.register)("azure",60376),issueDraft:(0,m.register)("issue-draft",60377),gitPullRequestClosed:(0,m.register)("git-pull-request-closed",60378),gitPullRequestDraft:(0,m.register)("git-pull-request-draft",60379),debugAll:(0,m.register)("debug-all",60380),debugCoverage:(0,m.register)("debug-coverage",60381),runErrors:(0,m.register)("run-errors",60382),folderLibrary:(0,m.register)("folder-library",60383),debugContinueSmall:(0,m.register)("debug-continue-small",60384),beakerStop:(0,m.register)("beaker-stop",60385),graphLine:(0,m.register)("graph-line",60386),graphScatter:(0,m.register)("graph-scatter",60387),pieChart:(0,m.register)("pie-chart",60388),bracket:(0,m.register)("bracket",60175),bracketDot:(0,m.register)("bracket-dot",60389),bracketError:(0,m.register)("bracket-error",60390),lockSmall:(0,m.register)("lock-small",60391),azureDevops:(0,m.register)("azure-devops",60392),verifiedFilled:(0,m.register)("verified-filled",60393),newline:(0,m.register)("newline",60394),layout:(0,m.register)("layout",60395),layoutActivitybarLeft:(0,m.register)("layout-activitybar-left",60396),layoutActivitybarRight:(0,m.register)("layout-activitybar-right",60397),layoutPanelLeft:(0,m.register)("layout-panel-left",60398),layoutPanelCenter:(0,m.register)("layout-panel-center",60399),layoutPanelJustify:(0,m.register)("layout-panel-justify",60400),layoutPanelRight:(0,m.register)("layout-panel-right",60401),layoutPanel:(0,m.register)("layout-panel",60402),layoutSidebarLeft:(0,m.register)("layout-sidebar-left",60403),layoutSidebarRight:(0,m.register)("layout-sidebar-right",60404),layoutStatusbar:(0,m.register)("layout-statusbar",60405),layoutMenubar:(0,m.register)("layout-menubar",60406),layoutCentered:(0,m.register)("layout-centered",60407),target:(0,m.register)("target",60408),indent:(0,m.register)("indent",60409),recordSmall:(0,m.register)("record-small",60410),errorSmall:(0,m.register)("error-small",60411),terminalDecorationError:(0,m.register)("terminal-decoration-error",60411),arrowCircleDown:(0,m.register)("arrow-circle-down",60412),arrowCircleLeft:(0,m.register)("arrow-circle-left",60413),arrowCircleRight:(0,m.register)("arrow-circle-right",60414),arrowCircleUp:(0,m.register)("arrow-circle-up",60415),layoutSidebarRightOff:(0,m.register)("layout-sidebar-right-off",60416),layoutPanelOff:(0,m.register)("layout-panel-off",60417),layoutSidebarLeftOff:(0,m.register)("layout-sidebar-left-off",60418),blank:(0,m.register)("blank",60419),heartFilled:(0,m.register)("heart-filled",60420),map:(0,m.register)("map",60421),mapFilled:(0,m.register)("map-filled",60422),circleSmall:(0,m.register)("circle-small",60423),bellSlash:(0,m.register)("bell-slash",60424),bellSlashDot:(0,m.register)("bell-slash-dot",60425),commentUnresolved:(0,m.register)("comment-unresolved",60426),gitPullRequestGoToChanges:(0,m.register)("git-pull-request-go-to-changes",60427),gitPullRequestNewChanges:(0,m.register)("git-pull-request-new-changes",60428),searchFuzzy:(0,m.register)("search-fuzzy",60429),commentDraft:(0,m.register)("comment-draft",60430),send:(0,m.register)("send",60431),sparkle:(0,m.register)("sparkle",60432),insert:(0,m.register)("insert",60433),mic:(0,m.register)("mic",60434),thumbsdownFilled:(0,m.register)("thumbsdown-filled",60435),thumbsupFilled:(0,m.register)("thumbsup-filled",60436),coffee:(0,m.register)("coffee",60437),snake:(0,m.register)("snake",60438),game:(0,m.register)("game",60439),vr:(0,m.register)("vr",60440),chip:(0,m.register)("chip",60441),piano:(0,m.register)("piano",60442),music:(0,m.register)("music",60443),micFilled:(0,m.register)("mic-filled",60444),repoFetch:(0,m.register)("repo-fetch",60445),copilot:(0,m.register)("copilot",60446),lightbulbSparkle:(0,m.register)("lightbulb-sparkle",60447),robot:(0,m.register)("robot",60448),sparkleFilled:(0,m.register)("sparkle-filled",60449),diffSingle:(0,m.register)("diff-single",60450),diffMultiple:(0,m.register)("diff-multiple",60451),surroundWith:(0,m.register)("surround-with",60452),share:(0,m.register)("share",60453),gitStash:(0,m.register)("git-stash",60454),gitStashApply:(0,m.register)("git-stash-apply",60455),gitStashPop:(0,m.register)("git-stash-pop",60456),vscode:(0,m.register)("vscode",60457),vscodeInsiders:(0,m.register)("vscode-insiders",60458),codeOss:(0,m.register)("code-oss",60459),runCoverage:(0,m.register)("run-coverage",60460),runAllCoverage:(0,m.register)("run-all-coverage",60461),coverage:(0,m.register)("coverage",60462),githubProject:(0,m.register)("github-project",60463)}}),define(te[26],ie([1,0,183,428]),function(J,e,m,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Codicon=e.codiconsDerived=void 0,e.codiconsDerived={dialogError:(0,m.register)("dialog-error","error"),dialogWarning:(0,m.register)("dialog-warning","warning"),dialogInfo:(0,m.register)("dialog-info","info"),dialogClose:(0,m.register)("dialog-close","close"),treeItemExpanded:(0,m.register)("tree-item-expanded","chevron-down"),treeFilterOnTypeOn:(0,m.register)("tree-filter-on-type-on","list-filter"),treeFilterOnTypeOff:(0,m.register)("tree-filter-on-type-off","list-selection"),treeFilterClear:(0,m.register)("tree-filter-clear","close"),treeItemLoading:(0,m.register)("tree-item-loading","loading"),menuSelection:(0,m.register)("menu-selection","check"),menuSubmenu:(0,m.register)("menu-submenu","chevron-right"),menuBarMore:(0,m.register)("menubar-more","more"),scrollbarButtonLeft:(0,m.register)("scrollbar-button-left","triangle-left"),scrollbarButtonRight:(0,m.register)("scrollbar-button-right","triangle-right"),scrollbarButtonUp:(0,m.register)("scrollbar-button-up","triangle-up"),scrollbarButtonDown:(0,m.register)("scrollbar-button-down","triangle-down"),toolBarMore:(0,m.register)("toolbar-more","more"),quickInputBack:(0,m.register)("quick-input-back","arrow-left"),dropDownButton:(0,m.register)("drop-down-button",60084),symbolCustomColor:(0,m.register)("symbol-customcolor",60252),exportIcon:(0,m.register)("export",60332),workspaceUnspecified:(0,m.register)("workspace-unspecified",60355),newLine:(0,m.register)("newline",60394),thumbsDownFilled:(0,m.register)("thumbsdown-filled",60435),thumbsUpFilled:(0,m.register)("thumbsup-filled",60436),gitFetch:(0,m.register)("git-fetch",60445),lightbulbSparkleAutofix:(0,m.register)("lightbulb-sparkle-autofix",60447),debugBreakpointPending:(0,m.register)("debug-breakpoint-pending",60377)},e.Codicon={...k.codiconsLibrary,...e.codiconsDerived}}),define(te[55],ie([1,0,21]),function(J,e,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.deepClone=k,e.deepFreeze=D,e.cloneAndChange=y,e.mixin=w,e.equals=C,e.getAllPropertyNames=b,e.getAllMethodNames=a,e.createProxyObject=s;function k(i){if(!i||typeof i!="object"||i instanceof RegExp)return i;const t=Array.isArray(i)?[]:{};return Object.entries(i).forEach(([n,h])=>{t[n]=h&&typeof h=="object"?k(h):h}),t}function D(i){if(!i||typeof i!="object")return i;const t=[i];for(;t.length>0;){const n=t.shift();Object.freeze(n);for(const h in n)if(L.call(n,h)){const v=n[h];typeof v=="object"&&!Object.isFrozen(v)&&!(0,m.isTypedArray)(v)&&t.push(v)}}return i}const L=Object.prototype.hasOwnProperty;function y(i,t){return p(i,t,new Set)}function p(i,t,n){if((0,m.isUndefinedOrNull)(i))return i;const h=t(i);if(typeof h<"u")return h;if(Array.isArray(i)){const v=[];for(const u of i)v.push(p(u,t,n));return v}if((0,m.isObject)(i)){if(n.has(i))throw new Error("Cannot clone recursive data-structure");n.add(i);const v={};for(const u in i)L.call(i,u)&&(v[u]=p(i[u],t,n));return n.delete(i),v}return i}function w(i,t,n=!0){return(0,m.isObject)(i)?((0,m.isObject)(t)&&Object.keys(t).forEach(h=>{h in i?n&&((0,m.isObject)(i[h])&&(0,m.isObject)(t[h])?w(i[h],t[h],n):i[h]=t[h]):i[h]=t[h]}),i):t}function C(i,t){if(i===t)return!0;if(i==null||t===null||t===void 0||typeof i!=typeof t||typeof i!="object"||Array.isArray(i)!==Array.isArray(t))return!1;let n,h;if(Array.isArray(i)){if(i.length!==t.length)return!1;for(n=0;n<i.length;n++)if(!C(i[n],t[n]))return!1}else{const v=[];for(h in i)v.push(h);v.sort();const u=[];for(h in t)u.push(h);if(u.sort(),!C(v,u))return!1;for(n=0;n<v.length;n++)if(!C(i[v[n]],t[v[n]]))return!1}return!0}function b(i){let t=[];for(;Object.prototype!==i;)t=t.concat(Object.getOwnPropertyNames(i)),i=Object.getPrototypeOf(i);return t}function a(i){const t=[];for(const n of b(i))typeof i[n]=="function"&&t.push(n);return t}function s(i,t){const n=v=>function(){const u=Array.prototype.slice.call(arguments,0);return t(v,u)},h={};for(const v of i)h[v]=n(v);return h}}),define(te[30],ie([1,0,26]),function(J,e,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ThemeIcon=e.ThemeColor=void 0;var k;(function(L){function y(p){return p&&typeof p=="object"&&typeof p.id=="string"}L.isThemeColor=y})(k||(e.ThemeColor=k={}));var D;(function(L){L.iconNameSegment="[A-Za-z0-9]+",L.iconNameExpression="[A-Za-z0-9-]+",L.iconModifierExpression="~[A-Za-z]+",L.iconNameCharacter="[A-Za-z0-9~-]";const y=new RegExp(`^(${L.iconNameExpression})(${L.iconModifierExpression})?$`);function p(v){const u=y.exec(v.id);if(!u)return p(m.Codicon.error);const[,d,r]=u,l=["codicon","codicon-"+d];return r&&l.push("codicon-modifier-"+r.substring(1)),l}L.asClassNameArray=p;function w(v){return p(v).join(" ")}L.asClassName=w;function C(v){return"."+p(v).join(".")}L.asCSSSelector=C;function b(v){return v&&typeof v=="object"&&typeof v.id=="string"&&(typeof v.color>"u"||k.isThemeColor(v.color))}L.isThemeIcon=b;const a=new RegExp(`^\\$\\((${L.iconNameExpression}(?:${L.iconModifierExpression})?)\\)$`);function s(v){const u=a.exec(v);if(!u)return;const[,d]=u;return{id:d}}L.fromString=s;function i(v){return{id:v}}L.fromId=i;function t(v,u){let d=v.id;const r=d.lastIndexOf("~");return r!==-1&&(d=d.substring(0,r)),u&&(d=`${d}~${u}`),{id:d}}L.modify=t;function n(v){const u=v.id.lastIndexOf("~");if(u!==-1)return v.id.substring(u+1)}L.getModifier=n;function h(v,u){var d,r;return v.id===u.id&&((d=v.color)===null||d===void 0?void 0:d.id)===((r=u.color)===null||r===void 0?void 0:r.id)}L.isEqual=h})(D||(e.ThemeIcon=D={}))}),define(te[136],ie([1,0,76,11,30]),function(J,e,m,k,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.escapeIcons=w,e.markdownEscapeEscapedIcons=b,e.stripIcons=s,e.getCodiconAriaLabel=i,e.parseLabelWithIcons=n,e.matchesFuzzyIconAware=h;const L="$(",y=new RegExp(`\\$\\(${D.ThemeIcon.iconNameExpression}(?:${D.ThemeIcon.iconModifierExpression})?\\)`,"g"),p=new RegExp(`(\\\\)?${y.source}`,"g");function w(v){return v.replace(p,(u,d)=>d?u:`\\${u}`)}const C=new RegExp(`\\\\${y.source}`,"g");function b(v){return v.replace(C,u=>`\\${u}`)}const a=new RegExp(`(\\s)?(\\\\)?${y.source}(\\s)?`,"g");function s(v){return v.indexOf(L)===-1?v:v.replace(a,(u,d,r,l)=>r?u:d||l||"")}function i(v){return v?v.replace(/\$\((.*?)\)/g,(u,d)=>` ${d} `).trim():""}const t=new RegExp(`\\$\\(${D.ThemeIcon.iconNameCharacter}+\\)`,"g");function n(v){t.lastIndex=0;let u="";const d=[];let r=0;for(;;){const l=t.lastIndex,o=t.exec(v),g=v.substring(l,o?.index);if(g.length>0){u+=g;for(let c=0;c<g.length;c++)d.push(r)}if(!o)break;r+=o[0].length}return{text:u,iconOffsets:d}}function h(v,u,d=!1){const{text:r,iconOffsets:l}=u;if(!l||l.length===0)return(0,m.matchesFuzzy)(v,r,d);const o=(0,k.ltrim)(r," "),g=r.length-o.length,c=(0,m.matchesFuzzy)(v,o,d);if(c)for(const f of c){const _=l[f.start+g]+g;f.start+=_,f.end+=_}return c}}),define(te[184],ie([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toUint8=m,e.toUint32=k;function m(D){return D<0?0:D>255?255:D|0}function k(D){return D<0?0:D>4294967295?4294967295:D|0}}),define(te[185],ie([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.generateUuid=void 0,e.generateUuid=function(){if(typeof crypto=="object"&&typeof crypto.randomUUID=="function")return crypto.randomUUID.bind(crypto);let m;typeof crypto=="object"&&typeof crypto.getRandomValues=="function"?m=crypto.getRandomValues.bind(crypto):m=function(L){for(let y=0;y<L.length;y++)L[y]=Math.floor(Math.random()*256);return L};const k=new Uint8Array(16),D=[];for(let L=0;L<256;L++)D.push(L.toString(16).padStart(2,"0"));return function(){m(k),k[6]=k[6]&15|64,k[8]=k[8]&63|128;let y=0,p="";return p+=D[k[y++]],p+=D[k[y++]],p+=D[k[y++]],p+=D[k[y++]],p+="-",p+=D[k[y++]],p+=D[k[y++]],p+="-",p+=D[k[y++]],p+=D[k[y++]],p+="-",p+=D[k[y++]],p+=D[k[y++]],p+="-",p+=D[k[y++]],p+=D[k[y++]],p+=D[k[y++]],p+=D[k[y++]],p+=D[k[y++]],p+=D[k[y++]],p}}()}),define(te[186],ie([1,0,13,54,185]),function(J,e,m,k,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UriList=e.VSDataTransfer=void 0,e.createStringDataTransferItem=L,e.createFileDataTransferItem=y,e.matchesMimeType=C;function L(a){return{asString:async()=>a,asFile:()=>{},value:typeof a=="string"?a:void 0}}function y(a,s,i){const t={id:(0,D.generateUuid)(),name:a,uri:s,data:i};return{asString:async()=>"",asFile:()=>t,value:void 0}}class p{constructor(){this._entries=new Map}get size(){let s=0;for(const i of this._entries)s++;return s}has(s){return this._entries.has(this.toKey(s))}matches(s){const i=[...this._entries.keys()];return k.Iterable.some(this,([t,n])=>n.asFile())&&i.push("files"),b(w(s),i)}get(s){var i;return(i=this._entries.get(this.toKey(s)))===null||i===void 0?void 0:i[0]}append(s,i){const t=this._entries.get(s);t?t.push(i):this._entries.set(this.toKey(s),[i])}replace(s,i){this._entries.set(this.toKey(s),[i])}delete(s){this._entries.delete(this.toKey(s))}*[Symbol.iterator](){for(const[s,i]of this._entries)for(const t of i)yield[s,t]}toKey(s){return w(s)}}e.VSDataTransfer=p;function w(a){return a.toLowerCase()}function C(a,s){return b(w(a),s.map(w))}function b(a,s){if(a==="*/*")return s.length>0;if(s.includes(a))return!0;const i=a.match(/^([a-z]+)\/([a-z]+|\*)$/i);if(!i)return!1;const[t,n,h]=i;return h==="*"?s.some(v=>v.startsWith(n+"/")):!1}e.UriList=Object.freeze({create:a=>(0,m.distinct)(a.map(s=>s.toString())).join(`\r
`),split:a=>a.split(`\r
`),parse:a=>e.UriList.split(a).filter(s=>!s.startsWith("#"))})}),define(te[290],ie([10]),{}),define(te[429],ie([10]),{}),define(te[430],ie([10]),{}),define(te[431],ie([10]),{}),define(te[432],ie([10]),{}),define(te[187],ie([1,0,431,432]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),define(te[433],ie([10]),{}),define(te[434],ie([10]),{}),define(te[291],ie([10]),{}),define(te[292],ie([10]),{}),define(te[435],ie([10]),{}),define(te[436],ie([10]),{}),define(te[437],ie([10]),{}),define(te[438],ie([10]),{}),define(te[293],ie([10]),{}),define(te[439],ie([10]),{}),define(te[215],ie([1,0,439]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME=void 0,e.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME="monaco-mouse-cursor-text"}),define(te[440],ie([10]),{}),define(te[441],ie([10]),{}),define(te[442],ie([10]),{}),define(te[443],ie([10]),{}),define(te[444],ie([10]),{}),define(te[445],ie([10]),{}),define(te[446],ie([10]),{}),define(te[447],ie([10]),{}),define(te[448],ie([10]),{}),define(te[449],ie([10]),{}),define(te[450],ie([10]),{}),define(te[451],ie([10]),{}),define(te[452],ie([10]),{}),define(te[453],ie([10]),{}),define(te[454],ie([10]),{}),define(te[455],ie([10]),{}),define(te[456],ie([10]),{}),define(te[457],ie([10]),{}),define(te[458],ie([10]),{}),define(te[459],ie([10]),{}),define(te[460],ie([10]),{}),define(te[461],ie([10]),{}),define(te[462],ie([10]),{}),define(te[463],ie([10]),{}),define(te[464],ie([10]),{}),define(te[465],ie([10]),{}),define(te[466],ie([10]),{}),define(te[467],ie([10]),{}),define(te[468],ie([10]),{}),define(te[469],ie([10]),{}),define(te[470],ie([10]),{}),define(te[471],ie([10]),{}),define(te[472],ie([10]),{}),define(te[473],ie([10]),{}),define(te[474],ie([10]),{}),define(te[475],ie([10]),{}),define(te[476],ie([10]),{}),define(te[477],ie([10]),{}),define(te[216],ie([10]),{}),define(te[478],ie([10]),{}),define(te[479],ie([10]),{}),define(te[480],ie([10]),{}),define(te[481],ie([10]),{}),define(te[482],ie([10]),{}),define(te[483],ie([10]),{}),define(te[484],ie([10]),{}),define(te[485],ie([10]),{}),define(te[486],ie([10]),{}),define(te[487],ie([10]),{}),define(te[488],ie([10]),{}),define(te[489],ie([10]),{}),define(te[490],ie([10]),{}),define(te[491],ie([10]),{}),define(te[492],ie([10]),{}),define(te[493],ie([10]),{}),define(te[494],ie([10]),{}),define(te[495],ie([10]),{}),define(te[496],ie([10]),{}),define(te[497],ie([10]),{}),define(te[498],ie([10]),{}),define(te[499],ie([10]),{}),define(te[500],ie([10]),{}),define(te[501],ie([10]),{}),define(te[502],ie([10]),{}),define(te[503],ie([10]),{}),define(te[504],ie([10]),{}),define(te[505],ie([10]),{}),define(te[506],ie([10]),{}),define(te[507],ie([10]),{}),define(te[508],ie([10]),{}),define(te[509],ie([10]),{}),define(te[510],ie([10]),{}),define(te[294],ie([10]),{}),define(te[511],ie([10]),{}),define(te[512],ie([10]),{}),define(te[217],ie([10]),{}),define(te[513],ie([10]),{}),define(te[70],ie([1,0,40]),function(J,e,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.applyFontInfo=k;function k(D,L){D instanceof m.FastDomNode?(D.setFontFamily(L.getMassagedFontFamily()),D.setFontWeight(L.fontWeight),D.setFontSize(L.fontSize),D.setFontFeatureSettings(L.fontFeatureSettings),D.setFontVariationSettings(L.fontVariationSettings),D.setLineHeight(L.lineHeight),D.setLetterSpacing(L.letterSpacing)):(D.style.fontFamily=L.getMassagedFontFamily(),D.style.fontWeight=L.fontWeight,D.style.fontSize=L.fontSize+"px",D.style.fontFeatureSettings=L.fontFeatureSettings,D.style.fontVariationSettings=L.fontVariationSettings,D.style.lineHeight=L.lineHeight+"px",D.style.letterSpacing=L.letterSpacing+"px")}}),define(te[514],ie([1,0,70]),function(J,e,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CharWidthRequest=void 0,e.readCharWidths=L;class k{constructor(p,w){this.chr=p,this.type=w,this.width=0}fulfill(p){this.width=p}}e.CharWidthRequest=k;class D{constructor(p,w){this._bareFontInfo=p,this._requests=w,this._container=null,this._testElements=null}read(p){this._createDomElements(),p.document.body.appendChild(this._container),this._readFromDomElements(),p.document.body.removeChild(this._container),this._container=null,this._testElements=null}_createDomElements(){const p=document.createElement("div");p.style.position="absolute",p.style.top="-50000px",p.style.width="50000px";const w=document.createElement("div");(0,m.applyFontInfo)(w,this._bareFontInfo),p.appendChild(w);const C=document.createElement("div");(0,m.applyFontInfo)(C,this._bareFontInfo),C.style.fontWeight="bold",p.appendChild(C);const b=document.createElement("div");(0,m.applyFontInfo)(b,this._bareFontInfo),b.style.fontStyle="italic",p.appendChild(b);const a=[];for(const s of this._requests){let i;s.type===0&&(i=w),s.type===2&&(i=C),s.type===1&&(i=b),i.appendChild(document.createElement("br"));const t=document.createElement("span");D._render(t,s),i.appendChild(t),a.push(t)}this._container=p,this._testElements=a}static _render(p,w){if(w.chr===" "){let C="\xA0";for(let b=0;b<8;b++)C+=C;p.innerText=C}else{let C=w.chr;for(let b=0;b<8;b++)C+=C;p.textContent=C}}_readFromDomElements(){for(let p=0,w=this._requests.length;p<w;p++){const C=this._requests[p],b=this._testElements[p];C.fulfill(b.offsetWidth/256)}}}function L(y,p,w){new D(p,w).read(y)}}),define(te[515],ie([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorSettingMigration=void 0,e.migrateOptions=L;class m{constructor(w,C){this.key=w,this.migrate=C}apply(w){const C=m._read(w,this.key),b=s=>m._read(w,s),a=(s,i)=>m._write(w,s,i);this.migrate(C,b,a)}static _read(w,C){if(typeof w>"u")return;const b=C.indexOf(".");if(b>=0){const a=C.substring(0,b);return this._read(w[a],C.substring(b+1))}return w[C]}static _write(w,C,b){const a=C.indexOf(".");if(a>=0){const s=C.substring(0,a);w[s]=w[s]||{},this._write(w[s],C.substring(a+1),b);return}w[C]=b}}e.EditorSettingMigration=m,m.items=[];function k(p,w){m.items.push(new m(p,w))}function D(p,w){k(p,(C,b,a)=>{if(typeof C<"u"){for(const[s,i]of w)if(C===s){a(p,i);return}}})}function L(p){m.items.forEach(w=>w.apply(p))}D("wordWrap",[[!0,"on"],[!1,"off"]]),D("lineNumbers",[[!0,"on"],[!1,"off"]]),D("cursorBlinking",[["visible","solid"]]),D("renderWhitespace",[[!0,"boundary"],[!1,"none"]]),D("renderLineHighlight",[[!0,"line"],[!1,"none"]]),D("acceptSuggestionOnEnter",[[!0,"on"],[!1,"off"]]),D("tabCompletion",[[!1,"off"],[!0,"onlySnippets"]]),D("hover",[[!0,{enabled:!0}],[!1,{enabled:!1}]]),D("parameterHints",[[!0,{enabled:!0}],[!1,{enabled:!1}]]),D("autoIndent",[[!1,"advanced"],[!0,"full"]]),D("matchBrackets",[[!0,"always"],[!1,"never"]]),D("renderFinalNewline",[[!0,"on"],[!1,"off"]]),D("cursorSmoothCaretAnimation",[[!0,"on"],[!1,"off"]]),D("occurrencesHighlight",[[!0,"singleFile"],[!1,"off"]]),D("wordBasedSuggestions",[[!0,"matchingDocuments"],[!1,"off"]]),k("autoClosingBrackets",(p,w,C)=>{p===!1&&(C("autoClosingBrackets","never"),typeof w("autoClosingQuotes")>"u"&&C("autoClosingQuotes","never"),typeof w("autoSurround")>"u"&&C("autoSurround","never"))}),k("renderIndentGuides",(p,w,C)=>{typeof p<"u"&&(C("renderIndentGuides",void 0),typeof w("guides.indentation")>"u"&&C("guides.indentation",!!p))}),k("highlightActiveIndentGuide",(p,w,C)=>{typeof p<"u"&&(C("highlightActiveIndentGuide",void 0),typeof w("guides.highlightActiveIndentation")>"u"&&C("guides.highlightActiveIndentation",!!p))});const y={method:"showMethods",function:"showFunctions",constructor:"showConstructors",deprecated:"showDeprecated",field:"showFields",variable:"showVariables",class:"showClasses",struct:"showStructs",interface:"showInterfaces",module:"showModules",property:"showProperties",event:"showEvents",operator:"showOperators",unit:"showUnits",value:"showValues",constant:"showConstants",enum:"showEnums",enumMember:"showEnumMembers",keyword:"showKeywords",text:"showWords",color:"showColors",file:"showFiles",reference:"showReferences",folder:"showFolders",typeParameter:"showTypeParameters",snippet:"showSnippets"};k("suggest.filteredTypes",(p,w,C)=>{if(p&&typeof p=="object"){for(const b of Object.entries(y))p[b[0]]===!1&&typeof w(`suggest.${b[1]}`)>"u"&&C(`suggest.${b[1]}`,!1);C("suggest.filteredTypes",void 0)}}),k("quickSuggestions",(p,w,C)=>{if(typeof p=="boolean"){const b=p?"on":"off";C("quickSuggestions",{comments:b,strings:b,other:b})}}),k("experimental.stickyScroll.enabled",(p,w,C)=>{typeof p=="boolean"&&(C("experimental.stickyScroll.enabled",void 0),typeof w("stickyScroll.enabled")>"u"&&C("stickyScroll.enabled",p))}),k("experimental.stickyScroll.maxLineCount",(p,w,C)=>{typeof p=="number"&&(C("experimental.stickyScroll.maxLineCount",void 0),typeof w("stickyScroll.maxLineCount")>"u"&&C("stickyScroll.maxLineCount",p))}),k("codeActionsOnSave",(p,w,C)=>{if(p&&typeof p=="object"){let b=!1;const a={};for(const s of Object.entries(p))typeof s[1]=="boolean"?(b=!0,a[s[0]]=s[1]?"explicit":"never"):a[s[0]]=s[1];b&&C("codeActionsOnSave",a)}}),k("codeActionWidget.includeNearbyQuickfixes",(p,w,C)=>{typeof p=="boolean"&&(C("codeActionWidget.includeNearbyQuickfixes",void 0),typeof w("codeActionWidget.includeNearbyQuickFixes")>"u"&&C("codeActionWidget.includeNearbyQuickFixes",p))}),k("lightbulb.enabled",(p,w,C)=>{typeof p=="boolean"&&C("lightbulb.enabled",p?void 0:"off")})}),define(te[218],ie([1,0,7]),function(J,e,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TabFocus=void 0;class k{constructor(){this._tabFocus=!1,this._onDidChangeTabFocus=new m.Emitter,this.onDidChangeTabFocus=this._onDidChangeTabFocus.event}getTabFocusMode(){return this._tabFocus}setTabFocusMode(L){this._tabFocus=L,this._onDidChangeTabFocus.fire(this._tabFocus)}}e.TabFocus=new k}),define(te[137],ie([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StableEditorScrollState=void 0;class m{static capture(D){if(D.getScrollTop()===0||D.hasPendingScrollAnimation())return new m(D.getScrollTop(),D.getContentHeight(),null,0,null);let L=null,y=0;const p=D.getVisibleRanges();if(p.length>0){L=p[0].getStartPosition();const w=D.getTopForPosition(L.lineNumber,L.column);y=D.getScrollTop()-w}return new m(D.getScrollTop(),D.getContentHeight(),L,y,D.getPosition())}constructor(D,L,y,p,w){this._initialScrollTop=D,this._initialContentHeight=L,this._visiblePosition=y,this._visiblePositionScrollDelta=p,this._cursorPosition=w}restore(D){if(!(this._initialContentHeight===D.getContentHeight()&&this._initialScrollTop===D.getScrollTop())&&this._visiblePosition){const L=D.getTopForPosition(this._visiblePosition.lineNumber,this._visiblePosition.column);D.setScrollTop(L+this._visiblePositionScrollDelta)}}restoreRelativeVerticalPositionOfCursor(D){if(this._initialContentHeight===D.getContentHeight()&&this._initialScrollTop===D.getScrollTop())return;const L=D.getPosition();if(!this._cursorPosition||!L)return;const y=D.getTopForLineNumber(L.lineNumber)-D.getTopForLineNumber(this._cursorPosition.lineNumber);D.setScrollTop(D.getScrollTop()+y)}}e.StableEditorScrollState=m}),define(te[157],ie([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VisibleRanges=e.HorizontalPosition=e.FloatHorizontalRange=e.HorizontalRange=e.LineVisibleRanges=e.RenderingContext=e.RestrictedRenderingContext=void 0;class m{constructor(b,a){this._restrictedRenderingContextBrand=void 0,this._viewLayout=b,this.viewportData=a,this.scrollWidth=this._viewLayout.getScrollWidth(),this.scrollHeight=this._viewLayout.getScrollHeight(),this.visibleRange=this.viewportData.visibleRange,this.bigNumbersDelta=this.viewportData.bigNumbersDelta;const s=this._viewLayout.getCurrentViewport();this.scrollTop=s.top,this.scrollLeft=s.left,this.viewportWidth=s.width,this.viewportHeight=s.height}getScrolledTopFromAbsoluteTop(b){return b-this.scrollTop}getVerticalOffsetForLineNumber(b,a){return this._viewLayout.getVerticalOffsetForLineNumber(b,a)}getVerticalOffsetAfterLineNumber(b,a){return this._viewLayout.getVerticalOffsetAfterLineNumber(b,a)}getDecorationsInViewport(){return this.viewportData.getDecorationsInViewport()}}e.RestrictedRenderingContext=m;class k extends m{constructor(b,a,s){super(b,a),this._renderingContextBrand=void 0,this._viewLines=s}linesVisibleRangesForRange(b,a){return this._viewLines.linesVisibleRangesForRange(b,a)}visibleRangeForPosition(b){return this._viewLines.visibleRangeForPosition(b)}}e.RenderingContext=k;class D{constructor(b,a,s,i){this.outsideRenderedLine=b,this.lineNumber=a,this.ranges=s,this.continuesOnNextLine=i}}e.LineVisibleRanges=D;class L{static from(b){const a=new Array(b.length);for(let s=0,i=b.length;s<i;s++){const t=b[s];a[s]=new L(t.left,t.width)}return a}constructor(b,a){this._horizontalRangeBrand=void 0,this.left=Math.round(b),this.width=Math.round(a)}toString(){return`[${this.left},${this.width}]`}}e.HorizontalRange=L;class y{constructor(b,a){this._floatHorizontalRangeBrand=void 0,this.left=b,this.width=a}toString(){return`[${this.left},${this.width}]`}static compare(b,a){return b.left-a.left}}e.FloatHorizontalRange=y;class p{constructor(b,a){this.outsideRenderedLine=b,this.originalLeft=a,this.left=Math.round(this.originalLeft)}}e.HorizontalPosition=p;class w{constructor(b,a){this.outsideRenderedLine=b,this.ranges=a}}e.VisibleRanges=w}),define(te[516],ie([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DomReadingContext=void 0;class m{get didDomLayout(){return this._didDomLayout}readClientRect(){if(!this._clientRectRead){this._clientRectRead=!0;const D=this._domNode.getBoundingClientRect();this.markDidDomLayout(),this._clientRectDeltaLeft=D.left,this._clientRectScale=D.width/this._domNode.offsetWidth}}get clientRectDeltaLeft(){return this._clientRectRead||this.readClientRect(),this._clientRectDeltaLeft}get clientRectScale(){return this._clientRectRead||this.readClientRect(),this._clientRectScale}constructor(D,L){this._domNode=D,this.endNode=L,this._didDomLayout=!1,this._clientRectDeltaLeft=0,this._clientRectScale=1,this._clientRectRead=!1}markDidDomLayout(){this._didDomLayout=!0}}e.DomReadingContext=m}),define(te[517],ie([1,0,157]),function(J,e,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RangeUtil=void 0;class k{static _createRange(){return this._handyReadyRange||(this._handyReadyRange=document.createRange()),this._handyReadyRange}static _detachRange(L,y){L.selectNodeContents(y)}static _readClientRects(L,y,p,w,C){const b=this._createRange();try{return b.setStart(L,y),b.setEnd(p,w),b.getClientRects()}catch{return null}finally{this._detachRange(b,C)}}static _mergeAdjacentRanges(L){if(L.length===1)return L;L.sort(m.FloatHorizontalRange.compare);const y=[];let p=0,w=L[0];for(let C=1,b=L.length;C<b;C++){const a=L[C];w.left+w.width+.9>=a.left?w.width=Math.max(w.width,a.left+a.width-w.left):(y[p++]=w,w=a)}return y[p++]=w,y}static _createHorizontalRangesFromClientRects(L,y,p){if(!L||L.length===0)return null;const w=[];for(let C=0,b=L.length;C<b;C++){const a=L[C];w[C]=new m.FloatHorizontalRange(Math.max(0,(a.left-y)/p),a.width/p)}return this._mergeAdjacentRanges(w)}static readHorizontalRanges(L,y,p,w,C,b){const s=L.children.length-1;if(0>s)return null;if(y=Math.min(s,Math.max(0,y)),w=Math.min(s,Math.max(0,w)),y===w&&p===C&&p===0&&!L.children[y].firstChild){const h=L.children[y].getClientRects();return b.markDidDomLayout(),this._createHorizontalRangesFromClientRects(h,b.clientRectDeltaLeft,b.clientRectScale)}y!==w&&w>0&&C===0&&(w--,C=1073741824);let i=L.children[y].firstChild,t=L.children[w].firstChild;if((!i||!t)&&(!i&&p===0&&y>0&&(i=L.children[y-1].firstChild,p=1073741824),!t&&C===0&&w>0&&(t=L.children[w-1].firstChild,C=1073741824)),!i||!t)return null;p=Math.min(i.textContent.length,Math.max(0,p)),C=Math.min(t.textContent.length,Math.max(0,C));const n=this._readClientRects(i,p,t,C,b.endNode);return b.markDidDomLayout(),this._createHorizontalRangesFromClientRects(n,b.clientRectDeltaLeft,b.clientRectScale)}}e.RangeUtil=k}),define(te[295],ie([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getCharIndex=e.allCharCodes=void 0,e.allCharCodes=(()=>{const k=[];for(let D=32;D<=126;D++)k.push(D);return k.push(65533),k})();const m=(k,D)=>(k-=32,k<0||k>96?D<=2?(k+96)%96:95:k);e.getCharIndex=m}),define(te[518],ie([1,0,295,184]),function(J,e,m,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MinimapCharRenderer=void 0;class D{constructor(y,p){this.scale=p,this._minimapCharRendererBrand=void 0,this.charDataNormal=D.soften(y,12/15),this.charDataLight=D.soften(y,50/60)}static soften(y,p){const w=new Uint8ClampedArray(y.length);for(let C=0,b=y.length;C<b;C++)w[C]=(0,k.toUint8)(y[C]*p);return w}renderChar(y,p,w,C,b,a,s,i,t,n,h){const v=1*this.scale,u=2*this.scale,d=h?1:u;if(p+v>y.width||w+d>y.height){console.warn("bad render request outside image data");return}const r=n?this.charDataLight:this.charDataNormal,l=(0,m.getCharIndex)(C,t),o=y.width*4,g=s.r,c=s.g,f=s.b,_=b.r-g,S=b.g-c,I=b.b-f,E=Math.max(a,i),T=y.data;let N=l*v*u,A=w*o+p*4;for(let O=0;O<d;O++){let M=A;for(let P=0;P<v;P++){const x=r[N++]/255*(a/255);T[M++]=g+_*x,T[M++]=c+S*x,T[M++]=f+I*x,T[M++]=E}A+=o}}blockRenderChar(y,p,w,C,b,a,s,i){const t=1*this.scale,n=2*this.scale,h=i?1:n;if(p+t>y.width||w+h>y.height){console.warn("bad render request outside image data");return}const v=y.width*4,u=.5*(b/255),d=a.r,r=a.g,l=a.b,o=C.r-d,g=C.g-r,c=C.b-l,f=d+o*u,_=r+g*u,S=l+c*u,I=Math.max(b,s),E=y.data;let T=w*v+p*4;for(let N=0;N<h;N++){let A=T;for(let O=0;O<t;O++)E[A++]=f,E[A++]=_,E[A++]=S,E[A++]=I;T+=v}}}e.MinimapCharRenderer=D}),define(te[519],ie([1,0,119]),function(J,e,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.prebakedMiniMaps=void 0;const k={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15},D=L=>{const y=new Uint8ClampedArray(L.length/2);for(let p=0;p<L.length;p+=2)y[p>>1]=k[L[p]]<<4|k[L[p+1]]&15;return y};e.prebakedMiniMaps={1:(0,m.createSingleCallFunction)(()=>D("0000511D6300CF609C709645A78432005642574171487021003C451900274D35D762755E8B629C5BA856AF57BA649530C167D1512A272A3F6038604460398526BCA2A968DB6F8957C768BE5FBE2FB467CF5D8D5B795DC7625B5DFF50DE64C466DB2FC47CD860A65E9A2EB96CB54CE06DA763AB2EA26860524D3763536601005116008177A8705E53AB738E6A982F88BAA35B5F5B626D9C636B449B737E5B7B678598869A662F6B5B8542706C704C80736A607578685B70594A49715A4522E792")),2:(0,m.createSingleCallFunction)(()=>D("000000000000000055394F383D2800008B8B1F210002000081B1CBCBCC820000847AAF6B9AAF2119BE08B8881AD60000A44FD07DCCF107015338130C00000000385972265F390B406E2437634B4B48031B12B8A0847000001E15B29A402F0000000000004B33460B00007A752C2A0000000000004D3900000084394B82013400ABA5CFC7AD9C0302A45A3E5A98AB000089A43382D97900008BA54AA087A70A0248A6A7AE6DBE0000BF6F94987EA40A01A06DCFA7A7A9030496C32F77891D0000A99FB1A0AFA80603B29AB9CA75930D010C0948354D3900000C0948354F37460D0028BE673D8400000000AF9D7B6E00002B007AA8933400007AA642675C2700007984CFB9C3985B768772A8A6B7B20000CAAECAAFC4B700009F94A6009F840009D09F9BA4CA9C0000CC8FC76DC87F0000C991C472A2000000A894A48CA7B501079BA2C9C69BA20000B19A5D3FA89000005CA6009DA2960901B0A7F0669FB200009D009E00B7890000DAD0F5D092820000D294D4C48BD10000B5A7A4A3B1A50402CAB6CBA6A2000000B5A7A4A3B1A8044FCDADD19D9CB00000B7778F7B8AAE0803C9AB5D3F5D3F00009EA09EA0BAB006039EA0989A8C7900009B9EF4D6B7C00000A9A7816CACA80000ABAC84705D3F000096DA635CDC8C00006F486F266F263D4784006124097B00374F6D2D6D2D6D4A3A95872322000000030000000000008D8939130000000000002E22A5C9CBC70600AB25C0B5C9B400061A2DB04CA67001082AA6BEBEBFC606002321DACBC19E03087AA08B6768380000282FBAC0B8CA7A88AD25BBA5A29900004C396C5894A6000040485A6E356E9442A32CD17EADA70000B4237923628600003E2DE9C1D7B500002F25BBA5A2990000231DB6AFB4A804023025C0B5CAB588062B2CBDBEC0C706882435A75CA20000002326BD6A82A908048B4B9A5A668000002423A09CB4BB060025259C9D8A7900001C1FCAB2C7C700002A2A9387ABA200002626A4A47D6E9D14333163A0C87500004B6F9C2D643A257049364936493647358A34438355497F1A0000A24C1D590000D38DFFBDD4CD3126"))}}),define(te[520],ie([1,0,518,295,519,184]),function(J,e,m,k,D,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MinimapCharRendererFactory=void 0;class y{static create(w,C){if(this.lastCreated&&w===this.lastCreated.scale&&C===this.lastFontFamily)return this.lastCreated;let b;return D.prebakedMiniMaps[w]?b=new m.MinimapCharRenderer(D.prebakedMiniMaps[w](),w):b=y.createFromSampleData(y.createSampleData(C).data,w),this.lastFontFamily=C,this.lastCreated=b,b}static createSampleData(w){const C=document.createElement("canvas"),b=C.getContext("2d");C.style.height="16px",C.height=16,C.width=96*10,C.style.width=96*10+"px",b.fillStyle="#ffffff",b.font=`bold 16px ${w}`,b.textBaseline="middle";let a=0;for(const s of k.allCharCodes)b.fillText(String.fromCharCode(s),a,16/2),a+=10;return b.getImageData(0,0,96*10,16)}static createFromSampleData(w,C){if(w.length!==61440)throw new Error("Unexpected source in MinimapCharRenderer");const a=y._downsample(w,C);return new m.MinimapCharRenderer(a,C)}static _downsampleChar(w,C,b,a,s){const i=1*s,t=2*s;let n=a,h=0;for(let v=0;v<t;v++){const u=v/t*16,d=(v+1)/t*16;for(let r=0;r<i;r++){const l=r/i*10,o=(r+1)/i*10;let g=0,c=0;for(let _=u;_<d;_++){const S=C+Math.floor(_)*3840,I=1-(_-Math.floor(_));for(let E=l;E<o;E++){const T=1-(E-Math.floor(E)),N=S+Math.floor(E)*4,A=T*I;c+=A,g+=w[N]*w[N+3]/255*A}}const f=g/c;h=Math.max(h,f),b[n++]=(0,L.toUint8)(f)}}return h}static _downsample(w,C){const b=2*C*1*C,a=b*96,s=new Uint8ClampedArray(a);let i=0,t=0,n=0;for(let h=0;h<96;h++)n=Math.max(n,this._downsampleChar(w,t,s,i,C)),i+=b,t+=10*4;if(n>0){const h=255/n;for(let v=0;v<a;v++)s[v]*=h}return s}}e.MinimapCharRendererFactory=y}),define(te[521],ie([1,0,7,2]),function(J,e,m,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DelegatingEditor=void 0;class D extends k.Disposable{constructor(){super(...arguments),this._id=++D.idCounter,this._onDidDispose=this._register(new m.Emitter),this.onDidDispose=this._onDidDispose.event}getId(){return this.getEditorType()+":v2:"+this._id}getVisibleColumnFromPosition(y){return this._targetEditor.getVisibleColumnFromPosition(y)}getPosition(){return this._targetEditor.getPosition()}setPosition(y,p="api"){this._targetEditor.setPosition(y,p)}revealLine(y,p=0){this._targetEditor.revealLine(y,p)}revealLineInCenter(y,p=0){this._targetEditor.revealLineInCenter(y,p)}revealLineInCenterIfOutsideViewport(y,p=0){this._targetEditor.revealLineInCenterIfOutsideViewport(y,p)}revealLineNearTop(y,p=0){this._targetEditor.revealLineNearTop(y,p)}revealPosition(y,p=0){this._targetEditor.revealPosition(y,p)}revealPositionInCenter(y,p=0){this._targetEditor.revealPositionInCenter(y,p)}revealPositionInCenterIfOutsideViewport(y,p=0){this._targetEditor.revealPositionInCenterIfOutsideViewport(y,p)}revealPositionNearTop(y,p=0){this._targetEditor.revealPositionNearTop(y,p)}getSelection(){return this._targetEditor.getSelection()}getSelections(){return this._targetEditor.getSelections()}setSelection(y,p="api"){this._targetEditor.setSelection(y,p)}setSelections(y,p="api"){this._targetEditor.setSelections(y,p)}revealLines(y,p,w=0){this._targetEditor.revealLines(y,p,w)}revealLinesInCenter(y,p,w=0){this._targetEditor.revealLinesInCenter(y,p,w)}revealLinesInCenterIfOutsideViewport(y,p,w=0){this._targetEditor.revealLinesInCenterIfOutsideViewport(y,p,w)}revealLinesNearTop(y,p,w=0){this._targetEditor.revealLinesNearTop(y,p,w)}revealRange(y,p=0,w=!1,C=!0){this._targetEditor.revealRange(y,p,w,C)}revealRangeInCenter(y,p=0){this._targetEditor.revealRangeInCenter(y,p)}revealRangeInCenterIfOutsideViewport(y,p=0){this._targetEditor.revealRangeInCenterIfOutsideViewport(y,p)}revealRangeNearTop(y,p=0){this._targetEditor.revealRangeNearTop(y,p)}revealRangeNearTopIfOutsideViewport(y,p=0){this._targetEditor.revealRangeNearTopIfOutsideViewport(y,p)}revealRangeAtTop(y,p=0){this._targetEditor.revealRangeAtTop(y,p)}getSupportedActions(){return this._targetEditor.getSupportedActions()}focus(){this._targetEditor.focus()}trigger(y,p,w){this._targetEditor.trigger(y,p,w)}createDecorationsCollection(y){return this._targetEditor.createDecorationsCollection(y)}changeDecorations(y){return this._targetEditor.changeDecorations(y)}}e.DelegatingEditor=D,D.idCounter=0}),define(te[522],ie([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ObjectPool=void 0;class m{constructor(D){this._create=D,this._unused=new Set,this._used=new Set,this._itemData=new Map}getUnusedObj(D){var L;let y;if(this._unused.size===0)y=this._create(D),this._itemData.set(y,D);else{const p=[...this._unused.values()];y=(L=p.find(w=>this._itemData.get(w).getId()===D.getId()))!==null&&L!==void 0?L:p[0],this._unused.delete(y),this._itemData.set(y,D),y.setData(D)}return this._used.add(y),{object:y,dispose:()=>{this._used.delete(y),this._unused.size>5?y.dispose():this._unused.add(y)}}}dispose(){for(const D of this._used)D.dispose();for(const D of this._unused)D.dispose();this._used.clear(),this._unused.clear()}}e.ObjectPool=m}),define(te[296],ie([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.diffEditorDefaultOptions=void 0,e.diffEditorDefaultOptions={enableSplitViewResizing:!0,splitViewDefaultRatio:.5,renderSideBySide:!0,renderMarginRevertIcon:!0,renderGutterMenu:!0,maxComputationTime:5e3,maxFileSize:50,ignoreTrimWhitespace:!0,renderIndicators:!0,originalEditable:!1,diffCodeLens:!1,renderOverviewRuler:!0,diffWordWrap:"inherit",diffAlgorithm:"advanced",accessibilityVerbose:!1,experimental:{showMoves:!1,showEmptyDecorations:!0},hideUnchangedRegions:{enabled:!1,contextLineCount:3,minimumLineCount:3,revealLineCount:20},isInEmbeddedEditor:!1,onlyShowAccessibleDiffViewer:!1,renderSideBySideInlineBreakpoint:900,useInlineViewWhenSpaceIsLimited:!0}}),define(te[158],ie([1,0,7]),function(J,e,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorZoom=void 0,e.EditorZoom=new class{constructor(){this._zoomLevel=0,this._onDidChangeZoomLevel=new m.Emitter,this.onDidChangeZoomLevel=this._onDidChangeZoomLevel.event}getZoomLevel(){return this._zoomLevel}setZoomLevel(k){k=Math.min(Math.max(-5,k),20),this._zoomLevel!==k&&(this._zoomLevel=k,this._onDidChangeZoomLevel.fire(this._zoomLevel))}}}),define(te[138],ie([1,0,184]),function(J,e,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CharacterSet=e.CharacterClassifier=void 0;class k{constructor(y){const p=(0,m.toUint8)(y);this._defaultValue=p,this._asciiMap=k._createAsciiMap(p),this._map=new Map}static _createAsciiMap(y){const p=new Uint8Array(256);return p.fill(y),p}set(y,p){const w=(0,m.toUint8)(p);y>=0&&y<256?this._asciiMap[y]=w:this._map.set(y,w)}get(y){return y>=0&&y<256?this._asciiMap[y]:this._map.get(y)||this._defaultValue}clear(){this._asciiMap.fill(this._defaultValue),this._map.clear()}}e.CharacterClassifier=k;class D{constructor(){this._actual=new k(0)}add(y){this._actual.set(y,1)}has(y){return this._actual.get(y)===1}clear(){return this._actual.clear()}}e.CharacterSet=D}),define(te[89],ie([1,0,11]),function(J,e,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorColumns=void 0;class k{static _nextVisibleColumn(L,y,p){return L===9?k.nextRenderTabStop(y,p):m.isFullWidthCharacter(L)||m.isEmojiImprecise(L)?y+2:y+1}static visibleColumnFromColumn(L,y,p){const w=Math.min(y-1,L.length),C=L.substring(0,w),b=new m.GraphemeIterator(C);let a=0;for(;!b.eol();){const s=m.getNextCodePoint(C,w,b.offset);b.nextGraphemeLength(),a=this._nextVisibleColumn(s,a,p)}return a}static columnFromVisibleColumn(L,y,p){if(y<=0)return 1;const w=L.length,C=new m.GraphemeIterator(L);let b=0,a=1;for(;!C.eol();){const s=m.getNextCodePoint(L,w,C.offset);C.nextGraphemeLength();const i=this._nextVisibleColumn(s,b,p),t=C.offset+1;if(i>=y){const n=y-b;return i-y<n?t:a}b=i,a=t}return w+1}static nextRenderTabStop(L,y){return L+y-L%y}static nextIndentTabStop(L,y){return L+y-L%y}static prevRenderTabStop(L,y){return Math.max(0,L-1-(L-1)%y)}static prevIndentTabStop(L,y){return Math.max(0,L-1-(L-1)%y)}}e.CursorColumns=k}),define(te[139],ie([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.countEOL=m;function m(k){let D=0,L=0,y=0,p=0;for(let w=0,C=k.length;w<C;w++){const b=k.charCodeAt(w);b===13?(D===0&&(L=w),D++,w+1<C&&k.charCodeAt(w+1)===10?(p|=2,w++):p|=3,y=w+1):b===10&&(p|=1,D===0&&(L=w),D++,y=w+1)}return D===0&&(L=k.length),[D,L,k.length-y,p]}}),define(te[219],ie([1,0,11,89]),function(J,e,m,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.normalizeIndentation=L;function D(y,p,w){let C=0;for(let a=0;a<y.length;a++)y.charAt(a)==="	"?C=k.CursorColumns.nextIndentTabStop(C,p):C++;let b="";if(!w){const a=Math.floor(C/p);C=C%p;for(let s=0;s<a;s++)b+="	"}for(let a=0;a<C;a++)b+=" ";return b}function L(y,p,w){let C=m.firstNonWhitespaceIndex(y);return C===-1&&(C=y.length),D(y.substring(0,C),p,w)+y.substring(C)}}),define(te[64],ie([1,0,12]),function(J,e,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OffsetRangeSet=e.OffsetRange=void 0;class k{static addRange(y,p){let w=0;for(;w<p.length&&p[w].endExclusive<y.start;)w++;let C=w;for(;C<p.length&&p[C].start<=y.endExclusive;)C++;if(w===C)p.splice(w,0,y);else{const b=Math.min(y.start,p[w].start),a=Math.max(y.endExclusive,p[C-1].endExclusive);p.splice(w,C-w,new k(b,a))}}static tryCreate(y,p){if(!(y>p))return new k(y,p)}static ofLength(y){return new k(0,y)}static ofStartAndLength(y,p){return new k(y,y+p)}constructor(y,p){if(this.start=y,this.endExclusive=p,y>p)throw new m.BugIndicatingError(`Invalid range: ${this.toString()}`)}get isEmpty(){return this.start===this.endExclusive}delta(y){return new k(this.start+y,this.endExclusive+y)}deltaStart(y){return new k(this.start+y,this.endExclusive)}deltaEnd(y){return new k(this.start,this.endExclusive+y)}get length(){return this.endExclusive-this.start}toString(){return`[${this.start}, ${this.endExclusive})`}contains(y){return this.start<=y&&y<this.endExclusive}join(y){return new k(Math.min(this.start,y.start),Math.max(this.endExclusive,y.endExclusive))}intersect(y){const p=Math.max(this.start,y.start),w=Math.min(this.endExclusive,y.endExclusive);if(p<=w)return new k(p,w)}intersects(y){const p=Math.max(this.start,y.start),w=Math.min(this.endExclusive,y.endExclusive);return p<w}isBefore(y){return this.endExclusive<=y.start}isAfter(y){return this.start>=y.endExclusive}slice(y){return y.slice(this.start,this.endExclusive)}substring(y){return y.substring(this.start,this.endExclusive)}clip(y){if(this.isEmpty)throw new m.BugIndicatingError(`Invalid clipping range: ${this.toString()}`);return Math.max(this.start,Math.min(this.endExclusive-1,y))}clipCyclic(y){if(this.isEmpty)throw new m.BugIndicatingError(`Invalid clipping range: ${this.toString()}`);return y<this.start?this.endExclusive-(this.start-y)%this.length:y>=this.endExclusive?this.start+(y-this.start)%this.length:y}forEach(y){for(let p=this.start;p<this.endExclusive;p++)y(p)}}e.OffsetRange=k;class D{constructor(){this._sortedRanges=[]}addRange(y){let p=0;for(;p<this._sortedRanges.length&&this._sortedRanges[p].endExclusive<y.start;)p++;let w=p;for(;w<this._sortedRanges.length&&this._sortedRanges[w].start<=y.endExclusive;)w++;if(p===w)this._sortedRanges.splice(p,0,y);else{const C=Math.min(y.start,this._sortedRanges[p].start),b=Math.max(y.endExclusive,this._sortedRanges[w-1].endExclusive);this._sortedRanges.splice(p,w-p,new k(C,b))}}toString(){return this._sortedRanges.map(y=>y.toString()).join(", ")}intersectsStrict(y){let p=0;for(;p<this._sortedRanges.length&&this._sortedRanges[p].endExclusive<=y.start;)p++;return p<this._sortedRanges.length&&this._sortedRanges[p].start<y.endExclusive}intersectWithRange(y){const p=new D;for(const w of this._sortedRanges){const C=w.intersect(y);C&&p.addRange(C)}return p}intersectWithRangeLength(y){return this.intersectWithRange(y).length}get length(){return this._sortedRanges.reduce((y,p)=>y+p.length,0)}}e.OffsetRangeSet=D}),define(te[9],ie([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Position=void 0;class m{constructor(D,L){this.lineNumber=D,this.column=L}with(D=this.lineNumber,L=this.column){return D===this.lineNumber&&L===this.column?this:new m(D,L)}delta(D=0,L=0){return this.with(this.lineNumber+D,this.column+L)}equals(D){return m.equals(this,D)}static equals(D,L){return!D&&!L?!0:!!D&&!!L&&D.lineNumber===L.lineNumber&&D.column===L.column}isBefore(D){return m.isBefore(this,D)}static isBefore(D,L){return D.lineNumber<L.lineNumber?!0:L.lineNumber<D.lineNumber?!1:D.column<L.column}isBeforeOrEqual(D){return m.isBeforeOrEqual(this,D)}static isBeforeOrEqual(D,L){return D.lineNumber<L.lineNumber?!0:L.lineNumber<D.lineNumber?!1:D.column<=L.column}static compare(D,L){const y=D.lineNumber|0,p=L.lineNumber|0;if(y===p){const w=D.column|0,C=L.column|0;return w-C}return y-p}clone(){return new m(this.lineNumber,this.column)}toString(){return"("+this.lineNumber+","+this.column+")"}static lift(D){return new m(D.lineNumber,D.column)}static isIPosition(D){return D&&typeof D.lineNumber=="number"&&typeof D.column=="number"}toJSON(){return{lineNumber:this.lineNumber,column:this.column}}}e.Position=m}),define(te[297],ie([1,0,9]),function(J,e,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewUserInputEvents=void 0;class k{constructor(L){this.onKeyDown=null,this.onKeyUp=null,this.onContextMenu=null,this.onMouseMove=null,this.onMouseLeave=null,this.onMouseDown=null,this.onMouseUp=null,this.onMouseDrag=null,this.onMouseDrop=null,this.onMouseDropCanceled=null,this.onMouseWheel=null,this._coordinatesConverter=L}emitKeyDown(L){var y;(y=this.onKeyDown)===null||y===void 0||y.call(this,L)}emitKeyUp(L){var y;(y=this.onKeyUp)===null||y===void 0||y.call(this,L)}emitContextMenu(L){var y;(y=this.onContextMenu)===null||y===void 0||y.call(this,this._convertViewToModelMouseEvent(L))}emitMouseMove(L){var y;(y=this.onMouseMove)===null||y===void 0||y.call(this,this._convertViewToModelMouseEvent(L))}emitMouseLeave(L){var y;(y=this.onMouseLeave)===null||y===void 0||y.call(this,this._convertViewToModelMouseEvent(L))}emitMouseDown(L){var y;(y=this.onMouseDown)===null||y===void 0||y.call(this,this._convertViewToModelMouseEvent(L))}emitMouseUp(L){var y;(y=this.onMouseUp)===null||y===void 0||y.call(this,this._convertViewToModelMouseEvent(L))}emitMouseDrag(L){var y;(y=this.onMouseDrag)===null||y===void 0||y.call(this,this._convertViewToModelMouseEvent(L))}emitMouseDrop(L){var y;(y=this.onMouseDrop)===null||y===void 0||y.call(this,this._convertViewToModelMouseEvent(L))}emitMouseDropCanceled(){var L;(L=this.onMouseDropCanceled)===null||L===void 0||L.call(this)}emitMouseWheel(L){var y;(y=this.onMouseWheel)===null||y===void 0||y.call(this,L)}_convertViewToModelMouseEvent(L){return L.target?{event:L.event,target:this._convertViewToModelMouseTarget(L.target)}:L}_convertViewToModelMouseTarget(L){return k.convertViewToModelMouseTarget(L,this._coordinatesConverter)}static convertViewToModelMouseTarget(L,y){const p={...L};return p.position&&(p.position=y.convertViewPositionToModelPosition(p.position)),p.range&&(p.range=y.convertViewRangeToModelRange(p.range)),(p.type===5||p.type===8)&&(p.detail=this.convertViewToModelViewZoneData(p.detail,y)),p}static convertViewToModelViewZoneData(L,y){return{viewZoneId:L.viewZoneId,positionBefore:L.positionBefore?y.convertViewPositionToModelPosition(L.positionBefore):L.positionBefore,positionAfter:L.positionAfter?y.convertViewPositionToModelPosition(L.positionAfter):L.positionAfter,position:y.convertViewPositionToModelPosition(L.position),afterLineNumber:y.convertViewPositionToModelPosition(new m.Position(L.afterLineNumber,1)).lineNumber}}}e.ViewUserInputEvents=k}),define(te[5],ie([1,0,9]),function(J,e,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Range=void 0;class k{constructor(L,y,p,w){L>p||L===p&&y>w?(this.startLineNumber=p,this.startColumn=w,this.endLineNumber=L,this.endColumn=y):(this.startLineNumber=L,this.startColumn=y,this.endLineNumber=p,this.endColumn=w)}isEmpty(){return k.isEmpty(this)}static isEmpty(L){return L.startLineNumber===L.endLineNumber&&L.startColumn===L.endColumn}containsPosition(L){return k.containsPosition(this,L)}static containsPosition(L,y){return!(y.lineNumber<L.startLineNumber||y.lineNumber>L.endLineNumber||y.lineNumber===L.startLineNumber&&y.column<L.startColumn||y.lineNumber===L.endLineNumber&&y.column>L.endColumn)}static strictContainsPosition(L,y){return!(y.lineNumber<L.startLineNumber||y.lineNumber>L.endLineNumber||y.lineNumber===L.startLineNumber&&y.column<=L.startColumn||y.lineNumber===L.endLineNumber&&y.column>=L.endColumn)}containsRange(L){return k.containsRange(this,L)}static containsRange(L,y){return!(y.startLineNumber<L.startLineNumber||y.endLineNumber<L.startLineNumber||y.startLineNumber>L.endLineNumber||y.endLineNumber>L.endLineNumber||y.startLineNumber===L.startLineNumber&&y.startColumn<L.startColumn||y.endLineNumber===L.endLineNumber&&y.endColumn>L.endColumn)}strictContainsRange(L){return k.strictContainsRange(this,L)}static strictContainsRange(L,y){return!(y.startLineNumber<L.startLineNumber||y.endLineNumber<L.startLineNumber||y.startLineNumber>L.endLineNumber||y.endLineNumber>L.endLineNumber||y.startLineNumber===L.startLineNumber&&y.startColumn<=L.startColumn||y.endLineNumber===L.endLineNumber&&y.endColumn>=L.endColumn)}plusRange(L){return k.plusRange(this,L)}static plusRange(L,y){let p,w,C,b;return y.startLineNumber<L.startLineNumber?(p=y.startLineNumber,w=y.startColumn):y.startLineNumber===L.startLineNumber?(p=y.startLineNumber,w=Math.min(y.startColumn,L.startColumn)):(p=L.startLineNumber,w=L.startColumn),y.endLineNumber>L.endLineNumber?(C=y.endLineNumber,b=y.endColumn):y.endLineNumber===L.endLineNumber?(C=y.endLineNumber,b=Math.max(y.endColumn,L.endColumn)):(C=L.endLineNumber,b=L.endColumn),new k(p,w,C,b)}intersectRanges(L){return k.intersectRanges(this,L)}static intersectRanges(L,y){let p=L.startLineNumber,w=L.startColumn,C=L.endLineNumber,b=L.endColumn;const a=y.startLineNumber,s=y.startColumn,i=y.endLineNumber,t=y.endColumn;return p<a?(p=a,w=s):p===a&&(w=Math.max(w,s)),C>i?(C=i,b=t):C===i&&(b=Math.min(b,t)),p>C||p===C&&w>b?null:new k(p,w,C,b)}equalsRange(L){return k.equalsRange(this,L)}static equalsRange(L,y){return!L&&!y?!0:!!L&&!!y&&L.startLineNumber===y.startLineNumber&&L.startColumn===y.startColumn&&L.endLineNumber===y.endLineNumber&&L.endColumn===y.endColumn}getEndPosition(){return k.getEndPosition(this)}static getEndPosition(L){return new m.Position(L.endLineNumber,L.endColumn)}getStartPosition(){return k.getStartPosition(this)}static getStartPosition(L){return new m.Position(L.startLineNumber,L.startColumn)}toString(){return"["+this.startLineNumber+","+this.startColumn+" -> "+this.endLineNumber+","+this.endColumn+"]"}setEndPosition(L,y){return new k(this.startLineNumber,this.startColumn,L,y)}setStartPosition(L,y){return new k(L,y,this.endLineNumber,this.endColumn)}collapseToStart(){return k.collapseToStart(this)}static collapseToStart(L){return new k(L.startLineNumber,L.startColumn,L.startLineNumber,L.startColumn)}collapseToEnd(){return k.collapseToEnd(this)}static collapseToEnd(L){return new k(L.endLineNumber,L.endColumn,L.endLineNumber,L.endColumn)}delta(L){return new k(this.startLineNumber+L,this.startColumn,this.endLineNumber+L,this.endColumn)}static fromPositions(L,y=L){return new k(L.lineNumber,L.column,y.lineNumber,y.column)}static lift(L){return L?new k(L.startLineNumber,L.startColumn,L.endLineNumber,L.endColumn):null}static isIRange(L){return L&&typeof L.startLineNumber=="number"&&typeof L.startColumn=="number"&&typeof L.endLineNumber=="number"&&typeof L.endColumn=="number"}static areIntersectingOrTouching(L,y){return!(L.endLineNumber<y.startLineNumber||L.endLineNumber===y.startLineNumber&&L.endColumn<y.startColumn||y.endLineNumber<L.startLineNumber||y.endLineNumber===L.startLineNumber&&y.endColumn<L.startColumn)}static areIntersecting(L,y){return!(L.endLineNumber<y.startLineNumber||L.endLineNumber===y.startLineNumber&&L.endColumn<=y.startColumn||y.endLineNumber<L.startLineNumber||y.endLineNumber===L.startLineNumber&&y.endColumn<=L.startColumn)}static compareRangesUsingStarts(L,y){if(L&&y){const C=L.startLineNumber|0,b=y.startLineNumber|0;if(C===b){const a=L.startColumn|0,s=y.startColumn|0;if(a===s){const i=L.endLineNumber|0,t=y.endLineNumber|0;if(i===t){const n=L.endColumn|0,h=y.endColumn|0;return n-h}return i-t}return a-s}return C-b}return(L?1:0)-(y?1:0)}static compareRangesUsingEnds(L,y){return L.endLineNumber===y.endLineNumber?L.endColumn===y.endColumn?L.startLineNumber===y.startLineNumber?L.startColumn-y.startColumn:L.startLineNumber-y.startLineNumber:L.endColumn-y.endColumn:L.endLineNumber-y.endLineNumber}static spansMultipleLines(L){return L.endLineNumber>L.startLineNumber}toJSON(){return this}}e.Range=k}),define(te[298],ie([1,0,11,5]),function(J,e,m,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PagedScreenReaderStrategy=e.TextAreaState=e._debugComposition=void 0,e._debugComposition=!1;class D{constructor(p,w,C,b,a){this.value=p,this.selectionStart=w,this.selectionEnd=C,this.selection=b,this.newlineCountBeforeSelection=a}toString(){return`[ <${this.value}>, selectionStart: ${this.selectionStart}, selectionEnd: ${this.selectionEnd}]`}static readFromTextArea(p,w){const C=p.getValue(),b=p.getSelectionStart(),a=p.getSelectionEnd();let s;if(w){const i=C.substring(0,b),t=w.value.substring(0,w.selectionStart);i===t&&(s=w.newlineCountBeforeSelection)}return new D(C,b,a,null,s)}collapseSelection(){return this.selectionStart===this.value.length?this:new D(this.value,this.value.length,this.value.length,null,void 0)}writeToTextArea(p,w,C){e._debugComposition&&console.log(`writeToTextArea ${p}: ${this.toString()}`),w.setValue(p,this.value),C&&w.setSelectionRange(p,this.selectionStart,this.selectionEnd)}deduceEditorPosition(p){var w,C,b,a,s,i,t,n;if(p<=this.selectionStart){const u=this.value.substring(p,this.selectionStart);return this._finishDeduceEditorPosition((C=(w=this.selection)===null||w===void 0?void 0:w.getStartPosition())!==null&&C!==void 0?C:null,u,-1)}if(p>=this.selectionEnd){const u=this.value.substring(this.selectionEnd,p);return this._finishDeduceEditorPosition((a=(b=this.selection)===null||b===void 0?void 0:b.getEndPosition())!==null&&a!==void 0?a:null,u,1)}const h=this.value.substring(this.selectionStart,p);if(h.indexOf("\u2026")===-1)return this._finishDeduceEditorPosition((i=(s=this.selection)===null||s===void 0?void 0:s.getStartPosition())!==null&&i!==void 0?i:null,h,1);const v=this.value.substring(p,this.selectionEnd);return this._finishDeduceEditorPosition((n=(t=this.selection)===null||t===void 0?void 0:t.getEndPosition())!==null&&n!==void 0?n:null,v,-1)}_finishDeduceEditorPosition(p,w,C){let b=0,a=-1;for(;(a=w.indexOf(`
`,a+1))!==-1;)b++;return[p,C*w.length,b]}static deduceInput(p,w,C){if(!p)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};e._debugComposition&&(console.log("------------------------deduceInput"),console.log(`PREVIOUS STATE: ${p.toString()}`),console.log(`CURRENT STATE: ${w.toString()}`));const b=Math.min(m.commonPrefixLength(p.value,w.value),p.selectionStart,w.selectionStart),a=Math.min(m.commonSuffixLength(p.value,w.value),p.value.length-p.selectionEnd,w.value.length-w.selectionEnd),s=p.value.substring(b,p.value.length-a),i=w.value.substring(b,w.value.length-a),t=p.selectionStart-b,n=p.selectionEnd-b,h=w.selectionStart-b,v=w.selectionEnd-b;if(e._debugComposition&&(console.log(`AFTER DIFFING PREVIOUS STATE: <${s}>, selectionStart: ${t}, selectionEnd: ${n}`),console.log(`AFTER DIFFING CURRENT STATE: <${i}>, selectionStart: ${h}, selectionEnd: ${v}`)),h===v){const d=p.selectionStart-b;return e._debugComposition&&console.log(`REMOVE PREVIOUS: ${d} chars`),{text:i,replacePrevCharCnt:d,replaceNextCharCnt:0,positionDelta:0}}const u=n-t;return{text:i,replacePrevCharCnt:u,replaceNextCharCnt:0,positionDelta:0}}static deduceAndroidCompositionInput(p,w){if(!p)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};if(e._debugComposition&&(console.log("------------------------deduceAndroidCompositionInput"),console.log(`PREVIOUS STATE: ${p.toString()}`),console.log(`CURRENT STATE: ${w.toString()}`)),p.value===w.value)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:w.selectionEnd-p.selectionEnd};const C=Math.min(m.commonPrefixLength(p.value,w.value),p.selectionEnd),b=Math.min(m.commonSuffixLength(p.value,w.value),p.value.length-p.selectionEnd),a=p.value.substring(C,p.value.length-b),s=w.value.substring(C,w.value.length-b),i=p.selectionStart-C,t=p.selectionEnd-C,n=w.selectionStart-C,h=w.selectionEnd-C;return e._debugComposition&&(console.log(`AFTER DIFFING PREVIOUS STATE: <${a}>, selectionStart: ${i}, selectionEnd: ${t}`),console.log(`AFTER DIFFING CURRENT STATE: <${s}>, selectionStart: ${n}, selectionEnd: ${h}`)),{text:s,replacePrevCharCnt:t,replaceNextCharCnt:a.length-t,positionDelta:h-s.length}}}e.TextAreaState=D,D.EMPTY=new D("",0,0,null,void 0);class L{static _getPageOfLine(p,w){return Math.floor((p-1)/w)}static _getRangeForPage(p,w){const C=p*w,b=C+1,a=C+w;return new k.Range(b,1,a+1,1)}static fromEditorSelection(p,w,C,b){const s=L._getPageOfLine(w.startLineNumber,C),i=L._getRangeForPage(s,C),t=L._getPageOfLine(w.endLineNumber,C),n=L._getRangeForPage(t,C);let h=i.intersectRanges(new k.Range(1,1,w.startLineNumber,w.startColumn));if(b&&p.getValueLengthInRange(h,1)>500){const g=p.modifyPosition(h.getEndPosition(),-500);h=k.Range.fromPositions(g,h.getEndPosition())}const v=p.getValueInRange(h,1),u=p.getLineCount(),d=p.getLineMaxColumn(u);let r=n.intersectRanges(new k.Range(w.endLineNumber,w.endColumn,u,d));if(b&&p.getValueLengthInRange(r,1)>500){const g=p.modifyPosition(r.getStartPosition(),500);r=k.Range.fromPositions(r.getStartPosition(),g)}const l=p.getValueInRange(r,1);let o;if(s===t||s+1===t)o=p.getValueInRange(w,1);else{const g=i.intersectRanges(w),c=n.intersectRanges(w);o=p.getValueInRange(g,1)+"\u2026"+p.getValueInRange(c,1)}return b&&o.length>2*500&&(o=o.substring(0,500)+"\u2026"+o.substring(o.length-500,o.length)),new D(v+o+l,v.length,v.length+o.length,w,h.endLineNumber-h.startLineNumber)}}e.PagedScreenReaderStrategy=L}),define(te[71],ie([1,0,5]),function(J,e,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditOperation=void 0;class k{static insert(L,y){return{range:new m.Range(L.lineNumber,L.column,L.lineNumber,L.column),text:y,forceMoveMarkers:!0}}static delete(L){return{range:L,text:null}}static replace(L,y){return{range:L,text:y}}static replaceMove(L,y){return{range:L,text:y,forceMoveMarkers:!0}}}e.EditOperation=k}),define(te[523],ie([1,0,11,71,5]),function(J,e,m,k,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TrimTrailingWhitespaceCommand=void 0,e.trimTrailingWhitespace=y;class L{constructor(w,C,b){this._selection=w,this._cursors=C,this._selectionId=null,this._trimInRegexesAndStrings=b}getEditOperations(w,C){const b=y(w,this._cursors,this._trimInRegexesAndStrings);for(let a=0,s=b.length;a<s;a++){const i=b[a];C.addEditOperation(i.range,i.text)}this._selectionId=C.trackSelection(this._selection)}computeCursorState(w,C){return C.getTrackedSelection(this._selectionId)}}e.TrimTrailingWhitespaceCommand=L;function y(p,w,C){w.sort((t,n)=>t.lineNumber===n.lineNumber?t.column-n.column:t.lineNumber-n.lineNumber);for(let t=w.length-2;t>=0;t--)w[t].lineNumber===w[t+1].lineNumber&&w.splice(t,1);const b=[];let a=0,s=0;const i=w.length;for(let t=1,n=p.getLineCount();t<=n;t++){const h=p.getLineContent(t),v=h.length+1;let u=0;if(s<i&&w[s].lineNumber===t&&(u=w[s].column,s++,u===v)||h.length===0)continue;const d=m.lastNonWhitespaceIndex(h);let r=0;if(d===-1)r=1;else if(d!==h.length-1)r=d+2;else continue;if(!C){if(!p.tokenization.hasAccurateTokensForLine(t))continue;const l=p.tokenization.getLineTokens(t),o=l.getStandardTokenType(l.findTokenIndexAtOffset(r));if(o===2||o===3)continue}r=Math.max(u,r),b[a++]=k.EditOperation.delete(new D.Range(t,r,t,v))}return b}}),define(te[60],ie([1,0,12,64,5,66]),function(J,e,m,k,D,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LineRangeSet=e.LineRange=void 0;class y{static fromRangeInclusive(C){return new y(C.startLineNumber,C.endLineNumber+1)}static joinMany(C){if(C.length===0)return[];let b=new p(C[0].slice());for(let a=1;a<C.length;a++)b=b.getUnion(new p(C[a].slice()));return b.ranges}static join(C){if(C.length===0)throw new m.BugIndicatingError("lineRanges cannot be empty");let b=C[0].startLineNumber,a=C[0].endLineNumberExclusive;for(let s=1;s<C.length;s++)b=Math.min(b,C[s].startLineNumber),a=Math.max(a,C[s].endLineNumberExclusive);return new y(b,a)}static ofLength(C,b){return new y(C,C+b)}static deserialize(C){return new y(C[0],C[1])}constructor(C,b){if(C>b)throw new m.BugIndicatingError(`startLineNumber ${C} cannot be after endLineNumberExclusive ${b}`);this.startLineNumber=C,this.endLineNumberExclusive=b}contains(C){return this.startLineNumber<=C&&C<this.endLineNumberExclusive}get isEmpty(){return this.startLineNumber===this.endLineNumberExclusive}delta(C){return new y(this.startLineNumber+C,this.endLineNumberExclusive+C)}deltaLength(C){return new y(this.startLineNumber,this.endLineNumberExclusive+C)}get length(){return this.endLineNumberExclusive-this.startLineNumber}join(C){return new y(Math.min(this.startLineNumber,C.startLineNumber),Math.max(this.endLineNumberExclusive,C.endLineNumberExclusive))}toString(){return`[${this.startLineNumber},${this.endLineNumberExclusive})`}intersect(C){const b=Math.max(this.startLineNumber,C.startLineNumber),a=Math.min(this.endLineNumberExclusive,C.endLineNumberExclusive);if(b<=a)return new y(b,a)}intersectsStrict(C){return this.startLineNumber<C.endLineNumberExclusive&&C.startLineNumber<this.endLineNumberExclusive}overlapOrTouch(C){return this.startLineNumber<=C.endLineNumberExclusive&&C.startLineNumber<=this.endLineNumberExclusive}equals(C){return this.startLineNumber===C.startLineNumber&&this.endLineNumberExclusive===C.endLineNumberExclusive}toInclusiveRange(){return this.isEmpty?null:new D.Range(this.startLineNumber,1,this.endLineNumberExclusive-1,Number.MAX_SAFE_INTEGER)}toExclusiveRange(){return new D.Range(this.startLineNumber,1,this.endLineNumberExclusive,1)}mapToLineArray(C){const b=[];for(let a=this.startLineNumber;a<this.endLineNumberExclusive;a++)b.push(C(a));return b}forEach(C){for(let b=this.startLineNumber;b<this.endLineNumberExclusive;b++)C(b)}serialize(){return[this.startLineNumber,this.endLineNumberExclusive]}includes(C){return this.startLineNumber<=C&&C<this.endLineNumberExclusive}toOffsetRange(){return new k.OffsetRange(this.startLineNumber-1,this.endLineNumberExclusive-1)}}e.LineRange=y;class p{constructor(C=[]){this._normalizedRanges=C}get ranges(){return this._normalizedRanges}addRange(C){if(C.length===0)return;const b=(0,L.findFirstIdxMonotonousOrArrLen)(this._normalizedRanges,s=>s.endLineNumberExclusive>=C.startLineNumber),a=(0,L.findLastIdxMonotonous)(this._normalizedRanges,s=>s.startLineNumber<=C.endLineNumberExclusive)+1;if(b===a)this._normalizedRanges.splice(b,0,C);else if(b===a-1){const s=this._normalizedRanges[b];this._normalizedRanges[b]=s.join(C)}else{const s=this._normalizedRanges[b].join(this._normalizedRanges[a-1]).join(C);this._normalizedRanges.splice(b,a-b,s)}}contains(C){const b=(0,L.findLastMonotonous)(this._normalizedRanges,a=>a.startLineNumber<=C);return!!b&&b.endLineNumberExclusive>C}intersects(C){const b=(0,L.findLastMonotonous)(this._normalizedRanges,a=>a.startLineNumber<C.endLineNumberExclusive);return!!b&&b.endLineNumberExclusive>C.startLineNumber}getUnion(C){if(this._normalizedRanges.length===0)return C;if(C._normalizedRanges.length===0)return this;const b=[];let a=0,s=0,i=null;for(;a<this._normalizedRanges.length||s<C._normalizedRanges.length;){let t=null;if(a<this._normalizedRanges.length&&s<C._normalizedRanges.length){const n=this._normalizedRanges[a],h=C._normalizedRanges[s];n.startLineNumber<h.startLineNumber?(t=n,a++):(t=h,s++)}else a<this._normalizedRanges.length?(t=this._normalizedRanges[a],a++):(t=C._normalizedRanges[s],s++);i===null?i=t:i.endLineNumberExclusive>=t.startLineNumber?i=new y(i.startLineNumber,Math.max(i.endLineNumberExclusive,t.endLineNumberExclusive)):(b.push(i),i=t)}return i!==null&&b.push(i),new p(b)}subtractFrom(C){const b=(0,L.findFirstIdxMonotonousOrArrLen)(this._normalizedRanges,t=>t.endLineNumberExclusive>=C.startLineNumber),a=(0,L.findLastIdxMonotonous)(this._normalizedRanges,t=>t.startLineNumber<=C.endLineNumberExclusive)+1;if(b===a)return new p([C]);const s=[];let i=C.startLineNumber;for(let t=b;t<a;t++){const n=this._normalizedRanges[t];n.startLineNumber>i&&s.push(new y(i,n.startLineNumber)),i=n.endLineNumberExclusive}return i<C.endLineNumberExclusive&&s.push(new y(i,C.endLineNumberExclusive)),new p(s)}toString(){return this._normalizedRanges.map(C=>C.toString()).join(", ")}getIntersection(C){const b=[];let a=0,s=0;for(;a<this._normalizedRanges.length&&s<C._normalizedRanges.length;){const i=this._normalizedRanges[a],t=C._normalizedRanges[s],n=i.intersect(t);n&&!n.isEmpty&&b.push(n),i.endLineNumberExclusive<t.endLineNumberExclusive?a++:s++}return new p(b)}getWithDelta(C){return new p(this._normalizedRanges.map(b=>b.delta(C)))}}e.LineRangeSet=p}),define(te[299],ie([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RGBA8=void 0;class m{constructor(D,L,y,p){this._rgba8Brand=void 0,this.r=m._clamp(D),this.g=m._clamp(L),this.b=m._clamp(y),this.a=m._clamp(p)}equals(D){return this.r===D.r&&this.g===D.g&&this.b===D.b&&this.a===D.a}static _clamp(D){return D<0?0:D>255?255:D|0}}e.RGBA8=m,m.Empty=new m(0,0,0,0)}),define(te[24],ie([1,0,9,5]),function(J,e,m,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Selection=void 0;class D extends k.Range{constructor(y,p,w,C){super(y,p,w,C),this.selectionStartLineNumber=y,this.selectionStartColumn=p,this.positionLineNumber=w,this.positionColumn=C}toString(){return"["+this.selectionStartLineNumber+","+this.selectionStartColumn+" -> "+this.positionLineNumber+","+this.positionColumn+"]"}equalsSelection(y){return D.selectionsEqual(this,y)}static selectionsEqual(y,p){return y.selectionStartLineNumber===p.selectionStartLineNumber&&y.selectionStartColumn===p.selectionStartColumn&&y.positionLineNumber===p.positionLineNumber&&y.positionColumn===p.positionColumn}getDirection(){return this.selectionStartLineNumber===this.startLineNumber&&this.selectionStartColumn===this.startColumn?0:1}setEndPosition(y,p){return this.getDirection()===0?new D(this.startLineNumber,this.startColumn,y,p):new D(y,p,this.startLineNumber,this.startColumn)}getPosition(){return new m.Position(this.positionLineNumber,this.positionColumn)}getSelectionStart(){return new m.Position(this.selectionStartLineNumber,this.selectionStartColumn)}setStartPosition(y,p){return this.getDirection()===0?new D(y,p,this.endLineNumber,this.endColumn):new D(this.endLineNumber,this.endColumn,y,p)}static fromPositions(y,p=y){return new D(y.lineNumber,y.column,p.lineNumber,p.column)}static fromRange(y,p){return p===0?new D(y.startLineNumber,y.startColumn,y.endLineNumber,y.endColumn):new D(y.endLineNumber,y.endColumn,y.startLineNumber,y.startColumn)}static liftSelection(y){return new D(y.selectionStartLineNumber,y.selectionStartColumn,y.positionLineNumber,y.positionColumn)}static selectionsArrEqual(y,p){if(y&&!p||!y&&p)return!1;if(!y&&!p)return!0;if(y.length!==p.length)return!1;for(let w=0,C=y.length;w<C;w++)if(!this.selectionsEqual(y[w],p[w]))return!1;return!0}static isISelection(y){return y&&typeof y.selectionStartLineNumber=="number"&&typeof y.selectionStartColumn=="number"&&typeof y.positionLineNumber=="number"&&typeof y.positionColumn=="number"}static createWithDirection(y,p,w,C,b){return b===0?new D(y,p,w,C):new D(w,C,y,p)}}e.Selection=D}),define(te[140],ie([1,0,24]),function(J,e,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReplaceCommandThatPreservesSelection=e.ReplaceCommandWithOffsetCursorState=e.ReplaceCommandWithoutChangingPosition=e.ReplaceCommandThatSelectsText=e.ReplaceCommand=void 0;class k{constructor(C,b,a=!1){this._range=C,this._text=b,this.insertsAutoWhitespace=a}getEditOperations(C,b){b.addTrackedEditOperation(this._range,this._text)}computeCursorState(C,b){const s=b.getInverseEditOperations()[0].range;return m.Selection.fromPositions(s.getEndPosition())}}e.ReplaceCommand=k;class D{constructor(C,b){this._range=C,this._text=b}getEditOperations(C,b){b.addTrackedEditOperation(this._range,this._text)}computeCursorState(C,b){const s=b.getInverseEditOperations()[0].range;return m.Selection.fromRange(s,0)}}e.ReplaceCommandThatSelectsText=D;class L{constructor(C,b,a=!1){this._range=C,this._text=b,this.insertsAutoWhitespace=a}getEditOperations(C,b){b.addTrackedEditOperation(this._range,this._text)}computeCursorState(C,b){const s=b.getInverseEditOperations()[0].range;return m.Selection.fromPositions(s.getStartPosition())}}e.ReplaceCommandWithoutChangingPosition=L;class y{constructor(C,b,a,s,i=!1){this._range=C,this._text=b,this._columnDeltaOffset=s,this._lineNumberDeltaOffset=a,this.insertsAutoWhitespace=i}getEditOperations(C,b){b.addTrackedEditOperation(this._range,this._text)}computeCursorState(C,b){const s=b.getInverseEditOperations()[0].range;return m.Selection.fromPositions(s.getEndPosition().delta(this._lineNumberDeltaOffset,this._columnDeltaOffset))}}e.ReplaceCommandWithOffsetCursorState=y;class p{constructor(C,b,a,s=!1){this._range=C,this._text=b,this._initialSelection=a,this._forceMoveMarkers=s,this._selectionId=null}getEditOperations(C,b){b.addTrackedEditOperation(this._range,this._text,this._forceMoveMarkers),this._selectionId=b.trackSelection(this._initialSelection)}computeCursorState(C,b){return b.getTrackedSelection(this._selectionId)}}e.ReplaceCommandThatPreservesSelection=p}),define(te[524],ie([1,0,5,24]),function(J,e,m,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompositionSurroundSelectionCommand=e.SurroundSelectionCommand=void 0;class D{constructor(p,w,C){this._range=p,this._charBeforeSelection=w,this._charAfterSelection=C}getEditOperations(p,w){w.addTrackedEditOperation(new m.Range(this._range.startLineNumber,this._range.startColumn,this._range.startLineNumber,this._range.startColumn),this._charBeforeSelection),w.addTrackedEditOperation(new m.Range(this._range.endLineNumber,this._range.endColumn,this._range.endLineNumber,this._range.endColumn),this._charAfterSelection)}computeCursorState(p,w){const C=w.getInverseEditOperations(),b=C[0].range,a=C[1].range;return new k.Selection(b.endLineNumber,b.endColumn,a.endLineNumber,a.endColumn-this._charAfterSelection.length)}}e.SurroundSelectionCommand=D;class L{constructor(p,w,C){this._position=p,this._text=w,this._charAfter=C}getEditOperations(p,w){w.addTrackedEditOperation(new m.Range(this._position.lineNumber,this._position.column,this._position.lineNumber,this._position.column),this._text+this._charAfter)}computeCursorState(p,w){const b=w.getInverseEditOperations()[0].range;return new k.Selection(b.endLineNumber,b.startColumn,b.endLineNumber,b.endColumn-this._charAfter.length)}}e.CompositionSurroundSelectionCommand=L}),define(te[122],ie([1,0,9,5]),function(J,e,m,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextLength=void 0;class D{static ofText(y){let p=0,w=0;for(const C of y)C===`
`?(p++,w=0):w++;return new D(p,w)}constructor(y,p){this.lineCount=y,this.columnCount=p}createRange(y){return this.lineCount===0?new k.Range(y.lineNumber,y.column,y.lineNumber,y.column+this.columnCount):new k.Range(y.lineNumber,y.column,y.lineNumber+this.lineCount,this.columnCount+1)}addToPosition(y){return this.lineCount===0?new m.Position(y.lineNumber,y.column+this.columnCount):new m.Position(y.lineNumber+this.lineCount,this.columnCount+1)}toString(){return`${this.lineCount},${this.columnCount}`}}e.TextLength=D,D.zero=new D(0,0)}),define(te[525],ie([1,0,64,122]),function(J,e,m,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PositionOffsetTransformer=void 0;class D{constructor(y){this.text=y,this.lineStartOffsetByLineIdx=[],this.lineStartOffsetByLineIdx.push(0);for(let p=0;p<y.length;p++)y.charAt(p)===`
`&&this.lineStartOffsetByLineIdx.push(p+1)}getOffset(y){return this.lineStartOffsetByLineIdx[y.lineNumber-1]+y.column-1}getOffsetRange(y){return new m.OffsetRange(this.getOffset(y.getStartPosition()),this.getOffset(y.getEndPosition()))}get textLength(){const y=this.lineStartOffsetByLineIdx.length-1;return new k.TextLength(y,this.text.length-this.lineStartOffsetByLineIdx[y])}}e.PositionOffsetTransformer=D}),define(te[123],ie([1,0,87,12,9,525,5,122]),function(J,e,m,k,D,L,y,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StringText=e.AbstractText=e.SingleTextEdit=e.TextEdit=void 0;class w{constructor(t){this.edits=t,(0,m.assertFn)(()=>(0,m.checkAdjacentItems)(t,(n,h)=>n.range.getEndPosition().isBeforeOrEqual(h.range.getStartPosition())))}apply(t){let n="",h=new D.Position(1,1);for(const u of this.edits){const d=u.range,r=d.getStartPosition(),l=d.getEndPosition(),o=b(h,r);o.isEmpty()||(n+=t.getValueOfRange(o)),n+=u.text,h=l}const v=b(h,t.endPositionExclusive);return v.isEmpty()||(n+=t.getValueOfRange(v)),n}applyToString(t){const n=new s(t);return this.apply(n)}getNewRanges(){const t=[];let n=0,h=0,v=0;for(const u of this.edits){const d=p.TextLength.ofText(u.text),r=D.Position.lift({lineNumber:u.range.startLineNumber+h,column:u.range.startColumn+(u.range.startLineNumber===n?v:0)}),l=d.createRange(r);t.push(l),h=l.endLineNumber-u.range.endLineNumber,v=l.endColumn-u.range.endColumn,n=u.range.endLineNumber}return t}}e.TextEdit=w;class C{constructor(t,n){this.range=t,this.text=n}}e.SingleTextEdit=C;function b(i,t){if(!i.isBeforeOrEqual(t))throw new k.BugIndicatingError("start must be before end");return new y.Range(i.lineNumber,i.column,t.lineNumber,t.column)}class a{get endPositionExclusive(){return this.length.addToPosition(new D.Position(1,1))}}e.AbstractText=a;class s extends a{constructor(t){super(),this.value=t,this._t=new L.PositionOffsetTransformer(this.value)}getValueOfRange(t){return this._t.getOffsetRange(t).substring(this.value)}get length(){return this._t.textLength}}e.StringText=s}),define(te[188],ie([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EDITOR_MODEL_DEFAULTS=void 0,e.EDITOR_MODEL_DEFAULTS={tabSize:4,indentSize:4,insertSpaces:!0,detectIndentation:!0,trimAutoWhitespace:!0,largeFileOptimizations:!0,bracketPairColorizationOptions:{enabled:!0,independentColorPoolPerBracketType:!1}}}),define(te[159],ie([1,0,47,138]),function(J,e,m,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WordCharacterClassifier=void 0,e.getMapForWordSeparators=y;class D extends k.CharacterClassifier{constructor(w,C){super(0),this._segmenter=null,this._cachedLine=null,this._cachedSegments=[],this.intlSegmenterLocales=C,this.intlSegmenterLocales.length>0?this._segmenter=new Intl.Segmenter(this.intlSegmenterLocales,{granularity:"word"}):this._segmenter=null;for(let b=0,a=w.length;b<a;b++)this.set(w.charCodeAt(b),2);this.set(32,1),this.set(9,1)}findPrevIntlWordBeforeOrAtOffset(w,C){let b=null;for(const a of this._getIntlSegmenterWordsOnLine(w)){if(a.index>C)break;b=a}return b}findNextIntlWordAtOrAfterOffset(w,C){for(const b of this._getIntlSegmenterWordsOnLine(w))if(!(b.index<C))return b;return null}_getIntlSegmenterWordsOnLine(w){return this._segmenter?this._cachedLine===w?this._cachedSegments:(this._cachedLine=w,this._cachedSegments=this._filterWordSegments(this._segmenter.segment(w)),this._cachedSegments):[]}_filterWordSegments(w){const C=[];for(const b of w)this._isWordLike(b)&&C.push(b);return C}_isWordLike(w){return!!w.isWordLike}}e.WordCharacterClassifier=D;const L=new m.LRUCache(10);function y(p,w){const C=`${p}/${w.join(",")}`;let b=L.get(C);return b||(b=new D(p,w),L.set(C,b)),b}}),define(te[160],ie([1,0,54,69]),function(J,e,m,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_WORD_REGEXP=e.USUAL_WORD_SEPARATORS=void 0,e.ensureValidWordDefinition=L,e.getWordAtText=p,e.USUAL_WORD_SEPARATORS="`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?";function D(C=""){let b="(-?\\d*\\.\\d\\w*)|([^";for(const a of e.USUAL_WORD_SEPARATORS)C.indexOf(a)>=0||(b+="\\"+a);return b+="\\s]+)",new RegExp(b,"g")}e.DEFAULT_WORD_REGEXP=D();function L(C){let b=e.DEFAULT_WORD_REGEXP;if(C&&C instanceof RegExp)if(C.global)b=C;else{let a="g";C.ignoreCase&&(a+="i"),C.multiline&&(a+="m"),C.unicode&&(a+="u"),b=new RegExp(C.source,a)}return b.lastIndex=0,b}const y=new k.LinkedList;y.unshift({maxLen:1e3,windowSize:15,timeBudget:150});function p(C,b,a,s,i){if(b=L(b),i||(i=m.Iterable.first(y)),a.length>i.maxLen){let u=C-i.maxLen/2;return u<0?u=0:s+=u,a=a.substring(u,C+i.maxLen/2),p(C,b,a,s,i)}const t=Date.now(),n=C-1-s;let h=-1,v=null;for(let u=1;!(Date.now()-t>=i.timeBudget);u++){const d=n-i.windowSize*u;b.lastIndex=Math.max(0,d);const r=w(b,a,n,h);if(!r&&v||(v=r,d<=0))break;h=d}if(v){const u={word:v[0],startColumn:s+1+v.index,endColumn:s+1+v.index+v[0].length};return b.lastIndex=0,u}return null}function w(C,b,a,s){let i;for(;i=C.exec(b);){const t=i.index||0;if(t<=a&&C.lastIndex>=a)return i;if(s>0&&t>s)return null}return null}}),define(te[300],ie([1,0,89]),function(J,e,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AtomicTabMoveOperations=void 0;class k{static whitespaceVisibleColumn(L,y,p){const w=L.length;let C=0,b=-1,a=-1;for(let s=0;s<w;s++){if(s===y)return[b,a,C];switch(C%p===0&&(b=s,a=C),L.charCodeAt(s)){case 32:C+=1;break;case 9:C=m.CursorColumns.nextRenderTabStop(C,p);break;default:return[-1,-1,-1]}}return y===w?[b,a,C]:[-1,-1,-1]}static atomicPosition(L,y,p,w){const C=L.length,[b,a,s]=k.whitespaceVisibleColumn(L,y,p);if(s===-1)return-1;let i;switch(w){case 0:i=!0;break;case 1:i=!1;break;case 2:if(s%p===0)return y;i=s%p<=p/2;break}if(i){if(b===-1)return-1;let h=a;for(let v=b;v<C;++v){if(h===a+p)return b;switch(L.charCodeAt(v)){case 32:h+=1;break;case 9:h=m.CursorColumns.nextRenderTabStop(h,p);break;default:return-1}}return h===a+p?b:-1}const t=m.CursorColumns.nextRenderTabStop(s,p);let n=s;for(let h=y;h<C;h++){if(n===t)return h;switch(L.charCodeAt(h)){case 32:n+=1;break;case 9:n=m.CursorColumns.nextRenderTabStop(n,p);break;default:return-1}}return n===t?C:-1}}e.AtomicTabMoveOperations=k}),define(te[526],ie([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorContext=void 0;class m{constructor(D,L,y,p){this._cursorContextBrand=void 0,this.model=D,this.viewModel=L,this.coordinatesConverter=y,this.cursorConfig=p}}e.CursorContext=m}),define(te[161],ie([1,0,13,12,64]),function(J,e,m,k,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DateTimeout=e.InfiniteTimeout=e.OffsetPair=e.SequenceDiff=e.DiffAlgorithmResult=void 0;class L{static trivial(a,s){return new L([new y(D.OffsetRange.ofLength(a.length),D.OffsetRange.ofLength(s.length))],!1)}static trivialTimedOut(a,s){return new L([new y(D.OffsetRange.ofLength(a.length),D.OffsetRange.ofLength(s.length))],!0)}constructor(a,s){this.diffs=a,this.hitTimeout=s}}e.DiffAlgorithmResult=L;class y{static invert(a,s){const i=[];return(0,m.forEachAdjacent)(a,(t,n)=>{i.push(y.fromOffsetPairs(t?t.getEndExclusives():p.zero,n?n.getStarts():new p(s,(t?t.seq2Range.endExclusive-t.seq1Range.endExclusive:0)+s)))}),i}static fromOffsetPairs(a,s){return new y(new D.OffsetRange(a.offset1,s.offset1),new D.OffsetRange(a.offset2,s.offset2))}constructor(a,s){this.seq1Range=a,this.seq2Range=s}swap(){return new y(this.seq2Range,this.seq1Range)}toString(){return`${this.seq1Range} <-> ${this.seq2Range}`}join(a){return new y(this.seq1Range.join(a.seq1Range),this.seq2Range.join(a.seq2Range))}delta(a){return a===0?this:new y(this.seq1Range.delta(a),this.seq2Range.delta(a))}deltaStart(a){return a===0?this:new y(this.seq1Range.deltaStart(a),this.seq2Range.deltaStart(a))}deltaEnd(a){return a===0?this:new y(this.seq1Range.deltaEnd(a),this.seq2Range.deltaEnd(a))}intersect(a){const s=this.seq1Range.intersect(a.seq1Range),i=this.seq2Range.intersect(a.seq2Range);if(!(!s||!i))return new y(s,i)}getStarts(){return new p(this.seq1Range.start,this.seq2Range.start)}getEndExclusives(){return new p(this.seq1Range.endExclusive,this.seq2Range.endExclusive)}}e.SequenceDiff=y;class p{constructor(a,s){this.offset1=a,this.offset2=s}toString(){return`${this.offset1} <-> ${this.offset2}`}delta(a){return a===0?this:new p(this.offset1+a,this.offset2+a)}equals(a){return this.offset1===a.offset1&&this.offset2===a.offset2}}e.OffsetPair=p,p.zero=new p(0,0),p.max=new p(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER);class w{isValid(){return!0}}e.InfiniteTimeout=w,w.instance=new w;class C{constructor(a){if(this.timeout=a,this.startTime=Date.now(),this.valid=!0,a<=0)throw new k.BugIndicatingError("timeout must be positive")}isValid(){if(!(Date.now()-this.startTime<this.timeout)&&this.valid){this.valid=!1;debugger}return this.valid}}e.DateTimeout=C}),define(te[301],ie([1,0,64,161]),function(J,e,m,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MyersDiffAlgorithm=void 0;class D{compute(C,b,a=k.InfiniteTimeout.instance){if(C.length===0||b.length===0)return k.DiffAlgorithmResult.trivial(C,b);const s=C,i=b;function t(g,c){for(;g<s.length&&c<i.length&&s.getElement(g)===i.getElement(c);)g++,c++;return g}let n=0;const h=new y;h.set(0,t(0,0));const v=new p;v.set(0,h.get(0)===0?null:new L(null,0,0,h.get(0)));let u=0;e:for(;;){if(n++,!a.isValid())return k.DiffAlgorithmResult.trivialTimedOut(s,i);const g=-Math.min(n,i.length+n%2),c=Math.min(n,s.length+n%2);for(u=g;u<=c;u+=2){let f=0;const _=u===c?-1:h.get(u+1),S=u===g?-1:h.get(u-1)+1;f++;const I=Math.min(Math.max(_,S),s.length),E=I-u;if(f++,I>s.length||E>i.length)continue;const T=t(I,E);h.set(u,T);const N=I===_?v.get(u+1):v.get(u-1);if(v.set(u,T!==I?new L(N,I,E,T-I):N),h.get(u)===s.length&&h.get(u)-u===i.length)break e}}let d=v.get(u);const r=[];let l=s.length,o=i.length;for(;;){const g=d?d.x+d.length:0,c=d?d.y+d.length:0;if((g!==l||c!==o)&&r.push(new k.SequenceDiff(new m.OffsetRange(g,l),new m.OffsetRange(c,o))),!d)break;l=d.x,o=d.y,d=d.prev}return r.reverse(),new k.DiffAlgorithmResult(r,!1)}}e.MyersDiffAlgorithm=D;class L{constructor(C,b,a,s){this.prev=C,this.x=b,this.y=a,this.length=s}}class y{constructor(){this.positiveArr=new Int32Array(10),this.negativeArr=new Int32Array(10)}get(C){return C<0?(C=-C-1,this.negativeArr[C]):this.positiveArr[C]}set(C,b){if(C<0){if(C=-C-1,C>=this.negativeArr.length){const a=this.negativeArr;this.negativeArr=new Int32Array(a.length*2),this.negativeArr.set(a)}this.negativeArr[C]=b}else{if(C>=this.positiveArr.length){const a=this.positiveArr;this.positiveArr=new Int32Array(a.length*2),this.positiveArr.set(a)}this.positiveArr[C]=b}}}class p{constructor(){this.positiveArr=[],this.negativeArr=[]}get(C){return C<0?(C=-C-1,this.negativeArr[C]):this.positiveArr[C]}set(C,b){C<0?(C=-C-1,this.negativeArr[C]=b):this.positiveArr[C]=b}}}),define(te[302],ie([1,0,13,64,161]),function(J,e,m,k,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.optimizeSequenceDiffs=L,e.removeShortMatches=C,e.extendDiffsToEntireWordIfAppropriate=b,e.removeVeryShortMatchingLinesBetweenDiffs=s,e.removeVeryShortMatchingTextBetweenLongDiffs=i;function L(t,n,h){let v=h;return v=y(t,n,v),v=y(t,n,v),v=p(t,n,v),v}function y(t,n,h){if(h.length===0)return h;const v=[];v.push(h[0]);for(let d=1;d<h.length;d++){const r=v[v.length-1];let l=h[d];if(l.seq1Range.isEmpty||l.seq2Range.isEmpty){const o=l.seq1Range.start-r.seq1Range.endExclusive;let g;for(g=1;g<=o&&!(t.getElement(l.seq1Range.start-g)!==t.getElement(l.seq1Range.endExclusive-g)||n.getElement(l.seq2Range.start-g)!==n.getElement(l.seq2Range.endExclusive-g));g++);if(g--,g===o){v[v.length-1]=new D.SequenceDiff(new k.OffsetRange(r.seq1Range.start,l.seq1Range.endExclusive-o),new k.OffsetRange(r.seq2Range.start,l.seq2Range.endExclusive-o));continue}l=l.delta(-g)}v.push(l)}const u=[];for(let d=0;d<v.length-1;d++){const r=v[d+1];let l=v[d];if(l.seq1Range.isEmpty||l.seq2Range.isEmpty){const o=r.seq1Range.start-l.seq1Range.endExclusive;let g;for(g=0;g<o&&!(!t.isStronglyEqual(l.seq1Range.start+g,l.seq1Range.endExclusive+g)||!n.isStronglyEqual(l.seq2Range.start+g,l.seq2Range.endExclusive+g));g++);if(g===o){v[d+1]=new D.SequenceDiff(new k.OffsetRange(l.seq1Range.start+o,r.seq1Range.endExclusive),new k.OffsetRange(l.seq2Range.start+o,r.seq2Range.endExclusive));continue}g>0&&(l=l.delta(g))}u.push(l)}return v.length>0&&u.push(v[v.length-1]),u}function p(t,n,h){if(!t.getBoundaryScore||!n.getBoundaryScore)return h;for(let v=0;v<h.length;v++){const u=v>0?h[v-1]:void 0,d=h[v],r=v+1<h.length?h[v+1]:void 0,l=new k.OffsetRange(u?u.seq1Range.endExclusive+1:0,r?r.seq1Range.start-1:t.length),o=new k.OffsetRange(u?u.seq2Range.endExclusive+1:0,r?r.seq2Range.start-1:n.length);d.seq1Range.isEmpty?h[v]=w(d,t,n,l,o):d.seq2Range.isEmpty&&(h[v]=w(d.swap(),n,t,o,l).swap())}return h}function w(t,n,h,v,u){let r=1;for(;t.seq1Range.start-r>=v.start&&t.seq2Range.start-r>=u.start&&h.isStronglyEqual(t.seq2Range.start-r,t.seq2Range.endExclusive-r)&&r<100;)r++;r--;let l=0;for(;t.seq1Range.start+l<v.endExclusive&&t.seq2Range.endExclusive+l<u.endExclusive&&h.isStronglyEqual(t.seq2Range.start+l,t.seq2Range.endExclusive+l)&&l<100;)l++;if(r===0&&l===0)return t;let o=0,g=-1;for(let c=-r;c<=l;c++){const f=t.seq2Range.start+c,_=t.seq2Range.endExclusive+c,S=t.seq1Range.start+c,I=n.getBoundaryScore(S)+h.getBoundaryScore(f)+h.getBoundaryScore(_);I>g&&(g=I,o=c)}return t.delta(o)}function C(t,n,h){const v=[];for(const u of h){const d=v[v.length-1];if(!d){v.push(u);continue}u.seq1Range.start-d.seq1Range.endExclusive<=2||u.seq2Range.start-d.seq2Range.endExclusive<=2?v[v.length-1]=new D.SequenceDiff(d.seq1Range.join(u.seq1Range),d.seq2Range.join(u.seq2Range)):v.push(u)}return v}function b(t,n,h){const v=D.SequenceDiff.invert(h,t.length),u=[];let d=new D.OffsetPair(0,0);function r(o,g){if(o.offset1<d.offset1||o.offset2<d.offset2)return;const c=t.findWordContaining(o.offset1),f=n.findWordContaining(o.offset2);if(!c||!f)return;let _=new D.SequenceDiff(c,f);const S=_.intersect(g);let I=S.seq1Range.length,E=S.seq2Range.length;for(;v.length>0;){const T=v[0];if(!(T.seq1Range.intersects(_.seq1Range)||T.seq2Range.intersects(_.seq2Range)))break;const A=t.findWordContaining(T.seq1Range.start),O=n.findWordContaining(T.seq2Range.start),M=new D.SequenceDiff(A,O),P=M.intersect(T);if(I+=P.seq1Range.length,E+=P.seq2Range.length,_=_.join(M),_.seq1Range.endExclusive>=T.seq1Range.endExclusive)v.shift();else break}I+E<(_.seq1Range.length+_.seq2Range.length)*2/3&&u.push(_),d=_.getEndExclusives()}for(;v.length>0;){const o=v.shift();o.seq1Range.isEmpty||(r(o.getStarts(),o),r(o.getEndExclusives().delta(-1),o))}return a(h,u)}function a(t,n){const h=[];for(;t.length>0||n.length>0;){const v=t[0],u=n[0];let d;v&&(!u||v.seq1Range.start<u.seq1Range.start)?d=t.shift():d=n.shift(),h.length>0&&h[h.length-1].seq1Range.endExclusive>=d.seq1Range.start?h[h.length-1]=h[h.length-1].join(d):h.push(d)}return h}function s(t,n,h){let v=h;if(v.length===0)return v;let u=0,d;do{d=!1;const r=[v[0]];for(let l=1;l<v.length;l++){let c=function(_,S){const I=new k.OffsetRange(g.seq1Range.endExclusive,o.seq1Range.start);return t.getText(I).replace(/\s/g,"").length<=4&&(_.seq1Range.length+_.seq2Range.length>5||S.seq1Range.length+S.seq2Range.length>5)};const o=v[l],g=r[r.length-1];c(g,o)?(d=!0,r[r.length-1]=r[r.length-1].join(o)):r.push(o)}v=r}while(u++<10&&d);return v}function i(t,n,h){let v=h;if(v.length===0)return v;let u=0,d;do{d=!1;const l=[v[0]];for(let o=1;o<v.length;o++){let f=function(S,I){const E=new k.OffsetRange(c.seq1Range.endExclusive,g.seq1Range.start);if(t.countLinesIn(E)>5||E.length>500)return!1;const N=t.getText(E).trim();if(N.length>20||N.split(/\r\n|\r|\n/).length>1)return!1;const A=t.countLinesIn(S.seq1Range),O=S.seq1Range.length,M=n.countLinesIn(S.seq2Range),P=S.seq2Range.length,x=t.countLinesIn(I.seq1Range),R=I.seq1Range.length,B=n.countLinesIn(I.seq2Range),H=I.seq2Range.length,V=2*40+50;function q(K){return Math.min(K,V)}return Math.pow(Math.pow(q(A*40+O),1.5)+Math.pow(q(M*40+P),1.5),1.5)+Math.pow(Math.pow(q(x*40+R),1.5)+Math.pow(q(B*40+H),1.5),1.5)>(V**1.5)**1.5*1.3};const g=v[o],c=l[l.length-1];f(c,g)?(d=!0,l[l.length-1]=l[l.length-1].join(g)):l.push(g)}v=l}while(u++<10&&d);const r=[];return(0,m.forEachWithNeighbors)(v,(l,o,g)=>{let c=o;function f(N){return N.length>0&&N.trim().length<=3&&o.seq1Range.length+o.seq2Range.length>100}const _=t.extendToFullLines(o.seq1Range),S=t.getText(new k.OffsetRange(_.start,o.seq1Range.start));f(S)&&(c=c.deltaStart(-S.length));const I=t.getText(new k.OffsetRange(o.seq1Range.endExclusive,_.endExclusive));f(I)&&(c=c.deltaEnd(I.length));const E=D.SequenceDiff.fromOffsetPairs(l?l.getEndExclusives():D.OffsetPair.zero,g?g.getStarts():D.OffsetPair.max),T=c.intersect(E);r.length>0&&T.getStarts().equals(r[r.length-1].getEndExclusives())?r[r.length-1]=r[r.length-1].join(T):r.push(T)}),r}}),define(te[527],ie([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LineSequence=void 0;class m{constructor(L,y){this.trimmedHash=L,this.lines=y}getElement(L){return this.trimmedHash[L]}get length(){return this.trimmedHash.length}getBoundaryScore(L){const y=L===0?0:k(this.lines[L-1]),p=L===this.lines.length?0:k(this.lines[L]);return 1e3-(y+p)}getText(L){return this.lines.slice(L.start,L.endExclusive).join(`
`)}isStronglyEqual(L,y){return this.lines[L]===this.lines[y]}}e.LineSequence=m;function k(D){let L=0;for(;L<D.length&&(D.charCodeAt(L)===32||D.charCodeAt(L)===9);)L++;return L}}),define(te[220],ie([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LineRangeFragment=e.Array2D=void 0,e.isSpace=k;class m{constructor(y,p){this.width=y,this.height=p,this.array=[],this.array=new Array(y*p)}get(y,p){return this.array[y+p*this.width]}set(y,p,w){this.array[y+p*this.width]=w}}e.Array2D=m;function k(L){return L===32||L===9}class D{static getKey(y){let p=this.chrKeys.get(y);return p===void 0&&(p=this.chrKeys.size,this.chrKeys.set(y,p)),p}constructor(y,p,w){this.range=y,this.lines=p,this.source=w,this.histogram=[];let C=0;for(let b=y.startLineNumber-1;b<y.endLineNumberExclusive-1;b++){const a=p[b];for(let i=0;i<a.length;i++){C++;const t=a[i],n=D.getKey(t);this.histogram[n]=(this.histogram[n]||0)+1}C++;const s=D.getKey(`
`);this.histogram[s]=(this.histogram[s]||0)+1}this.totalCount=C}computeSimilarity(y){var p,w;let C=0;const b=Math.max(this.histogram.length,y.histogram.length);for(let a=0;a<b;a++)C+=Math.abs(((p=this.histogram[a])!==null&&p!==void 0?p:0)-((w=y.histogram[a])!==null&&w!==void 0?w:0));return 1-C/(this.totalCount+y.totalCount)}}e.LineRangeFragment=D,D.chrKeys=new Map}),define(te[528],ie([1,0,64,161,220]),function(J,e,m,k,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DynamicProgrammingDiffing=void 0;class L{compute(p,w,C=k.InfiniteTimeout.instance,b){if(p.length===0||w.length===0)return k.DiffAlgorithmResult.trivial(p,w);const a=new D.Array2D(p.length,w.length),s=new D.Array2D(p.length,w.length),i=new D.Array2D(p.length,w.length);for(let r=0;r<p.length;r++)for(let l=0;l<w.length;l++){if(!C.isValid())return k.DiffAlgorithmResult.trivialTimedOut(p,w);const o=r===0?0:a.get(r-1,l),g=l===0?0:a.get(r,l-1);let c;p.getElement(r)===w.getElement(l)?(r===0||l===0?c=0:c=a.get(r-1,l-1),r>0&&l>0&&s.get(r-1,l-1)===3&&(c+=i.get(r-1,l-1)),c+=b?b(r,l):1):c=-1;const f=Math.max(o,g,c);if(f===c){const _=r>0&&l>0?i.get(r-1,l-1):0;i.set(r,l,_+1),s.set(r,l,3)}else f===o?(i.set(r,l,0),s.set(r,l,1)):f===g&&(i.set(r,l,0),s.set(r,l,2));a.set(r,l,f)}const t=[];let n=p.length,h=w.length;function v(r,l){(r+1!==n||l+1!==h)&&t.push(new k.SequenceDiff(new m.OffsetRange(r+1,n),new m.OffsetRange(l+1,h))),n=r,h=l}let u=p.length-1,d=w.length-1;for(;u>=0&&d>=0;)s.get(u,d)===3?(v(u,d),u--,d--):s.get(u,d)===1?u--:d--;return v(-1,-1),t.reverse(),new k.DiffAlgorithmResult(t,!1)}}e.DynamicProgrammingDiffing=L}),define(te[303],ie([1,0,66,64,9,5,220]),function(J,e,m,k,D,L,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinesSliceCharSequence=void 0;class p{constructor(i,t,n){this.lines=i,this.considerWhitespaceChanges=n,this.elements=[],this.firstCharOffsetByLine=[],this.additionalOffsetByLine=[];let h=!1;t.start>0&&t.endExclusive>=i.length&&(t=new k.OffsetRange(t.start-1,t.endExclusive),h=!0),this.lineRange=t,this.firstCharOffsetByLine[0]=0;for(let v=this.lineRange.start;v<this.lineRange.endExclusive;v++){let u=i[v],d=0;if(h)d=u.length,u="",h=!1;else if(!n){const r=u.trimStart();d=u.length-r.length,u=r.trimEnd()}this.additionalOffsetByLine.push(d);for(let r=0;r<u.length;r++)this.elements.push(u.charCodeAt(r));v<i.length-1&&(this.elements.push(10),this.firstCharOffsetByLine[v-this.lineRange.start+1]=this.elements.length)}this.additionalOffsetByLine.push(0)}toString(){return`Slice: "${this.text}"`}get text(){return this.getText(new k.OffsetRange(0,this.length))}getText(i){return this.elements.slice(i.start,i.endExclusive).map(t=>String.fromCharCode(t)).join("")}getElement(i){return this.elements[i]}get length(){return this.elements.length}getBoundaryScore(i){const t=a(i>0?this.elements[i-1]:-1),n=a(i<this.elements.length?this.elements[i]:-1);if(t===7&&n===8)return 0;if(t===8)return 150;let h=0;return t!==n&&(h+=10,t===0&&n===1&&(h+=1)),h+=b(t),h+=b(n),h}translateOffset(i){if(this.lineRange.isEmpty)return new D.Position(this.lineRange.start+1,1);const t=(0,m.findLastIdxMonotonous)(this.firstCharOffsetByLine,n=>n<=i);return new D.Position(this.lineRange.start+t+1,i-this.firstCharOffsetByLine[t]+this.additionalOffsetByLine[t]+1)}translateRange(i){return L.Range.fromPositions(this.translateOffset(i.start),this.translateOffset(i.endExclusive))}findWordContaining(i){if(i<0||i>=this.elements.length||!w(this.elements[i]))return;let t=i;for(;t>0&&w(this.elements[t-1]);)t--;let n=i;for(;n<this.elements.length&&w(this.elements[n]);)n++;return new k.OffsetRange(t,n)}countLinesIn(i){return this.translateOffset(i.endExclusive).lineNumber-this.translateOffset(i.start).lineNumber}isStronglyEqual(i,t){return this.elements[i]===this.elements[t]}extendToFullLines(i){var t,n;const h=(t=(0,m.findLastMonotonous)(this.firstCharOffsetByLine,u=>u<=i.start))!==null&&t!==void 0?t:0,v=(n=(0,m.findFirstMonotonous)(this.firstCharOffsetByLine,u=>i.endExclusive<=u))!==null&&n!==void 0?n:this.elements.length;return new k.OffsetRange(h,v)}}e.LinesSliceCharSequence=p;function w(s){return s>=97&&s<=122||s>=65&&s<=90||s>=48&&s<=57}const C={0:0,1:0,2:0,3:10,4:2,5:30,6:3,7:10,8:10};function b(s){return C[s]}function a(s){return s===10?8:s===13?7:(0,y.isSpace)(s)?6:s>=97&&s<=122?0:s>=65&&s<=90?1:s>=48&&s<=57?2:s===-1?3:s===44||s===59?5:4}}),define(te[221],ie([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MovedText=e.LinesDiff=void 0;class m{constructor(L,y,p){this.changes=L,this.moves=y,this.hitTimeout=p}}e.LinesDiff=m;class k{constructor(L,y){this.lineRangeMapping=L,this.changes=y}}e.MovedText=k}),define(te[100],ie([1,0,60]),function(J,e,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RangeMapping=e.DetailedLineRangeMapping=e.LineRangeMapping=void 0;class k{static inverse(p,w,C){const b=[];let a=1,s=1;for(const t of p){const n=new k(new m.LineRange(a,t.original.startLineNumber),new m.LineRange(s,t.modified.startLineNumber));n.modified.isEmpty||b.push(n),a=t.original.endLineNumberExclusive,s=t.modified.endLineNumberExclusive}const i=new k(new m.LineRange(a,w+1),new m.LineRange(s,C+1));return i.modified.isEmpty||b.push(i),b}static clip(p,w,C){const b=[];for(const a of p){const s=a.original.intersect(w),i=a.modified.intersect(C);s&&!s.isEmpty&&i&&!i.isEmpty&&b.push(new k(s,i))}return b}constructor(p,w){this.original=p,this.modified=w}toString(){return`{${this.original.toString()}->${this.modified.toString()}}`}flip(){return new k(this.modified,this.original)}join(p){return new k(this.original.join(p.original),this.modified.join(p.modified))}}e.LineRangeMapping=k;class D extends k{static fromRangeMappings(p){const w=m.LineRange.join(p.map(b=>m.LineRange.fromRangeInclusive(b.originalRange))),C=m.LineRange.join(p.map(b=>m.LineRange.fromRangeInclusive(b.modifiedRange)));return new D(w,C,p)}constructor(p,w,C){super(p,w),this.innerChanges=C}flip(){var p;return new D(this.modified,this.original,(p=this.innerChanges)===null||p===void 0?void 0:p.map(w=>w.flip()))}}e.DetailedLineRangeMapping=D;class L{constructor(p,w){this.originalRange=p,this.modifiedRange=w}toString(){return`{${this.originalRange.toString()}->${this.modifiedRange.toString()}}`}flip(){return new L(this.modifiedRange,this.originalRange)}}e.RangeMapping=L}),define(te[529],ie([1,0,161,100,13,66,47,60,64,303,220,301]),function(J,e,m,k,D,L,y,p,w,C,b,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.computeMovedLines=s;function s(d,r,l,o,g,c){let{moves:f,excludedChanges:_}=t(d,r,l,c);if(!c.isValid())return[];const S=d.filter(E=>!_.has(E)),I=n(S,o,g,r,l,c);return(0,D.pushMany)(f,I),f=v(f),f=f.filter(E=>{const T=E.original.toOffsetRange().slice(r).map(A=>A.trim());return T.join(`
`).length>=15&&i(T,A=>A.length>=2)>=2}),f=u(d,f),f}function i(d,r){let l=0;for(const o of d)r(o)&&l++;return l}function t(d,r,l,o){const g=[],c=d.filter(S=>S.modified.isEmpty&&S.original.length>=3).map(S=>new b.LineRangeFragment(S.original,r,S)),f=new Set(d.filter(S=>S.original.isEmpty&&S.modified.length>=3).map(S=>new b.LineRangeFragment(S.modified,l,S))),_=new Set;for(const S of c){let I=-1,E;for(const T of f){const N=S.computeSimilarity(T);N>I&&(I=N,E=T)}if(I>.9&&E&&(f.delete(E),g.push(new k.LineRangeMapping(S.range,E.range)),_.add(S.source),_.add(E.source)),!o.isValid())return{moves:g,excludedChanges:_}}return{moves:g,excludedChanges:_}}function n(d,r,l,o,g,c){const f=[],_=new y.SetMap;for(const N of d)for(let A=N.original.startLineNumber;A<N.original.endLineNumberExclusive-2;A++){const O=`${r[A-1]}:${r[A+1-1]}:${r[A+2-1]}`;_.add(O,{range:new p.LineRange(A,A+3)})}const S=[];d.sort((0,D.compareBy)(N=>N.modified.startLineNumber,D.numberComparator));for(const N of d){let A=[];for(let O=N.modified.startLineNumber;O<N.modified.endLineNumberExclusive-2;O++){const M=`${l[O-1]}:${l[O+1-1]}:${l[O+2-1]}`,P=new p.LineRange(O,O+3),x=[];_.forEach(M,({range:R})=>{for(const H of A)if(H.originalLineRange.endLineNumberExclusive+1===R.endLineNumberExclusive&&H.modifiedLineRange.endLineNumberExclusive+1===P.endLineNumberExclusive){H.originalLineRange=new p.LineRange(H.originalLineRange.startLineNumber,R.endLineNumberExclusive),H.modifiedLineRange=new p.LineRange(H.modifiedLineRange.startLineNumber,P.endLineNumberExclusive),x.push(H);return}const B={modifiedLineRange:P,originalLineRange:R};S.push(B),x.push(B)}),A=x}if(!c.isValid())return[]}S.sort((0,D.reverseOrder)((0,D.compareBy)(N=>N.modifiedLineRange.length,D.numberComparator)));const I=new p.LineRangeSet,E=new p.LineRangeSet;for(const N of S){const A=N.modifiedLineRange.startLineNumber-N.originalLineRange.startLineNumber,O=I.subtractFrom(N.modifiedLineRange),M=E.subtractFrom(N.originalLineRange).getWithDelta(A),P=O.getIntersection(M);for(const x of P.ranges){if(x.length<3)continue;const R=x,B=x.delta(-A);f.push(new k.LineRangeMapping(B,R)),I.addRange(R),E.addRange(B)}}f.sort((0,D.compareBy)(N=>N.original.startLineNumber,D.numberComparator));const T=new L.MonotonousArray(d);for(let N=0;N<f.length;N++){const A=f[N],O=T.findLastMonotonous(q=>q.original.startLineNumber<=A.original.startLineNumber),M=(0,L.findLastMonotonous)(d,q=>q.modified.startLineNumber<=A.modified.startLineNumber),P=Math.max(A.original.startLineNumber-O.original.startLineNumber,A.modified.startLineNumber-M.modified.startLineNumber),x=T.findLastMonotonous(q=>q.original.startLineNumber<A.original.endLineNumberExclusive),R=(0,L.findLastMonotonous)(d,q=>q.modified.startLineNumber<A.modified.endLineNumberExclusive),B=Math.max(x.original.endLineNumberExclusive-A.original.endLineNumberExclusive,R.modified.endLineNumberExclusive-A.modified.endLineNumberExclusive);let H;for(H=0;H<P;H++){const q=A.original.startLineNumber-H-1,K=A.modified.startLineNumber-H-1;if(q>o.length||K>g.length||I.contains(K)||E.contains(q)||!h(o[q-1],g[K-1],c))break}H>0&&(E.addRange(new p.LineRange(A.original.startLineNumber-H,A.original.startLineNumber)),I.addRange(new p.LineRange(A.modified.startLineNumber-H,A.modified.startLineNumber)));let V;for(V=0;V<B;V++){const q=A.original.endLineNumberExclusive+V,K=A.modified.endLineNumberExclusive+V;if(q>o.length||K>g.length||I.contains(K)||E.contains(q)||!h(o[q-1],g[K-1],c))break}V>0&&(E.addRange(new p.LineRange(A.original.endLineNumberExclusive,A.original.endLineNumberExclusive+V)),I.addRange(new p.LineRange(A.modified.endLineNumberExclusive,A.modified.endLineNumberExclusive+V))),(H>0||V>0)&&(f[N]=new k.LineRangeMapping(new p.LineRange(A.original.startLineNumber-H,A.original.endLineNumberExclusive+V),new p.LineRange(A.modified.startLineNumber-H,A.modified.endLineNumberExclusive+V)))}return f}function h(d,r,l){if(d.trim()===r.trim())return!0;if(d.length>300&&r.length>300)return!1;const g=new a.MyersDiffAlgorithm().compute(new C.LinesSliceCharSequence([d],new w.OffsetRange(0,1),!1),new C.LinesSliceCharSequence([r],new w.OffsetRange(0,1),!1),l);let c=0;const f=m.SequenceDiff.invert(g.diffs,d.length);for(const E of f)E.seq1Range.forEach(T=>{(0,b.isSpace)(d.charCodeAt(T))||c++});function _(E){let T=0;for(let N=0;N<d.length;N++)(0,b.isSpace)(E.charCodeAt(N))||T++;return T}const S=_(d.length>r.length?d:r);return c/S>.6&&S>10}function v(d){if(d.length===0)return d;d.sort((0,D.compareBy)(l=>l.original.startLineNumber,D.numberComparator));const r=[d[0]];for(let l=1;l<d.length;l++){const o=r[r.length-1],g=d[l],c=g.original.startLineNumber-o.original.endLineNumberExclusive,f=g.modified.startLineNumber-o.modified.endLineNumberExclusive;if(c>=0&&f>=0&&c+f<=2){r[r.length-1]=o.join(g);continue}r.push(g)}return r}function u(d,r){const l=new L.MonotonousArray(d);return r=r.filter(o=>{const g=l.findLastMonotonous(_=>_.original.startLineNumber<o.original.endLineNumberExclusive)||new k.LineRangeMapping(new p.LineRange(1,1),new p.LineRange(1,1)),c=(0,L.findLastMonotonous)(d,_=>_.modified.startLineNumber<o.modified.endLineNumberExclusive);return g!==c}),r}}),define(te[304],ie([1,0,13,87,60,64,5,161,528,301,529,302,527,303,221,100]),function(J,e,m,k,D,L,y,p,w,C,b,a,s,i,t,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultLinesDiffComputer=void 0,e.lineRangeMappingFromRangeMappings=v,e.getLineRangeMapping=u;class h{constructor(){this.dynamicProgrammingDiffing=new w.DynamicProgrammingDiffing,this.myersDiffingAlgorithm=new C.MyersDiffAlgorithm}computeDiff(r,l,o){if(r.length<=1&&(0,m.equals)(r,l,(V,q)=>V===q))return new t.LinesDiff([],[],!1);if(r.length===1&&r[0].length===0||l.length===1&&l[0].length===0)return new t.LinesDiff([new n.DetailedLineRangeMapping(new D.LineRange(1,r.length+1),new D.LineRange(1,l.length+1),[new n.RangeMapping(new y.Range(1,1,r.length,r[0].length+1),new y.Range(1,1,l.length,l[0].length+1))])],[],!1);const g=o.maxComputationTimeMs===0?p.InfiniteTimeout.instance:new p.DateTimeout(o.maxComputationTimeMs),c=!o.ignoreTrimWhitespace,f=new Map;function _(V){let q=f.get(V);return q===void 0&&(q=f.size,f.set(V,q)),q}const S=r.map(V=>_(V.trim())),I=l.map(V=>_(V.trim())),E=new s.LineSequence(S,r),T=new s.LineSequence(I,l),N=E.length+T.length<1700?this.dynamicProgrammingDiffing.compute(E,T,g,(V,q)=>r[V]===l[q]?l[q].length===0?.1:1+Math.log(1+l[q].length):.99):this.myersDiffingAlgorithm.compute(E,T);let A=N.diffs,O=N.hitTimeout;A=(0,a.optimizeSequenceDiffs)(E,T,A),A=(0,a.removeVeryShortMatchingLinesBetweenDiffs)(E,T,A);const M=[],P=V=>{if(c)for(let q=0;q<V;q++){const K=x+q,U=R+q;if(r[K]!==l[U]){const $=this.refineDiff(r,l,new p.SequenceDiff(new L.OffsetRange(K,K+1),new L.OffsetRange(U,U+1)),g,c);for(const se of $.mappings)M.push(se);$.hitTimeout&&(O=!0)}}};let x=0,R=0;for(const V of A){(0,k.assertFn)(()=>V.seq1Range.start-x===V.seq2Range.start-R);const q=V.seq1Range.start-x;P(q),x=V.seq1Range.endExclusive,R=V.seq2Range.endExclusive;const K=this.refineDiff(r,l,V,g,c);K.hitTimeout&&(O=!0);for(const U of K.mappings)M.push(U)}P(r.length-x);const B=v(M,r,l);let H=[];return o.computeMoves&&(H=this.computeMoves(B,r,l,S,I,g,c)),(0,k.assertFn)(()=>{function V(K,U){if(K.lineNumber<1||K.lineNumber>U.length)return!1;const $=U[K.lineNumber-1];return!(K.column<1||K.column>$.length+1)}function q(K,U){return!(K.startLineNumber<1||K.startLineNumber>U.length+1||K.endLineNumberExclusive<1||K.endLineNumberExclusive>U.length+1)}for(const K of B){if(!K.innerChanges)return!1;for(const U of K.innerChanges)if(!(V(U.modifiedRange.getStartPosition(),l)&&V(U.modifiedRange.getEndPosition(),l)&&V(U.originalRange.getStartPosition(),r)&&V(U.originalRange.getEndPosition(),r)))return!1;if(!q(K.modified,l)||!q(K.original,r))return!1}return!0}),new t.LinesDiff(B,H,O)}computeMoves(r,l,o,g,c,f,_){return(0,b.computeMovedLines)(r,l,o,g,c,f).map(E=>{const T=this.refineDiff(l,o,new p.SequenceDiff(E.original.toOffsetRange(),E.modified.toOffsetRange()),f,_),N=v(T.mappings,l,o,!0);return new t.MovedText(E,N)})}refineDiff(r,l,o,g,c){const f=new i.LinesSliceCharSequence(r,o.seq1Range,c),_=new i.LinesSliceCharSequence(l,o.seq2Range,c),S=f.length+_.length<500?this.dynamicProgrammingDiffing.compute(f,_,g):this.myersDiffingAlgorithm.compute(f,_,g);let I=S.diffs;return I=(0,a.optimizeSequenceDiffs)(f,_,I),I=(0,a.extendDiffsToEntireWordIfAppropriate)(f,_,I),I=(0,a.removeShortMatches)(f,_,I),I=(0,a.removeVeryShortMatchingTextBetweenLongDiffs)(f,_,I),{mappings:I.map(T=>new n.RangeMapping(f.translateRange(T.seq1Range),_.translateRange(T.seq2Range))),hitTimeout:S.hitTimeout}}}e.DefaultLinesDiffComputer=h;function v(d,r,l,o=!1){const g=[];for(const c of(0,m.groupAdjacentBy)(d.map(f=>u(f,r,l)),(f,_)=>f.original.overlapOrTouch(_.original)||f.modified.overlapOrTouch(_.modified))){const f=c[0],_=c[c.length-1];g.push(new n.DetailedLineRangeMapping(f.original.join(_.original),f.modified.join(_.modified),c.map(S=>S.innerChanges[0])))}return(0,k.assertFn)(()=>!o&&g.length>0&&(g[0].modified.startLineNumber!==g[0].original.startLineNumber||l.length-g[g.length-1].modified.endLineNumberExclusive!==r.length-g[g.length-1].original.endLineNumberExclusive)?!1:(0,k.checkAdjacentItems)(g,(c,f)=>f.original.startLineNumber-c.original.endLineNumberExclusive===f.modified.startLineNumber-c.modified.endLineNumberExclusive&&c.original.endLineNumberExclusive<f.original.startLineNumber&&c.modified.endLineNumberExclusive<f.modified.startLineNumber)),g}function u(d,r,l){let o=0,g=0;d.modifiedRange.endColumn===1&&d.originalRange.endColumn===1&&d.originalRange.startLineNumber+o<=d.originalRange.endLineNumber&&d.modifiedRange.startLineNumber+o<=d.modifiedRange.endLineNumber&&(g=-1),d.modifiedRange.startColumn-1>=l[d.modifiedRange.startLineNumber-1].length&&d.originalRange.startColumn-1>=r[d.originalRange.startLineNumber-1].length&&d.originalRange.startLineNumber<=d.originalRange.endLineNumber+g&&d.modifiedRange.startLineNumber<=d.modifiedRange.endLineNumber+g&&(o=1);const c=new D.LineRange(d.originalRange.startLineNumber+o,d.originalRange.endLineNumber+1+g),f=new D.LineRange(d.modifiedRange.startLineNumber+o,d.modifiedRange.endLineNumber+1+g);return new n.DetailedLineRangeMapping(c,f,[d])}}),define(te[530],ie([1,0,182,221,100,11,5,87,60]),function(J,e,m,k,D,L,y,p,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffComputer=e.LegacyLinesDiffComputer=void 0;const C=3;class b{computeDiff(o,g,c){var f;const S=new v(o,g,{maxComputationTime:c.maxComputationTimeMs,shouldIgnoreTrimWhitespace:c.ignoreTrimWhitespace,shouldComputeCharChanges:!0,shouldMakePrettyDiff:!0,shouldPostProcessCharChanges:!0}).computeDiff(),I=[];let E=null;for(const T of S.changes){let N;T.originalEndLineNumber===0?N=new w.LineRange(T.originalStartLineNumber+1,T.originalStartLineNumber+1):N=new w.LineRange(T.originalStartLineNumber,T.originalEndLineNumber+1);let A;T.modifiedEndLineNumber===0?A=new w.LineRange(T.modifiedStartLineNumber+1,T.modifiedStartLineNumber+1):A=new w.LineRange(T.modifiedStartLineNumber,T.modifiedEndLineNumber+1);let O=new D.DetailedLineRangeMapping(N,A,(f=T.charChanges)===null||f===void 0?void 0:f.map(M=>new D.RangeMapping(new y.Range(M.originalStartLineNumber,M.originalStartColumn,M.originalEndLineNumber,M.originalEndColumn),new y.Range(M.modifiedStartLineNumber,M.modifiedStartColumn,M.modifiedEndLineNumber,M.modifiedEndColumn))));E&&(E.modified.endLineNumberExclusive===O.modified.startLineNumber||E.original.endLineNumberExclusive===O.original.startLineNumber)&&(O=new D.DetailedLineRangeMapping(E.original.join(O.original),E.modified.join(O.modified),E.innerChanges&&O.innerChanges?E.innerChanges.concat(O.innerChanges):void 0),I.pop()),I.push(O),E=O}return(0,p.assertFn)(()=>(0,p.checkAdjacentItems)(I,(T,N)=>N.original.startLineNumber-T.original.endLineNumberExclusive===N.modified.startLineNumber-T.modified.endLineNumberExclusive&&T.original.endLineNumberExclusive<N.original.startLineNumber&&T.modified.endLineNumberExclusive<N.modified.startLineNumber)),new k.LinesDiff(I,[],S.quitEarly)}}e.LegacyLinesDiffComputer=b;function a(l,o,g,c){return new m.LcsDiff(l,o,g).ComputeDiff(c)}class s{constructor(o){const g=[],c=[];for(let f=0,_=o.length;f<_;f++)g[f]=u(o[f],1),c[f]=d(o[f],1);this.lines=o,this._startColumns=g,this._endColumns=c}getElements(){const o=[];for(let g=0,c=this.lines.length;g<c;g++)o[g]=this.lines[g].substring(this._startColumns[g]-1,this._endColumns[g]-1);return o}getStrictElement(o){return this.lines[o]}getStartLineNumber(o){return o+1}getEndLineNumber(o){return o+1}createCharSequence(o,g,c){const f=[],_=[],S=[];let I=0;for(let E=g;E<=c;E++){const T=this.lines[E],N=o?this._startColumns[E]:1,A=o?this._endColumns[E]:T.length+1;for(let O=N;O<A;O++)f[I]=T.charCodeAt(O-1),_[I]=E+1,S[I]=O,I++;!o&&E<c&&(f[I]=10,_[I]=E+1,S[I]=T.length+1,I++)}return new i(f,_,S)}}class i{constructor(o,g,c){this._charCodes=o,this._lineNumbers=g,this._columns=c}toString(){return"["+this._charCodes.map((o,g)=>(o===10?"\\n":String.fromCharCode(o))+`-(${this._lineNumbers[g]},${this._columns[g]})`).join(", ")+"]"}_assertIndex(o,g){if(o<0||o>=g.length)throw new Error("Illegal index")}getElements(){return this._charCodes}getStartLineNumber(o){return o>0&&o===this._lineNumbers.length?this.getEndLineNumber(o-1):(this._assertIndex(o,this._lineNumbers),this._lineNumbers[o])}getEndLineNumber(o){return o===-1?this.getStartLineNumber(o+1):(this._assertIndex(o,this._lineNumbers),this._charCodes[o]===10?this._lineNumbers[o]+1:this._lineNumbers[o])}getStartColumn(o){return o>0&&o===this._columns.length?this.getEndColumn(o-1):(this._assertIndex(o,this._columns),this._columns[o])}getEndColumn(o){return o===-1?this.getStartColumn(o+1):(this._assertIndex(o,this._columns),this._charCodes[o]===10?1:this._columns[o]+1)}}class t{constructor(o,g,c,f,_,S,I,E){this.originalStartLineNumber=o,this.originalStartColumn=g,this.originalEndLineNumber=c,this.originalEndColumn=f,this.modifiedStartLineNumber=_,this.modifiedStartColumn=S,this.modifiedEndLineNumber=I,this.modifiedEndColumn=E}static createFromDiffChange(o,g,c){const f=g.getStartLineNumber(o.originalStart),_=g.getStartColumn(o.originalStart),S=g.getEndLineNumber(o.originalStart+o.originalLength-1),I=g.getEndColumn(o.originalStart+o.originalLength-1),E=c.getStartLineNumber(o.modifiedStart),T=c.getStartColumn(o.modifiedStart),N=c.getEndLineNumber(o.modifiedStart+o.modifiedLength-1),A=c.getEndColumn(o.modifiedStart+o.modifiedLength-1);return new t(f,_,S,I,E,T,N,A)}}function n(l){if(l.length<=1)return l;const o=[l[0]];let g=o[0];for(let c=1,f=l.length;c<f;c++){const _=l[c],S=_.originalStart-(g.originalStart+g.originalLength),I=_.modifiedStart-(g.modifiedStart+g.modifiedLength);Math.min(S,I)<C?(g.originalLength=_.originalStart+_.originalLength-g.originalStart,g.modifiedLength=_.modifiedStart+_.modifiedLength-g.modifiedStart):(o.push(_),g=_)}return o}class h{constructor(o,g,c,f,_){this.originalStartLineNumber=o,this.originalEndLineNumber=g,this.modifiedStartLineNumber=c,this.modifiedEndLineNumber=f,this.charChanges=_}static createFromDiffResult(o,g,c,f,_,S,I){let E,T,N,A,O;if(g.originalLength===0?(E=c.getStartLineNumber(g.originalStart)-1,T=0):(E=c.getStartLineNumber(g.originalStart),T=c.getEndLineNumber(g.originalStart+g.originalLength-1)),g.modifiedLength===0?(N=f.getStartLineNumber(g.modifiedStart)-1,A=0):(N=f.getStartLineNumber(g.modifiedStart),A=f.getEndLineNumber(g.modifiedStart+g.modifiedLength-1)),S&&g.originalLength>0&&g.originalLength<20&&g.modifiedLength>0&&g.modifiedLength<20&&_()){const M=c.createCharSequence(o,g.originalStart,g.originalStart+g.originalLength-1),P=f.createCharSequence(o,g.modifiedStart,g.modifiedStart+g.modifiedLength-1);if(M.getElements().length>0&&P.getElements().length>0){let x=a(M,P,_,!0).changes;I&&(x=n(x)),O=[];for(let R=0,B=x.length;R<B;R++)O.push(t.createFromDiffChange(x[R],M,P))}}return new h(E,T,N,A,O)}}class v{constructor(o,g,c){this.shouldComputeCharChanges=c.shouldComputeCharChanges,this.shouldPostProcessCharChanges=c.shouldPostProcessCharChanges,this.shouldIgnoreTrimWhitespace=c.shouldIgnoreTrimWhitespace,this.shouldMakePrettyDiff=c.shouldMakePrettyDiff,this.originalLines=o,this.modifiedLines=g,this.original=new s(o),this.modified=new s(g),this.continueLineDiff=r(c.maxComputationTime),this.continueCharDiff=r(c.maxComputationTime===0?0:Math.min(c.maxComputationTime,5e3))}computeDiff(){if(this.original.lines.length===1&&this.original.lines[0].length===0)return this.modified.lines.length===1&&this.modified.lines[0].length===0?{quitEarly:!1,changes:[]}:{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:1,modifiedStartLineNumber:1,modifiedEndLineNumber:this.modified.lines.length,charChanges:void 0}]};if(this.modified.lines.length===1&&this.modified.lines[0].length===0)return{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:this.original.lines.length,modifiedStartLineNumber:1,modifiedEndLineNumber:1,charChanges:void 0}]};const o=a(this.original,this.modified,this.continueLineDiff,this.shouldMakePrettyDiff),g=o.changes,c=o.quitEarly;if(this.shouldIgnoreTrimWhitespace){const I=[];for(let E=0,T=g.length;E<T;E++)I.push(h.createFromDiffResult(this.shouldIgnoreTrimWhitespace,g[E],this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges));return{quitEarly:c,changes:I}}const f=[];let _=0,S=0;for(let I=-1,E=g.length;I<E;I++){const T=I+1<E?g[I+1]:null,N=T?T.originalStart:this.originalLines.length,A=T?T.modifiedStart:this.modifiedLines.length;for(;_<N&&S<A;){const O=this.originalLines[_],M=this.modifiedLines[S];if(O!==M){{let P=u(O,1),x=u(M,1);for(;P>1&&x>1;){const R=O.charCodeAt(P-2),B=M.charCodeAt(x-2);if(R!==B)break;P--,x--}(P>1||x>1)&&this._pushTrimWhitespaceCharChange(f,_+1,1,P,S+1,1,x)}{let P=d(O,1),x=d(M,1);const R=O.length+1,B=M.length+1;for(;P<R&&x<B;){const H=O.charCodeAt(P-1),V=O.charCodeAt(x-1);if(H!==V)break;P++,x++}(P<R||x<B)&&this._pushTrimWhitespaceCharChange(f,_+1,P,R,S+1,x,B)}}_++,S++}T&&(f.push(h.createFromDiffResult(this.shouldIgnoreTrimWhitespace,T,this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges)),_+=T.originalLength,S+=T.modifiedLength)}return{quitEarly:c,changes:f}}_pushTrimWhitespaceCharChange(o,g,c,f,_,S,I){if(this._mergeTrimWhitespaceCharChange(o,g,c,f,_,S,I))return;let E;this.shouldComputeCharChanges&&(E=[new t(g,c,g,f,_,S,_,I)]),o.push(new h(g,g,_,_,E))}_mergeTrimWhitespaceCharChange(o,g,c,f,_,S,I){const E=o.length;if(E===0)return!1;const T=o[E-1];return T.originalEndLineNumber===0||T.modifiedEndLineNumber===0?!1:T.originalEndLineNumber===g&&T.modifiedEndLineNumber===_?(this.shouldComputeCharChanges&&T.charChanges&&T.charChanges.push(new t(g,c,g,f,_,S,_,I)),!0):T.originalEndLineNumber+1===g&&T.modifiedEndLineNumber+1===_?(T.originalEndLineNumber=g,T.modifiedEndLineNumber=_,this.shouldComputeCharChanges&&T.charChanges&&T.charChanges.push(new t(g,c,g,f,_,S,_,I)),!0):!1}}e.DiffComputer=v;function u(l,o){const g=L.firstNonWhitespaceIndex(l);return g===-1?o:g+1}function d(l,o){const g=L.lastNonWhitespaceIndex(l);return g===-1?o:g+2}function r(l){if(l===0)return()=>!0;const o=Date.now();return()=>Date.now()-o<l}}),define(te[531],ie([1,0,530,304]),function(J,e,m,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.linesDiffComputers=void 0,e.linesDiffComputers={getLegacy:()=>new m.LegacyLinesDiffComputer,getDefault:()=>new k.DefaultLinesDiffComputer}}),define(te[305],ie([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InternalEditorAction=void 0;class m{constructor(D,L,y,p,w,C,b){this.id=D,this.label=L,this.alias=y,this.metadata=p,this._precondition=w,this._run=C,this._contextKeyService=b}isSupported(){return this._contextKeyService.contextMatchesRules(this._precondition)}run(D){return this.isSupported()?this._run(D):Promise.resolve(void 0)}}e.InternalEditorAction=m}),define(te[189],ie([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorType=void 0,e.EditorType={ICodeEditor:"vs.editor.ICodeEditor",IDiffEditor:"vs.editor.IDiffEditor"}}),define(te[162],ie([1,0,189]),function(J,e,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isCodeEditor=k,e.isDiffEditor=D,e.isCompositeEditor=L,e.getCodeEditor=y;function k(p){return p&&typeof p.getEditorType=="function"?p.getEditorType()===m.EditorType.ICodeEditor:!1}function D(p){return p&&typeof p.getEditorType=="function"?p.getEditorType()===m.EditorType.IDiffEditor:!1}function L(p){return!!p&&typeof p=="object"&&typeof p.onDidChangeActiveEditor=="function"}function y(p){return k(p)?p:D(p)?p.getModifiedEditor():L(p)&&k(p.activeCodeEditor)?p.activeCodeEditor:null}}),define(te[141],ie([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.registerEditorFeature=k,e.getEditorFeatures=D;const m=[];function k(L){m.push(L)}function D(){return m.slice(0)}}),define(te[532],ie([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorTheme=void 0;class m{get type(){return this._theme.type}get value(){return this._theme}constructor(D){this._theme=D}update(D){this._theme=D}getColor(D){return this._theme.getColor(D)}}e.EditorTheme=m}),define(te[142],ie([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TokenMetadata=void 0;class m{static getLanguageId(D){return(D&255)>>>0}static getTokenType(D){return(D&768)>>>8}static containsBalancedBrackets(D){return(D&1024)!==0}static getFontStyle(D){return(D&30720)>>>11}static getForeground(D){return(D&16744448)>>>15}static getBackground(D){return(D&4278190080)>>>24}static getClassNameFromMetadata(D){let y="mtk"+this.getForeground(D);const p=this.getFontStyle(D);return p&1&&(y+=" mtki"),p&2&&(y+=" mtkb"),p&4&&(y+=" mtku"),p&8&&(y+=" mtks"),y}static getInlineStyleFromMetadata(D,L){const y=this.getForeground(D),p=this.getFontStyle(D);let w=`color: ${L[y]};`;p&1&&(w+="font-style: italic;"),p&2&&(w+="font-weight: bold;");let C="";return p&4&&(C+=" underline"),p&8&&(C+=" line-through"),C&&(w+=`text-decoration:${C};`),w}static getPresentationFromMetadata(D){const L=this.getForeground(D),y=this.getFontStyle(D);return{foreground:L,italic:!!(y&1),bold:!!(y&2),underline:!!(y&4),strikethrough:!!(y&8)}}}e.TokenMetadata=m}),define(te[533],ie([1,0,34]),function(J,e,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.computeDefaultDocumentColors=a;function k(s){const i=[];for(const t of s){const n=Number(t);(n||n===0&&t.replace(/\s/g,"")!=="")&&i.push(n)}return i}function D(s,i,t,n){return{red:s/255,blue:t/255,green:i/255,alpha:n}}function L(s,i){const t=i.index,n=i[0].length;if(!t)return;const h=s.positionAt(t);return{startLineNumber:h.lineNumber,startColumn:h.column,endLineNumber:h.lineNumber,endColumn:h.column+n}}function y(s,i){if(!s)return;const t=m.Color.Format.CSS.parseHex(i);if(t)return{range:s,color:D(t.rgba.r,t.rgba.g,t.rgba.b,t.rgba.a)}}function p(s,i,t){if(!s||i.length!==1)return;const h=i[0].values(),v=k(h);return{range:s,color:D(v[0],v[1],v[2],t?v[3]:1)}}function w(s,i,t){if(!s||i.length!==1)return;const h=i[0].values(),v=k(h),u=new m.Color(new m.HSLA(v[0],v[1]/100,v[2]/100,t?v[3]:1));return{range:s,color:D(u.rgba.r,u.rgba.g,u.rgba.b,u.rgba.a)}}function C(s,i){return typeof s=="string"?[...s.matchAll(i)]:s.findMatches(i)}function b(s){const i=[],n=C(s,/\b(rgb|rgba|hsl|hsla)(\([0-9\s,.\%]*\))|(#)([A-Fa-f0-9]{3})\b|(#)([A-Fa-f0-9]{4})\b|(#)([A-Fa-f0-9]{6})\b|(#)([A-Fa-f0-9]{8})\b/gm);if(n.length>0)for(const h of n){const v=h.filter(l=>l!==void 0),u=v[1],d=v[2];if(!d)continue;let r;if(u==="rgb"){const l=/^\(\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*\)$/gm;r=p(L(s,h),C(d,l),!1)}else if(u==="rgba"){const l=/^\(\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(0[.][0-9]+|[.][0-9]+|[01][.]|[01])\s*\)$/gm;r=p(L(s,h),C(d,l),!0)}else if(u==="hsl"){const l=/^\(\s*(36[0]|3[0-5][0-9]|[12][0-9][0-9]|[1-9]?[0-9])\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*\)$/gm;r=w(L(s,h),C(d,l),!1)}else if(u==="hsla"){const l=/^\(\s*(36[0]|3[0-5][0-9]|[12][0-9][0-9]|[1-9]?[0-9])\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*,\s*(0[.][0-9]+|[.][0-9]+|[01][.]|[01])\s*\)$/gm;r=w(L(s,h),C(d,l),!0)}else u==="#"&&(r=y(L(s,h),u+d));r&&i.push(r)}return i}function a(s){return!s||typeof s.getValue!="function"||typeof s.positionAt!="function"?[]:b(s)}}),define(te[124],ie([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AutoClosingPairs=e.StandardAutoClosingPairConditional=e.IndentAction=void 0;var m;(function(y){y[y.None=0]="None",y[y.Indent=1]="Indent",y[y.IndentOutdent=2]="IndentOutdent",y[y.Outdent=3]="Outdent"})(m||(e.IndentAction=m={}));class k{constructor(p){if(this._neutralCharacter=null,this._neutralCharacterSearched=!1,this.open=p.open,this.close=p.close,this._inString=!0,this._inComment=!0,this._inRegEx=!0,Array.isArray(p.notIn))for(let w=0,C=p.notIn.length;w<C;w++)switch(p.notIn[w]){case"string":this._inString=!1;break;case"comment":this._inComment=!1;break;case"regex":this._inRegEx=!1;break}}isOK(p){switch(p){case 0:return!0;case 1:return this._inComment;case 2:return this._inString;case 3:return this._inRegEx}}shouldAutoClose(p,w){if(p.getTokenCount()===0)return!0;const C=p.findTokenIndexAtOffset(w-2),b=p.getStandardTokenType(C);return this.isOK(b)}_findNeutralCharacterInRange(p,w){for(let C=p;C<=w;C++){const b=String.fromCharCode(C);if(!this.open.includes(b)&&!this.close.includes(b))return b}return null}findNeutralCharacter(){return this._neutralCharacterSearched||(this._neutralCharacterSearched=!0,this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(48,57)),this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(97,122)),this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(65,90))),this._neutralCharacter}}e.StandardAutoClosingPairConditional=k;class D{constructor(p){this.autoClosingPairsOpenByStart=new Map,this.autoClosingPairsOpenByEnd=new Map,this.autoClosingPairsCloseByStart=new Map,this.autoClosingPairsCloseByEnd=new Map,this.autoClosingPairsCloseSingleChar=new Map;for(const w of p)L(this.autoClosingPairsOpenByStart,w.open.charAt(0),w),L(this.autoClosingPairsOpenByEnd,w.open.charAt(w.open.length-1),w),L(this.autoClosingPairsCloseByStart,w.close.charAt(0),w),L(this.autoClosingPairsCloseByEnd,w.close.charAt(w.close.length-1),w),w.close.length===1&&w.open.length===1&&L(this.autoClosingPairsCloseSingleChar,w.close,w)}}e.AutoClosingPairs=D;function L(y,p,w){y.has(p)?y.get(p).push(w):y.set(p,[w])}}),define(te[534],ie([1,0,138]),function(J,e,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinkComputer=e.StateMachine=void 0,e.computeLinks=b;class k{constructor(s,i,t){const n=new Uint8Array(s*i);for(let h=0,v=s*i;h<v;h++)n[h]=t;this._data=n,this.rows=s,this.cols=i}get(s,i){return this._data[s*this.cols+i]}set(s,i,t){this._data[s*this.cols+i]=t}}class D{constructor(s){let i=0,t=0;for(let h=0,v=s.length;h<v;h++){const[u,d,r]=s[h];d>i&&(i=d),u>t&&(t=u),r>t&&(t=r)}i++,t++;const n=new k(t,i,0);for(let h=0,v=s.length;h<v;h++){const[u,d,r]=s[h];n.set(u,d,r)}this._states=n,this._maxCharCode=i}nextState(s,i){return i<0||i>=this._maxCharCode?0:this._states.get(s,i)}}e.StateMachine=D;let L=null;function y(){return L===null&&(L=new D([[1,104,2],[1,72,2],[1,102,6],[1,70,6],[2,116,3],[2,84,3],[3,116,4],[3,84,4],[4,112,5],[4,80,5],[5,115,9],[5,83,9],[5,58,10],[6,105,7],[6,73,7],[7,108,8],[7,76,8],[8,101,9],[8,69,9],[9,58,10],[10,47,11],[11,47,12]])),L}let p=null;function w(){if(p===null){p=new m.CharacterClassifier(0);const a=` 	<>'"\u3001\u3002\uFF61\uFF64\uFF0C\uFF0E\uFF1A\uFF1B\u2018\u3008\u300C\u300E\u3014\uFF08\uFF3B\uFF5B\uFF62\uFF63\uFF5D\uFF3D\uFF09\u3015\u300F\u300D\u3009\u2019\uFF40\uFF5E\u2026`;for(let i=0;i<a.length;i++)p.set(a.charCodeAt(i),1);const s=".,;:";for(let i=0;i<s.length;i++)p.set(s.charCodeAt(i),2)}return p}class C{static _createLink(s,i,t,n,h){let v=h-1;do{const u=i.charCodeAt(v);if(s.get(u)!==2)break;v--}while(v>n);if(n>0){const u=i.charCodeAt(n-1),d=i.charCodeAt(v);(u===40&&d===41||u===91&&d===93||u===123&&d===125)&&v--}return{range:{startLineNumber:t,startColumn:n+1,endLineNumber:t,endColumn:v+2},url:i.substring(n,v+1)}}static computeLinks(s,i=y()){const t=w(),n=[];for(let h=1,v=s.getLineCount();h<=v;h++){const u=s.getLineContent(h),d=u.length;let r=0,l=0,o=0,g=1,c=!1,f=!1,_=!1,S=!1;for(;r<d;){let I=!1;const E=u.charCodeAt(r);if(g===13){let T;switch(E){case 40:c=!0,T=0;break;case 41:T=c?0:1;break;case 91:_=!0,f=!0,T=0;break;case 93:_=!1,T=f?0:1;break;case 123:S=!0,T=0;break;case 125:T=S?0:1;break;case 39:case 34:case 96:o===E?T=1:o===39||o===34||o===96?T=0:T=1;break;case 42:T=o===42?1:0;break;case 124:T=o===124?1:0;break;case 32:T=_?0:1;break;default:T=t.get(E)}T===1&&(n.push(C._createLink(t,u,h,l,r)),I=!0)}else if(g===12){let T;E===91?(f=!0,T=0):T=t.get(E),T===1?I=!0:g=13}else g=i.nextState(g,E),g===0&&(I=!0);I&&(g=1,c=!1,f=!1,S=!1,l=r+1,o=E),r++}g===13&&n.push(C._createLink(t,u,h,l,d))}return n}}e.LinkComputer=C;function b(a){return!a||typeof a.getLineCount!="function"||typeof a.getLineContent!="function"?[]:C.computeLinks(a)}}),define(te[143],ie([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ScopedLineTokens=void 0,e.createScopedLineTokens=m,e.ignoreBracketsInToken=D;function m(L,y){const p=L.getCount(),w=L.findTokenIndexAtOffset(y),C=L.getLanguageId(w);let b=w;for(;b+1<p&&L.getLanguageId(b+1)===C;)b++;let a=w;for(;a>0&&L.getLanguageId(a-1)===C;)a--;return new k(L,C,a,b+1,L.getStartOffset(a),L.getEndOffset(b))}class k{constructor(y,p,w,C,b,a){this._scopedLineTokensBrand=void 0,this._actual=y,this.languageId=p,this._firstTokenIndex=w,this._lastTokenIndex=C,this.firstCharOffset=b,this._lastCharOffset=a}getLineContent(){return this._actual.getLineContent().substring(this.firstCharOffset,this._lastCharOffset)}getActualLineContentBefore(y){return this._actual.getLineContent().substring(0,this.firstCharOffset+y)}getTokenCount(){return this._lastTokenIndex-this._firstTokenIndex}findTokenIndexAtOffset(y){return this._actual.findTokenIndexAtOffset(y+this.firstCharOffset)-this._firstTokenIndex}getStandardTokenType(y){return this._actual.getStandardTokenType(y+this._firstTokenIndex)}}e.ScopedLineTokens=k;function D(L){return(L&3)!==0}}),define(te[77],ie([1,0,9,5,24,143,89,219]),function(J,e,m,k,D,L,y,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditOperationResult=e.SingleCursorState=e.PartialViewCursorState=e.PartialModelCursorState=e.CursorState=e.CursorConfiguration=void 0,e.isQuote=v;const w=()=>!0,C=()=>!1,b=u=>u===" "||u==="	";class a{static shouldRecreate(d){return d.hasChanged(145)||d.hasChanged(131)||d.hasChanged(37)||d.hasChanged(77)||d.hasChanged(79)||d.hasChanged(80)||d.hasChanged(6)||d.hasChanged(7)||d.hasChanged(11)||d.hasChanged(9)||d.hasChanged(10)||d.hasChanged(14)||d.hasChanged(128)||d.hasChanged(50)||d.hasChanged(91)||d.hasChanged(130)}constructor(d,r,l,o){var g;this.languageConfigurationService=o,this._cursorMoveConfigurationBrand=void 0,this._languageId=d;const c=l.options,f=c.get(145),_=c.get(50);this.readOnly=c.get(91),this.tabSize=r.tabSize,this.indentSize=r.indentSize,this.insertSpaces=r.insertSpaces,this.stickyTabStops=c.get(116),this.lineHeight=_.lineHeight,this.typicalHalfwidthCharacterWidth=_.typicalHalfwidthCharacterWidth,this.pageSize=Math.max(1,Math.floor(f.height/this.lineHeight)-2),this.useTabStops=c.get(128),this.wordSeparators=c.get(131),this.emptySelectionClipboard=c.get(37),this.copyWithSyntaxHighlighting=c.get(25),this.multiCursorMergeOverlapping=c.get(77),this.multiCursorPaste=c.get(79),this.multiCursorLimit=c.get(80),this.autoClosingBrackets=c.get(6),this.autoClosingComments=c.get(7),this.autoClosingQuotes=c.get(11),this.autoClosingDelete=c.get(9),this.autoClosingOvertype=c.get(10),this.autoSurround=c.get(14),this.autoIndent=c.get(12),this.wordSegmenterLocales=c.get(130),this.surroundingPairs={},this._electricChars=null,this.shouldAutoCloseBefore={quote:this._getShouldAutoClose(d,this.autoClosingQuotes,!0),comment:this._getShouldAutoClose(d,this.autoClosingComments,!1),bracket:this._getShouldAutoClose(d,this.autoClosingBrackets,!1)},this.autoClosingPairs=this.languageConfigurationService.getLanguageConfiguration(d).getAutoClosingPairs();const S=this.languageConfigurationService.getLanguageConfiguration(d).getSurroundingPairs();if(S)for(const E of S)this.surroundingPairs[E.open]=E.close;const I=this.languageConfigurationService.getLanguageConfiguration(d).comments;this.blockCommentStartToken=(g=I?.blockCommentStartToken)!==null&&g!==void 0?g:null}get electricChars(){var d;if(!this._electricChars){this._electricChars={};const r=(d=this.languageConfigurationService.getLanguageConfiguration(this._languageId).electricCharacter)===null||d===void 0?void 0:d.getElectricCharacters();if(r)for(const l of r)this._electricChars[l]=!0}return this._electricChars}onElectricCharacter(d,r,l){const o=(0,L.createScopedLineTokens)(r,l-1),g=this.languageConfigurationService.getLanguageConfiguration(o.languageId).electricCharacter;return g?g.onElectricCharacter(d,o,l-o.firstCharOffset):null}normalizeIndentation(d){return(0,p.normalizeIndentation)(d,this.indentSize,this.insertSpaces)}_getShouldAutoClose(d,r,l){switch(r){case"beforeWhitespace":return b;case"languageDefined":return this._getLanguageDefinedShouldAutoClose(d,l);case"always":return w;case"never":return C}}_getLanguageDefinedShouldAutoClose(d,r){const l=this.languageConfigurationService.getLanguageConfiguration(d).getAutoCloseBeforeSet(r);return o=>l.indexOf(o)!==-1}visibleColumnFromColumn(d,r){return y.CursorColumns.visibleColumnFromColumn(d.getLineContent(r.lineNumber),r.column,this.tabSize)}columnFromVisibleColumn(d,r,l){const o=y.CursorColumns.columnFromVisibleColumn(d.getLineContent(r),l,this.tabSize),g=d.getLineMinColumn(r);if(o<g)return g;const c=d.getLineMaxColumn(r);return o>c?c:o}}e.CursorConfiguration=a;class s{static fromModelState(d){return new i(d)}static fromViewState(d){return new t(d)}static fromModelSelection(d){const r=D.Selection.liftSelection(d),l=new n(k.Range.fromPositions(r.getSelectionStart()),0,0,r.getPosition(),0);return s.fromModelState(l)}static fromModelSelections(d){const r=[];for(let l=0,o=d.length;l<o;l++)r[l]=this.fromModelSelection(d[l]);return r}constructor(d,r){this._cursorStateBrand=void 0,this.modelState=d,this.viewState=r}equals(d){return this.viewState.equals(d.viewState)&&this.modelState.equals(d.modelState)}}e.CursorState=s;class i{constructor(d){this.modelState=d,this.viewState=null}}e.PartialModelCursorState=i;class t{constructor(d){this.modelState=null,this.viewState=d}}e.PartialViewCursorState=t;class n{constructor(d,r,l,o,g){this.selectionStart=d,this.selectionStartKind=r,this.selectionStartLeftoverVisibleColumns=l,this.position=o,this.leftoverVisibleColumns=g,this._singleCursorStateBrand=void 0,this.selection=n._computeSelection(this.selectionStart,this.position)}equals(d){return this.selectionStartLeftoverVisibleColumns===d.selectionStartLeftoverVisibleColumns&&this.leftoverVisibleColumns===d.leftoverVisibleColumns&&this.selectionStartKind===d.selectionStartKind&&this.position.equals(d.position)&&this.selectionStart.equalsRange(d.selectionStart)}hasSelection(){return!this.selection.isEmpty()||!this.selectionStart.isEmpty()}move(d,r,l,o){return d?new n(this.selectionStart,this.selectionStartKind,this.selectionStartLeftoverVisibleColumns,new m.Position(r,l),o):new n(new k.Range(r,l,r,l),0,o,new m.Position(r,l),o)}static _computeSelection(d,r){return d.isEmpty()||!r.isBeforeOrEqual(d.getStartPosition())?D.Selection.fromPositions(d.getStartPosition(),r):D.Selection.fromPositions(d.getEndPosition(),r)}}e.SingleCursorState=n;class h{constructor(d,r,l){this._editOperationResultBrand=void 0,this.type=d,this.commands=r,this.shouldPushStackElementBefore=l.shouldPushStackElementBefore,this.shouldPushStackElementAfter=l.shouldPushStackElementAfter}}e.EditOperationResult=h;function v(u){return u==="'"||u==='"'||u==="`"}}),define(te[535],ie([1,0,77,9,5]),function(J,e,m,k,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColumnSelection=void 0;class L{static columnSelect(p,w,C,b,a,s){const i=Math.abs(a-C)+1,t=C>a,n=b>s,h=b<s,v=[];for(let u=0;u<i;u++){const d=C+(t?-u:u),r=p.columnFromVisibleColumn(w,d,b),l=p.columnFromVisibleColumn(w,d,s),o=p.visibleColumnFromColumn(w,new k.Position(d,r)),g=p.visibleColumnFromColumn(w,new k.Position(d,l));h&&(o>s||g<b)||n&&(g>b||o<s)||v.push(new m.SingleCursorState(new D.Range(d,r,d,r),0,0,new k.Position(d,l),0))}if(v.length===0)for(let u=0;u<i;u++){const d=C+(t?-u:u),r=w.getLineMaxColumn(d);v.push(new m.SingleCursorState(new D.Range(d,r,d,r),0,0,new k.Position(d,r),0))}return{viewStates:v,reversed:t,fromLineNumber:C,fromVisualColumn:b,toLineNumber:a,toVisualColumn:s}}static columnSelectLeft(p,w,C){let b=C.toViewVisualColumn;return b>0&&b--,L.columnSelect(p,w,C.fromViewLineNumber,C.fromViewVisualColumn,C.toViewLineNumber,b)}static columnSelectRight(p,w,C){let b=0;const a=Math.min(C.fromViewLineNumber,C.toViewLineNumber),s=Math.max(C.fromViewLineNumber,C.toViewLineNumber);for(let t=a;t<=s;t++){const n=w.getLineMaxColumn(t),h=p.visibleColumnFromColumn(w,new k.Position(t,n));b=Math.max(b,h)}let i=C.toViewVisualColumn;return i<b&&i++,this.columnSelect(p,w,C.fromViewLineNumber,C.fromViewVisualColumn,C.toViewLineNumber,i)}static columnSelectUp(p,w,C,b){const a=b?p.pageSize:1,s=Math.max(1,C.toViewLineNumber-a);return this.columnSelect(p,w,C.fromViewLineNumber,C.fromViewVisualColumn,s,C.toViewVisualColumn)}static columnSelectDown(p,w,C,b){const a=b?p.pageSize:1,s=Math.min(w.getLineCount(),C.toViewLineNumber+a);return this.columnSelect(p,w,C.fromViewLineNumber,C.fromViewVisualColumn,s,C.toViewVisualColumn)}}e.ColumnSelection=L}),define(te[222],ie([1,0,11,89,9,5,300,77]),function(J,e,m,k,D,L,y,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MoveOperations=e.CursorPosition=void 0;class w{constructor(a,s,i){this._cursorPositionBrand=void 0,this.lineNumber=a,this.column=s,this.leftoverVisibleColumns=i}}e.CursorPosition=w;class C{static leftPosition(a,s){if(s.column>a.getLineMinColumn(s.lineNumber))return s.delta(void 0,-m.prevCharLength(a.getLineContent(s.lineNumber),s.column-1));if(s.lineNumber>1){const i=s.lineNumber-1;return new D.Position(i,a.getLineMaxColumn(i))}else return s}static leftPositionAtomicSoftTabs(a,s,i){if(s.column<=a.getLineIndentColumn(s.lineNumber)){const t=a.getLineMinColumn(s.lineNumber),n=a.getLineContent(s.lineNumber),h=y.AtomicTabMoveOperations.atomicPosition(n,s.column-1,i,0);if(h!==-1&&h+1>=t)return new D.Position(s.lineNumber,h+1)}return this.leftPosition(a,s)}static left(a,s,i){const t=a.stickyTabStops?C.leftPositionAtomicSoftTabs(s,i,a.tabSize):C.leftPosition(s,i);return new w(t.lineNumber,t.column,0)}static moveLeft(a,s,i,t,n){let h,v;if(i.hasSelection()&&!t)h=i.selection.startLineNumber,v=i.selection.startColumn;else{const u=i.position.delta(void 0,-(n-1)),d=s.normalizePosition(C.clipPositionColumn(u,s),0),r=C.left(a,s,d);h=r.lineNumber,v=r.column}return i.move(t,h,v,0)}static clipPositionColumn(a,s){return new D.Position(a.lineNumber,C.clipRange(a.column,s.getLineMinColumn(a.lineNumber),s.getLineMaxColumn(a.lineNumber)))}static clipRange(a,s,i){return a<s?s:a>i?i:a}static rightPosition(a,s,i){return i<a.getLineMaxColumn(s)?i=i+m.nextCharLength(a.getLineContent(s),i-1):s<a.getLineCount()&&(s=s+1,i=a.getLineMinColumn(s)),new D.Position(s,i)}static rightPositionAtomicSoftTabs(a,s,i,t,n){if(i<a.getLineIndentColumn(s)){const h=a.getLineContent(s),v=y.AtomicTabMoveOperations.atomicPosition(h,i-1,t,1);if(v!==-1)return new D.Position(s,v+1)}return this.rightPosition(a,s,i)}static right(a,s,i){const t=a.stickyTabStops?C.rightPositionAtomicSoftTabs(s,i.lineNumber,i.column,a.tabSize,a.indentSize):C.rightPosition(s,i.lineNumber,i.column);return new w(t.lineNumber,t.column,0)}static moveRight(a,s,i,t,n){let h,v;if(i.hasSelection()&&!t)h=i.selection.endLineNumber,v=i.selection.endColumn;else{const u=i.position.delta(void 0,n-1),d=s.normalizePosition(C.clipPositionColumn(u,s),1),r=C.right(a,s,d);h=r.lineNumber,v=r.column}return i.move(t,h,v,0)}static vertical(a,s,i,t,n,h,v,u){const d=k.CursorColumns.visibleColumnFromColumn(s.getLineContent(i),t,a.tabSize)+n,r=s.getLineCount(),l=i===1&&t===1,o=i===r&&t===s.getLineMaxColumn(i),g=h<i?l:o;if(i=h,i<1?(i=1,v?t=s.getLineMinColumn(i):t=Math.min(s.getLineMaxColumn(i),t)):i>r?(i=r,v?t=s.getLineMaxColumn(i):t=Math.min(s.getLineMaxColumn(i),t)):t=a.columnFromVisibleColumn(s,i,d),g?n=0:n=d-k.CursorColumns.visibleColumnFromColumn(s.getLineContent(i),t,a.tabSize),u!==void 0){const c=new D.Position(i,t),f=s.normalizePosition(c,u);n=n+(t-f.column),i=f.lineNumber,t=f.column}return new w(i,t,n)}static down(a,s,i,t,n,h,v){return this.vertical(a,s,i,t,n,i+h,v,4)}static moveDown(a,s,i,t,n){let h,v;i.hasSelection()&&!t?(h=i.selection.endLineNumber,v=i.selection.endColumn):(h=i.position.lineNumber,v=i.position.column);let u=0,d;do if(d=C.down(a,s,h+u,v,i.leftoverVisibleColumns,n,!0),s.normalizePosition(new D.Position(d.lineNumber,d.column),2).lineNumber>h)break;while(u++<10&&h+u<s.getLineCount());return i.move(t,d.lineNumber,d.column,d.leftoverVisibleColumns)}static translateDown(a,s,i){const t=i.selection,n=C.down(a,s,t.selectionStartLineNumber,t.selectionStartColumn,i.selectionStartLeftoverVisibleColumns,1,!1),h=C.down(a,s,t.positionLineNumber,t.positionColumn,i.leftoverVisibleColumns,1,!1);return new p.SingleCursorState(new L.Range(n.lineNumber,n.column,n.lineNumber,n.column),0,n.leftoverVisibleColumns,new D.Position(h.lineNumber,h.column),h.leftoverVisibleColumns)}static up(a,s,i,t,n,h,v){return this.vertical(a,s,i,t,n,i-h,v,3)}static moveUp(a,s,i,t,n){let h,v;i.hasSelection()&&!t?(h=i.selection.startLineNumber,v=i.selection.startColumn):(h=i.position.lineNumber,v=i.position.column);const u=C.up(a,s,h,v,i.leftoverVisibleColumns,n,!0);return i.move(t,u.lineNumber,u.column,u.leftoverVisibleColumns)}static translateUp(a,s,i){const t=i.selection,n=C.up(a,s,t.selectionStartLineNumber,t.selectionStartColumn,i.selectionStartLeftoverVisibleColumns,1,!1),h=C.up(a,s,t.positionLineNumber,t.positionColumn,i.leftoverVisibleColumns,1,!1);return new p.SingleCursorState(new L.Range(n.lineNumber,n.column,n.lineNumber,n.column),0,n.leftoverVisibleColumns,new D.Position(h.lineNumber,h.column),h.leftoverVisibleColumns)}static _isBlankLine(a,s){return a.getLineFirstNonWhitespaceColumn(s)===0}static moveToPrevBlankLine(a,s,i,t){let n=i.position.lineNumber;for(;n>1&&this._isBlankLine(s,n);)n--;for(;n>1&&!this._isBlankLine(s,n);)n--;return i.move(t,n,s.getLineMinColumn(n),0)}static moveToNextBlankLine(a,s,i,t){const n=s.getLineCount();let h=i.position.lineNumber;for(;h<n&&this._isBlankLine(s,h);)h++;for(;h<n&&!this._isBlankLine(s,h);)h++;return i.move(t,h,s.getLineMinColumn(h),0)}static moveToBeginningOfLine(a,s,i,t){const n=i.position.lineNumber,h=s.getLineMinColumn(n),v=s.getLineFirstNonWhitespaceColumn(n)||h;let u;return i.position.column===v?u=h:u=v,i.move(t,n,u,0)}static moveToEndOfLine(a,s,i,t,n){const h=i.position.lineNumber,v=s.getLineMaxColumn(h);return i.move(t,h,v,n?1073741824-v:0)}static moveToBeginningOfBuffer(a,s,i,t){return i.move(t,1,1,0)}static moveToEndOfBuffer(a,s,i,t){const n=s.getLineCount(),h=s.getLineMaxColumn(n);return i.move(t,n,h,0)}}e.MoveOperations=C}),define(te[223],ie([1,0,11,140,77,89,222,5,9]),function(J,e,m,k,D,L,y,p,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DeleteOperations=void 0;class C{static deleteRight(a,s,i,t){const n=[];let h=a!==3;for(let v=0,u=t.length;v<u;v++){const d=t[v];let r=d;if(r.isEmpty()){const l=d.getPosition(),o=y.MoveOperations.right(s,i,l);r=new p.Range(o.lineNumber,o.column,l.lineNumber,l.column)}if(r.isEmpty()){n[v]=null;continue}r.startLineNumber!==r.endLineNumber&&(h=!0),n[v]=new k.ReplaceCommand(r,"")}return[h,n]}static isAutoClosingPairDelete(a,s,i,t,n,h,v){if(s==="never"&&i==="never"||a==="never")return!1;for(let u=0,d=h.length;u<d;u++){const r=h[u],l=r.getPosition();if(!r.isEmpty())return!1;const o=n.getLineContent(l.lineNumber);if(l.column<2||l.column>=o.length+1)return!1;const g=o.charAt(l.column-2),c=t.get(g);if(!c)return!1;if((0,D.isQuote)(g)){if(i==="never")return!1}else if(s==="never")return!1;const f=o.charAt(l.column-1);let _=!1;for(const S of c)S.open===g&&S.close===f&&(_=!0);if(!_)return!1;if(a==="auto"){let S=!1;for(let I=0,E=v.length;I<E;I++){const T=v[I];if(l.lineNumber===T.startLineNumber&&l.column===T.startColumn){S=!0;break}}if(!S)return!1}}return!0}static _runAutoClosingPairDelete(a,s,i){const t=[];for(let n=0,h=i.length;n<h;n++){const v=i[n].getPosition(),u=new p.Range(v.lineNumber,v.column-1,v.lineNumber,v.column+1);t[n]=new k.ReplaceCommand(u,"")}return[!0,t]}static deleteLeft(a,s,i,t,n){if(this.isAutoClosingPairDelete(s.autoClosingDelete,s.autoClosingBrackets,s.autoClosingQuotes,s.autoClosingPairs.autoClosingPairsOpenByEnd,i,t,n))return this._runAutoClosingPairDelete(s,i,t);const h=[];let v=a!==2;for(let u=0,d=t.length;u<d;u++){const r=C.getDeleteRange(t[u],i,s);if(r.isEmpty()){h[u]=null;continue}r.startLineNumber!==r.endLineNumber&&(v=!0),h[u]=new k.ReplaceCommand(r,"")}return[v,h]}static getDeleteRange(a,s,i){if(!a.isEmpty())return a;const t=a.getPosition();if(i.useTabStops&&t.column>1){const n=s.getLineContent(t.lineNumber),h=m.firstNonWhitespaceIndex(n),v=h===-1?n.length+1:h+1;if(t.column<=v){const u=i.visibleColumnFromColumn(s,t),d=L.CursorColumns.prevIndentTabStop(u,i.indentSize),r=i.columnFromVisibleColumn(s,t.lineNumber,d);return new p.Range(t.lineNumber,r,t.lineNumber,t.column)}}return p.Range.fromPositions(C.getPositionAfterDeleteLeft(t,s),t)}static getPositionAfterDeleteLeft(a,s){if(a.column>1){const i=m.getLeftDeleteOffset(a.column-1,s.getLineContent(a.lineNumber));return a.with(void 0,i+1)}else if(a.lineNumber>1){const i=a.lineNumber-1;return new w.Position(i,s.getLineMaxColumn(i))}else return a}static cut(a,s,i){const t=[];let n=null;i.sort((h,v)=>w.Position.compare(h.getStartPosition(),v.getEndPosition()));for(let h=0,v=i.length;h<v;h++){const u=i[h];if(u.isEmpty())if(a.emptySelectionClipboard){const d=u.getPosition();let r,l,o,g;d.lineNumber<s.getLineCount()?(r=d.lineNumber,l=1,o=d.lineNumber+1,g=1):d.lineNumber>1&&n?.endLineNumber!==d.lineNumber?(r=d.lineNumber-1,l=s.getLineMaxColumn(d.lineNumber-1),o=d.lineNumber,g=s.getLineMaxColumn(d.lineNumber)):(r=d.lineNumber,l=1,o=d.lineNumber,g=s.getLineMaxColumn(d.lineNumber));const c=new p.Range(r,l,o,g);n=c,c.isEmpty()?t[h]=null:t[h]=new k.ReplaceCommand(c,"")}else t[h]=null;else t[h]=new k.ReplaceCommand(u,"")}return new D.EditOperationResult(0,t,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}}e.DeleteOperations=C}),define(te[190],ie([1,0,11,77,223,159,9,5]),function(J,e,m,k,D,L,y,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WordPartOperations=e.WordOperations=void 0;class w{static _createWord(s,i,t,n,h){return{start:n,end:h,wordType:i,nextCharClass:t}}static _createIntlWord(s,i){return{start:s.index,end:s.index+s.segment.length,wordType:1,nextCharClass:i}}static _findPreviousWordOnLine(s,i,t){const n=i.getLineContent(t.lineNumber);return this._doFindPreviousWordOnLine(n,s,t)}static _doFindPreviousWordOnLine(s,i,t){let n=0;const h=i.findPrevIntlWordBeforeOrAtOffset(s,t.column-2);for(let v=t.column-2;v>=0;v--){const u=s.charCodeAt(v),d=i.get(u);if(h&&v===h.index)return this._createIntlWord(h,d);if(d===0){if(n===2)return this._createWord(s,n,d,v+1,this._findEndOfWord(s,i,n,v+1));n=1}else if(d===2){if(n===1)return this._createWord(s,n,d,v+1,this._findEndOfWord(s,i,n,v+1));n=2}else if(d===1&&n!==0)return this._createWord(s,n,d,v+1,this._findEndOfWord(s,i,n,v+1))}return n!==0?this._createWord(s,n,1,0,this._findEndOfWord(s,i,n,0)):null}static _findEndOfWord(s,i,t,n){const h=i.findNextIntlWordAtOrAfterOffset(s,n),v=s.length;for(let u=n;u<v;u++){const d=s.charCodeAt(u),r=i.get(d);if(h&&u===h.index+h.segment.length||r===1||t===1&&r===2||t===2&&r===0)return u}return v}static _findNextWordOnLine(s,i,t){const n=i.getLineContent(t.lineNumber);return this._doFindNextWordOnLine(n,s,t)}static _doFindNextWordOnLine(s,i,t){let n=0;const h=s.length,v=i.findNextIntlWordAtOrAfterOffset(s,t.column-1);for(let u=t.column-1;u<h;u++){const d=s.charCodeAt(u),r=i.get(d);if(v&&u===v.index)return this._createIntlWord(v,r);if(r===0){if(n===2)return this._createWord(s,n,r,this._findStartOfWord(s,i,n,u-1),u);n=1}else if(r===2){if(n===1)return this._createWord(s,n,r,this._findStartOfWord(s,i,n,u-1),u);n=2}else if(r===1&&n!==0)return this._createWord(s,n,r,this._findStartOfWord(s,i,n,u-1),u)}return n!==0?this._createWord(s,n,1,this._findStartOfWord(s,i,n,h-1),h):null}static _findStartOfWord(s,i,t,n){const h=i.findPrevIntlWordBeforeOrAtOffset(s,n);for(let v=n;v>=0;v--){const u=s.charCodeAt(v),d=i.get(u);if(h&&v===h.index)return v;if(d===1||t===1&&d===2||t===2&&d===0)return v+1}return 0}static moveWordLeft(s,i,t,n){let h=t.lineNumber,v=t.column;v===1&&h>1&&(h=h-1,v=i.getLineMaxColumn(h));let u=w._findPreviousWordOnLine(s,i,new y.Position(h,v));if(n===0)return new y.Position(h,u?u.start+1:1);if(n===1)return u&&u.wordType===2&&u.end-u.start===1&&u.nextCharClass===0&&(u=w._findPreviousWordOnLine(s,i,new y.Position(h,u.start+1))),new y.Position(h,u?u.start+1:1);if(n===3){for(;u&&u.wordType===2;)u=w._findPreviousWordOnLine(s,i,new y.Position(h,u.start+1));return new y.Position(h,u?u.start+1:1)}return u&&v<=u.end+1&&(u=w._findPreviousWordOnLine(s,i,new y.Position(h,u.start+1))),new y.Position(h,u?u.end+1:1)}static _moveWordPartLeft(s,i){const t=i.lineNumber,n=s.getLineMaxColumn(t);if(i.column===1)return t>1?new y.Position(t-1,s.getLineMaxColumn(t-1)):i;const h=s.getLineContent(t);for(let v=i.column-1;v>1;v--){const u=h.charCodeAt(v-2),d=h.charCodeAt(v-1);if(u===95&&d!==95)return new y.Position(t,v);if(u===45&&d!==45)return new y.Position(t,v);if((m.isLowerAsciiLetter(u)||m.isAsciiDigit(u))&&m.isUpperAsciiLetter(d))return new y.Position(t,v);if(m.isUpperAsciiLetter(u)&&m.isUpperAsciiLetter(d)&&v+1<n){const r=h.charCodeAt(v);if(m.isLowerAsciiLetter(r)||m.isAsciiDigit(r))return new y.Position(t,v)}}return new y.Position(t,1)}static moveWordRight(s,i,t,n){let h=t.lineNumber,v=t.column,u=!1;v===i.getLineMaxColumn(h)&&h<i.getLineCount()&&(u=!0,h=h+1,v=1);let d=w._findNextWordOnLine(s,i,new y.Position(h,v));if(n===2)d&&d.wordType===2&&d.end-d.start===1&&d.nextCharClass===0&&(d=w._findNextWordOnLine(s,i,new y.Position(h,d.end+1))),d?v=d.end+1:v=i.getLineMaxColumn(h);else if(n===3){for(u&&(v=0);d&&(d.wordType===2||d.start+1<=v);)d=w._findNextWordOnLine(s,i,new y.Position(h,d.end+1));d?v=d.start+1:v=i.getLineMaxColumn(h)}else d&&!u&&v>=d.start+1&&(d=w._findNextWordOnLine(s,i,new y.Position(h,d.end+1))),d?v=d.start+1:v=i.getLineMaxColumn(h);return new y.Position(h,v)}static _moveWordPartRight(s,i){const t=i.lineNumber,n=s.getLineMaxColumn(t);if(i.column===n)return t<s.getLineCount()?new y.Position(t+1,1):i;const h=s.getLineContent(t);for(let v=i.column+1;v<n;v++){const u=h.charCodeAt(v-2),d=h.charCodeAt(v-1);if(u!==95&&d===95)return new y.Position(t,v);if(u!==45&&d===45)return new y.Position(t,v);if((m.isLowerAsciiLetter(u)||m.isAsciiDigit(u))&&m.isUpperAsciiLetter(d))return new y.Position(t,v);if(m.isUpperAsciiLetter(u)&&m.isUpperAsciiLetter(d)&&v+1<n){const r=h.charCodeAt(v);if(m.isLowerAsciiLetter(r)||m.isAsciiDigit(r))return new y.Position(t,v)}}return new y.Position(t,n)}static _deleteWordLeftWhitespace(s,i){const t=s.getLineContent(i.lineNumber),n=i.column-2,h=m.lastNonWhitespaceIndex(t,n);return h+1<n?new p.Range(i.lineNumber,h+2,i.lineNumber,i.column):null}static deleteWordLeft(s,i){const t=s.wordSeparators,n=s.model,h=s.selection,v=s.whitespaceHeuristics;if(!h.isEmpty())return h;if(D.DeleteOperations.isAutoClosingPairDelete(s.autoClosingDelete,s.autoClosingBrackets,s.autoClosingQuotes,s.autoClosingPairs.autoClosingPairsOpenByEnd,s.model,[s.selection],s.autoClosedCharacters)){const o=s.selection.getPosition();return new p.Range(o.lineNumber,o.column-1,o.lineNumber,o.column+1)}const u=new y.Position(h.positionLineNumber,h.positionColumn);let d=u.lineNumber,r=u.column;if(d===1&&r===1)return null;if(v){const o=this._deleteWordLeftWhitespace(n,u);if(o)return o}let l=w._findPreviousWordOnLine(t,n,u);return i===0?l?r=l.start+1:r>1?r=1:(d--,r=n.getLineMaxColumn(d)):(l&&r<=l.end+1&&(l=w._findPreviousWordOnLine(t,n,new y.Position(d,l.start+1))),l?r=l.end+1:r>1?r=1:(d--,r=n.getLineMaxColumn(d))),new p.Range(d,r,u.lineNumber,u.column)}static deleteInsideWord(s,i,t){if(!t.isEmpty())return t;const n=new y.Position(t.positionLineNumber,t.positionColumn),h=this._deleteInsideWordWhitespace(i,n);return h||this._deleteInsideWordDetermineDeleteRange(s,i,n)}static _charAtIsWhitespace(s,i){const t=s.charCodeAt(i);return t===32||t===9}static _deleteInsideWordWhitespace(s,i){const t=s.getLineContent(i.lineNumber),n=t.length;if(n===0)return null;let h=Math.max(i.column-2,0);if(!this._charAtIsWhitespace(t,h))return null;let v=Math.min(i.column-1,n-1);if(!this._charAtIsWhitespace(t,v))return null;for(;h>0&&this._charAtIsWhitespace(t,h-1);)h--;for(;v+1<n&&this._charAtIsWhitespace(t,v+1);)v++;return new p.Range(i.lineNumber,h+1,i.lineNumber,v+2)}static _deleteInsideWordDetermineDeleteRange(s,i,t){const n=i.getLineContent(t.lineNumber),h=n.length;if(h===0)return t.lineNumber>1?new p.Range(t.lineNumber-1,i.getLineMaxColumn(t.lineNumber-1),t.lineNumber,1):t.lineNumber<i.getLineCount()?new p.Range(t.lineNumber,1,t.lineNumber+1,1):new p.Range(t.lineNumber,1,t.lineNumber,1);const v=o=>o.start+1<=t.column&&t.column<=o.end+1,u=(o,g)=>(o=Math.min(o,t.column),g=Math.max(g,t.column),new p.Range(t.lineNumber,o,t.lineNumber,g)),d=o=>{let g=o.start+1,c=o.end+1,f=!1;for(;c-1<h&&this._charAtIsWhitespace(n,c-1);)f=!0,c++;if(!f)for(;g>1&&this._charAtIsWhitespace(n,g-2);)g--;return u(g,c)},r=w._findPreviousWordOnLine(s,i,t);if(r&&v(r))return d(r);const l=w._findNextWordOnLine(s,i,t);return l&&v(l)?d(l):r&&l?u(r.end+1,l.start+1):r?u(r.start+1,r.end+1):l?u(l.start+1,l.end+1):u(1,h+1)}static _deleteWordPartLeft(s,i){if(!i.isEmpty())return i;const t=i.getPosition(),n=w._moveWordPartLeft(s,t);return new p.Range(t.lineNumber,t.column,n.lineNumber,n.column)}static _findFirstNonWhitespaceChar(s,i){const t=s.length;for(let n=i;n<t;n++){const h=s.charAt(n);if(h!==" "&&h!=="	")return n}return t}static _deleteWordRightWhitespace(s,i){const t=s.getLineContent(i.lineNumber),n=i.column-1,h=this._findFirstNonWhitespaceChar(t,n);return n+1<h?new p.Range(i.lineNumber,i.column,i.lineNumber,h+1):null}static deleteWordRight(s,i){const t=s.wordSeparators,n=s.model,h=s.selection,v=s.whitespaceHeuristics;if(!h.isEmpty())return h;const u=new y.Position(h.positionLineNumber,h.positionColumn);let d=u.lineNumber,r=u.column;const l=n.getLineCount(),o=n.getLineMaxColumn(d);if(d===l&&r===o)return null;if(v){const c=this._deleteWordRightWhitespace(n,u);if(c)return c}let g=w._findNextWordOnLine(t,n,u);return i===2?g?r=g.end+1:r<o||d===l?r=o:(d++,g=w._findNextWordOnLine(t,n,new y.Position(d,1)),g?r=g.start+1:r=n.getLineMaxColumn(d)):(g&&r>=g.start+1&&(g=w._findNextWordOnLine(t,n,new y.Position(d,g.end+1))),g?r=g.start+1:r<o||d===l?r=o:(d++,g=w._findNextWordOnLine(t,n,new y.Position(d,1)),g?r=g.start+1:r=n.getLineMaxColumn(d))),new p.Range(d,r,u.lineNumber,u.column)}static _deleteWordPartRight(s,i){if(!i.isEmpty())return i;const t=i.getPosition(),n=w._moveWordPartRight(s,t);return new p.Range(t.lineNumber,t.column,n.lineNumber,n.column)}static _createWordAtPosition(s,i,t){const n=new p.Range(i,t.start+1,i,t.end+1);return{word:s.getValueInRange(n),startColumn:n.startColumn,endColumn:n.endColumn}}static getWordAtPosition(s,i,t,n){const h=(0,L.getMapForWordSeparators)(i,t),v=w._findPreviousWordOnLine(h,s,n);if(v&&v.wordType===1&&v.start<=n.column-1&&n.column-1<=v.end)return w._createWordAtPosition(s,n.lineNumber,v);const u=w._findNextWordOnLine(h,s,n);return u&&u.wordType===1&&u.start<=n.column-1&&n.column-1<=u.end?w._createWordAtPosition(s,n.lineNumber,u):null}static word(s,i,t,n,h){const v=(0,L.getMapForWordSeparators)(s.wordSeparators,s.wordSegmenterLocales),u=w._findPreviousWordOnLine(v,i,h),d=w._findNextWordOnLine(v,i,h);if(!n){let c,f;return u&&u.wordType===1&&u.start<=h.column-1&&h.column-1<=u.end?(c=u.start+1,f=u.end+1):d&&d.wordType===1&&d.start<=h.column-1&&h.column-1<=d.end?(c=d.start+1,f=d.end+1):(u?c=u.end+1:c=1,d?f=d.start+1:f=i.getLineMaxColumn(h.lineNumber)),new k.SingleCursorState(new p.Range(h.lineNumber,c,h.lineNumber,f),1,0,new y.Position(h.lineNumber,f),0)}let r,l;u&&u.wordType===1&&u.start<h.column-1&&h.column-1<u.end?(r=u.start+1,l=u.end+1):d&&d.wordType===1&&d.start<h.column-1&&h.column-1<d.end?(r=d.start+1,l=d.end+1):(r=h.column,l=h.column);const o=h.lineNumber;let g;if(t.selectionStart.containsPosition(h))g=t.selectionStart.endColumn;else if(h.isBeforeOrEqual(t.selectionStart.getStartPosition())){g=r;const c=new y.Position(o,g);t.selectionStart.containsPosition(c)&&(g=t.selectionStart.endColumn)}else{g=l;const c=new y.Position(o,g);t.selectionStart.containsPosition(c)&&(g=t.selectionStart.startColumn)}return t.move(!0,o,g,0)}}e.WordOperations=w;class C extends w{static deleteWordPartLeft(s){const i=b([w.deleteWordLeft(s,0),w.deleteWordLeft(s,2),w._deleteWordPartLeft(s.model,s.selection)]);return i.sort(p.Range.compareRangesUsingEnds),i[2]}static deleteWordPartRight(s){const i=b([w.deleteWordRight(s,0),w.deleteWordRight(s,2),w._deleteWordPartRight(s.model,s.selection)]);return i.sort(p.Range.compareRangesUsingStarts),i[0]}static moveWordPartLeft(s,i,t){const n=b([w.moveWordLeft(s,i,t,0),w.moveWordLeft(s,i,t,2),w._moveWordPartLeft(i,t)]);return n.sort(y.Position.compare),n[2]}static moveWordPartRight(s,i,t){const n=b([w.moveWordRight(s,i,t,0),w.moveWordRight(s,i,t,2),w._moveWordPartRight(i,t)]);return n.sort(y.Position.compare),n[0]}}e.WordPartOperations=C;function b(a){return a.filter(s=>!!s)}}),define(te[224],ie([1,0,21,77,222,190,9,5]),function(J,e,m,k,D,L,y,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorMove=e.CursorMoveCommands=void 0;class w{static addCursorDown(a,s,i){const t=[];let n=0;for(let h=0,v=s.length;h<v;h++){const u=s[h];t[n++]=new k.CursorState(u.modelState,u.viewState),i?t[n++]=k.CursorState.fromModelState(D.MoveOperations.translateDown(a.cursorConfig,a.model,u.modelState)):t[n++]=k.CursorState.fromViewState(D.MoveOperations.translateDown(a.cursorConfig,a,u.viewState))}return t}static addCursorUp(a,s,i){const t=[];let n=0;for(let h=0,v=s.length;h<v;h++){const u=s[h];t[n++]=new k.CursorState(u.modelState,u.viewState),i?t[n++]=k.CursorState.fromModelState(D.MoveOperations.translateUp(a.cursorConfig,a.model,u.modelState)):t[n++]=k.CursorState.fromViewState(D.MoveOperations.translateUp(a.cursorConfig,a,u.viewState))}return t}static moveToBeginningOfLine(a,s,i){const t=[];for(let n=0,h=s.length;n<h;n++){const v=s[n];t[n]=this._moveToLineStart(a,v,i)}return t}static _moveToLineStart(a,s,i){const t=s.viewState.position.column,n=s.modelState.position.column,h=t===n,v=s.viewState.position.lineNumber,u=a.getLineFirstNonWhitespaceColumn(v);return!h&&!(t===u)?this._moveToLineStartByView(a,s,i):this._moveToLineStartByModel(a,s,i)}static _moveToLineStartByView(a,s,i){return k.CursorState.fromViewState(D.MoveOperations.moveToBeginningOfLine(a.cursorConfig,a,s.viewState,i))}static _moveToLineStartByModel(a,s,i){return k.CursorState.fromModelState(D.MoveOperations.moveToBeginningOfLine(a.cursorConfig,a.model,s.modelState,i))}static moveToEndOfLine(a,s,i,t){const n=[];for(let h=0,v=s.length;h<v;h++){const u=s[h];n[h]=this._moveToLineEnd(a,u,i,t)}return n}static _moveToLineEnd(a,s,i,t){const n=s.viewState.position,h=a.getLineMaxColumn(n.lineNumber),v=n.column===h,u=s.modelState.position,d=a.model.getLineMaxColumn(u.lineNumber),r=h-n.column===d-u.column;return v||r?this._moveToLineEndByModel(a,s,i,t):this._moveToLineEndByView(a,s,i,t)}static _moveToLineEndByView(a,s,i,t){return k.CursorState.fromViewState(D.MoveOperations.moveToEndOfLine(a.cursorConfig,a,s.viewState,i,t))}static _moveToLineEndByModel(a,s,i,t){return k.CursorState.fromModelState(D.MoveOperations.moveToEndOfLine(a.cursorConfig,a.model,s.modelState,i,t))}static expandLineSelection(a,s){const i=[];for(let t=0,n=s.length;t<n;t++){const h=s[t],v=h.modelState.selection.startLineNumber,u=a.model.getLineCount();let d=h.modelState.selection.endLineNumber,r;d===u?r=a.model.getLineMaxColumn(u):(d++,r=1),i[t]=k.CursorState.fromModelState(new k.SingleCursorState(new p.Range(v,1,v,1),0,0,new y.Position(d,r),0))}return i}static moveToBeginningOfBuffer(a,s,i){const t=[];for(let n=0,h=s.length;n<h;n++){const v=s[n];t[n]=k.CursorState.fromModelState(D.MoveOperations.moveToBeginningOfBuffer(a.cursorConfig,a.model,v.modelState,i))}return t}static moveToEndOfBuffer(a,s,i){const t=[];for(let n=0,h=s.length;n<h;n++){const v=s[n];t[n]=k.CursorState.fromModelState(D.MoveOperations.moveToEndOfBuffer(a.cursorConfig,a.model,v.modelState,i))}return t}static selectAll(a,s){const i=a.model.getLineCount(),t=a.model.getLineMaxColumn(i);return k.CursorState.fromModelState(new k.SingleCursorState(new p.Range(1,1,1,1),0,0,new y.Position(i,t),0))}static line(a,s,i,t,n){const h=a.model.validatePosition(t),v=n?a.coordinatesConverter.validateViewPosition(new y.Position(n.lineNumber,n.column),h):a.coordinatesConverter.convertModelPositionToViewPosition(h);if(!i){const d=a.model.getLineCount();let r=h.lineNumber+1,l=1;return r>d&&(r=d,l=a.model.getLineMaxColumn(r)),k.CursorState.fromModelState(new k.SingleCursorState(new p.Range(h.lineNumber,1,r,l),2,0,new y.Position(r,l),0))}const u=s.modelState.selectionStart.getStartPosition().lineNumber;if(h.lineNumber<u)return k.CursorState.fromViewState(s.viewState.move(!0,v.lineNumber,1,0));if(h.lineNumber>u){const d=a.getLineCount();let r=v.lineNumber+1,l=1;return r>d&&(r=d,l=a.getLineMaxColumn(r)),k.CursorState.fromViewState(s.viewState.move(!0,r,l,0))}else{const d=s.modelState.selectionStart.getEndPosition();return k.CursorState.fromModelState(s.modelState.move(!0,d.lineNumber,d.column,0))}}static word(a,s,i,t){const n=a.model.validatePosition(t);return k.CursorState.fromModelState(L.WordOperations.word(a.cursorConfig,a.model,s.modelState,i,n))}static cancelSelection(a,s){if(!s.modelState.hasSelection())return new k.CursorState(s.modelState,s.viewState);const i=s.viewState.position.lineNumber,t=s.viewState.position.column;return k.CursorState.fromViewState(new k.SingleCursorState(new p.Range(i,t,i,t),0,0,new y.Position(i,t),0))}static moveTo(a,s,i,t,n){if(i){if(s.modelState.selectionStartKind===1)return this.word(a,s,i,t);if(s.modelState.selectionStartKind===2)return this.line(a,s,i,t,n)}const h=a.model.validatePosition(t),v=n?a.coordinatesConverter.validateViewPosition(new y.Position(n.lineNumber,n.column),h):a.coordinatesConverter.convertModelPositionToViewPosition(h);return k.CursorState.fromViewState(s.viewState.move(i,v.lineNumber,v.column,0))}static simpleMove(a,s,i,t,n,h){switch(i){case 0:return h===4?this._moveHalfLineLeft(a,s,t):this._moveLeft(a,s,t,n);case 1:return h===4?this._moveHalfLineRight(a,s,t):this._moveRight(a,s,t,n);case 2:return h===2?this._moveUpByViewLines(a,s,t,n):this._moveUpByModelLines(a,s,t,n);case 3:return h===2?this._moveDownByViewLines(a,s,t,n):this._moveDownByModelLines(a,s,t,n);case 4:return h===2?s.map(v=>k.CursorState.fromViewState(D.MoveOperations.moveToPrevBlankLine(a.cursorConfig,a,v.viewState,t))):s.map(v=>k.CursorState.fromModelState(D.MoveOperations.moveToPrevBlankLine(a.cursorConfig,a.model,v.modelState,t)));case 5:return h===2?s.map(v=>k.CursorState.fromViewState(D.MoveOperations.moveToNextBlankLine(a.cursorConfig,a,v.viewState,t))):s.map(v=>k.CursorState.fromModelState(D.MoveOperations.moveToNextBlankLine(a.cursorConfig,a.model,v.modelState,t)));case 6:return this._moveToViewMinColumn(a,s,t);case 7:return this._moveToViewFirstNonWhitespaceColumn(a,s,t);case 8:return this._moveToViewCenterColumn(a,s,t);case 9:return this._moveToViewMaxColumn(a,s,t);case 10:return this._moveToViewLastNonWhitespaceColumn(a,s,t);default:return null}}static viewportMove(a,s,i,t,n){const h=a.getCompletelyVisibleViewRange(),v=a.coordinatesConverter.convertViewRangeToModelRange(h);switch(i){case 11:{const u=this._firstLineNumberInRange(a.model,v,n),d=a.model.getLineFirstNonWhitespaceColumn(u);return[this._moveToModelPosition(a,s[0],t,u,d)]}case 13:{const u=this._lastLineNumberInRange(a.model,v,n),d=a.model.getLineFirstNonWhitespaceColumn(u);return[this._moveToModelPosition(a,s[0],t,u,d)]}case 12:{const u=Math.round((v.startLineNumber+v.endLineNumber)/2),d=a.model.getLineFirstNonWhitespaceColumn(u);return[this._moveToModelPosition(a,s[0],t,u,d)]}case 14:{const u=[];for(let d=0,r=s.length;d<r;d++){const l=s[d];u[d]=this.findPositionInViewportIfOutside(a,l,h,t)}return u}default:return null}}static findPositionInViewportIfOutside(a,s,i,t){const n=s.viewState.position.lineNumber;if(i.startLineNumber<=n&&n<=i.endLineNumber-1)return new k.CursorState(s.modelState,s.viewState);{let h;n>i.endLineNumber-1?h=i.endLineNumber-1:n<i.startLineNumber?h=i.startLineNumber:h=n;const v=D.MoveOperations.vertical(a.cursorConfig,a,n,s.viewState.position.column,s.viewState.leftoverVisibleColumns,h,!1);return k.CursorState.fromViewState(s.viewState.move(t,v.lineNumber,v.column,v.leftoverVisibleColumns))}}static _firstLineNumberInRange(a,s,i){let t=s.startLineNumber;return s.startColumn!==a.getLineMinColumn(t)&&t++,Math.min(s.endLineNumber,t+i-1)}static _lastLineNumberInRange(a,s,i){let t=s.startLineNumber;return s.startColumn!==a.getLineMinColumn(t)&&t++,Math.max(t,s.endLineNumber-i+1)}static _moveLeft(a,s,i,t){return s.map(n=>k.CursorState.fromViewState(D.MoveOperations.moveLeft(a.cursorConfig,a,n.viewState,i,t)))}static _moveHalfLineLeft(a,s,i){const t=[];for(let n=0,h=s.length;n<h;n++){const v=s[n],u=v.viewState.position.lineNumber,d=Math.round(a.getLineLength(u)/2);t[n]=k.CursorState.fromViewState(D.MoveOperations.moveLeft(a.cursorConfig,a,v.viewState,i,d))}return t}static _moveRight(a,s,i,t){return s.map(n=>k.CursorState.fromViewState(D.MoveOperations.moveRight(a.cursorConfig,a,n.viewState,i,t)))}static _moveHalfLineRight(a,s,i){const t=[];for(let n=0,h=s.length;n<h;n++){const v=s[n],u=v.viewState.position.lineNumber,d=Math.round(a.getLineLength(u)/2);t[n]=k.CursorState.fromViewState(D.MoveOperations.moveRight(a.cursorConfig,a,v.viewState,i,d))}return t}static _moveDownByViewLines(a,s,i,t){const n=[];for(let h=0,v=s.length;h<v;h++){const u=s[h];n[h]=k.CursorState.fromViewState(D.MoveOperations.moveDown(a.cursorConfig,a,u.viewState,i,t))}return n}static _moveDownByModelLines(a,s,i,t){const n=[];for(let h=0,v=s.length;h<v;h++){const u=s[h];n[h]=k.CursorState.fromModelState(D.MoveOperations.moveDown(a.cursorConfig,a.model,u.modelState,i,t))}return n}static _moveUpByViewLines(a,s,i,t){const n=[];for(let h=0,v=s.length;h<v;h++){const u=s[h];n[h]=k.CursorState.fromViewState(D.MoveOperations.moveUp(a.cursorConfig,a,u.viewState,i,t))}return n}static _moveUpByModelLines(a,s,i,t){const n=[];for(let h=0,v=s.length;h<v;h++){const u=s[h];n[h]=k.CursorState.fromModelState(D.MoveOperations.moveUp(a.cursorConfig,a.model,u.modelState,i,t))}return n}static _moveToViewPosition(a,s,i,t,n){return k.CursorState.fromViewState(s.viewState.move(i,t,n,0))}static _moveToModelPosition(a,s,i,t,n){return k.CursorState.fromModelState(s.modelState.move(i,t,n,0))}static _moveToViewMinColumn(a,s,i){const t=[];for(let n=0,h=s.length;n<h;n++){const v=s[n],u=v.viewState.position.lineNumber,d=a.getLineMinColumn(u);t[n]=this._moveToViewPosition(a,v,i,u,d)}return t}static _moveToViewFirstNonWhitespaceColumn(a,s,i){const t=[];for(let n=0,h=s.length;n<h;n++){const v=s[n],u=v.viewState.position.lineNumber,d=a.getLineFirstNonWhitespaceColumn(u);t[n]=this._moveToViewPosition(a,v,i,u,d)}return t}static _moveToViewCenterColumn(a,s,i){const t=[];for(let n=0,h=s.length;n<h;n++){const v=s[n],u=v.viewState.position.lineNumber,d=Math.round((a.getLineMaxColumn(u)+a.getLineMinColumn(u))/2);t[n]=this._moveToViewPosition(a,v,i,u,d)}return t}static _moveToViewMaxColumn(a,s,i){const t=[];for(let n=0,h=s.length;n<h;n++){const v=s[n],u=v.viewState.position.lineNumber,d=a.getLineMaxColumn(u);t[n]=this._moveToViewPosition(a,v,i,u,d)}return t}static _moveToViewLastNonWhitespaceColumn(a,s,i){const t=[];for(let n=0,h=s.length;n<h;n++){const v=s[n],u=v.viewState.position.lineNumber,d=a.getLineLastNonWhitespaceColumn(u);t[n]=this._moveToViewPosition(a,v,i,u,d)}return t}}e.CursorMoveCommands=w;var C;(function(b){const a=function(i){if(!m.isObject(i))return!1;const t=i;return!(!m.isString(t.to)||!m.isUndefined(t.select)&&!m.isBoolean(t.select)||!m.isUndefined(t.by)&&!m.isString(t.by)||!m.isUndefined(t.value)&&!m.isNumber(t.value))};b.metadata={description:"Move cursor to a logical position in the view",args:[{name:"Cursor move argument object",description:`Property-value pairs that can be passed through this argument:
					* 'to': A mandatory logical position value providing where to move the cursor.
						\`\`\`
						'left', 'right', 'up', 'down', 'prevBlankLine', 'nextBlankLine',
						'wrappedLineStart', 'wrappedLineEnd', 'wrappedLineColumnCenter'
						'wrappedLineFirstNonWhitespaceCharacter', 'wrappedLineLastNonWhitespaceCharacter'
						'viewPortTop', 'viewPortCenter', 'viewPortBottom', 'viewPortIfOutside'
						\`\`\`
					* 'by': Unit to move. Default is computed based on 'to' value.
						\`\`\`
						'line', 'wrappedLine', 'character', 'halfLine'
						\`\`\`
					* 'value': Number of units to move. Default is '1'.
					* 'select': If 'true' makes the selection. Default is 'false'.
				`,constraint:a,schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["left","right","up","down","prevBlankLine","nextBlankLine","wrappedLineStart","wrappedLineEnd","wrappedLineColumnCenter","wrappedLineFirstNonWhitespaceCharacter","wrappedLineLastNonWhitespaceCharacter","viewPortTop","viewPortCenter","viewPortBottom","viewPortIfOutside"]},by:{type:"string",enum:["line","wrappedLine","character","halfLine"]},value:{type:"number",default:1},select:{type:"boolean",default:!1}}}}]},b.RawDirection={Left:"left",Right:"right",Up:"up",Down:"down",PrevBlankLine:"prevBlankLine",NextBlankLine:"nextBlankLine",WrappedLineStart:"wrappedLineStart",WrappedLineFirstNonWhitespaceCharacter:"wrappedLineFirstNonWhitespaceCharacter",WrappedLineColumnCenter:"wrappedLineColumnCenter",WrappedLineEnd:"wrappedLineEnd",WrappedLineLastNonWhitespaceCharacter:"wrappedLineLastNonWhitespaceCharacter",ViewPortTop:"viewPortTop",ViewPortCenter:"viewPortCenter",ViewPortBottom:"viewPortBottom",ViewPortIfOutside:"viewPortIfOutside"},b.RawUnit={Line:"line",WrappedLine:"wrappedLine",Character:"character",HalfLine:"halfLine"};function s(i){if(!i.to)return null;let t;switch(i.to){case b.RawDirection.Left:t=0;break;case b.RawDirection.Right:t=1;break;case b.RawDirection.Up:t=2;break;case b.RawDirection.Down:t=3;break;case b.RawDirection.PrevBlankLine:t=4;break;case b.RawDirection.NextBlankLine:t=5;break;case b.RawDirection.WrappedLineStart:t=6;break;case b.RawDirection.WrappedLineFirstNonWhitespaceCharacter:t=7;break;case b.RawDirection.WrappedLineColumnCenter:t=8;break;case b.RawDirection.WrappedLineEnd:t=9;break;case b.RawDirection.WrappedLineLastNonWhitespaceCharacter:t=10;break;case b.RawDirection.ViewPortTop:t=11;break;case b.RawDirection.ViewPortBottom:t=13;break;case b.RawDirection.ViewPortCenter:t=12;break;case b.RawDirection.ViewPortIfOutside:t=14;break;default:return null}let n=0;switch(i.by){case b.RawUnit.Line:n=1;break;case b.RawUnit.WrappedLine:n=2;break;case b.RawUnit.Character:n=3;break;case b.RawUnit.HalfLine:n=4;break}return{direction:t,unit:n,select:!!i.select,value:i.value||1}}b.parse=s})(C||(e.CursorMove=C={}))}),define(te[536],ie([1,0,77,9,5,24]),function(J,e,m,k,D,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Cursor=void 0;class y{constructor(w){this._selTrackedRange=null,this._trackSelection=!0,this._setState(w,new m.SingleCursorState(new D.Range(1,1,1,1),0,0,new k.Position(1,1),0),new m.SingleCursorState(new D.Range(1,1,1,1),0,0,new k.Position(1,1),0))}dispose(w){this._removeTrackedRange(w)}startTrackingSelection(w){this._trackSelection=!0,this._updateTrackedRange(w)}stopTrackingSelection(w){this._trackSelection=!1,this._removeTrackedRange(w)}_updateTrackedRange(w){this._trackSelection&&(this._selTrackedRange=w.model._setTrackedRange(this._selTrackedRange,this.modelState.selection,0))}_removeTrackedRange(w){this._selTrackedRange=w.model._setTrackedRange(this._selTrackedRange,null,0)}asCursorState(){return new m.CursorState(this.modelState,this.viewState)}readSelectionFromMarkers(w){const C=w.model._getTrackedRange(this._selTrackedRange);return this.modelState.selection.isEmpty()&&!C.isEmpty()?L.Selection.fromRange(C.collapseToEnd(),this.modelState.selection.getDirection()):L.Selection.fromRange(C,this.modelState.selection.getDirection())}ensureValidState(w){this._setState(w,this.modelState,this.viewState)}setState(w,C,b){this._setState(w,C,b)}static _validatePositionWithCache(w,C,b,a){return C.equals(b)?a:w.normalizePosition(C,2)}static _validateViewState(w,C){const b=C.position,a=C.selectionStart.getStartPosition(),s=C.selectionStart.getEndPosition(),i=w.normalizePosition(b,2),t=this._validatePositionWithCache(w,a,b,i),n=this._validatePositionWithCache(w,s,a,t);return b.equals(i)&&a.equals(t)&&s.equals(n)?C:new m.SingleCursorState(D.Range.fromPositions(t,n),C.selectionStartKind,C.selectionStartLeftoverVisibleColumns+a.column-t.column,i,C.leftoverVisibleColumns+b.column-i.column)}_setState(w,C,b){if(b&&(b=y._validateViewState(w.viewModel,b)),C){const a=w.model.validateRange(C.selectionStart),s=C.selectionStart.equalsRange(a)?C.selectionStartLeftoverVisibleColumns:0,i=w.model.validatePosition(C.position),t=C.position.equals(i)?C.leftoverVisibleColumns:0;C=new m.SingleCursorState(a,C.selectionStartKind,s,i,t)}else{if(!b)return;const a=w.model.validateRange(w.coordinatesConverter.convertViewRangeToModelRange(b.selectionStart)),s=w.model.validatePosition(w.coordinatesConverter.convertViewPositionToModelPosition(b.position));C=new m.SingleCursorState(a,b.selectionStartKind,b.selectionStartLeftoverVisibleColumns,s,b.leftoverVisibleColumns)}if(b){const a=w.coordinatesConverter.validateViewRange(b.selectionStart,C.selectionStart),s=w.coordinatesConverter.validateViewPosition(b.position,C.position);b=new m.SingleCursorState(a,C.selectionStartKind,C.selectionStartLeftoverVisibleColumns,s,C.leftoverVisibleColumns)}else{const a=w.coordinatesConverter.convertModelPositionToViewPosition(new k.Position(C.selectionStart.startLineNumber,C.selectionStart.startColumn)),s=w.coordinatesConverter.convertModelPositionToViewPosition(new k.Position(C.selectionStart.endLineNumber,C.selectionStart.endColumn)),i=new D.Range(a.lineNumber,a.column,s.lineNumber,s.column),t=w.coordinatesConverter.convertModelPositionToViewPosition(C.position);b=new m.SingleCursorState(i,C.selectionStartKind,C.selectionStartLeftoverVisibleColumns,t,C.leftoverVisibleColumns)}this.modelState=C,this.viewState=b,this._updateTrackedRange(w)}}e.Cursor=y}),define(te[537],ie([1,0,13,66,77,536,9,5,24]),function(J,e,m,k,D,L,y,p,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorCollection=void 0;class C{constructor(a){this.context=a,this.cursors=[new L.Cursor(a)],this.lastAddedCursorIndex=0}dispose(){for(const a of this.cursors)a.dispose(this.context)}startTrackingSelections(){for(const a of this.cursors)a.startTrackingSelection(this.context)}stopTrackingSelections(){for(const a of this.cursors)a.stopTrackingSelection(this.context)}updateContext(a){this.context=a}ensureValidState(){for(const a of this.cursors)a.ensureValidState(this.context)}readSelectionFromMarkers(){return this.cursors.map(a=>a.readSelectionFromMarkers(this.context))}getAll(){return this.cursors.map(a=>a.asCursorState())}getViewPositions(){return this.cursors.map(a=>a.viewState.position)}getTopMostViewPosition(){return(0,k.findFirstMinBy)(this.cursors,(0,m.compareBy)(a=>a.viewState.position,y.Position.compare)).viewState.position}getBottomMostViewPosition(){return(0,k.findLastMaxBy)(this.cursors,(0,m.compareBy)(a=>a.viewState.position,y.Position.compare)).viewState.position}getSelections(){return this.cursors.map(a=>a.modelState.selection)}getViewSelections(){return this.cursors.map(a=>a.viewState.selection)}setSelections(a){this.setStates(D.CursorState.fromModelSelections(a))}getPrimaryCursor(){return this.cursors[0].asCursorState()}setStates(a){a!==null&&(this.cursors[0].setState(this.context,a[0].modelState,a[0].viewState),this._setSecondaryStates(a.slice(1)))}_setSecondaryStates(a){const s=this.cursors.length-1,i=a.length;if(s<i){const t=i-s;for(let n=0;n<t;n++)this._addSecondaryCursor()}else if(s>i){const t=s-i;for(let n=0;n<t;n++)this._removeSecondaryCursor(this.cursors.length-2)}for(let t=0;t<i;t++)this.cursors[t+1].setState(this.context,a[t].modelState,a[t].viewState)}killSecondaryCursors(){this._setSecondaryStates([])}_addSecondaryCursor(){this.cursors.push(new L.Cursor(this.context)),this.lastAddedCursorIndex=this.cursors.length-1}getLastAddedCursorIndex(){return this.cursors.length===1||this.lastAddedCursorIndex===0?0:this.lastAddedCursorIndex}_removeSecondaryCursor(a){this.lastAddedCursorIndex>=a+1&&this.lastAddedCursorIndex--,this.cursors[a+1].dispose(this.context),this.cursors.splice(a+1,1)}normalize(){if(this.cursors.length===1)return;const a=this.cursors.slice(0),s=[];for(let i=0,t=a.length;i<t;i++)s.push({index:i,selection:a[i].modelState.selection});s.sort((0,m.compareBy)(i=>i.selection,p.Range.compareRangesUsingStarts));for(let i=0;i<s.length-1;i++){const t=s[i],n=s[i+1],h=t.selection,v=n.selection;if(!this.context.cursorConfig.multiCursorMergeOverlapping)continue;let u;if(v.isEmpty()||h.isEmpty()?u=v.getStartPosition().isBeforeOrEqual(h.getEndPosition()):u=v.getStartPosition().isBefore(h.getEndPosition()),u){const d=t.index<n.index?i:i+1,r=t.index<n.index?i+1:i,l=s[r].index,o=s[d].index,g=s[r].selection,c=s[d].selection;if(!g.equalsSelection(c)){const f=g.plusRange(c),_=g.selectionStartLineNumber===g.startLineNumber&&g.selectionStartColumn===g.startColumn,S=c.selectionStartLineNumber===c.startLineNumber&&c.selectionStartColumn===c.startColumn;let I;l===this.lastAddedCursorIndex?(I=_,this.lastAddedCursorIndex=o):I=S;let E;I?E=new w.Selection(f.startLineNumber,f.startColumn,f.endLineNumber,f.endColumn):E=new w.Selection(f.endLineNumber,f.endColumn,f.startLineNumber,f.startColumn),s[d].selection=E;const T=D.CursorState.fromModelSelection(E);a[o].setState(this.context,T.modelState,T.viewState)}for(const f of s)f.index>l&&f.index--;a.splice(l,1),s.splice(r,1),this._removeSecondaryCursor(l-1),i--}}}}e.CursorCollection=C}),define(te[538],ie([1,0,124]),function(J,e,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CharacterPairSupport=void 0;class k{constructor(L){if(L.autoClosingPairs?this._autoClosingPairs=L.autoClosingPairs.map(y=>new m.StandardAutoClosingPairConditional(y)):L.brackets?this._autoClosingPairs=L.brackets.map(y=>new m.StandardAutoClosingPairConditional({open:y[0],close:y[1]})):this._autoClosingPairs=[],L.__electricCharacterSupport&&L.__electricCharacterSupport.docComment){const y=L.__electricCharacterSupport.docComment;this._autoClosingPairs.push(new m.StandardAutoClosingPairConditional({open:y.open,close:y.close||""}))}this._autoCloseBeforeForQuotes=typeof L.autoCloseBefore=="string"?L.autoCloseBefore:k.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_QUOTES,this._autoCloseBeforeForBrackets=typeof L.autoCloseBefore=="string"?L.autoCloseBefore:k.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_BRACKETS,this._surroundingPairs=L.surroundingPairs||this._autoClosingPairs}getAutoClosingPairs(){return this._autoClosingPairs}getAutoCloseBeforeSet(L){return L?this._autoCloseBeforeForQuotes:this._autoCloseBeforeForBrackets}getSurroundingPairs(){return this._surroundingPairs}}e.CharacterPairSupport=k,k.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_QUOTES=`;:.,=}])> 
	`,k.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_BRACKETS=`'"\`;:.,=}])> 
	`}),define(te[539],ie([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndentRulesSupport=void 0;function m(D){return D.global&&(D.lastIndex=0),!0}class k{constructor(L){this._indentationRules=L}shouldIncrease(L){return!!(this._indentationRules&&this._indentationRules.increaseIndentPattern&&m(this._indentationRules.increaseIndentPattern)&&this._indentationRules.increaseIndentPattern.test(L))}shouldDecrease(L){return!!(this._indentationRules&&this._indentationRules.decreaseIndentPattern&&m(this._indentationRules.decreaseIndentPattern)&&this._indentationRules.decreaseIndentPattern.test(L))}shouldIndentNextLine(L){return!!(this._indentationRules&&this._indentationRules.indentNextLinePattern&&m(this._indentationRules.indentNextLinePattern)&&this._indentationRules.indentNextLinePattern.test(L))}shouldIgnore(L){return!!(this._indentationRules&&this._indentationRules.unIndentedLinePattern&&m(this._indentationRules.unIndentedLinePattern)&&this._indentationRules.unIndentedLinePattern.test(L))}getIndentMetadata(L){let y=0;return this.shouldIncrease(L)&&(y+=1),this.shouldDecrease(L)&&(y+=2),this.shouldIndentNextLine(L)&&(y+=4),this.shouldIgnore(L)&&(y+=8),y}}e.IndentRulesSupport=k}),define(te[540],ie([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BasicInplaceReplace=void 0;class m{constructor(){this._defaultValueSet=[["true","false"],["True","False"],["Private","Public","Friend","ReadOnly","Partial","Protected","WriteOnly"],["public","protected","private"]]}navigateValueSet(D,L,y,p,w){if(D&&L){const C=this.doNavigateValueSet(L,w);if(C)return{range:D,value:C}}if(y&&p){const C=this.doNavigateValueSet(p,w);if(C)return{range:y,value:C}}return null}doNavigateValueSet(D,L){const y=this.numberReplace(D,L);return y!==null?y:this.textReplace(D,L)}numberReplace(D,L){const y=Math.pow(10,D.length-(D.lastIndexOf(".")+1));let p=Number(D);const w=parseFloat(D);return!isNaN(p)&&!isNaN(w)&&p===w?p===0&&!L?null:(p=Math.floor(p*y),p+=L?y:-y,String(p/y)):null}textReplace(D,L){return this.valueSetsReplace(this._defaultValueSet,D,L)}valueSetsReplace(D,L,y){let p=null;for(let w=0,C=D.length;p===null&&w<C;w++)p=this.valueSetReplace(D[w],L,y);return p}valueSetReplace(D,L,y){let p=D.indexOf(L);return p>=0?(p+=y?1:-1,p<0?p=D.length-1:p%=D.length,D[p]):null}}e.BasicInplaceReplace=m,m.INSTANCE=new m}),define(te[541],ie([1,0,284]),function(J,e,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ClosingBracketKind=e.OpeningBracketKind=e.BracketKindBase=e.LanguageBracketsConfiguration=void 0;class k{constructor(C,b){this.languageId=C;const a=b.brackets?D(b.brackets):[],s=new m.CachedFunction(n=>{const h=new Set;return{info:new y(this,n,h),closing:h}}),i=new m.CachedFunction(n=>{const h=new Set,v=new Set;return{info:new p(this,n,h,v),opening:h,openingColorized:v}});for(const[n,h]of a){const v=s.get(n),u=i.get(h);v.closing.add(u.info),u.opening.add(v.info)}const t=b.colorizedBracketPairs?D(b.colorizedBracketPairs):a.filter(n=>!(n[0]==="<"&&n[1]===">"));for(const[n,h]of t){const v=s.get(n),u=i.get(h);v.closing.add(u.info),u.openingColorized.add(v.info),u.opening.add(v.info)}this._openingBrackets=new Map([...s.cachedValues].map(([n,h])=>[n,h.info])),this._closingBrackets=new Map([...i.cachedValues].map(([n,h])=>[n,h.info]))}get openingBrackets(){return[...this._openingBrackets.values()]}get closingBrackets(){return[...this._closingBrackets.values()]}getOpeningBracketInfo(C){return this._openingBrackets.get(C)}getClosingBracketInfo(C){return this._closingBrackets.get(C)}getBracketInfo(C){return this.getOpeningBracketInfo(C)||this.getClosingBracketInfo(C)}}e.LanguageBracketsConfiguration=k;function D(w){return w.filter(([C,b])=>C!==""&&b!=="")}class L{constructor(C,b){this.config=C,this.bracketText=b}get languageId(){return this.config.languageId}}e.BracketKindBase=L;class y extends L{constructor(C,b,a){super(C,b),this.openedBrackets=a,this.isOpeningBracket=!0}}e.OpeningBracketKind=y;class p extends L{constructor(C,b,a,s){super(C,b),this.openingBrackets=a,this.openingColorizedBrackets=s,this.isOpeningBracket=!1}closes(C){return C.config!==this.config?!1:this.openingBrackets.has(C)}closesColorized(C){return C.config!==this.config?!1:this.openingColorizedBrackets.has(C)}getOpeningBrackets(){return[...this.openingBrackets]}}e.ClosingBracketKind=p}),define(te[542],ie([1,0,12,11,124]),function(J,e,m,k,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OnEnterSupport=void 0;class L{constructor(p){p=p||{},p.brackets=p.brackets||[["(",")"],["{","}"],["[","]"]],this._brackets=[],p.brackets.forEach(w=>{const C=L._createOpenBracketRegExp(w[0]),b=L._createCloseBracketRegExp(w[1]);C&&b&&this._brackets.push({open:w[0],openRegExp:C,close:w[1],closeRegExp:b})}),this._regExpRules=p.onEnterRules||[]}onEnter(p,w,C,b){if(p>=3)for(let a=0,s=this._regExpRules.length;a<s;a++){const i=this._regExpRules[a];if([{reg:i.beforeText,text:C},{reg:i.afterText,text:b},{reg:i.previousLineText,text:w}].every(n=>n.reg?(n.reg.lastIndex=0,n.reg.test(n.text)):!0))return i.action}if(p>=2&&C.length>0&&b.length>0)for(let a=0,s=this._brackets.length;a<s;a++){const i=this._brackets[a];if(i.openRegExp.test(C)&&i.closeRegExp.test(b))return{indentAction:D.IndentAction.IndentOutdent}}if(p>=2&&C.length>0){for(let a=0,s=this._brackets.length;a<s;a++)if(this._brackets[a].openRegExp.test(C))return{indentAction:D.IndentAction.Indent}}return null}static _createOpenBracketRegExp(p){let w=k.escapeRegExpCharacters(p);return/\B/.test(w.charAt(0))||(w="\\b"+w),w+="\\s*$",L._safeRegExp(w)}static _createCloseBracketRegExp(p){let w=k.escapeRegExpCharacters(p);return/\B/.test(w.charAt(w.length-1))||(w=w+"\\b"),w="^\\s*"+w,L._safeRegExp(w)}static _safeRegExp(p){try{return new RegExp(p)}catch(w){return(0,m.onUnexpectedError)(w),null}}}e.OnEnterSupport=L}),define(te[543],ie([1,0,34]),function(J,e,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ThemeTrieElement=e.ThemeTrieElementRule=e.TokenTheme=e.ColorMap=e.ParsedTokenThemeRule=void 0,e.parseTokenTheme=D,e.toStandardTokenType=b,e.strcmp=a,e.generateTokensCSSForColorMap=t;class k{constructor(h,v,u,d,r){this._parsedThemeRuleBrand=void 0,this.token=h,this.index=v,this.fontStyle=u,this.foreground=d,this.background=r}}e.ParsedTokenThemeRule=k;function D(n){if(!n||!Array.isArray(n))return[];const h=[];let v=0;for(let u=0,d=n.length;u<d;u++){const r=n[u];let l=-1;if(typeof r.fontStyle=="string"){l=0;const c=r.fontStyle.split(" ");for(let f=0,_=c.length;f<_;f++)switch(c[f]){case"italic":l=l|1;break;case"bold":l=l|2;break;case"underline":l=l|4;break;case"strikethrough":l=l|8;break}}let o=null;typeof r.foreground=="string"&&(o=r.foreground);let g=null;typeof r.background=="string"&&(g=r.background),h[v++]=new k(r.token||"",u,l,o,g)}return h}function L(n,h){n.sort((f,_)=>{const S=a(f.token,_.token);return S!==0?S:f.index-_.index});let v=0,u="000000",d="ffffff";for(;n.length>=1&&n[0].token==="";){const f=n.shift();f.fontStyle!==-1&&(v=f.fontStyle),f.foreground!==null&&(u=f.foreground),f.background!==null&&(d=f.background)}const r=new p;for(const f of h)r.getId(f);const l=r.getId(u),o=r.getId(d),g=new s(v,l,o),c=new i(g);for(let f=0,_=n.length;f<_;f++){const S=n[f];c.insert(S.token,S.fontStyle,r.getId(S.foreground),r.getId(S.background))}return new w(r,c)}const y=/^#?([0-9A-Fa-f]{6})([0-9A-Fa-f]{2})?$/;class p{constructor(){this._lastColorId=0,this._id2color=[],this._color2id=new Map}getId(h){if(h===null)return 0;const v=h.match(y);if(!v)throw new Error("Illegal value for token color: "+h);h=v[1].toUpperCase();let u=this._color2id.get(h);return u||(u=++this._lastColorId,this._color2id.set(h,u),this._id2color[u]=m.Color.fromHex("#"+h),u)}getColorMap(){return this._id2color.slice(0)}}e.ColorMap=p;class w{static createFromRawTokenTheme(h,v){return this.createFromParsedTokenTheme(D(h),v)}static createFromParsedTokenTheme(h,v){return L(h,v)}constructor(h,v){this._colorMap=h,this._root=v,this._cache=new Map}getColorMap(){return this._colorMap.getColorMap()}_match(h){return this._root.match(h)}match(h,v){let u=this._cache.get(v);if(typeof u>"u"){const d=this._match(v),r=b(v);u=(d.metadata|r<<8)>>>0,this._cache.set(v,u)}return(u|h<<0)>>>0}}e.TokenTheme=w;const C=/\b(comment|string|regex|regexp)\b/;function b(n){const h=n.match(C);if(!h)return 0;switch(h[1]){case"comment":return 1;case"string":return 2;case"regex":return 3;case"regexp":return 3}throw new Error("Unexpected match for standard token type!")}function a(n,h){return n<h?-1:n>h?1:0}class s{constructor(h,v,u){this._themeTrieElementRuleBrand=void 0,this._fontStyle=h,this._foreground=v,this._background=u,this.metadata=(this._fontStyle<<11|this._foreground<<15|this._background<<24)>>>0}clone(){return new s(this._fontStyle,this._foreground,this._background)}acceptOverwrite(h,v,u){h!==-1&&(this._fontStyle=h),v!==0&&(this._foreground=v),u!==0&&(this._background=u),this.metadata=(this._fontStyle<<11|this._foreground<<15|this._background<<24)>>>0}}e.ThemeTrieElementRule=s;class i{constructor(h){this._themeTrieElementBrand=void 0,this._mainRule=h,this._children=new Map}match(h){if(h==="")return this._mainRule;const v=h.indexOf(".");let u,d;v===-1?(u=h,d=""):(u=h.substring(0,v),d=h.substring(v+1));const r=this._children.get(u);return typeof r<"u"?r.match(d):this._mainRule}insert(h,v,u,d){if(h===""){this._mainRule.acceptOverwrite(v,u,d);return}const r=h.indexOf(".");let l,o;r===-1?(l=h,o=""):(l=h.substring(0,r),o=h.substring(r+1));let g=this._children.get(l);typeof g>"u"&&(g=new i(this._mainRule.clone()),this._children.set(l,g)),g.insert(o,v,u,d)}}e.ThemeTrieElement=i;function t(n){const h=[];for(let v=1,u=n.length;v<u;v++){const d=n[v];h[v]=`.mtk${v} { color: ${d}; }`}return h.push(".mtki { font-style: italic; }"),h.push(".mtkb { font-weight: bold; }"),h.push(".mtku { text-decoration: underline; text-underline-position: under; }"),h.push(".mtks { text-decoration: line-through; }"),h.push(".mtks.mtku { text-decoration: underline line-through; text-underline-position: under; }"),h.join(`
`)}}),define(te[43],ie([1,0,55]),function(J,e,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ApplyEditsResult=e.SearchData=e.ValidAnnotatedEditOperation=e.FindMatch=e.TextModelResolvedOptions=e.InjectedTextCursorStops=e.GlyphMarginLane=e.OverviewRulerLane=void 0,e.isITextSnapshot=w,e.shouldSynchronizeModel=s;var k;(function(i){i[i.Left=1]="Left",i[i.Center=2]="Center",i[i.Right=4]="Right",i[i.Full=7]="Full"})(k||(e.OverviewRulerLane=k={}));var D;(function(i){i[i.Left=1]="Left",i[i.Center=2]="Center",i[i.Right=3]="Right"})(D||(e.GlyphMarginLane=D={}));var L;(function(i){i[i.Both=0]="Both",i[i.Right=1]="Right",i[i.Left=2]="Left",i[i.None=3]="None"})(L||(e.InjectedTextCursorStops=L={}));class y{get originalIndentSize(){return this._indentSizeIsTabSize?"tabSize":this.indentSize}constructor(t){this._textModelResolvedOptionsBrand=void 0,this.tabSize=Math.max(1,t.tabSize|0),t.indentSize==="tabSize"?(this.indentSize=this.tabSize,this._indentSizeIsTabSize=!0):(this.indentSize=Math.max(1,t.indentSize|0),this._indentSizeIsTabSize=!1),this.insertSpaces=!!t.insertSpaces,this.defaultEOL=t.defaultEOL|0,this.trimAutoWhitespace=!!t.trimAutoWhitespace,this.bracketPairColorizationOptions=t.bracketPairColorizationOptions}equals(t){return this.tabSize===t.tabSize&&this._indentSizeIsTabSize===t._indentSizeIsTabSize&&this.indentSize===t.indentSize&&this.insertSpaces===t.insertSpaces&&this.defaultEOL===t.defaultEOL&&this.trimAutoWhitespace===t.trimAutoWhitespace&&(0,m.equals)(this.bracketPairColorizationOptions,t.bracketPairColorizationOptions)}createChangeEvent(t){return{tabSize:this.tabSize!==t.tabSize,indentSize:this.indentSize!==t.indentSize,insertSpaces:this.insertSpaces!==t.insertSpaces,trimAutoWhitespace:this.trimAutoWhitespace!==t.trimAutoWhitespace}}}e.TextModelResolvedOptions=y;class p{constructor(t,n){this._findMatchBrand=void 0,this.range=t,this.matches=n}}e.FindMatch=p;function w(i){return i&&typeof i.read=="function"}class C{constructor(t,n,h,v,u,d){this.identifier=t,this.range=n,this.text=h,this.forceMoveMarkers=v,this.isAutoWhitespaceEdit=u,this._isTracked=d}}e.ValidAnnotatedEditOperation=C;class b{constructor(t,n,h){this.regex=t,this.wordSeparators=n,this.simpleSearch=h}}e.SearchData=b;class a{constructor(t,n,h){this.reverseEdits=t,this.changes=n,this.trimAutoWhitespaceLineNumbers=h}}e.ApplyEditsResult=a;function s(i){return!i.isTooLargeForSyncing()&&!i.isForSimpleWidget}}),define(te[101],ie([1,0,11,5,122]),function(J,e,m,k,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.lengthZero=void 0,e.lengthDiff=L,e.lengthIsZero=y,e.toLength=w,e.lengthToObj=C,e.lengthGetLineCount=b,e.lengthGetColumnCountIfZeroLineCount=a,e.lengthAdd=s,e.sumLengths=i,e.lengthEquals=t,e.lengthDiffNonNegative=n,e.lengthLessThan=h,e.lengthLessThanEqual=v,e.lengthGreaterThanEqual=u,e.positionToLength=d,e.lengthsToRange=r,e.lengthOfString=l;function L(o,g,c,f){return o!==c?w(c-o,f):w(0,f-g)}e.lengthZero=0;function y(o){return o===0}const p=2**26;function w(o,g){return o*p+g}function C(o){const g=o,c=Math.floor(g/p),f=g-c*p;return new D.TextLength(c,f)}function b(o){return Math.floor(o/p)}function a(o){return o}function s(o,g){let c=o+g;return g>=p&&(c=c-o%p),c}function i(o,g){return o.reduce((c,f)=>s(c,g(f)),e.lengthZero)}function t(o,g){return o===g}function n(o,g){const c=o,f=g;if(f-c<=0)return e.lengthZero;const S=Math.floor(c/p),I=Math.floor(f/p),E=f-I*p;if(S===I){const T=c-S*p;return w(0,E-T)}else return w(I-S,E)}function h(o,g){return o<g}function v(o,g){return o<=g}function u(o,g){return o>=g}function d(o){return w(o.lineNumber-1,o.column-1)}function r(o,g){const c=o,f=Math.floor(c/p),_=c-f*p,S=g,I=Math.floor(S/p),E=S-I*p;return new k.Range(f+1,_+1,I+1,E+1)}function l(o){const g=(0,m.splitLines)(o);return w(g.length-1,g[g.length-1].length)}}),define(te[191],ie([1,0,5,101]),function(J,e,m,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BeforeEditPositionMapper=e.TextEditInfo=void 0;class D{static fromModelContentChanges(w){return w.map(b=>{const a=m.Range.lift(b.range);return new D((0,k.positionToLength)(a.getStartPosition()),(0,k.positionToLength)(a.getEndPosition()),(0,k.lengthOfString)(b.text))}).reverse()}constructor(w,C,b){this.startOffset=w,this.endOffset=C,this.newLength=b}toString(){return`[${(0,k.lengthToObj)(this.startOffset)}...${(0,k.lengthToObj)(this.endOffset)}) -> ${(0,k.lengthToObj)(this.newLength)}`}}e.TextEditInfo=D;class L{constructor(w){this.nextEditIdx=0,this.deltaOldToNewLineCount=0,this.deltaOldToNewColumnCount=0,this.deltaLineIdxInOld=-1,this.edits=w.map(C=>y.from(C))}getOffsetBeforeChange(w){return this.adjustNextEdit(w),this.translateCurToOld(w)}getDistanceToNextChange(w){this.adjustNextEdit(w);const C=this.edits[this.nextEditIdx],b=C?this.translateOldToCur(C.offsetObj):null;return b===null?null:(0,k.lengthDiffNonNegative)(w,b)}translateOldToCur(w){return w.lineCount===this.deltaLineIdxInOld?(0,k.toLength)(w.lineCount+this.deltaOldToNewLineCount,w.columnCount+this.deltaOldToNewColumnCount):(0,k.toLength)(w.lineCount+this.deltaOldToNewLineCount,w.columnCount)}translateCurToOld(w){const C=(0,k.lengthToObj)(w);return C.lineCount-this.deltaOldToNewLineCount===this.deltaLineIdxInOld?(0,k.toLength)(C.lineCount-this.deltaOldToNewLineCount,C.columnCount-this.deltaOldToNewColumnCount):(0,k.toLength)(C.lineCount-this.deltaOldToNewLineCount,C.columnCount)}adjustNextEdit(w){for(;this.nextEditIdx<this.edits.length;){const C=this.edits[this.nextEditIdx],b=this.translateOldToCur(C.endOffsetAfterObj);if((0,k.lengthLessThanEqual)(b,w)){this.nextEditIdx++;const a=(0,k.lengthToObj)(b),s=(0,k.lengthToObj)(this.translateOldToCur(C.endOffsetBeforeObj)),i=a.lineCount-s.lineCount;this.deltaOldToNewLineCount+=i;const t=this.deltaLineIdxInOld===C.endOffsetBeforeObj.lineCount?this.deltaOldToNewColumnCount:0,n=a.columnCount-s.columnCount;this.deltaOldToNewColumnCount=t+n,this.deltaLineIdxInOld=C.endOffsetBeforeObj.lineCount}else break}}}e.BeforeEditPositionMapper=L;class y{static from(w){return new y(w.startOffset,w.endOffset,w.newLength)}constructor(w,C,b){this.endOffsetBeforeObj=(0,k.lengthToObj)(C),this.endOffsetAfterObj=(0,k.lengthToObj)((0,k.lengthAdd)(w,b)),this.offsetObj=(0,k.lengthToObj)(w)}}}),define(te[306],ie([1,0,13,191,101]),function(J,e,m,k,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.combineTextEditInfos=L;function L(w,C){if(w.length===0)return C;if(C.length===0)return w;const b=new m.ArrayQueue(p(w)),a=p(C);a.push({modified:!1,lengthBefore:void 0,lengthAfter:void 0});let s=b.dequeue();function i(v){if(v===void 0){const d=b.takeWhile(r=>!0)||[];return s&&d.unshift(s),d}const u=[];for(;s&&!(0,D.lengthIsZero)(v);){const[d,r]=s.splitAt(v);u.push(d),v=(0,D.lengthDiffNonNegative)(d.lengthAfter,v),s=r??b.dequeue()}return(0,D.lengthIsZero)(v)||u.push(new y(!1,v,v)),u}const t=[];function n(v,u,d){if(t.length>0&&(0,D.lengthEquals)(t[t.length-1].endOffset,v)){const r=t[t.length-1];t[t.length-1]=new k.TextEditInfo(r.startOffset,u,(0,D.lengthAdd)(r.newLength,d))}else t.push({startOffset:v,endOffset:u,newLength:d})}let h=D.lengthZero;for(const v of a){const u=i(v.lengthBefore);if(v.modified){const d=(0,D.sumLengths)(u,l=>l.lengthBefore),r=(0,D.lengthAdd)(h,d);n(h,r,v.lengthAfter),h=r}else for(const d of u){const r=h;h=(0,D.lengthAdd)(h,d.lengthBefore),d.modified&&n(r,h,d.lengthAfter)}}return t}class y{constructor(C,b,a){this.modified=C,this.lengthBefore=b,this.lengthAfter=a}splitAt(C){const b=(0,D.lengthDiffNonNegative)(C,this.lengthAfter);return(0,D.lengthEquals)(b,D.lengthZero)?[this,void 0]:this.modified?[new y(this.modified,this.lengthBefore,C),new y(this.modified,D.lengthZero,b)]:[new y(this.modified,C,C),new y(this.modified,b,b)]}toString(){return`${this.modified?"M":"U"}:${(0,D.lengthToObj)(this.lengthBefore)} -> ${(0,D.lengthToObj)(this.lengthAfter)}`}}function p(w){const C=[];let b=D.lengthZero;for(const a of w){const s=(0,D.lengthDiffNonNegative)(b,a.startOffset);(0,D.lengthIsZero)(s)||C.push(new y(!1,s,s));const i=(0,D.lengthDiffNonNegative)(a.startOffset,a.endOffset);C.push(new y(!0,i,a.newLength)),b=a.endOffset}return C}}),define(te[544],ie([1,0,101]),function(J,e,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NodeReader=void 0;class k{constructor(p){this.lastOffset=m.lengthZero,this.nextNodes=[p],this.offsets=[m.lengthZero],this.idxs=[]}readLongestNodeAt(p,w){if((0,m.lengthLessThan)(p,this.lastOffset))throw new Error("Invalid offset");for(this.lastOffset=p;;){const C=L(this.nextNodes);if(!C)return;const b=L(this.offsets);if((0,m.lengthLessThan)(p,b))return;if((0,m.lengthLessThan)(b,p))if((0,m.lengthAdd)(b,C.length)<=p)this.nextNodeAfterCurrent();else{const a=D(C);a!==-1?(this.nextNodes.push(C.getChild(a)),this.offsets.push(b),this.idxs.push(a)):this.nextNodeAfterCurrent()}else{if(w(C))return this.nextNodeAfterCurrent(),C;{const a=D(C);if(a===-1){this.nextNodeAfterCurrent();return}else this.nextNodes.push(C.getChild(a)),this.offsets.push(b),this.idxs.push(a)}}}}nextNodeAfterCurrent(){for(;;){const p=L(this.offsets),w=L(this.nextNodes);if(this.nextNodes.pop(),this.offsets.pop(),this.idxs.length===0)break;const C=L(this.nextNodes),b=D(C,this.idxs[this.idxs.length-1]);if(b!==-1){this.nextNodes.push(C.getChild(b)),this.offsets.push((0,m.lengthAdd)(p,w.length)),this.idxs[this.idxs.length-1]=b;break}else this.idxs.pop()}}}e.NodeReader=k;function D(y,p=-1){for(;;){if(p++,p>=y.childrenLength)return-1;if(y.getChild(p))return p}}function L(y){return y.length>0?y[y.length-1]:void 0}}),define(te[144],ie([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DenseKeyProvider=e.identityKeyProvider=e.SmallImmutableSet=void 0;const m=[];class k{static create(y,p){if(y<=128&&p.length===0){let w=k.cache[y];return w||(w=new k(y,p),k.cache[y]=w),w}return new k(y,p)}static getEmpty(){return this.empty}constructor(y,p){this.items=y,this.additionalItems=p}add(y,p){const w=p.getKey(y);let C=w>>5;if(C===0){const a=1<<w|this.items;return a===this.items?this:k.create(a,this.additionalItems)}C--;const b=this.additionalItems.slice(0);for(;b.length<C;)b.push(0);return b[C]|=1<<(w&31),k.create(this.items,b)}merge(y){const p=this.items|y.items;if(this.additionalItems===m&&y.additionalItems===m)return p===this.items?this:p===y.items?y:k.create(p,m);const w=[];for(let C=0;C<Math.max(this.additionalItems.length,y.additionalItems.length);C++){const b=this.additionalItems[C]||0,a=y.additionalItems[C]||0;w.push(b|a)}return k.create(p,w)}intersects(y){if(this.items&y.items)return!0;for(let p=0;p<Math.min(this.additionalItems.length,y.additionalItems.length);p++)if(this.additionalItems[p]&y.additionalItems[p])return!0;return!1}}e.SmallImmutableSet=k,k.cache=new Array(129),k.empty=k.create(0,m),e.identityKeyProvider={getKey(L){return L}};class D{constructor(){this.items=new Map}getKey(y){let p=this.items.get(y);return p===void 0&&(p=this.items.size,this.items.set(y,p)),p}}e.DenseKeyProvider=D}),define(te[192],ie([1,0,12,89,101,144]),function(J,e,m,k,D,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InvalidBracketAstNode=e.BracketAstNode=e.TextAstNode=e.ListAstNode=e.PairAstNode=void 0;class y{get length(){return this._length}constructor(d){this._length=d}}class p extends y{static create(d,r,l){let o=d.length;return r&&(o=(0,D.lengthAdd)(o,r.length)),l&&(o=(0,D.lengthAdd)(o,l.length)),new p(o,d,r,l,r?r.missingOpeningBracketIds:L.SmallImmutableSet.getEmpty())}get kind(){return 2}get listHeight(){return 0}get childrenLength(){return 3}getChild(d){switch(d){case 0:return this.openingBracket;case 1:return this.child;case 2:return this.closingBracket}throw new Error("Invalid child index")}get children(){const d=[];return d.push(this.openingBracket),this.child&&d.push(this.child),this.closingBracket&&d.push(this.closingBracket),d}constructor(d,r,l,o,g){super(d),this.openingBracket=r,this.child=l,this.closingBracket=o,this.missingOpeningBracketIds=g}canBeReused(d){return!(this.closingBracket===null||d.intersects(this.missingOpeningBracketIds))}deepClone(){return new p(this.length,this.openingBracket.deepClone(),this.child&&this.child.deepClone(),this.closingBracket&&this.closingBracket.deepClone(),this.missingOpeningBracketIds)}computeMinIndentation(d,r){return this.child?this.child.computeMinIndentation((0,D.lengthAdd)(d,this.openingBracket.length),r):Number.MAX_SAFE_INTEGER}}e.PairAstNode=p;class w extends y{static create23(d,r,l,o=!1){let g=d.length,c=d.missingOpeningBracketIds;if(d.listHeight!==r.listHeight)throw new Error("Invalid list heights");if(g=(0,D.lengthAdd)(g,r.length),c=c.merge(r.missingOpeningBracketIds),l){if(d.listHeight!==l.listHeight)throw new Error("Invalid list heights");g=(0,D.lengthAdd)(g,l.length),c=c.merge(l.missingOpeningBracketIds)}return o?new b(g,d.listHeight+1,d,r,l,c):new C(g,d.listHeight+1,d,r,l,c)}static getEmpty(){return new s(D.lengthZero,0,[],L.SmallImmutableSet.getEmpty())}get kind(){return 4}get missingOpeningBracketIds(){return this._missingOpeningBracketIds}constructor(d,r,l){super(d),this.listHeight=r,this._missingOpeningBracketIds=l,this.cachedMinIndentation=-1}throwIfImmutable(){}makeLastElementMutable(){this.throwIfImmutable();const d=this.childrenLength;if(d===0)return;const r=this.getChild(d-1),l=r.kind===4?r.toMutable():r;return r!==l&&this.setChild(d-1,l),l}makeFirstElementMutable(){if(this.throwIfImmutable(),this.childrenLength===0)return;const r=this.getChild(0),l=r.kind===4?r.toMutable():r;return r!==l&&this.setChild(0,l),l}canBeReused(d){if(d.intersects(this.missingOpeningBracketIds)||this.childrenLength===0)return!1;let r=this;for(;r.kind===4;){const l=r.childrenLength;if(l===0)throw new m.BugIndicatingError;r=r.getChild(l-1)}return r.canBeReused(d)}handleChildrenChanged(){this.throwIfImmutable();const d=this.childrenLength;let r=this.getChild(0).length,l=this.getChild(0).missingOpeningBracketIds;for(let o=1;o<d;o++){const g=this.getChild(o);r=(0,D.lengthAdd)(r,g.length),l=l.merge(g.missingOpeningBracketIds)}this._length=r,this._missingOpeningBracketIds=l,this.cachedMinIndentation=-1}computeMinIndentation(d,r){if(this.cachedMinIndentation!==-1)return this.cachedMinIndentation;let l=Number.MAX_SAFE_INTEGER,o=d;for(let g=0;g<this.childrenLength;g++){const c=this.getChild(g);c&&(l=Math.min(l,c.computeMinIndentation(o,r)),o=(0,D.lengthAdd)(o,c.length))}return this.cachedMinIndentation=l,l}}e.ListAstNode=w;class C extends w{get childrenLength(){return this._item3!==null?3:2}getChild(d){switch(d){case 0:return this._item1;case 1:return this._item2;case 2:return this._item3}throw new Error("Invalid child index")}setChild(d,r){switch(d){case 0:this._item1=r;return;case 1:this._item2=r;return;case 2:this._item3=r;return}throw new Error("Invalid child index")}get children(){return this._item3?[this._item1,this._item2,this._item3]:[this._item1,this._item2]}get item1(){return this._item1}get item2(){return this._item2}get item3(){return this._item3}constructor(d,r,l,o,g,c){super(d,r,c),this._item1=l,this._item2=o,this._item3=g}deepClone(){return new C(this.length,this.listHeight,this._item1.deepClone(),this._item2.deepClone(),this._item3?this._item3.deepClone():null,this.missingOpeningBracketIds)}appendChildOfSameHeight(d){if(this._item3)throw new Error("Cannot append to a full (2,3) tree node");this.throwIfImmutable(),this._item3=d,this.handleChildrenChanged()}unappendChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();const d=this._item3;return this._item3=null,this.handleChildrenChanged(),d}prependChildOfSameHeight(d){if(this._item3)throw new Error("Cannot prepend to a full (2,3) tree node");this.throwIfImmutable(),this._item3=this._item2,this._item2=this._item1,this._item1=d,this.handleChildrenChanged()}unprependChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();const d=this._item1;return this._item1=this._item2,this._item2=this._item3,this._item3=null,this.handleChildrenChanged(),d}toMutable(){return this}}class b extends C{toMutable(){return new C(this.length,this.listHeight,this.item1,this.item2,this.item3,this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}}class a extends w{get childrenLength(){return this._children.length}getChild(d){return this._children[d]}setChild(d,r){this._children[d]=r}get children(){return this._children}constructor(d,r,l,o){super(d,r,o),this._children=l}deepClone(){const d=new Array(this._children.length);for(let r=0;r<this._children.length;r++)d[r]=this._children[r].deepClone();return new a(this.length,this.listHeight,d,this.missingOpeningBracketIds)}appendChildOfSameHeight(d){this.throwIfImmutable(),this._children.push(d),this.handleChildrenChanged()}unappendChild(){this.throwIfImmutable();const d=this._children.pop();return this.handleChildrenChanged(),d}prependChildOfSameHeight(d){this.throwIfImmutable(),this._children.unshift(d),this.handleChildrenChanged()}unprependChild(){this.throwIfImmutable();const d=this._children.shift();return this.handleChildrenChanged(),d}toMutable(){return this}}class s extends a{toMutable(){return new a(this.length,this.listHeight,[...this.children],this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}}const i=[];class t extends y{get listHeight(){return 0}get childrenLength(){return 0}getChild(d){return null}get children(){return i}deepClone(){return this}}class n extends t{get kind(){return 0}get missingOpeningBracketIds(){return L.SmallImmutableSet.getEmpty()}canBeReused(d){return!0}computeMinIndentation(d,r){const l=(0,D.lengthToObj)(d),o=(l.columnCount===0?l.lineCount:l.lineCount+1)+1,g=(0,D.lengthGetLineCount)((0,D.lengthAdd)(d,this.length))+1;let c=Number.MAX_SAFE_INTEGER;for(let f=o;f<=g;f++){const _=r.getLineFirstNonWhitespaceColumn(f),S=r.getLineContent(f);if(_===0)continue;const I=k.CursorColumns.visibleColumnFromColumn(S,_,r.getOptions().tabSize);c=Math.min(c,I)}return c}}e.TextAstNode=n;class h extends t{static create(d,r,l){return new h(d,r,l)}get kind(){return 1}get missingOpeningBracketIds(){return L.SmallImmutableSet.getEmpty()}constructor(d,r,l){super(d),this.bracketInfo=r,this.bracketIds=l}get text(){return this.bracketInfo.bracketText}get languageId(){return this.bracketInfo.languageId}canBeReused(d){return!1}computeMinIndentation(d,r){return Number.MAX_SAFE_INTEGER}}e.BracketAstNode=h;class v extends t{get kind(){return 3}constructor(d,r){super(r),this.missingOpeningBracketIds=d}canBeReused(d){return!d.intersects(this.missingOpeningBracketIds)}computeMinIndentation(d,r){return Number.MAX_SAFE_INTEGER}}e.InvalidBracketAstNode=v}),define(te[545],ie([1,0,192]),function(J,e,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.concat23Trees=k,e.concat23TreesOfSameHeight=D;function k(C){if(C.length===0)return null;if(C.length===1)return C[0];let b=0;function a(){if(b>=C.length)return null;const n=b,h=C[n].listHeight;for(b++;b<C.length&&C[b].listHeight===h;)b++;return b-n>=2?D(n===0&&b===C.length?C:C.slice(n,b),!1):C[n]}let s=a(),i=a();if(!i)return s;for(let n=a();n;n=a())L(s,i)<=L(i,n)?(s=y(s,i),i=n):i=y(i,n);return y(s,i)}function D(C,b=!1){if(C.length===0)return null;if(C.length===1)return C[0];let a=C.length;for(;a>3;){const s=a>>1;for(let i=0;i<s;i++){const t=i<<1;C[i]=m.ListAstNode.create23(C[t],C[t+1],t+3===a?C[t+2]:null,b)}a=s}return m.ListAstNode.create23(C[0],C[1],a>=3?C[2]:null,b)}function L(C,b){return Math.abs(C.listHeight-b.listHeight)}function y(C,b){return C.listHeight===b.listHeight?m.ListAstNode.create23(C,b,null,!1):C.listHeight>b.listHeight?p(C,b):w(b,C)}function p(C,b){C=C.toMutable();let a=C;const s=[];let i;for(;;){if(b.listHeight===a.listHeight){i=b;break}if(a.kind!==4)throw new Error("unexpected");s.push(a),a=a.makeLastElementMutable()}for(let t=s.length-1;t>=0;t--){const n=s[t];i?n.childrenLength>=3?i=m.ListAstNode.create23(n.unappendChild(),i,null,!1):(n.appendChildOfSameHeight(i),i=void 0):n.handleChildrenChanged()}return i?m.ListAstNode.create23(C,i,null,!1):C}function w(C,b){C=C.toMutable();let a=C;const s=[];for(;b.listHeight!==a.listHeight;){if(a.kind!==4)throw new Error("unexpected");s.push(a),a=a.makeFirstElementMutable()}let i=b;for(let t=s.length-1;t>=0;t--){const n=s[t];i?n.childrenLength>=3?i=m.ListAstNode.create23(i,n.unprependChild(),null,!1):(n.prependChildOfSameHeight(i),i=void 0):n.handleChildrenChanged()}return i?m.ListAstNode.create23(i,C,null,!1):C}}),define(te[307],ie([1,0,192,191,144,101,545,544]),function(J,e,m,k,D,L,y,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseDocument=w;function w(b,a,s,i){return new C(b,a,s,i).parseDocument()}class C{constructor(a,s,i,t){if(this.tokenizer=a,this.createImmutableLists=t,this._itemsConstructed=0,this._itemsFromCache=0,i&&t)throw new Error("Not supported");this.oldNodeReader=i?new p.NodeReader(i):void 0,this.positionMapper=new k.BeforeEditPositionMapper(s)}parseDocument(){this._itemsConstructed=0,this._itemsFromCache=0;let a=this.parseList(D.SmallImmutableSet.getEmpty(),0);return a||(a=m.ListAstNode.getEmpty()),a}parseList(a,s){const i=[];for(;;){let n=this.tryReadChildFromCache(a);if(!n){const h=this.tokenizer.peek();if(!h||h.kind===2&&h.bracketIds.intersects(a))break;n=this.parseChild(a,s+1)}n.kind===4&&n.childrenLength===0||i.push(n)}return this.oldNodeReader?(0,y.concat23Trees)(i):(0,y.concat23TreesOfSameHeight)(i,this.createImmutableLists)}tryReadChildFromCache(a){if(this.oldNodeReader){const s=this.positionMapper.getDistanceToNextChange(this.tokenizer.offset);if(s===null||!(0,L.lengthIsZero)(s)){const i=this.oldNodeReader.readLongestNodeAt(this.positionMapper.getOffsetBeforeChange(this.tokenizer.offset),t=>s!==null&&!(0,L.lengthLessThan)(t.length,s)?!1:t.canBeReused(a));if(i)return this._itemsFromCache++,this.tokenizer.skip(i.length),i}}}parseChild(a,s){this._itemsConstructed++;const i=this.tokenizer.read();switch(i.kind){case 2:return new m.InvalidBracketAstNode(i.bracketIds,i.length);case 0:return i.astNode;case 1:{if(s>300)return new m.TextAstNode(i.length);const t=a.merge(i.bracketIds),n=this.parseList(t,s+1),h=this.tokenizer.peek();return h&&h.kind===2&&(h.bracketId===i.bracketId||h.bracketIds.intersects(i.bracketIds))?(this.tokenizer.read(),m.PairAstNode.create(i.astNode,n,h.astNode)):m.PairAstNode.create(i.astNode,n,null)}default:throw new Error("unexpected")}}}}),define(te[225],ie([1,0,12,142,192,101,144]),function(J,e,m,k,D,L,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FastTokenizer=e.TextBufferTokenizer=e.Token=void 0;class p{constructor(s,i,t,n,h){this.length=s,this.kind=i,this.bracketId=t,this.bracketIds=n,this.astNode=h}}e.Token=p;class w{constructor(s,i){this.textModel=s,this.bracketTokens=i,this.reader=new C(this.textModel,this.bracketTokens),this._offset=L.lengthZero,this.didPeek=!1,this.peeked=null,this.textBufferLineCount=s.getLineCount(),this.textBufferLastLineLength=s.getLineLength(this.textBufferLineCount)}get offset(){return this._offset}get length(){return(0,L.toLength)(this.textBufferLineCount-1,this.textBufferLastLineLength)}skip(s){this.didPeek=!1,this._offset=(0,L.lengthAdd)(this._offset,s);const i=(0,L.lengthToObj)(this._offset);this.reader.setPosition(i.lineCount,i.columnCount)}read(){let s;return this.peeked?(this.didPeek=!1,s=this.peeked):s=this.reader.read(),s&&(this._offset=(0,L.lengthAdd)(this._offset,s.length)),s}peek(){return this.didPeek||(this.peeked=this.reader.read(),this.didPeek=!0),this.peeked}}e.TextBufferTokenizer=w;class C{constructor(s,i){this.textModel=s,this.bracketTokens=i,this.lineIdx=0,this.line=null,this.lineCharOffset=0,this.lineTokens=null,this.lineTokenOffset=0,this.peekedToken=null,this.textBufferLineCount=s.getLineCount(),this.textBufferLastLineLength=s.getLineLength(this.textBufferLineCount)}setPosition(s,i){s===this.lineIdx?(this.lineCharOffset=i,this.line!==null&&(this.lineTokenOffset=this.lineCharOffset===0?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset))):(this.lineIdx=s,this.lineCharOffset=i,this.line=null),this.peekedToken=null}read(){if(this.peekedToken){const h=this.peekedToken;return this.peekedToken=null,this.lineCharOffset+=(0,L.lengthGetColumnCountIfZeroLineCount)(h.length),h}if(this.lineIdx>this.textBufferLineCount-1||this.lineIdx===this.textBufferLineCount-1&&this.lineCharOffset>=this.textBufferLastLineLength)return null;this.line===null&&(this.lineTokens=this.textModel.tokenization.getLineTokens(this.lineIdx+1),this.line=this.lineTokens.getLineContent(),this.lineTokenOffset=this.lineCharOffset===0?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset));const s=this.lineIdx,i=this.lineCharOffset;let t=0;for(;;){const h=this.lineTokens,v=h.getCount();let u=null;if(this.lineTokenOffset<v){const d=h.getMetadata(this.lineTokenOffset);for(;this.lineTokenOffset+1<v&&d===h.getMetadata(this.lineTokenOffset+1);)this.lineTokenOffset++;const r=k.TokenMetadata.getTokenType(d)===0,l=k.TokenMetadata.containsBalancedBrackets(d),o=h.getEndOffset(this.lineTokenOffset);if(l&&r&&this.lineCharOffset<o){const g=h.getLanguageId(this.lineTokenOffset),c=this.line.substring(this.lineCharOffset,o),f=this.bracketTokens.getSingleLanguageBracketTokens(g),_=f.regExpGlobal;if(_){_.lastIndex=0;const S=_.exec(c);S&&(u=f.getToken(S[0]),u&&(this.lineCharOffset+=S.index))}}if(t+=o-this.lineCharOffset,u)if(s!==this.lineIdx||i!==this.lineCharOffset){this.peekedToken=u;break}else return this.lineCharOffset+=(0,L.lengthGetColumnCountIfZeroLineCount)(u.length),u;else this.lineTokenOffset++,this.lineCharOffset=o}else if(this.lineIdx===this.textBufferLineCount-1||(this.lineIdx++,this.lineTokens=this.textModel.tokenization.getLineTokens(this.lineIdx+1),this.lineTokenOffset=0,this.line=this.lineTokens.getLineContent(),this.lineCharOffset=0,t+=33,t>1e3))break;if(t>1500)break}const n=(0,L.lengthDiff)(s,i,this.lineIdx,this.lineCharOffset);return new p(n,0,-1,y.SmallImmutableSet.getEmpty(),new D.TextAstNode(n))}}class b{constructor(s,i){this.text=s,this._offset=L.lengthZero,this.idx=0;const t=i.getRegExpStr(),n=t?new RegExp(t+`|
`,"gi"):null,h=[];let v,u=0,d=0,r=0,l=0;const o=[];for(let f=0;f<60;f++)o.push(new p((0,L.toLength)(0,f),0,-1,y.SmallImmutableSet.getEmpty(),new D.TextAstNode((0,L.toLength)(0,f))));const g=[];for(let f=0;f<60;f++)g.push(new p((0,L.toLength)(1,f),0,-1,y.SmallImmutableSet.getEmpty(),new D.TextAstNode((0,L.toLength)(1,f))));if(n)for(n.lastIndex=0;(v=n.exec(s))!==null;){const f=v.index,_=v[0];if(_===`
`)u++,d=f+1;else{if(r!==f){let S;if(l===u){const I=f-r;if(I<o.length)S=o[I];else{const E=(0,L.toLength)(0,I);S=new p(E,0,-1,y.SmallImmutableSet.getEmpty(),new D.TextAstNode(E))}}else{const I=u-l,E=f-d;if(I===1&&E<g.length)S=g[E];else{const T=(0,L.toLength)(I,E);S=new p(T,0,-1,y.SmallImmutableSet.getEmpty(),new D.TextAstNode(T))}}h.push(S)}h.push(i.getToken(_)),r=f+_.length,l=u}}const c=s.length;if(r!==c){const f=l===u?(0,L.toLength)(0,c-r):(0,L.toLength)(u-l,c-d);h.push(new p(f,0,-1,y.SmallImmutableSet.getEmpty(),new D.TextAstNode(f)))}this.length=(0,L.toLength)(u,c-d),this.tokens=h}get offset(){return this._offset}read(){return this.tokens[this.idx++]||null}peek(){return this.tokens[this.idx]||null}skip(s){throw new m.NotSupportedError}}e.FastTokenizer=b}),define(te[308],ie([1,0,11,192,101,144,225]),function(J,e,m,k,D,L,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LanguageAgnosticBracketTokens=e.BracketTokens=void 0;class p{static createFromLanguage(a,s){function i(n){return s.getKey(`${n.languageId}:::${n.bracketText}`)}const t=new Map;for(const n of a.bracketsNew.openingBrackets){const h=(0,D.toLength)(0,n.bracketText.length),v=i(n),u=L.SmallImmutableSet.getEmpty().add(v,L.identityKeyProvider);t.set(n.bracketText,new y.Token(h,1,v,u,k.BracketAstNode.create(h,n,u)))}for(const n of a.bracketsNew.closingBrackets){const h=(0,D.toLength)(0,n.bracketText.length);let v=L.SmallImmutableSet.getEmpty();const u=n.getOpeningBrackets();for(const d of u)v=v.add(i(d),L.identityKeyProvider);t.set(n.bracketText,new y.Token(h,2,i(u[0]),v,k.BracketAstNode.create(h,n,v)))}return new p(t)}constructor(a){this.map=a,this.hasRegExp=!1,this._regExpGlobal=null}getRegExpStr(){if(this.isEmpty)return null;{const a=[...this.map.keys()];return a.sort(),a.reverse(),a.map(s=>w(s)).join("|")}}get regExpGlobal(){if(!this.hasRegExp){const a=this.getRegExpStr();this._regExpGlobal=a?new RegExp(a,"gi"):null,this.hasRegExp=!0}return this._regExpGlobal}getToken(a){return this.map.get(a.toLowerCase())}findClosingTokenText(a){for(const[s,i]of this.map)if(i.kind===2&&i.bracketIds.intersects(a))return s}get isEmpty(){return this.map.size===0}}e.BracketTokens=p;function w(b){let a=(0,m.escapeRegExpCharacters)(b);return/^[\w ]+/.test(b)&&(a=`\\b${a}`),/[\w ]+$/.test(b)&&(a=`${a}\\b`),a}class C{constructor(a,s){this.denseKeyProvider=a,this.getLanguageConfiguration=s,this.languageIdToBracketTokens=new Map}didLanguageChange(a){return this.languageIdToBracketTokens.has(a)}getSingleLanguageBracketTokens(a){let s=this.languageIdToBracketTokens.get(a);return s||(s=p.createFromLanguage(this.getLanguageConfiguration(a),this.denseKeyProvider),this.languageIdToBracketTokens.set(a,s)),s}}e.LanguageAgnosticBracketTokens=C}),define(te[546],ie([1,0,308,101,307,144,225]),function(J,e,m,k,D,L,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.fixBracketsInLine=p;function p(C,b){const a=new L.DenseKeyProvider,s=new m.LanguageAgnosticBracketTokens(a,u=>b.getLanguageConfiguration(u)),i=new y.TextBufferTokenizer(new w([C]),s),t=(0,D.parseDocument)(i,[],void 0,!0);let n="";const h=C.getLineContent();function v(u,d){if(u.kind===2)if(v(u.openingBracket,d),d=(0,k.lengthAdd)(d,u.openingBracket.length),u.child&&(v(u.child,d),d=(0,k.lengthAdd)(d,u.child.length)),u.closingBracket)v(u.closingBracket,d),d=(0,k.lengthAdd)(d,u.closingBracket.length);else{const l=s.getSingleLanguageBracketTokens(u.openingBracket.languageId).findClosingTokenText(u.openingBracket.bracketIds);n+=l}else if(u.kind!==3){if(u.kind===0||u.kind===1)n+=h.substring((0,k.lengthGetColumnCountIfZeroLineCount)(d),(0,k.lengthGetColumnCountIfZeroLineCount)((0,k.lengthAdd)(d,u.length)));else if(u.kind===4)for(const r of u.children)v(r,d),d=(0,k.lengthAdd)(d,r.length)}}return v(t,k.lengthZero),n}class w{constructor(b){this.lines=b,this.tokenization={getLineTokens:a=>this.lines[a-1]}}getLineCount(){return this.lines.length}getLineLength(b){return this.lines[b-1].getLineContent().length}}}),define(te[547],ie([1,0,13]),function(J,e,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FixedArray=void 0;class k{constructor(y){this._default=y,this._store=[]}get(y){return y<this._store.length?this._store[y]:this._default}set(y,p){for(;y>=this._store.length;)this._store[this._store.length]=this._default;this._store[y]=p}replace(y,p,w){if(y>=this._store.length)return;if(p===0){this.insert(y,w);return}else if(w===0){this.delete(y,p);return}const C=this._store.slice(0,y),b=this._store.slice(y+p),a=D(w,this._default);this._store=C.concat(a,b)}delete(y,p){p===0||y>=this._store.length||this._store.splice(y,p)}insert(y,p){if(p===0||y>=this._store.length)return;const w=[];for(let C=0;C<p;C++)w[C]=this._default;this._store=(0,m.arrayInsert)(this._store,y,w)}}e.FixedArray=k;function D(L,y){const p=[];for(let w=0;w<L;w++)p[w]=y;return p}}),define(te[548],ie([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.guessIndentation=D;class m{constructor(){this.spacesDiff=0,this.looksLikeAlignment=!1}}function k(L,y,p,w,C){C.spacesDiff=0,C.looksLikeAlignment=!1;let b;for(b=0;b<y&&b<w;b++){const v=L.charCodeAt(b),u=p.charCodeAt(b);if(v!==u)break}let a=0,s=0;for(let v=b;v<y;v++)L.charCodeAt(v)===32?a++:s++;let i=0,t=0;for(let v=b;v<w;v++)p.charCodeAt(v)===32?i++:t++;if(a>0&&s>0||i>0&&t>0)return;const n=Math.abs(s-t),h=Math.abs(a-i);if(n===0){C.spacesDiff=h,h>0&&0<=i-1&&i-1<L.length&&i<p.length&&p.charCodeAt(i)!==32&&L.charCodeAt(i-1)===32&&L.charCodeAt(L.length-1)===44&&(C.looksLikeAlignment=!0);return}if(h%n===0){C.spacesDiff=h/n;return}}function D(L,y,p){const w=Math.min(L.getLineCount(),1e4);let C=0,b=0,a="",s=0;const i=[2,4,6,8,3,5,7],t=8,n=[0,0,0,0,0,0,0,0,0],h=new m;for(let d=1;d<=w;d++){const r=L.getLineLength(d),l=L.getLineContent(d),o=r<=65536;let g=!1,c=0,f=0,_=0;for(let I=0,E=r;I<E;I++){const T=o?l.charCodeAt(I):L.getLineCharCode(d,I);if(T===9)_++;else if(T===32)f++;else{g=!0,c=I;break}}if(!g||(_>0?C++:f>1&&b++,k(a,s,l,c,h),h.looksLikeAlignment&&!(p&&y===h.spacesDiff)))continue;const S=h.spacesDiff;S<=t&&n[S]++,a=l,s=c}let v=p;C!==b&&(v=C<b);let u=y;if(v){let d=v?0:.1*w;i.forEach(r=>{const l=n[r];l>d&&(d=l,u=r)}),u===4&&n[4]>0&&n[2]>0&&n[2]>=n[4]/2&&(u=2)}return{insertSpaces:v,tabSize:u}}}),define(te[549],ie([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IntervalTree=e.SENTINEL=e.IntervalNode=void 0,e.getNodeColor=m,e.nodeAcceptEdit=u,e.recomputeMaxEnd=O,e.intervalCompare=P;function m(x){return(x.metadata&1)>>>0}function k(x,R){x.metadata=x.metadata&254|R<<0}function D(x){return(x.metadata&2)>>>1===1}function L(x,R){x.metadata=x.metadata&253|(R?1:0)<<1}function y(x){return(x.metadata&4)>>>2===1}function p(x,R){x.metadata=x.metadata&251|(R?1:0)<<2}function w(x){return(x.metadata&64)>>>6===1}function C(x,R){x.metadata=x.metadata&191|(R?1:0)<<6}function b(x){return(x.metadata&24)>>>3}function a(x,R){x.metadata=x.metadata&231|R<<3}function s(x){return(x.metadata&32)>>>5===1}function i(x,R){x.metadata=x.metadata&223|(R?1:0)<<5}class t{constructor(R,B,H){this.metadata=0,this.parent=this,this.left=this,this.right=this,k(this,1),this.start=B,this.end=H,this.delta=0,this.maxEnd=H,this.id=R,this.ownerId=0,this.options=null,p(this,!1),C(this,!1),a(this,1),i(this,!1),this.cachedVersionId=0,this.cachedAbsoluteStart=B,this.cachedAbsoluteEnd=H,this.range=null,L(this,!1)}reset(R,B,H,V){this.start=B,this.end=H,this.maxEnd=H,this.cachedVersionId=R,this.cachedAbsoluteStart=B,this.cachedAbsoluteEnd=H,this.range=V}setOptions(R){this.options=R;const B=this.options.className;p(this,B==="squiggly-error"||B==="squiggly-warning"||B==="squiggly-info"),C(this,this.options.glyphMarginClassName!==null),a(this,this.options.stickiness),i(this,this.options.collapseOnReplaceEdit)}setCachedOffsets(R,B,H){this.cachedVersionId!==H&&(this.range=null),this.cachedVersionId=H,this.cachedAbsoluteStart=R,this.cachedAbsoluteEnd=B}detach(){this.parent=null,this.left=null,this.right=null}}e.IntervalNode=t,e.SENTINEL=new t(null,0,0),e.SENTINEL.parent=e.SENTINEL,e.SENTINEL.left=e.SENTINEL,e.SENTINEL.right=e.SENTINEL,k(e.SENTINEL,0);class n{constructor(){this.root=e.SENTINEL,this.requestNormalizeDelta=!1}intervalSearch(R,B,H,V,q,K){return this.root===e.SENTINEL?[]:c(this,R,B,H,V,q,K)}search(R,B,H,V){return this.root===e.SENTINEL?[]:g(this,R,B,H,V)}collectNodesFromOwner(R){return l(this,R)}collectNodesPostOrder(){return o(this)}insert(R){f(this,R),this._normalizeDeltaIfNecessary()}delete(R){S(this,R),this._normalizeDeltaIfNecessary()}resolveNode(R,B){const H=R;let V=0;for(;R!==this.root;)R===R.parent.right&&(V+=R.parent.delta),R=R.parent;const q=H.start+V,K=H.end+V;H.setCachedOffsets(q,K,B)}acceptReplace(R,B,H,V){const q=d(this,R,R+B);for(let K=0,U=q.length;K<U;K++){const $=q[K];S(this,$)}this._normalizeDeltaIfNecessary(),r(this,R,R+B,H),this._normalizeDeltaIfNecessary();for(let K=0,U=q.length;K<U;K++){const $=q[K];$.start=$.cachedAbsoluteStart,$.end=$.cachedAbsoluteEnd,u($,R,R+B,H,V),$.maxEnd=$.end,f(this,$)}this._normalizeDeltaIfNecessary()}_normalizeDeltaIfNecessary(){this.requestNormalizeDelta&&(this.requestNormalizeDelta=!1,h(this))}}e.IntervalTree=n;function h(x){let R=x.root,B=0;for(;R!==e.SENTINEL;){if(R.left!==e.SENTINEL&&!D(R.left)){R=R.left;continue}if(R.right!==e.SENTINEL&&!D(R.right)){B+=R.delta,R=R.right;continue}R.start=B+R.start,R.end=B+R.end,R.delta=0,O(R),L(R,!0),L(R.left,!1),L(R.right,!1),R===R.parent.right&&(B-=R.parent.delta),R=R.parent}L(x.root,!1)}function v(x,R,B,H){return x<B?!0:x>B||H===1?!1:H===2?!0:R}function u(x,R,B,H,V){const q=b(x),K=q===0||q===2,U=q===1||q===2,$=B-R,se=H,F=Math.min($,se),X=x.start;let Q=!1;const Z=x.end;let ae=!1;R<=X&&Z<=B&&s(x)&&(x.start=R,Q=!0,x.end=R,ae=!0);{const ge=V?1:$>0?2:0;!Q&&v(X,K,R,ge)&&(Q=!0),!ae&&v(Z,U,R,ge)&&(ae=!0)}if(F>0&&!V){const ge=$>se?2:0;!Q&&v(X,K,R+F,ge)&&(Q=!0),!ae&&v(Z,U,R+F,ge)&&(ae=!0)}{const ge=V?1:0;!Q&&v(X,K,B,ge)&&(x.start=R+se,Q=!0),!ae&&v(Z,U,B,ge)&&(x.end=R+se,ae=!0)}const ue=se-$;Q||(x.start=Math.max(0,X+ue)),ae||(x.end=Math.max(0,Z+ue)),x.start>x.end&&(x.end=x.start)}function d(x,R,B){let H=x.root,V=0,q=0,K=0,U=0;const $=[];let se=0;for(;H!==e.SENTINEL;){if(D(H)){L(H.left,!1),L(H.right,!1),H===H.parent.right&&(V-=H.parent.delta),H=H.parent;continue}if(!D(H.left)){if(q=V+H.maxEnd,q<R){L(H,!0);continue}if(H.left!==e.SENTINEL){H=H.left;continue}}if(K=V+H.start,K>B){L(H,!0);continue}if(U=V+H.end,U>=R&&(H.setCachedOffsets(K,U,0),$[se++]=H),L(H,!0),H.right!==e.SENTINEL&&!D(H.right)){V+=H.delta,H=H.right;continue}}return L(x.root,!1),$}function r(x,R,B,H){let V=x.root,q=0,K=0,U=0;const $=H-(B-R);for(;V!==e.SENTINEL;){if(D(V)){L(V.left,!1),L(V.right,!1),V===V.parent.right&&(q-=V.parent.delta),O(V),V=V.parent;continue}if(!D(V.left)){if(K=q+V.maxEnd,K<R){L(V,!0);continue}if(V.left!==e.SENTINEL){V=V.left;continue}}if(U=q+V.start,U>B){V.start+=$,V.end+=$,V.delta+=$,(V.delta<-1073741824||V.delta>1073741824)&&(x.requestNormalizeDelta=!0),L(V,!0);continue}if(L(V,!0),V.right!==e.SENTINEL&&!D(V.right)){q+=V.delta,V=V.right;continue}}L(x.root,!1)}function l(x,R){let B=x.root;const H=[];let V=0;for(;B!==e.SENTINEL;){if(D(B)){L(B.left,!1),L(B.right,!1),B=B.parent;continue}if(B.left!==e.SENTINEL&&!D(B.left)){B=B.left;continue}if(B.ownerId===R&&(H[V++]=B),L(B,!0),B.right!==e.SENTINEL&&!D(B.right)){B=B.right;continue}}return L(x.root,!1),H}function o(x){let R=x.root;const B=[];let H=0;for(;R!==e.SENTINEL;){if(D(R)){L(R.left,!1),L(R.right,!1),R=R.parent;continue}if(R.left!==e.SENTINEL&&!D(R.left)){R=R.left;continue}if(R.right!==e.SENTINEL&&!D(R.right)){R=R.right;continue}B[H++]=R,L(R,!0)}return L(x.root,!1),B}function g(x,R,B,H,V){let q=x.root,K=0,U=0,$=0;const se=[];let F=0;for(;q!==e.SENTINEL;){if(D(q)){L(q.left,!1),L(q.right,!1),q===q.parent.right&&(K-=q.parent.delta),q=q.parent;continue}if(q.left!==e.SENTINEL&&!D(q.left)){q=q.left;continue}U=K+q.start,$=K+q.end,q.setCachedOffsets(U,$,H);let X=!0;if(R&&q.ownerId&&q.ownerId!==R&&(X=!1),B&&y(q)&&(X=!1),V&&!w(q)&&(X=!1),X&&(se[F++]=q),L(q,!0),q.right!==e.SENTINEL&&!D(q.right)){K+=q.delta,q=q.right;continue}}return L(x.root,!1),se}function c(x,R,B,H,V,q,K){let U=x.root,$=0,se=0,F=0,X=0;const Q=[];let Z=0;for(;U!==e.SENTINEL;){if(D(U)){L(U.left,!1),L(U.right,!1),U===U.parent.right&&($-=U.parent.delta),U=U.parent;continue}if(!D(U.left)){if(se=$+U.maxEnd,se<R){L(U,!0);continue}if(U.left!==e.SENTINEL){U=U.left;continue}}if(F=$+U.start,F>B){L(U,!0);continue}if(X=$+U.end,X>=R){U.setCachedOffsets(F,X,q);let ae=!0;H&&U.ownerId&&U.ownerId!==H&&(ae=!1),V&&y(U)&&(ae=!1),K&&!w(U)&&(ae=!1),ae&&(Q[Z++]=U)}if(L(U,!0),U.right!==e.SENTINEL&&!D(U.right)){$+=U.delta,U=U.right;continue}}return L(x.root,!1),Q}function f(x,R){if(x.root===e.SENTINEL)return R.parent=e.SENTINEL,R.left=e.SENTINEL,R.right=e.SENTINEL,k(R,0),x.root=R,x.root;_(x,R),M(R.parent);let B=R;for(;B!==x.root&&m(B.parent)===1;)if(B.parent===B.parent.parent.left){const H=B.parent.parent.right;m(H)===1?(k(B.parent,0),k(H,0),k(B.parent.parent,1),B=B.parent.parent):(B===B.parent.right&&(B=B.parent,T(x,B)),k(B.parent,0),k(B.parent.parent,1),N(x,B.parent.parent))}else{const H=B.parent.parent.left;m(H)===1?(k(B.parent,0),k(H,0),k(B.parent.parent,1),B=B.parent.parent):(B===B.parent.left&&(B=B.parent,N(x,B)),k(B.parent,0),k(B.parent.parent,1),T(x,B.parent.parent))}return k(x.root,0),R}function _(x,R){let B=0,H=x.root;const V=R.start,q=R.end;for(;;)if(P(V,q,H.start+B,H.end+B)<0)if(H.left===e.SENTINEL){R.start-=B,R.end-=B,R.maxEnd-=B,H.left=R;break}else H=H.left;else if(H.right===e.SENTINEL){R.start-=B+H.delta,R.end-=B+H.delta,R.maxEnd-=B+H.delta,H.right=R;break}else B+=H.delta,H=H.right;R.parent=H,R.left=e.SENTINEL,R.right=e.SENTINEL,k(R,1)}function S(x,R){let B,H;if(R.left===e.SENTINEL?(B=R.right,H=R,B.delta+=R.delta,(B.delta<-1073741824||B.delta>1073741824)&&(x.requestNormalizeDelta=!0),B.start+=R.delta,B.end+=R.delta):R.right===e.SENTINEL?(B=R.left,H=R):(H=I(R.right),B=H.right,B.start+=H.delta,B.end+=H.delta,B.delta+=H.delta,(B.delta<-1073741824||B.delta>1073741824)&&(x.requestNormalizeDelta=!0),H.start+=R.delta,H.end+=R.delta,H.delta=R.delta,(H.delta<-1073741824||H.delta>1073741824)&&(x.requestNormalizeDelta=!0)),H===x.root){x.root=B,k(B,0),R.detach(),E(),O(B),x.root.parent=e.SENTINEL;return}const V=m(H)===1;if(H===H.parent.left?H.parent.left=B:H.parent.right=B,H===R?B.parent=H.parent:(H.parent===R?B.parent=H:B.parent=H.parent,H.left=R.left,H.right=R.right,H.parent=R.parent,k(H,m(R)),R===x.root?x.root=H:R===R.parent.left?R.parent.left=H:R.parent.right=H,H.left!==e.SENTINEL&&(H.left.parent=H),H.right!==e.SENTINEL&&(H.right.parent=H)),R.detach(),V){M(B.parent),H!==R&&(M(H),M(H.parent)),E();return}M(B),M(B.parent),H!==R&&(M(H),M(H.parent));let q;for(;B!==x.root&&m(B)===0;)B===B.parent.left?(q=B.parent.right,m(q)===1&&(k(q,0),k(B.parent,1),T(x,B.parent),q=B.parent.right),m(q.left)===0&&m(q.right)===0?(k(q,1),B=B.parent):(m(q.right)===0&&(k(q.left,0),k(q,1),N(x,q),q=B.parent.right),k(q,m(B.parent)),k(B.parent,0),k(q.right,0),T(x,B.parent),B=x.root)):(q=B.parent.left,m(q)===1&&(k(q,0),k(B.parent,1),N(x,B.parent),q=B.parent.left),m(q.left)===0&&m(q.right)===0?(k(q,1),B=B.parent):(m(q.left)===0&&(k(q.right,0),k(q,1),T(x,q),q=B.parent.left),k(q,m(B.parent)),k(B.parent,0),k(q.left,0),N(x,B.parent),B=x.root));k(B,0),E()}function I(x){for(;x.left!==e.SENTINEL;)x=x.left;return x}function E(){e.SENTINEL.parent=e.SENTINEL,e.SENTINEL.delta=0,e.SENTINEL.start=0,e.SENTINEL.end=0}function T(x,R){const B=R.right;B.delta+=R.delta,(B.delta<-1073741824||B.delta>1073741824)&&(x.requestNormalizeDelta=!0),B.start+=R.delta,B.end+=R.delta,R.right=B.left,B.left!==e.SENTINEL&&(B.left.parent=R),B.parent=R.parent,R.parent===e.SENTINEL?x.root=B:R===R.parent.left?R.parent.left=B:R.parent.right=B,B.left=R,R.parent=B,O(R),O(B)}function N(x,R){const B=R.left;R.delta-=B.delta,(R.delta<-1073741824||R.delta>1073741824)&&(x.requestNormalizeDelta=!0),R.start-=B.delta,R.end-=B.delta,R.left=B.right,B.right!==e.SENTINEL&&(B.right.parent=R),B.parent=R.parent,R.parent===e.SENTINEL?x.root=B:R===R.parent.right?R.parent.right=B:R.parent.left=B,B.right=R,R.parent=B,O(R),O(B)}function A(x){let R=x.end;if(x.left!==e.SENTINEL){const B=x.left.maxEnd;B>R&&(R=B)}if(x.right!==e.SENTINEL){const B=x.right.maxEnd+x.delta;B>R&&(R=B)}return R}function O(x){x.maxEnd=A(x)}function M(x){for(;x!==e.SENTINEL;){const R=A(x);if(x.maxEnd===R)return;x.maxEnd=R,x=x.parent}}function P(x,R,B,H){return x===B?R-H:x-B}}),define(te[550],ie([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SENTINEL=e.TreeNode=void 0,e.leftest=k,e.righttest=D,e.leftRotate=w,e.rightRotate=C,e.rbDelete=b,e.fixInsert=a,e.updateTreeMetadata=s,e.recomputeTreeMetadata=i;class m{constructor(n,h){this.piece=n,this.color=h,this.size_left=0,this.lf_left=0,this.parent=this,this.left=this,this.right=this}next(){if(this.right!==e.SENTINEL)return k(this.right);let n=this;for(;n.parent!==e.SENTINEL&&n.parent.left!==n;)n=n.parent;return n.parent===e.SENTINEL?e.SENTINEL:n.parent}prev(){if(this.left!==e.SENTINEL)return D(this.left);let n=this;for(;n.parent!==e.SENTINEL&&n.parent.right!==n;)n=n.parent;return n.parent===e.SENTINEL?e.SENTINEL:n.parent}detach(){this.parent=null,this.left=null,this.right=null}}e.TreeNode=m,e.SENTINEL=new m(null,0),e.SENTINEL.parent=e.SENTINEL,e.SENTINEL.left=e.SENTINEL,e.SENTINEL.right=e.SENTINEL,e.SENTINEL.color=0;function k(t){for(;t.left!==e.SENTINEL;)t=t.left;return t}function D(t){for(;t.right!==e.SENTINEL;)t=t.right;return t}function L(t){return t===e.SENTINEL?0:t.size_left+t.piece.length+L(t.right)}function y(t){return t===e.SENTINEL?0:t.lf_left+t.piece.lineFeedCnt+y(t.right)}function p(){e.SENTINEL.parent=e.SENTINEL}function w(t,n){const h=n.right;h.size_left+=n.size_left+(n.piece?n.piece.length:0),h.lf_left+=n.lf_left+(n.piece?n.piece.lineFeedCnt:0),n.right=h.left,h.left!==e.SENTINEL&&(h.left.parent=n),h.parent=n.parent,n.parent===e.SENTINEL?t.root=h:n.parent.left===n?n.parent.left=h:n.parent.right=h,h.left=n,n.parent=h}function C(t,n){const h=n.left;n.left=h.right,h.right!==e.SENTINEL&&(h.right.parent=n),h.parent=n.parent,n.size_left-=h.size_left+(h.piece?h.piece.length:0),n.lf_left-=h.lf_left+(h.piece?h.piece.lineFeedCnt:0),n.parent===e.SENTINEL?t.root=h:n===n.parent.right?n.parent.right=h:n.parent.left=h,h.right=n,n.parent=h}function b(t,n){let h,v;if(n.left===e.SENTINEL?(v=n,h=v.right):n.right===e.SENTINEL?(v=n,h=v.left):(v=k(n.right),h=v.right),v===t.root){t.root=h,h.color=0,n.detach(),p(),t.root.parent=e.SENTINEL;return}const u=v.color===1;if(v===v.parent.left?v.parent.left=h:v.parent.right=h,v===n?(h.parent=v.parent,i(t,h)):(v.parent===n?h.parent=v:h.parent=v.parent,i(t,h),v.left=n.left,v.right=n.right,v.parent=n.parent,v.color=n.color,n===t.root?t.root=v:n===n.parent.left?n.parent.left=v:n.parent.right=v,v.left!==e.SENTINEL&&(v.left.parent=v),v.right!==e.SENTINEL&&(v.right.parent=v),v.size_left=n.size_left,v.lf_left=n.lf_left,i(t,v)),n.detach(),h.parent.left===h){const r=L(h),l=y(h);if(r!==h.parent.size_left||l!==h.parent.lf_left){const o=r-h.parent.size_left,g=l-h.parent.lf_left;h.parent.size_left=r,h.parent.lf_left=l,s(t,h.parent,o,g)}}if(i(t,h.parent),u){p();return}let d;for(;h!==t.root&&h.color===0;)h===h.parent.left?(d=h.parent.right,d.color===1&&(d.color=0,h.parent.color=1,w(t,h.parent),d=h.parent.right),d.left.color===0&&d.right.color===0?(d.color=1,h=h.parent):(d.right.color===0&&(d.left.color=0,d.color=1,C(t,d),d=h.parent.right),d.color=h.parent.color,h.parent.color=0,d.right.color=0,w(t,h.parent),h=t.root)):(d=h.parent.left,d.color===1&&(d.color=0,h.parent.color=1,C(t,h.parent),d=h.parent.left),d.left.color===0&&d.right.color===0?(d.color=1,h=h.parent):(d.left.color===0&&(d.right.color=0,d.color=1,w(t,d),d=h.parent.left),d.color=h.parent.color,h.parent.color=0,d.left.color=0,C(t,h.parent),h=t.root));h.color=0,p()}function a(t,n){for(i(t,n);n!==t.root&&n.parent.color===1;)if(n.parent===n.parent.parent.left){const h=n.parent.parent.right;h.color===1?(n.parent.color=0,h.color=0,n.parent.parent.color=1,n=n.parent.parent):(n===n.parent.right&&(n=n.parent,w(t,n)),n.parent.color=0,n.parent.parent.color=1,C(t,n.parent.parent))}else{const h=n.parent.parent.left;h.color===1?(n.parent.color=0,h.color=0,n.parent.parent.color=1,n=n.parent.parent):(n===n.parent.left&&(n=n.parent,C(t,n)),n.parent.color=0,n.parent.parent.color=1,w(t,n.parent.parent))}t.root.color=0}function s(t,n,h,v){for(;n!==t.root&&n!==e.SENTINEL;)n.parent.left===n&&(n.parent.size_left+=h,n.parent.lf_left+=v),n=n.parent}function i(t,n){let h=0,v=0;if(n!==t.root){for(;n!==t.root&&n===n.parent.right;)n=n.parent;if(n!==t.root)for(n=n.parent,h=L(n.left)-n.size_left,v=y(n.left)-n.lf_left,n.size_left+=h,n.lf_left+=v;n!==t.root&&(h!==0||v!==0);)n.parent.left===n&&(n.parent.size_left+=h,n.parent.lf_left+=v),n=n.parent}}}),define(te[309],ie([1,0,13,184]),function(J,e,m,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PrefixSumIndexOfResult=e.ConstantTimePrefixSumComputer=e.PrefixSumComputer=void 0;class D{constructor(w){this.values=w,this.prefixSum=new Uint32Array(w.length),this.prefixSumValidIndex=new Int32Array(1),this.prefixSumValidIndex[0]=-1}insertValues(w,C){w=(0,k.toUint32)(w);const b=this.values,a=this.prefixSum,s=C.length;return s===0?!1:(this.values=new Uint32Array(b.length+s),this.values.set(b.subarray(0,w),0),this.values.set(b.subarray(w),w+s),this.values.set(C,w),w-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=w-1),this.prefixSum=new Uint32Array(this.values.length),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(a.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}setValue(w,C){return w=(0,k.toUint32)(w),C=(0,k.toUint32)(C),this.values[w]===C?!1:(this.values[w]=C,w-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=w-1),!0)}removeValues(w,C){w=(0,k.toUint32)(w),C=(0,k.toUint32)(C);const b=this.values,a=this.prefixSum;if(w>=b.length)return!1;const s=b.length-w;return C>=s&&(C=s),C===0?!1:(this.values=new Uint32Array(b.length-C),this.values.set(b.subarray(0,w),0),this.values.set(b.subarray(w+C),w),this.prefixSum=new Uint32Array(this.values.length),w-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=w-1),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(a.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}getTotalSum(){return this.values.length===0?0:this._getPrefixSum(this.values.length-1)}getPrefixSum(w){return w<0?0:(w=(0,k.toUint32)(w),this._getPrefixSum(w))}_getPrefixSum(w){if(w<=this.prefixSumValidIndex[0])return this.prefixSum[w];let C=this.prefixSumValidIndex[0]+1;C===0&&(this.prefixSum[0]=this.values[0],C++),w>=this.values.length&&(w=this.values.length-1);for(let b=C;b<=w;b++)this.prefixSum[b]=this.prefixSum[b-1]+this.values[b];return this.prefixSumValidIndex[0]=Math.max(this.prefixSumValidIndex[0],w),this.prefixSum[w]}getIndexOf(w){w=Math.floor(w),this.getTotalSum();let C=0,b=this.values.length-1,a=0,s=0,i=0;for(;C<=b;)if(a=C+(b-C)/2|0,s=this.prefixSum[a],i=s-this.values[a],w<i)b=a-1;else if(w>=s)C=a+1;else break;return new y(a,w-i)}}e.PrefixSumComputer=D;class L{constructor(w){this._values=w,this._isValid=!1,this._validEndIndex=-1,this._prefixSum=[],this._indexBySum=[]}getTotalSum(){return this._ensureValid(),this._indexBySum.length}getPrefixSum(w){return this._ensureValid(),w===0?0:this._prefixSum[w-1]}getIndexOf(w){this._ensureValid();const C=this._indexBySum[w],b=C>0?this._prefixSum[C-1]:0;return new y(C,w-b)}removeValues(w,C){this._values.splice(w,C),this._invalidate(w)}insertValues(w,C){this._values=(0,m.arrayInsert)(this._values,w,C),this._invalidate(w)}_invalidate(w){this._isValid=!1,this._validEndIndex=Math.min(this._validEndIndex,w-1)}_ensureValid(){if(!this._isValid){for(let w=this._validEndIndex+1,C=this._values.length;w<C;w++){const b=this._values[w],a=w>0?this._prefixSum[w-1]:0;this._prefixSum[w]=a+b;for(let s=0;s<b;s++)this._indexBySum[a+s]=w}this._prefixSum.length=this._values.length,this._indexBySum.length=this._prefixSum[this._prefixSum.length-1],this._isValid=!0,this._validEndIndex=this._values.length-1}}setValue(w,C){this._values[w]!==C&&(this._values[w]=C,this._invalidate(w))}}e.ConstantTimePrefixSumComputer=L;class y{constructor(w,C){this.index=w,this.remainder=C,this._prefixSumIndexOfResultBrand=void 0,this.index=w,this.remainder=C}}e.PrefixSumIndexOfResult=y}),define(te[551],ie([1,0,11,9,309]),function(J,e,m,k,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MirrorTextModel=void 0;class L{constructor(p,w,C,b){this._uri=p,this._lines=w,this._eol=C,this._versionId=b,this._lineStarts=null,this._cachedTextValue=null}dispose(){this._lines.length=0}get version(){return this._versionId}getText(){return this._cachedTextValue===null&&(this._cachedTextValue=this._lines.join(this._eol)),this._cachedTextValue}onEvents(p){p.eol&&p.eol!==this._eol&&(this._eol=p.eol,this._lineStarts=null);const w=p.changes;for(const C of w)this._acceptDeleteRange(C.range),this._acceptInsertText(new k.Position(C.range.startLineNumber,C.range.startColumn),C.text);this._versionId=p.versionId,this._cachedTextValue=null}_ensureLineStarts(){if(!this._lineStarts){const p=this._eol.length,w=this._lines.length,C=new Uint32Array(w);for(let b=0;b<w;b++)C[b]=this._lines[b].length+p;this._lineStarts=new D.PrefixSumComputer(C)}}_setLineText(p,w){this._lines[p]=w,this._lineStarts&&this._lineStarts.setValue(p,this._lines[p].length+this._eol.length)}_acceptDeleteRange(p){if(p.startLineNumber===p.endLineNumber){if(p.startColumn===p.endColumn)return;this._setLineText(p.startLineNumber-1,this._lines[p.startLineNumber-1].substring(0,p.startColumn-1)+this._lines[p.startLineNumber-1].substring(p.endColumn-1));return}this._setLineText(p.startLineNumber-1,this._lines[p.startLineNumber-1].substring(0,p.startColumn-1)+this._lines[p.endLineNumber-1].substring(p.endColumn-1)),this._lines.splice(p.startLineNumber,p.endLineNumber-p.startLineNumber),this._lineStarts&&this._lineStarts.removeValues(p.startLineNumber,p.endLineNumber-p.startLineNumber)}_acceptInsertText(p,w){if(w.length===0)return;const C=(0,m.splitLines)(w);if(C.length===1){this._setLineText(p.lineNumber-1,this._lines[p.lineNumber-1].substring(0,p.column-1)+C[0]+this._lines[p.lineNumber-1].substring(p.column-1));return}C[C.length-1]+=this._lines[p.lineNumber-1].substring(p.column-1),this._setLineText(p.lineNumber-1,this._lines[p.lineNumber-1].substring(0,p.column-1)+C[0]);const b=new Uint32Array(C.length-1);for(let a=1;a<C.length;a++)this._lines.splice(p.lineNumber+a-1,0,C[a]),b[a-1]=C[a].length+this._eol.length;this._lineStarts&&this._lineStarts.insertValues(p.lineNumber,b)}}e.MirrorTextModel=L}),define(te[310],ie([1,0,2]),function(J,e,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextModelPart=void 0;class k extends m.Disposable{constructor(){super(...arguments),this._isDisposed=!1}dispose(){super.dispose(),this._isDisposed=!0}assertNotDisposed(){if(this._isDisposed)throw new Error("TextModelPart is disposed!")}}e.TextModelPart=k}),define(te[193],ie([1,0,11,159,9,5,43]),function(J,e,m,k,D,L,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Searcher=e.TextModelSearch=e.SearchParams=void 0,e.isMultilineRegexSource=C,e.createFindMatch=b,e.isValidMatch=n;const p=999;class w{constructor(u,d,r,l){this.searchString=u,this.isRegex=d,this.matchCase=r,this.wordSeparators=l}parseSearchRequest(){if(this.searchString==="")return null;let u;this.isRegex?u=C(this.searchString):u=this.searchString.indexOf(`
`)>=0;let d=null;try{d=m.createRegExp(this.searchString,this.isRegex,{matchCase:this.matchCase,wholeWord:!1,multiline:u,global:!0,unicode:!0})}catch{return null}if(!d)return null;let r=!this.isRegex&&!u;return r&&this.searchString.toLowerCase()!==this.searchString.toUpperCase()&&(r=this.matchCase),new y.SearchData(d,this.wordSeparators?(0,k.getMapForWordSeparators)(this.wordSeparators,[]):null,r?this.searchString:null)}}e.SearchParams=w;function C(v){if(!v||v.length===0)return!1;for(let u=0,d=v.length;u<d;u++){const r=v.charCodeAt(u);if(r===10)return!0;if(r===92){if(u++,u>=d)break;const l=v.charCodeAt(u);if(l===110||l===114||l===87)return!0}}return!1}function b(v,u,d){if(!d)return new y.FindMatch(v,null);const r=[];for(let l=0,o=u.length;l<o;l++)r[l]=u[l];return new y.FindMatch(v,r)}class a{constructor(u){const d=[];let r=0;for(let l=0,o=u.length;l<o;l++)u.charCodeAt(l)===10&&(d[r++]=l);this._lineFeedsOffsets=d}findLineFeedCountBeforeOffset(u){const d=this._lineFeedsOffsets;let r=0,l=d.length-1;if(l===-1||u<=d[0])return 0;for(;r<l;){const o=r+((l-r)/2>>0);d[o]>=u?l=o-1:d[o+1]>=u?(r=o,l=o):r=o+1}return r+1}}class s{static findMatches(u,d,r,l,o){const g=d.parseSearchRequest();return g?g.regex.multiline?this._doFindMatchesMultiline(u,r,new h(g.wordSeparators,g.regex),l,o):this._doFindMatchesLineByLine(u,r,g,l,o):[]}static _getMultilineMatchRange(u,d,r,l,o,g){let c,f=0;l?(f=l.findLineFeedCountBeforeOffset(o),c=d+o+f):c=d+o;let _;if(l){const T=l.findLineFeedCountBeforeOffset(o+g.length)-f;_=c+g.length+T}else _=c+g.length;const S=u.getPositionAt(c),I=u.getPositionAt(_);return new L.Range(S.lineNumber,S.column,I.lineNumber,I.column)}static _doFindMatchesMultiline(u,d,r,l,o){const g=u.getOffsetAt(d.getStartPosition()),c=u.getValueInRange(d,1),f=u.getEOL()===`\r
`?new a(c):null,_=[];let S=0,I;for(r.reset(0);I=r.next(c);)if(_[S++]=b(this._getMultilineMatchRange(u,g,c,f,I.index,I[0]),I,l),S>=o)return _;return _}static _doFindMatchesLineByLine(u,d,r,l,o){const g=[];let c=0;if(d.startLineNumber===d.endLineNumber){const _=u.getLineContent(d.startLineNumber).substring(d.startColumn-1,d.endColumn-1);return c=this._findMatchesInLine(r,_,d.startLineNumber,d.startColumn-1,c,g,l,o),g}const f=u.getLineContent(d.startLineNumber).substring(d.startColumn-1);c=this._findMatchesInLine(r,f,d.startLineNumber,d.startColumn-1,c,g,l,o);for(let _=d.startLineNumber+1;_<d.endLineNumber&&c<o;_++)c=this._findMatchesInLine(r,u.getLineContent(_),_,0,c,g,l,o);if(c<o){const _=u.getLineContent(d.endLineNumber).substring(0,d.endColumn-1);c=this._findMatchesInLine(r,_,d.endLineNumber,0,c,g,l,o)}return g}static _findMatchesInLine(u,d,r,l,o,g,c,f){const _=u.wordSeparators;if(!c&&u.simpleSearch){const E=u.simpleSearch,T=E.length,N=d.length;let A=-T;for(;(A=d.indexOf(E,A+T))!==-1;)if((!_||n(_,d,N,A,T))&&(g[o++]=new y.FindMatch(new L.Range(r,A+1+l,r,A+1+T+l),null),o>=f))return o;return o}const S=new h(u.wordSeparators,u.regex);let I;S.reset(0);do if(I=S.next(d),I&&(g[o++]=b(new L.Range(r,I.index+1+l,r,I.index+1+I[0].length+l),I,c),o>=f))return o;while(I);return o}static findNextMatch(u,d,r,l){const o=d.parseSearchRequest();if(!o)return null;const g=new h(o.wordSeparators,o.regex);return o.regex.multiline?this._doFindNextMatchMultiline(u,r,g,l):this._doFindNextMatchLineByLine(u,r,g,l)}static _doFindNextMatchMultiline(u,d,r,l){const o=new D.Position(d.lineNumber,1),g=u.getOffsetAt(o),c=u.getLineCount(),f=u.getValueInRange(new L.Range(o.lineNumber,o.column,c,u.getLineMaxColumn(c)),1),_=u.getEOL()===`\r
`?new a(f):null;r.reset(d.column-1);const S=r.next(f);return S?b(this._getMultilineMatchRange(u,g,f,_,S.index,S[0]),S,l):d.lineNumber!==1||d.column!==1?this._doFindNextMatchMultiline(u,new D.Position(1,1),r,l):null}static _doFindNextMatchLineByLine(u,d,r,l){const o=u.getLineCount(),g=d.lineNumber,c=u.getLineContent(g),f=this._findFirstMatchInLine(r,c,g,d.column,l);if(f)return f;for(let _=1;_<=o;_++){const S=(g+_-1)%o,I=u.getLineContent(S+1),E=this._findFirstMatchInLine(r,I,S+1,1,l);if(E)return E}return null}static _findFirstMatchInLine(u,d,r,l,o){u.reset(l-1);const g=u.next(d);return g?b(new L.Range(r,g.index+1,r,g.index+1+g[0].length),g,o):null}static findPreviousMatch(u,d,r,l){const o=d.parseSearchRequest();if(!o)return null;const g=new h(o.wordSeparators,o.regex);return o.regex.multiline?this._doFindPreviousMatchMultiline(u,r,g,l):this._doFindPreviousMatchLineByLine(u,r,g,l)}static _doFindPreviousMatchMultiline(u,d,r,l){const o=this._doFindMatchesMultiline(u,new L.Range(1,1,d.lineNumber,d.column),r,l,10*p);if(o.length>0)return o[o.length-1];const g=u.getLineCount();return d.lineNumber!==g||d.column!==u.getLineMaxColumn(g)?this._doFindPreviousMatchMultiline(u,new D.Position(g,u.getLineMaxColumn(g)),r,l):null}static _doFindPreviousMatchLineByLine(u,d,r,l){const o=u.getLineCount(),g=d.lineNumber,c=u.getLineContent(g).substring(0,d.column-1),f=this._findLastMatchInLine(r,c,g,l);if(f)return f;for(let _=1;_<=o;_++){const S=(o+g-_-1)%o,I=u.getLineContent(S+1),E=this._findLastMatchInLine(r,I,S+1,l);if(E)return E}return null}static _findLastMatchInLine(u,d,r,l){let o=null,g;for(u.reset(0);g=u.next(d);)o=b(new L.Range(r,g.index+1,r,g.index+1+g[0].length),g,l);return o}}e.TextModelSearch=s;function i(v,u,d,r,l){if(r===0)return!0;const o=u.charCodeAt(r-1);if(v.get(o)!==0||o===13||o===10)return!0;if(l>0){const g=u.charCodeAt(r);if(v.get(g)!==0)return!0}return!1}function t(v,u,d,r,l){if(r+l===d)return!0;const o=u.charCodeAt(r+l);if(v.get(o)!==0||o===13||o===10)return!0;if(l>0){const g=u.charCodeAt(r+l-1);if(v.get(g)!==0)return!0}return!1}function n(v,u,d,r,l){return i(v,u,d,r,l)&&t(v,u,d,r,l)}class h{constructor(u,d){this._wordSeparators=u,this._searchRegex=d,this._prevMatchStartIndex=-1,this._prevMatchLength=0}reset(u){this._searchRegex.lastIndex=u,this._prevMatchStartIndex=-1,this._prevMatchLength=0}next(u){const d=u.length;let r;do{if(this._prevMatchStartIndex+this._prevMatchLength===d||(r=this._searchRegex.exec(u),!r))return null;const l=r.index,o=r[0].length;if(l===this._prevMatchStartIndex&&o===this._prevMatchLength){if(o===0){m.getNextCodePoint(u,d,this._searchRegex.lastIndex)>65535?this._searchRegex.lastIndex+=2:this._searchRegex.lastIndex+=1;continue}return null}if(this._prevMatchStartIndex=l,this._prevMatchLength=o,!this._wordSeparators||n(this._wordSeparators,u,d,l,o))return r}while(r);return null}}e.Searcher=h}),define(te[311],ie([1,0,9,5,43,550,193]),function(J,e,m,k,D,L,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PieceTreeBase=e.StringBuffer=e.Piece=void 0,e.createLineStartsFast=b,e.createLineStarts=a;const p=65535;function w(v){let u;return v[v.length-1]<65536?u=new Uint16Array(v.length):u=new Uint32Array(v.length),u.set(v,0),u}class C{constructor(u,d,r,l,o){this.lineStarts=u,this.cr=d,this.lf=r,this.crlf=l,this.isBasicASCII=o}}function b(v,u=!0){const d=[0];let r=1;for(let l=0,o=v.length;l<o;l++){const g=v.charCodeAt(l);g===13?l+1<o&&v.charCodeAt(l+1)===10?(d[r++]=l+2,l++):d[r++]=l+1:g===10&&(d[r++]=l+1)}return u?w(d):d}function a(v,u){v.length=0,v[0]=0;let d=1,r=0,l=0,o=0,g=!0;for(let f=0,_=u.length;f<_;f++){const S=u.charCodeAt(f);S===13?f+1<_&&u.charCodeAt(f+1)===10?(o++,v[d++]=f+2,f++):(r++,v[d++]=f+1):S===10?(l++,v[d++]=f+1):g&&S!==9&&(S<32||S>126)&&(g=!1)}const c=new C(w(v),r,l,o,g);return v.length=0,c}class s{constructor(u,d,r,l,o){this.bufferIndex=u,this.start=d,this.end=r,this.lineFeedCnt=l,this.length=o}}e.Piece=s;class i{constructor(u,d){this.buffer=u,this.lineStarts=d}}e.StringBuffer=i;class t{constructor(u,d){this._pieces=[],this._tree=u,this._BOM=d,this._index=0,u.root!==L.SENTINEL&&u.iterate(u.root,r=>(r!==L.SENTINEL&&this._pieces.push(r.piece),!0))}read(){return this._pieces.length===0?this._index===0?(this._index++,this._BOM):null:this._index>this._pieces.length-1?null:this._index===0?this._BOM+this._tree.getPieceContent(this._pieces[this._index++]):this._tree.getPieceContent(this._pieces[this._index++])}}class n{constructor(u){this._limit=u,this._cache=[]}get(u){for(let d=this._cache.length-1;d>=0;d--){const r=this._cache[d];if(r.nodeStartOffset<=u&&r.nodeStartOffset+r.node.piece.length>=u)return r}return null}get2(u){for(let d=this._cache.length-1;d>=0;d--){const r=this._cache[d];if(r.nodeStartLineNumber&&r.nodeStartLineNumber<u&&r.nodeStartLineNumber+r.node.piece.lineFeedCnt>=u)return r}return null}set(u){this._cache.length>=this._limit&&this._cache.shift(),this._cache.push(u)}validate(u){let d=!1;const r=this._cache;for(let l=0;l<r.length;l++){const o=r[l];if(o.node.parent===null||o.nodeStartOffset>=u){r[l]=null,d=!0;continue}}if(d){const l=[];for(const o of r)o!==null&&l.push(o);this._cache=l}}}class h{constructor(u,d,r){this.create(u,d,r)}create(u,d,r){this._buffers=[new i("",[0])],this._lastChangeBufferPos={line:0,column:0},this.root=L.SENTINEL,this._lineCnt=1,this._length=0,this._EOL=d,this._EOLLength=d.length,this._EOLNormalized=r;let l=null;for(let o=0,g=u.length;o<g;o++)if(u[o].buffer.length>0){u[o].lineStarts||(u[o].lineStarts=b(u[o].buffer));const c=new s(o+1,{line:0,column:0},{line:u[o].lineStarts.length-1,column:u[o].buffer.length-u[o].lineStarts[u[o].lineStarts.length-1]},u[o].lineStarts.length-1,u[o].buffer.length);this._buffers.push(u[o]),l=this.rbInsertRight(l,c)}this._searchCache=new n(1),this._lastVisitedLine={lineNumber:0,value:""},this.computeBufferMetadata()}normalizeEOL(u){const d=p,r=d-Math.floor(d/3),l=r*2;let o="",g=0;const c=[];if(this.iterate(this.root,f=>{const _=this.getNodeContent(f),S=_.length;if(g<=r||g+S<l)return o+=_,g+=S,!0;const I=o.replace(/\r\n|\r|\n/g,u);return c.push(new i(I,b(I))),o=_,g=S,!0}),g>0){const f=o.replace(/\r\n|\r|\n/g,u);c.push(new i(f,b(f)))}this.create(c,u,!0)}getEOL(){return this._EOL}setEOL(u){this._EOL=u,this._EOLLength=this._EOL.length,this.normalizeEOL(u)}createSnapshot(u){return new t(this,u)}getOffsetAt(u,d){let r=0,l=this.root;for(;l!==L.SENTINEL;)if(l.left!==L.SENTINEL&&l.lf_left+1>=u)l=l.left;else if(l.lf_left+l.piece.lineFeedCnt+1>=u){r+=l.size_left;const o=this.getAccumulatedValue(l,u-l.lf_left-2);return r+=o+d-1}else u-=l.lf_left+l.piece.lineFeedCnt,r+=l.size_left+l.piece.length,l=l.right;return r}getPositionAt(u){u=Math.floor(u),u=Math.max(0,u);let d=this.root,r=0;const l=u;for(;d!==L.SENTINEL;)if(d.size_left!==0&&d.size_left>=u)d=d.left;else if(d.size_left+d.piece.length>=u){const o=this.getIndexOf(d,u-d.size_left);if(r+=d.lf_left+o.index,o.index===0){const g=this.getOffsetAt(r+1,1),c=l-g;return new m.Position(r+1,c+1)}return new m.Position(r+1,o.remainder+1)}else if(u-=d.size_left+d.piece.length,r+=d.lf_left+d.piece.lineFeedCnt,d.right===L.SENTINEL){const o=this.getOffsetAt(r+1,1),g=l-u-o;return new m.Position(r+1,g+1)}else d=d.right;return new m.Position(1,1)}getValueInRange(u,d){if(u.startLineNumber===u.endLineNumber&&u.startColumn===u.endColumn)return"";const r=this.nodeAt2(u.startLineNumber,u.startColumn),l=this.nodeAt2(u.endLineNumber,u.endColumn),o=this.getValueInRange2(r,l);return d?d!==this._EOL||!this._EOLNormalized?o.replace(/\r\n|\r|\n/g,d):d===this.getEOL()&&this._EOLNormalized?o:o.replace(/\r\n|\r|\n/g,d):o}getValueInRange2(u,d){if(u.node===d.node){const c=u.node,f=this._buffers[c.piece.bufferIndex].buffer,_=this.offsetInBuffer(c.piece.bufferIndex,c.piece.start);return f.substring(_+u.remainder,_+d.remainder)}let r=u.node;const l=this._buffers[r.piece.bufferIndex].buffer,o=this.offsetInBuffer(r.piece.bufferIndex,r.piece.start);let g=l.substring(o+u.remainder,o+r.piece.length);for(r=r.next();r!==L.SENTINEL;){const c=this._buffers[r.piece.bufferIndex].buffer,f=this.offsetInBuffer(r.piece.bufferIndex,r.piece.start);if(r===d.node){g+=c.substring(f,f+d.remainder);break}else g+=c.substr(f,r.piece.length);r=r.next()}return g}getLinesContent(){const u=[];let d=0,r="",l=!1;return this.iterate(this.root,o=>{if(o===L.SENTINEL)return!0;const g=o.piece;let c=g.length;if(c===0)return!0;const f=this._buffers[g.bufferIndex].buffer,_=this._buffers[g.bufferIndex].lineStarts,S=g.start.line,I=g.end.line;let E=_[S]+g.start.column;if(l&&(f.charCodeAt(E)===10&&(E++,c--),u[d++]=r,r="",l=!1,c===0))return!0;if(S===I)return!this._EOLNormalized&&f.charCodeAt(E+c-1)===13?(l=!0,r+=f.substr(E,c-1)):r+=f.substr(E,c),!0;r+=this._EOLNormalized?f.substring(E,Math.max(E,_[S+1]-this._EOLLength)):f.substring(E,_[S+1]).replace(/(\r\n|\r|\n)$/,""),u[d++]=r;for(let T=S+1;T<I;T++)r=this._EOLNormalized?f.substring(_[T],_[T+1]-this._EOLLength):f.substring(_[T],_[T+1]).replace(/(\r\n|\r|\n)$/,""),u[d++]=r;return!this._EOLNormalized&&f.charCodeAt(_[I]+g.end.column-1)===13?(l=!0,g.end.column===0?d--:r=f.substr(_[I],g.end.column-1)):r=f.substr(_[I],g.end.column),!0}),l&&(u[d++]=r,r=""),u[d++]=r,u}getLength(){return this._length}getLineCount(){return this._lineCnt}getLineContent(u){return this._lastVisitedLine.lineNumber===u?this._lastVisitedLine.value:(this._lastVisitedLine.lineNumber=u,u===this._lineCnt?this._lastVisitedLine.value=this.getLineRawContent(u):this._EOLNormalized?this._lastVisitedLine.value=this.getLineRawContent(u,this._EOLLength):this._lastVisitedLine.value=this.getLineRawContent(u).replace(/(\r\n|\r|\n)$/,""),this._lastVisitedLine.value)}_getCharCode(u){if(u.remainder===u.node.piece.length){const d=u.node.next();if(!d)return 0;const r=this._buffers[d.piece.bufferIndex],l=this.offsetInBuffer(d.piece.bufferIndex,d.piece.start);return r.buffer.charCodeAt(l)}else{const d=this._buffers[u.node.piece.bufferIndex],l=this.offsetInBuffer(u.node.piece.bufferIndex,u.node.piece.start)+u.remainder;return d.buffer.charCodeAt(l)}}getLineCharCode(u,d){const r=this.nodeAt2(u,d+1);return this._getCharCode(r)}getLineLength(u){if(u===this.getLineCount()){const d=this.getOffsetAt(u,1);return this.getLength()-d}return this.getOffsetAt(u+1,1)-this.getOffsetAt(u,1)-this._EOLLength}findMatchesInNode(u,d,r,l,o,g,c,f,_,S,I){const E=this._buffers[u.piece.bufferIndex],T=this.offsetInBuffer(u.piece.bufferIndex,u.piece.start),N=this.offsetInBuffer(u.piece.bufferIndex,o),A=this.offsetInBuffer(u.piece.bufferIndex,g);let O;const M={line:0,column:0};let P,x;d._wordSeparators?(P=E.buffer.substring(N,A),x=R=>R+N,d.reset(0)):(P=E.buffer,x=R=>R,d.reset(N));do if(O=d.next(P),O){if(x(O.index)>=A)return S;this.positionInBuffer(u,x(O.index)-T,M);const R=this.getLineFeedCnt(u.piece.bufferIndex,o,M),B=M.line===o.line?M.column-o.column+l:M.column+1,H=B+O[0].length;if(I[S++]=(0,y.createFindMatch)(new k.Range(r+R,B,r+R,H),O,f),x(O.index)+O[0].length>=A||S>=_)return S}while(O);return S}findMatchesLineByLine(u,d,r,l){const o=[];let g=0;const c=new y.Searcher(d.wordSeparators,d.regex);let f=this.nodeAt2(u.startLineNumber,u.startColumn);if(f===null)return[];const _=this.nodeAt2(u.endLineNumber,u.endColumn);if(_===null)return[];let S=this.positionInBuffer(f.node,f.remainder);const I=this.positionInBuffer(_.node,_.remainder);if(f.node===_.node)return this.findMatchesInNode(f.node,c,u.startLineNumber,u.startColumn,S,I,d,r,l,g,o),o;let E=u.startLineNumber,T=f.node;for(;T!==_.node;){const A=this.getLineFeedCnt(T.piece.bufferIndex,S,T.piece.end);if(A>=1){const M=this._buffers[T.piece.bufferIndex].lineStarts,P=this.offsetInBuffer(T.piece.bufferIndex,T.piece.start),x=M[S.line+A],R=E===u.startLineNumber?u.startColumn:1;if(g=this.findMatchesInNode(T,c,E,R,S,this.positionInBuffer(T,x-P),d,r,l,g,o),g>=l)return o;E+=A}const O=E===u.startLineNumber?u.startColumn-1:0;if(E===u.endLineNumber){const M=this.getLineContent(E).substring(O,u.endColumn-1);return g=this._findMatchesInLine(d,c,M,u.endLineNumber,O,g,o,r,l),o}if(g=this._findMatchesInLine(d,c,this.getLineContent(E).substr(O),E,O,g,o,r,l),g>=l)return o;E++,f=this.nodeAt2(E,1),T=f.node,S=this.positionInBuffer(f.node,f.remainder)}if(E===u.endLineNumber){const A=E===u.startLineNumber?u.startColumn-1:0,O=this.getLineContent(E).substring(A,u.endColumn-1);return g=this._findMatchesInLine(d,c,O,u.endLineNumber,A,g,o,r,l),o}const N=E===u.startLineNumber?u.startColumn:1;return g=this.findMatchesInNode(_.node,c,E,N,S,I,d,r,l,g,o),o}_findMatchesInLine(u,d,r,l,o,g,c,f,_){const S=u.wordSeparators;if(!f&&u.simpleSearch){const E=u.simpleSearch,T=E.length,N=r.length;let A=-T;for(;(A=r.indexOf(E,A+T))!==-1;)if((!S||(0,y.isValidMatch)(S,r,N,A,T))&&(c[g++]=new D.FindMatch(new k.Range(l,A+1+o,l,A+1+T+o),null),g>=_))return g;return g}let I;d.reset(0);do if(I=d.next(r),I&&(c[g++]=(0,y.createFindMatch)(new k.Range(l,I.index+1+o,l,I.index+1+I[0].length+o),I,f),g>=_))return g;while(I);return g}insert(u,d,r=!1){if(this._EOLNormalized=this._EOLNormalized&&r,this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",this.root!==L.SENTINEL){const{node:l,remainder:o,nodeStartOffset:g}=this.nodeAt(u),c=l.piece,f=c.bufferIndex,_=this.positionInBuffer(l,o);if(l.piece.bufferIndex===0&&c.end.line===this._lastChangeBufferPos.line&&c.end.column===this._lastChangeBufferPos.column&&g+c.length===u&&d.length<p){this.appendToNode(l,d),this.computeBufferMetadata();return}if(g===u)this.insertContentToNodeLeft(d,l),this._searchCache.validate(u);else if(g+l.piece.length>u){const S=[];let I=new s(c.bufferIndex,_,c.end,this.getLineFeedCnt(c.bufferIndex,_,c.end),this.offsetInBuffer(f,c.end)-this.offsetInBuffer(f,_));if(this.shouldCheckCRLF()&&this.endWithCR(d)&&this.nodeCharCodeAt(l,o)===10){const A={line:I.start.line+1,column:0};I=new s(I.bufferIndex,A,I.end,this.getLineFeedCnt(I.bufferIndex,A,I.end),I.length-1),d+=`
`}if(this.shouldCheckCRLF()&&this.startWithLF(d))if(this.nodeCharCodeAt(l,o-1)===13){const A=this.positionInBuffer(l,o-1);this.deleteNodeTail(l,A),d="\r"+d,l.piece.length===0&&S.push(l)}else this.deleteNodeTail(l,_);else this.deleteNodeTail(l,_);const E=this.createNewPieces(d);I.length>0&&this.rbInsertRight(l,I);let T=l;for(let N=0;N<E.length;N++)T=this.rbInsertRight(T,E[N]);this.deleteNodes(S)}else this.insertContentToNodeRight(d,l)}else{const l=this.createNewPieces(d);let o=this.rbInsertLeft(null,l[0]);for(let g=1;g<l.length;g++)o=this.rbInsertRight(o,l[g])}this.computeBufferMetadata()}delete(u,d){if(this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",d<=0||this.root===L.SENTINEL)return;const r=this.nodeAt(u),l=this.nodeAt(u+d),o=r.node,g=l.node;if(o===g){const E=this.positionInBuffer(o,r.remainder),T=this.positionInBuffer(o,l.remainder);if(r.nodeStartOffset===u){if(d===o.piece.length){const N=o.next();(0,L.rbDelete)(this,o),this.validateCRLFWithPrevNode(N),this.computeBufferMetadata();return}this.deleteNodeHead(o,T),this._searchCache.validate(u),this.validateCRLFWithPrevNode(o),this.computeBufferMetadata();return}if(r.nodeStartOffset+o.piece.length===u+d){this.deleteNodeTail(o,E),this.validateCRLFWithNextNode(o),this.computeBufferMetadata();return}this.shrinkNode(o,E,T),this.computeBufferMetadata();return}const c=[],f=this.positionInBuffer(o,r.remainder);this.deleteNodeTail(o,f),this._searchCache.validate(u),o.piece.length===0&&c.push(o);const _=this.positionInBuffer(g,l.remainder);this.deleteNodeHead(g,_),g.piece.length===0&&c.push(g);const S=o.next();for(let E=S;E!==L.SENTINEL&&E!==g;E=E.next())c.push(E);const I=o.piece.length===0?o.prev():o;this.deleteNodes(c),this.validateCRLFWithNextNode(I),this.computeBufferMetadata()}insertContentToNodeLeft(u,d){const r=[];if(this.shouldCheckCRLF()&&this.endWithCR(u)&&this.startWithLF(d)){const g=d.piece,c={line:g.start.line+1,column:0},f=new s(g.bufferIndex,c,g.end,this.getLineFeedCnt(g.bufferIndex,c,g.end),g.length-1);d.piece=f,u+=`
`,(0,L.updateTreeMetadata)(this,d,-1,-1),d.piece.length===0&&r.push(d)}const l=this.createNewPieces(u);let o=this.rbInsertLeft(d,l[l.length-1]);for(let g=l.length-2;g>=0;g--)o=this.rbInsertLeft(o,l[g]);this.validateCRLFWithPrevNode(o),this.deleteNodes(r)}insertContentToNodeRight(u,d){this.adjustCarriageReturnFromNext(u,d)&&(u+=`
`);const r=this.createNewPieces(u),l=this.rbInsertRight(d,r[0]);let o=l;for(let g=1;g<r.length;g++)o=this.rbInsertRight(o,r[g]);this.validateCRLFWithPrevNode(l)}positionInBuffer(u,d,r){const l=u.piece,o=u.piece.bufferIndex,g=this._buffers[o].lineStarts,f=g[l.start.line]+l.start.column+d;let _=l.start.line,S=l.end.line,I=0,E=0,T=0;for(;_<=S&&(I=_+(S-_)/2|0,T=g[I],I!==S);)if(E=g[I+1],f<T)S=I-1;else if(f>=E)_=I+1;else break;return r?(r.line=I,r.column=f-T,null):{line:I,column:f-T}}getLineFeedCnt(u,d,r){if(r.column===0)return r.line-d.line;const l=this._buffers[u].lineStarts;if(r.line===l.length-1)return r.line-d.line;const o=l[r.line+1],g=l[r.line]+r.column;if(o>g+1)return r.line-d.line;const c=g-1;return this._buffers[u].buffer.charCodeAt(c)===13?r.line-d.line+1:r.line-d.line}offsetInBuffer(u,d){return this._buffers[u].lineStarts[d.line]+d.column}deleteNodes(u){for(let d=0;d<u.length;d++)(0,L.rbDelete)(this,u[d])}createNewPieces(u){if(u.length>p){const S=[];for(;u.length>p;){const E=u.charCodeAt(p-1);let T;E===13||E>=55296&&E<=56319?(T=u.substring(0,p-1),u=u.substring(p-1)):(T=u.substring(0,p),u=u.substring(p));const N=b(T);S.push(new s(this._buffers.length,{line:0,column:0},{line:N.length-1,column:T.length-N[N.length-1]},N.length-1,T.length)),this._buffers.push(new i(T,N))}const I=b(u);return S.push(new s(this._buffers.length,{line:0,column:0},{line:I.length-1,column:u.length-I[I.length-1]},I.length-1,u.length)),this._buffers.push(new i(u,I)),S}let d=this._buffers[0].buffer.length;const r=b(u,!1);let l=this._lastChangeBufferPos;if(this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-1]===d&&d!==0&&this.startWithLF(u)&&this.endWithCR(this._buffers[0].buffer)){this._lastChangeBufferPos={line:this._lastChangeBufferPos.line,column:this._lastChangeBufferPos.column+1},l=this._lastChangeBufferPos;for(let S=0;S<r.length;S++)r[S]+=d+1;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(r.slice(1)),this._buffers[0].buffer+="_"+u,d+=1}else{if(d!==0)for(let S=0;S<r.length;S++)r[S]+=d;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(r.slice(1)),this._buffers[0].buffer+=u}const o=this._buffers[0].buffer.length,g=this._buffers[0].lineStarts.length-1,c=o-this._buffers[0].lineStarts[g],f={line:g,column:c},_=new s(0,l,f,this.getLineFeedCnt(0,l,f),o-d);return this._lastChangeBufferPos=f,[_]}getLineRawContent(u,d=0){let r=this.root,l="";const o=this._searchCache.get2(u);if(o){r=o.node;const g=this.getAccumulatedValue(r,u-o.nodeStartLineNumber-1),c=this._buffers[r.piece.bufferIndex].buffer,f=this.offsetInBuffer(r.piece.bufferIndex,r.piece.start);if(o.nodeStartLineNumber+r.piece.lineFeedCnt===u)l=c.substring(f+g,f+r.piece.length);else{const _=this.getAccumulatedValue(r,u-o.nodeStartLineNumber);return c.substring(f+g,f+_-d)}}else{let g=0;const c=u;for(;r!==L.SENTINEL;)if(r.left!==L.SENTINEL&&r.lf_left>=u-1)r=r.left;else if(r.lf_left+r.piece.lineFeedCnt>u-1){const f=this.getAccumulatedValue(r,u-r.lf_left-2),_=this.getAccumulatedValue(r,u-r.lf_left-1),S=this._buffers[r.piece.bufferIndex].buffer,I=this.offsetInBuffer(r.piece.bufferIndex,r.piece.start);return g+=r.size_left,this._searchCache.set({node:r,nodeStartOffset:g,nodeStartLineNumber:c-(u-1-r.lf_left)}),S.substring(I+f,I+_-d)}else if(r.lf_left+r.piece.lineFeedCnt===u-1){const f=this.getAccumulatedValue(r,u-r.lf_left-2),_=this._buffers[r.piece.bufferIndex].buffer,S=this.offsetInBuffer(r.piece.bufferIndex,r.piece.start);l=_.substring(S+f,S+r.piece.length);break}else u-=r.lf_left+r.piece.lineFeedCnt,g+=r.size_left+r.piece.length,r=r.right}for(r=r.next();r!==L.SENTINEL;){const g=this._buffers[r.piece.bufferIndex].buffer;if(r.piece.lineFeedCnt>0){const c=this.getAccumulatedValue(r,0),f=this.offsetInBuffer(r.piece.bufferIndex,r.piece.start);return l+=g.substring(f,f+c-d),l}else{const c=this.offsetInBuffer(r.piece.bufferIndex,r.piece.start);l+=g.substr(c,r.piece.length)}r=r.next()}return l}computeBufferMetadata(){let u=this.root,d=1,r=0;for(;u!==L.SENTINEL;)d+=u.lf_left+u.piece.lineFeedCnt,r+=u.size_left+u.piece.length,u=u.right;this._lineCnt=d,this._length=r,this._searchCache.validate(this._length)}getIndexOf(u,d){const r=u.piece,l=this.positionInBuffer(u,d),o=l.line-r.start.line;if(this.offsetInBuffer(r.bufferIndex,r.end)-this.offsetInBuffer(r.bufferIndex,r.start)===d){const g=this.getLineFeedCnt(u.piece.bufferIndex,r.start,l);if(g!==o)return{index:g,remainder:0}}return{index:o,remainder:l.column}}getAccumulatedValue(u,d){if(d<0)return 0;const r=u.piece,l=this._buffers[r.bufferIndex].lineStarts,o=r.start.line+d+1;return o>r.end.line?l[r.end.line]+r.end.column-l[r.start.line]-r.start.column:l[o]-l[r.start.line]-r.start.column}deleteNodeTail(u,d){const r=u.piece,l=r.lineFeedCnt,o=this.offsetInBuffer(r.bufferIndex,r.end),g=d,c=this.offsetInBuffer(r.bufferIndex,g),f=this.getLineFeedCnt(r.bufferIndex,r.start,g),_=f-l,S=c-o,I=r.length+S;u.piece=new s(r.bufferIndex,r.start,g,f,I),(0,L.updateTreeMetadata)(this,u,S,_)}deleteNodeHead(u,d){const r=u.piece,l=r.lineFeedCnt,o=this.offsetInBuffer(r.bufferIndex,r.start),g=d,c=this.getLineFeedCnt(r.bufferIndex,g,r.end),f=this.offsetInBuffer(r.bufferIndex,g),_=c-l,S=o-f,I=r.length+S;u.piece=new s(r.bufferIndex,g,r.end,c,I),(0,L.updateTreeMetadata)(this,u,S,_)}shrinkNode(u,d,r){const l=u.piece,o=l.start,g=l.end,c=l.length,f=l.lineFeedCnt,_=d,S=this.getLineFeedCnt(l.bufferIndex,l.start,_),I=this.offsetInBuffer(l.bufferIndex,d)-this.offsetInBuffer(l.bufferIndex,o);u.piece=new s(l.bufferIndex,l.start,_,S,I),(0,L.updateTreeMetadata)(this,u,I-c,S-f);const E=new s(l.bufferIndex,r,g,this.getLineFeedCnt(l.bufferIndex,r,g),this.offsetInBuffer(l.bufferIndex,g)-this.offsetInBuffer(l.bufferIndex,r)),T=this.rbInsertRight(u,E);this.validateCRLFWithPrevNode(T)}appendToNode(u,d){this.adjustCarriageReturnFromNext(d,u)&&(d+=`
`);const r=this.shouldCheckCRLF()&&this.startWithLF(d)&&this.endWithCR(u),l=this._buffers[0].buffer.length;this._buffers[0].buffer+=d;const o=b(d,!1);for(let T=0;T<o.length;T++)o[T]+=l;if(r){const T=this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-2];this._buffers[0].lineStarts.pop(),this._lastChangeBufferPos={line:this._lastChangeBufferPos.line-1,column:l-T}}this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(o.slice(1));const g=this._buffers[0].lineStarts.length-1,c=this._buffers[0].buffer.length-this._buffers[0].lineStarts[g],f={line:g,column:c},_=u.piece.length+d.length,S=u.piece.lineFeedCnt,I=this.getLineFeedCnt(0,u.piece.start,f),E=I-S;u.piece=new s(u.piece.bufferIndex,u.piece.start,f,I,_),this._lastChangeBufferPos=f,(0,L.updateTreeMetadata)(this,u,d.length,E)}nodeAt(u){let d=this.root;const r=this._searchCache.get(u);if(r)return{node:r.node,nodeStartOffset:r.nodeStartOffset,remainder:u-r.nodeStartOffset};let l=0;for(;d!==L.SENTINEL;)if(d.size_left>u)d=d.left;else if(d.size_left+d.piece.length>=u){l+=d.size_left;const o={node:d,remainder:u-d.size_left,nodeStartOffset:l};return this._searchCache.set(o),o}else u-=d.size_left+d.piece.length,l+=d.size_left+d.piece.length,d=d.right;return null}nodeAt2(u,d){let r=this.root,l=0;for(;r!==L.SENTINEL;)if(r.left!==L.SENTINEL&&r.lf_left>=u-1)r=r.left;else if(r.lf_left+r.piece.lineFeedCnt>u-1){const o=this.getAccumulatedValue(r,u-r.lf_left-2),g=this.getAccumulatedValue(r,u-r.lf_left-1);return l+=r.size_left,{node:r,remainder:Math.min(o+d-1,g),nodeStartOffset:l}}else if(r.lf_left+r.piece.lineFeedCnt===u-1){const o=this.getAccumulatedValue(r,u-r.lf_left-2);if(o+d-1<=r.piece.length)return{node:r,remainder:o+d-1,nodeStartOffset:l};d-=r.piece.length-o;break}else u-=r.lf_left+r.piece.lineFeedCnt,l+=r.size_left+r.piece.length,r=r.right;for(r=r.next();r!==L.SENTINEL;){if(r.piece.lineFeedCnt>0){const o=this.getAccumulatedValue(r,0),g=this.offsetOfNode(r);return{node:r,remainder:Math.min(d-1,o),nodeStartOffset:g}}else if(r.piece.length>=d-1){const o=this.offsetOfNode(r);return{node:r,remainder:d-1,nodeStartOffset:o}}else d-=r.piece.length;r=r.next()}return null}nodeCharCodeAt(u,d){if(u.piece.lineFeedCnt<1)return-1;const r=this._buffers[u.piece.bufferIndex],l=this.offsetInBuffer(u.piece.bufferIndex,u.piece.start)+d;return r.buffer.charCodeAt(l)}offsetOfNode(u){if(!u)return 0;let d=u.size_left;for(;u!==this.root;)u.parent.right===u&&(d+=u.parent.size_left+u.parent.piece.length),u=u.parent;return d}shouldCheckCRLF(){return!(this._EOLNormalized&&this._EOL===`
`)}startWithLF(u){if(typeof u=="string")return u.charCodeAt(0)===10;if(u===L.SENTINEL||u.piece.lineFeedCnt===0)return!1;const d=u.piece,r=this._buffers[d.bufferIndex].lineStarts,l=d.start.line,o=r[l]+d.start.column;return l===r.length-1||r[l+1]>o+1?!1:this._buffers[d.bufferIndex].buffer.charCodeAt(o)===10}endWithCR(u){return typeof u=="string"?u.charCodeAt(u.length-1)===13:u===L.SENTINEL||u.piece.lineFeedCnt===0?!1:this.nodeCharCodeAt(u,u.piece.length-1)===13}validateCRLFWithPrevNode(u){if(this.shouldCheckCRLF()&&this.startWithLF(u)){const d=u.prev();this.endWithCR(d)&&this.fixCRLF(d,u)}}validateCRLFWithNextNode(u){if(this.shouldCheckCRLF()&&this.endWithCR(u)){const d=u.next();this.startWithLF(d)&&this.fixCRLF(u,d)}}fixCRLF(u,d){const r=[],l=this._buffers[u.piece.bufferIndex].lineStarts;let o;u.piece.end.column===0?o={line:u.piece.end.line-1,column:l[u.piece.end.line]-l[u.piece.end.line-1]-1}:o={line:u.piece.end.line,column:u.piece.end.column-1};const g=u.piece.length-1,c=u.piece.lineFeedCnt-1;u.piece=new s(u.piece.bufferIndex,u.piece.start,o,c,g),(0,L.updateTreeMetadata)(this,u,-1,-1),u.piece.length===0&&r.push(u);const f={line:d.piece.start.line+1,column:0},_=d.piece.length-1,S=this.getLineFeedCnt(d.piece.bufferIndex,f,d.piece.end);d.piece=new s(d.piece.bufferIndex,f,d.piece.end,S,_),(0,L.updateTreeMetadata)(this,d,-1,-1),d.piece.length===0&&r.push(d);const I=this.createNewPieces(`\r
`);this.rbInsertRight(u,I[0]);for(let E=0;E<r.length;E++)(0,L.rbDelete)(this,r[E])}adjustCarriageReturnFromNext(u,d){if(this.shouldCheckCRLF()&&this.endWithCR(u)){const r=d.next();if(this.startWithLF(r)){if(u+=`
`,r.piece.length===1)(0,L.rbDelete)(this,r);else{const l=r.piece,o={line:l.start.line+1,column:0},g=l.length-1,c=this.getLineFeedCnt(l.bufferIndex,o,l.end);r.piece=new s(l.bufferIndex,o,l.end,c,g),(0,L.updateTreeMetadata)(this,r,-1,-1)}return!0}}return!1}iterate(u,d){if(u===L.SENTINEL)return d(L.SENTINEL);const r=this.iterate(u.left,d);return r&&d(u)&&this.iterate(u.right,d)}getNodeContent(u){if(u===L.SENTINEL)return"";const d=this._buffers[u.piece.bufferIndex],r=u.piece,l=this.offsetInBuffer(r.bufferIndex,r.start),o=this.offsetInBuffer(r.bufferIndex,r.end);return d.buffer.substring(l,o)}getPieceContent(u){const d=this._buffers[u.bufferIndex],r=this.offsetInBuffer(u.bufferIndex,u.start),l=this.offsetInBuffer(u.bufferIndex,u.end);return d.buffer.substring(r,l)}rbInsertRight(u,d){const r=new L.TreeNode(d,1);if(r.left=L.SENTINEL,r.right=L.SENTINEL,r.parent=L.SENTINEL,r.size_left=0,r.lf_left=0,this.root===L.SENTINEL)this.root=r,r.color=0;else if(u.right===L.SENTINEL)u.right=r,r.parent=u;else{const o=(0,L.leftest)(u.right);o.left=r,r.parent=o}return(0,L.fixInsert)(this,r),r}rbInsertLeft(u,d){const r=new L.TreeNode(d,1);if(r.left=L.SENTINEL,r.right=L.SENTINEL,r.parent=L.SENTINEL,r.size_left=0,r.lf_left=0,this.root===L.SENTINEL)this.root=r,r.color=0;else if(u.left===L.SENTINEL)u.left=r,r.parent=u;else{const l=(0,L.righttest)(u.left);l.right=r,r.parent=l}return(0,L.fixInsert)(this,r),r}}e.PieceTreeBase=h}),define(te[552],ie([1,0,123,122]),function(J,e,m,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextModelText=void 0;class D extends m.AbstractText{constructor(y){super(),this._textModel=y}getValueOfRange(y){return this._textModel.getValueInRange(y)}get length(){const y=this._textModel.getLineCount(),p=this._textModel.getLineLength(y);return new k.TextLength(y-1,p)}}e.TextModelText=D}),define(te[226],ie([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.computeIndentLevel=m;function m(k,D){let L=0,y=0;const p=k.length;for(;y<p;){const w=k.charCodeAt(y);if(w===32)L++;else if(w===9)L=L-L%D+D;else break;y++}return y===p?-1:L}}),define(te[312],ie([1,0,87,9,43]),function(J,e,m,k,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OutputPosition=e.InjectedText=e.ModelLineProjectionData=void 0;class L{constructor(a,s,i,t,n){this.injectionOffsets=a,this.injectionOptions=s,this.breakOffsets=i,this.breakOffsetsVisibleColumn=t,this.wrappedTextIndentLength=n}getOutputLineCount(){return this.breakOffsets.length}getMinOutputOffset(a){return a>0?this.wrappedTextIndentLength:0}getLineLength(a){const s=a>0?this.breakOffsets[a-1]:0;let t=this.breakOffsets[a]-s;return a>0&&(t+=this.wrappedTextIndentLength),t}getMaxOutputOffset(a){return this.getLineLength(a)}translateToInputOffset(a,s){a>0&&(s=Math.max(0,s-this.wrappedTextIndentLength));let t=a===0?s:this.breakOffsets[a-1]+s;if(this.injectionOffsets!==null)for(let n=0;n<this.injectionOffsets.length&&t>this.injectionOffsets[n];n++)t<this.injectionOffsets[n]+this.injectionOptions[n].content.length?t=this.injectionOffsets[n]:t-=this.injectionOptions[n].content.length;return t}translateToOutputPosition(a,s=2){let i=a;if(this.injectionOffsets!==null)for(let t=0;t<this.injectionOffsets.length&&!(a<this.injectionOffsets[t]||s!==1&&a===this.injectionOffsets[t]);t++)i+=this.injectionOptions[t].content.length;return this.offsetInInputWithInjectionsToOutputPosition(i,s)}offsetInInputWithInjectionsToOutputPosition(a,s=2){let i=0,t=this.breakOffsets.length-1,n=0,h=0;for(;i<=t;){n=i+(t-i)/2|0;const u=this.breakOffsets[n];if(h=n>0?this.breakOffsets[n-1]:0,s===0)if(a<=h)t=n-1;else if(a>u)i=n+1;else break;else if(a<h)t=n-1;else if(a>=u)i=n+1;else break}let v=a-h;return n>0&&(v+=this.wrappedTextIndentLength),new C(n,v)}normalizeOutputPosition(a,s,i){if(this.injectionOffsets!==null){const t=this.outputPositionToOffsetInInputWithInjections(a,s),n=this.normalizeOffsetInInputWithInjectionsAroundInjections(t,i);if(n!==t)return this.offsetInInputWithInjectionsToOutputPosition(n,i)}if(i===0){if(a>0&&s===this.getMinOutputOffset(a))return new C(a-1,this.getMaxOutputOffset(a-1))}else if(i===1){const t=this.getOutputLineCount()-1;if(a<t&&s===this.getMaxOutputOffset(a))return new C(a+1,this.getMinOutputOffset(a+1))}return new C(a,s)}outputPositionToOffsetInInputWithInjections(a,s){return a>0&&(s=Math.max(0,s-this.wrappedTextIndentLength)),(a>0?this.breakOffsets[a-1]:0)+s}normalizeOffsetInInputWithInjectionsAroundInjections(a,s){const i=this.getInjectedTextAtOffset(a);if(!i)return a;if(s===2){if(a===i.offsetInInputWithInjections+i.length&&y(this.injectionOptions[i.injectedTextIndex].cursorStops))return i.offsetInInputWithInjections+i.length;{let t=i.offsetInInputWithInjections;if(p(this.injectionOptions[i.injectedTextIndex].cursorStops))return t;let n=i.injectedTextIndex-1;for(;n>=0&&this.injectionOffsets[n]===this.injectionOffsets[i.injectedTextIndex]&&!(y(this.injectionOptions[n].cursorStops)||(t-=this.injectionOptions[n].content.length,p(this.injectionOptions[n].cursorStops)));)n--;return t}}else if(s===1||s===4){let t=i.offsetInInputWithInjections+i.length,n=i.injectedTextIndex;for(;n+1<this.injectionOffsets.length&&this.injectionOffsets[n+1]===this.injectionOffsets[n];)t+=this.injectionOptions[n+1].content.length,n++;return t}else if(s===0||s===3){let t=i.offsetInInputWithInjections,n=i.injectedTextIndex;for(;n-1>=0&&this.injectionOffsets[n-1]===this.injectionOffsets[n];)t-=this.injectionOptions[n-1].content.length,n--;return t}(0,m.assertNever)(s)}getInjectedText(a,s){const i=this.outputPositionToOffsetInInputWithInjections(a,s),t=this.getInjectedTextAtOffset(i);return t?{options:this.injectionOptions[t.injectedTextIndex]}:null}getInjectedTextAtOffset(a){const s=this.injectionOffsets,i=this.injectionOptions;if(s!==null){let t=0;for(let n=0;n<s.length;n++){const h=i[n].content.length,v=s[n]+t,u=s[n]+t+h;if(v>a)break;if(a<=u)return{injectedTextIndex:n,offsetInInputWithInjections:v,length:h};t+=h}}}}e.ModelLineProjectionData=L;function y(b){return b==null?!0:b===D.InjectedTextCursorStops.Right||b===D.InjectedTextCursorStops.Both}function p(b){return b==null?!0:b===D.InjectedTextCursorStops.Left||b===D.InjectedTextCursorStops.Both}class w{constructor(a){this.options=a}}e.InjectedText=w;class C{constructor(a,s){this.outputLineIndex=a,this.outputOffset=s}toString(){return`${this.outputLineIndex}:${this.outputOffset}`}toPosition(a){return new k.Position(a+this.outputLineIndex,this.outputOffset+1)}}e.OutputPosition=C}),define(te[553],ie([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.findSectionHeaders=D;const m=/\bMARK:\s*(.*)$/d,k=/^-+|-+$/g;function D(C,b){var a;let s=[];if(b.findRegionSectionHeaders&&(!((a=b.foldingRules)===null||a===void 0)&&a.markers)){const i=L(C,b);s=s.concat(i)}if(b.findMarkSectionHeaders){const i=y(C);s=s.concat(i)}return s}function L(C,b){const a=[],s=C.getLineCount();for(let i=1;i<=s;i++){const t=C.getLineContent(i),n=t.match(b.foldingRules.markers.start);if(n){const h={startLineNumber:i,startColumn:n[0].length+1,endLineNumber:i,endColumn:t.length+1};if(h.endColumn>h.startColumn){const v={range:h,...w(t.substring(n[0].length)),shouldBeInComments:!1};(v.text||v.hasSeparatorLine)&&a.push(v)}}}return a}function y(C){const b=[],a=C.getLineCount();for(let s=1;s<=a;s++){const i=C.getLineContent(s);p(i,s,b)}return b}function p(C,b,a){m.lastIndex=0;const s=m.exec(C);if(s){const i=s.indices[1][0]+1,t=s.indices[1][1]+1,n={startLineNumber:b,startColumn:i,endLineNumber:b,endColumn:t};if(n.endColumn>n.startColumn){const h={range:n,...w(s[1]),shouldBeInComments:!0};(h.text||h.hasSeparatorLine)&&a.push(h)}}}function w(C){C=C.trim();const b=C.startsWith("-");return C=C.replace(k,""),{text:C,hasSeparatorLine:b}}}),define(te[313],ie([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DraggedTreeItemsIdentifier=e.TreeViewsDnDService=void 0;class m{constructor(){this._dragOperations=new Map}removeDragOperationTransfer(L){if(L&&this._dragOperations.has(L)){const y=this._dragOperations.get(L);return this._dragOperations.delete(L),y}}}e.TreeViewsDnDService=m;class k{constructor(L){this.identifier=L}}e.DraggedTreeItemsIdentifier=k}),define(te[314],ie([1,0,5,193,11,87,160]),function(J,e,m,k,D,L,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UnicodeTextModelHighlighter=void 0;class p{static computeUnicodeHighlights(s,i,t){const n=t?t.startLineNumber:1,h=t?t.endLineNumber:s.getLineCount(),v=new C(i),u=v.getCandidateCodePoints();let d;u==="allNonBasicAscii"?d=new RegExp("[^\\t\\n\\r\\x20-\\x7E]","g"):d=new RegExp(`${w(Array.from(u))}`,"g");const r=new k.Searcher(null,d),l=[];let o=!1,g,c=0,f=0,_=0;e:for(let S=n,I=h;S<=I;S++){const E=s.getLineContent(S),T=E.length;r.reset(0);do if(g=r.next(E),g){let N=g.index,A=g.index+g[0].length;if(N>0){const x=E.charCodeAt(N-1);D.isHighSurrogate(x)&&N--}if(A+1<T){const x=E.charCodeAt(A-1);D.isHighSurrogate(x)&&A++}const O=E.substring(N,A);let M=(0,y.getWordAtText)(N+1,y.DEFAULT_WORD_REGEXP,E,0);M&&M.endColumn<=N+1&&(M=null);const P=v.shouldHighlightNonBasicASCII(O,M?M.word:null);if(P!==0){if(P===3?c++:P===2?f++:P===1?_++:(0,L.assertNever)(P),l.length>=1e3){o=!0;break e}l.push(new m.Range(S,N+1,S,A+1))}}while(g)}return{ranges:l,hasMore:o,ambiguousCharacterCount:c,invisibleCharacterCount:f,nonBasicAsciiCharacterCount:_}}static computeUnicodeHighlightReason(s,i){const t=new C(i);switch(t.shouldHighlightNonBasicASCII(s,null)){case 0:return null;case 2:return{kind:1};case 3:{const h=s.codePointAt(0),v=t.ambiguousCharacters.getPrimaryConfusable(h),u=D.AmbiguousCharacters.getLocales().filter(d=>!D.AmbiguousCharacters.getInstance(new Set([...i.allowedLocales,d])).isAmbiguous(h));return{kind:0,confusableWith:String.fromCodePoint(v),notAmbiguousInLocales:u}}case 1:return{kind:2}}}}e.UnicodeTextModelHighlighter=p;function w(a,s){return`[${D.escapeRegExpCharacters(a.map(t=>String.fromCodePoint(t)).join(""))}]`}class C{constructor(s){this.options=s,this.allowedCodePoints=new Set(s.allowedCodePoints),this.ambiguousCharacters=D.AmbiguousCharacters.getInstance(new Set(s.allowedLocales))}getCandidateCodePoints(){if(this.options.nonBasicASCII)return"allNonBasicAscii";const s=new Set;if(this.options.invisibleCharacters)for(const i of D.InvisibleCharacters.codePoints)b(String.fromCodePoint(i))||s.add(i);if(this.options.ambiguousCharacters)for(const i of this.ambiguousCharacters.getConfusableCodePoints())s.add(i);for(const i of this.allowedCodePoints)s.delete(i);return s}shouldHighlightNonBasicASCII(s,i){const t=s.codePointAt(0);if(this.allowedCodePoints.has(t))return 0;if(this.options.nonBasicASCII)return 1;let n=!1,h=!1;if(i)for(const v of i){const u=v.codePointAt(0),d=D.isBasicASCII(v);n=n||d,!d&&!this.ambiguousCharacters.isAmbiguous(u)&&!D.InvisibleCharacters.isInvisibleCharacter(u)&&(h=!0)}return!n&&h?0:this.options.invisibleCharacters&&!b(s)&&D.InvisibleCharacters.isInvisibleCharacter(t)?2:this.options.ambiguousCharacters&&this.ambiguousCharacters.isAmbiguous(t)?3:0}}function b(a){return a===" "||a===`
`||a==="	"}}),define(te[227],ie([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WrappingIndent=e.TrackedRangeStickiness=e.TextEditorCursorStyle=e.TextEditorCursorBlinkingStyle=e.SymbolTag=e.SymbolKind=e.SignatureHelpTriggerKind=e.ShowLightbulbIconMode=e.SelectionDirection=e.ScrollbarVisibility=e.ScrollType=e.RenderMinimap=e.RenderLineNumbersType=e.PositionAffinity=e.PartialAcceptTriggerKind=e.OverviewRulerLane=e.OverlayWidgetPositionPreference=e.NewSymbolNameTag=e.MouseTargetType=e.MinimapSectionHeaderStyle=e.MinimapPosition=e.MarkerTag=e.MarkerSeverity=e.KeyCode=e.InlineEditTriggerKind=e.InlineCompletionTriggerKind=e.InlayHintKind=e.InjectedTextCursorStops=e.IndentAction=e.GlyphMarginLane=e.EndOfLineSequence=e.EndOfLinePreference=e.EditorOption=e.EditorAutoIndentStrategy=e.DocumentHighlightKind=e.DefaultEndOfLine=e.CursorChangeReason=e.ContentWidgetPositionPreference=e.CompletionTriggerKind=e.CompletionItemTag=e.CompletionItemKind=e.CompletionItemInsertTextRule=e.CodeActionTriggerType=e.AccessibilitySupport=void 0;var m;(function(F){F[F.Unknown=0]="Unknown",F[F.Disabled=1]="Disabled",F[F.Enabled=2]="Enabled"})(m||(e.AccessibilitySupport=m={}));var k;(function(F){F[F.Invoke=1]="Invoke",F[F.Auto=2]="Auto"})(k||(e.CodeActionTriggerType=k={}));var D;(function(F){F[F.None=0]="None",F[F.KeepWhitespace=1]="KeepWhitespace",F[F.InsertAsSnippet=4]="InsertAsSnippet"})(D||(e.CompletionItemInsertTextRule=D={}));var L;(function(F){F[F.Method=0]="Method",F[F.Function=1]="Function",F[F.Constructor=2]="Constructor",F[F.Field=3]="Field",F[F.Variable=4]="Variable",F[F.Class=5]="Class",F[F.Struct=6]="Struct",F[F.Interface=7]="Interface",F[F.Module=8]="Module",F[F.Property=9]="Property",F[F.Event=10]="Event",F[F.Operator=11]="Operator",F[F.Unit=12]="Unit",F[F.Value=13]="Value",F[F.Constant=14]="Constant",F[F.Enum=15]="Enum",F[F.EnumMember=16]="EnumMember",F[F.Keyword=17]="Keyword",F[F.Text=18]="Text",F[F.Color=19]="Color",F[F.File=20]="File",F[F.Reference=21]="Reference",F[F.Customcolor=22]="Customcolor",F[F.Folder=23]="Folder",F[F.TypeParameter=24]="TypeParameter",F[F.User=25]="User",F[F.Issue=26]="Issue",F[F.Snippet=27]="Snippet"})(L||(e.CompletionItemKind=L={}));var y;(function(F){F[F.Deprecated=1]="Deprecated"})(y||(e.CompletionItemTag=y={}));var p;(function(F){F[F.Invoke=0]="Invoke",F[F.TriggerCharacter=1]="TriggerCharacter",F[F.TriggerForIncompleteCompletions=2]="TriggerForIncompleteCompletions"})(p||(e.CompletionTriggerKind=p={}));var w;(function(F){F[F.EXACT=0]="EXACT",F[F.ABOVE=1]="ABOVE",F[F.BELOW=2]="BELOW"})(w||(e.ContentWidgetPositionPreference=w={}));var C;(function(F){F[F.NotSet=0]="NotSet",F[F.ContentFlush=1]="ContentFlush",F[F.RecoverFromMarkers=2]="RecoverFromMarkers",F[F.Explicit=3]="Explicit",F[F.Paste=4]="Paste",F[F.Undo=5]="Undo",F[F.Redo=6]="Redo"})(C||(e.CursorChangeReason=C={}));var b;(function(F){F[F.LF=1]="LF",F[F.CRLF=2]="CRLF"})(b||(e.DefaultEndOfLine=b={}));var a;(function(F){F[F.Text=0]="Text",F[F.Read=1]="Read",F[F.Write=2]="Write"})(a||(e.DocumentHighlightKind=a={}));var s;(function(F){F[F.None=0]="None",F[F.Keep=1]="Keep",F[F.Brackets=2]="Brackets",F[F.Advanced=3]="Advanced",F[F.Full=4]="Full"})(s||(e.EditorAutoIndentStrategy=s={}));var i;(function(F){F[F.acceptSuggestionOnCommitCharacter=0]="acceptSuggestionOnCommitCharacter",F[F.acceptSuggestionOnEnter=1]="acceptSuggestionOnEnter",F[F.accessibilitySupport=2]="accessibilitySupport",F[F.accessibilityPageSize=3]="accessibilityPageSize",F[F.ariaLabel=4]="ariaLabel",F[F.ariaRequired=5]="ariaRequired",F[F.autoClosingBrackets=6]="autoClosingBrackets",F[F.autoClosingComments=7]="autoClosingComments",F[F.screenReaderAnnounceInlineSuggestion=8]="screenReaderAnnounceInlineSuggestion",F[F.autoClosingDelete=9]="autoClosingDelete",F[F.autoClosingOvertype=10]="autoClosingOvertype",F[F.autoClosingQuotes=11]="autoClosingQuotes",F[F.autoIndent=12]="autoIndent",F[F.automaticLayout=13]="automaticLayout",F[F.autoSurround=14]="autoSurround",F[F.bracketPairColorization=15]="bracketPairColorization",F[F.guides=16]="guides",F[F.codeLens=17]="codeLens",F[F.codeLensFontFamily=18]="codeLensFontFamily",F[F.codeLensFontSize=19]="codeLensFontSize",F[F.colorDecorators=20]="colorDecorators",F[F.colorDecoratorsLimit=21]="colorDecoratorsLimit",F[F.columnSelection=22]="columnSelection",F[F.comments=23]="comments",F[F.contextmenu=24]="contextmenu",F[F.copyWithSyntaxHighlighting=25]="copyWithSyntaxHighlighting",F[F.cursorBlinking=26]="cursorBlinking",F[F.cursorSmoothCaretAnimation=27]="cursorSmoothCaretAnimation",F[F.cursorStyle=28]="cursorStyle",F[F.cursorSurroundingLines=29]="cursorSurroundingLines",F[F.cursorSurroundingLinesStyle=30]="cursorSurroundingLinesStyle",F[F.cursorWidth=31]="cursorWidth",F[F.disableLayerHinting=32]="disableLayerHinting",F[F.disableMonospaceOptimizations=33]="disableMonospaceOptimizations",F[F.domReadOnly=34]="domReadOnly",F[F.dragAndDrop=35]="dragAndDrop",F[F.dropIntoEditor=36]="dropIntoEditor",F[F.emptySelectionClipboard=37]="emptySelectionClipboard",F[F.experimentalWhitespaceRendering=38]="experimentalWhitespaceRendering",F[F.extraEditorClassName=39]="extraEditorClassName",F[F.fastScrollSensitivity=40]="fastScrollSensitivity",F[F.find=41]="find",F[F.fixedOverflowWidgets=42]="fixedOverflowWidgets",F[F.folding=43]="folding",F[F.foldingStrategy=44]="foldingStrategy",F[F.foldingHighlight=45]="foldingHighlight",F[F.foldingImportsByDefault=46]="foldingImportsByDefault",F[F.foldingMaximumRegions=47]="foldingMaximumRegions",F[F.unfoldOnClickAfterEndOfLine=48]="unfoldOnClickAfterEndOfLine",F[F.fontFamily=49]="fontFamily",F[F.fontInfo=50]="fontInfo",F[F.fontLigatures=51]="fontLigatures",F[F.fontSize=52]="fontSize",F[F.fontWeight=53]="fontWeight",F[F.fontVariations=54]="fontVariations",F[F.formatOnPaste=55]="formatOnPaste",F[F.formatOnType=56]="formatOnType",F[F.glyphMargin=57]="glyphMargin",F[F.gotoLocation=58]="gotoLocation",F[F.hideCursorInOverviewRuler=59]="hideCursorInOverviewRuler",F[F.hover=60]="hover",F[F.inDiffEditor=61]="inDiffEditor",F[F.inlineSuggest=62]="inlineSuggest",F[F.inlineEdit=63]="inlineEdit",F[F.letterSpacing=64]="letterSpacing",F[F.lightbulb=65]="lightbulb",F[F.lineDecorationsWidth=66]="lineDecorationsWidth",F[F.lineHeight=67]="lineHeight",F[F.lineNumbers=68]="lineNumbers",F[F.lineNumbersMinChars=69]="lineNumbersMinChars",F[F.linkedEditing=70]="linkedEditing",F[F.links=71]="links",F[F.matchBrackets=72]="matchBrackets",F[F.minimap=73]="minimap",F[F.mouseStyle=74]="mouseStyle",F[F.mouseWheelScrollSensitivity=75]="mouseWheelScrollSensitivity",F[F.mouseWheelZoom=76]="mouseWheelZoom",F[F.multiCursorMergeOverlapping=77]="multiCursorMergeOverlapping",F[F.multiCursorModifier=78]="multiCursorModifier",F[F.multiCursorPaste=79]="multiCursorPaste",F[F.multiCursorLimit=80]="multiCursorLimit",F[F.occurrencesHighlight=81]="occurrencesHighlight",F[F.overviewRulerBorder=82]="overviewRulerBorder",F[F.overviewRulerLanes=83]="overviewRulerLanes",F[F.padding=84]="padding",F[F.pasteAs=85]="pasteAs",F[F.parameterHints=86]="parameterHints",F[F.peekWidgetDefaultFocus=87]="peekWidgetDefaultFocus",F[F.definitionLinkOpensInPeek=88]="definitionLinkOpensInPeek",F[F.quickSuggestions=89]="quickSuggestions",F[F.quickSuggestionsDelay=90]="quickSuggestionsDelay",F[F.readOnly=91]="readOnly",F[F.readOnlyMessage=92]="readOnlyMessage",F[F.renameOnType=93]="renameOnType",F[F.renderControlCharacters=94]="renderControlCharacters",F[F.renderFinalNewline=95]="renderFinalNewline",F[F.renderLineHighlight=96]="renderLineHighlight",F[F.renderLineHighlightOnlyWhenFocus=97]="renderLineHighlightOnlyWhenFocus",F[F.renderValidationDecorations=98]="renderValidationDecorations",F[F.renderWhitespace=99]="renderWhitespace",F[F.revealHorizontalRightPadding=100]="revealHorizontalRightPadding",F[F.roundedSelection=101]="roundedSelection",F[F.rulers=102]="rulers",F[F.scrollbar=103]="scrollbar",F[F.scrollBeyondLastColumn=104]="scrollBeyondLastColumn",F[F.scrollBeyondLastLine=105]="scrollBeyondLastLine",F[F.scrollPredominantAxis=106]="scrollPredominantAxis",F[F.selectionClipboard=107]="selectionClipboard",F[F.selectionHighlight=108]="selectionHighlight",F[F.selectOnLineNumbers=109]="selectOnLineNumbers",F[F.showFoldingControls=110]="showFoldingControls",F[F.showUnused=111]="showUnused",F[F.snippetSuggestions=112]="snippetSuggestions",F[F.smartSelect=113]="smartSelect",F[F.smoothScrolling=114]="smoothScrolling",F[F.stickyScroll=115]="stickyScroll",F[F.stickyTabStops=116]="stickyTabStops",F[F.stopRenderingLineAfter=117]="stopRenderingLineAfter",F[F.suggest=118]="suggest",F[F.suggestFontSize=119]="suggestFontSize",F[F.suggestLineHeight=120]="suggestLineHeight",F[F.suggestOnTriggerCharacters=121]="suggestOnTriggerCharacters",F[F.suggestSelection=122]="suggestSelection",F[F.tabCompletion=123]="tabCompletion",F[F.tabIndex=124]="tabIndex",F[F.unicodeHighlighting=125]="unicodeHighlighting",F[F.unusualLineTerminators=126]="unusualLineTerminators",F[F.useShadowDOM=127]="useShadowDOM",F[F.useTabStops=128]="useTabStops",F[F.wordBreak=129]="wordBreak",F[F.wordSegmenterLocales=130]="wordSegmenterLocales",F[F.wordSeparators=131]="wordSeparators",F[F.wordWrap=132]="wordWrap",F[F.wordWrapBreakAfterCharacters=133]="wordWrapBreakAfterCharacters",F[F.wordWrapBreakBeforeCharacters=134]="wordWrapBreakBeforeCharacters",F[F.wordWrapColumn=135]="wordWrapColumn",F[F.wordWrapOverride1=136]="wordWrapOverride1",F[F.wordWrapOverride2=137]="wordWrapOverride2",F[F.wrappingIndent=138]="wrappingIndent",F[F.wrappingStrategy=139]="wrappingStrategy",F[F.showDeprecated=140]="showDeprecated",F[F.inlayHints=141]="inlayHints",F[F.editorClassName=142]="editorClassName",F[F.pixelRatio=143]="pixelRatio",F[F.tabFocusMode=144]="tabFocusMode",F[F.layoutInfo=145]="layoutInfo",F[F.wrappingInfo=146]="wrappingInfo",F[F.defaultColorDecorators=147]="defaultColorDecorators",F[F.colorDecoratorsActivatedOn=148]="colorDecoratorsActivatedOn",F[F.inlineCompletionsAccessibilityVerbose=149]="inlineCompletionsAccessibilityVerbose"})(i||(e.EditorOption=i={}));var t;(function(F){F[F.TextDefined=0]="TextDefined",F[F.LF=1]="LF",F[F.CRLF=2]="CRLF"})(t||(e.EndOfLinePreference=t={}));var n;(function(F){F[F.LF=0]="LF",F[F.CRLF=1]="CRLF"})(n||(e.EndOfLineSequence=n={}));var h;(function(F){F[F.Left=1]="Left",F[F.Center=2]="Center",F[F.Right=3]="Right"})(h||(e.GlyphMarginLane=h={}));var v;(function(F){F[F.None=0]="None",F[F.Indent=1]="Indent",F[F.IndentOutdent=2]="IndentOutdent",F[F.Outdent=3]="Outdent"})(v||(e.IndentAction=v={}));var u;(function(F){F[F.Both=0]="Both",F[F.Right=1]="Right",F[F.Left=2]="Left",F[F.None=3]="None"})(u||(e.InjectedTextCursorStops=u={}));var d;(function(F){F[F.Type=1]="Type",F[F.Parameter=2]="Parameter"})(d||(e.InlayHintKind=d={}));var r;(function(F){F[F.Automatic=0]="Automatic",F[F.Explicit=1]="Explicit"})(r||(e.InlineCompletionTriggerKind=r={}));var l;(function(F){F[F.Invoke=0]="Invoke",F[F.Automatic=1]="Automatic"})(l||(e.InlineEditTriggerKind=l={}));var o;(function(F){F[F.DependsOnKbLayout=-1]="DependsOnKbLayout",F[F.Unknown=0]="Unknown",F[F.Backspace=1]="Backspace",F[F.Tab=2]="Tab",F[F.Enter=3]="Enter",F[F.Shift=4]="Shift",F[F.Ctrl=5]="Ctrl",F[F.Alt=6]="Alt",F[F.PauseBreak=7]="PauseBreak",F[F.CapsLock=8]="CapsLock",F[F.Escape=9]="Escape",F[F.Space=10]="Space",F[F.PageUp=11]="PageUp",F[F.PageDown=12]="PageDown",F[F.End=13]="End",F[F.Home=14]="Home",F[F.LeftArrow=15]="LeftArrow",F[F.UpArrow=16]="UpArrow",F[F.RightArrow=17]="RightArrow",F[F.DownArrow=18]="DownArrow",F[F.Insert=19]="Insert",F[F.Delete=20]="Delete",F[F.Digit0=21]="Digit0",F[F.Digit1=22]="Digit1",F[F.Digit2=23]="Digit2",F[F.Digit3=24]="Digit3",F[F.Digit4=25]="Digit4",F[F.Digit5=26]="Digit5",F[F.Digit6=27]="Digit6",F[F.Digit7=28]="Digit7",F[F.Digit8=29]="Digit8",F[F.Digit9=30]="Digit9",F[F.KeyA=31]="KeyA",F[F.KeyB=32]="KeyB",F[F.KeyC=33]="KeyC",F[F.KeyD=34]="KeyD",F[F.KeyE=35]="KeyE",F[F.KeyF=36]="KeyF",F[F.KeyG=37]="KeyG",F[F.KeyH=38]="KeyH",F[F.KeyI=39]="KeyI",F[F.KeyJ=40]="KeyJ",F[F.KeyK=41]="KeyK",F[F.KeyL=42]="KeyL",F[F.KeyM=43]="KeyM",F[F.KeyN=44]="KeyN",F[F.KeyO=45]="KeyO",F[F.KeyP=46]="KeyP",F[F.KeyQ=47]="KeyQ",F[F.KeyR=48]="KeyR",F[F.KeyS=49]="KeyS",F[F.KeyT=50]="KeyT",F[F.KeyU=51]="KeyU",F[F.KeyV=52]="KeyV",F[F.KeyW=53]="KeyW",F[F.KeyX=54]="KeyX",F[F.KeyY=55]="KeyY",F[F.KeyZ=56]="KeyZ",F[F.Meta=57]="Meta",F[F.ContextMenu=58]="ContextMenu",F[F.F1=59]="F1",F[F.F2=60]="F2",F[F.F3=61]="F3",F[F.F4=62]="F4",F[F.F5=63]="F5",F[F.F6=64]="F6",F[F.F7=65]="F7",F[F.F8=66]="F8",F[F.F9=67]="F9",F[F.F10=68]="F10",F[F.F11=69]="F11",F[F.F12=70]="F12",F[F.F13=71]="F13",F[F.F14=72]="F14",F[F.F15=73]="F15",F[F.F16=74]="F16",F[F.F17=75]="F17",F[F.F18=76]="F18",F[F.F19=77]="F19",F[F.F20=78]="F20",F[F.F21=79]="F21",F[F.F22=80]="F22",F[F.F23=81]="F23",F[F.F24=82]="F24",F[F.NumLock=83]="NumLock",F[F.ScrollLock=84]="ScrollLock",F[F.Semicolon=85]="Semicolon",F[F.Equal=86]="Equal",F[F.Comma=87]="Comma",F[F.Minus=88]="Minus",F[F.Period=89]="Period",F[F.Slash=90]="Slash",F[F.Backquote=91]="Backquote",F[F.BracketLeft=92]="BracketLeft",F[F.Backslash=93]="Backslash",F[F.BracketRight=94]="BracketRight",F[F.Quote=95]="Quote",F[F.OEM_8=96]="OEM_8",F[F.IntlBackslash=97]="IntlBackslash",F[F.Numpad0=98]="Numpad0",F[F.Numpad1=99]="Numpad1",F[F.Numpad2=100]="Numpad2",F[F.Numpad3=101]="Numpad3",F[F.Numpad4=102]="Numpad4",F[F.Numpad5=103]="Numpad5",F[F.Numpad6=104]="Numpad6",F[F.Numpad7=105]="Numpad7",F[F.Numpad8=106]="Numpad8",F[F.Numpad9=107]="Numpad9",F[F.NumpadMultiply=108]="NumpadMultiply",F[F.NumpadAdd=109]="NumpadAdd",F[F.NUMPAD_SEPARATOR=110]="NUMPAD_SEPARATOR",F[F.NumpadSubtract=111]="NumpadSubtract",F[F.NumpadDecimal=112]="NumpadDecimal",F[F.NumpadDivide=113]="NumpadDivide",F[F.KEY_IN_COMPOSITION=114]="KEY_IN_COMPOSITION",F[F.ABNT_C1=115]="ABNT_C1",F[F.ABNT_C2=116]="ABNT_C2",F[F.AudioVolumeMute=117]="AudioVolumeMute",F[F.AudioVolumeUp=118]="AudioVolumeUp",F[F.AudioVolumeDown=119]="AudioVolumeDown",F[F.BrowserSearch=120]="BrowserSearch",F[F.BrowserHome=121]="BrowserHome",F[F.BrowserBack=122]="BrowserBack",F[F.BrowserForward=123]="BrowserForward",F[F.MediaTrackNext=124]="MediaTrackNext",F[F.MediaTrackPrevious=125]="MediaTrackPrevious",F[F.MediaStop=126]="MediaStop",F[F.MediaPlayPause=127]="MediaPlayPause",F[F.LaunchMediaPlayer=128]="LaunchMediaPlayer",F[F.LaunchMail=129]="LaunchMail",F[F.LaunchApp2=130]="LaunchApp2",F[F.Clear=131]="Clear",F[F.MAX_VALUE=132]="MAX_VALUE"})(o||(e.KeyCode=o={}));var g;(function(F){F[F.Hint=1]="Hint",F[F.Info=2]="Info",F[F.Warning=4]="Warning",F[F.Error=8]="Error"})(g||(e.MarkerSeverity=g={}));var c;(function(F){F[F.Unnecessary=1]="Unnecessary",F[F.Deprecated=2]="Deprecated"})(c||(e.MarkerTag=c={}));var f;(function(F){F[F.Inline=1]="Inline",F[F.Gutter=2]="Gutter"})(f||(e.MinimapPosition=f={}));var _;(function(F){F[F.Normal=1]="Normal",F[F.Underlined=2]="Underlined"})(_||(e.MinimapSectionHeaderStyle=_={}));var S;(function(F){F[F.UNKNOWN=0]="UNKNOWN",F[F.TEXTAREA=1]="TEXTAREA",F[F.GUTTER_GLYPH_MARGIN=2]="GUTTER_GLYPH_MARGIN",F[F.GUTTER_LINE_NUMBERS=3]="GUTTER_LINE_NUMBERS",F[F.GUTTER_LINE_DECORATIONS=4]="GUTTER_LINE_DECORATIONS",F[F.GUTTER_VIEW_ZONE=5]="GUTTER_VIEW_ZONE",F[F.CONTENT_TEXT=6]="CONTENT_TEXT",F[F.CONTENT_EMPTY=7]="CONTENT_EMPTY",F[F.CONTENT_VIEW_ZONE=8]="CONTENT_VIEW_ZONE",F[F.CONTENT_WIDGET=9]="CONTENT_WIDGET",F[F.OVERVIEW_RULER=10]="OVERVIEW_RULER",F[F.SCROLLBAR=11]="SCROLLBAR",F[F.OVERLAY_WIDGET=12]="OVERLAY_WIDGET",F[F.OUTSIDE_EDITOR=13]="OUTSIDE_EDITOR"})(S||(e.MouseTargetType=S={}));var I;(function(F){F[F.AIGenerated=1]="AIGenerated"})(I||(e.NewSymbolNameTag=I={}));var E;(function(F){F[F.TOP_RIGHT_CORNER=0]="TOP_RIGHT_CORNER",F[F.BOTTOM_RIGHT_CORNER=1]="BOTTOM_RIGHT_CORNER",F[F.TOP_CENTER=2]="TOP_CENTER"})(E||(e.OverlayWidgetPositionPreference=E={}));var T;(function(F){F[F.Left=1]="Left",F[F.Center=2]="Center",F[F.Right=4]="Right",F[F.Full=7]="Full"})(T||(e.OverviewRulerLane=T={}));var N;(function(F){F[F.Word=0]="Word",F[F.Line=1]="Line",F[F.Suggest=2]="Suggest"})(N||(e.PartialAcceptTriggerKind=N={}));var A;(function(F){F[F.Left=0]="Left",F[F.Right=1]="Right",F[F.None=2]="None",F[F.LeftOfInjectedText=3]="LeftOfInjectedText",F[F.RightOfInjectedText=4]="RightOfInjectedText"})(A||(e.PositionAffinity=A={}));var O;(function(F){F[F.Off=0]="Off",F[F.On=1]="On",F[F.Relative=2]="Relative",F[F.Interval=3]="Interval",F[F.Custom=4]="Custom"})(O||(e.RenderLineNumbersType=O={}));var M;(function(F){F[F.None=0]="None",F[F.Text=1]="Text",F[F.Blocks=2]="Blocks"})(M||(e.RenderMinimap=M={}));var P;(function(F){F[F.Smooth=0]="Smooth",F[F.Immediate=1]="Immediate"})(P||(e.ScrollType=P={}));var x;(function(F){F[F.Auto=1]="Auto",F[F.Hidden=2]="Hidden",F[F.Visible=3]="Visible"})(x||(e.ScrollbarVisibility=x={}));var R;(function(F){F[F.LTR=0]="LTR",F[F.RTL=1]="RTL"})(R||(e.SelectionDirection=R={}));var B;(function(F){F.Off="off",F.OnCode="onCode",F.On="on"})(B||(e.ShowLightbulbIconMode=B={}));var H;(function(F){F[F.Invoke=1]="Invoke",F[F.TriggerCharacter=2]="TriggerCharacter",F[F.ContentChange=3]="ContentChange"})(H||(e.SignatureHelpTriggerKind=H={}));var V;(function(F){F[F.File=0]="File",F[F.Module=1]="Module",F[F.Namespace=2]="Namespace",F[F.Package=3]="Package",F[F.Class=4]="Class",F[F.Method=5]="Method",F[F.Property=6]="Property",F[F.Field=7]="Field",F[F.Constructor=8]="Constructor",F[F.Enum=9]="Enum",F[F.Interface=10]="Interface",F[F.Function=11]="Function",F[F.Variable=12]="Variable",F[F.Constant=13]="Constant",F[F.String=14]="String",F[F.Number=15]="Number",F[F.Boolean=16]="Boolean",F[F.Array=17]="Array",F[F.Object=18]="Object",F[F.Key=19]="Key",F[F.Null=20]="Null",F[F.EnumMember=21]="EnumMember",F[F.Struct=22]="Struct",F[F.Event=23]="Event",F[F.Operator=24]="Operator",F[F.TypeParameter=25]="TypeParameter"})(V||(e.SymbolKind=V={}));var q;(function(F){F[F.Deprecated=1]="Deprecated"})(q||(e.SymbolTag=q={}));var K;(function(F){F[F.Hidden=0]="Hidden",F[F.Blink=1]="Blink",F[F.Smooth=2]="Smooth",F[F.Phase=3]="Phase",F[F.Expand=4]="Expand",F[F.Solid=5]="Solid"})(K||(e.TextEditorCursorBlinkingStyle=K={}));var U;(function(F){F[F.Line=1]="Line",F[F.Block=2]="Block",F[F.Underline=3]="Underline",F[F.LineThin=4]="LineThin",F[F.BlockOutline=5]="BlockOutline",F[F.UnderlineThin=6]="UnderlineThin"})(U||(e.TextEditorCursorStyle=U={}));var $;(function(F){F[F.AlwaysGrowsWhenTypingAtEdges=0]="AlwaysGrowsWhenTypingAtEdges",F[F.NeverGrowsWhenTypingAtEdges=1]="NeverGrowsWhenTypingAtEdges",F[F.GrowsOnlyWhenTypingBefore=2]="GrowsOnlyWhenTypingBefore",F[F.GrowsOnlyWhenTypingAfter=3]="GrowsOnlyWhenTypingAfter"})($||(e.TrackedRangeStickiness=$={}));var se;(function(F){F[F.None=0]="None",F[F.Same=1]="Same",F[F.Indent=2]="Indent",F[F.DeepIndent=3]="DeepIndent"})(se||(e.WrappingIndent=se={}))}),define(te[554],ie([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketPairWithMinIndentationInfo=e.BracketPairInfo=e.BracketInfo=void 0;class m{constructor(y,p,w,C){this.range=y,this.nestingLevel=p,this.nestingLevelOfEqualBracketType=w,this.isInvalid=C}}e.BracketInfo=m;class k{constructor(y,p,w,C,b,a){this.range=y,this.openingBracketRange=p,this.closingBracketRange=w,this.nestingLevel=C,this.nestingLevelOfEqualBracketType=b,this.bracketPairNode=a}get openingBracketInfo(){return this.bracketPairNode.openingBracket.bracketInfo}}e.BracketPairInfo=k;class D extends k{constructor(y,p,w,C,b,a,s){super(y,p,w,C,b,a),this.minVisibleColumnIndentation=s}}e.BracketPairWithMinIndentationInfo=D}),define(te[555],ie([1,0,7,2,554,191,308,101,307,144,225,13,306]),function(J,e,m,k,D,L,y,p,w,C,b,a,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketPairsTree=void 0;class i extends k.Disposable{didLanguageChange(r){return this.brackets.didLanguageChange(r)}constructor(r,l){if(super(),this.textModel=r,this.getLanguageConfiguration=l,this.didChangeEmitter=new m.Emitter,this.denseKeyProvider=new C.DenseKeyProvider,this.brackets=new y.LanguageAgnosticBracketTokens(this.denseKeyProvider,this.getLanguageConfiguration),this.onDidChange=this.didChangeEmitter.event,this.queuedTextEditsForInitialAstWithoutTokens=[],this.queuedTextEdits=[],r.tokenization.hasTokens)r.tokenization.backgroundTokenizationState===2?(this.initialAstWithoutTokens=void 0,this.astWithTokens=this.parseDocumentFromTextBuffer([],void 0,!1)):(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer([],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens);else{const o=this.brackets.getSingleLanguageBracketTokens(this.textModel.getLanguageId()),g=new b.FastTokenizer(this.textModel.getValue(),o);this.initialAstWithoutTokens=(0,w.parseDocument)(g,[],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens}}handleDidChangeBackgroundTokenizationState(){if(this.textModel.tokenization.backgroundTokenizationState===2){const r=this.initialAstWithoutTokens===void 0;this.initialAstWithoutTokens=void 0,r||this.didChangeEmitter.fire()}}handleDidChangeTokens({ranges:r}){const l=r.map(o=>new L.TextEditInfo((0,p.toLength)(o.fromLineNumber-1,0),(0,p.toLength)(o.toLineNumber,0),(0,p.toLength)(o.toLineNumber-o.fromLineNumber+1,0)));this.handleEdits(l,!0),this.initialAstWithoutTokens||this.didChangeEmitter.fire()}handleContentChanged(r){const l=L.TextEditInfo.fromModelContentChanges(r.changes);this.handleEdits(l,!1)}handleEdits(r,l){const o=(0,s.combineTextEditInfos)(this.queuedTextEdits,r);this.queuedTextEdits=o,this.initialAstWithoutTokens&&!l&&(this.queuedTextEditsForInitialAstWithoutTokens=(0,s.combineTextEditInfos)(this.queuedTextEditsForInitialAstWithoutTokens,r))}flushQueue(){this.queuedTextEdits.length>0&&(this.astWithTokens=this.parseDocumentFromTextBuffer(this.queuedTextEdits,this.astWithTokens,!1),this.queuedTextEdits=[]),this.queuedTextEditsForInitialAstWithoutTokens.length>0&&(this.initialAstWithoutTokens&&(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer(this.queuedTextEditsForInitialAstWithoutTokens,this.initialAstWithoutTokens,!1)),this.queuedTextEditsForInitialAstWithoutTokens=[])}parseDocumentFromTextBuffer(r,l,o){const c=l,f=new b.TextBufferTokenizer(this.textModel,this.brackets);return(0,w.parseDocument)(f,r,c,o)}getBracketsInRange(r,l){this.flushQueue();const o=(0,p.toLength)(r.startLineNumber-1,r.startColumn-1),g=(0,p.toLength)(r.endLineNumber-1,r.endColumn-1);return new a.CallbackIterable(c=>{const f=this.initialAstWithoutTokens||this.astWithTokens;h(f,p.lengthZero,f.length,o,g,c,0,0,new Map,l)})}getBracketPairsInRange(r,l){this.flushQueue();const o=(0,p.positionToLength)(r.getStartPosition()),g=(0,p.positionToLength)(r.getEndPosition());return new a.CallbackIterable(c=>{const f=this.initialAstWithoutTokens||this.astWithTokens,_=new v(c,l,this.textModel);u(f,p.lengthZero,f.length,o,g,_,0,new Map)})}getFirstBracketAfter(r){this.flushQueue();const l=this.initialAstWithoutTokens||this.astWithTokens;return n(l,p.lengthZero,l.length,(0,p.positionToLength)(r))}getFirstBracketBefore(r){this.flushQueue();const l=this.initialAstWithoutTokens||this.astWithTokens;return t(l,p.lengthZero,l.length,(0,p.positionToLength)(r))}}e.BracketPairsTree=i;function t(d,r,l,o){if(d.kind===4||d.kind===2){const g=[];for(const c of d.children)l=(0,p.lengthAdd)(r,c.length),g.push({nodeOffsetStart:r,nodeOffsetEnd:l}),r=l;for(let c=g.length-1;c>=0;c--){const{nodeOffsetStart:f,nodeOffsetEnd:_}=g[c];if((0,p.lengthLessThan)(f,o)){const S=t(d.children[c],f,_,o);if(S)return S}}return null}else{if(d.kind===3)return null;if(d.kind===1){const g=(0,p.lengthsToRange)(r,l);return{bracketInfo:d.bracketInfo,range:g}}}return null}function n(d,r,l,o){if(d.kind===4||d.kind===2){for(const g of d.children){if(l=(0,p.lengthAdd)(r,g.length),(0,p.lengthLessThan)(o,l)){const c=n(g,r,l,o);if(c)return c}r=l}return null}else{if(d.kind===3)return null;if(d.kind===1){const g=(0,p.lengthsToRange)(r,l);return{bracketInfo:d.bracketInfo,range:g}}}return null}function h(d,r,l,o,g,c,f,_,S,I,E=!1){if(f>200)return!0;e:for(;;)switch(d.kind){case 4:{const T=d.childrenLength;for(let N=0;N<T;N++){const A=d.getChild(N);if(A){if(l=(0,p.lengthAdd)(r,A.length),(0,p.lengthLessThanEqual)(r,g)&&(0,p.lengthGreaterThanEqual)(l,o)){if((0,p.lengthGreaterThanEqual)(l,g)){d=A;continue e}if(!h(A,r,l,o,g,c,f,0,S,I))return!1}r=l}}return!0}case 2:{const T=!I||!d.closingBracket||d.closingBracket.bracketInfo.closesColorized(d.openingBracket.bracketInfo);let N=0;if(S){let O=S.get(d.openingBracket.text);O===void 0&&(O=0),N=O,T&&(O++,S.set(d.openingBracket.text,O))}const A=d.childrenLength;for(let O=0;O<A;O++){const M=d.getChild(O);if(M){if(l=(0,p.lengthAdd)(r,M.length),(0,p.lengthLessThanEqual)(r,g)&&(0,p.lengthGreaterThanEqual)(l,o)){if((0,p.lengthGreaterThanEqual)(l,g)&&M.kind!==1){d=M,T?(f++,_=N+1):_=N;continue e}if((T||M.kind!==1||!d.closingBracket)&&!h(M,r,l,o,g,c,T?f+1:f,T?N+1:N,S,I,!d.closingBracket))return!1}r=l}}return S?.set(d.openingBracket.text,N),!0}case 3:{const T=(0,p.lengthsToRange)(r,l);return c(new D.BracketInfo(T,f-1,0,!0))}case 1:{const T=(0,p.lengthsToRange)(r,l);return c(new D.BracketInfo(T,f-1,_-1,E))}case 0:return!0}}class v{constructor(r,l,o){this.push=r,this.includeMinIndentation=l,this.textModel=o}}function u(d,r,l,o,g,c,f,_){var S;if(f>200)return!0;let I=!0;if(d.kind===2){let E=0;if(_){let A=_.get(d.openingBracket.text);A===void 0&&(A=0),E=A,A++,_.set(d.openingBracket.text,A)}const T=(0,p.lengthAdd)(r,d.openingBracket.length);let N=-1;if(c.includeMinIndentation&&(N=d.computeMinIndentation(r,c.textModel)),I=c.push(new D.BracketPairWithMinIndentationInfo((0,p.lengthsToRange)(r,l),(0,p.lengthsToRange)(r,T),d.closingBracket?(0,p.lengthsToRange)((0,p.lengthAdd)(T,((S=d.child)===null||S===void 0?void 0:S.length)||p.lengthZero),l):void 0,f,E,d,N)),r=T,I&&d.child){const A=d.child;if(l=(0,p.lengthAdd)(r,A.length),(0,p.lengthLessThanEqual)(r,g)&&(0,p.lengthGreaterThanEqual)(l,o)&&(I=u(A,r,l,o,g,c,f+1,_),!I))return!1}_?.set(d.openingBracket.text,E)}else{let E=r;for(const T of d.children){const N=E;if(E=(0,p.lengthAdd)(E,T.length),(0,p.lengthLessThanEqual)(N,g)&&(0,p.lengthLessThanEqual)(o,E)&&(I=u(T,N,E,o,g,c,f,_),!I))return!1}}return I}}),define(te[125],ie([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InternalModelContentChangeEvent=e.ModelInjectedTextChangedEvent=e.ModelRawContentChangedEvent=e.ModelRawEOLChanged=e.ModelRawLinesInserted=e.ModelRawLinesDeleted=e.ModelRawLineChanged=e.LineInjectedText=e.ModelRawFlush=void 0;class m{constructor(){this.changeType=1}}e.ModelRawFlush=m;class k{static applyInjectedText(s,i){if(!i||i.length===0)return s;let t="",n=0;for(const h of i)t+=s.substring(n,h.column-1),n=h.column-1,t+=h.options.content;return t+=s.substring(n),t}static fromDecorations(s){const i=[];for(const t of s)t.options.before&&t.options.before.content.length>0&&i.push(new k(t.ownerId,t.range.startLineNumber,t.range.startColumn,t.options.before,0)),t.options.after&&t.options.after.content.length>0&&i.push(new k(t.ownerId,t.range.endLineNumber,t.range.endColumn,t.options.after,1));return i.sort((t,n)=>t.lineNumber===n.lineNumber?t.column===n.column?t.order-n.order:t.column-n.column:t.lineNumber-n.lineNumber),i}constructor(s,i,t,n,h){this.ownerId=s,this.lineNumber=i,this.column=t,this.options=n,this.order=h}}e.LineInjectedText=k;class D{constructor(s,i,t){this.changeType=2,this.lineNumber=s,this.detail=i,this.injectedText=t}}e.ModelRawLineChanged=D;class L{constructor(s,i){this.changeType=3,this.fromLineNumber=s,this.toLineNumber=i}}e.ModelRawLinesDeleted=L;class y{constructor(s,i,t,n){this.changeType=4,this.injectedTexts=n,this.fromLineNumber=s,this.toLineNumber=i,this.detail=t}}e.ModelRawLinesInserted=y;class p{constructor(){this.changeType=5}}e.ModelRawEOLChanged=p;class w{constructor(s,i,t,n){this.changes=s,this.versionId=i,this.isUndoing=t,this.isRedoing=n,this.resultingSelection=null}containsEvent(s){for(let i=0,t=this.changes.length;i<t;i++)if(this.changes[i].changeType===s)return!0;return!1}static merge(s,i){const t=[].concat(s.changes).concat(i.changes),n=i.versionId,h=s.isUndoing||i.isUndoing,v=s.isRedoing||i.isRedoing;return new w(t,n,h,v)}}e.ModelRawContentChangedEvent=w;class C{constructor(s){this.changes=s}}e.ModelInjectedTextChangedEvent=C;class b{constructor(s,i){this.rawContentChangedEvent=s,this.contentChangedEvent=i}merge(s){const i=w.merge(this.rawContentChangedEvent,s.rawContentChangedEvent),t=b._mergeChangeEvents(this.contentChangedEvent,s.contentChangedEvent);return new b(i,t)}static _mergeChangeEvents(s,i){const t=[].concat(s.changes).concat(i.changes),n=i.eol,h=i.versionId,v=s.isUndoing||i.isUndoing,u=s.isRedoing||i.isRedoing,d=s.isFlush||i.isFlush,r=s.isEolChange&&i.isEolChange;return{changes:t,eol:n,isEolChange:r,versionId:h,isUndoing:v,isRedoing:u,isFlush:d}}}e.InternalModelContentChangeEvent=b}),define(te[228],ie([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndentGuideHorizontalLine=e.IndentGuide=e.HorizontalGuidesState=void 0;var m;(function(L){L[L.Disabled=0]="Disabled",L[L.EnabledForActive=1]="EnabledForActive",L[L.Enabled=2]="Enabled"})(m||(e.HorizontalGuidesState=m={}));class k{constructor(y,p,w,C,b,a){if(this.visibleColumn=y,this.column=p,this.className=w,this.horizontalLine=C,this.forWrappedLinesAfterColumn=b,this.forWrappedLinesBeforeOrAtColumn=a,y!==-1==(p!==-1))throw new Error}}e.IndentGuide=k;class D{constructor(y,p){this.top=y,this.endColumn=p}}e.IndentGuideHorizontalLine=D}),define(te[315],ie([1,0,66,11,89,5,310,226,228,12]),function(J,e,m,k,D,L,y,p,w,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketPairGuidesClassNames=e.GuidesTextModelPart=void 0;class b extends y.TextModelPart{constructor(i,t){super(),this.textModel=i,this.languageConfigurationService=t}getLanguageConfiguration(i){return this.languageConfigurationService.getLanguageConfiguration(i)}_computeIndentLevel(i){return(0,p.computeIndentLevel)(this.textModel.getLineContent(i+1),this.textModel.getOptions().tabSize)}getActiveIndentGuide(i,t,n){this.assertNotDisposed();const h=this.textModel.getLineCount();if(i<1||i>h)throw new C.BugIndicatingError("Illegal value for lineNumber");const v=this.getLanguageConfiguration(this.textModel.getLanguageId()).foldingRules,u=!!(v&&v.offSide);let d=-2,r=-1,l=-2,o=-1;const g=P=>{if(d!==-1&&(d===-2||d>P-1)){d=-1,r=-1;for(let x=P-2;x>=0;x--){const R=this._computeIndentLevel(x);if(R>=0){d=x,r=R;break}}}if(l===-2){l=-1,o=-1;for(let x=P;x<h;x++){const R=this._computeIndentLevel(x);if(R>=0){l=x,o=R;break}}}};let c=-2,f=-1,_=-2,S=-1;const I=P=>{if(c===-2){c=-1,f=-1;for(let x=P-2;x>=0;x--){const R=this._computeIndentLevel(x);if(R>=0){c=x,f=R;break}}}if(_!==-1&&(_===-2||_<P-1)){_=-1,S=-1;for(let x=P;x<h;x++){const R=this._computeIndentLevel(x);if(R>=0){_=x,S=R;break}}}};let E=0,T=!0,N=0,A=!0,O=0,M=0;for(let P=0;T||A;P++){const x=i-P,R=i+P;P>1&&(x<1||x<t)&&(T=!1),P>1&&(R>h||R>n)&&(A=!1),P>5e4&&(T=!1,A=!1);let B=-1;if(T&&x>=1){const V=this._computeIndentLevel(x-1);V>=0?(l=x-1,o=V,B=Math.ceil(V/this.textModel.getOptions().indentSize)):(g(x),B=this._getIndentLevelForWhitespaceLine(u,r,o))}let H=-1;if(A&&R<=h){const V=this._computeIndentLevel(R-1);V>=0?(c=R-1,f=V,H=Math.ceil(V/this.textModel.getOptions().indentSize)):(I(R),H=this._getIndentLevelForWhitespaceLine(u,f,S))}if(P===0){M=B;continue}if(P===1){if(R<=h&&H>=0&&M+1===H){T=!1,E=R,N=R,O=H;continue}if(x>=1&&B>=0&&B-1===M){A=!1,E=x,N=x,O=B;continue}if(E=i,N=i,O=M,O===0)return{startLineNumber:E,endLineNumber:N,indent:O}}T&&(B>=O?E=x:T=!1),A&&(H>=O?N=R:A=!1)}return{startLineNumber:E,endLineNumber:N,indent:O}}getLinesBracketGuides(i,t,n,h){var v;const u=[];for(let c=i;c<=t;c++)u.push([]);const d=!0,r=this.textModel.bracketPairs.getBracketPairsInRangeWithMinIndentation(new L.Range(i,1,t,this.textModel.getLineMaxColumn(t))).toArray();let l;if(n&&r.length>0){const c=(i<=n.lineNumber&&n.lineNumber<=t?r:this.textModel.bracketPairs.getBracketPairsInRange(L.Range.fromPositions(n)).toArray()).filter(f=>L.Range.strictContainsPosition(f.range,n));l=(v=(0,m.findLast)(c,f=>d||f.range.startLineNumber!==f.range.endLineNumber))===null||v===void 0?void 0:v.range}const o=this.textModel.getOptions().bracketPairColorizationOptions.independentColorPoolPerBracketType,g=new a;for(const c of r){if(!c.closingBracketRange)continue;const f=l&&c.range.equalsRange(l);if(!f&&!h.includeInactive)continue;const _=g.getInlineClassName(c.nestingLevel,c.nestingLevelOfEqualBracketType,o)+(h.highlightActive&&f?" "+g.activeClassName:""),S=c.openingBracketRange.getStartPosition(),I=c.closingBracketRange.getStartPosition(),E=h.horizontalGuides===w.HorizontalGuidesState.Enabled||h.horizontalGuides===w.HorizontalGuidesState.EnabledForActive&&f;if(c.range.startLineNumber===c.range.endLineNumber){d&&E&&u[c.range.startLineNumber-i].push(new w.IndentGuide(-1,c.openingBracketRange.getEndPosition().column,_,new w.IndentGuideHorizontalLine(!1,I.column),-1,-1));continue}const T=this.getVisibleColumnFromPosition(I),N=this.getVisibleColumnFromPosition(c.openingBracketRange.getStartPosition()),A=Math.min(N,T,c.minVisibleColumnIndentation+1);let O=!1;k.firstNonWhitespaceIndex(this.textModel.getLineContent(c.closingBracketRange.startLineNumber))<c.closingBracketRange.startColumn-1&&(O=!0);const x=Math.max(S.lineNumber,i),R=Math.min(I.lineNumber,t),B=O?1:0;for(let H=x;H<R+B;H++)u[H-i].push(new w.IndentGuide(A,-1,_,null,H===S.lineNumber?S.column:-1,H===I.lineNumber?I.column:-1));E&&(S.lineNumber>=i&&N>A&&u[S.lineNumber-i].push(new w.IndentGuide(A,-1,_,new w.IndentGuideHorizontalLine(!1,S.column),-1,-1)),I.lineNumber<=t&&T>A&&u[I.lineNumber-i].push(new w.IndentGuide(A,-1,_,new w.IndentGuideHorizontalLine(!O,I.column),-1,-1)))}for(const c of u)c.sort((f,_)=>f.visibleColumn-_.visibleColumn);return u}getVisibleColumnFromPosition(i){return D.CursorColumns.visibleColumnFromColumn(this.textModel.getLineContent(i.lineNumber),i.column,this.textModel.getOptions().tabSize)+1}getLinesIndentGuides(i,t){this.assertNotDisposed();const n=this.textModel.getLineCount();if(i<1||i>n)throw new Error("Illegal value for startLineNumber");if(t<1||t>n)throw new Error("Illegal value for endLineNumber");const h=this.textModel.getOptions(),v=this.getLanguageConfiguration(this.textModel.getLanguageId()).foldingRules,u=!!(v&&v.offSide),d=new Array(t-i+1);let r=-2,l=-1,o=-2,g=-1;for(let c=i;c<=t;c++){const f=c-i,_=this._computeIndentLevel(c-1);if(_>=0){r=c-1,l=_,d[f]=Math.ceil(_/h.indentSize);continue}if(r===-2){r=-1,l=-1;for(let S=c-2;S>=0;S--){const I=this._computeIndentLevel(S);if(I>=0){r=S,l=I;break}}}if(o!==-1&&(o===-2||o<c-1)){o=-1,g=-1;for(let S=c;S<n;S++){const I=this._computeIndentLevel(S);if(I>=0){o=S,g=I;break}}}d[f]=this._getIndentLevelForWhitespaceLine(u,l,g)}return d}_getIndentLevelForWhitespaceLine(i,t,n){const h=this.textModel.getOptions();return t===-1||n===-1?0:t<n?1+Math.floor(t/h.indentSize):t===n||i?Math.ceil(n/h.indentSize):1+Math.floor(n/h.indentSize)}}e.GuidesTextModelPart=b;class a{constructor(){this.activeClassName="indent-active"}getInlineClassName(i,t,n){return this.getInlineClassNameOfLevel(n?t:i)}getInlineClassNameOfLevel(i){return`bracket-indent-guide lvl-${i%30}`}}e.BracketPairGuidesClassNames=a}),define(te[556],ie([1,0,7,2]),function(J,e,m,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TokenizationRegistry=void 0;class D{constructor(){this._tokenizationSupports=new Map,this._factories=new Map,this._onDidChange=new m.Emitter,this.onDidChange=this._onDidChange.event,this._colorMap=null}handleChange(p){this._onDidChange.fire({changedLanguages:p,changedColorMap:!1})}register(p,w){return this._tokenizationSupports.set(p,w),this.handleChange([p]),(0,k.toDisposable)(()=>{this._tokenizationSupports.get(p)===w&&(this._tokenizationSupports.delete(p),this.handleChange([p]))})}get(p){return this._tokenizationSupports.get(p)||null}registerFactory(p,w){var C;(C=this._factories.get(p))===null||C===void 0||C.dispose();const b=new L(this,p,w);return this._factories.set(p,b),(0,k.toDisposable)(()=>{const a=this._factories.get(p);!a||a!==b||(this._factories.delete(p),a.dispose())})}async getOrCreate(p){const w=this.get(p);if(w)return w;const C=this._factories.get(p);return!C||C.isResolved?null:(await C.resolve(),this.get(p))}isResolved(p){if(this.get(p))return!0;const C=this._factories.get(p);return!!(!C||C.isResolved)}setColorMap(p){this._colorMap=p,this._onDidChange.fire({changedLanguages:Array.from(this._tokenizationSupports.keys()),changedColorMap:!0})}getColorMap(){return this._colorMap}getDefaultBackground(){return this._colorMap&&this._colorMap.length>2?this._colorMap[2]:null}}e.TokenizationRegistry=D;class L extends k.Disposable{get isResolved(){return this._isResolved}constructor(p,w,C){super(),this._registry=p,this._languageId=w,this._factory=C,this._isDisposed=!1,this._resolvePromise=null,this._isResolved=!1}dispose(){this._isDisposed=!0,super.dispose()}async resolve(){return this._resolvePromise||(this._resolvePromise=this._create()),this._resolvePromise}async _create(){const p=await this._factory.tokenizationSupport;this._isResolved=!0,p&&!this._isDisposed&&this._register(this._registry.register(this._languageId,p))}}}),define(te[557],ie([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContiguousMultilineTokens=void 0;class m{get startLineNumber(){return this._startLineNumber}get endLineNumber(){return this._startLineNumber+this._tokens.length-1}constructor(D,L){this._startLineNumber=D,this._tokens=L}getLineTokens(D){return this._tokens[D-this._startLineNumber]}appendLineTokens(D){this._tokens.push(D)}}e.ContiguousMultilineTokens=m}),define(te[316],ie([1,0,557]),function(J,e,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContiguousMultilineTokensBuilder=void 0;class k{constructor(){this._tokens=[]}add(L,y){if(this._tokens.length>0){const p=this._tokens[this._tokens.length-1];if(p.endLineNumber+1===L){p.appendLineTokens(y);return}}this._tokens.push(new m.ContiguousMultilineTokens(L,[y]))}finalize(){return this._tokens}}e.ContiguousMultilineTokensBuilder=k}),define(te[102],ie([1,0,142]),function(J,e,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LineTokens=void 0;class k{static createEmpty(y,p){const w=k.defaultTokenMetadata,C=new Uint32Array(2);return C[0]=y.length,C[1]=w,new k(C,y,p)}constructor(y,p,w){this._lineTokensBrand=void 0,this._tokens=y,this._tokensCount=this._tokens.length>>>1,this._text=p,this._languageIdCodec=w}equals(y){return y instanceof k?this.slicedEquals(y,0,this._tokensCount):!1}slicedEquals(y,p,w){if(this._text!==y._text||this._tokensCount!==y._tokensCount)return!1;const C=p<<1,b=C+(w<<1);for(let a=C;a<b;a++)if(this._tokens[a]!==y._tokens[a])return!1;return!0}getLineContent(){return this._text}getCount(){return this._tokensCount}getStartOffset(y){return y>0?this._tokens[y-1<<1]:0}getMetadata(y){return this._tokens[(y<<1)+1]}getLanguageId(y){const p=this._tokens[(y<<1)+1],w=m.TokenMetadata.getLanguageId(p);return this._languageIdCodec.decodeLanguageId(w)}getStandardTokenType(y){const p=this._tokens[(y<<1)+1];return m.TokenMetadata.getTokenType(p)}getForeground(y){const p=this._tokens[(y<<1)+1];return m.TokenMetadata.getForeground(p)}getClassName(y){const p=this._tokens[(y<<1)+1];return m.TokenMetadata.getClassNameFromMetadata(p)}getInlineStyle(y,p){const w=this._tokens[(y<<1)+1];return m.TokenMetadata.getInlineStyleFromMetadata(w,p)}getPresentation(y){const p=this._tokens[(y<<1)+1];return m.TokenMetadata.getPresentationFromMetadata(p)}getEndOffset(y){return this._tokens[y<<1]}findTokenIndexAtOffset(y){return k.findIndexInTokensArray(this._tokens,y)}inflate(){return this}sliceAndInflate(y,p,w){return new D(this,y,p,w)}static convertToEndOffset(y,p){const C=(y.length>>>1)-1;for(let b=0;b<C;b++)y[b<<1]=y[b+1<<1];y[C<<1]=p}static findIndexInTokensArray(y,p){if(y.length<=2)return 0;let w=0,C=(y.length>>>1)-1;for(;w<C;){const b=w+Math.floor((C-w)/2),a=y[b<<1];if(a===p)return b+1;a<p?w=b+1:a>p&&(C=b)}return w}withInserted(y){if(y.length===0)return this;let p=0,w=0,C="";const b=new Array;let a=0;for(;;){const s=p<this._tokensCount?this._tokens[p<<1]:-1,i=w<y.length?y[w]:null;if(s!==-1&&(i===null||s<=i.offset)){C+=this._text.substring(a,s);const t=this._tokens[(p<<1)+1];b.push(C.length,t),p++,a=s}else if(i){if(i.offset>a){C+=this._text.substring(a,i.offset);const t=this._tokens[(p<<1)+1];b.push(C.length,t),a=i.offset}C+=i.text,b.push(C.length,i.tokenMetadata),w++}else break}return new k(new Uint32Array(b),C,this._languageIdCodec)}}e.LineTokens=k,k.defaultTokenMetadata=(32768|2<<24)>>>0;class D{constructor(y,p,w,C){this._source=y,this._startOffset=p,this._endOffset=w,this._deltaOffset=C,this._firstTokenIndex=y.findTokenIndexAtOffset(p),this._tokensCount=0;for(let b=this._firstTokenIndex,a=y.getCount();b<a&&!(y.getStartOffset(b)>=w);b++)this._tokensCount++}getMetadata(y){return this._source.getMetadata(this._firstTokenIndex+y)}getLanguageId(y){return this._source.getLanguageId(this._firstTokenIndex+y)}getLineContent(){return this._source.getLineContent().substring(this._startOffset,this._endOffset)}equals(y){return y instanceof D?this._startOffset===y._startOffset&&this._endOffset===y._endOffset&&this._deltaOffset===y._deltaOffset&&this._source.slicedEquals(y._source,this._firstTokenIndex,this._tokensCount):!1}getCount(){return this._tokensCount}getForeground(y){return this._source.getForeground(this._firstTokenIndex+y)}getEndOffset(y){const p=this._source.getEndOffset(this._firstTokenIndex+y);return Math.min(this._endOffset,p)-this._startOffset+this._deltaOffset}getClassName(y){return this._source.getClassName(this._firstTokenIndex+y)}getInlineStyle(y,p){return this._source.getInlineStyle(this._firstTokenIndex+y,p)}getPresentation(y){return this._source.getPresentation(this._firstTokenIndex+y)}findTokenIndexAtOffset(y){return this._source.findTokenIndexAtOffset(y+this._startOffset-this._deltaOffset)-this._firstTokenIndex}}}),define(te[558],ie([1,0,102]),function(J,e,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContiguousTokensEditing=e.EMPTY_LINE_TOKENS=void 0,e.toUint32Array=D,e.EMPTY_LINE_TOKENS=new Uint32Array(0).buffer;class k{static deleteBeginning(y,p){return y===null||y===e.EMPTY_LINE_TOKENS?y:k.delete(y,0,p)}static deleteEnding(y,p){if(y===null||y===e.EMPTY_LINE_TOKENS)return y;const w=D(y),C=w[w.length-2];return k.delete(y,p,C)}static delete(y,p,w){if(y===null||y===e.EMPTY_LINE_TOKENS||p===w)return y;const C=D(y),b=C.length>>>1;if(p===0&&C[C.length-2]===w)return e.EMPTY_LINE_TOKENS;const a=m.LineTokens.findIndexInTokensArray(C,p),s=a>0?C[a-1<<1]:0,i=C[a<<1];if(w<i){const u=w-p;for(let d=a;d<b;d++)C[d<<1]-=u;return y}let t,n;s!==p?(C[a<<1]=p,t=a+1<<1,n=p):(t=a<<1,n=s);const h=w-p;for(let u=a+1;u<b;u++){const d=C[u<<1]-h;d>n&&(C[t++]=d,C[t++]=C[(u<<1)+1],n=d)}if(t===C.length)return y;const v=new Uint32Array(t);return v.set(C.subarray(0,t),0),v.buffer}static append(y,p){if(p===e.EMPTY_LINE_TOKENS)return y;if(y===e.EMPTY_LINE_TOKENS)return p;if(y===null)return y;if(p===null)return null;const w=D(y),C=D(p),b=C.length>>>1,a=new Uint32Array(w.length+C.length);a.set(w,0);let s=w.length;const i=w[w.length-2];for(let t=0;t<b;t++)a[s++]=C[t<<1]+i,a[s++]=C[(t<<1)+1];return a.buffer}static insert(y,p,w){if(y===null||y===e.EMPTY_LINE_TOKENS)return y;const C=D(y),b=C.length>>>1;let a=m.LineTokens.findIndexInTokensArray(C,p);a>0&&C[a-1<<1]===p&&a--;for(let s=a;s<b;s++)C[s<<1]+=w;return y}}e.ContiguousTokensEditing=k;function D(L){return L instanceof Uint32Array?L:new Uint32Array(L)}}),define(te[559],ie([1,0,13,9,558,102,142]),function(J,e,m,k,D,L,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContiguousTokensStore=void 0;class p{constructor(b){this._lineTokens=[],this._len=0,this._languageIdCodec=b}flush(){this._lineTokens=[],this._len=0}get hasTokens(){return this._lineTokens.length>0}getTokens(b,a,s){let i=null;if(a<this._len&&(i=this._lineTokens[a]),i!==null&&i!==D.EMPTY_LINE_TOKENS)return new L.LineTokens((0,D.toUint32Array)(i),s,this._languageIdCodec);const t=new Uint32Array(2);return t[0]=s.length,t[1]=w(this._languageIdCodec.encodeLanguageId(b)),new L.LineTokens(t,s,this._languageIdCodec)}static _massageTokens(b,a,s){const i=s?(0,D.toUint32Array)(s):null;if(a===0){let t=!1;if(i&&i.length>1&&(t=y.TokenMetadata.getLanguageId(i[1])!==b),!t)return D.EMPTY_LINE_TOKENS}if(!i||i.length===0){const t=new Uint32Array(2);return t[0]=a,t[1]=w(b),t.buffer}return i[i.length-2]=a,i.byteOffset===0&&i.byteLength===i.buffer.byteLength?i.buffer:i}_ensureLine(b){for(;b>=this._len;)this._lineTokens[this._len]=null,this._len++}_deleteLines(b,a){a!==0&&(b+a>this._len&&(a=this._len-b),this._lineTokens.splice(b,a),this._len-=a)}_insertLines(b,a){if(a===0)return;const s=[];for(let i=0;i<a;i++)s[i]=null;this._lineTokens=m.arrayInsert(this._lineTokens,b,s),this._len+=a}setTokens(b,a,s,i,t){const n=p._massageTokens(this._languageIdCodec.encodeLanguageId(b),s,i);this._ensureLine(a);const h=this._lineTokens[a];return this._lineTokens[a]=n,t?!p._equals(h,n):!1}static _equals(b,a){if(!b||!a)return!b&&!a;const s=(0,D.toUint32Array)(b),i=(0,D.toUint32Array)(a);if(s.length!==i.length)return!1;for(let t=0,n=s.length;t<n;t++)if(s[t]!==i[t])return!1;return!0}acceptEdit(b,a,s){this._acceptDeleteRange(b),this._acceptInsertText(new k.Position(b.startLineNumber,b.startColumn),a,s)}_acceptDeleteRange(b){const a=b.startLineNumber-1;if(a>=this._len)return;if(b.startLineNumber===b.endLineNumber){if(b.startColumn===b.endColumn)return;this._lineTokens[a]=D.ContiguousTokensEditing.delete(this._lineTokens[a],b.startColumn-1,b.endColumn-1);return}this._lineTokens[a]=D.ContiguousTokensEditing.deleteEnding(this._lineTokens[a],b.startColumn-1);const s=b.endLineNumber-1;let i=null;s<this._len&&(i=D.ContiguousTokensEditing.deleteBeginning(this._lineTokens[s],b.endColumn-1)),this._lineTokens[a]=D.ContiguousTokensEditing.append(this._lineTokens[a],i),this._deleteLines(b.startLineNumber,b.endLineNumber-b.startLineNumber)}_acceptInsertText(b,a,s){if(a===0&&s===0)return;const i=b.lineNumber-1;if(!(i>=this._len)){if(a===0){this._lineTokens[i]=D.ContiguousTokensEditing.insert(this._lineTokens[i],b.column-1,s);return}this._lineTokens[i]=D.ContiguousTokensEditing.deleteEnding(this._lineTokens[i],b.column-1),this._lineTokens[i]=D.ContiguousTokensEditing.insert(this._lineTokens[i],b.column-1,s),this._insertLines(b.lineNumber,a)}}setMultilineTokens(b,a){if(b.length===0)return{changes:[]};const s=[];for(let i=0,t=b.length;i<t;i++){const n=b[i];let h=0,v=0,u=!1;for(let d=n.startLineNumber;d<=n.endLineNumber;d++)u?(this.setTokens(a.getLanguageId(),d-1,a.getLineLength(d),n.getLineTokens(d),!1),v=d):this.setTokens(a.getLanguageId(),d-1,a.getLineLength(d),n.getLineTokens(d),!0)&&(u=!0,h=d,v=d);u&&s.push({fromLineNumber:h,toLineNumber:v})}return{changes:s}}}e.ContiguousTokensStore=p;function w(C){return(C<<0|0|0|32768|2<<24|1024)>>>0}}),define(te[560],ie([1,0,9,5,139]),function(J,e,m,k,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SparseLineTokens=e.SparseMultilineTokens=void 0;class L{static create(C,b){return new L(C,new y(b))}get startLineNumber(){return this._startLineNumber}get endLineNumber(){return this._endLineNumber}constructor(C,b){this._startLineNumber=C,this._tokens=b,this._endLineNumber=this._startLineNumber+this._tokens.getMaxDeltaLine()}toString(){return this._tokens.toString(this._startLineNumber)}_updateEndLineNumber(){this._endLineNumber=this._startLineNumber+this._tokens.getMaxDeltaLine()}isEmpty(){return this._tokens.isEmpty()}getLineTokens(C){return this._startLineNumber<=C&&C<=this._endLineNumber?this._tokens.getLineTokens(C-this._startLineNumber):null}getRange(){const C=this._tokens.getRange();return C&&new k.Range(this._startLineNumber+C.startLineNumber,C.startColumn,this._startLineNumber+C.endLineNumber,C.endColumn)}removeTokens(C){const b=C.startLineNumber-this._startLineNumber,a=C.endLineNumber-this._startLineNumber;this._startLineNumber+=this._tokens.removeTokens(b,C.startColumn-1,a,C.endColumn-1),this._updateEndLineNumber()}split(C){const b=C.startLineNumber-this._startLineNumber,a=C.endLineNumber-this._startLineNumber,[s,i,t]=this._tokens.split(b,C.startColumn-1,a,C.endColumn-1);return[new L(this._startLineNumber,s),new L(this._startLineNumber+t,i)]}applyEdit(C,b){const[a,s,i]=(0,D.countEOL)(b);this.acceptEdit(C,a,s,i,b.length>0?b.charCodeAt(0):0)}acceptEdit(C,b,a,s,i){this._acceptDeleteRange(C),this._acceptInsertText(new m.Position(C.startLineNumber,C.startColumn),b,a,s,i),this._updateEndLineNumber()}_acceptDeleteRange(C){if(C.startLineNumber===C.endLineNumber&&C.startColumn===C.endColumn)return;const b=C.startLineNumber-this._startLineNumber,a=C.endLineNumber-this._startLineNumber;if(a<0){const i=a-b;this._startLineNumber-=i;return}const s=this._tokens.getMaxDeltaLine();if(!(b>=s+1)){if(b<0&&a>=s+1){this._startLineNumber=0,this._tokens.clear();return}if(b<0){const i=-b;this._startLineNumber-=i,this._tokens.acceptDeleteRange(C.startColumn-1,0,0,a,C.endColumn-1)}else this._tokens.acceptDeleteRange(0,b,C.startColumn-1,a,C.endColumn-1)}}_acceptInsertText(C,b,a,s,i){if(b===0&&a===0)return;const t=C.lineNumber-this._startLineNumber;if(t<0){this._startLineNumber+=b;return}const n=this._tokens.getMaxDeltaLine();t>=n+1||this._tokens.acceptInsertText(t,C.column-1,b,a,s,i)}}e.SparseMultilineTokens=L;class y{constructor(C){this._tokens=C,this._tokenCount=C.length/4}toString(C){const b=[];for(let a=0;a<this._tokenCount;a++)b.push(`(${this._getDeltaLine(a)+C},${this._getStartCharacter(a)}-${this._getEndCharacter(a)})`);return`[${b.join(",")}]`}getMaxDeltaLine(){const C=this._getTokenCount();return C===0?-1:this._getDeltaLine(C-1)}getRange(){const C=this._getTokenCount();if(C===0)return null;const b=this._getStartCharacter(0),a=this._getDeltaLine(C-1),s=this._getEndCharacter(C-1);return new k.Range(0,b+1,a,s+1)}_getTokenCount(){return this._tokenCount}_getDeltaLine(C){return this._tokens[4*C]}_getStartCharacter(C){return this._tokens[4*C+1]}_getEndCharacter(C){return this._tokens[4*C+2]}isEmpty(){return this._getTokenCount()===0}getLineTokens(C){let b=0,a=this._getTokenCount()-1;for(;b<a;){const s=b+Math.floor((a-b)/2),i=this._getDeltaLine(s);if(i<C)b=s+1;else if(i>C)a=s-1;else{let t=s;for(;t>b&&this._getDeltaLine(t-1)===C;)t--;let n=s;for(;n<a&&this._getDeltaLine(n+1)===C;)n++;return new p(this._tokens.subarray(4*t,4*n+4))}}return this._getDeltaLine(b)===C?new p(this._tokens.subarray(4*b,4*b+4)):null}clear(){this._tokenCount=0}removeTokens(C,b,a,s){const i=this._tokens,t=this._tokenCount;let n=0,h=!1,v=0;for(let u=0;u<t;u++){const d=4*u,r=i[d],l=i[d+1],o=i[d+2],g=i[d+3];if((r>C||r===C&&o>=b)&&(r<a||r===a&&l<=s))h=!0;else{if(n===0&&(v=r),h){const c=4*n;i[c]=r-v,i[c+1]=l,i[c+2]=o,i[c+3]=g}n++}}return this._tokenCount=n,v}split(C,b,a,s){const i=this._tokens,t=this._tokenCount,n=[],h=[];let v=n,u=0,d=0;for(let r=0;r<t;r++){const l=4*r,o=i[l],g=i[l+1],c=i[l+2],f=i[l+3];if(o>C||o===C&&c>=b){if(o<a||o===a&&g<=s)continue;v!==h&&(v=h,u=0,d=o)}v[u++]=o-d,v[u++]=g,v[u++]=c,v[u++]=f}return[new y(new Uint32Array(n)),new y(new Uint32Array(h)),d]}acceptDeleteRange(C,b,a,s,i){const t=this._tokens,n=this._tokenCount,h=s-b;let v=0,u=!1;for(let d=0;d<n;d++){const r=4*d;let l=t[r],o=t[r+1],g=t[r+2];const c=t[r+3];if(l<b||l===b&&g<=a){v++;continue}else if(l===b&&o<a)l===s&&g>i?g-=i-a:g=a;else if(l===b&&o===a)if(l===s&&g>i)g-=i-a;else{u=!0;continue}else if(l<s||l===s&&o<i)if(l===s&&g>i)l=b,o=a,g=o+(g-i);else{u=!0;continue}else if(l>s){if(h===0&&!u){v=n;break}l-=h}else if(l===s&&o>=i)C&&l===0&&(o+=C,g+=C),l-=h,o-=i-a,g-=i-a;else throw new Error("Not possible!");const f=4*v;t[f]=l,t[f+1]=o,t[f+2]=g,t[f+3]=c,v++}this._tokenCount=v}acceptInsertText(C,b,a,s,i,t){const n=a===0&&s===1&&(t>=48&&t<=57||t>=65&&t<=90||t>=97&&t<=122),h=this._tokens,v=this._tokenCount;for(let u=0;u<v;u++){const d=4*u;let r=h[d],l=h[d+1],o=h[d+2];if(!(r<C||r===C&&o<b)){if(r===C&&o===b)if(n)o+=1;else continue;else if(r===C&&l<b&&b<o)a===0?o+=s:o=b;else{if(r===C&&l===b&&n)continue;if(r===C)if(r+=a,a===0)l+=s,o+=s;else{const g=o-l;l=i+(l-b),o=l+g}else r+=a}h[d]=r,h[d+1]=l,h[d+2]=o}}}}class p{constructor(C){this._tokens=C}getCount(){return this._tokens.length/4}getStartCharacter(C){return this._tokens[4*C+1]}getEndCharacter(C){return this._tokens[4*C+2]}getMetadata(C){return this._tokens[4*C+3]}}e.SparseLineTokens=p}),define(te[561],ie([1,0,13,102]),function(J,e,m,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SparseTokensStore=void 0;class D{constructor(y){this._pieces=[],this._isComplete=!1,this._languageIdCodec=y}flush(){this._pieces=[],this._isComplete=!1}isEmpty(){return this._pieces.length===0}set(y,p){this._pieces=y||[],this._isComplete=p}setPartial(y,p){let w=y;if(p.length>0){const b=p[0].getRange(),a=p[p.length-1].getRange();if(!b||!a)return y;w=y.plusRange(b).plusRange(a)}let C=null;for(let b=0,a=this._pieces.length;b<a;b++){const s=this._pieces[b];if(s.endLineNumber<w.startLineNumber)continue;if(s.startLineNumber>w.endLineNumber){C=C||{index:b};break}if(s.removeTokens(w),s.isEmpty()){this._pieces.splice(b,1),b--,a--;continue}if(s.endLineNumber<w.startLineNumber)continue;if(s.startLineNumber>w.endLineNumber){C=C||{index:b};continue}const[i,t]=s.split(w);if(i.isEmpty()){C=C||{index:b};continue}t.isEmpty()||(this._pieces.splice(b,1,i,t),b++,a++,C=C||{index:b})}return C=C||{index:this._pieces.length},p.length>0&&(this._pieces=m.arrayInsert(this._pieces,C.index,p)),w}isComplete(){return this._isComplete}addSparseTokens(y,p){if(p.getLineContent().length===0)return p;const w=this._pieces;if(w.length===0)return p;const C=D._findFirstPieceWithLine(w,y),b=w[C].getLineTokens(y);if(!b)return p;const a=p.getCount(),s=b.getCount();let i=0;const t=[];let n=0,h=0;const v=(u,d)=>{u!==h&&(h=u,t[n++]=u,t[n++]=d)};for(let u=0;u<s;u++){const d=b.getStartCharacter(u),r=b.getEndCharacter(u),l=b.getMetadata(u),o=((l&1?2048:0)|(l&2?4096:0)|(l&4?8192:0)|(l&8?16384:0)|(l&16?16744448:0)|(l&32?4278190080:0))>>>0,g=~o>>>0;for(;i<a&&p.getEndOffset(i)<=d;)v(p.getEndOffset(i),p.getMetadata(i)),i++;for(i<a&&p.getStartOffset(i)<d&&v(d,p.getMetadata(i));i<a&&p.getEndOffset(i)<r;)v(p.getEndOffset(i),p.getMetadata(i)&g|l&o),i++;if(i<a)v(r,p.getMetadata(i)&g|l&o),p.getEndOffset(i)===r&&i++;else{const c=Math.min(Math.max(0,i-1),a-1);v(r,p.getMetadata(c)&g|l&o)}}for(;i<a;)v(p.getEndOffset(i),p.getMetadata(i)),i++;return new k.LineTokens(new Uint32Array(t),p.getLineContent(),this._languageIdCodec)}static _findFirstPieceWithLine(y,p){let w=0,C=y.length-1;for(;w<C;){let b=w+Math.floor((C-w)/2);if(y[b].endLineNumber<p)w=b+1;else if(y[b].startLineNumber>p)C=b-1;else{for(;b>w&&y[b-1].startLineNumber<=p&&p<=y[b-1].endLineNumber;)b--;return b}}return w}acceptEdit(y,p,w,C,b){for(const a of this._pieces)a.acceptEdit(y,p,w,C,b)}}e.SparseTokensStore=D}),define(te[163],ie([1,0,2]),function(J,e,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewEventHandler=void 0;class k extends m.Disposable{constructor(){super(),this._shouldRender=!0}shouldRender(){return this._shouldRender}forceShouldRender(){this._shouldRender=!0}setShouldRender(){this._shouldRender=!0}onDidRender(){this._shouldRender=!1}onCompositionStart(L){return!1}onCompositionEnd(L){return!1}onConfigurationChanged(L){return!1}onCursorStateChanged(L){return!1}onDecorationsChanged(L){return!1}onFlushed(L){return!1}onFocusChanged(L){return!1}onLanguageConfigurationChanged(L){return!1}onLineMappingChanged(L){return!1}onLinesChanged(L){return!1}onLinesDeleted(L){return!1}onLinesInserted(L){return!1}onRevealRangeRequest(L){return!1}onScrollChanged(L){return!1}onThemeChanged(L){return!1}onTokensChanged(L){return!1}onTokensColorsChanged(L){return!1}onZonesChanged(L){return!1}handleEvents(L){let y=!1;for(let p=0,w=L.length;p<w;p++){const C=L[p];switch(C.type){case 0:this.onCompositionStart(C)&&(y=!0);break;case 1:this.onCompositionEnd(C)&&(y=!0);break;case 2:this.onConfigurationChanged(C)&&(y=!0);break;case 3:this.onCursorStateChanged(C)&&(y=!0);break;case 4:this.onDecorationsChanged(C)&&(y=!0);break;case 5:this.onFlushed(C)&&(y=!0);break;case 6:this.onFocusChanged(C)&&(y=!0);break;case 7:this.onLanguageConfigurationChanged(C)&&(y=!0);break;case 8:this.onLineMappingChanged(C)&&(y=!0);break;case 9:this.onLinesChanged(C)&&(y=!0);break;case 10:this.onLinesDeleted(C)&&(y=!0);break;case 11:this.onLinesInserted(C)&&(y=!0);break;case 12:this.onRevealRangeRequest(C)&&(y=!0);break;case 13:this.onScrollChanged(C)&&(y=!0);break;case 15:this.onTokensChanged(C)&&(y=!0);break;case 14:this.onThemeChanged(C)&&(y=!0);break;case 16:this.onTokensColorsChanged(C)&&(y=!0);break;case 17:this.onZonesChanged(C)&&(y=!0);break;default:console.info("View received unknown event: "),console.info(C)}}y&&(this._shouldRender=!0)}}e.ViewEventHandler=k}),define(te[126],ie([1,0,163]),function(J,e,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DynamicViewOverlay=void 0;class k extends m.ViewEventHandler{}e.DynamicViewOverlay=k}),define(te[56],ie([1,0,163]),function(J,e,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PartFingerprints=e.ViewPart=void 0;class k extends m.ViewEventHandler{constructor(y){super(),this._context=y,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}}e.ViewPart=k;class D{static write(y,p){y.setAttribute("data-mprt",String(p))}static read(y){const p=y.getAttribute("data-mprt");return p===null?0:parseInt(p,10)}static collect(y,p){const w=[];let C=0;for(;y&&y!==y.ownerDocument.body&&y!==p;)y.nodeType===y.ELEMENT_NODE&&(w[C++]=this.read(y)),y=y.parentElement;const b=new Uint8Array(C);for(let a=0;a<C;a++)b[a]=w[C-a-1];return b}}e.PartFingerprints=D}),define(te[562],ie([1,0,40,56,452]),function(J,e,m,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BlockDecorations=void 0;class D extends k.ViewPart{constructor(y){super(y),this.blocks=[],this.contentWidth=-1,this.contentLeft=0,this.domNode=(0,m.createFastDomNode)(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.domNode.setClassName("blockDecorations-container"),this.update()}update(){let y=!1;const w=this._context.configuration.options.get(145),C=w.contentWidth-w.verticalScrollbarWidth;this.contentWidth!==C&&(this.contentWidth=C,y=!0);const b=w.contentLeft;return this.contentLeft!==b&&(this.contentLeft=b,y=!0),y}dispose(){super.dispose()}onConfigurationChanged(y){return this.update()}onScrollChanged(y){return y.scrollTopChanged||y.scrollLeftChanged}onDecorationsChanged(y){return!0}onZonesChanged(y){return!0}prepareRender(y){}render(y){var p;let w=0;const C=y.getDecorationsInViewport();for(const b of C){if(!b.options.blockClassName)continue;let a=this.blocks[w];a||(a=this.blocks[w]=(0,m.createFastDomNode)(document.createElement("div")),this.domNode.appendChild(a));let s,i;b.options.blockIsAfterEnd?(s=y.getVerticalOffsetAfterLineNumber(b.range.endLineNumber,!1),i=y.getVerticalOffsetAfterLineNumber(b.range.endLineNumber,!0)):(s=y.getVerticalOffsetForLineNumber(b.range.startLineNumber,!0),i=b.range.isEmpty()&&!b.options.blockDoesNotCollapse?y.getVerticalOffsetForLineNumber(b.range.startLineNumber,!1):y.getVerticalOffsetAfterLineNumber(b.range.endLineNumber,!0));const[t,n,h,v]=(p=b.options.blockPadding)!==null&&p!==void 0?p:[0,0,0,0];a.setClassName("blockDecorations-block "+b.options.blockClassName),a.setLeft(this.contentLeft-v),a.setWidth(this.contentWidth+v+n),a.setTop(s-y.scrollTop-t),a.setHeight(i-s+t+h),w++}for(let b=w;b<this.blocks.length;b++)this.blocks[b].domNode.remove();this.blocks.length=w}}e.BlockDecorations=D}),define(te[563],ie([1,0,126,157,5,454]),function(J,e,m,k,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DecorationsOverlay=void 0;class L extends m.DynamicViewOverlay{constructor(p){super(),this._context=p;const w=this._context.configuration.options;this._typicalHalfwidthCharacterWidth=w.get(50).typicalHalfwidthCharacterWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(p){const w=this._context.configuration.options;return this._typicalHalfwidthCharacterWidth=w.get(50).typicalHalfwidthCharacterWidth,!0}onDecorationsChanged(p){return!0}onFlushed(p){return!0}onLinesChanged(p){return!0}onLinesDeleted(p){return!0}onLinesInserted(p){return!0}onScrollChanged(p){return p.scrollTopChanged||p.scrollWidthChanged}onZonesChanged(p){return!0}prepareRender(p){const w=p.getDecorationsInViewport();let C=[],b=0;for(let t=0,n=w.length;t<n;t++){const h=w[t];h.options.className&&(C[b++]=h)}C=C.sort((t,n)=>{if(t.options.zIndex<n.options.zIndex)return-1;if(t.options.zIndex>n.options.zIndex)return 1;const h=t.options.className,v=n.options.className;return h<v?-1:h>v?1:D.Range.compareRangesUsingStarts(t.range,n.range)});const a=p.visibleRange.startLineNumber,s=p.visibleRange.endLineNumber,i=[];for(let t=a;t<=s;t++){const n=t-a;i[n]=""}this._renderWholeLineDecorations(p,C,i),this._renderNormalDecorations(p,C,i),this._renderResult=i}_renderWholeLineDecorations(p,w,C){const b=p.visibleRange.startLineNumber,a=p.visibleRange.endLineNumber;for(let s=0,i=w.length;s<i;s++){const t=w[s];if(!t.options.isWholeLine)continue;const n='<div class="cdr '+t.options.className+'" style="left:0;width:100%;"></div>',h=Math.max(t.range.startLineNumber,b),v=Math.min(t.range.endLineNumber,a);for(let u=h;u<=v;u++){const d=u-b;C[d]+=n}}}_renderNormalDecorations(p,w,C){var b;const a=p.visibleRange.startLineNumber;let s=null,i=!1,t=null,n=!1;for(let h=0,v=w.length;h<v;h++){const u=w[h];if(u.options.isWholeLine)continue;const d=u.options.className,r=!!u.options.showIfCollapsed;let l=u.range;if(r&&l.endColumn===1&&l.endLineNumber!==l.startLineNumber&&(l=new D.Range(l.startLineNumber,l.startColumn,l.endLineNumber-1,this._context.viewModel.getLineMaxColumn(l.endLineNumber-1))),s===d&&i===r&&D.Range.areIntersectingOrTouching(t,l)){t=D.Range.plusRange(t,l);continue}s!==null&&this._renderNormalDecoration(p,t,s,n,i,a,C),s=d,i=r,t=l,n=(b=u.options.shouldFillLineOnLineBreak)!==null&&b!==void 0?b:!1}s!==null&&this._renderNormalDecoration(p,t,s,n,i,a,C)}_renderNormalDecoration(p,w,C,b,a,s,i){const t=p.linesVisibleRangesForRange(w,C==="findMatch");if(t)for(let n=0,h=t.length;n<h;n++){const v=t[n];if(v.outsideRenderedLine)continue;const u=v.lineNumber-s;if(a&&v.ranges.length===1){const d=v.ranges[0];if(d.width<this._typicalHalfwidthCharacterWidth){const r=Math.round(d.left+d.width/2),l=Math.max(0,Math.round(r-this._typicalHalfwidthCharacterWidth/2));v.ranges[0]=new k.HorizontalRange(l,this._typicalHalfwidthCharacterWidth)}}for(let d=0,r=v.ranges.length;d<r;d++){const l=b&&v.continuesOnNextLine&&r===1,o=v.ranges[d],g='<div class="cdr '+C+'" style="left:'+String(o.left)+"px;width:"+(l?"100%;":String(o.width)+"px;")+'"></div>';i[u]+=g}}}render(p,w){if(!this._renderResult)return"";const C=w-p;return C<0||C>=this._renderResult.length?"":this._renderResult[C]}}e.DecorationsOverlay=L}),define(te[229],ie([1,0,40,13,126,56,9,5,43,455]),function(J,e,m,k,D,L,y,p,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GlyphMarginWidgets=e.DedupOverlay=e.VisibleLineDecorationsToRender=e.LineDecorationToRender=e.DecorationToRender=void 0;class C{constructor(u,d,r,l,o){this.startLineNumber=u,this.endLineNumber=d,this.className=r,this.tooltip=l,this._decorationToRenderBrand=void 0,this.zIndex=o??0}}e.DecorationToRender=C;class b{constructor(u,d,r){this.className=u,this.zIndex=d,this.tooltip=r}}e.LineDecorationToRender=b;class a{constructor(){this.decorations=[]}add(u){this.decorations.push(u)}getDecorations(){return this.decorations}}e.VisibleLineDecorationsToRender=a;class s extends D.DynamicViewOverlay{_render(u,d,r){const l=[];for(let c=u;c<=d;c++){const f=c-u;l[f]=new a}if(r.length===0)return l;r.sort((c,f)=>c.className===f.className?c.startLineNumber===f.startLineNumber?c.endLineNumber-f.endLineNumber:c.startLineNumber-f.startLineNumber:c.className<f.className?-1:1);let o=null,g=0;for(let c=0,f=r.length;c<f;c++){const _=r[c],S=_.className,I=_.zIndex;let E=Math.max(_.startLineNumber,u)-u;const T=Math.min(_.endLineNumber,d)-u;o===S?(E=Math.max(g+1,E),g=Math.max(g,T)):(o=S,g=T);for(let N=E;N<=g;N++)l[N].add(new b(S,I,_.tooltip))}return l}}e.DedupOverlay=s;class i extends L.ViewPart{constructor(u){super(u),this._widgets={},this._context=u;const d=this._context.configuration.options,r=d.get(145);this.domNode=(0,m.createFastDomNode)(document.createElement("div")),this.domNode.setClassName("glyph-margin-widgets"),this.domNode.setPosition("absolute"),this.domNode.setTop(0),this._lineHeight=d.get(67),this._glyphMargin=d.get(57),this._glyphMarginLeft=r.glyphMarginLeft,this._glyphMarginWidth=r.glyphMarginWidth,this._glyphMarginDecorationLaneCount=r.glyphMarginDecorationLaneCount,this._managedDomNodes=[],this._decorationGlyphsToRender=[]}dispose(){this._managedDomNodes=[],this._decorationGlyphsToRender=[],this._widgets={},super.dispose()}getWidgets(){return Object.values(this._widgets)}onConfigurationChanged(u){const d=this._context.configuration.options,r=d.get(145);return this._lineHeight=d.get(67),this._glyphMargin=d.get(57),this._glyphMarginLeft=r.glyphMarginLeft,this._glyphMarginWidth=r.glyphMarginWidth,this._glyphMarginDecorationLaneCount=r.glyphMarginDecorationLaneCount,!0}onDecorationsChanged(u){return!0}onFlushed(u){return!0}onLinesChanged(u){return!0}onLinesDeleted(u){return!0}onLinesInserted(u){return!0}onScrollChanged(u){return u.scrollTopChanged}onZonesChanged(u){return!0}addWidget(u){const d=(0,m.createFastDomNode)(u.getDomNode());this._widgets[u.getId()]={widget:u,preference:u.getPosition(),domNode:d,renderInfo:null},d.setPosition("absolute"),d.setDisplay("none"),d.setAttribute("widgetId",u.getId()),this.domNode.appendChild(d),this.setShouldRender()}setWidgetPosition(u,d){const r=this._widgets[u.getId()];return r.preference.lane===d.lane&&r.preference.zIndex===d.zIndex&&p.Range.equalsRange(r.preference.range,d.range)?!1:(r.preference=d,this.setShouldRender(),!0)}removeWidget(u){var d;const r=u.getId();if(this._widgets[r]){const o=this._widgets[r].domNode.domNode;delete this._widgets[r],(d=o.parentNode)===null||d===void 0||d.removeChild(o),this.setShouldRender()}}_collectDecorationBasedGlyphRenderRequest(u,d){var r,l,o;const g=u.visibleRange.startLineNumber,c=u.visibleRange.endLineNumber,f=u.getDecorationsInViewport();for(const _ of f){const S=_.options.glyphMarginClassName;if(!S)continue;const I=Math.max(_.range.startLineNumber,g),E=Math.min(_.range.endLineNumber,c),T=(l=(r=_.options.glyphMargin)===null||r===void 0?void 0:r.position)!==null&&l!==void 0?l:w.GlyphMarginLane.Center,N=(o=_.options.zIndex)!==null&&o!==void 0?o:0;for(let A=I;A<=E;A++){const O=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new y.Position(A,0)),M=this._context.viewModel.glyphLanes.getLanesAtLine(O.lineNumber).indexOf(T);d.push(new t(A,M,N,S))}}}_collectWidgetBasedGlyphRenderRequest(u,d){const r=u.visibleRange.startLineNumber,l=u.visibleRange.endLineNumber;for(const o of Object.values(this._widgets)){const g=o.preference.range,{startLineNumber:c,endLineNumber:f}=this._context.viewModel.coordinatesConverter.convertModelRangeToViewRange(p.Range.lift(g));if(!c||!f||f<r||c>l)continue;const _=Math.max(c,r),S=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new y.Position(_,0)),I=this._context.viewModel.glyphLanes.getLanesAtLine(S.lineNumber).indexOf(o.preference.lane);d.push(new n(_,I,o.preference.zIndex,o))}}_collectSortedGlyphRenderRequests(u){const d=[];return this._collectDecorationBasedGlyphRenderRequest(u,d),this._collectWidgetBasedGlyphRenderRequest(u,d),d.sort((r,l)=>r.lineNumber===l.lineNumber?r.laneIndex===l.laneIndex?r.zIndex===l.zIndex?l.type===r.type?r.type===0&&l.type===0?r.className<l.className?-1:1:0:l.type-r.type:l.zIndex-r.zIndex:r.laneIndex-l.laneIndex:r.lineNumber-l.lineNumber),d}prepareRender(u){if(!this._glyphMargin){this._decorationGlyphsToRender=[];return}for(const l of Object.values(this._widgets))l.renderInfo=null;const d=new k.ArrayQueue(this._collectSortedGlyphRenderRequests(u)),r=[];for(;d.length>0;){const l=d.peek();if(!l)break;const o=d.takeWhile(c=>c.lineNumber===l.lineNumber&&c.laneIndex===l.laneIndex);if(!o||o.length===0)break;const g=o[0];if(g.type===0){const c=[];for(const f of o){if(f.zIndex!==g.zIndex||f.type!==g.type)break;(c.length===0||c[c.length-1]!==f.className)&&c.push(f.className)}r.push(g.accept(c.join(" ")))}else g.widget.renderInfo={lineNumber:g.lineNumber,laneIndex:g.laneIndex}}this._decorationGlyphsToRender=r}render(u){if(!this._glyphMargin){for(const r of Object.values(this._widgets))r.domNode.setDisplay("none");for(;this._managedDomNodes.length>0;){const r=this._managedDomNodes.pop();r?.domNode.remove()}return}const d=Math.round(this._glyphMarginWidth/this._glyphMarginDecorationLaneCount);for(const r of Object.values(this._widgets))if(!r.renderInfo)r.domNode.setDisplay("none");else{const l=u.viewportData.relativeVerticalOffset[r.renderInfo.lineNumber-u.viewportData.startLineNumber],o=this._glyphMarginLeft+r.renderInfo.laneIndex*this._lineHeight;r.domNode.setDisplay("block"),r.domNode.setTop(l),r.domNode.setLeft(o),r.domNode.setWidth(d),r.domNode.setHeight(this._lineHeight)}for(let r=0;r<this._decorationGlyphsToRender.length;r++){const l=this._decorationGlyphsToRender[r],o=u.viewportData.relativeVerticalOffset[l.lineNumber-u.viewportData.startLineNumber],g=this._glyphMarginLeft+l.laneIndex*this._lineHeight;let c;r<this._managedDomNodes.length?c=this._managedDomNodes[r]:(c=(0,m.createFastDomNode)(document.createElement("div")),this._managedDomNodes.push(c),this.domNode.appendChild(c)),c.setClassName("cgmr codicon "+l.combinedClassName),c.setPosition("absolute"),c.setTop(o),c.setLeft(g),c.setWidth(d),c.setHeight(this._lineHeight)}for(;this._managedDomNodes.length>this._decorationGlyphsToRender.length;){const r=this._managedDomNodes.pop();r?.domNode.remove()}}}e.GlyphMarginWidgets=i;class t{constructor(u,d,r,l){this.lineNumber=u,this.laneIndex=d,this.zIndex=r,this.className=l,this.type=0}accept(u){return new h(this.lineNumber,this.laneIndex,u)}}class n{constructor(u,d,r,l){this.lineNumber=u,this.laneIndex=d,this.zIndex=r,this.widget=l,this.type=1}}class h{constructor(u,d,r){this.lineNumber=u,this.laneIndex=d,this.combinedClassName=r}}}),define(te[564],ie([1,0,229,459]),function(J,e,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinesDecorationsOverlay=void 0;class k extends m.DedupOverlay{constructor(L){super(),this._context=L;const p=this._context.configuration.options.get(145);this._decorationsLeft=p.decorationsLeft,this._decorationsWidth=p.decorationsWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(L){const p=this._context.configuration.options.get(145);return this._decorationsLeft=p.decorationsLeft,this._decorationsWidth=p.decorationsWidth,!0}onDecorationsChanged(L){return!0}onFlushed(L){return!0}onLinesChanged(L){return!0}onLinesDeleted(L){return!0}onLinesInserted(L){return!0}onScrollChanged(L){return L.scrollTopChanged}onZonesChanged(L){return!0}_getDecorations(L){var y,p;const w=L.getDecorationsInViewport(),C=[];let b=0;for(let a=0,s=w.length;a<s;a++){const i=w[a],t=i.options.linesDecorationsClassName,n=i.options.zIndex;t&&(C[b++]=new m.DecorationToRender(i.range.startLineNumber,i.range.endLineNumber,t,(y=i.options.linesDecorationsTooltip)!==null&&y!==void 0?y:null,n));const h=i.options.firstLineDecorationClassName;h&&(C[b++]=new m.DecorationToRender(i.range.startLineNumber,i.range.startLineNumber,h,(p=i.options.linesDecorationsTooltip)!==null&&p!==void 0?p:null,n))}return C}prepareRender(L){const y=L.visibleRange.startLineNumber,p=L.visibleRange.endLineNumber,w=this._render(y,p,this._getDecorations(L)),C=this._decorationsLeft.toString(),b=this._decorationsWidth.toString(),a='" style="left:'+C+"px;width:"+b+'px;"></div>',s=[];for(let i=y;i<=p;i++){const t=i-y,n=w[t].getDecorations();let h="";for(const v of n){let u='<div class="cldr '+v.className;v.tooltip!==null&&(u+='" title="'+v.tooltip),u+=a,h+=u}s[t]=h}this._renderResult=s}render(L,y){return this._renderResult?this._renderResult[y-L]:""}}e.LinesDecorationsOverlay=k}),define(te[317],ie([1,0,40,56,460]),function(J,e,m,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Margin=void 0;class D extends k.ViewPart{constructor(y){super(y);const p=this._context.configuration.options,w=p.get(145);this._canUseLayerHinting=!p.get(32),this._contentLeft=w.contentLeft,this._glyphMarginLeft=w.glyphMarginLeft,this._glyphMarginWidth=w.glyphMarginWidth,this._domNode=(0,m.createFastDomNode)(document.createElement("div")),this._domNode.setClassName(D.OUTER_CLASS_NAME),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._glyphMarginBackgroundDomNode=(0,m.createFastDomNode)(document.createElement("div")),this._glyphMarginBackgroundDomNode.setClassName(D.CLASS_NAME),this._domNode.appendChild(this._glyphMarginBackgroundDomNode)}dispose(){super.dispose()}getDomNode(){return this._domNode}onConfigurationChanged(y){const p=this._context.configuration.options,w=p.get(145);return this._canUseLayerHinting=!p.get(32),this._contentLeft=w.contentLeft,this._glyphMarginLeft=w.glyphMarginLeft,this._glyphMarginWidth=w.glyphMarginWidth,!0}onScrollChanged(y){return super.onScrollChanged(y)||y.scrollTopChanged}prepareRender(y){}render(y){this._domNode.setLayerHinting(this._canUseLayerHinting),this._domNode.setContain("strict");const p=y.scrollTop-y.bigNumbersDelta;this._domNode.setTop(-p);const w=Math.min(y.scrollHeight,1e6);this._domNode.setHeight(w),this._domNode.setWidth(this._contentLeft),this._glyphMarginBackgroundDomNode.setLeft(this._glyphMarginLeft),this._glyphMarginBackgroundDomNode.setWidth(this._glyphMarginWidth),this._glyphMarginBackgroundDomNode.setHeight(w)}}e.Margin=D,D.CLASS_NAME="glyph-margin",D.OUTER_CLASS_NAME="margin"}),define(te[565],ie([1,0,229,461]),function(J,e,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarginViewLineDecorationsOverlay=void 0;class k extends m.DedupOverlay{constructor(L){super(),this._context=L,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(L){return!0}onDecorationsChanged(L){return!0}onFlushed(L){return!0}onLinesChanged(L){return!0}onLinesDeleted(L){return!0}onLinesInserted(L){return!0}onScrollChanged(L){return L.scrollTopChanged}onZonesChanged(L){return!0}_getDecorations(L){const y=L.getDecorationsInViewport(),p=[];let w=0;for(let C=0,b=y.length;C<b;C++){const a=y[C],s=a.options.marginClassName,i=a.options.zIndex;s&&(p[w++]=new m.DecorationToRender(a.range.startLineNumber,a.range.endLineNumber,s,null,i))}return p}prepareRender(L){const y=L.visibleRange.startLineNumber,p=L.visibleRange.endLineNumber,w=this._render(y,p,this._getDecorations(L)),C=[];for(let b=y;b<=p;b++){const a=b-y,s=w[a].getDecorations();let i="";for(const t of s)i+='<div class="cmdr '+t.className+'" style=""></div>';C[a]=i}this._renderResult=C}render(L,y){return this._renderResult?this._renderResult[y-L]:""}}e.MarginViewLineDecorationsOverlay=k}),define(te[566],ie([1,0,40,56,464]),function(J,e,m,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Rulers=void 0;class D extends k.ViewPart{constructor(y){super(y),this.domNode=(0,m.createFastDomNode)(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.domNode.setClassName("view-rulers"),this._renderedRulers=[];const p=this._context.configuration.options;this._rulers=p.get(102),this._typicalHalfwidthCharacterWidth=p.get(50).typicalHalfwidthCharacterWidth}dispose(){super.dispose()}onConfigurationChanged(y){const p=this._context.configuration.options;return this._rulers=p.get(102),this._typicalHalfwidthCharacterWidth=p.get(50).typicalHalfwidthCharacterWidth,!0}onScrollChanged(y){return y.scrollHeightChanged}prepareRender(y){}_ensureRulersCount(){const y=this._renderedRulers.length,p=this._rulers.length;if(y===p)return;if(y<p){const{tabSize:C}=this._context.viewModel.model.getOptions(),b=C;let a=p-y;for(;a>0;){const s=(0,m.createFastDomNode)(document.createElement("div"));s.setClassName("view-ruler"),s.setWidth(b),this.domNode.appendChild(s),this._renderedRulers.push(s),a--}return}let w=y-p;for(;w>0;){const C=this._renderedRulers.pop();this.domNode.removeChild(C),w--}}render(y){this._ensureRulersCount();for(let p=0,w=this._rulers.length;p<w;p++){const C=this._renderedRulers[p],b=this._rulers[p];C.setBoxShadow(b.color?`1px 0 0 0 ${b.color} inset`:""),C.setHeight(Math.min(y.scrollHeight,1e6)),C.setLeft(b.column*this._typicalHalfwidthCharacterWidth)}}}e.Rulers=D}),define(te[567],ie([1,0,40,56,465]),function(J,e,m,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ScrollDecorationViewPart=void 0;class D extends k.ViewPart{constructor(y){super(y),this._scrollTop=0,this._width=0,this._updateWidth(),this._shouldShow=!1;const w=this._context.configuration.options.get(103);this._useShadows=w.useShadows,this._domNode=(0,m.createFastDomNode)(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true")}dispose(){super.dispose()}_updateShouldShow(){const y=this._useShadows&&this._scrollTop>0;return this._shouldShow!==y?(this._shouldShow=y,!0):!1}getDomNode(){return this._domNode}_updateWidth(){const p=this._context.configuration.options.get(145);p.minimap.renderMinimap===0||p.minimap.minimapWidth>0&&p.minimap.minimapLeft===0?this._width=p.width:this._width=p.width-p.verticalScrollbarWidth}onConfigurationChanged(y){const w=this._context.configuration.options.get(103);return this._useShadows=w.useShadows,this._updateWidth(),this._updateShouldShow(),!0}onScrollChanged(y){return this._scrollTop=y.scrollTop,this._updateShouldShow()}prepareRender(y){}render(y){this._domNode.setWidth(this._width),this._domNode.setClassName(this._shouldShow?"scroll-decoration":"")}}e.ScrollDecorationViewPart=D}),define(te[568],ie([1,0,40,12,56,9]),function(J,e,m,k,D,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewZones=void 0;const y=()=>{throw new Error("Invalid change accessor")};class p extends D.ViewPart{constructor(b){super(b);const a=this._context.configuration.options,s=a.get(145);this._lineHeight=a.get(67),this._contentWidth=s.contentWidth,this._contentLeft=s.contentLeft,this.domNode=(0,m.createFastDomNode)(document.createElement("div")),this.domNode.setClassName("view-zones"),this.domNode.setPosition("absolute"),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.marginDomNode=(0,m.createFastDomNode)(document.createElement("div")),this.marginDomNode.setClassName("margin-view-zones"),this.marginDomNode.setPosition("absolute"),this.marginDomNode.setAttribute("role","presentation"),this.marginDomNode.setAttribute("aria-hidden","true"),this._zones={}}dispose(){super.dispose(),this._zones={}}_recomputeWhitespacesProps(){const b=this._context.viewLayout.getWhitespaces(),a=new Map;for(const i of b)a.set(i.id,i);let s=!1;return this._context.viewModel.changeWhitespace(i=>{const t=Object.keys(this._zones);for(let n=0,h=t.length;n<h;n++){const v=t[n],u=this._zones[v],d=this._computeWhitespaceProps(u.delegate);u.isInHiddenArea=d.isInHiddenArea;const r=a.get(v);r&&(r.afterLineNumber!==d.afterViewLineNumber||r.height!==d.heightInPx)&&(i.changeOneWhitespace(v,d.afterViewLineNumber,d.heightInPx),this._safeCallOnComputedHeight(u.delegate,d.heightInPx),s=!0)}}),s}onConfigurationChanged(b){const a=this._context.configuration.options,s=a.get(145);return this._lineHeight=a.get(67),this._contentWidth=s.contentWidth,this._contentLeft=s.contentLeft,b.hasChanged(67)&&this._recomputeWhitespacesProps(),!0}onLineMappingChanged(b){return this._recomputeWhitespacesProps()}onLinesDeleted(b){return!0}onScrollChanged(b){return b.scrollTopChanged||b.scrollWidthChanged}onZonesChanged(b){return!0}onLinesInserted(b){return!0}_getZoneOrdinal(b){var a,s;return(s=(a=b.ordinal)!==null&&a!==void 0?a:b.afterColumn)!==null&&s!==void 0?s:1e4}_computeWhitespaceProps(b){if(b.afterLineNumber===0)return{isInHiddenArea:!1,afterViewLineNumber:0,heightInPx:this._heightInPixels(b),minWidthInPx:this._minWidthInPixels(b)};let a;if(typeof b.afterColumn<"u")a=this._context.viewModel.model.validatePosition({lineNumber:b.afterLineNumber,column:b.afterColumn});else{const n=this._context.viewModel.model.validatePosition({lineNumber:b.afterLineNumber,column:1}).lineNumber;a=new L.Position(n,this._context.viewModel.model.getLineMaxColumn(n))}let s;a.column===this._context.viewModel.model.getLineMaxColumn(a.lineNumber)?s=this._context.viewModel.model.validatePosition({lineNumber:a.lineNumber+1,column:1}):s=this._context.viewModel.model.validatePosition({lineNumber:a.lineNumber,column:a.column+1});const i=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(a,b.afterColumnAffinity,!0),t=b.showInHiddenAreas||this._context.viewModel.coordinatesConverter.modelPositionIsVisible(s);return{isInHiddenArea:!t,afterViewLineNumber:i.lineNumber,heightInPx:t?this._heightInPixels(b):0,minWidthInPx:this._minWidthInPixels(b)}}changeViewZones(b){let a=!1;return this._context.viewModel.changeWhitespace(s=>{const i={addZone:t=>(a=!0,this._addZone(s,t)),removeZone:t=>{t&&(a=this._removeZone(s,t)||a)},layoutZone:t=>{t&&(a=this._layoutZone(s,t)||a)}};w(b,i),i.addZone=y,i.removeZone=y,i.layoutZone=y}),a}_addZone(b,a){const s=this._computeWhitespaceProps(a),t={whitespaceId:b.insertWhitespace(s.afterViewLineNumber,this._getZoneOrdinal(a),s.heightInPx,s.minWidthInPx),delegate:a,isInHiddenArea:s.isInHiddenArea,isVisible:!1,domNode:(0,m.createFastDomNode)(a.domNode),marginDomNode:a.marginDomNode?(0,m.createFastDomNode)(a.marginDomNode):null};return this._safeCallOnComputedHeight(t.delegate,s.heightInPx),t.domNode.setPosition("absolute"),t.domNode.domNode.style.width="100%",t.domNode.setDisplay("none"),t.domNode.setAttribute("monaco-view-zone",t.whitespaceId),this.domNode.appendChild(t.domNode),t.marginDomNode&&(t.marginDomNode.setPosition("absolute"),t.marginDomNode.domNode.style.width="100%",t.marginDomNode.setDisplay("none"),t.marginDomNode.setAttribute("monaco-view-zone",t.whitespaceId),this.marginDomNode.appendChild(t.marginDomNode)),this._zones[t.whitespaceId]=t,this.setShouldRender(),t.whitespaceId}_removeZone(b,a){if(this._zones.hasOwnProperty(a)){const s=this._zones[a];return delete this._zones[a],b.removeWhitespace(s.whitespaceId),s.domNode.removeAttribute("monaco-visible-view-zone"),s.domNode.removeAttribute("monaco-view-zone"),s.domNode.domNode.parentNode.removeChild(s.domNode.domNode),s.marginDomNode&&(s.marginDomNode.removeAttribute("monaco-visible-view-zone"),s.marginDomNode.removeAttribute("monaco-view-zone"),s.marginDomNode.domNode.parentNode.removeChild(s.marginDomNode.domNode)),this.setShouldRender(),!0}return!1}_layoutZone(b,a){if(this._zones.hasOwnProperty(a)){const s=this._zones[a],i=this._computeWhitespaceProps(s.delegate);return s.isInHiddenArea=i.isInHiddenArea,b.changeOneWhitespace(s.whitespaceId,i.afterViewLineNumber,i.heightInPx),this._safeCallOnComputedHeight(s.delegate,i.heightInPx),this.setShouldRender(),!0}return!1}shouldSuppressMouseDownOnViewZone(b){return this._zones.hasOwnProperty(b)?!!this._zones[b].delegate.suppressMouseDown:!1}_heightInPixels(b){return typeof b.heightInPx=="number"?b.heightInPx:typeof b.heightInLines=="number"?this._lineHeight*b.heightInLines:this._lineHeight}_minWidthInPixels(b){return typeof b.minWidthInPx=="number"?b.minWidthInPx:0}_safeCallOnComputedHeight(b,a){if(typeof b.onComputedHeight=="function")try{b.onComputedHeight(a)}catch(s){(0,k.onUnexpectedError)(s)}}_safeCallOnDomNodeTop(b,a){if(typeof b.onDomNodeTop=="function")try{b.onDomNodeTop(a)}catch(s){(0,k.onUnexpectedError)(s)}}prepareRender(b){}render(b){const a=b.viewportData.whitespaceViewportData,s={};let i=!1;for(const n of a)this._zones[n.id].isInHiddenArea||(s[n.id]=n,i=!0);const t=Object.keys(this._zones);for(let n=0,h=t.length;n<h;n++){const v=t[n],u=this._zones[v];let d=0,r=0,l="none";s.hasOwnProperty(v)?(d=s[v].verticalOffset-b.bigNumbersDelta,r=s[v].height,l="block",u.isVisible||(u.domNode.setAttribute("monaco-visible-view-zone","true"),u.isVisible=!0),this._safeCallOnDomNodeTop(u.delegate,b.getScrolledTopFromAbsoluteTop(s[v].verticalOffset))):(u.isVisible&&(u.domNode.removeAttribute("monaco-visible-view-zone"),u.isVisible=!1),this._safeCallOnDomNodeTop(u.delegate,b.getScrolledTopFromAbsoluteTop(-1e6))),u.domNode.setTop(d),u.domNode.setHeight(r),u.domNode.setDisplay(l),u.marginDomNode&&(u.marginDomNode.setTop(d),u.marginDomNode.setHeight(r),u.marginDomNode.setDisplay(l))}i&&(this.domNode.setWidth(Math.max(b.scrollWidth,this._contentWidth)),this.marginDomNode.setWidth(this._contentLeft))}}e.ViewZones=p;function w(C,b){try{return C(b)}catch(a){(0,k.onUnexpectedError)(a)}}}),define(te[230],ie([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewZonesChangedEvent=e.ViewTokensColorsChangedEvent=e.ViewTokensChangedEvent=e.ViewThemeChangedEvent=e.ViewScrollChangedEvent=e.ViewRevealRangeRequestEvent=e.ViewLinesInsertedEvent=e.ViewLinesDeletedEvent=e.ViewLinesChangedEvent=e.ViewLineMappingChangedEvent=e.ViewLanguageConfigurationEvent=e.ViewFocusChangedEvent=e.ViewFlushedEvent=e.ViewDecorationsChangedEvent=e.ViewCursorStateChangedEvent=e.ViewConfigurationChangedEvent=e.ViewCompositionEndEvent=e.ViewCompositionStartEvent=void 0;class m{constructor(){this.type=0}}e.ViewCompositionStartEvent=m;class k{constructor(){this.type=1}}e.ViewCompositionEndEvent=k;class D{constructor(l){this.type=2,this._source=l}hasChanged(l){return this._source.hasChanged(l)}}e.ViewConfigurationChangedEvent=D;class L{constructor(l,o,g){this.selections=l,this.modelSelections=o,this.reason=g,this.type=3}}e.ViewCursorStateChangedEvent=L;class y{constructor(l){this.type=4,l?(this.affectsMinimap=l.affectsMinimap,this.affectsOverviewRuler=l.affectsOverviewRuler,this.affectsGlyphMargin=l.affectsGlyphMargin,this.affectsLineNumber=l.affectsLineNumber):(this.affectsMinimap=!0,this.affectsOverviewRuler=!0,this.affectsGlyphMargin=!0,this.affectsLineNumber=!0)}}e.ViewDecorationsChangedEvent=y;class p{constructor(){this.type=5}}e.ViewFlushedEvent=p;class w{constructor(l){this.type=6,this.isFocused=l}}e.ViewFocusChangedEvent=w;class C{constructor(){this.type=7}}e.ViewLanguageConfigurationEvent=C;class b{constructor(){this.type=8}}e.ViewLineMappingChangedEvent=b;class a{constructor(l,o){this.fromLineNumber=l,this.count=o,this.type=9}}e.ViewLinesChangedEvent=a;class s{constructor(l,o){this.type=10,this.fromLineNumber=l,this.toLineNumber=o}}e.ViewLinesDeletedEvent=s;class i{constructor(l,o){this.type=11,this.fromLineNumber=l,this.toLineNumber=o}}e.ViewLinesInsertedEvent=i;class t{constructor(l,o,g,c,f,_,S){this.source=l,this.minimalReveal=o,this.range=g,this.selections=c,this.verticalType=f,this.revealHorizontal=_,this.scrollType=S,this.type=12}}e.ViewRevealRangeRequestEvent=t;class n{constructor(l){this.type=13,this.scrollWidth=l.scrollWidth,this.scrollLeft=l.scrollLeft,this.scrollHeight=l.scrollHeight,this.scrollTop=l.scrollTop,this.scrollWidthChanged=l.scrollWidthChanged,this.scrollLeftChanged=l.scrollLeftChanged,this.scrollHeightChanged=l.scrollHeightChanged,this.scrollTopChanged=l.scrollTopChanged}}e.ViewScrollChangedEvent=n;class h{constructor(l){this.theme=l,this.type=14}}e.ViewThemeChangedEvent=h;class v{constructor(l){this.type=15,this.ranges=l}}e.ViewTokensChangedEvent=v;class u{constructor(){this.type=16}}e.ViewTokensColorsChangedEvent=u;class d{constructor(){this.type=17}}e.ViewZonesChangedEvent=d}),define(te[145],ie([1,0,11]),function(J,e,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LineDecorationsNormalizer=e.DecorationSegment=e.LineDecoration=void 0;class k{constructor(w,C,b,a){this.startColumn=w,this.endColumn=C,this.className=b,this.type=a,this._lineDecorationBrand=void 0}static _equals(w,C){return w.startColumn===C.startColumn&&w.endColumn===C.endColumn&&w.className===C.className&&w.type===C.type}static equalsArr(w,C){const b=w.length,a=C.length;if(b!==a)return!1;for(let s=0;s<b;s++)if(!k._equals(w[s],C[s]))return!1;return!0}static extractWrapped(w,C,b){if(w.length===0)return w;const a=C+1,s=b+1,i=b-C,t=[];let n=0;for(const h of w)h.endColumn<=a||h.startColumn>=s||(t[n++]=new k(Math.max(1,h.startColumn-a+1),Math.min(i+1,h.endColumn-a+1),h.className,h.type));return t}static filter(w,C,b,a){if(w.length===0)return[];const s=[];let i=0;for(let t=0,n=w.length;t<n;t++){const h=w[t],v=h.range;if(v.endLineNumber<C||v.startLineNumber>C||v.isEmpty()&&(h.type===0||h.type===3))continue;const u=v.startLineNumber===C?v.startColumn:b,d=v.endLineNumber===C?v.endColumn:a;s[i++]=new k(u,d,h.inlineClassName,h.type)}return s}static _typeCompare(w,C){const b=[2,0,1,3];return b[w]-b[C]}static compare(w,C){if(w.startColumn!==C.startColumn)return w.startColumn-C.startColumn;if(w.endColumn!==C.endColumn)return w.endColumn-C.endColumn;const b=k._typeCompare(w.type,C.type);return b!==0?b:w.className!==C.className?w.className<C.className?-1:1:0}}e.LineDecoration=k;class D{constructor(w,C,b,a){this.startOffset=w,this.endOffset=C,this.className=b,this.metadata=a}}e.DecorationSegment=D;class L{constructor(){this.stopOffsets=[],this.classNames=[],this.metadata=[],this.count=0}static _metadata(w){let C=0;for(let b=0,a=w.length;b<a;b++)C|=w[b];return C}consumeLowerThan(w,C,b){for(;this.count>0&&this.stopOffsets[0]<w;){let a=0;for(;a+1<this.count&&this.stopOffsets[a]===this.stopOffsets[a+1];)a++;b.push(new D(C,this.stopOffsets[a],this.classNames.join(" "),L._metadata(this.metadata))),C=this.stopOffsets[a]+1,this.stopOffsets.splice(0,a+1),this.classNames.splice(0,a+1),this.metadata.splice(0,a+1),this.count-=a+1}return this.count>0&&C<w&&(b.push(new D(C,w-1,this.classNames.join(" "),L._metadata(this.metadata))),C=w),C}insert(w,C,b){if(this.count===0||this.stopOffsets[this.count-1]<=w)this.stopOffsets.push(w),this.classNames.push(C),this.metadata.push(b);else for(let a=0;a<this.count;a++)if(this.stopOffsets[a]>=w){this.stopOffsets.splice(a,0,w),this.classNames.splice(a,0,C),this.metadata.splice(a,0,b);break}this.count++}}class y{static normalize(w,C){if(C.length===0)return[];const b=[],a=new L;let s=0;for(let i=0,t=C.length;i<t;i++){const n=C[i];let h=n.startColumn,v=n.endColumn;const u=n.className,d=n.type===1?2:n.type===2?4:0;if(h>1){const o=w.charCodeAt(h-2);m.isHighSurrogate(o)&&h--}if(v>1){const o=w.charCodeAt(v-2);m.isHighSurrogate(o)&&v--}const r=h-1,l=v-2;s=a.consumeLowerThan(r,s,b),a.count===0&&(s=r),a.insert(l,u,d)}return a.consumeLowerThan(1073741824,s,b),b}}e.LineDecorationsNormalizer=y}),define(te[569],ie([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinePart=void 0;class m{constructor(D,L,y,p){this.endIndex=D,this.type=L,this.metadata=y,this.containsRTL=p,this._linePartBrand=void 0}isWhitespace(){return!!(this.metadata&1)}isPseudoAfter(){return!!(this.metadata&4)}}e.LinePart=m}),define(te[570],ie([1,0,11]),function(J,e,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinesLayout=e.EditorWhitespace=void 0;class k{constructor(){this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[]}insert(p){this._hasPending=!0,this._inserts.push(p)}change(p){this._hasPending=!0,this._changes.push(p)}remove(p){this._hasPending=!0,this._removes.push(p)}mustCommit(){return this._hasPending}commit(p){if(!this._hasPending)return;const w=this._inserts,C=this._changes,b=this._removes;this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[],p._commitPendingChanges(w,C,b)}}class D{constructor(p,w,C,b,a){this.id=p,this.afterLineNumber=w,this.ordinal=C,this.height=b,this.minWidth=a,this.prefixSum=0}}e.EditorWhitespace=D;class L{constructor(p,w,C,b){this._instanceId=m.singleLetterHash(++L.INSTANCE_COUNT),this._pendingChanges=new k,this._lastWhitespaceId=0,this._arr=[],this._prefixSumValidIndex=-1,this._minWidth=-1,this._lineCount=p,this._lineHeight=w,this._paddingTop=C,this._paddingBottom=b}static findInsertionIndex(p,w,C){let b=0,a=p.length;for(;b<a;){const s=b+a>>>1;w===p[s].afterLineNumber?C<p[s].ordinal?a=s:b=s+1:w<p[s].afterLineNumber?a=s:b=s+1}return b}setLineHeight(p){this._checkPendingChanges(),this._lineHeight=p}setPadding(p,w){this._paddingTop=p,this._paddingBottom=w}onFlushed(p){this._checkPendingChanges(),this._lineCount=p}changeWhitespace(p){let w=!1;try{p({insertWhitespace:(b,a,s,i)=>{w=!0,b=b|0,a=a|0,s=s|0,i=i|0;const t=this._instanceId+ ++this._lastWhitespaceId;return this._pendingChanges.insert(new D(t,b,a,s,i)),t},changeOneWhitespace:(b,a,s)=>{w=!0,a=a|0,s=s|0,this._pendingChanges.change({id:b,newAfterLineNumber:a,newHeight:s})},removeWhitespace:b=>{w=!0,this._pendingChanges.remove({id:b})}})}finally{this._pendingChanges.commit(this)}return w}_commitPendingChanges(p,w,C){if((p.length>0||C.length>0)&&(this._minWidth=-1),p.length+w.length+C.length<=1){for(const t of p)this._insertWhitespace(t);for(const t of w)this._changeOneWhitespace(t.id,t.newAfterLineNumber,t.newHeight);for(const t of C){const n=this._findWhitespaceIndex(t.id);n!==-1&&this._removeWhitespace(n)}return}const b=new Set;for(const t of C)b.add(t.id);const a=new Map;for(const t of w)a.set(t.id,t);const s=t=>{const n=[];for(const h of t)if(!b.has(h.id)){if(a.has(h.id)){const v=a.get(h.id);h.afterLineNumber=v.newAfterLineNumber,h.height=v.newHeight}n.push(h)}return n},i=s(this._arr).concat(s(p));i.sort((t,n)=>t.afterLineNumber===n.afterLineNumber?t.ordinal-n.ordinal:t.afterLineNumber-n.afterLineNumber),this._arr=i,this._prefixSumValidIndex=-1}_checkPendingChanges(){this._pendingChanges.mustCommit()&&this._pendingChanges.commit(this)}_insertWhitespace(p){const w=L.findInsertionIndex(this._arr,p.afterLineNumber,p.ordinal);this._arr.splice(w,0,p),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,w-1)}_findWhitespaceIndex(p){const w=this._arr;for(let C=0,b=w.length;C<b;C++)if(w[C].id===p)return C;return-1}_changeOneWhitespace(p,w,C){const b=this._findWhitespaceIndex(p);if(b!==-1&&(this._arr[b].height!==C&&(this._arr[b].height=C,this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,b-1)),this._arr[b].afterLineNumber!==w)){const a=this._arr[b];this._removeWhitespace(b),a.afterLineNumber=w,this._insertWhitespace(a)}}_removeWhitespace(p){this._arr.splice(p,1),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,p-1)}onLinesDeleted(p,w){this._checkPendingChanges(),p=p|0,w=w|0,this._lineCount-=w-p+1;for(let C=0,b=this._arr.length;C<b;C++){const a=this._arr[C].afterLineNumber;p<=a&&a<=w?this._arr[C].afterLineNumber=p-1:a>w&&(this._arr[C].afterLineNumber-=w-p+1)}}onLinesInserted(p,w){this._checkPendingChanges(),p=p|0,w=w|0,this._lineCount+=w-p+1;for(let C=0,b=this._arr.length;C<b;C++){const a=this._arr[C].afterLineNumber;p<=a&&(this._arr[C].afterLineNumber+=w-p+1)}}getWhitespacesTotalHeight(){return this._checkPendingChanges(),this._arr.length===0?0:this.getWhitespacesAccumulatedHeight(this._arr.length-1)}getWhitespacesAccumulatedHeight(p){this._checkPendingChanges(),p=p|0;let w=Math.max(0,this._prefixSumValidIndex+1);w===0&&(this._arr[0].prefixSum=this._arr[0].height,w++);for(let C=w;C<=p;C++)this._arr[C].prefixSum=this._arr[C-1].prefixSum+this._arr[C].height;return this._prefixSumValidIndex=Math.max(this._prefixSumValidIndex,p),this._arr[p].prefixSum}getLinesTotalHeight(){this._checkPendingChanges();const p=this._lineHeight*this._lineCount,w=this.getWhitespacesTotalHeight();return p+w+this._paddingTop+this._paddingBottom}getWhitespaceAccumulatedHeightBeforeLineNumber(p){this._checkPendingChanges(),p=p|0;const w=this._findLastWhitespaceBeforeLineNumber(p);return w===-1?0:this.getWhitespacesAccumulatedHeight(w)}_findLastWhitespaceBeforeLineNumber(p){p=p|0;const w=this._arr;let C=0,b=w.length-1;for(;C<=b;){const s=(b-C|0)/2|0,i=C+s|0;if(w[i].afterLineNumber<p){if(i+1>=w.length||w[i+1].afterLineNumber>=p)return i;C=i+1|0}else b=i-1|0}return-1}_findFirstWhitespaceAfterLineNumber(p){p=p|0;const C=this._findLastWhitespaceBeforeLineNumber(p)+1;return C<this._arr.length?C:-1}getFirstWhitespaceIndexAfterLineNumber(p){return this._checkPendingChanges(),p=p|0,this._findFirstWhitespaceAfterLineNumber(p)}getVerticalOffsetForLineNumber(p,w=!1){this._checkPendingChanges(),p=p|0;let C;p>1?C=this._lineHeight*(p-1):C=0;const b=this.getWhitespaceAccumulatedHeightBeforeLineNumber(p-(w?1:0));return C+b+this._paddingTop}getVerticalOffsetAfterLineNumber(p,w=!1){this._checkPendingChanges(),p=p|0;const C=this._lineHeight*p,b=this.getWhitespaceAccumulatedHeightBeforeLineNumber(p+(w?1:0));return C+b+this._paddingTop}getWhitespaceMinWidth(){if(this._checkPendingChanges(),this._minWidth===-1){let p=0;for(let w=0,C=this._arr.length;w<C;w++)p=Math.max(p,this._arr[w].minWidth);this._minWidth=p}return this._minWidth}isAfterLines(p){this._checkPendingChanges();const w=this.getLinesTotalHeight();return p>w}isInTopPadding(p){return this._paddingTop===0?!1:(this._checkPendingChanges(),p<this._paddingTop)}isInBottomPadding(p){if(this._paddingBottom===0)return!1;this._checkPendingChanges();const w=this.getLinesTotalHeight();return p>=w-this._paddingBottom}getLineNumberAtOrAfterVerticalOffset(p){if(this._checkPendingChanges(),p=p|0,p<0)return 1;const w=this._lineCount|0,C=this._lineHeight;let b=1,a=w;for(;b<a;){const s=(b+a)/2|0,i=this.getVerticalOffsetForLineNumber(s)|0;if(p>=i+C)b=s+1;else{if(p>=i)return s;a=s}}return b>w?w:b}getLinesViewportData(p,w){this._checkPendingChanges(),p=p|0,w=w|0;const C=this._lineHeight,b=this.getLineNumberAtOrAfterVerticalOffset(p)|0,a=this.getVerticalOffsetForLineNumber(b)|0;let s=this._lineCount|0,i=this.getFirstWhitespaceIndexAfterLineNumber(b)|0;const t=this.getWhitespacesCount()|0;let n,h;i===-1?(i=t,h=s+1,n=0):(h=this.getAfterLineNumberForWhitespaceIndex(i)|0,n=this.getHeightForWhitespaceIndex(i)|0);let v=a,u=v;const d=5e5;let r=0;a>=d&&(r=Math.floor(a/d)*d,r=Math.floor(r/C)*C,u-=r);const l=[],o=p+(w-p)/2;let g=-1;for(let S=b;S<=s;S++){if(g===-1){const I=v,E=v+C;(I<=o&&o<E||I>o)&&(g=S)}for(v+=C,l[S-b]=u,u+=C;h===S;)u+=n,v+=n,i++,i>=t?h=s+1:(h=this.getAfterLineNumberForWhitespaceIndex(i)|0,n=this.getHeightForWhitespaceIndex(i)|0);if(v>=w){s=S;break}}g===-1&&(g=s);const c=this.getVerticalOffsetForLineNumber(s)|0;let f=b,_=s;return f<_&&a<p&&f++,f<_&&c+C>w&&_--,{bigNumbersDelta:r,startLineNumber:b,endLineNumber:s,relativeVerticalOffset:l,centeredLineNumber:g,completelyVisibleStartLineNumber:f,completelyVisibleEndLineNumber:_,lineHeight:this._lineHeight}}getVerticalOffsetForWhitespaceIndex(p){this._checkPendingChanges(),p=p|0;const w=this.getAfterLineNumberForWhitespaceIndex(p);let C;w>=1?C=this._lineHeight*w:C=0;let b;return p>0?b=this.getWhitespacesAccumulatedHeight(p-1):b=0,C+b+this._paddingTop}getWhitespaceIndexAtOrAfterVerticallOffset(p){this._checkPendingChanges(),p=p|0;let w=0,C=this.getWhitespacesCount()-1;if(C<0)return-1;const b=this.getVerticalOffsetForWhitespaceIndex(C),a=this.getHeightForWhitespaceIndex(C);if(p>=b+a)return-1;for(;w<C;){const s=Math.floor((w+C)/2),i=this.getVerticalOffsetForWhitespaceIndex(s),t=this.getHeightForWhitespaceIndex(s);if(p>=i+t)w=s+1;else{if(p>=i)return s;C=s}}return w}getWhitespaceAtVerticalOffset(p){this._checkPendingChanges(),p=p|0;const w=this.getWhitespaceIndexAtOrAfterVerticallOffset(p);if(w<0||w>=this.getWhitespacesCount())return null;const C=this.getVerticalOffsetForWhitespaceIndex(w);if(C>p)return null;const b=this.getHeightForWhitespaceIndex(w),a=this.getIdForWhitespaceIndex(w),s=this.getAfterLineNumberForWhitespaceIndex(w);return{id:a,afterLineNumber:s,verticalOffset:C,height:b}}getWhitespaceViewportData(p,w){this._checkPendingChanges(),p=p|0,w=w|0;const C=this.getWhitespaceIndexAtOrAfterVerticallOffset(p),b=this.getWhitespacesCount()-1;if(C<0)return[];const a=[];for(let s=C;s<=b;s++){const i=this.getVerticalOffsetForWhitespaceIndex(s),t=this.getHeightForWhitespaceIndex(s);if(i>=w)break;a.push({id:this.getIdForWhitespaceIndex(s),afterLineNumber:this.getAfterLineNumberForWhitespaceIndex(s),verticalOffset:i,height:t})}return a}getWhitespaces(){return this._checkPendingChanges(),this._arr.slice(0)}getWhitespacesCount(){return this._checkPendingChanges(),this._arr.length}getIdForWhitespaceIndex(p){return this._checkPendingChanges(),p=p|0,this._arr[p].id}getAfterLineNumberForWhitespaceIndex(p){return this._checkPendingChanges(),p=p|0,this._arr[p].afterLineNumber}getHeightForWhitespaceIndex(p){return this._checkPendingChanges(),p=p|0,this._arr[p].height}}e.LinesLayout=L,L.INSTANCE_COUNT=0}),define(te[571],ie([1,0,5]),function(J,e,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewportData=void 0;class k{constructor(L,y,p,w){this.selections=L,this.startLineNumber=y.startLineNumber|0,this.endLineNumber=y.endLineNumber|0,this.relativeVerticalOffset=y.relativeVerticalOffset,this.bigNumbersDelta=y.bigNumbersDelta|0,this.lineHeight=y.lineHeight|0,this.whitespaceViewportData=p,this._model=w,this.visibleRange=new m.Range(y.startLineNumber,this._model.getLineMinColumn(y.startLineNumber),y.endLineNumber,this._model.getLineMaxColumn(y.endLineNumber))}getViewLineRenderingData(L){return this._model.getViewportViewLineRenderingData(this.visibleRange,L)}getDecorationsInViewport(){return this._model.getDecorationsInViewport(this.visibleRange)}}e.ViewportData=k}),define(te[90],ie([1,0,13,11,5]),function(J,e,m,k,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OverviewRulerDecorationsGroup=e.ViewModelDecoration=e.SingleLineInlineDecoration=e.InlineDecoration=e.ViewLineRenderingData=e.ViewLineData=e.MinimapLinesRenderingData=e.Viewport=void 0;class L{constructor(t,n,h,v){this._viewportBrand=void 0,this.top=t|0,this.left=n|0,this.width=h|0,this.height=v|0}}e.Viewport=L;class y{constructor(t,n){this.tabSize=t,this.data=n}}e.MinimapLinesRenderingData=y;class p{constructor(t,n,h,v,u,d,r){this._viewLineDataBrand=void 0,this.content=t,this.continuesWithWrappedLine=n,this.minColumn=h,this.maxColumn=v,this.startVisibleColumn=u,this.tokens=d,this.inlineDecorations=r}}e.ViewLineData=p;class w{constructor(t,n,h,v,u,d,r,l,o,g){this.minColumn=t,this.maxColumn=n,this.content=h,this.continuesWithWrappedLine=v,this.isBasicASCII=w.isBasicASCII(h,d),this.containsRTL=w.containsRTL(h,this.isBasicASCII,u),this.tokens=r,this.inlineDecorations=l,this.tabSize=o,this.startVisibleColumn=g}static isBasicASCII(t,n){return n?k.isBasicASCII(t):!0}static containsRTL(t,n,h){return!n&&h?k.containsRTL(t):!1}}e.ViewLineRenderingData=w;class C{constructor(t,n,h){this.range=t,this.inlineClassName=n,this.type=h}}e.InlineDecoration=C;class b{constructor(t,n,h,v){this.startOffset=t,this.endOffset=n,this.inlineClassName=h,this.inlineClassNameAffectsLetterSpacing=v}toInlineDecoration(t){return new C(new D.Range(t,this.startOffset+1,t,this.endOffset+1),this.inlineClassName,this.inlineClassNameAffectsLetterSpacing?3:0)}}e.SingleLineInlineDecoration=b;class a{constructor(t,n){this._viewModelDecorationBrand=void 0,this.range=t,this.options=n}}e.ViewModelDecoration=a;class s{constructor(t,n,h){this.color=t,this.zIndex=n,this.data=h}static compareByRenderingProps(t,n){return t.zIndex===n.zIndex?t.color<n.color?-1:t.color>n.color?1:0:t.zIndex-n.zIndex}static equals(t,n){return t.color===n.color&&t.zIndex===n.zIndex&&m.equals(t.data,n.data)}static equalsArr(t,n){return m.equals(t,n,s.equals)}}e.OverviewRulerDecorationsGroup=s}),define(te[572],ie([1,0,43]),function(J,e,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GlyphMarginLanesModel=void 0;const k=m.GlyphMarginLane.Right;class D{constructor(y){this.persist=0,this._requiredLanes=1,this.lanes=new Uint8Array(Math.ceil((y+1)*k/8))}reset(y){const p=Math.ceil((y+1)*k/8);this.lanes.length<p?this.lanes=new Uint8Array(p):this.lanes.fill(0),this._requiredLanes=1}get requiredLanes(){return this._requiredLanes}push(y,p,w){w&&(this.persist|=1<<y-1);for(let C=p.startLineNumber;C<=p.endLineNumber;C++){const b=k*C+(y-1);this.lanes[b>>>3]|=1<<b%8,this._requiredLanes=Math.max(this._requiredLanes,this.countAtLine(C))}}getLanesAtLine(y){const p=[];let w=k*y;for(let C=0;C<k;C++)(this.persist&1<<C||this.lanes[w>>>3]&1<<w%8)&&p.push(C+1),w++;return p.length?p:[m.GlyphMarginLane.Center]}countAtLine(y){let p=k*y,w=0;for(let C=0;C<k;C++)(this.persist&1<<C||this.lanes[p>>>3]&1<<p%8)&&w++,p++;return w}}e.GlyphMarginLanesModel=D}),define(te[573],ie([1,0,102,9,125,90]),function(J,e,m,k,D,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createModelLineProjection=y;function y(i,t){return i===null?t?w.INSTANCE:C.INSTANCE:new p(i,t)}class p{constructor(t,n){this._projectionData=t,this._isVisible=n}isVisible(){return this._isVisible}setVisible(t){return this._isVisible=t,this}getProjectionData(){return this._projectionData}getViewLineCount(){return this._isVisible?this._projectionData.getOutputLineCount():0}getViewLineContent(t,n,h){this._assertVisible();const v=h>0?this._projectionData.breakOffsets[h-1]:0,u=this._projectionData.breakOffsets[h];let d;if(this._projectionData.injectionOffsets!==null){const r=this._projectionData.injectionOffsets.map((o,g)=>new D.LineInjectedText(0,0,o+1,this._projectionData.injectionOptions[g],0));d=D.LineInjectedText.applyInjectedText(t.getLineContent(n),r).substring(v,u)}else d=t.getValueInRange({startLineNumber:n,startColumn:v+1,endLineNumber:n,endColumn:u+1});return h>0&&(d=a(this._projectionData.wrappedTextIndentLength)+d),d}getViewLineLength(t,n,h){return this._assertVisible(),this._projectionData.getLineLength(h)}getViewLineMinColumn(t,n,h){return this._assertVisible(),this._projectionData.getMinOutputOffset(h)+1}getViewLineMaxColumn(t,n,h){return this._assertVisible(),this._projectionData.getMaxOutputOffset(h)+1}getViewLineData(t,n,h){const v=new Array;return this.getViewLinesData(t,n,h,1,0,[!0],v),v[0]}getViewLinesData(t,n,h,v,u,d,r){this._assertVisible();const l=this._projectionData,o=l.injectionOffsets,g=l.injectionOptions;let c=null;if(o){c=[];let _=0,S=0;for(let I=0;I<l.getOutputLineCount();I++){const E=new Array;c[I]=E;const T=I>0?l.breakOffsets[I-1]:0,N=l.breakOffsets[I];for(;S<o.length;){const A=g[S].content.length,O=o[S]+_,M=O+A;if(O>N)break;if(T<M){const P=g[S];if(P.inlineClassName){const x=I>0?l.wrappedTextIndentLength:0,R=x+Math.max(O-T,0),B=x+Math.min(M-T,N-T);R!==B&&E.push(new L.SingleLineInlineDecoration(R,B,P.inlineClassName,P.inlineClassNameAffectsLetterSpacing))}}if(M<=N)_+=A,S++;else break}}}let f;o?f=t.tokenization.getLineTokens(n).withInserted(o.map((_,S)=>({offset:_,text:g[S].content,tokenMetadata:m.LineTokens.defaultTokenMetadata}))):f=t.tokenization.getLineTokens(n);for(let _=h;_<h+v;_++){const S=u+_-h;if(!d[S]){r[S]=null;continue}r[S]=this._getViewLineData(f,c?c[_]:null,_)}}_getViewLineData(t,n,h){this._assertVisible();const v=this._projectionData,u=h>0?v.wrappedTextIndentLength:0,d=h>0?v.breakOffsets[h-1]:0,r=v.breakOffsets[h],l=t.sliceAndInflate(d,r,u);let o=l.getLineContent();h>0&&(o=a(v.wrappedTextIndentLength)+o);const g=this._projectionData.getMinOutputOffset(h)+1,c=o.length+1,f=h+1<this.getViewLineCount(),_=h===0?0:v.breakOffsetsVisibleColumn[h-1];return new L.ViewLineData(o,f,g,c,_,l,n)}getModelColumnOfViewPosition(t,n){return this._assertVisible(),this._projectionData.translateToInputOffset(t,n-1)+1}getViewPositionOfModelPosition(t,n,h=2){return this._assertVisible(),this._projectionData.translateToOutputPosition(n-1,h).toPosition(t)}getViewLineNumberOfModelPosition(t,n){this._assertVisible();const h=this._projectionData.translateToOutputPosition(n-1);return t+h.outputLineIndex}normalizePosition(t,n,h){const v=n.lineNumber-t;return this._projectionData.normalizeOutputPosition(t,n.column-1,h).toPosition(v)}getInjectedTextAt(t,n){return this._projectionData.getInjectedText(t,n-1)}_assertVisible(){if(!this._isVisible)throw new Error("Not supported")}}class w{constructor(){}isVisible(){return!0}setVisible(t){return t?this:C.INSTANCE}getProjectionData(){return null}getViewLineCount(){return 1}getViewLineContent(t,n,h){return t.getLineContent(n)}getViewLineLength(t,n,h){return t.getLineLength(n)}getViewLineMinColumn(t,n,h){return t.getLineMinColumn(n)}getViewLineMaxColumn(t,n,h){return t.getLineMaxColumn(n)}getViewLineData(t,n,h){const v=t.tokenization.getLineTokens(n),u=v.getLineContent();return new L.ViewLineData(u,!1,1,u.length+1,0,v.inflate(),null)}getViewLinesData(t,n,h,v,u,d,r){if(!d[u]){r[u]=null;return}r[u]=this.getViewLineData(t,n,0)}getModelColumnOfViewPosition(t,n){return n}getViewPositionOfModelPosition(t,n){return new k.Position(t,n)}getViewLineNumberOfModelPosition(t,n){return t}normalizePosition(t,n,h){return n}getInjectedTextAt(t,n){return null}}w.INSTANCE=new w;class C{constructor(){}isVisible(){return!1}setVisible(t){return t?w.INSTANCE:this}getProjectionData(){return null}getViewLineCount(){return 0}getViewLineContent(t,n,h){throw new Error("Not supported")}getViewLineLength(t,n,h){throw new Error("Not supported")}getViewLineMinColumn(t,n,h){throw new Error("Not supported")}getViewLineMaxColumn(t,n,h){throw new Error("Not supported")}getViewLineData(t,n,h){throw new Error("Not supported")}getViewLinesData(t,n,h,v,u,d,r){throw new Error("Not supported")}getModelColumnOfViewPosition(t,n){throw new Error("Not supported")}getViewPositionOfModelPosition(t,n){throw new Error("Not supported")}getViewLineNumberOfModelPosition(t,n){throw new Error("Not supported")}normalizePosition(t,n,h){throw new Error("Not supported")}getInjectedTextAt(t,n){throw new Error("Not supported")}}C.INSTANCE=new C;const b=[""];function a(i){if(i>=b.length)for(let t=1;t<=i;t++)b[t]=s(t);return b[i]}function s(i){return new Array(i+1).join(" ")}}),define(te[574],ie([1,0,11,138,125,312]),function(J,e,m,k,D,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MonospaceLineBreaksComputerFactory=void 0;class y{static create(v){return new y(v.get(134),v.get(133))}constructor(v,u){this.classifier=new p(v,u)}createLineBreaksComputer(v,u,d,r,l){const o=[],g=[],c=[];return{addRequest:(f,_,S)=>{o.push(f),g.push(_),c.push(S)},finalize:()=>{const f=v.typicalFullwidthCharacterWidth/v.typicalHalfwidthCharacterWidth,_=[];for(let S=0,I=o.length;S<I;S++){const E=g[S],T=c[S];T&&!T.injectionOptions&&!E?_[S]=b(this.classifier,T,o[S],u,d,f,r,l):_[S]=a(this.classifier,o[S],E,u,d,f,r,l)}return w.length=0,C.length=0,_}}}}e.MonospaceLineBreaksComputerFactory=y;class p extends k.CharacterClassifier{constructor(v,u){super(0);for(let d=0;d<v.length;d++)this.set(v.charCodeAt(d),1);for(let d=0;d<u.length;d++)this.set(u.charCodeAt(d),2)}get(v){return v>=0&&v<256?this._asciiMap[v]:v>=12352&&v<=12543||v>=13312&&v<=19903||v>=19968&&v<=40959?3:this._map.get(v)||this._defaultValue}}let w=[],C=[];function b(h,v,u,d,r,l,o,g){if(r===-1)return null;const c=u.length;if(c<=1)return null;const f=g==="keepAll",_=v.breakOffsets,S=v.breakOffsetsVisibleColumn,I=n(u,d,r,l,o),E=r-I,T=w,N=C;let A=0,O=0,M=0,P=r;const x=_.length;let R=0;if(R>=0){let B=Math.abs(S[R]-P);for(;R+1<x;){const H=Math.abs(S[R+1]-P);if(H>=B)break;B=H,R++}}for(;R<x;){let B=R<0?0:_[R],H=R<0?0:S[R];O>B&&(B=O,H=M);let V=0,q=0,K=0,U=0;if(H<=P){let se=H,F=B===0?0:u.charCodeAt(B-1),X=B===0?0:h.get(F),Q=!0;for(let Z=B;Z<c;Z++){const ae=Z,ue=u.charCodeAt(Z);let ge,fe;if(m.isHighSurrogate(ue)?(Z++,ge=0,fe=2):(ge=h.get(ue),fe=s(ue,se,d,l)),ae>O&&t(F,X,ue,ge,f)&&(V=ae,q=se),se+=fe,se>P){ae>O?(K=ae,U=se-fe):(K=Z+1,U=se),se-q>E&&(V=0),Q=!1;break}F=ue,X=ge}if(Q){A>0&&(T[A]=_[_.length-1],N[A]=S[_.length-1],A++);break}}if(V===0){let se=H,F=u.charCodeAt(B),X=h.get(F),Q=!1;for(let Z=B-1;Z>=O;Z--){const ae=Z+1,ue=u.charCodeAt(Z);if(ue===9){Q=!0;break}let ge,fe;if(m.isLowSurrogate(ue)?(Z--,ge=0,fe=2):(ge=h.get(ue),fe=m.isFullWidthCharacter(ue)?l:1),se<=P){if(K===0&&(K=ae,U=se),se<=P-E)break;if(t(ue,ge,F,X,f)){V=ae,q=se;break}}se-=fe,F=ue,X=ge}if(V!==0){const Z=E-(U-q);if(Z<=d){const ae=u.charCodeAt(K);let ue;m.isHighSurrogate(ae)?ue=2:ue=s(ae,U,d,l),Z-ue<0&&(V=0)}}if(Q){R--;continue}}if(V===0&&(V=K,q=U),V<=O){const se=u.charCodeAt(O);m.isHighSurrogate(se)?(V=O+2,q=M+2):(V=O+1,q=M+s(se,M,d,l))}for(O=V,T[A]=V,M=q,N[A]=q,A++,P=q+E;R<0||R<x&&S[R]<q;)R++;let $=Math.abs(S[R]-P);for(;R+1<x;){const se=Math.abs(S[R+1]-P);if(se>=$)break;$=se,R++}}return A===0?null:(T.length=A,N.length=A,w=v.breakOffsets,C=v.breakOffsetsVisibleColumn,v.breakOffsets=T,v.breakOffsetsVisibleColumn=N,v.wrappedTextIndentLength=I,v)}function a(h,v,u,d,r,l,o,g){const c=D.LineInjectedText.applyInjectedText(v,u);let f,_;if(u&&u.length>0?(f=u.map(q=>q.options),_=u.map(q=>q.column-1)):(f=null,_=null),r===-1)return f?new L.ModelLineProjectionData(_,f,[c.length],[],0):null;const S=c.length;if(S<=1)return f?new L.ModelLineProjectionData(_,f,[c.length],[],0):null;const I=g==="keepAll",E=n(c,d,r,l,o),T=r-E,N=[],A=[];let O=0,M=0,P=0,x=r,R=c.charCodeAt(0),B=h.get(R),H=s(R,0,d,l),V=1;m.isHighSurrogate(R)&&(H+=1,R=c.charCodeAt(1),B=h.get(R),V++);for(let q=V;q<S;q++){const K=q,U=c.charCodeAt(q);let $,se;m.isHighSurrogate(U)?(q++,$=0,se=2):($=h.get(U),se=s(U,H,d,l)),t(R,B,U,$,I)&&(M=K,P=H),H+=se,H>x&&((M===0||H-P>T)&&(M=K,P=H-se),N[O]=M,A[O]=P,O++,x=P+T,M=0),R=U,B=$}return O===0&&(!u||u.length===0)?null:(N[O]=S,A[O]=H,new L.ModelLineProjectionData(_,f,N,A,E))}function s(h,v,u,d){return h===9?u-v%u:m.isFullWidthCharacter(h)||h<32?d:1}function i(h,v){return v-h%v}function t(h,v,u,d,r){return u!==32&&(v===2&&d!==2||v!==1&&d===1||!r&&v===3&&d!==2||!r&&d===3&&v!==1)}function n(h,v,u,d,r){let l=0;if(r!==0){const o=m.firstNonWhitespaceIndex(h);if(o!==-1){for(let c=0;c<o;c++){const f=h.charCodeAt(c)===9?i(l,v):1;l+=f}const g=r===3?2:r===2?1:0;for(let c=0;c<g;c++){const f=i(l,v);l+=f}l+d>u&&(l=0)}}return l}}),define(te[318],ie([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OverviewZoneManager=e.OverviewRulerZone=e.ColorZone=void 0;class m{constructor(y,p,w){this._colorZoneBrand=void 0,this.from=y|0,this.to=p|0,this.colorId=w|0}static compare(y,p){return y.colorId===p.colorId?y.from===p.from?y.to-p.to:y.from-p.from:y.colorId-p.colorId}}e.ColorZone=m;class k{constructor(y,p,w,C){this._overviewRulerZoneBrand=void 0,this.startLineNumber=y,this.endLineNumber=p,this.heightInLines=w,this.color=C,this._colorZone=null}static compare(y,p){return y.color===p.color?y.startLineNumber===p.startLineNumber?y.heightInLines===p.heightInLines?y.endLineNumber-p.endLineNumber:y.heightInLines-p.heightInLines:y.startLineNumber-p.startLineNumber:y.color<p.color?-1:1}setColorZone(y){this._colorZone=y}getColorZones(){return this._colorZone}}e.OverviewRulerZone=k;class D{constructor(y){this._getVerticalOffsetForLine=y,this._zones=[],this._colorZonesInvalid=!1,this._lineHeight=0,this._domWidth=0,this._domHeight=0,this._outerHeight=0,this._pixelRatio=1,this._lastAssignedId=0,this._color2Id=Object.create(null),this._id2Color=[]}getId2Color(){return this._id2Color}setZones(y){this._zones=y,this._zones.sort(k.compare)}setLineHeight(y){return this._lineHeight===y?!1:(this._lineHeight=y,this._colorZonesInvalid=!0,!0)}setPixelRatio(y){this._pixelRatio=y,this._colorZonesInvalid=!0}getDOMWidth(){return this._domWidth}getCanvasWidth(){return this._domWidth*this._pixelRatio}setDOMWidth(y){return this._domWidth===y?!1:(this._domWidth=y,this._colorZonesInvalid=!0,!0)}getDOMHeight(){return this._domHeight}getCanvasHeight(){return this._domHeight*this._pixelRatio}setDOMHeight(y){return this._domHeight===y?!1:(this._domHeight=y,this._colorZonesInvalid=!0,!0)}getOuterHeight(){return this._outerHeight}setOuterHeight(y){return this._outerHeight===y?!1:(this._outerHeight=y,this._colorZonesInvalid=!0,!0)}resolveColorZones(){const y=this._colorZonesInvalid,p=Math.floor(this._lineHeight),w=Math.floor(this.getCanvasHeight()),C=Math.floor(this._outerHeight),b=w/C,a=Math.floor(4*this._pixelRatio/2),s=[];for(let i=0,t=this._zones.length;i<t;i++){const n=this._zones[i];if(!y){const f=n.getColorZones();if(f){s.push(f);continue}}const h=this._getVerticalOffsetForLine(n.startLineNumber),v=n.heightInLines===0?this._getVerticalOffsetForLine(n.endLineNumber)+p:h+n.heightInLines*p,u=Math.floor(b*h),d=Math.floor(b*v);let r=Math.floor((u+d)/2),l=d-r;l<a&&(l=a),r-l<0&&(r=l),r+l>w&&(r=w-l);const o=n.color;let g=this._color2Id[o];g||(g=++this._lastAssignedId,this._color2Id[o]=g,this._id2Color[g]=o);const c=new m(r-l,r+l,g);n.setColorZone(c),s.push(c)}return this._colorZonesInvalid=!1,s.sort(m.compare),s}}e.OverviewZoneManager=D}),define(te[575],ie([1,0,40,318,163]),function(J,e,m,k,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OverviewRuler=void 0;class L extends D.ViewEventHandler{constructor(p,w){super(),this._context=p;const C=this._context.configuration.options;this._domNode=(0,m.createFastDomNode)(document.createElement("canvas")),this._domNode.setClassName(w),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._zoneManager=new k.OverviewZoneManager(b=>this._context.viewLayout.getVerticalOffsetForLineNumber(b)),this._zoneManager.setDOMWidth(0),this._zoneManager.setDOMHeight(0),this._zoneManager.setOuterHeight(this._context.viewLayout.getScrollHeight()),this._zoneManager.setLineHeight(C.get(67)),this._zoneManager.setPixelRatio(C.get(143)),this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}onConfigurationChanged(p){const w=this._context.configuration.options;return p.hasChanged(67)&&(this._zoneManager.setLineHeight(w.get(67)),this._render()),p.hasChanged(143)&&(this._zoneManager.setPixelRatio(w.get(143)),this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render()),!0}onFlushed(p){return this._render(),!0}onScrollChanged(p){return p.scrollHeightChanged&&(this._zoneManager.setOuterHeight(p.scrollHeight),this._render()),!0}onZonesChanged(p){return this._render(),!0}getDomNode(){return this._domNode.domNode}setLayout(p){this._domNode.setTop(p.top),this._domNode.setRight(p.right);let w=!1;w=this._zoneManager.setDOMWidth(p.width)||w,w=this._zoneManager.setDOMHeight(p.height)||w,w&&(this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render())}setZones(p){this._zoneManager.setZones(p),this._render()}_render(){if(this._zoneManager.getOuterHeight()===0)return!1;const p=this._zoneManager.getCanvasWidth(),w=this._zoneManager.getCanvasHeight(),C=this._zoneManager.resolveColorZones(),b=this._zoneManager.getId2Color(),a=this._domNode.domNode.getContext("2d");return a.clearRect(0,0,p,w),C.length>0&&this._renderOneLane(a,C,b,p),!0}_renderOneLane(p,w,C,b){let a=0,s=0,i=0;for(const t of w){const n=t.colorId,h=t.from,v=t.to;n!==a?(p.fillRect(0,s,b,i-s),a=n,p.fillStyle=C[a],s=h,i=v):i>=h?i=Math.max(i,v):(p.fillRect(0,s,b,i-s),s=h,i=v)}p.fillRect(0,s,b,i-s)}}e.OverviewRuler=L}),define(te[576],ie([1,0,532]),function(J,e,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewContext=void 0;class k{constructor(L,y,p){this.configuration=L,this.theme=new m.EditorTheme(y),this.viewModel=p,this.viewLayout=p.viewLayout}addEventHandler(L){this.viewModel.addViewEventHandler(L)}removeEventHandler(L){this.viewModel.removeViewEventHandler(L)}}e.ViewContext=k}),define(te[231],ie([1,0,7,2]),function(J,e,m,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ModelTokensChangedEvent=e.ModelOptionsChangedEvent=e.ModelContentChangedEvent=e.ModelLanguageConfigurationChangedEvent=e.ModelLanguageChangedEvent=e.ModelDecorationsChangedEvent=e.ReadOnlyEditAttemptEvent=e.CursorStateChangedEvent=e.HiddenAreasChangedEvent=e.ViewZonesChangedEvent=e.ScrollChangedEvent=e.FocusChangedEvent=e.ContentSizeChangedEvent=e.ViewModelEventsCollector=e.ViewModelEventDispatcher=void 0;class D extends k.Disposable{constructor(){super(),this._onEvent=this._register(new m.Emitter),this.onEvent=this._onEvent.event,this._eventHandlers=[],this._viewEventQueue=null,this._isConsumingViewEventQueue=!1,this._collector=null,this._collectorCnt=0,this._outgoingEvents=[]}emitOutgoingEvent(r){this._addOutgoingEvent(r),this._emitOutgoingEvents()}_addOutgoingEvent(r){for(let l=0,o=this._outgoingEvents.length;l<o;l++){const g=this._outgoingEvents[l].kind===r.kind?this._outgoingEvents[l].attemptToMerge(r):null;if(g){this._outgoingEvents[l]=g;return}}this._outgoingEvents.push(r)}_emitOutgoingEvents(){for(;this._outgoingEvents.length>0;){if(this._collector||this._isConsumingViewEventQueue)return;const r=this._outgoingEvents.shift();r.isNoOp()||this._onEvent.fire(r)}}addViewEventHandler(r){for(let l=0,o=this._eventHandlers.length;l<o;l++)this._eventHandlers[l]===r&&console.warn("Detected duplicate listener in ViewEventDispatcher",r);this._eventHandlers.push(r)}removeViewEventHandler(r){for(let l=0;l<this._eventHandlers.length;l++)if(this._eventHandlers[l]===r){this._eventHandlers.splice(l,1);break}}beginEmitViewEvents(){return this._collectorCnt++,this._collectorCnt===1&&(this._collector=new L),this._collector}endEmitViewEvents(){if(this._collectorCnt--,this._collectorCnt===0){const r=this._collector.outgoingEvents,l=this._collector.viewEvents;this._collector=null;for(const o of r)this._addOutgoingEvent(o);l.length>0&&this._emitMany(l)}this._emitOutgoingEvents()}emitSingleViewEvent(r){try{this.beginEmitViewEvents().emitViewEvent(r)}finally{this.endEmitViewEvents()}}_emitMany(r){this._viewEventQueue?this._viewEventQueue=this._viewEventQueue.concat(r):this._viewEventQueue=r,this._isConsumingViewEventQueue||this._consumeViewEventQueue()}_consumeViewEventQueue(){try{this._isConsumingViewEventQueue=!0,this._doConsumeQueue()}finally{this._isConsumingViewEventQueue=!1}}_doConsumeQueue(){for(;this._viewEventQueue;){const r=this._viewEventQueue;this._viewEventQueue=null;const l=this._eventHandlers.slice(0);for(const o of l)o.handleEvents(r)}}}e.ViewModelEventDispatcher=D;class L{constructor(){this.viewEvents=[],this.outgoingEvents=[]}emitViewEvent(r){this.viewEvents.push(r)}emitOutgoingEvent(r){this.outgoingEvents.push(r)}}e.ViewModelEventsCollector=L;class y{constructor(r,l,o,g){this.kind=0,this._oldContentWidth=r,this._oldContentHeight=l,this.contentWidth=o,this.contentHeight=g,this.contentWidthChanged=this._oldContentWidth!==this.contentWidth,this.contentHeightChanged=this._oldContentHeight!==this.contentHeight}isNoOp(){return!this.contentWidthChanged&&!this.contentHeightChanged}attemptToMerge(r){return r.kind!==this.kind?null:new y(this._oldContentWidth,this._oldContentHeight,r.contentWidth,r.contentHeight)}}e.ContentSizeChangedEvent=y;class p{constructor(r,l){this.kind=1,this.oldHasFocus=r,this.hasFocus=l}isNoOp(){return this.oldHasFocus===this.hasFocus}attemptToMerge(r){return r.kind!==this.kind?null:new p(this.oldHasFocus,r.hasFocus)}}e.FocusChangedEvent=p;class w{constructor(r,l,o,g,c,f,_,S){this.kind=2,this._oldScrollWidth=r,this._oldScrollLeft=l,this._oldScrollHeight=o,this._oldScrollTop=g,this.scrollWidth=c,this.scrollLeft=f,this.scrollHeight=_,this.scrollTop=S,this.scrollWidthChanged=this._oldScrollWidth!==this.scrollWidth,this.scrollLeftChanged=this._oldScrollLeft!==this.scrollLeft,this.scrollHeightChanged=this._oldScrollHeight!==this.scrollHeight,this.scrollTopChanged=this._oldScrollTop!==this.scrollTop}isNoOp(){return!this.scrollWidthChanged&&!this.scrollLeftChanged&&!this.scrollHeightChanged&&!this.scrollTopChanged}attemptToMerge(r){return r.kind!==this.kind?null:new w(this._oldScrollWidth,this._oldScrollLeft,this._oldScrollHeight,this._oldScrollTop,r.scrollWidth,r.scrollLeft,r.scrollHeight,r.scrollTop)}}e.ScrollChangedEvent=w;class C{constructor(){this.kind=3}isNoOp(){return!1}attemptToMerge(r){return r.kind!==this.kind?null:this}}e.ViewZonesChangedEvent=C;class b{constructor(){this.kind=4}isNoOp(){return!1}attemptToMerge(r){return r.kind!==this.kind?null:this}}e.HiddenAreasChangedEvent=b;class a{constructor(r,l,o,g,c,f,_){this.kind=6,this.oldSelections=r,this.selections=l,this.oldModelVersionId=o,this.modelVersionId=g,this.source=c,this.reason=f,this.reachedMaxCursorCount=_}static _selectionsAreEqual(r,l){if(!r&&!l)return!0;if(!r||!l)return!1;const o=r.length,g=l.length;if(o!==g)return!1;for(let c=0;c<o;c++)if(!r[c].equalsSelection(l[c]))return!1;return!0}isNoOp(){return a._selectionsAreEqual(this.oldSelections,this.selections)&&this.oldModelVersionId===this.modelVersionId}attemptToMerge(r){return r.kind!==this.kind?null:new a(this.oldSelections,r.selections,this.oldModelVersionId,r.modelVersionId,r.source,r.reason,this.reachedMaxCursorCount||r.reachedMaxCursorCount)}}e.CursorStateChangedEvent=a;class s{constructor(){this.kind=5}isNoOp(){return!1}attemptToMerge(r){return r.kind!==this.kind?null:this}}e.ReadOnlyEditAttemptEvent=s;class i{constructor(r){this.event=r,this.kind=7}isNoOp(){return!1}attemptToMerge(r){return null}}e.ModelDecorationsChangedEvent=i;class t{constructor(r){this.event=r,this.kind=8}isNoOp(){return!1}attemptToMerge(r){return null}}e.ModelLanguageChangedEvent=t;class n{constructor(r){this.event=r,this.kind=9}isNoOp(){return!1}attemptToMerge(r){return null}}e.ModelLanguageConfigurationChangedEvent=n;class h{constructor(r){this.event=r,this.kind=10}isNoOp(){return!1}attemptToMerge(r){return null}}e.ModelContentChangedEvent=h;class v{constructor(r){this.event=r,this.kind=11}isNoOp(){return!1}attemptToMerge(r){return null}}e.ModelOptionsChangedEvent=v;class u{constructor(r){this.event=r,this.kind=12}isNoOp(){return!1}attemptToMerge(r){return null}}e.ModelTokensChangedEvent=u}),define(te[577],ie([1,0,7,2,156,570,90,231]),function(J,e,m,k,D,L,y,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewLayout=void 0;const w=125;class C{constructor(i,t,n,h){i=i|0,t=t|0,n=n|0,h=h|0,i<0&&(i=0),t<0&&(t=0),n<0&&(n=0),h<0&&(h=0),this.width=i,this.contentWidth=t,this.scrollWidth=Math.max(i,t),this.height=n,this.contentHeight=h,this.scrollHeight=Math.max(n,h)}equals(i){return this.width===i.width&&this.contentWidth===i.contentWidth&&this.height===i.height&&this.contentHeight===i.contentHeight}}class b extends k.Disposable{constructor(i,t){super(),this._onDidContentSizeChange=this._register(new m.Emitter),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._dimensions=new C(0,0,0,0),this._scrollable=this._register(new D.Scrollable({forceIntegerValues:!0,smoothScrollDuration:i,scheduleAtNextAnimationFrame:t})),this.onDidScroll=this._scrollable.onScroll}getScrollable(){return this._scrollable}setSmoothScrollDuration(i){this._scrollable.setSmoothScrollDuration(i)}validateScrollPosition(i){return this._scrollable.validateScrollPosition(i)}getScrollDimensions(){return this._dimensions}setScrollDimensions(i){if(this._dimensions.equals(i))return;const t=this._dimensions;this._dimensions=i,this._scrollable.setScrollDimensions({width:i.width,scrollWidth:i.scrollWidth,height:i.height,scrollHeight:i.scrollHeight},!0);const n=t.contentWidth!==i.contentWidth,h=t.contentHeight!==i.contentHeight;(n||h)&&this._onDidContentSizeChange.fire(new p.ContentSizeChangedEvent(t.contentWidth,t.contentHeight,i.contentWidth,i.contentHeight))}getFutureScrollPosition(){return this._scrollable.getFutureScrollPosition()}getCurrentScrollPosition(){return this._scrollable.getCurrentScrollPosition()}setScrollPositionNow(i){this._scrollable.setScrollPositionNow(i)}setScrollPositionSmooth(i){this._scrollable.setScrollPositionSmooth(i)}hasPendingScrollAnimation(){return this._scrollable.hasPendingScrollAnimation()}}class a extends k.Disposable{constructor(i,t,n){super(),this._configuration=i;const h=this._configuration.options,v=h.get(145),u=h.get(84);this._linesLayout=new L.LinesLayout(t,h.get(67),u.top,u.bottom),this._maxLineWidth=0,this._overlayWidgetsMinWidth=0,this._scrollable=this._register(new b(0,n)),this._configureSmoothScrollDuration(),this._scrollable.setScrollDimensions(new C(v.contentWidth,0,v.height,0)),this.onDidScroll=this._scrollable.onDidScroll,this.onDidContentSizeChange=this._scrollable.onDidContentSizeChange,this._updateHeight()}dispose(){super.dispose()}getScrollable(){return this._scrollable.getScrollable()}onHeightMaybeChanged(){this._updateHeight()}_configureSmoothScrollDuration(){this._scrollable.setSmoothScrollDuration(this._configuration.options.get(114)?w:0)}onConfigurationChanged(i){const t=this._configuration.options;if(i.hasChanged(67)&&this._linesLayout.setLineHeight(t.get(67)),i.hasChanged(84)){const n=t.get(84);this._linesLayout.setPadding(n.top,n.bottom)}if(i.hasChanged(145)){const n=t.get(145),h=n.contentWidth,v=n.height,u=this._scrollable.getScrollDimensions(),d=u.contentWidth;this._scrollable.setScrollDimensions(new C(h,u.contentWidth,v,this._getContentHeight(h,v,d)))}else this._updateHeight();i.hasChanged(114)&&this._configureSmoothScrollDuration()}onFlushed(i){this._linesLayout.onFlushed(i)}onLinesDeleted(i,t){this._linesLayout.onLinesDeleted(i,t)}onLinesInserted(i,t){this._linesLayout.onLinesInserted(i,t)}_getHorizontalScrollbarHeight(i,t){const h=this._configuration.options.get(103);return h.horizontal===2||i>=t?0:h.horizontalScrollbarSize}_getContentHeight(i,t,n){const h=this._configuration.options;let v=this._linesLayout.getLinesTotalHeight();return h.get(105)?v+=Math.max(0,t-h.get(67)-h.get(84).bottom):h.get(103).ignoreHorizontalScrollbarInContentHeight||(v+=this._getHorizontalScrollbarHeight(i,n)),v}_updateHeight(){const i=this._scrollable.getScrollDimensions(),t=i.width,n=i.height,h=i.contentWidth;this._scrollable.setScrollDimensions(new C(t,i.contentWidth,n,this._getContentHeight(t,n,h)))}getCurrentViewport(){const i=this._scrollable.getScrollDimensions(),t=this._scrollable.getCurrentScrollPosition();return new y.Viewport(t.scrollTop,t.scrollLeft,i.width,i.height)}getFutureViewport(){const i=this._scrollable.getScrollDimensions(),t=this._scrollable.getFutureScrollPosition();return new y.Viewport(t.scrollTop,t.scrollLeft,i.width,i.height)}_computeContentWidth(){const i=this._configuration.options,t=this._maxLineWidth,n=i.get(146),h=i.get(50),v=i.get(145);if(n.isViewportWrapping){const u=i.get(73);return t>v.contentWidth+h.typicalHalfwidthCharacterWidth&&u.enabled&&u.side==="right"?t+v.verticalScrollbarWidth:t}else{const u=i.get(104)*h.typicalHalfwidthCharacterWidth,d=this._linesLayout.getWhitespaceMinWidth();return Math.max(t+u+v.verticalScrollbarWidth,d,this._overlayWidgetsMinWidth)}}setMaxLineWidth(i){this._maxLineWidth=i,this._updateContentWidth()}setOverlayWidgetsMinWidth(i){this._overlayWidgetsMinWidth=i,this._updateContentWidth()}_updateContentWidth(){const i=this._scrollable.getScrollDimensions();this._scrollable.setScrollDimensions(new C(i.width,this._computeContentWidth(),i.height,i.contentHeight)),this._updateHeight()}saveState(){const i=this._scrollable.getFutureScrollPosition(),t=i.scrollTop,n=this._linesLayout.getLineNumberAtOrAfterVerticalOffset(t),h=this._linesLayout.getWhitespaceAccumulatedHeightBeforeLineNumber(n);return{scrollTop:t,scrollTopWithoutViewZones:t-h,scrollLeft:i.scrollLeft}}changeWhitespace(i){const t=this._linesLayout.changeWhitespace(i);return t&&this.onHeightMaybeChanged(),t}getVerticalOffsetForLineNumber(i,t=!1){return this._linesLayout.getVerticalOffsetForLineNumber(i,t)}getVerticalOffsetAfterLineNumber(i,t=!1){return this._linesLayout.getVerticalOffsetAfterLineNumber(i,t)}isAfterLines(i){return this._linesLayout.isAfterLines(i)}isInTopPadding(i){return this._linesLayout.isInTopPadding(i)}isInBottomPadding(i){return this._linesLayout.isInBottomPadding(i)}getLineNumberAtVerticalOffset(i){return this._linesLayout.getLineNumberAtOrAfterVerticalOffset(i)}getWhitespaceAtVerticalOffset(i){return this._linesLayout.getWhitespaceAtVerticalOffset(i)}getLinesViewportData(){const i=this.getCurrentViewport();return this._linesLayout.getLinesViewportData(i.top,i.top+i.height)}getLinesViewportDataAtScrollTop(i){const t=this._scrollable.getScrollDimensions();return i+t.height>t.scrollHeight&&(i=t.scrollHeight-t.height),i<0&&(i=0),this._linesLayout.getLinesViewportData(i,i+t.height)}getWhitespaceViewportData(){const i=this.getCurrentViewport();return this._linesLayout.getWhitespaceViewportData(i.top,i.top+i.height)}getWhitespaces(){return this._linesLayout.getWhitespaces()}getContentWidth(){return this._scrollable.getScrollDimensions().contentWidth}getScrollWidth(){return this._scrollable.getScrollDimensions().scrollWidth}getContentHeight(){return this._scrollable.getScrollDimensions().contentHeight}getScrollHeight(){return this._scrollable.getScrollDimensions().scrollHeight}getCurrentScrollLeft(){return this._scrollable.getCurrentScrollPosition().scrollLeft}getCurrentScrollTop(){return this._scrollable.getCurrentScrollPosition().scrollTop}validateScrollPosition(i){return this._scrollable.validateScrollPosition(i)}setScrollPosition(i,t){t===1?this._scrollable.setScrollPositionNow(i):this._scrollable.setScrollPositionSmooth(i)}hasPendingScrollAnimation(){return this._scrollable.hasPendingScrollAnimation()}deltaScrollNow(i,t){const n=this._scrollable.getCurrentScrollPosition();this._scrollable.setScrollPositionNow({scrollLeft:n.scrollLeft+i,scrollTop:n.scrollTop+t})}}e.ViewLayout=a}),define(te[578],ie([1,0,5,24]),function(J,e,m,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MoveCaretCommand=void 0;class D{constructor(y,p){this._selection=y,this._isMovingLeft=p}getEditOperations(y,p){if(this._selection.startLineNumber!==this._selection.endLineNumber||this._selection.isEmpty())return;const w=this._selection.startLineNumber,C=this._selection.startColumn,b=this._selection.endColumn;if(!(this._isMovingLeft&&C===1)&&!(!this._isMovingLeft&&b===y.getLineMaxColumn(w)))if(this._isMovingLeft){const a=new m.Range(w,C-1,w,C),s=y.getValueInRange(a);p.addEditOperation(a,null),p.addEditOperation(new m.Range(w,b,w,b),s)}else{const a=new m.Range(w,b,w,b+1),s=y.getValueInRange(a);p.addEditOperation(a,null),p.addEditOperation(new m.Range(w,C,w,C),s)}}computeCursorState(y,p){return this._isMovingLeft?new k.Selection(this._selection.startLineNumber,this._selection.startColumn-1,this._selection.endLineNumber,this._selection.endColumn-1):new k.Selection(this._selection.startLineNumber,this._selection.startColumn+1,this._selection.endLineNumber,this._selection.endColumn+1)}}e.MoveCaretCommand=D}),define(te[127],ie([1,0,12,94]),function(J,e,m,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeActionItem=e.CodeActionCommandArgs=e.CodeActionTriggerSource=e.CodeActionKind=void 0,e.mayIncludeActionsOfKind=L,e.filtersAction=y,e.CodeActionKind=new class{constructor(){this.QuickFix=new k.HierarchicalKind("quickfix"),this.Refactor=new k.HierarchicalKind("refactor"),this.RefactorExtract=this.Refactor.append("extract"),this.RefactorInline=this.Refactor.append("inline"),this.RefactorMove=this.Refactor.append("move"),this.RefactorRewrite=this.Refactor.append("rewrite"),this.Notebook=new k.HierarchicalKind("notebook"),this.Source=new k.HierarchicalKind("source"),this.SourceOrganizeImports=this.Source.append("organizeImports"),this.SourceFixAll=this.Source.append("fixAll"),this.SurroundWith=this.Refactor.append("surround")}};var D;(function(b){b.Refactor="refactor",b.RefactorPreview="refactor preview",b.Lightbulb="lightbulb",b.Default="other (default)",b.SourceAction="source action",b.QuickFix="quick fix action",b.FixAll="fix all",b.OrganizeImports="organize imports",b.AutoFix="auto fix",b.QuickFixHover="quick fix hover window",b.OnSave="save participants",b.ProblemsView="problems view"})(D||(e.CodeActionTriggerSource=D={}));function L(b,a){return!(b.include&&!b.include.intersects(a)||b.excludes&&b.excludes.some(s=>p(a,s,b.include))||!b.includeSourceActions&&e.CodeActionKind.Source.contains(a))}function y(b,a){const s=a.kind?new k.HierarchicalKind(a.kind):void 0;return!(b.include&&(!s||!b.include.contains(s))||b.excludes&&s&&b.excludes.some(i=>p(s,i,b.include))||!b.includeSourceActions&&s&&e.CodeActionKind.Source.contains(s)||b.onlyIncludePreferredActions&&!a.isPreferred)}function p(b,a,s){return!(!a.contains(b)||s&&a.contains(s))}class w{static fromUser(a,s){return!a||typeof a!="object"?new w(s.kind,s.apply,!1):new w(w.getKindFromUser(a,s.kind),w.getApplyFromUser(a,s.apply),w.getPreferredUser(a))}static getApplyFromUser(a,s){switch(typeof a.apply=="string"?a.apply.toLowerCase():""){case"first":return"first";case"never":return"never";case"ifsingle":return"ifSingle";default:return s}}static getKindFromUser(a,s){return typeof a.kind=="string"?new k.HierarchicalKind(a.kind):s}static getPreferredUser(a){return typeof a.preferred=="boolean"?a.preferred:!1}constructor(a,s,i){this.kind=a,this.apply=s,this.preferred=i}}e.CodeActionCommandArgs=w;class C{constructor(a,s,i){this.action=a,this.provider=s,this.highlightRange=i}async resolve(a){var s;if(!((s=this.provider)===null||s===void 0)&&s.resolveCodeAction&&!this.action.edit){let i;try{i=await this.provider.resolveCodeAction(this.action,a)}catch(t){(0,m.onUnexpectedExternalError)(t)}i&&(this.action.edit=i.edit)}return this}}e.CodeActionItem=C}),define(te[579],ie([1,0,7]),function(J,e,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorPickerModel=void 0;class k{get color(){return this._color}set color(L){this._color.equals(L)||(this._color=L,this._onDidChangeColor.fire(L))}get presentation(){return this.colorPresentations[this.presentationIndex]}get colorPresentations(){return this._colorPresentations}set colorPresentations(L){this._colorPresentations=L,this.presentationIndex>L.length-1&&(this.presentationIndex=0),this._onDidChangePresentation.fire(this.presentation)}constructor(L,y,p){this.presentationIndex=p,this._onColorFlushed=new m.Emitter,this.onColorFlushed=this._onColorFlushed.event,this._onDidChangeColor=new m.Emitter,this.onDidChangeColor=this._onDidChangeColor.event,this._onDidChangePresentation=new m.Emitter,this.onDidChangePresentation=this._onDidChangePresentation.event,this.originalColor=L,this._color=L,this._colorPresentations=y}selectNextColorPresentation(){this.presentationIndex=(this.presentationIndex+1)%this.colorPresentations.length,this.flushColor(),this._onDidChangePresentation.fire(this.presentation)}guessColorPresentation(L,y){let p=-1;for(let w=0;w<this.colorPresentations.length;w++)if(y.toLowerCase()===this.colorPresentations[w].label){p=w;break}if(p===-1){const w=y.split("(")[0].toLowerCase();for(let C=0;C<this.colorPresentations.length;C++)if(this.colorPresentations[C].label.toLowerCase().startsWith(w)){p=C;break}}p!==-1&&p!==this.presentationIndex&&(this.presentationIndex=p,this._onDidChangePresentation.fire(this.presentation))}flushColor(){this._onColorFlushed.fire(this._color)}}e.ColorPickerModel=k}),define(te[319],ie([1,0,71,9,5,24]),function(J,e,m,k,D,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BlockCommentCommand=void 0;class y{constructor(w,C,b){this.languageConfigurationService=b,this._selection=w,this._insertSpace=C,this._usedEndToken=null}static _haystackHasNeedleAtOffset(w,C,b){if(b<0)return!1;const a=C.length,s=w.length;if(b+a>s)return!1;for(let i=0;i<a;i++){const t=w.charCodeAt(b+i),n=C.charCodeAt(i);if(t!==n&&!(t>=65&&t<=90&&t+32===n)&&!(n>=65&&n<=90&&n+32===t))return!1}return!0}_createOperationsForBlockComment(w,C,b,a,s,i){const t=w.startLineNumber,n=w.startColumn,h=w.endLineNumber,v=w.endColumn,u=s.getLineContent(t),d=s.getLineContent(h);let r=u.lastIndexOf(C,n-1+C.length),l=d.indexOf(b,v-1-b.length);if(r!==-1&&l!==-1)if(t===h)u.substring(r+C.length,l).indexOf(b)>=0&&(r=-1,l=-1);else{const g=u.substring(r+C.length),c=d.substring(0,l);(g.indexOf(b)>=0||c.indexOf(b)>=0)&&(r=-1,l=-1)}let o;r!==-1&&l!==-1?(a&&r+C.length<u.length&&u.charCodeAt(r+C.length)===32&&(C=C+" "),a&&l>0&&d.charCodeAt(l-1)===32&&(b=" "+b,l-=1),o=y._createRemoveBlockCommentOperations(new D.Range(t,r+C.length+1,h,l+1),C,b)):(o=y._createAddBlockCommentOperations(w,C,b,this._insertSpace),this._usedEndToken=o.length===1?b:null);for(const g of o)i.addTrackedEditOperation(g.range,g.text)}static _createRemoveBlockCommentOperations(w,C,b){const a=[];return D.Range.isEmpty(w)?a.push(m.EditOperation.delete(new D.Range(w.startLineNumber,w.startColumn-C.length,w.endLineNumber,w.endColumn+b.length))):(a.push(m.EditOperation.delete(new D.Range(w.startLineNumber,w.startColumn-C.length,w.startLineNumber,w.startColumn))),a.push(m.EditOperation.delete(new D.Range(w.endLineNumber,w.endColumn,w.endLineNumber,w.endColumn+b.length)))),a}static _createAddBlockCommentOperations(w,C,b,a){const s=[];return D.Range.isEmpty(w)?s.push(m.EditOperation.replace(new D.Range(w.startLineNumber,w.startColumn,w.endLineNumber,w.endColumn),C+"  "+b)):(s.push(m.EditOperation.insert(new k.Position(w.startLineNumber,w.startColumn),C+(a?" ":""))),s.push(m.EditOperation.insert(new k.Position(w.endLineNumber,w.endColumn),(a?" ":"")+b))),s}getEditOperations(w,C){const b=this._selection.startLineNumber,a=this._selection.startColumn;w.tokenization.tokenizeIfCheap(b);const s=w.getLanguageIdAtPosition(b,a),i=this.languageConfigurationService.getLanguageConfiguration(s).comments;!i||!i.blockCommentStartToken||!i.blockCommentEndToken||this._createOperationsForBlockComment(this._selection,i.blockCommentStartToken,i.blockCommentEndToken,this._insertSpace,w,C)}computeCursorState(w,C){const b=C.getInverseEditOperations();if(b.length===2){const a=b[0],s=b[1];return new L.Selection(a.range.endLineNumber,a.range.endColumn,s.range.startLineNumber,s.range.startColumn)}else{const a=b[0].range,s=this._usedEndToken?-this._usedEndToken.length-1:0;return new L.Selection(a.endLineNumber,a.endColumn+s,a.endLineNumber,a.endColumn+s)}}}e.BlockCommentCommand=y}),define(te[580],ie([1,0,11,71,9,5,24,319]),function(J,e,m,k,D,L,y,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LineCommentCommand=void 0;class w{constructor(b,a,s,i,t,n,h){this.languageConfigurationService=b,this._selection=a,this._indentSize=s,this._type=i,this._insertSpace=t,this._selectionId=null,this._deltaColumn=0,this._moveEndPositionDown=!1,this._ignoreEmptyLines=n,this._ignoreFirstLine=h||!1}static _gatherPreflightCommentStrings(b,a,s,i){b.tokenization.tokenizeIfCheap(a);const t=b.getLanguageIdAtPosition(a,1),n=i.getLanguageConfiguration(t).comments,h=n?n.lineCommentToken:null;if(!h)return null;const v=[];for(let u=0,d=s-a+1;u<d;u++)v[u]={ignore:!1,commentStr:h,commentStrOffset:0,commentStrLength:h.length};return v}static _analyzeLines(b,a,s,i,t,n,h,v){let u=!0,d;b===0?d=!0:b===1?d=!1:d=!0;for(let r=0,l=i.length;r<l;r++){const o=i[r],g=t+r;if(g===t&&h){o.ignore=!0;continue}const c=s.getLineContent(g),f=m.firstNonWhitespaceIndex(c);if(f===-1){o.ignore=n,o.commentStrOffset=c.length;continue}if(u=!1,o.ignore=!1,o.commentStrOffset=f,d&&!p.BlockCommentCommand._haystackHasNeedleAtOffset(c,o.commentStr,f)&&(b===0?d=!1:b===1||(o.ignore=!0)),d&&a){const _=f+o.commentStrLength;_<c.length&&c.charCodeAt(_)===32&&(o.commentStrLength+=1)}}if(b===0&&u){d=!1;for(let r=0,l=i.length;r<l;r++)i[r].ignore=!1}return{supported:!0,shouldRemoveComments:d,lines:i}}static _gatherPreflightData(b,a,s,i,t,n,h,v){const u=w._gatherPreflightCommentStrings(s,i,t,v);return u===null?{supported:!1}:w._analyzeLines(b,a,s,u,i,n,h,v)}_executeLineComments(b,a,s,i){let t;s.shouldRemoveComments?t=w._createRemoveLineCommentsOperations(s.lines,i.startLineNumber):(w._normalizeInsertionPoint(b,s.lines,i.startLineNumber,this._indentSize),t=this._createAddLineCommentsOperations(s.lines,i.startLineNumber));const n=new D.Position(i.positionLineNumber,i.positionColumn);for(let h=0,v=t.length;h<v;h++)a.addEditOperation(t[h].range,t[h].text),L.Range.isEmpty(t[h].range)&&L.Range.getStartPosition(t[h].range).equals(n)&&b.getLineContent(n.lineNumber).length+1===n.column&&(this._deltaColumn=(t[h].text||"").length);this._selectionId=a.trackSelection(i)}_attemptRemoveBlockComment(b,a,s,i){let t=a.startLineNumber,n=a.endLineNumber;const h=i.length+Math.max(b.getLineFirstNonWhitespaceColumn(a.startLineNumber),a.startColumn);let v=b.getLineContent(t).lastIndexOf(s,h-1),u=b.getLineContent(n).indexOf(i,a.endColumn-1-s.length);return v!==-1&&u===-1&&(u=b.getLineContent(t).indexOf(i,v+s.length),n=t),v===-1&&u!==-1&&(v=b.getLineContent(n).lastIndexOf(s,u),t=n),a.isEmpty()&&(v===-1||u===-1)&&(v=b.getLineContent(t).indexOf(s),v!==-1&&(u=b.getLineContent(t).indexOf(i,v+s.length))),v!==-1&&b.getLineContent(t).charCodeAt(v+s.length)===32&&(s+=" "),u!==-1&&b.getLineContent(n).charCodeAt(u-1)===32&&(i=" "+i,u-=1),v!==-1&&u!==-1?p.BlockCommentCommand._createRemoveBlockCommentOperations(new L.Range(t,v+s.length+1,n,u+1),s,i):null}_executeBlockComment(b,a,s){b.tokenization.tokenizeIfCheap(s.startLineNumber);const i=b.getLanguageIdAtPosition(s.startLineNumber,1),t=this.languageConfigurationService.getLanguageConfiguration(i).comments;if(!t||!t.blockCommentStartToken||!t.blockCommentEndToken)return;const n=t.blockCommentStartToken,h=t.blockCommentEndToken;let v=this._attemptRemoveBlockComment(b,s,n,h);if(!v){if(s.isEmpty()){const u=b.getLineContent(s.startLineNumber);let d=m.firstNonWhitespaceIndex(u);d===-1&&(d=u.length),v=p.BlockCommentCommand._createAddBlockCommentOperations(new L.Range(s.startLineNumber,d+1,s.startLineNumber,u.length+1),n,h,this._insertSpace)}else v=p.BlockCommentCommand._createAddBlockCommentOperations(new L.Range(s.startLineNumber,b.getLineFirstNonWhitespaceColumn(s.startLineNumber),s.endLineNumber,b.getLineMaxColumn(s.endLineNumber)),n,h,this._insertSpace);v.length===1&&(this._deltaColumn=n.length+1)}this._selectionId=a.trackSelection(s);for(const u of v)a.addEditOperation(u.range,u.text)}getEditOperations(b,a){let s=this._selection;if(this._moveEndPositionDown=!1,s.startLineNumber===s.endLineNumber&&this._ignoreFirstLine){a.addEditOperation(new L.Range(s.startLineNumber,b.getLineMaxColumn(s.startLineNumber),s.startLineNumber+1,1),s.startLineNumber===b.getLineCount()?"":`
`),this._selectionId=a.trackSelection(s);return}s.startLineNumber<s.endLineNumber&&s.endColumn===1&&(this._moveEndPositionDown=!0,s=s.setEndPosition(s.endLineNumber-1,b.getLineMaxColumn(s.endLineNumber-1)));const i=w._gatherPreflightData(this._type,this._insertSpace,b,s.startLineNumber,s.endLineNumber,this._ignoreEmptyLines,this._ignoreFirstLine,this.languageConfigurationService);return i.supported?this._executeLineComments(b,a,i,s):this._executeBlockComment(b,a,s)}computeCursorState(b,a){let s=a.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(s=s.setEndPosition(s.endLineNumber+1,1)),new y.Selection(s.selectionStartLineNumber,s.selectionStartColumn+this._deltaColumn,s.positionLineNumber,s.positionColumn+this._deltaColumn)}static _createRemoveLineCommentsOperations(b,a){const s=[];for(let i=0,t=b.length;i<t;i++){const n=b[i];n.ignore||s.push(k.EditOperation.delete(new L.Range(a+i,n.commentStrOffset+1,a+i,n.commentStrOffset+n.commentStrLength+1)))}return s}_createAddLineCommentsOperations(b,a){const s=[],i=this._insertSpace?" ":"";for(let t=0,n=b.length;t<n;t++){const h=b[t];h.ignore||s.push(k.EditOperation.insert(new D.Position(a+t,h.commentStrOffset+1),h.commentStr+i))}return s}static nextVisibleColumn(b,a,s,i){return s?b+(a-b%a):b+i}static _normalizeInsertionPoint(b,a,s,i){let t=1073741824,n,h;for(let v=0,u=a.length;v<u;v++){if(a[v].ignore)continue;const d=b.getLineContent(s+v);let r=0;for(let l=0,o=a[v].commentStrOffset;r<t&&l<o;l++)r=w.nextVisibleColumn(r,i,d.charCodeAt(l)===9,1);r<t&&(t=r)}t=Math.floor(t/i)*i;for(let v=0,u=a.length;v<u;v++){if(a[v].ignore)continue;const d=b.getLineContent(s+v);let r=0;for(n=0,h=a[v].commentStrOffset;r<t&&n<h;n++)r=w.nextVisibleColumn(r,i,d.charCodeAt(n)===9,1);r>t?a[v].commentStrOffset=n-1:a[v].commentStrOffset=n}}}e.LineCommentCommand=w}),define(te[581],ie([1,0,5,24]),function(J,e,m,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DragAndDropCommand=void 0;class D{constructor(y,p,w){this.selection=y,this.targetPosition=p,this.copy=w,this.targetSelection=null}getEditOperations(y,p){const w=y.getValueInRange(this.selection);if(this.copy||p.addEditOperation(this.selection,null),p.addEditOperation(new m.Range(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column),w),this.selection.containsPosition(this.targetPosition)&&!(this.copy&&(this.selection.getEndPosition().equals(this.targetPosition)||this.selection.getStartPosition().equals(this.targetPosition)))){this.targetSelection=this.selection;return}if(this.copy){this.targetSelection=new k.Selection(this.targetPosition.lineNumber,this.targetPosition.column,this.selection.endLineNumber-this.selection.startLineNumber+this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}if(this.targetPosition.lineNumber>this.selection.endLineNumber){this.targetSelection=new k.Selection(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}if(this.targetPosition.lineNumber<this.selection.endLineNumber){this.targetSelection=new k.Selection(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber+this.selection.endLineNumber-this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}this.selection.endColumn<=this.targetPosition.column?this.targetSelection=new k.Selection(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column-this.selection.endColumn+this.selection.startColumn:this.targetPosition.column-this.selection.endColumn+this.selection.startColumn,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column:this.selection.endColumn):this.targetSelection=new k.Selection(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column+this.selection.endColumn-this.selection.startColumn)}computeCursorState(y,p){return this.targetSelection}}e.DragAndDropCommand=D}),define(te[582],ie([1,0,5]),function(J,e,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReplaceAllCommand=void 0;class k{constructor(L,y,p){this._editorSelection=L,this._ranges=y,this._replaceStrings=p,this._trackedEditorSelectionId=null}getEditOperations(L,y){if(this._ranges.length>0){const p=[];for(let b=0;b<this._ranges.length;b++)p.push({range:this._ranges[b],text:this._replaceStrings[b]});p.sort((b,a)=>m.Range.compareRangesUsingStarts(b.range,a.range));const w=[];let C=p[0];for(let b=1;b<p.length;b++)C.range.endLineNumber===p[b].range.startLineNumber&&C.range.endColumn===p[b].range.startColumn?(C.range=C.range.plusRange(p[b].range),C.text=C.text+p[b].text):(w.push(C),C=p[b]);w.push(C);for(const b of w)y.addEditOperation(b.range,b.text)}this._trackedEditorSelectionId=y.trackSelection(this._editorSelection)}computeCursorState(L,y){return y.getTrackedSelection(this._trackedEditorSelectionId)}}e.ReplaceAllCommand=k}),define(te[583],ie([1,0,426]),function(J,e,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReplacePiece=e.ReplacePattern=void 0,e.parseReplaceString=w;class k{constructor(b){this.staticValue=b,this.kind=0}}class D{constructor(b){this.pieces=b,this.kind=1}}class L{static fromStaticValue(b){return new L([y.staticValue(b)])}get hasReplacementPatterns(){return this._state.kind===1}constructor(b){!b||b.length===0?this._state=new k(""):b.length===1&&b[0].staticValue!==null?this._state=new k(b[0].staticValue):this._state=new D(b)}buildReplaceString(b,a){if(this._state.kind===0)return a?(0,m.buildReplaceStringWithCasePreserved)(b,this._state.staticValue):this._state.staticValue;let s="";for(let i=0,t=this._state.pieces.length;i<t;i++){const n=this._state.pieces[i];if(n.staticValue!==null){s+=n.staticValue;continue}let h=L._substitute(n.matchIndex,b);if(n.caseOps!==null&&n.caseOps.length>0){const v=[],u=n.caseOps.length;let d=0;for(let r=0,l=h.length;r<l;r++){if(d>=u){v.push(h.slice(r));break}switch(n.caseOps[d]){case"U":v.push(h[r].toUpperCase());break;case"u":v.push(h[r].toUpperCase()),d++;break;case"L":v.push(h[r].toLowerCase());break;case"l":v.push(h[r].toLowerCase()),d++;break;default:v.push(h[r])}}h=v.join("")}s+=h}return s}static _substitute(b,a){if(a===null)return"";if(b===0)return a[0];let s="";for(;b>0;){if(b<a.length)return(a[b]||"")+s;s=String(b%10)+s,b=Math.floor(b/10)}return"$"+s}}e.ReplacePattern=L;class y{static staticValue(b){return new y(b,-1,null)}static caseOps(b,a){return new y(null,b,a)}constructor(b,a,s){this.staticValue=b,this.matchIndex=a,!s||s.length===0?this.caseOps=null:this.caseOps=s.slice(0)}}e.ReplacePiece=y;class p{constructor(b){this._source=b,this._lastCharIndex=0,this._result=[],this._resultLen=0,this._currentStaticPiece=""}emitUnchanged(b){this._emitStatic(this._source.substring(this._lastCharIndex,b)),this._lastCharIndex=b}emitStatic(b,a){this._emitStatic(b),this._lastCharIndex=a}_emitStatic(b){b.length!==0&&(this._currentStaticPiece+=b)}emitMatchIndex(b,a,s){this._currentStaticPiece.length!==0&&(this._result[this._resultLen++]=y.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),this._result[this._resultLen++]=y.caseOps(b,s),this._lastCharIndex=a}finalize(){return this.emitUnchanged(this._source.length),this._currentStaticPiece.length!==0&&(this._result[this._resultLen++]=y.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),new L(this._result)}}function w(C){if(!C||C.length===0)return new L(null);const b=[],a=new p(C);for(let s=0,i=C.length;s<i;s++){const t=C.charCodeAt(s);if(t===92){if(s++,s>=i)break;const n=C.charCodeAt(s);switch(n){case 92:a.emitUnchanged(s-1),a.emitStatic("\\",s+1);break;case 110:a.emitUnchanged(s-1),a.emitStatic(`
`,s+1);break;case 116:a.emitUnchanged(s-1),a.emitStatic("	",s+1);break;case 117:case 85:case 108:case 76:a.emitUnchanged(s-1),a.emitStatic("",s+1),b.push(String.fromCharCode(n));break}continue}if(t===36){if(s++,s>=i)break;const n=C.charCodeAt(s);if(n===36){a.emitUnchanged(s-1),a.emitStatic("$",s+1);continue}if(n===48||n===38){a.emitUnchanged(s-1),a.emitMatchIndex(0,s+1,b),b.length=0;continue}if(49<=n&&n<=57){let h=n-48;if(s+1<i){const v=C.charCodeAt(s+1);if(48<=v&&v<=57){s++,h=h*10+(v-48),a.emitUnchanged(s-2),a.emitMatchIndex(h,s+1,b),b.length=0;continue}}a.emitUnchanged(s-1),a.emitMatchIndex(h,s+1,b),b.length=0;continue}}}return a.finalize()}}),define(te[194],ie([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FoldingRegion=e.FoldingRegions=e.MAX_LINE_NUMBER=e.MAX_FOLDING_REGIONS=e.foldSourceAbbr=void 0,e.foldSourceAbbr={0:" ",1:"u",2:"r"},e.MAX_FOLDING_REGIONS=65535,e.MAX_LINE_NUMBER=16777215;const m=4278190080;class k{constructor(p){const w=Math.ceil(p/32);this._states=new Uint32Array(w)}get(p){const w=p/32|0,C=p%32;return(this._states[w]&1<<C)!==0}set(p,w){const C=p/32|0,b=p%32,a=this._states[C];w?this._states[C]=a|1<<b:this._states[C]=a&~(1<<b)}}class D{constructor(p,w,C){if(p.length!==w.length||p.length>e.MAX_FOLDING_REGIONS)throw new Error("invalid startIndexes or endIndexes size");this._startIndexes=p,this._endIndexes=w,this._collapseStates=new k(p.length),this._userDefinedStates=new k(p.length),this._recoveredStates=new k(p.length),this._types=C,this._parentsComputed=!1}ensureParentIndices(){if(!this._parentsComputed){this._parentsComputed=!0;const p=[],w=(C,b)=>{const a=p[p.length-1];return this.getStartLineNumber(a)<=C&&this.getEndLineNumber(a)>=b};for(let C=0,b=this._startIndexes.length;C<b;C++){const a=this._startIndexes[C],s=this._endIndexes[C];if(a>e.MAX_LINE_NUMBER||s>e.MAX_LINE_NUMBER)throw new Error("startLineNumber or endLineNumber must not exceed "+e.MAX_LINE_NUMBER);for(;p.length>0&&!w(a,s);)p.pop();const i=p.length>0?p[p.length-1]:-1;p.push(C),this._startIndexes[C]=a+((i&255)<<24),this._endIndexes[C]=s+((i&65280)<<16)}}}get length(){return this._startIndexes.length}getStartLineNumber(p){return this._startIndexes[p]&e.MAX_LINE_NUMBER}getEndLineNumber(p){return this._endIndexes[p]&e.MAX_LINE_NUMBER}getType(p){return this._types?this._types[p]:void 0}hasTypes(){return!!this._types}isCollapsed(p){return this._collapseStates.get(p)}setCollapsed(p,w){this._collapseStates.set(p,w)}isUserDefined(p){return this._userDefinedStates.get(p)}setUserDefined(p,w){return this._userDefinedStates.set(p,w)}isRecovered(p){return this._recoveredStates.get(p)}setRecovered(p,w){return this._recoveredStates.set(p,w)}getSource(p){return this.isUserDefined(p)?1:this.isRecovered(p)?2:0}setSource(p,w){w===1?(this.setUserDefined(p,!0),this.setRecovered(p,!1)):w===2?(this.setUserDefined(p,!1),this.setRecovered(p,!0)):(this.setUserDefined(p,!1),this.setRecovered(p,!1))}setCollapsedAllOfType(p,w){let C=!1;if(this._types)for(let b=0;b<this._types.length;b++)this._types[b]===p&&(this.setCollapsed(b,w),C=!0);return C}toRegion(p){return new L(this,p)}getParentIndex(p){this.ensureParentIndices();const w=((this._startIndexes[p]&m)>>>24)+((this._endIndexes[p]&m)>>>16);return w===e.MAX_FOLDING_REGIONS?-1:w}contains(p,w){return this.getStartLineNumber(p)<=w&&this.getEndLineNumber(p)>=w}findIndex(p){let w=0,C=this._startIndexes.length;if(C===0)return-1;for(;w<C;){const b=Math.floor((w+C)/2);p<this.getStartLineNumber(b)?C=b:w=b+1}return w-1}findRange(p){let w=this.findIndex(p);if(w>=0){if(this.getEndLineNumber(w)>=p)return w;for(w=this.getParentIndex(w);w!==-1;){if(this.contains(w,p))return w;w=this.getParentIndex(w)}}return-1}toString(){const p=[];for(let w=0;w<this.length;w++)p[w]=`[${e.foldSourceAbbr[this.getSource(w)]}${this.isCollapsed(w)?"+":"-"}] ${this.getStartLineNumber(w)}/${this.getEndLineNumber(w)}`;return p.join(", ")}toFoldRange(p){return{startLineNumber:this._startIndexes[p]&e.MAX_LINE_NUMBER,endLineNumber:this._endIndexes[p]&e.MAX_LINE_NUMBER,type:this._types?this._types[p]:void 0,isCollapsed:this.isCollapsed(p),source:this.getSource(p)}}static fromFoldRanges(p){const w=p.length,C=new Uint32Array(w),b=new Uint32Array(w);let a=[],s=!1;for(let t=0;t<w;t++){const n=p[t];C[t]=n.startLineNumber,b[t]=n.endLineNumber,a.push(n.type),n.type&&(s=!0)}s||(a=void 0);const i=new D(C,b,a);for(let t=0;t<w;t++)p[t].isCollapsed&&i.setCollapsed(t,!0),i.setSource(t,p[t].source);return i}static sanitizeAndMerge(p,w,C){C=C??Number.MAX_VALUE;const b=(l,o)=>Array.isArray(l)?g=>g<o?l[g]:void 0:g=>g<o?l.toFoldRange(g):void 0,a=b(p,p.length),s=b(w,w.length);let i=0,t=0,n=a(0),h=s(0);const v=[];let u,d=0;const r=[];for(;n||h;){let l;if(h&&(!n||n.startLineNumber>=h.startLineNumber))n&&n.startLineNumber===h.startLineNumber?(h.source===1?l=h:(l=n,l.isCollapsed=h.isCollapsed&&n.endLineNumber===h.endLineNumber,l.source=0),n=a(++i)):(l=h,h.isCollapsed&&h.source===0&&(l.source=2)),h=s(++t);else{let o=t,g=h;for(;;){if(!g||g.startLineNumber>n.endLineNumber){l=n;break}if(g.source===1&&g.endLineNumber>n.endLineNumber)break;g=s(++o)}n=a(++i)}if(l){for(;u&&u.endLineNumber<l.startLineNumber;)u=v.pop();l.endLineNumber>l.startLineNumber&&l.startLineNumber>d&&l.endLineNumber<=C&&(!u||u.endLineNumber>=l.endLineNumber)&&(r.push(l),d=l.startLineNumber,u&&v.push(u),u=l)}}return r}}e.FoldingRegions=D;class L{constructor(p,w){this.ranges=p,this.index=w}get startLineNumber(){return this.ranges.getStartLineNumber(this.index)}get endLineNumber(){return this.ranges.getEndLineNumber(this.index)}get regionIndex(){return this.index}get parentIndex(){return this.ranges.getParentIndex(this.index)}get isCollapsed(){return this.ranges.isCollapsed(this.index)}containedBy(p){return p.startLineNumber<=this.startLineNumber&&p.endLineNumber>=this.endLineNumber}containsLine(p){return this.startLineNumber<=p&&p<=this.endLineNumber}}e.FoldingRegion=L}),define(te[320],ie([1,0,7,194,121]),function(J,e,m,k,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FoldingModel=void 0,e.toggleCollapseState=y,e.setCollapseStateLevelsDown=p,e.setCollapseStateLevelsUp=w,e.setCollapseStateUp=C,e.setCollapseStateAtLevel=b,e.setCollapseStateForRest=a,e.setCollapseStateForMatchingLines=s,e.setCollapseStateForType=i,e.getParentFoldLine=t,e.getPreviousFoldLine=n,e.getNextFoldLine=h;class L{get regions(){return this._regions}get textModel(){return this._textModel}constructor(u,d){this._updateEventEmitter=new m.Emitter,this.onDidChange=this._updateEventEmitter.event,this._textModel=u,this._decorationProvider=d,this._regions=new k.FoldingRegions(new Uint32Array(0),new Uint32Array(0)),this._editorDecorationIds=[]}toggleCollapseState(u){if(!u.length)return;u=u.sort((r,l)=>r.regionIndex-l.regionIndex);const d={};this._decorationProvider.changeDecorations(r=>{let l=0,o=-1,g=-1;const c=f=>{for(;l<f;){const _=this._regions.getEndLineNumber(l),S=this._regions.isCollapsed(l);if(_<=o){const I=this.regions.getSource(l)!==0;r.changeDecorationOptions(this._editorDecorationIds[l],this._decorationProvider.getDecorationOption(S,_<=g,I))}S&&_>g&&(g=_),l++}};for(const f of u){const _=f.regionIndex,S=this._editorDecorationIds[_];if(S&&!d[S]){d[S]=!0,c(_);const I=!this._regions.isCollapsed(_);this._regions.setCollapsed(_,I),o=Math.max(o,this._regions.getEndLineNumber(_))}}c(this._regions.length)}),this._updateEventEmitter.fire({model:this,collapseStateChanged:u})}removeManualRanges(u){const d=new Array,r=l=>{for(const o of u)if(!(o.startLineNumber>l.endLineNumber||l.startLineNumber>o.endLineNumber))return!0;return!1};for(let l=0;l<this._regions.length;l++){const o=this._regions.toFoldRange(l);(o.source===0||!r(o))&&d.push(o)}this.updatePost(k.FoldingRegions.fromFoldRanges(d))}update(u,d=[]){const r=this._currentFoldedOrManualRanges(d),l=k.FoldingRegions.sanitizeAndMerge(u,r,this._textModel.getLineCount());this.updatePost(k.FoldingRegions.fromFoldRanges(l))}updatePost(u){const d=[];let r=-1;for(let l=0,o=u.length;l<o;l++){const g=u.getStartLineNumber(l),c=u.getEndLineNumber(l),f=u.isCollapsed(l),_=u.getSource(l)!==0,S={startLineNumber:g,startColumn:this._textModel.getLineMaxColumn(g),endLineNumber:c,endColumn:this._textModel.getLineMaxColumn(c)+1};d.push({range:S,options:this._decorationProvider.getDecorationOption(f,c<=r,_)}),f&&c>r&&(r=c)}this._decorationProvider.changeDecorations(l=>this._editorDecorationIds=l.deltaDecorations(this._editorDecorationIds,d)),this._regions=u,this._updateEventEmitter.fire({model:this})}_currentFoldedOrManualRanges(u=[]){const d=(l,o)=>{for(const g of u)if(l<g&&g<=o)return!0;return!1},r=[];for(let l=0,o=this._regions.length;l<o;l++){let g=this.regions.isCollapsed(l);const c=this.regions.getSource(l);if(g||c!==0){const f=this._regions.toFoldRange(l),_=this._textModel.getDecorationRange(this._editorDecorationIds[l]);_&&(g&&d(_.startLineNumber,_.endLineNumber)&&(g=!1),r.push({startLineNumber:_.startLineNumber,endLineNumber:_.endLineNumber,type:f.type,isCollapsed:g,source:c}))}}return r}getMemento(){const u=this._currentFoldedOrManualRanges(),d=[],r=this._textModel.getLineCount();for(let l=0,o=u.length;l<o;l++){const g=u[l];if(g.startLineNumber>=g.endLineNumber||g.startLineNumber<1||g.endLineNumber>r)continue;const c=this._getLinesChecksum(g.startLineNumber+1,g.endLineNumber);d.push({startLineNumber:g.startLineNumber,endLineNumber:g.endLineNumber,isCollapsed:g.isCollapsed,source:g.source,checksum:c})}return d.length>0?d:void 0}applyMemento(u){var d,r;if(!Array.isArray(u))return;const l=[],o=this._textModel.getLineCount();for(const c of u){if(c.startLineNumber>=c.endLineNumber||c.startLineNumber<1||c.endLineNumber>o)continue;const f=this._getLinesChecksum(c.startLineNumber+1,c.endLineNumber);(!c.checksum||f===c.checksum)&&l.push({startLineNumber:c.startLineNumber,endLineNumber:c.endLineNumber,type:void 0,isCollapsed:(d=c.isCollapsed)!==null&&d!==void 0?d:!0,source:(r=c.source)!==null&&r!==void 0?r:0})}const g=k.FoldingRegions.sanitizeAndMerge(this._regions,l,o);this.updatePost(k.FoldingRegions.fromFoldRanges(g))}_getLinesChecksum(u,d){return(0,D.hash)(this._textModel.getLineContent(u)+this._textModel.getLineContent(d))%1e6}dispose(){this._decorationProvider.removeDecorations(this._editorDecorationIds)}getAllRegionsAtLine(u,d){const r=[];if(this._regions){let l=this._regions.findRange(u),o=1;for(;l>=0;){const g=this._regions.toRegion(l);(!d||d(g,o))&&r.push(g),o++,l=g.parentIndex}}return r}getRegionAtLine(u){if(this._regions){const d=this._regions.findRange(u);if(d>=0)return this._regions.toRegion(d)}return null}getRegionsInside(u,d){const r=[],l=u?u.regionIndex+1:0,o=u?u.endLineNumber:Number.MAX_VALUE;if(d&&d.length===2){const g=[];for(let c=l,f=this._regions.length;c<f;c++){const _=this._regions.toRegion(c);if(this._regions.getStartLineNumber(c)<o){for(;g.length>0&&!_.containedBy(g[g.length-1]);)g.pop();g.push(_),d(_,g.length)&&r.push(_)}else break}}else for(let g=l,c=this._regions.length;g<c;g++){const f=this._regions.toRegion(g);if(this._regions.getStartLineNumber(g)<o)(!d||d(f))&&r.push(f);else break}return r}}e.FoldingModel=L;function y(v,u,d){const r=[];for(const l of d){const o=v.getRegionAtLine(l);if(o){const g=!o.isCollapsed;if(r.push(o),u>1){const c=v.getRegionsInside(o,(f,_)=>f.isCollapsed!==g&&_<u);r.push(...c)}}}v.toggleCollapseState(r)}function p(v,u,d=Number.MAX_VALUE,r){const l=[];if(r&&r.length>0)for(const o of r){const g=v.getRegionAtLine(o);if(g&&(g.isCollapsed!==u&&l.push(g),d>1)){const c=v.getRegionsInside(g,(f,_)=>f.isCollapsed!==u&&_<d);l.push(...c)}}else{const o=v.getRegionsInside(null,(g,c)=>g.isCollapsed!==u&&c<d);l.push(...o)}v.toggleCollapseState(l)}function w(v,u,d,r){const l=[];for(const o of r){const g=v.getAllRegionsAtLine(o,(c,f)=>c.isCollapsed!==u&&f<=d);l.push(...g)}v.toggleCollapseState(l)}function C(v,u,d){const r=[];for(const l of d){const o=v.getAllRegionsAtLine(l,g=>g.isCollapsed!==u);o.length>0&&r.push(o[0])}v.toggleCollapseState(r)}function b(v,u,d,r){const l=(g,c)=>c===u&&g.isCollapsed!==d&&!r.some(f=>g.containsLine(f)),o=v.getRegionsInside(null,l);v.toggleCollapseState(o)}function a(v,u,d){const r=[];for(const g of d){const c=v.getAllRegionsAtLine(g,void 0);c.length>0&&r.push(c[0])}const l=g=>r.every(c=>!c.containedBy(g)&&!g.containedBy(c))&&g.isCollapsed!==u,o=v.getRegionsInside(null,l);v.toggleCollapseState(o)}function s(v,u,d){const r=v.textModel,l=v.regions,o=[];for(let g=l.length-1;g>=0;g--)if(d!==l.isCollapsed(g)){const c=l.getStartLineNumber(g);u.test(r.getLineContent(c))&&o.push(l.toRegion(g))}v.toggleCollapseState(o)}function i(v,u,d){const r=v.regions,l=[];for(let o=r.length-1;o>=0;o--)d!==r.isCollapsed(o)&&u===r.getType(o)&&l.push(r.toRegion(o));v.toggleCollapseState(l)}function t(v,u){let d=null;const r=u.getRegionAtLine(v);if(r!==null&&(d=r.startLineNumber,v===d)){const l=r.parentIndex;l!==-1?d=u.regions.getStartLineNumber(l):d=null}return d}function n(v,u){let d=u.getRegionAtLine(v);if(d!==null&&d.startLineNumber===v){if(v!==d.startLineNumber)return d.startLineNumber;{const r=d.parentIndex;let l=0;for(r!==-1&&(l=u.regions.getStartLineNumber(d.parentIndex));d!==null;)if(d.regionIndex>0){if(d=u.regions.toRegion(d.regionIndex-1),d.startLineNumber<=l)return null;if(d.parentIndex===r)return d.startLineNumber}else return null}}else if(u.regions.length>0)for(d=u.regions.toRegion(u.regions.length-1);d!==null;){if(d.startLineNumber<v)return d.startLineNumber;d.regionIndex>0?d=u.regions.toRegion(d.regionIndex-1):d=null}return null}function h(v,u){let d=u.getRegionAtLine(v);if(d!==null&&d.startLineNumber===v){const r=d.parentIndex;let l=0;if(r!==-1)l=u.regions.getEndLineNumber(d.parentIndex);else{if(u.regions.length===0)return null;l=u.regions.getEndLineNumber(u.regions.length-1)}for(;d!==null;)if(d.regionIndex<u.regions.length){if(d=u.regions.toRegion(d.regionIndex+1),d.startLineNumber>=l)return null;if(d.parentIndex===r)return d.startLineNumber}else return null}else if(u.regions.length>0)for(d=u.regions.toRegion(0);d!==null;){if(d.startLineNumber>v)return d.startLineNumber;d.regionIndex<u.regions.length?d=u.regions.toRegion(d.regionIndex+1):d=null}return null}}),define(te[584],ie([1,0,66,7,5,139]),function(J,e,m,k,D,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HiddenRangeModel=void 0;class y{get onDidChange(){return this._updateEventEmitter.event}get hiddenRanges(){return this._hiddenRanges}constructor(b){this._updateEventEmitter=new k.Emitter,this._hasLineChanges=!1,this._foldingModel=b,this._foldingModelListener=b.onDidChange(a=>this.updateHiddenRanges()),this._hiddenRanges=[],b.regions.length&&this.updateHiddenRanges()}notifyChangeModelContent(b){this._hiddenRanges.length&&!this._hasLineChanges&&(this._hasLineChanges=b.changes.some(a=>a.range.endLineNumber!==a.range.startLineNumber||(0,L.countEOL)(a.text)[0]!==0))}updateHiddenRanges(){let b=!1;const a=[];let s=0,i=0,t=Number.MAX_VALUE,n=-1;const h=this._foldingModel.regions;for(;s<h.length;s++){if(!h.isCollapsed(s))continue;const v=h.getStartLineNumber(s)+1,u=h.getEndLineNumber(s);t<=v&&u<=n||(!b&&i<this._hiddenRanges.length&&this._hiddenRanges[i].startLineNumber===v&&this._hiddenRanges[i].endLineNumber===u?(a.push(this._hiddenRanges[i]),i++):(b=!0,a.push(new D.Range(v,1,u,1))),t=v,n=u)}(this._hasLineChanges||b||i<this._hiddenRanges.length)&&this.applyHiddenRanges(a)}applyHiddenRanges(b){this._hiddenRanges=b,this._hasLineChanges=!1,this._updateEventEmitter.fire(b)}hasRanges(){return this._hiddenRanges.length>0}isHidden(b){return w(this._hiddenRanges,b)!==null}adjustSelections(b){let a=!1;const s=this._foldingModel.textModel;let i=null;const t=n=>((!i||!p(n,i))&&(i=w(this._hiddenRanges,n)),i?i.startLineNumber-1:null);for(let n=0,h=b.length;n<h;n++){let v=b[n];const u=t(v.startLineNumber);u&&(v=v.setStartPosition(u,s.getLineMaxColumn(u)),a=!0);const d=t(v.endLineNumber);d&&(v=v.setEndPosition(d,s.getLineMaxColumn(d)),a=!0),b[n]=v}return a}dispose(){this.hiddenRanges.length>0&&(this._hiddenRanges=[],this._updateEventEmitter.fire(this._hiddenRanges)),this._foldingModelListener&&(this._foldingModelListener.dispose(),this._foldingModelListener=null)}}e.HiddenRangeModel=y;function p(C,b){return C>=b.startLineNumber&&C<=b.endLineNumber}function w(C,b){const a=(0,m.findFirstIdxMonotonousOrArrLen)(C,s=>b<s.startLineNumber)-1;return a>=0&&C[a].endLineNumber>=b?C[a]:null}}),define(te[321],ie([1,0,226,194]),function(J,e,m,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RangesCollector=e.IndentRangeProvider=void 0,e.computeRanges=C;const D=5e3,L="indent";class y{constructor(a,s,i){this.editorModel=a,this.languageConfigurationService=s,this.foldingRangesLimit=i,this.id=L}dispose(){}compute(a){const s=this.languageConfigurationService.getLanguageConfiguration(this.editorModel.getLanguageId()).foldingRules,i=s&&!!s.offSide,t=s&&s.markers;return Promise.resolve(C(this.editorModel,i,t,this.foldingRangesLimit))}}e.IndentRangeProvider=y;class p{constructor(a){this._startIndexes=[],this._endIndexes=[],this._indentOccurrences=[],this._length=0,this._foldingRangesLimit=a}insertFirst(a,s,i){if(a>k.MAX_LINE_NUMBER||s>k.MAX_LINE_NUMBER)return;const t=this._length;this._startIndexes[t]=a,this._endIndexes[t]=s,this._length++,i<1e3&&(this._indentOccurrences[i]=(this._indentOccurrences[i]||0)+1)}toIndentRanges(a){const s=this._foldingRangesLimit.limit;if(this._length<=s){this._foldingRangesLimit.update(this._length,!1);const i=new Uint32Array(this._length),t=new Uint32Array(this._length);for(let n=this._length-1,h=0;n>=0;n--,h++)i[h]=this._startIndexes[n],t[h]=this._endIndexes[n];return new k.FoldingRegions(i,t)}else{this._foldingRangesLimit.update(this._length,s);let i=0,t=this._indentOccurrences.length;for(let u=0;u<this._indentOccurrences.length;u++){const d=this._indentOccurrences[u];if(d){if(d+i>s){t=u;break}i+=d}}const n=a.getOptions().tabSize,h=new Uint32Array(s),v=new Uint32Array(s);for(let u=this._length-1,d=0;u>=0;u--){const r=this._startIndexes[u],l=a.getLineContent(r),o=(0,m.computeIndentLevel)(l,n);(o<t||o===t&&i++<s)&&(h[d]=r,v[d]=this._endIndexes[u],d++)}return new k.FoldingRegions(h,v)}}}e.RangesCollector=p;const w={limit:D,update:()=>{}};function C(b,a,s,i=w){const t=b.getOptions().tabSize,n=new p(i);let h;s&&(h=new RegExp(`(${s.start.source})|(?:${s.end.source})`));const v=[],u=b.getLineCount()+1;v.push({indent:-1,endAbove:u,line:u});for(let d=b.getLineCount();d>0;d--){const r=b.getLineContent(d),l=(0,m.computeIndentLevel)(r,t);let o=v[v.length-1];if(l===-1){a&&(o.endAbove=d);continue}let g;if(h&&(g=r.match(h)))if(g[1]){let c=v.length-1;for(;c>0&&v[c].indent!==-2;)c--;if(c>0){v.length=c+1,o=v[c],n.insertFirst(d,o.line,l),o.line=d,o.indent=l,o.endAbove=d;continue}}else{v.push({indent:-2,endAbove:d,line:d});continue}if(o.indent>l){do v.pop(),o=v[v.length-1];while(o.indent>l);const c=o.endAbove-1;c-d>=1&&n.insertFirst(d,c,l)}o.indent===l?o.endAbove=d:v.push({indent:l,endAbove:d,line:d})}return n.toIndentRanges(b)}}),define(te[322],ie([1,0,12,2,194]),function(J,e,m,k,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SyntaxRangeProvider=void 0,e.sanitizeRanges=b;const L={},y="syntax";class p{constructor(s,i,t,n,h){this.editorModel=s,this.providers=i,this.handleFoldingRangesChange=t,this.foldingRangesLimit=n,this.fallbackRangeProvider=h,this.id=y,this.disposables=new k.DisposableStore,h&&this.disposables.add(h);for(const v of i)typeof v.onDidChange=="function"&&this.disposables.add(v.onDidChange(t))}compute(s){return w(this.providers,this.editorModel,s).then(i=>{var t,n;return i?b(i,this.foldingRangesLimit):(n=(t=this.fallbackRangeProvider)===null||t===void 0?void 0:t.compute(s))!==null&&n!==void 0?n:null})}dispose(){this.disposables.dispose()}}e.SyntaxRangeProvider=p;function w(a,s,i){let t=null;const n=a.map((h,v)=>Promise.resolve(h.provideFoldingRanges(s,L,i)).then(u=>{if(!i.isCancellationRequested&&Array.isArray(u)){Array.isArray(t)||(t=[]);const d=s.getLineCount();for(const r of u)r.start>0&&r.end>r.start&&r.end<=d&&t.push({start:r.start,end:r.end,rank:v,kind:r.kind})}},m.onUnexpectedExternalError));return Promise.all(n).then(h=>t)}class C{constructor(s){this._startIndexes=[],this._endIndexes=[],this._nestingLevels=[],this._nestingLevelCounts=[],this._types=[],this._length=0,this._foldingRangesLimit=s}add(s,i,t,n){if(s>D.MAX_LINE_NUMBER||i>D.MAX_LINE_NUMBER)return;const h=this._length;this._startIndexes[h]=s,this._endIndexes[h]=i,this._nestingLevels[h]=n,this._types[h]=t,this._length++,n<30&&(this._nestingLevelCounts[n]=(this._nestingLevelCounts[n]||0)+1)}toIndentRanges(){const s=this._foldingRangesLimit.limit;if(this._length<=s){this._foldingRangesLimit.update(this._length,!1);const i=new Uint32Array(this._length),t=new Uint32Array(this._length);for(let n=0;n<this._length;n++)i[n]=this._startIndexes[n],t[n]=this._endIndexes[n];return new D.FoldingRegions(i,t,this._types)}else{this._foldingRangesLimit.update(this._length,s);let i=0,t=this._nestingLevelCounts.length;for(let u=0;u<this._nestingLevelCounts.length;u++){const d=this._nestingLevelCounts[u];if(d){if(d+i>s){t=u;break}i+=d}}const n=new Uint32Array(s),h=new Uint32Array(s),v=[];for(let u=0,d=0;u<this._length;u++){const r=this._nestingLevels[u];(r<t||r===t&&i++<s)&&(n[d]=this._startIndexes[u],h[d]=this._endIndexes[u],v[d]=this._types[u],d++)}return new D.FoldingRegions(n,h,v)}}}function b(a,s){const i=a.sort((v,u)=>{let d=v.start-u.start;return d===0&&(d=v.rank-u.rank),d}),t=new C(s);let n;const h=[];for(const v of i)if(!n)n=v,t.add(v.start,v.end,v.kind&&v.kind.value,h.length);else if(v.start>n.start)if(v.end<=n.end)h.push(n),n=v,t.add(v.start,v.end,v.kind&&v.kind.value,h.length);else{if(v.start>n.end){do n=h.pop();while(n&&v.start>n.end);n&&h.push(n),n=v}t.add(v.start,v.end,v.kind&&v.kind.value,h.length)}return t.toIndentRanges()}}),define(te[323],ie([1,0,71,5,137]),function(J,e,m,k,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FormattingEdit=void 0;class L{static _handleEolEdits(p,w){let C;const b=[];for(const a of w)typeof a.eol=="number"&&(C=a.eol),a.range&&typeof a.text=="string"&&b.push(a);return typeof C=="number"&&p.hasModel()&&p.getModel().pushEOL(C),b}static _isFullModelReplaceEdit(p,w){if(!p.hasModel())return!1;const C=p.getModel(),b=C.validateRange(w.range);return C.getFullModelRange().equalsRange(b)}static execute(p,w,C){C&&p.pushUndoStop();const b=D.StableEditorScrollState.capture(p),a=L._handleEolEdits(p,w);a.length===1&&L._isFullModelReplaceEdit(p,a[0])?p.executeEdits("formatEditsCommand",a.map(s=>m.EditOperation.replace(k.Range.lift(s.range),s.text))):p.executeEdits("formatEditsCommand",a.map(s=>m.EditOperation.replaceMove(k.Range.lift(s.range),s.text))),C&&p.pushUndoStop(),b.restoreRelativeVerticalPositionOfCursor(p)}}e.FormattingEdit=L}),define(te[95],ie([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HoverParticipantRegistry=e.HoverForeignElementAnchor=e.HoverRangeAnchor=void 0;class m{constructor(L,y,p,w){this.priority=L,this.range=y,this.initialMousePosX=p,this.initialMousePosY=w,this.type=1}equals(L){return L.type===1&&this.range.equalsRange(L.range)}canAdoptVisibleHover(L,y){return L.type===1&&y.lineNumber===this.range.startLineNumber}}e.HoverRangeAnchor=m;class k{constructor(L,y,p,w,C,b){this.priority=L,this.owner=y,this.range=p,this.initialMousePosX=w,this.initialMousePosY=C,this.supportsMarkerHover=b,this.type=2}equals(L){return L.type===2&&this.owner===L.owner}canAdoptVisibleHover(L,y){return L.type===2&&this.owner===L.owner}}e.HoverForeignElementAnchor=k,e.HoverParticipantRegistry=new class{constructor(){this._participants=[]}register(L){this._participants.push(L)}getAll(){return this._participants}}}),define(te[585],ie([1,0,24]),function(J,e,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InPlaceReplaceCommand=void 0;class k{constructor(L,y,p){this._editRange=L,this._originalSelection=y,this._text=p}getEditOperations(L,y){y.addTrackedEditOperation(this._editRange,this._text)}computeCursorState(L,y){const w=y.getInverseEditOperations()[0].range;return this._originalSelection.isEmpty()?new m.Selection(w.endLineNumber,Math.min(this._originalSelection.positionColumn,w.endColumn),w.endLineNumber,Math.min(this._originalSelection.positionColumn,w.endColumn)):new m.Selection(w.endLineNumber,w.endColumn-this._text.length,w.endLineNumber,w.endColumn)}}e.InPlaceReplaceCommand=k}),define(te[324],ie([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getSpaceCnt=m,e.generateIndent=k;function m(D,L){let y=0;for(let p=0;p<D.length;p++)D.charAt(p)==="	"?y+=L:y++;return y}function k(D,L,y){D=D<0?0:D;let p="";if(!y){const w=Math.floor(D/L);D=D%L;for(let C=0;C<w;C++)p+="	"}for(let w=0;w<D;w++)p+=" ";return p}}),define(te[232],ie([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.showNextInlineSuggestionActionId=e.showPreviousInlineSuggestionActionId=e.inlineSuggestCommitId=void 0,e.inlineSuggestCommitId="editor.action.inlineSuggest.commit",e.showPreviousInlineSuggestionActionId="editor.action.inlineSuggest.showPrevious",e.showNextInlineSuggestionActionId="editor.action.inlineSuggest.showNext"}),define(te[195],ie([1,0,13,11,9,5,123]),function(J,e,m,k,D,L,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GhostTextReplacement=e.GhostTextPart=e.GhostText=void 0,e.ghostTextsOrReplacementsEqual=b,e.ghostTextOrReplacementEquals=a;class p{constructor(i,t){this.lineNumber=i,this.parts=t}equals(i){return this.lineNumber===i.lineNumber&&this.parts.length===i.parts.length&&this.parts.every((t,n)=>t.equals(i.parts[n]))}renderForScreenReader(i){if(this.parts.length===0)return"";const t=this.parts[this.parts.length-1],n=i.substr(0,t.column-1);return new y.TextEdit([...this.parts.map(v=>new y.SingleTextEdit(L.Range.fromPositions(new D.Position(1,v.column)),v.lines.join(`
`)))]).applyToString(n).substring(this.parts[0].column-1)}isEmpty(){return this.parts.every(i=>i.lines.length===0)}get lineCount(){return 1+this.parts.reduce((i,t)=>i+t.lines.length-1,0)}}e.GhostText=p;class w{constructor(i,t,n){this.column=i,this.text=t,this.preview=n,this.lines=(0,k.splitLines)(this.text)}equals(i){return this.column===i.column&&this.lines.length===i.lines.length&&this.lines.every((t,n)=>t===i.lines[n])}}e.GhostTextPart=w;class C{constructor(i,t,n,h=0){this.lineNumber=i,this.columnRange=t,this.text=n,this.additionalReservedLineCount=h,this.parts=[new w(this.columnRange.endColumnExclusive,this.text,!1)],this.newLines=(0,k.splitLines)(this.text)}renderForScreenReader(i){return this.newLines.join(`
`)}get lineCount(){return this.newLines.length}isEmpty(){return this.parts.every(i=>i.lines.length===0)}equals(i){return this.lineNumber===i.lineNumber&&this.columnRange.equals(i.columnRange)&&this.newLines.length===i.newLines.length&&this.newLines.every((t,n)=>t===i.newLines[n])&&this.additionalReservedLineCount===i.additionalReservedLineCount}}e.GhostTextReplacement=C;function b(s,i){return(0,m.equals)(s,i,a)}function a(s,i){return s===i?!0:!s||!i?!1:s instanceof p&&i instanceof p||s instanceof C&&i instanceof C?s.equals(i):!1}}),define(te[233],ie([1,0,182,11,5,122,123,195]),function(J,e,m,k,D,L,y,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.singleTextRemoveCommonPrefix=w,e.singleTextEditAugments=C,e.computeGhostText=b;function w(h,v,u){const d=u?h.range.intersectRanges(u):h.range;if(!d)return h;const r=v.getValueInRange(d,1),l=(0,k.commonPrefixLength)(r,h.text),o=L.TextLength.ofText(r.substring(0,l)).addToPosition(h.range.getStartPosition()),g=h.text.substring(l),c=D.Range.fromPositions(o,h.range.getEndPosition());return new y.SingleTextEdit(c,g)}function C(h,v){return h.text.startsWith(v.text)&&a(h.range,v.range)}function b(h,v,u,d,r=0){let l=w(h,v);if(l.range.endLineNumber!==l.range.startLineNumber)return;const o=v.getLineContent(l.range.startLineNumber),g=(0,k.getLeadingWhitespace)(o).length;if(l.range.startColumn-1<=g){const T=(0,k.getLeadingWhitespace)(l.text).length,N=o.substring(l.range.startColumn-1,g),[A,O]=[l.range.getStartPosition(),l.range.getEndPosition()],M=A.column+N.length<=O.column?A.delta(0,N.length):O,P=D.Range.fromPositions(M,O),x=l.text.startsWith(N)?l.text.substring(N.length):l.text.substring(T);l=new y.SingleTextEdit(P,x)}const f=v.getValueInRange(l.range),_=i(f,l.text);if(!_)return;const S=l.range.startLineNumber,I=new Array;if(u==="prefix"){const T=_.filter(N=>N.originalLength===0);if(T.length>1||T.length===1&&T[0].originalStart!==f.length)return}const E=l.text.length-r;for(const T of _){const N=l.range.startColumn+T.originalStart+T.originalLength;if(u==="subwordSmart"&&d&&d.lineNumber===l.range.startLineNumber&&N<d.column||T.originalLength>0)return;if(T.modifiedLength===0)continue;const A=T.modifiedStart+T.modifiedLength,O=Math.max(T.modifiedStart,Math.min(A,E)),M=l.text.substring(T.modifiedStart,O),P=l.text.substring(O,Math.max(T.modifiedStart,A));M.length>0&&I.push(new p.GhostTextPart(N,M,!1)),P.length>0&&I.push(new p.GhostTextPart(N,P,!0))}return new p.GhostText(S,I)}function a(h,v){return v.getStartPosition().equals(h.getStartPosition())&&v.getEndPosition().isBeforeOrEqual(h.getEndPosition())}let s;function i(h,v){if(s?.originalValue===h&&s?.newValue===v)return s?.changes;{let u=n(h,v,!0);if(u){const d=t(u);if(d>0){const r=n(h,v,!1);r&&t(r)<d&&(u=r)}}return s={originalValue:h,newValue:v,changes:u},u}}function t(h){let v=0;for(const u of h)v+=u.originalLength;return v}function n(h,v,u){if(h.length>5e3||v.length>5e3)return;function d(f){let _=0;for(let S=0,I=f.length;S<I;S++){const E=f.charCodeAt(S);E>_&&(_=E)}return _}const r=Math.max(d(h),d(v));function l(f){if(f<0)throw new Error("unexpected");return r+f+1}function o(f){let _=0,S=0;const I=new Int32Array(f.length);for(let E=0,T=f.length;E<T;E++)if(u&&f[E]==="("){const N=S*100+_;I[E]=l(2*N),_++}else if(u&&f[E]===")"){_=Math.max(_-1,0);const N=S*100+_;I[E]=l(2*N+1),_===0&&S++}else I[E]=f.charCodeAt(E);return I}const g=o(h),c=o(v);return new m.LcsDiff({getElements:()=>g},{getElements:()=>c}).ComputeDiff(!1).changes}}),define(te[196],ie([1,0,12,2,32,9,5]),function(J,e,m,k,D,L,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColumnRange=void 0,e.getReadonlyEmptyArray=w,e.applyObservableDecorations=b,e.addPositions=a,e.subtractPositions=s;const p=[];function w(){return p}class C{constructor(t,n){if(this.startColumn=t,this.endColumnExclusive=n,t>n)throw new m.BugIndicatingError(`startColumn ${t} cannot be after endColumnExclusive ${n}`)}toRange(t){return new y.Range(t,this.startColumn,t,this.endColumnExclusive)}equals(t){return this.startColumn===t.startColumn&&this.endColumnExclusive===t.endColumnExclusive}}e.ColumnRange=C;function b(i,t){const n=new k.DisposableStore,h=i.createDecorationsCollection();return n.add((0,D.autorunOpts)({debugName:()=>`Apply decorations from ${t.debugName}`},v=>{const u=t.read(v);h.set(u)})),n.add({dispose:()=>{h.clear()}}),n}function a(i,t){return new L.Position(i.lineNumber+t.lineNumber-1,t.lineNumber===1?i.column+t.column-1:t.column)}function s(i,t){return new L.Position(i.lineNumber-t.lineNumber+1,i.lineNumber-t.lineNumber===0?i.column-t.column+1:i.column)}}),define(te[586],ie([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.inlineEditJumpBackId=e.inlineEditJumpToId=e.inlineEditRejectId=e.inlineEditAcceptId=void 0,e.inlineEditAcceptId="editor.action.inlineEdit.accept",e.inlineEditRejectId="editor.action.inlineEdit.reject",e.inlineEditJumpToId="editor.action.inlineEdit.jumpTo",e.inlineEditJumpBackId="editor.action.inlineEdit.jumpBack"}),define(te[587],ie([1,0,5,24]),function(J,e,m,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CopyLinesCommand=void 0;class D{constructor(y,p,w){this._selection=y,this._isCopyingDown=p,this._noop=w||!1,this._selectionDirection=0,this._selectionId=null,this._startLineNumberDelta=0,this._endLineNumberDelta=0}getEditOperations(y,p){let w=this._selection;this._startLineNumberDelta=0,this._endLineNumberDelta=0,w.startLineNumber<w.endLineNumber&&w.endColumn===1&&(this._endLineNumberDelta=1,w=w.setEndPosition(w.endLineNumber-1,y.getLineMaxColumn(w.endLineNumber-1)));const C=[];for(let a=w.startLineNumber;a<=w.endLineNumber;a++)C.push(y.getLineContent(a));const b=C.join(`
`);b===""&&this._isCopyingDown&&(this._startLineNumberDelta++,this._endLineNumberDelta++),this._noop?p.addEditOperation(new m.Range(w.endLineNumber,y.getLineMaxColumn(w.endLineNumber),w.endLineNumber+1,1),w.endLineNumber===y.getLineCount()?"":`
`):this._isCopyingDown?p.addEditOperation(new m.Range(w.startLineNumber,1,w.startLineNumber,1),b+`
`):p.addEditOperation(new m.Range(w.endLineNumber,y.getLineMaxColumn(w.endLineNumber),w.endLineNumber,y.getLineMaxColumn(w.endLineNumber)),`
`+b),this._selectionId=p.trackSelection(w),this._selectionDirection=this._selection.getDirection()}computeCursorState(y,p){let w=p.getTrackedSelection(this._selectionId);if(this._startLineNumberDelta!==0||this._endLineNumberDelta!==0){let C=w.startLineNumber,b=w.startColumn,a=w.endLineNumber,s=w.endColumn;this._startLineNumberDelta!==0&&(C=C+this._startLineNumberDelta,b=1),this._endLineNumberDelta!==0&&(a=a+this._endLineNumberDelta,s=1),w=k.Selection.createWithDirection(C,b,a,s,this._selectionDirection)}return w}}e.CopyLinesCommand=D}),define(te[588],ie([1,0,71,5]),function(J,e,m,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SortLinesCommand=void 0;class D{static getCollator(){return D._COLLATOR||(D._COLLATOR=new Intl.Collator),D._COLLATOR}constructor(w,C){this.selection=w,this.descending=C,this.selectionId=null}getEditOperations(w,C){const b=y(w,this.selection,this.descending);b&&C.addEditOperation(b.range,b.text),this.selectionId=C.trackSelection(this.selection)}computeCursorState(w,C){return C.getTrackedSelection(this.selectionId)}static canRun(w,C,b){if(w===null)return!1;const a=L(w,C,b);if(!a)return!1;for(let s=0,i=a.before.length;s<i;s++)if(a.before[s]!==a.after[s])return!0;return!1}}e.SortLinesCommand=D,D._COLLATOR=null;function L(p,w,C){const b=w.startLineNumber;let a=w.endLineNumber;if(w.endColumn===1&&a--,b>=a)return null;const s=[];for(let t=b;t<=a;t++)s.push(p.getLineContent(t));let i=s.slice(0);return i.sort(D.getCollator().compare),C===!0&&(i=i.reverse()),{startLineNumber:b,endLineNumber:a,before:s,after:i}}function y(p,w,C){const b=L(p,w,C);return b?m.EditOperation.replace(new k.Range(b.startLineNumber,1,b.endLineNumber,p.getLineMaxColumn(b.endLineNumber)),b.after.join(`
`)):null}}),define(te[325],ie([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SEMANTIC_HIGHLIGHTING_SETTING_ID=void 0,e.isSemanticColoringEnabled=m,e.SEMANTIC_HIGHLIGHTING_SETTING_ID="editor.semanticHighlighting";function m(k,D,L){var y;const p=(y=L.getValue(e.SEMANTIC_HIGHLIGHTING_SETTING_ID,{overrideIdentifier:k.getLanguageId(),resource:k.uri}))===null||y===void 0?void 0:y.enabled;return typeof p=="boolean"?p:D.getColorTheme().semanticHighlighting}}),define(te[326],ie([1,0,69,9,5]),function(J,e,m,k,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketSelectionRangeProvider=void 0;class L{async provideSelectionRanges(p,w){const C=[];for(const b of w){const a=[];C.push(a);const s=new Map;await new Promise(i=>L._bracketsRightYield(i,0,p,b,s)),await new Promise(i=>L._bracketsLeftYield(i,0,p,b,s,a))}return C}static _bracketsRightYield(p,w,C,b,a){const s=new Map,i=Date.now();for(;;){if(w>=L._maxRounds){p();break}if(!b){p();break}const t=C.bracketPairs.findNextBracket(b);if(!t){p();break}if(Date.now()-i>L._maxDuration){setTimeout(()=>L._bracketsRightYield(p,w+1,C,b,a));break}if(t.bracketInfo.isOpeningBracket){const h=t.bracketInfo.bracketText,v=s.has(h)?s.get(h):0;s.set(h,v+1)}else{const h=t.bracketInfo.getOpeningBrackets()[0].bracketText;let v=s.has(h)?s.get(h):0;if(v-=1,s.set(h,Math.max(0,v)),v<0){let u=a.get(h);u||(u=new m.LinkedList,a.set(h,u)),u.push(t.range)}}b=t.range.getEndPosition()}}static _bracketsLeftYield(p,w,C,b,a,s){const i=new Map,t=Date.now();for(;;){if(w>=L._maxRounds&&a.size===0){p();break}if(!b){p();break}const n=C.bracketPairs.findPrevBracket(b);if(!n){p();break}if(Date.now()-t>L._maxDuration){setTimeout(()=>L._bracketsLeftYield(p,w+1,C,b,a,s));break}if(n.bracketInfo.isOpeningBracket){const v=n.bracketInfo.bracketText;let u=i.has(v)?i.get(v):0;if(u-=1,i.set(v,Math.max(0,u)),u<0){const d=a.get(v);if(d){const r=d.shift();d.size===0&&a.delete(v);const l=D.Range.fromPositions(n.range.getEndPosition(),r.getStartPosition()),o=D.Range.fromPositions(n.range.getStartPosition(),r.getEndPosition());s.push({range:l}),s.push({range:o}),L._addBracketLeading(C,o,s)}}}else{const v=n.bracketInfo.getOpeningBrackets()[0].bracketText,u=i.has(v)?i.get(v):0;i.set(v,u+1)}b=n.range.getStartPosition()}}static _addBracketLeading(p,w,C){if(w.startLineNumber===w.endLineNumber)return;const b=w.startLineNumber,a=p.getLineFirstNonWhitespaceColumn(b);a!==0&&a!==w.startColumn&&(C.push({range:D.Range.fromPositions(new k.Position(b,a),w.getEndPosition())}),C.push({range:D.Range.fromPositions(new k.Position(b,1),w.getEndPosition())}));const s=b-1;if(s>0){const i=p.getLineFirstNonWhitespaceColumn(s);i===w.startColumn&&i!==p.getLineLastNonWhitespaceColumn(s)&&(C.push({range:D.Range.fromPositions(new k.Position(s,i),w.getEndPosition())}),C.push({range:D.Range.fromPositions(new k.Position(s,1),w.getEndPosition())}))}}}e.BracketSelectionRangeProvider=L,L._maxDuration=30,L._maxRounds=2}),define(te[589],ie([1,0,11,5]),function(J,e,m,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WordSelectionRangeProvider=void 0;class D{constructor(y=!0){this.selectSubwords=y}provideSelectionRanges(y,p){const w=[];for(const C of p){const b=[];w.push(b),this.selectSubwords&&this._addInWordRanges(b,y,C),this._addWordRanges(b,y,C),this._addWhitespaceLine(b,y,C),b.push({range:y.getFullModelRange()})}return w}_addInWordRanges(y,p,w){const C=p.getWordAtPosition(w);if(!C)return;const{word:b,startColumn:a}=C,s=w.column-a;let i=s,t=s,n=0;for(;i>=0;i--){const h=b.charCodeAt(i);if(i!==s&&(h===95||h===45))break;if((0,m.isLowerAsciiLetter)(h)&&(0,m.isUpperAsciiLetter)(n))break;n=h}for(i+=1;t<b.length;t++){const h=b.charCodeAt(t);if((0,m.isUpperAsciiLetter)(h)&&(0,m.isLowerAsciiLetter)(n))break;if(h===95||h===45)break;n=h}i<t&&y.push({range:new k.Range(w.lineNumber,a+i,w.lineNumber,a+t)})}_addWordRanges(y,p,w){const C=p.getWordAtPosition(w);C&&y.push({range:new k.Range(w.lineNumber,C.startColumn,w.lineNumber,C.endColumn)})}_addWhitespaceLine(y,p,w){p.getLineLength(w.lineNumber)>0&&p.getLineFirstNonWhitespaceColumn(w.lineNumber)===0&&p.getLineLastNonWhitespaceColumn(w.lineNumber)===0&&y.push({range:new k.Range(w.lineNumber,1,w.lineNumber,p.getLineMaxColumn(w.lineNumber))})}}e.WordSelectionRangeProvider=D}),define(te[128],ie([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SnippetParser=e.TextmateSnippet=e.Variable=e.FormatString=e.Transform=e.Choice=e.Placeholder=e.TransformableMarker=e.Text=e.Marker=e.Scanner=void 0;class m{constructor(){this.value="",this.pos=0}static isDigitCharacter(n){return n>=48&&n<=57}static isVariableCharacter(n){return n===95||n>=97&&n<=122||n>=65&&n<=90}text(n){this.value=n,this.pos=0}tokenText(n){return this.value.substr(n.pos,n.len)}next(){if(this.pos>=this.value.length)return{type:14,pos:this.pos,len:0};const n=this.pos;let h=0,v=this.value.charCodeAt(n),u;if(u=m._table[v],typeof u=="number")return this.pos+=1,{type:u,pos:n,len:1};if(m.isDigitCharacter(v)){u=8;do h+=1,v=this.value.charCodeAt(n+h);while(m.isDigitCharacter(v));return this.pos+=h,{type:u,pos:n,len:h}}if(m.isVariableCharacter(v)){u=9;do v=this.value.charCodeAt(n+ ++h);while(m.isVariableCharacter(v)||m.isDigitCharacter(v));return this.pos+=h,{type:u,pos:n,len:h}}u=10;do h+=1,v=this.value.charCodeAt(n+h);while(!isNaN(v)&&typeof m._table[v]>"u"&&!m.isDigitCharacter(v)&&!m.isVariableCharacter(v));return this.pos+=h,{type:u,pos:n,len:h}}}e.Scanner=m,m._table={36:0,58:1,44:2,123:3,125:4,92:5,47:6,124:7,43:11,45:12,63:13};class k{constructor(){this._children=[]}appendChild(n){return n instanceof D&&this._children[this._children.length-1]instanceof D?this._children[this._children.length-1].value+=n.value:(n.parent=this,this._children.push(n)),this}replace(n,h){const{parent:v}=n,u=v.children.indexOf(n),d=v.children.slice(0);d.splice(u,1,...h),v._children=d,function r(l,o){for(const g of l)g.parent=o,r(g.children,g)}(h,v)}get children(){return this._children}get rightMostDescendant(){return this._children.length>0?this._children[this._children.length-1].rightMostDescendant:this}get snippet(){let n=this;for(;;){if(!n)return;if(n instanceof s)return n;n=n.parent}}toString(){return this.children.reduce((n,h)=>n+h.toString(),"")}len(){return 0}}e.Marker=k;class D extends k{constructor(n){super(),this.value=n}toString(){return this.value}len(){return this.value.length}clone(){return new D(this.value)}}e.Text=D;class L extends k{}e.TransformableMarker=L;class y extends L{static compareByIndex(n,h){return n.index===h.index?0:n.isFinalTabstop?1:h.isFinalTabstop||n.index<h.index?-1:n.index>h.index?1:0}constructor(n){super(),this.index=n}get isFinalTabstop(){return this.index===0}get choice(){return this._children.length===1&&this._children[0]instanceof p?this._children[0]:void 0}clone(){const n=new y(this.index);return this.transform&&(n.transform=this.transform.clone()),n._children=this.children.map(h=>h.clone()),n}}e.Placeholder=y;class p extends k{constructor(){super(...arguments),this.options=[]}appendChild(n){return n instanceof D&&(n.parent=this,this.options.push(n)),this}toString(){return this.options[0].value}len(){return this.options[0].len()}clone(){const n=new p;return this.options.forEach(n.appendChild,n),n}}e.Choice=p;class w extends k{constructor(){super(...arguments),this.regexp=new RegExp("")}resolve(n){const h=this;let v=!1,u=n.replace(this.regexp,function(){return v=!0,h._replace(Array.prototype.slice.call(arguments,0,-2))});return!v&&this._children.some(d=>d instanceof C&&!!d.elseValue)&&(u=this._replace([])),u}_replace(n){let h="";for(const v of this._children)if(v instanceof C){let u=n[v.index]||"";u=v.resolve(u),h+=u}else h+=v.toString();return h}toString(){return""}clone(){const n=new w;return n.regexp=new RegExp(this.regexp.source,(this.regexp.ignoreCase?"i":"")+(this.regexp.global?"g":"")),n._children=this.children.map(h=>h.clone()),n}}e.Transform=w;class C extends k{constructor(n,h,v,u){super(),this.index=n,this.shorthandName=h,this.ifValue=v,this.elseValue=u}resolve(n){return this.shorthandName==="upcase"?n?n.toLocaleUpperCase():"":this.shorthandName==="downcase"?n?n.toLocaleLowerCase():"":this.shorthandName==="capitalize"?n?n[0].toLocaleUpperCase()+n.substr(1):"":this.shorthandName==="pascalcase"?n?this._toPascalCase(n):"":this.shorthandName==="camelcase"?n?this._toCamelCase(n):"":n&&typeof this.ifValue=="string"?this.ifValue:!n&&typeof this.elseValue=="string"?this.elseValue:n||""}_toPascalCase(n){const h=n.match(/[a-z0-9]+/gi);return h?h.map(v=>v.charAt(0).toUpperCase()+v.substr(1)).join(""):n}_toCamelCase(n){const h=n.match(/[a-z0-9]+/gi);return h?h.map((v,u)=>u===0?v.charAt(0).toLowerCase()+v.substr(1):v.charAt(0).toUpperCase()+v.substr(1)).join(""):n}clone(){return new C(this.index,this.shorthandName,this.ifValue,this.elseValue)}}e.FormatString=C;class b extends L{constructor(n){super(),this.name=n}resolve(n){let h=n.resolve(this);return this.transform&&(h=this.transform.resolve(h||"")),h!==void 0?(this._children=[new D(h)],!0):!1}clone(){const n=new b(this.name);return this.transform&&(n.transform=this.transform.clone()),n._children=this.children.map(h=>h.clone()),n}}e.Variable=b;function a(t,n){const h=[...t];for(;h.length>0;){const v=h.shift();if(!n(v))break;h.unshift(...v.children)}}class s extends k{get placeholderInfo(){if(!this._placeholders){const n=[];let h;this.walk(function(v){return v instanceof y&&(n.push(v),h=!h||h.index<v.index?v:h),!0}),this._placeholders={all:n,last:h}}return this._placeholders}get placeholders(){const{all:n}=this.placeholderInfo;return n}offset(n){let h=0,v=!1;return this.walk(u=>u===n?(v=!0,!1):(h+=u.len(),!0)),v?h:-1}fullLen(n){let h=0;return a([n],v=>(h+=v.len(),!0)),h}enclosingPlaceholders(n){const h=[];let{parent:v}=n;for(;v;)v instanceof y&&h.push(v),v=v.parent;return h}resolveVariables(n){return this.walk(h=>(h instanceof b&&h.resolve(n)&&(this._placeholders=void 0),!0)),this}appendChild(n){return this._placeholders=void 0,super.appendChild(n)}replace(n,h){return this._placeholders=void 0,super.replace(n,h)}clone(){const n=new s;return this._children=this.children.map(h=>h.clone()),n}walk(n){a(this.children,n)}}e.TextmateSnippet=s;class i{constructor(){this._scanner=new m,this._token={type:14,pos:0,len:0}}static escape(n){return n.replace(/\$|}|\\/g,"\\$&")}static guessNeedsClipboard(n){return/\${?CLIPBOARD/.test(n)}parse(n,h,v){const u=new s;return this.parseFragment(n,u),this.ensureFinalTabstop(u,v??!1,h??!1),u}parseFragment(n,h){const v=h.children.length;for(this._scanner.text(n),this._token=this._scanner.next();this._parse(h););const u=new Map,d=[];h.walk(o=>(o instanceof y&&(o.isFinalTabstop?u.set(0,void 0):!u.has(o.index)&&o.children.length>0?u.set(o.index,o.children):d.push(o)),!0));const r=(o,g)=>{const c=u.get(o.index);if(!c)return;const f=new y(o.index);f.transform=o.transform;for(const _ of c){const S=_.clone();f.appendChild(S),S instanceof y&&u.has(S.index)&&!g.has(S.index)&&(g.add(S.index),r(S,g),g.delete(S.index))}h.replace(o,[f])},l=new Set;for(const o of d)r(o,l);return h.children.slice(v)}ensureFinalTabstop(n,h,v){(h||v&&n.placeholders.length>0)&&(n.placeholders.find(d=>d.index===0)||n.appendChild(new y(0)))}_accept(n,h){if(n===void 0||this._token.type===n){const v=h?this._scanner.tokenText(this._token):!0;return this._token=this._scanner.next(),v}return!1}_backTo(n){return this._scanner.pos=n.pos+n.len,this._token=n,!1}_until(n){const h=this._token;for(;this._token.type!==n;){if(this._token.type===14)return!1;if(this._token.type===5){const u=this._scanner.next();if(u.type!==0&&u.type!==4&&u.type!==5)return!1}this._token=this._scanner.next()}const v=this._scanner.value.substring(h.pos,this._token.pos).replace(/\\(\$|}|\\)/g,"$1");return this._token=this._scanner.next(),v}_parse(n){return this._parseEscaped(n)||this._parseTabstopOrVariableName(n)||this._parseComplexPlaceholder(n)||this._parseComplexVariable(n)||this._parseAnything(n)}_parseEscaped(n){let h;return(h=this._accept(5,!0))?(h=this._accept(0,!0)||this._accept(4,!0)||this._accept(5,!0)||h,n.appendChild(new D(h)),!0):!1}_parseTabstopOrVariableName(n){let h;const v=this._token;return this._accept(0)&&(h=this._accept(9,!0)||this._accept(8,!0))?(n.appendChild(/^\d+$/.test(h)?new y(Number(h)):new b(h)),!0):this._backTo(v)}_parseComplexPlaceholder(n){let h;const v=this._token;if(!(this._accept(0)&&this._accept(3)&&(h=this._accept(8,!0))))return this._backTo(v);const d=new y(Number(h));if(this._accept(1))for(;;){if(this._accept(4))return n.appendChild(d),!0;if(!this._parse(d))return n.appendChild(new D("${"+h+":")),d.children.forEach(n.appendChild,n),!0}else if(d.index>0&&this._accept(7)){const r=new p;for(;;){if(this._parseChoiceElement(r)){if(this._accept(2))continue;if(this._accept(7)&&(d.appendChild(r),this._accept(4)))return n.appendChild(d),!0}return this._backTo(v),!1}}else return this._accept(6)?this._parseTransform(d)?(n.appendChild(d),!0):(this._backTo(v),!1):this._accept(4)?(n.appendChild(d),!0):this._backTo(v)}_parseChoiceElement(n){const h=this._token,v=[];for(;!(this._token.type===2||this._token.type===7);){let u;if((u=this._accept(5,!0))?u=this._accept(2,!0)||this._accept(7,!0)||this._accept(5,!0)||u:u=this._accept(void 0,!0),!u)return this._backTo(h),!1;v.push(u)}return v.length===0?(this._backTo(h),!1):(n.appendChild(new D(v.join(""))),!0)}_parseComplexVariable(n){let h;const v=this._token;if(!(this._accept(0)&&this._accept(3)&&(h=this._accept(9,!0))))return this._backTo(v);const d=new b(h);if(this._accept(1))for(;;){if(this._accept(4))return n.appendChild(d),!0;if(!this._parse(d))return n.appendChild(new D("${"+h+":")),d.children.forEach(n.appendChild,n),!0}else return this._accept(6)?this._parseTransform(d)?(n.appendChild(d),!0):(this._backTo(v),!1):this._accept(4)?(n.appendChild(d),!0):this._backTo(v)}_parseTransform(n){const h=new w;let v="",u="";for(;!this._accept(6);){let d;if(d=this._accept(5,!0)){d=this._accept(6,!0)||d,v+=d;continue}if(this._token.type!==14){v+=this._accept(void 0,!0);continue}return!1}for(;!this._accept(6);){let d;if(d=this._accept(5,!0)){d=this._accept(5,!0)||this._accept(6,!0)||d,h.appendChild(new D(d));continue}if(!(this._parseFormatString(h)||this._parseAnything(h)))return!1}for(;!this._accept(4);){if(this._token.type!==14){u+=this._accept(void 0,!0);continue}return!1}try{h.regexp=new RegExp(v,u)}catch{return!1}return n.transform=h,!0}_parseFormatString(n){const h=this._token;if(!this._accept(0))return!1;let v=!1;this._accept(3)&&(v=!0);const u=this._accept(8,!0);if(u)if(v){if(this._accept(4))return n.appendChild(new C(Number(u))),!0;if(!this._accept(1))return this._backTo(h),!1}else return n.appendChild(new C(Number(u))),!0;else return this._backTo(h),!1;if(this._accept(6)){const d=this._accept(9,!0);return!d||!this._accept(4)?(this._backTo(h),!1):(n.appendChild(new C(Number(u),d)),!0)}else if(this._accept(11)){const d=this._until(4);if(d)return n.appendChild(new C(Number(u),void 0,d,void 0)),!0}else if(this._accept(12)){const d=this._until(4);if(d)return n.appendChild(new C(Number(u),void 0,void 0,d)),!0}else if(this._accept(13)){const d=this._until(1);if(d){const r=this._until(4);if(r)return n.appendChild(new C(Number(u),void 0,d,r)),!0}}else{const d=this._until(4);if(d)return n.appendChild(new C(Number(u),void 0,void 0,d)),!0}return this._backTo(h),!1}_parseAnything(n){return this._token.type!==14?(n.appendChild(new D(this._scanner.tokenText(this._token))),this._accept(void 0),!0):!1}}e.SnippetParser=i}),define(te[327],ie([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StickyModel=e.StickyElement=e.StickyRange=void 0;class m{constructor(y,p){this.startLineNumber=y,this.endLineNumber=p}}e.StickyRange=m;class k{constructor(y,p,w){this.range=y,this.children=p,this.parent=w}}e.StickyElement=k;class D{constructor(y,p,w,C){this.uri=y,this.version=p,this.element=w,this.outlineProviderId=C}}e.StickyModel=D}),define(te[328],ie([1,0,13,76,11]),function(J,e,m,k,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompletionModel=e.LineContext=void 0;class L{constructor(w,C){this.leadingLineContent=w,this.characterCountDelta=C}}e.LineContext=L;class y{constructor(w,C,b,a,s,i,t=k.FuzzyScoreOptions.default,n=void 0){this.clipboardText=n,this._snippetCompareFn=y._compareCompletionItems,this._items=w,this._column=C,this._wordDistance=a,this._options=s,this._refilterKind=1,this._lineContext=b,this._fuzzyScoreOptions=t,i==="top"?this._snippetCompareFn=y._compareCompletionItemsSnippetsUp:i==="bottom"&&(this._snippetCompareFn=y._compareCompletionItemsSnippetsDown)}get lineContext(){return this._lineContext}set lineContext(w){(this._lineContext.leadingLineContent!==w.leadingLineContent||this._lineContext.characterCountDelta!==w.characterCountDelta)&&(this._refilterKind=this._lineContext.characterCountDelta<w.characterCountDelta&&this._filteredItems?2:1,this._lineContext=w)}get items(){return this._ensureCachedState(),this._filteredItems}getItemsByProvider(){return this._ensureCachedState(),this._itemsByProvider}getIncompleteProvider(){this._ensureCachedState();const w=new Set;for(const[C,b]of this.getItemsByProvider())b.length>0&&b[0].container.incomplete&&w.add(C);return w}get stats(){return this._ensureCachedState(),this._stats}_ensureCachedState(){this._refilterKind!==0&&this._createCachedState()}_createCachedState(){this._itemsByProvider=new Map;const w=[],{leadingLineContent:C,characterCountDelta:b}=this._lineContext;let a="",s="";const i=this._refilterKind===1?this._items:this._filteredItems,t=[],n=!this._options.filterGraceful||i.length>2e3?k.fuzzyScore:k.fuzzyScoreGracefulAggressive;for(let h=0;h<i.length;h++){const v=i[h];if(v.isInvalid)continue;const u=this._itemsByProvider.get(v.provider);u?u.push(v):this._itemsByProvider.set(v.provider,[v]);const d=v.position.column-v.editStart.column,r=d+b-(v.position.column-this._column);if(a.length!==r&&(a=r===0?"":C.slice(-r),s=a.toLowerCase()),v.word=a,r===0)v.score=k.FuzzyScore.Default;else{let l=0;for(;l<d;){const o=a.charCodeAt(l);if(o===32||o===9)l+=1;else break}if(l>=r)v.score=k.FuzzyScore.Default;else if(typeof v.completion.filterText=="string"){const o=n(a,s,l,v.completion.filterText,v.filterTextLow,0,this._fuzzyScoreOptions);if(!o)continue;(0,D.compareIgnoreCase)(v.completion.filterText,v.textLabel)===0?v.score=o:(v.score=(0,k.anyScore)(a,s,l,v.textLabel,v.labelLow,0),v.score[0]=o[0])}else{const o=n(a,s,l,v.textLabel,v.labelLow,0,this._fuzzyScoreOptions);if(!o)continue;v.score=o}}v.idx=h,v.distance=this._wordDistance.distance(v.position,v.completion),t.push(v),w.push(v.textLabel.length)}this._filteredItems=t.sort(this._snippetCompareFn),this._refilterKind=0,this._stats={pLabelLen:w.length?(0,m.quickSelect)(w.length-.85,w,(h,v)=>h-v):0}}static _compareCompletionItems(w,C){return w.score[0]>C.score[0]?-1:w.score[0]<C.score[0]?1:w.distance<C.distance?-1:w.distance>C.distance?1:w.idx<C.idx?-1:w.idx>C.idx?1:0}static _compareCompletionItemsSnippetsDown(w,C){if(w.completion.kind!==C.completion.kind){if(w.completion.kind===27)return 1;if(C.completion.kind===27)return-1}return y._compareCompletionItems(w,C)}static _compareCompletionItemsSnippetsUp(w,C){if(w.completion.kind!==C.completion.kind){if(w.completion.kind===27)return-1;if(C.completion.kind===27)return 1}return y._compareCompletionItems(w,C)}}e.CompletionModel=y}),define(te[590],ie([1,0,13,2,138]),function(J,e,m,k,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CommitCharacterController=void 0;class L{constructor(p,w,C,b){this._disposables=new k.DisposableStore,this._disposables.add(C.onDidSuggest(a=>{a.completionModel.items.length===0&&this.reset()})),this._disposables.add(C.onDidCancel(a=>{this.reset()})),this._disposables.add(w.onDidShow(()=>this._onItem(w.getFocusedItem()))),this._disposables.add(w.onDidFocus(this._onItem,this)),this._disposables.add(w.onDidHide(this.reset,this)),this._disposables.add(p.onWillType(a=>{if(this._active&&!w.isFrozen()&&C.state!==0){const s=a.charCodeAt(a.length-1);this._active.acceptCharacters.has(s)&&p.getOption(0)&&b(this._active.item)}}))}_onItem(p){if(!p||!(0,m.isNonEmptyArray)(p.item.completion.commitCharacters)){this.reset();return}if(this._active&&this._active.item.item===p.item)return;const w=new D.CharacterSet;for(const C of p.item.completion.commitCharacters)C.length>0&&w.add(C.charCodeAt(0));this._active={acceptCharacters:w,item:p}}reset(){this._active=void 0}dispose(){this._disposables.dispose()}}e.CommitCharacterController=L}),define(te[591],ie([1,0,2]),function(J,e,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OvertypingCapturer=void 0;class k{constructor(L,y){this._disposables=new m.DisposableStore,this._lastOvertyped=[],this._locked=!1,this._disposables.add(L.onWillType(()=>{if(this._locked||!L.hasModel())return;const p=L.getSelections(),w=p.length;let C=!1;for(let a=0;a<w;a++)if(!p[a].isEmpty()){C=!0;break}if(!C){this._lastOvertyped.length!==0&&(this._lastOvertyped.length=0);return}this._lastOvertyped=[];const b=L.getModel();for(let a=0;a<w;a++){const s=p[a];if(b.getValueLengthInRange(s)>k._maxSelectionLength)return;this._lastOvertyped[a]={value:b.getValueInRange(s),multiline:s.startLineNumber!==s.endLineNumber}}})),this._disposables.add(y.onDidTrigger(p=>{this._locked=!0})),this._disposables.add(y.onDidCancel(p=>{this._locked=!1}))}getLastOvertypedInfo(L){if(L>=0&&L<this._lastOvertyped.length)return this._lastOvertyped[L]}dispose(){this._disposables.dispose()}}e.OvertypingCapturer=k,k._maxSelectionLength=51200}),define(te[329],ie([1,0,13,5,326]),function(J,e,m,k,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WordDistance=void 0;class L{static async create(p,w){if(!w.getOption(118).localityBonus||!w.hasModel())return L.None;const C=w.getModel(),b=w.getPosition();if(!p.canComputeWordRanges(C.uri))return L.None;const[a]=await new D.BracketSelectionRangeProvider().provideSelectionRanges(C,[b]);if(a.length===0)return L.None;const s=await p.computeWordRanges(C.uri,a[0].range);if(!s)return L.None;const i=C.getWordUntilPosition(b);return delete s[i.word],new class extends L{distance(t,n){if(!b.equals(w.getPosition()))return 0;if(n.kind===17)return 2<<20;const h=typeof n.label=="string"?n.label:n.label.label,v=s[h];if((0,m.isFalsyOrEmpty)(v))return 2<<20;const u=(0,m.binarySearch)(v,k.Range.fromPositions(t),k.Range.compareRangesUsingStarts),d=u>=0?v[u]:v[Math.max(0,~u-1)];let r=a.length;for(const l of a){if(!k.Range.containsRange(l.range,d))break;r-=1}return r}}}}e.WordDistance=L,L.None=new class extends L{distance(){return 0}}}),define(te[330],ie([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isFuzzyActionArr=m,e.isFuzzyAction=k,e.isString=D,e.isIAction=L,e.empty=y,e.fixCase=p,e.sanitize=w,e.log=C,e.createError=b,e.substituteMatches=a,e.substituteMatchesRe=s,e.findRules=i,e.stateExists=t;function m(n){return Array.isArray(n)}function k(n){return!m(n)}function D(n){return typeof n=="string"}function L(n){return!D(n)}function y(n){return!n}function p(n,h){return n.ignoreCase&&h?h.toLowerCase():h}function w(n){return n.replace(/[&<>'"_]/g,"-")}function C(n,h){console.log(`${n.languageId}: ${h}`)}function b(n,h){return new Error(`${n.languageId}: ${h}`)}function a(n,h,v,u,d){const r=/\$((\$)|(#)|(\d\d?)|[sS](\d\d?)|@(\w+))/g;let l=null;return h.replace(r,function(o,g,c,f,_,S,I,E,T){return y(c)?y(f)?!y(_)&&_<u.length?p(n,u[_]):!y(I)&&n&&typeof n[I]=="string"?n[I]:(l===null&&(l=d.split("."),l.unshift(d)),!y(S)&&S<l.length?p(n,l[S]):""):p(n,v):"$"})}function s(n,h,v){const u=/\$[sS](\d\d?)/g;let d=null;return h.replace(u,function(r,l){return d===null&&(d=v.split("."),d.unshift(v)),!y(l)&&l<d.length?p(n,d[l]):""})}function i(n,h){let v=h;for(;v&&v.length>0;){const u=n.tokenizer[v];if(u)return u;const d=v.lastIndexOf(".");d<0?v=null:v=v.substr(0,d)}return null}function t(n,h){let v=h;for(;v&&v.length>0;){if(n.stateNames[v])return!0;const d=v.lastIndexOf(".");d<0?v=null:v=v.substr(0,d)}return!1}}),define(te[592],ie([1,0,330]),function(J,e,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.compile=i;function k(t,n){if(!n||!Array.isArray(n))return!1;for(const h of n)if(!t(h))return!1;return!0}function D(t,n){return typeof t=="boolean"?t:n}function L(t,n){return typeof t=="string"?t:n}function y(t){const n={};for(const h of t)n[h]=!0;return n}function p(t,n=!1){n&&(t=t.map(function(v){return v.toLowerCase()}));const h=y(t);return n?function(v){return h[v.toLowerCase()]!==void 0&&h.hasOwnProperty(v.toLowerCase())}:function(v){return h[v]!==void 0&&h.hasOwnProperty(v)}}function w(t,n,h){n=n.replace(/@@/g,"");let v=0,u;do u=!1,n=n.replace(/@(\w+)/g,function(r,l){u=!0;let o="";if(typeof t[l]=="string")o=t[l];else if(t[l]&&t[l]instanceof RegExp)o=t[l].source;else throw t[l]===void 0?m.createError(t,"language definition does not contain attribute '"+l+"', used at: "+n):m.createError(t,"attribute reference '"+l+"' must be a string, used at: "+n);return m.empty(o)?"":"(?:"+o+")"}),v++;while(u&&v<5);n=n.replace(/\x01/g,"@");const d=(t.ignoreCase?"i":"")+(t.unicode?"u":"");if(h&&n.match(/\$[sS](\d\d?)/g)){let l=null,o=null;return g=>(o&&l===g||(l=g,o=new RegExp(m.substituteMatchesRe(t,n,g),d)),o)}return new RegExp(n,d)}function C(t,n,h,v){if(v<0)return t;if(v<n.length)return n[v];if(v>=100){v=v-100;const u=h.split(".");if(u.unshift(h),v<u.length)return u[v]}return null}function b(t,n,h,v){let u=-1,d=h,r=h.match(/^\$(([sS]?)(\d\d?)|#)(.*)$/);r&&(r[3]&&(u=parseInt(r[3]),r[2]&&(u=u+100)),d=r[4]);let l="~",o=d;!d||d.length===0?(l="!=",o=""):/^\w*$/.test(o)?l="==":(r=d.match(/^(@|!@|~|!~|==|!=)(.*)$/),r&&(l=r[1],o=r[2]));let g;if((l==="~"||l==="!~")&&/^(\w|\|)*$/.test(o)){const c=p(o.split("|"),t.ignoreCase);g=function(f){return l==="~"?c(f):!c(f)}}else if(l==="@"||l==="!@"){const c=t[o];if(!c)throw m.createError(t,"the @ match target '"+o+"' is not defined, in rule: "+n);if(!k(function(_){return typeof _=="string"},c))throw m.createError(t,"the @ match target '"+o+"' must be an array of strings, in rule: "+n);const f=p(c,t.ignoreCase);g=function(_){return l==="@"?f(_):!f(_)}}else if(l==="~"||l==="!~")if(o.indexOf("$")<0){const c=w(t,"^"+o+"$",!1);g=function(f){return l==="~"?c.test(f):!c.test(f)}}else g=function(c,f,_,S){return w(t,"^"+m.substituteMatches(t,o,f,_,S)+"$",!1).test(c)};else if(o.indexOf("$")<0){const c=m.fixCase(t,o);g=function(f){return l==="=="?f===c:f!==c}}else{const c=m.fixCase(t,o);g=function(f,_,S,I,E){const T=m.substituteMatches(t,c,_,S,I);return l==="=="?f===T:f!==T}}return u===-1?{name:h,value:v,test:function(c,f,_,S){return g(c,c,f,_,S)}}:{name:h,value:v,test:function(c,f,_,S){const I=C(c,f,_,u);return g(I||"",c,f,_,S)}}}function a(t,n,h){if(h){if(typeof h=="string")return h;if(h.token||h.token===""){if(typeof h.token!="string")throw m.createError(t,"a 'token' attribute must be of type string, in rule: "+n);{const v={token:h.token};if(h.token.indexOf("$")>=0&&(v.tokenSubst=!0),typeof h.bracket=="string")if(h.bracket==="@open")v.bracket=1;else if(h.bracket==="@close")v.bracket=-1;else throw m.createError(t,"a 'bracket' attribute must be either '@open' or '@close', in rule: "+n);if(h.next){if(typeof h.next!="string")throw m.createError(t,"the next state must be a string value in rule: "+n);{let u=h.next;if(!/^(@pop|@push|@popall)$/.test(u)&&(u[0]==="@"&&(u=u.substr(1)),u.indexOf("$")<0&&!m.stateExists(t,m.substituteMatches(t,u,"",[],""))))throw m.createError(t,"the next state '"+h.next+"' is not defined in rule: "+n);v.next=u}}return typeof h.goBack=="number"&&(v.goBack=h.goBack),typeof h.switchTo=="string"&&(v.switchTo=h.switchTo),typeof h.log=="string"&&(v.log=h.log),typeof h.nextEmbedded=="string"&&(v.nextEmbedded=h.nextEmbedded,t.usesEmbedded=!0),v}}else if(Array.isArray(h)){const v=[];for(let u=0,d=h.length;u<d;u++)v[u]=a(t,n,h[u]);return{group:v}}else if(h.cases){const v=[];for(const d in h.cases)if(h.cases.hasOwnProperty(d)){const r=a(t,n,h.cases[d]);d==="@default"||d==="@"||d===""?v.push({test:void 0,value:r,name:d}):d==="@eos"?v.push({test:function(l,o,g,c){return c},value:r,name:d}):v.push(b(t,n,d,r))}const u=t.defaultToken;return{test:function(d,r,l,o){for(const g of v)if(!g.test||g.test(d,r,l,o))return g.value;return u}}}else throw m.createError(t,"an action must be a string, an object with a 'token' or 'cases' attribute, or an array of actions; in rule: "+n)}else return{token:""}}class s{constructor(n){this.regex=new RegExp(""),this.action={token:""},this.matchOnlyAtLineStart=!1,this.name="",this.name=n}setRegex(n,h){let v;if(typeof h=="string")v=h;else if(h instanceof RegExp)v=h.source;else throw m.createError(n,"rules must start with a match string or regular expression: "+this.name);this.matchOnlyAtLineStart=v.length>0&&v[0]==="^",this.name=this.name+": "+v,this.regex=w(n,"^(?:"+(this.matchOnlyAtLineStart?v.substr(1):v)+")",!0)}setAction(n,h){this.action=a(n,this.name,h)}resolveRegex(n){return this.regex instanceof RegExp?this.regex:this.regex(n)}}function i(t,n){if(!n||typeof n!="object")throw new Error("Monarch: expecting a language definition object");const h={};h.languageId=t,h.includeLF=D(n.includeLF,!1),h.noThrow=!1,h.maxStack=100,h.start=typeof n.start=="string"?n.start:null,h.ignoreCase=D(n.ignoreCase,!1),h.unicode=D(n.unicode,!1),h.tokenPostfix=L(n.tokenPostfix,"."+h.languageId),h.defaultToken=L(n.defaultToken,"source"),h.usesEmbedded=!1;const v=n;v.languageId=t,v.includeLF=h.includeLF,v.ignoreCase=h.ignoreCase,v.unicode=h.unicode,v.noThrow=h.noThrow,v.usesEmbedded=h.usesEmbedded,v.stateNames=n.tokenizer,v.defaultToken=h.defaultToken;function u(r,l,o){for(const g of o){let c=g.include;if(c){if(typeof c!="string")throw m.createError(h,"an 'include' attribute must be a string at: "+r);if(c[0]==="@"&&(c=c.substr(1)),!n.tokenizer[c])throw m.createError(h,"include target '"+c+"' is not defined at: "+r);u(r+"."+c,l,n.tokenizer[c])}else{const f=new s(r);if(Array.isArray(g)&&g.length>=1&&g.length<=3)if(f.setRegex(v,g[0]),g.length>=3)if(typeof g[1]=="string")f.setAction(v,{token:g[1],next:g[2]});else if(typeof g[1]=="object"){const _=g[1];_.next=g[2],f.setAction(v,_)}else throw m.createError(h,"a next state as the last element of a rule can only be given if the action is either an object or a string, at: "+r);else f.setAction(v,g[1]);else{if(!g.regex)throw m.createError(h,"a rule must either be an array, or an object with a 'regex' or 'include' field at: "+r);g.name&&typeof g.name=="string"&&(f.name=g.name),g.matchOnlyAtStart&&(f.matchOnlyAtLineStart=D(g.matchOnlyAtLineStart,!1)),f.setRegex(v,g.regex),f.setAction(v,g.action)}l.push(f)}}}if(!n.tokenizer||typeof n.tokenizer!="object")throw m.createError(h,"a language definition must define the 'tokenizer' attribute as an object");h.tokenizer=[];for(const r in n.tokenizer)if(n.tokenizer.hasOwnProperty(r)){h.start||(h.start=r);const l=n.tokenizer[r];h.tokenizer[r]=new Array,u("tokenizer."+r,h.tokenizer[r],l)}if(h.usesEmbedded=v.usesEmbedded,n.brackets){if(!Array.isArray(n.brackets))throw m.createError(h,"the 'brackets' attribute must be defined as an array")}else n.brackets=[{open:"{",close:"}",token:"delimiter.curly"},{open:"[",close:"]",token:"delimiter.square"},{open:"(",close:")",token:"delimiter.parenthesis"},{open:"<",close:">",token:"delimiter.angle"}];const d=[];for(const r of n.brackets){let l=r;if(l&&Array.isArray(l)&&l.length===3&&(l={token:l[2],open:l[0],close:l[1]}),l.open===l.close)throw m.createError(h,"open and close brackets in a 'brackets' attribute must be different: "+l.open+`
 hint: use the 'bracket' attribute if matching on equal brackets is required.`);if(typeof l.open=="string"&&typeof l.token=="string"&&typeof l.close=="string")d.push({token:l.token+h.tokenPostfix,open:m.fixCase(h,l.open),close:m.fixCase(h,l.close)});else throw m.createError(h,"every element in the 'brackets' array must be a '{open,close,token}' object or array")}return h.brackets=d,h.noThrow=!0,h}}),define(te[593],ie([3,4]),function(J,e){return J.create("vs/base/browser/ui/actionbar/actionViewItems",e)}),define(te[594],ie([3,4]),function(J,e){return J.create("vs/base/browser/ui/findinput/findInput",e)}),define(te[595],ie([3,4]),function(J,e){return J.create("vs/base/browser/ui/findinput/findInputToggles",e)}),define(te[596],ie([3,4]),function(J,e){return J.create("vs/base/browser/ui/findinput/replaceInput",e)}),define(te[597],ie([3,4]),function(J,e){return J.create("vs/base/browser/ui/hover/hoverWidget",e)}),define(te[598],ie([3,4]),function(J,e){return J.create("vs/base/browser/ui/hover/updatableHoverWidget",e)}),define(te[599],ie([3,4]),function(J,e){return J.create("vs/base/browser/ui/inputbox/inputBox",e)}),define(te[600],ie([3,4]),function(J,e){return J.create("vs/base/browser/ui/keybindingLabel/keybindingLabel",e)}),define(te[601],ie([3,4]),function(J,e){return J.create("vs/base/browser/ui/selectBox/selectBoxCustom",e)}),define(te[602],ie([3,4]),function(J,e){return J.create("vs/base/browser/ui/toolbar/toolbar",e)}),define(te[603],ie([3,4]),function(J,e){return J.create("vs/base/browser/ui/tree/abstractTree",e)}),define(te[604],ie([3,4]),function(J,e){return J.create("vs/base/common/actions",e)}),define(te[41],ie([1,0,7,2,604]),function(J,e,m,k,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EmptySubmenuAction=e.SubmenuAction=e.Separator=e.ActionRunner=e.Action=void 0,e.toAction=b;class L extends k.Disposable{constructor(s,i="",t="",n=!0,h){super(),this._onDidChange=this._register(new m.Emitter),this.onDidChange=this._onDidChange.event,this._enabled=!0,this._id=s,this._label=i,this._cssClass=t,this._enabled=n,this._actionCallback=h}get id(){return this._id}get label(){return this._label}set label(s){this._setLabel(s)}_setLabel(s){this._label!==s&&(this._label=s,this._onDidChange.fire({label:s}))}get tooltip(){return this._tooltip||""}set tooltip(s){this._setTooltip(s)}_setTooltip(s){this._tooltip!==s&&(this._tooltip=s,this._onDidChange.fire({tooltip:s}))}get class(){return this._cssClass}set class(s){this._setClass(s)}_setClass(s){this._cssClass!==s&&(this._cssClass=s,this._onDidChange.fire({class:s}))}get enabled(){return this._enabled}set enabled(s){this._setEnabled(s)}_setEnabled(s){this._enabled!==s&&(this._enabled=s,this._onDidChange.fire({enabled:s}))}get checked(){return this._checked}set checked(s){this._setChecked(s)}_setChecked(s){this._checked!==s&&(this._checked=s,this._onDidChange.fire({checked:s}))}async run(s,i){this._actionCallback&&await this._actionCallback(s)}}e.Action=L;class y extends k.Disposable{constructor(){super(...arguments),this._onWillRun=this._register(new m.Emitter),this.onWillRun=this._onWillRun.event,this._onDidRun=this._register(new m.Emitter),this.onDidRun=this._onDidRun.event}async run(s,i){if(!s.enabled)return;this._onWillRun.fire({action:s});let t;try{await this.runAction(s,i)}catch(n){t=n}this._onDidRun.fire({action:s,error:t})}async runAction(s,i){await s.run(i)}}e.ActionRunner=y;class p{constructor(){this.id=p.ID,this.label="",this.tooltip="",this.class="separator",this.enabled=!1,this.checked=!1}static join(...s){let i=[];for(const t of s)t.length&&(i.length?i=[...i,new p,...t]:i=t);return i}async run(){}}e.Separator=p,p.ID="vs.actions.separator";class w{get actions(){return this._actions}constructor(s,i,t,n){this.tooltip="",this.enabled=!0,this.checked=void 0,this.id=s,this.label=i,this.class=n,this._actions=t}async run(){}}e.SubmenuAction=w;class C extends L{constructor(){super(C.ID,D.localize(0,null),void 0,!1)}}e.EmptySubmenuAction=C,C.ID="vs.actions.empty";function b(a){var s;return{id:a.id,label:a.label,class:a.class,enabled:(s=a.enabled)!==null&&s!==void 0?s:!0,checked:a.checked,run:async(...i)=>a.run(...i),tooltip:a.label}}}),define(te[331],ie([1,0,41]),function(J,e,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ActionRunnerWithContext=void 0;class k extends m.ActionRunner{constructor(L){super(),this._getContext=L}runAction(L,y){const p=this._getContext();return super.runAction(L,p)}}e.ActionRunnerWithContext=k}),define(te[605],ie([3,4]),function(J,e){return J.create("vs/base/common/errorMessage",e)}),define(te[606],ie([1,0,13,21,605]),function(J,e,m,k,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toErrorMessage=w;function L(C,b){return b&&(C.stack||C.stacktrace)?D.localize(0,null,p(C),y(C.stack)||y(C.stacktrace)):p(C)}function y(C){return Array.isArray(C)?C.join(`
`):C}function p(C){return C.code==="ERR_UNC_HOST_NOT_ALLOWED"?`${C.message}. Please update the 'security.allowedUNCHosts' setting if you want to allow this host.`:typeof C.code=="string"&&typeof C.errno=="number"&&typeof C.syscall=="string"?D.localize(1,null,C.message):C.message||D.localize(2,null)}function w(C=null,b=!1){if(!C)return D.localize(3,null);if(Array.isArray(C)){const a=m.coalesce(C),s=w(a[0],b);return a.length>1?D.localize(4,null,s,a.length):s}if(k.isString(C))return C;if(C.detail){const a=C.detail;if(a.error)return L(a.error,b);if(a.exception)return L(a.exception,b)}return C.stack?L(C,b):C.message?C.message:D.localize(5,null)}}),define(te[607],ie([3,4]),function(J,e){return J.create("vs/base/common/keybindingLabels",e)}),define(te[234],ie([1,0,607]),function(J,e,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UserSettingsLabelProvider=e.ElectronAcceleratorLabelProvider=e.AriaLabelProvider=e.UILabelProvider=e.ModifierLabelProvider=void 0;class k{constructor(y,p,w=p){this.modifierLabels=[null],this.modifierLabels[2]=y,this.modifierLabels[1]=p,this.modifierLabels[3]=w}toLabel(y,p,w){if(p.length===0)return null;const C=[];for(let b=0,a=p.length;b<a;b++){const s=p[b],i=w(s);if(i===null)return null;C[b]=D(s,i,this.modifierLabels[y])}return C.join(" ")}}e.ModifierLabelProvider=k,e.UILabelProvider=new k({ctrlKey:"\u2303",shiftKey:"\u21E7",altKey:"\u2325",metaKey:"\u2318",separator:""},{ctrlKey:m.localize(0,null),shiftKey:m.localize(1,null),altKey:m.localize(2,null),metaKey:m.localize(3,null),separator:"+"},{ctrlKey:m.localize(4,null),shiftKey:m.localize(5,null),altKey:m.localize(6,null),metaKey:m.localize(7,null),separator:"+"}),e.AriaLabelProvider=new k({ctrlKey:m.localize(8,null),shiftKey:m.localize(9,null),altKey:m.localize(10,null),metaKey:m.localize(11,null),separator:"+"},{ctrlKey:m.localize(12,null),shiftKey:m.localize(13,null),altKey:m.localize(14,null),metaKey:m.localize(15,null),separator:"+"},{ctrlKey:m.localize(16,null),shiftKey:m.localize(17,null),altKey:m.localize(18,null),metaKey:m.localize(19,null),separator:"+"}),e.ElectronAcceleratorLabelProvider=new k({ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Cmd",separator:"+"},{ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Super",separator:"+"}),e.UserSettingsLabelProvider=new k({ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"cmd",separator:"+"},{ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"win",separator:"+"},{ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"meta",separator:"+"});function D(L,y,p){if(y===null)return"";const w=[];return L.ctrlKey&&w.push(p.ctrlKey),L.shiftKey&&w.push(p.shiftKey),L.altKey&&w.push(p.altKey),L.metaKey&&w.push(p.metaKey),y!==""&&w.push(y),w.join(p.separator)}}),define(te[608],ie([3,4]),function(J,e){return J.create("vs/base/common/platform",e)}),define(te[17],ie([1,0,608]),function(J,e,m){"use strict";var k,D;Object.defineProperty(e,"__esModule",{value:!0}),e.isAndroid=e.isEdge=e.isSafari=e.isFirefox=e.isChrome=e.OS=e.setTimeout0=e.setTimeout0IsFaster=e.language=e.userAgent=e.isMobile=e.isIOS=e.webWorkerOrigin=e.isWebWorker=e.isWeb=e.isNative=e.isLinux=e.isMacintosh=e.isWindows=e.LANGUAGE_DEFAULT=void 0,e.isLittleEndian=S,e.LANGUAGE_DEFAULT="en";let L=!1,y=!1,p=!1,w=!1,C=!1,b=!1,a=!1,s=!1,i=!1,t=!1,n,h=e.LANGUAGE_DEFAULT,v=e.LANGUAGE_DEFAULT,u,d;const r=globalThis;let l;typeof r.vscode<"u"&&typeof r.vscode.process<"u"?l=r.vscode.process:typeof process<"u"&&typeof((k=process==null?void 0:process.versions)===null||k===void 0?void 0:k.node)=="string"&&(l=process);const o=typeof((D=l?.versions)===null||D===void 0?void 0:D.electron)=="string",g=o&&l?.type==="renderer";if(typeof l=="object"){L=l.platform==="win32",y=l.platform==="darwin",p=l.platform==="linux",w=p&&!!l.env.SNAP&&!!l.env.SNAP_REVISION,a=o,i=!!l.env.CI||!!l.env.BUILD_ARTIFACTSTAGINGDIRECTORY,n=e.LANGUAGE_DEFAULT,h=e.LANGUAGE_DEFAULT;const I=l.env.VSCODE_NLS_CONFIG;if(I)try{const E=JSON.parse(I),T=E.availableLanguages["*"];n=E.locale,v=E.osLocale,h=T||e.LANGUAGE_DEFAULT,u=E._translationsConfigFile}catch{}C=!0}else typeof navigator=="object"&&!g?(d=navigator.userAgent,L=d.indexOf("Windows")>=0,y=d.indexOf("Macintosh")>=0,s=(d.indexOf("Macintosh")>=0||d.indexOf("iPad")>=0||d.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0,p=d.indexOf("Linux")>=0,t=d?.indexOf("Mobi")>=0,b=!0,n=m.getConfiguredDefaultLocale(m.localize(0,null))||e.LANGUAGE_DEFAULT,h=n,v=navigator.language):console.error("Unable to resolve platform.");let c=0;y?c=1:L?c=3:p&&(c=2),e.isWindows=L,e.isMacintosh=y,e.isLinux=p,e.isNative=C,e.isWeb=b,e.isWebWorker=b&&typeof r.importScripts=="function",e.webWorkerOrigin=e.isWebWorker?r.origin:void 0,e.isIOS=s,e.isMobile=t,e.userAgent=d,e.language=h,e.setTimeout0IsFaster=typeof r.postMessage=="function"&&!r.importScripts,e.setTimeout0=(()=>{if(e.setTimeout0IsFaster){const I=[];r.addEventListener("message",T=>{if(T.data&&T.data.vscodeScheduleAsyncWork)for(let N=0,A=I.length;N<A;N++){const O=I[N];if(O.id===T.data.vscodeScheduleAsyncWork){I.splice(N,1),O.callback();return}}});let E=0;return T=>{const N=++E;I.push({id:N,callback:T}),r.postMessage({vscodeScheduleAsyncWork:N},"*")}}return I=>setTimeout(I)})(),e.OS=y||s?2:L?1:3;let f=!0,_=!1;function S(){if(!_){_=!0;const I=new Uint8Array(2);I[0]=1,I[1]=2,f=new Uint16Array(I.buffer)[0]===513}return f}e.isChrome=!!(e.userAgent&&e.userAgent.indexOf("Chrome")>=0),e.isFirefox=!!(e.userAgent&&e.userAgent.indexOf("Firefox")>=0),e.isSafari=!!(!e.isChrome&&e.userAgent&&e.userAgent.indexOf("Safari")>=0),e.isEdge=!!(e.userAgent&&e.userAgent.indexOf("Edg/")>=0),e.isAndroid=!!(e.userAgent&&e.userAgent.indexOf("Android")>=0)}),define(te[235],ie([1,0,62,52,17]),function(J,e,m,k,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BrowserFeatures=void 0,e.BrowserFeatures={clipboard:{writeText:D.isNative||document.queryCommandSupported&&document.queryCommandSupported("copy")||!!(navigator&&navigator.clipboard&&navigator.clipboard.writeText),readText:D.isNative||!!(navigator&&navigator.clipboard&&navigator.clipboard.readText)},keyboard:D.isNative||m.isStandalone()?0:navigator.keyboard||m.isSafari?1:2,touch:"ontouchstart"in k.mainWindow||navigator.maxTouchPoints>0,pointerEvents:k.mainWindow.PointerEvent&&("ontouchstart"in k.mainWindow||navigator.maxTouchPoints>0)}}),define(te[609],ie([1,0,17]),function(J,e,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_FONT_FAMILY=void 0,e.DEFAULT_FONT_FAMILY=m.isWindows?'"Segoe WPC", "Segoe UI", sans-serif':m.isMacintosh?"-apple-system, BlinkMacSystemFont, sans-serif":'system-ui, "Ubuntu", "Droid Sans", sans-serif'}),define(te[48],ie([1,0,62,68,133,17]),function(J,e,m,k,D,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandardKeyboardEvent=void 0;function y(s){if(s.charCode){const t=String.fromCharCode(s.charCode).toUpperCase();return k.KeyCodeUtils.fromString(t)}const i=s.keyCode;if(i===3)return 7;if(m.isFirefox)switch(i){case 59:return 85;case 60:if(L.isLinux)return 97;break;case 61:return 86;case 107:return 109;case 109:return 111;case 173:return 88;case 224:if(L.isMacintosh)return 57;break}else if(m.isWebKit){if(L.isMacintosh&&i===93)return 57;if(!L.isMacintosh&&i===92)return 57}return k.EVENT_KEY_CODE_MAP[i]||0}const p=L.isMacintosh?256:2048,w=512,C=1024,b=L.isMacintosh?2048:256;class a{constructor(i){var t;this._standardKeyboardEventBrand=!0;const n=i;this.browserEvent=n,this.target=n.target,this.ctrlKey=n.ctrlKey,this.shiftKey=n.shiftKey,this.altKey=n.altKey,this.metaKey=n.metaKey,this.altGraphKey=(t=n.getModifierState)===null||t===void 0?void 0:t.call(n,"AltGraph"),this.keyCode=y(n),this.code=n.code,this.ctrlKey=this.ctrlKey||this.keyCode===5,this.altKey=this.altKey||this.keyCode===6,this.shiftKey=this.shiftKey||this.keyCode===4,this.metaKey=this.metaKey||this.keyCode===57,this._asKeybinding=this._computeKeybinding(),this._asKeyCodeChord=this._computeKeyCodeChord()}preventDefault(){this.browserEvent&&this.browserEvent.preventDefault&&this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent&&this.browserEvent.stopPropagation&&this.browserEvent.stopPropagation()}toKeyCodeChord(){return this._asKeyCodeChord}equals(i){return this._asKeybinding===i}_computeKeybinding(){let i=0;this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57&&(i=this.keyCode);let t=0;return this.ctrlKey&&(t|=p),this.altKey&&(t|=w),this.shiftKey&&(t|=C),this.metaKey&&(t|=b),t|=i,t}_computeKeyCodeChord(){let i=0;return this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57&&(i=this.keyCode),new D.KeyCodeChord(this.ctrlKey,this.shiftKey,this.altKey,this.metaKey,i)}}e.StandardKeyboardEvent=a}),define(te[72],ie([1,0,62,414,17]),function(J,e,m,k,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandardWheelEvent=e.StandardMouseEvent=void 0;class L{constructor(w,C){this.timestamp=Date.now(),this.browserEvent=C,this.leftButton=C.button===0,this.middleButton=C.button===1,this.rightButton=C.button===2,this.buttons=C.buttons,this.target=C.target,this.detail=C.detail||1,C.type==="dblclick"&&(this.detail=2),this.ctrlKey=C.ctrlKey,this.shiftKey=C.shiftKey,this.altKey=C.altKey,this.metaKey=C.metaKey,typeof C.pageX=="number"?(this.posx=C.pageX,this.posy=C.pageY):(this.posx=C.clientX+this.target.ownerDocument.body.scrollLeft+this.target.ownerDocument.documentElement.scrollLeft,this.posy=C.clientY+this.target.ownerDocument.body.scrollTop+this.target.ownerDocument.documentElement.scrollTop);const b=k.IframeUtils.getPositionOfChildWindowRelativeToAncestorWindow(w,C.view);this.posx-=b.left,this.posy-=b.top}preventDefault(){this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent.stopPropagation()}}e.StandardMouseEvent=L;class y{constructor(w,C=0,b=0){var a;this.browserEvent=w||null,this.target=w?w.target||w.targetNode||w.srcElement:null,this.deltaY=b,this.deltaX=C;let s=!1;if(m.isChrome){const i=navigator.userAgent.match(/Chrome\/(\d+)/);s=(i?parseInt(i[1]):123)<=122}if(w){const i=w,t=w,n=((a=w.view)===null||a===void 0?void 0:a.devicePixelRatio)||1;if(typeof i.wheelDeltaY<"u")s?this.deltaY=i.wheelDeltaY/(120*n):this.deltaY=i.wheelDeltaY/120;else if(typeof t.VERTICAL_AXIS<"u"&&t.axis===t.VERTICAL_AXIS)this.deltaY=-t.detail/3;else if(w.type==="wheel"){const h=w;h.deltaMode===h.DOM_DELTA_LINE?m.isFirefox&&!D.isMacintosh?this.deltaY=-w.deltaY/3:this.deltaY=-w.deltaY:this.deltaY=-w.deltaY/40}if(typeof i.wheelDeltaX<"u")m.isSafari&&D.isWindows?this.deltaX=-(i.wheelDeltaX/120):s?this.deltaX=i.wheelDeltaX/(120*n):this.deltaX=i.wheelDeltaX/120;else if(typeof t.HORIZONTAL_AXIS<"u"&&t.axis===t.HORIZONTAL_AXIS)this.deltaX=-w.detail/3;else if(w.type==="wheel"){const h=w;h.deltaMode===h.DOM_DELTA_LINE?m.isFirefox&&!D.isMacintosh?this.deltaX=-w.deltaX/3:this.deltaX=-w.deltaX:this.deltaX=-w.deltaX/40}this.deltaY===0&&this.deltaX===0&&w.wheelDelta&&(s?this.deltaY=w.wheelDelta/(120*n):this.deltaY=w.wheelDelta/120)}}preventDefault(){var w;(w=this.browserEvent)===null||w===void 0||w.preventDefault()}stopPropagation(){var w;(w=this.browserEvent)===null||w===void 0||w.stopPropagation()}}e.StandardWheelEvent=y}),define(te[15],ie([1,0,20,12,7,2,17,289]),function(J,e,m,k,D,L,y,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CancelableAsyncIterableObject=e.AsyncIterableObject=e.Promises=e.DeferredPromise=e.GlobalIdleValue=e.AbstractIdleValue=e._runWhenIdle=e.runWhenGlobalIdle=e.RunOnceScheduler=e.IntervalTimer=e.TimeoutTimer=e.ThrottledDelayer=e.Delayer=e.Throttler=void 0,e.isThenable=w,e.createCancelablePromise=C,e.raceCancellation=b,e.timeout=h,e.disposableTimeout=v,e.first=u,e.createCancelableAsyncIterable=I;function w(E){return!!E&&typeof E.then=="function"}function C(E){const T=new m.CancellationTokenSource,N=E(T.token),A=new Promise((O,M)=>{const P=T.token.onCancellationRequested(()=>{P.dispose(),M(new k.CancellationError)});Promise.resolve(N).then(x=>{P.dispose(),T.dispose(),O(x)},x=>{P.dispose(),T.dispose(),M(x)})});return new class{cancel(){T.cancel(),T.dispose()}then(O,M){return A.then(O,M)}catch(O){return this.then(void 0,O)}finally(O){return A.finally(O)}}}function b(E,T,N){return new Promise((A,O)=>{const M=T.onCancellationRequested(()=>{M.dispose(),A(N)});E.then(A,O).finally(()=>M.dispose())})}class a{constructor(){this.isDisposed=!1,this.activePromise=null,this.queuedPromise=null,this.queuedPromiseFactory=null}queue(T){if(this.isDisposed)return Promise.reject(new Error("Throttler is disposed"));if(this.activePromise){if(this.queuedPromiseFactory=T,!this.queuedPromise){const N=()=>{if(this.queuedPromise=null,this.isDisposed)return;const A=this.queue(this.queuedPromiseFactory);return this.queuedPromiseFactory=null,A};this.queuedPromise=new Promise(A=>{this.activePromise.then(N,N).then(A)})}return new Promise((N,A)=>{this.queuedPromise.then(N,A)})}return this.activePromise=T(),new Promise((N,A)=>{this.activePromise.then(O=>{this.activePromise=null,N(O)},O=>{this.activePromise=null,A(O)})})}dispose(){this.isDisposed=!0}}e.Throttler=a;const s=(E,T)=>{let N=!0;const A=setTimeout(()=>{N=!1,T()},E);return{isTriggered:()=>N,dispose:()=>{clearTimeout(A),N=!1}}},i=E=>{let T=!0;return queueMicrotask(()=>{T&&(T=!1,E())}),{isTriggered:()=>T,dispose:()=>{T=!1}}};class t{constructor(T){this.defaultDelay=T,this.deferred=null,this.completionPromise=null,this.doResolve=null,this.doReject=null,this.task=null}trigger(T,N=this.defaultDelay){this.task=T,this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise((O,M)=>{this.doResolve=O,this.doReject=M}).then(()=>{if(this.completionPromise=null,this.doResolve=null,this.task){const O=this.task;return this.task=null,O()}}));const A=()=>{var O;this.deferred=null,(O=this.doResolve)===null||O===void 0||O.call(this,null)};return this.deferred=N===p.MicrotaskDelay?i(A):s(N,A),this.completionPromise}isTriggered(){var T;return!!(!((T=this.deferred)===null||T===void 0)&&T.isTriggered())}cancel(){var T;this.cancelTimeout(),this.completionPromise&&((T=this.doReject)===null||T===void 0||T.call(this,new k.CancellationError),this.completionPromise=null)}cancelTimeout(){var T;(T=this.deferred)===null||T===void 0||T.dispose(),this.deferred=null}dispose(){this.cancel()}}e.Delayer=t;class n{constructor(T){this.delayer=new t(T),this.throttler=new a}trigger(T,N){return this.delayer.trigger(()=>this.throttler.queue(T),N)}cancel(){this.delayer.cancel()}dispose(){this.delayer.dispose(),this.throttler.dispose()}}e.ThrottledDelayer=n;function h(E,T){return T?new Promise((N,A)=>{const O=setTimeout(()=>{M.dispose(),N()},E),M=T.onCancellationRequested(()=>{clearTimeout(O),M.dispose(),A(new k.CancellationError)})}):C(N=>h(E,N))}function v(E,T=0,N){const A=setTimeout(()=>{E(),N&&O.dispose()},T),O=(0,L.toDisposable)(()=>{clearTimeout(A),N?.deleteAndLeak(O)});return N?.add(O),O}function u(E,T=A=>!!A,N=null){let A=0;const O=E.length,M=()=>{if(A>=O)return Promise.resolve(N);const P=E[A++];return Promise.resolve(P()).then(R=>T(R)?Promise.resolve(R):M())};return M()}class d{constructor(T,N){this._token=-1,typeof T=="function"&&typeof N=="number"&&this.setIfNotSet(T,N)}dispose(){this.cancel()}cancel(){this._token!==-1&&(clearTimeout(this._token),this._token=-1)}cancelAndSet(T,N){this.cancel(),this._token=setTimeout(()=>{this._token=-1,T()},N)}setIfNotSet(T,N){this._token===-1&&(this._token=setTimeout(()=>{this._token=-1,T()},N))}}e.TimeoutTimer=d;class r{constructor(){this.disposable=void 0}cancel(){var T;(T=this.disposable)===null||T===void 0||T.dispose(),this.disposable=void 0}cancelAndSet(T,N,A=globalThis){this.cancel();const O=A.setInterval(()=>{T()},N);this.disposable=(0,L.toDisposable)(()=>{A.clearInterval(O),this.disposable=void 0})}dispose(){this.cancel()}}e.IntervalTimer=r;class l{constructor(T,N){this.timeoutToken=-1,this.runner=T,this.timeout=N,this.timeoutHandler=this.onTimeout.bind(this)}dispose(){this.cancel(),this.runner=null}cancel(){this.isScheduled()&&(clearTimeout(this.timeoutToken),this.timeoutToken=-1)}schedule(T=this.timeout){this.cancel(),this.timeoutToken=setTimeout(this.timeoutHandler,T)}get delay(){return this.timeout}set delay(T){this.timeout=T}isScheduled(){return this.timeoutToken!==-1}onTimeout(){this.timeoutToken=-1,this.runner&&this.doRun()}doRun(){var T;(T=this.runner)===null||T===void 0||T.call(this)}}e.RunOnceScheduler=l,function(){typeof globalThis.requestIdleCallback!="function"||typeof globalThis.cancelIdleCallback!="function"?e._runWhenIdle=(E,T)=>{(0,y.setTimeout0)(()=>{if(N)return;const A=Date.now()+15;T(Object.freeze({didTimeout:!0,timeRemaining(){return Math.max(0,A-Date.now())}}))});let N=!1;return{dispose(){N||(N=!0)}}}:e._runWhenIdle=(E,T,N)=>{const A=E.requestIdleCallback(T,typeof N=="number"?{timeout:N}:void 0);let O=!1;return{dispose(){O||(O=!0,E.cancelIdleCallback(A))}}},e.runWhenGlobalIdle=E=>(0,e._runWhenIdle)(globalThis,E)}();class o{constructor(T,N){this._didRun=!1,this._executor=()=>{try{this._value=N()}catch(A){this._error=A}finally{this._didRun=!0}},this._handle=(0,e._runWhenIdle)(T,()=>this._executor())}dispose(){this._handle.dispose()}get value(){if(this._didRun||(this._handle.dispose(),this._executor()),this._error)throw this._error;return this._value}get isInitialized(){return this._didRun}}e.AbstractIdleValue=o;class g extends o{constructor(T){super(globalThis,T)}}e.GlobalIdleValue=g;class c{get isRejected(){var T;return((T=this.outcome)===null||T===void 0?void 0:T.outcome)===1}get isSettled(){return!!this.outcome}constructor(){this.p=new Promise((T,N)=>{this.completeCallback=T,this.errorCallback=N})}complete(T){return new Promise(N=>{this.completeCallback(T),this.outcome={outcome:0,value:T},N()})}error(T){return new Promise(N=>{this.errorCallback(T),this.outcome={outcome:1,value:T},N()})}cancel(){return this.error(new k.CancellationError)}}e.DeferredPromise=c;var f;(function(E){async function T(A){let O;const M=await Promise.all(A.map(P=>P.then(x=>x,x=>{O||(O=x)})));if(typeof O<"u")throw O;return M}E.settled=T;function N(A){return new Promise(async(O,M)=>{try{await A(O,M)}catch(P){M(P)}})}E.withAsyncBody=N})(f||(e.Promises=f={}));class _{static fromArray(T){return new _(N=>{N.emitMany(T)})}static fromPromise(T){return new _(async N=>{N.emitMany(await T)})}static fromPromises(T){return new _(async N=>{await Promise.all(T.map(async A=>N.emitOne(await A)))})}static merge(T){return new _(async N=>{await Promise.all(T.map(async A=>{for await(const O of A)N.emitOne(O)}))})}constructor(T){this._state=0,this._results=[],this._error=null,this._onStateChanged=new D.Emitter,queueMicrotask(async()=>{const N={emitOne:A=>this.emitOne(A),emitMany:A=>this.emitMany(A),reject:A=>this.reject(A)};try{await Promise.resolve(T(N)),this.resolve()}catch(A){this.reject(A)}finally{N.emitOne=void 0,N.emitMany=void 0,N.reject=void 0}})}[Symbol.asyncIterator](){let T=0;return{next:async()=>{do{if(this._state===2)throw this._error;if(T<this._results.length)return{done:!1,value:this._results[T++]};if(this._state===1)return{done:!0,value:void 0};await D.Event.toPromise(this._onStateChanged.event)}while(!0)}}}static map(T,N){return new _(async A=>{for await(const O of T)A.emitOne(N(O))})}map(T){return _.map(this,T)}static filter(T,N){return new _(async A=>{for await(const O of T)N(O)&&A.emitOne(O)})}filter(T){return _.filter(this,T)}static coalesce(T){return _.filter(T,N=>!!N)}coalesce(){return _.coalesce(this)}static async toPromise(T){const N=[];for await(const A of T)N.push(A);return N}toPromise(){return _.toPromise(this)}emitOne(T){this._state===0&&(this._results.push(T),this._onStateChanged.fire())}emitMany(T){this._state===0&&(this._results=this._results.concat(T),this._onStateChanged.fire())}resolve(){this._state===0&&(this._state=1,this._onStateChanged.fire())}reject(T){this._state===0&&(this._state=2,this._error=T,this._onStateChanged.fire())}}e.AsyncIterableObject=_,_.EMPTY=_.fromArray([]);class S extends _{constructor(T,N){super(N),this._source=T}cancel(){this._source.cancel()}}e.CancelableAsyncIterableObject=S;function I(E){const T=new m.CancellationTokenSource,N=E(T.token);return new S(T,async A=>{const O=T.token.onCancellationRequested(()=>{O.dispose(),T.dispose(),A.reject(new k.CancellationError)});try{for await(const M of N){if(T.token.isCancellationRequested)return;A.emitOne(M)}O.dispose(),T.dispose()}catch(M){O.dispose(),T.dispose(),A.reject(M)}})}}),define(te[610],ie([1,0,15,2]),function(J,e,m,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ScrollbarVisibilityController=void 0;class D extends k.Disposable{constructor(y,p,w){super(),this._visibility=y,this._visibleClassName=p,this._invisibleClassName=w,this._domNode=null,this._isVisible=!1,this._isNeeded=!1,this._rawShouldBeVisible=!1,this._shouldBeVisible=!1,this._revealTimer=this._register(new m.TimeoutTimer)}setVisibility(y){this._visibility!==y&&(this._visibility=y,this._updateShouldBeVisible())}setShouldBeVisible(y){this._rawShouldBeVisible=y,this._updateShouldBeVisible()}_applyVisibilitySetting(){return this._visibility===2?!1:this._visibility===3?!0:this._rawShouldBeVisible}_updateShouldBeVisible(){const y=this._applyVisibilitySetting();this._shouldBeVisible!==y&&(this._shouldBeVisible=y,this.ensureVisibility())}setIsNeeded(y){this._isNeeded!==y&&(this._isNeeded=y,this.ensureVisibility())}setDomNode(y){this._domNode=y,this._domNode.setClassName(this._invisibleClassName),this.setShouldBeVisible(!1)}ensureVisibility(){if(!this._isNeeded){this._hide(!1);return}this._shouldBeVisible?this._reveal():this._hide(!0)}_reveal(){this._isVisible||(this._isVisible=!0,this._revealTimer.setIfNotSet(()=>{var y;(y=this._domNode)===null||y===void 0||y.setClassName(this._visibleClassName)},0))}_hide(y){var p;this._revealTimer.cancel(),this._isVisible&&(this._isVisible=!1,(p=this._domNode)===null||p===void 0||p.setClassName(this._invisibleClassName+(y?" fade":"")))}}e.ScrollbarVisibilityController=D}),define(te[236],ie([1,0,153,13,15,289,182,7,54]),function(J,e,m,k,D,L,y,p,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndexTreeModel=void 0,e.isFilterResult=C,e.getVisibleState=b;function C(i){return typeof i=="object"&&"visibility"in i&&"data"in i}function b(i){switch(i){case!0:return 1;case!1:return 0;default:return i}}function a(i){return typeof i.collapsible=="boolean"}class s{constructor(t,n,h,v={}){var u;this.user=t,this.list=n,this.rootRef=[],this.eventBufferer=new p.EventBufferer,this._onDidChangeCollapseState=new p.Emitter,this.onDidChangeCollapseState=this.eventBufferer.wrapEvent(this._onDidChangeCollapseState.event),this._onDidChangeRenderNodeCount=new p.Emitter,this.onDidChangeRenderNodeCount=this.eventBufferer.wrapEvent(this._onDidChangeRenderNodeCount.event),this._onDidSplice=new p.Emitter,this.onDidSplice=this._onDidSplice.event,this.refilterDelayer=new D.Delayer(L.MicrotaskDelay),this.collapseByDefault=typeof v.collapseByDefault>"u"?!1:v.collapseByDefault,this.allowNonCollapsibleParents=(u=v.allowNonCollapsibleParents)!==null&&u!==void 0?u:!1,this.filter=v.filter,this.autoExpandSingleChildren=typeof v.autoExpandSingleChildren>"u"?!1:v.autoExpandSingleChildren,this.root={parent:void 0,element:h,children:[],depth:0,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:!1,collapsed:!1,renderNodeCount:0,visibility:1,visible:!0,filterData:void 0}}splice(t,n,h=w.Iterable.empty(),v={}){if(t.length===0)throw new m.TreeError(this.user,"Invalid tree location");v.diffIdentityProvider?this.spliceSmart(v.diffIdentityProvider,t,n,h,v):this.spliceSimple(t,n,h,v)}spliceSmart(t,n,h,v,u,d){var r;v===void 0&&(v=w.Iterable.empty()),d===void 0&&(d=(r=u.diffDepth)!==null&&r!==void 0?r:0);const{parentNode:l}=this.getParentNodeWithListIndex(n);if(!l.lastDiffIds)return this.spliceSimple(n,h,v,u);const o=[...v],g=n[n.length-1],c=new y.LcsDiff({getElements:()=>l.lastDiffIds},{getElements:()=>[...l.children.slice(0,g),...o,...l.children.slice(g+h)].map(E=>t.getId(E.element).toString())}).ComputeDiff(!1);if(c.quitEarly)return l.lastDiffIds=void 0,this.spliceSimple(n,h,o,u);const f=n.slice(0,-1),_=(E,T,N)=>{if(d>0)for(let A=0;A<N;A++)E--,T--,this.spliceSmart(t,[...f,E,0],Number.MAX_SAFE_INTEGER,o[T].children,u,d-1)};let S=Math.min(l.children.length,g+h),I=o.length;for(const E of c.changes.sort((T,N)=>N.originalStart-T.originalStart))_(S,I,S-(E.originalStart+E.originalLength)),S=E.originalStart,I=E.modifiedStart-g,this.spliceSimple([...f,S],E.originalLength,w.Iterable.slice(o,I,I+E.modifiedLength),u);_(S,I,S)}spliceSimple(t,n,h=w.Iterable.empty(),{onDidCreateNode:v,onDidDeleteNode:u,diffIdentityProvider:d}){const{parentNode:r,listIndex:l,revealed:o,visible:g}=this.getParentNodeWithListIndex(t),c=[],f=w.Iterable.map(h,M=>this.createTreeNode(M,r,r.visible?1:0,o,c,v)),_=t[t.length-1];let S=0;for(let M=_;M>=0&&M<r.children.length;M--){const P=r.children[M];if(P.visible){S=P.visibleChildIndex;break}}const I=[];let E=0,T=0;for(const M of f)I.push(M),T+=M.renderNodeCount,M.visible&&(M.visibleChildIndex=S+E++);const N=(0,k.splice)(r.children,_,n,I);d?r.lastDiffIds?(0,k.splice)(r.lastDiffIds,_,n,I.map(M=>d.getId(M.element).toString())):r.lastDiffIds=r.children.map(M=>d.getId(M.element).toString()):r.lastDiffIds=void 0;let A=0;for(const M of N)M.visible&&A++;if(A!==0)for(let M=_+I.length;M<r.children.length;M++){const P=r.children[M];P.visible&&(P.visibleChildIndex-=A)}if(r.visibleChildrenCount+=E-A,o&&g){const M=N.reduce((P,x)=>P+(x.visible?x.renderNodeCount:0),0);this._updateAncestorsRenderNodeCount(r,T-M),this.list.splice(l,M,c)}if(N.length>0&&u){const M=P=>{u(P),P.children.forEach(M)};N.forEach(M)}this._onDidSplice.fire({insertedNodes:I,deletedNodes:N});let O=r;for(;O;){if(O.visibility===2){this.refilterDelayer.trigger(()=>this.refilter());break}O=O.parent}}rerender(t){if(t.length===0)throw new m.TreeError(this.user,"Invalid tree location");const{node:n,listIndex:h,revealed:v}=this.getTreeNodeWithListIndex(t);n.visible&&v&&this.list.splice(h,1,[n])}has(t){return this.hasTreeNode(t)}getListIndex(t){const{listIndex:n,visible:h,revealed:v}=this.getTreeNodeWithListIndex(t);return h&&v?n:-1}getListRenderCount(t){return this.getTreeNode(t).renderNodeCount}isCollapsible(t){return this.getTreeNode(t).collapsible}setCollapsible(t,n){const h=this.getTreeNode(t);typeof n>"u"&&(n=!h.collapsible);const v={collapsible:n};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(t,v))}isCollapsed(t){return this.getTreeNode(t).collapsed}setCollapsed(t,n,h){const v=this.getTreeNode(t);typeof n>"u"&&(n=!v.collapsed);const u={collapsed:n,recursive:h||!1};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(t,u))}_setCollapseState(t,n){const{node:h,listIndex:v,revealed:u}=this.getTreeNodeWithListIndex(t),d=this._setListNodeCollapseState(h,v,u,n);if(h!==this.root&&this.autoExpandSingleChildren&&d&&!a(n)&&h.collapsible&&!h.collapsed&&!n.recursive){let r=-1;for(let l=0;l<h.children.length;l++)if(h.children[l].visible)if(r>-1){r=-1;break}else r=l;r>-1&&this._setCollapseState([...t,r],n)}return d}_setListNodeCollapseState(t,n,h,v){const u=this._setNodeCollapseState(t,v,!1);if(!h||!t.visible||!u)return u;const d=t.renderNodeCount,r=this.updateNodeAfterCollapseChange(t),l=d-(n===-1?0:1);return this.list.splice(n+1,l,r.slice(1)),u}_setNodeCollapseState(t,n,h){let v;if(t===this.root?v=!1:(a(n)?(v=t.collapsible!==n.collapsible,t.collapsible=n.collapsible):t.collapsible?(v=t.collapsed!==n.collapsed,t.collapsed=n.collapsed):v=!1,v&&this._onDidChangeCollapseState.fire({node:t,deep:h})),!a(n)&&n.recursive)for(const u of t.children)v=this._setNodeCollapseState(u,n,!0)||v;return v}expandTo(t){this.eventBufferer.bufferEvents(()=>{let n=this.getTreeNode(t);for(;n.parent;)n=n.parent,t=t.slice(0,t.length-1),n.collapsed&&this._setCollapseState(t,{collapsed:!1,recursive:!1})})}refilter(){const t=this.root.renderNodeCount,n=this.updateNodeAfterFilterChange(this.root);this.list.splice(0,t,n),this.refilterDelayer.cancel()}createTreeNode(t,n,h,v,u,d){const r={parent:n,element:t.element,children:[],depth:n.depth+1,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:typeof t.collapsible=="boolean"?t.collapsible:typeof t.collapsed<"u",collapsed:typeof t.collapsed>"u"?this.collapseByDefault:t.collapsed,renderNodeCount:1,visibility:1,visible:!0,filterData:void 0},l=this._filterNode(r,h);r.visibility=l,v&&u.push(r);const o=t.children||w.Iterable.empty(),g=v&&l!==0&&!r.collapsed;let c=0,f=1;for(const _ of o){const S=this.createTreeNode(_,r,l,g,u,d);r.children.push(S),f+=S.renderNodeCount,S.visible&&(S.visibleChildIndex=c++)}return this.allowNonCollapsibleParents||(r.collapsible=r.collapsible||r.children.length>0),r.visibleChildrenCount=c,r.visible=l===2?c>0:l===1,r.visible?r.collapsed||(r.renderNodeCount=f):(r.renderNodeCount=0,v&&u.pop()),d?.(r),r}updateNodeAfterCollapseChange(t){const n=t.renderNodeCount,h=[];return this._updateNodeAfterCollapseChange(t,h),this._updateAncestorsRenderNodeCount(t.parent,h.length-n),h}_updateNodeAfterCollapseChange(t,n){if(t.visible===!1)return 0;if(n.push(t),t.renderNodeCount=1,!t.collapsed)for(const h of t.children)t.renderNodeCount+=this._updateNodeAfterCollapseChange(h,n);return this._onDidChangeRenderNodeCount.fire(t),t.renderNodeCount}updateNodeAfterFilterChange(t){const n=t.renderNodeCount,h=[];return this._updateNodeAfterFilterChange(t,t.visible?1:0,h),this._updateAncestorsRenderNodeCount(t.parent,h.length-n),h}_updateNodeAfterFilterChange(t,n,h,v=!0){let u;if(t!==this.root){if(u=this._filterNode(t,n),u===0)return t.visible=!1,t.renderNodeCount=0,!1;v&&h.push(t)}const d=h.length;t.renderNodeCount=t===this.root?0:1;let r=!1;if(!t.collapsed||u!==0){let l=0;for(const o of t.children)r=this._updateNodeAfterFilterChange(o,u,h,v&&!t.collapsed)||r,o.visible&&(o.visibleChildIndex=l++);t.visibleChildrenCount=l}else t.visibleChildrenCount=0;return t!==this.root&&(t.visible=u===2?r:u===1,t.visibility=u),t.visible?t.collapsed||(t.renderNodeCount+=h.length-d):(t.renderNodeCount=0,v&&h.pop()),this._onDidChangeRenderNodeCount.fire(t),t.visible}_updateAncestorsRenderNodeCount(t,n){if(n!==0)for(;t;)t.renderNodeCount+=n,this._onDidChangeRenderNodeCount.fire(t),t=t.parent}_filterNode(t,n){const h=this.filter?this.filter.filter(t.element,n):1;return typeof h=="boolean"?(t.filterData=void 0,h?1:0):C(h)?(t.filterData=h.data,b(h.visibility)):(t.filterData=void 0,b(h))}hasTreeNode(t,n=this.root){if(!t||t.length===0)return!0;const[h,...v]=t;return h<0||h>n.children.length?!1:this.hasTreeNode(v,n.children[h])}getTreeNode(t,n=this.root){if(!t||t.length===0)return n;const[h,...v]=t;if(h<0||h>n.children.length)throw new m.TreeError(this.user,"Invalid tree location");return this.getTreeNode(v,n.children[h])}getTreeNodeWithListIndex(t){if(t.length===0)return{node:this.root,listIndex:-1,revealed:!0,visible:!1};const{parentNode:n,listIndex:h,revealed:v,visible:u}=this.getParentNodeWithListIndex(t),d=t[t.length-1];if(d<0||d>n.children.length)throw new m.TreeError(this.user,"Invalid tree location");const r=n.children[d];return{node:r,listIndex:h,revealed:v,visible:u&&r.visible}}getParentNodeWithListIndex(t,n=this.root,h=0,v=!0,u=!0){const[d,...r]=t;if(d<0||d>n.children.length)throw new m.TreeError(this.user,"Invalid tree location");for(let l=0;l<d;l++)h+=n.children[l].renderNodeCount;return v=v&&!n.collapsed,u=u&&n.visible,r.length===0?{parentNode:n,listIndex:h,revealed:v,visible:u}:this.getParentNodeWithListIndex(r,n.children[d],h+1,v,u)}getNode(t=[]){return this.getTreeNode(t)}getNodeLocation(t){const n=[];let h=t;for(;h.parent;)n.push(h.parent.children.indexOf(h)),h=h.parent;return n.reverse()}getParentNodeLocation(t){if(t.length!==0)return t.length===1?[]:(0,k.tail2)(t)[0]}getFirstElementChild(t){const n=this.getTreeNode(t);if(n.children.length!==0)return n.children[0].element}}e.IndexTreeModel=s}),define(te[237],ie([1,0,236,153,54]),function(J,e,m,k,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ObjectTreeModel=void 0;class L{constructor(p,w,C={}){this.user=p,this.rootRef=null,this.nodes=new Map,this.nodesByIdentity=new Map,this.model=new m.IndexTreeModel(p,w,null,C),this.onDidSplice=this.model.onDidSplice,this.onDidChangeCollapseState=this.model.onDidChangeCollapseState,this.onDidChangeRenderNodeCount=this.model.onDidChangeRenderNodeCount,C.sorter&&(this.sorter={compare(b,a){return C.sorter.compare(b.element,a.element)}}),this.identityProvider=C.identityProvider}setChildren(p,w=D.Iterable.empty(),C={}){const b=this.getElementLocation(p);this._setChildren(b,this.preserveCollapseState(w),C)}_setChildren(p,w=D.Iterable.empty(),C){const b=new Set,a=new Set,s=t=>{var n;if(t.element===null)return;const h=t;if(b.add(h.element),this.nodes.set(h.element,h),this.identityProvider){const v=this.identityProvider.getId(h.element).toString();a.add(v),this.nodesByIdentity.set(v,h)}(n=C.onDidCreateNode)===null||n===void 0||n.call(C,h)},i=t=>{var n;if(t.element===null)return;const h=t;if(b.has(h.element)||this.nodes.delete(h.element),this.identityProvider){const v=this.identityProvider.getId(h.element).toString();a.has(v)||this.nodesByIdentity.delete(v)}(n=C.onDidDeleteNode)===null||n===void 0||n.call(C,h)};this.model.splice([...p,0],Number.MAX_VALUE,w,{...C,onDidCreateNode:s,onDidDeleteNode:i})}preserveCollapseState(p=D.Iterable.empty()){return this.sorter&&(p=[...p].sort(this.sorter.compare.bind(this.sorter))),D.Iterable.map(p,w=>{let C=this.nodes.get(w.element);if(!C&&this.identityProvider){const s=this.identityProvider.getId(w.element).toString();C=this.nodesByIdentity.get(s)}if(!C){let s;return typeof w.collapsed>"u"?s=void 0:w.collapsed===k.ObjectTreeElementCollapseState.Collapsed||w.collapsed===k.ObjectTreeElementCollapseState.PreserveOrCollapsed?s=!0:w.collapsed===k.ObjectTreeElementCollapseState.Expanded||w.collapsed===k.ObjectTreeElementCollapseState.PreserveOrExpanded?s=!1:s=!!w.collapsed,{...w,children:this.preserveCollapseState(w.children),collapsed:s}}const b=typeof w.collapsible=="boolean"?w.collapsible:C.collapsible;let a;return typeof w.collapsed>"u"||w.collapsed===k.ObjectTreeElementCollapseState.PreserveOrCollapsed||w.collapsed===k.ObjectTreeElementCollapseState.PreserveOrExpanded?a=C.collapsed:w.collapsed===k.ObjectTreeElementCollapseState.Collapsed?a=!0:w.collapsed===k.ObjectTreeElementCollapseState.Expanded?a=!1:a=!!w.collapsed,{...w,collapsible:b,collapsed:a,children:this.preserveCollapseState(w.children)}})}rerender(p){const w=this.getElementLocation(p);this.model.rerender(w)}getFirstElementChild(p=null){const w=this.getElementLocation(p);return this.model.getFirstElementChild(w)}has(p){return this.nodes.has(p)}getListIndex(p){const w=this.getElementLocation(p);return this.model.getListIndex(w)}getListRenderCount(p){const w=this.getElementLocation(p);return this.model.getListRenderCount(w)}isCollapsible(p){const w=this.getElementLocation(p);return this.model.isCollapsible(w)}setCollapsible(p,w){const C=this.getElementLocation(p);return this.model.setCollapsible(C,w)}isCollapsed(p){const w=this.getElementLocation(p);return this.model.isCollapsed(w)}setCollapsed(p,w,C){const b=this.getElementLocation(p);return this.model.setCollapsed(b,w,C)}expandTo(p){const w=this.getElementLocation(p);this.model.expandTo(w)}refilter(){this.model.refilter()}getNode(p=null){if(p===null)return this.model.getNode(this.model.rootRef);const w=this.nodes.get(p);if(!w)throw new k.TreeError(this.user,`Tree element not found: ${p}`);return w}getNodeLocation(p){return p.element}getParentNodeLocation(p){if(p===null)throw new k.TreeError(this.user,"Invalid getParentNodeLocation call");const w=this.nodes.get(p);if(!w)throw new k.TreeError(this.user,`Tree element not found: ${p}`);const C=this.model.getNodeLocation(w),b=this.model.getParentNodeLocation(C);return this.model.getNode(b).element}getElementLocation(p){if(p===null)return[];const w=this.nodes.get(p);if(!w)throw new k.TreeError(this.user,`Tree element not found: ${p}`);return this.model.getNodeLocation(w)}}e.ObjectTreeModel=L}),define(te[611],ie([1,0,237,153,13,7,54]),function(J,e,m,k,D,L,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompressibleObjectTreeModel=e.DefaultElementMapper=e.CompressedObjectTreeModel=void 0,e.compress=w,e.decompress=b;function p(d){const r=[d.element],l=d.incompressible||!1;return{element:{elements:r,incompressible:l},children:y.Iterable.map(y.Iterable.from(d.children),p),collapsible:d.collapsible,collapsed:d.collapsed}}function w(d){const r=[d.element],l=d.incompressible||!1;let o,g;for(;[g,o]=y.Iterable.consume(y.Iterable.from(d.children),2),!(g.length!==1||g[0].incompressible);)d=g[0],r.push(d.element);return{element:{elements:r,incompressible:l},children:y.Iterable.map(y.Iterable.concat(g,o),w),collapsible:d.collapsible,collapsed:d.collapsed}}function C(d,r=0){let l;return r<d.element.elements.length-1?l=[C(d,r+1)]:l=y.Iterable.map(y.Iterable.from(d.children),o=>C(o,0)),r===0&&d.element.incompressible?{element:d.element.elements[r],children:l,incompressible:!0,collapsible:d.collapsible,collapsed:d.collapsed}:{element:d.element.elements[r],children:l,collapsible:d.collapsible,collapsed:d.collapsed}}function b(d){return C(d,0)}function a(d,r,l){return d.element===r?{...d,children:l}:{...d,children:y.Iterable.map(y.Iterable.from(d.children),o=>a(o,r,l))}}const s=d=>({getId(r){return r.elements.map(l=>d.getId(l).toString()).join("\0")}});class i{get onDidSplice(){return this.model.onDidSplice}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get onDidChangeRenderNodeCount(){return this.model.onDidChangeRenderNodeCount}constructor(r,l,o={}){this.user=r,this.rootRef=null,this.nodes=new Map,this.model=new m.ObjectTreeModel(r,l,o),this.enabled=typeof o.compressionEnabled>"u"?!0:o.compressionEnabled,this.identityProvider=o.identityProvider}setChildren(r,l=y.Iterable.empty(),o){const g=o.diffIdentityProvider&&s(o.diffIdentityProvider);if(r===null){const O=y.Iterable.map(l,this.enabled?w:p);this._setChildren(null,O,{diffIdentityProvider:g,diffDepth:1/0});return}const c=this.nodes.get(r);if(!c)throw new k.TreeError(this.user,"Unknown compressed tree node");const f=this.model.getNode(c),_=this.model.getParentNodeLocation(c),S=this.model.getNode(_),I=b(f),E=a(I,r,l),T=(this.enabled?w:p)(E),N=o.diffIdentityProvider?(O,M)=>o.diffIdentityProvider.getId(O)===o.diffIdentityProvider.getId(M):void 0;if((0,D.equals)(T.element.elements,f.element.elements,N)){this._setChildren(c,T.children||y.Iterable.empty(),{diffIdentityProvider:g,diffDepth:1});return}const A=S.children.map(O=>O===f?T:O);this._setChildren(S.element,A,{diffIdentityProvider:g,diffDepth:f.depth-S.depth})}isCompressionEnabled(){return this.enabled}setCompressionEnabled(r){if(r===this.enabled)return;this.enabled=r;const o=this.model.getNode().children,g=y.Iterable.map(o,b),c=y.Iterable.map(g,r?w:p);this._setChildren(null,c,{diffIdentityProvider:this.identityProvider,diffDepth:1/0})}_setChildren(r,l,o){const g=new Set,c=_=>{for(const S of _.element.elements)g.add(S),this.nodes.set(S,_.element)},f=_=>{for(const S of _.element.elements)g.has(S)||this.nodes.delete(S)};this.model.setChildren(r,l,{...o,onDidCreateNode:c,onDidDeleteNode:f})}has(r){return this.nodes.has(r)}getListIndex(r){const l=this.getCompressedNode(r);return this.model.getListIndex(l)}getListRenderCount(r){const l=this.getCompressedNode(r);return this.model.getListRenderCount(l)}getNode(r){if(typeof r>"u")return this.model.getNode();const l=this.getCompressedNode(r);return this.model.getNode(l)}getNodeLocation(r){const l=this.model.getNodeLocation(r);return l===null?null:l.elements[l.elements.length-1]}getParentNodeLocation(r){const l=this.getCompressedNode(r),o=this.model.getParentNodeLocation(l);return o===null?null:o.elements[o.elements.length-1]}getFirstElementChild(r){const l=this.getCompressedNode(r);return this.model.getFirstElementChild(l)}isCollapsible(r){const l=this.getCompressedNode(r);return this.model.isCollapsible(l)}setCollapsible(r,l){const o=this.getCompressedNode(r);return this.model.setCollapsible(o,l)}isCollapsed(r){const l=this.getCompressedNode(r);return this.model.isCollapsed(l)}setCollapsed(r,l,o){const g=this.getCompressedNode(r);return this.model.setCollapsed(g,l,o)}expandTo(r){const l=this.getCompressedNode(r);this.model.expandTo(l)}rerender(r){const l=this.getCompressedNode(r);this.model.rerender(l)}refilter(){this.model.refilter()}getCompressedNode(r){if(r===null)return null;const l=this.nodes.get(r);if(!l)throw new k.TreeError(this.user,`Tree element not found: ${r}`);return l}}e.CompressedObjectTreeModel=i;const t=d=>d[d.length-1];e.DefaultElementMapper=t;class n{get element(){return this.node.element===null?null:this.unwrapper(this.node.element)}get children(){return this.node.children.map(r=>new n(this.unwrapper,r))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}constructor(r,l){this.unwrapper=r,this.node=l}}function h(d,r){return{splice(l,o,g){r.splice(l,o,g.map(c=>d.map(c)))},updateElementHeight(l,o){r.updateElementHeight(l,o)}}}function v(d,r){return{...r,identityProvider:r.identityProvider&&{getId(l){return r.identityProvider.getId(d(l))}},sorter:r.sorter&&{compare(l,o){return r.sorter.compare(l.elements[0],o.elements[0])}},filter:r.filter&&{filter(l,o){return r.filter.filter(d(l),o)}}}}class u{get onDidSplice(){return L.Event.map(this.model.onDidSplice,({insertedNodes:r,deletedNodes:l})=>({insertedNodes:r.map(o=>this.nodeMapper.map(o)),deletedNodes:l.map(o=>this.nodeMapper.map(o))}))}get onDidChangeCollapseState(){return L.Event.map(this.model.onDidChangeCollapseState,({node:r,deep:l})=>({node:this.nodeMapper.map(r),deep:l}))}get onDidChangeRenderNodeCount(){return L.Event.map(this.model.onDidChangeRenderNodeCount,r=>this.nodeMapper.map(r))}constructor(r,l,o={}){this.rootRef=null,this.elementMapper=o.elementMapper||e.DefaultElementMapper;const g=c=>this.elementMapper(c.elements);this.nodeMapper=new k.WeakMapper(c=>new n(g,c)),this.model=new i(r,h(this.nodeMapper,l),v(g,o))}setChildren(r,l=y.Iterable.empty(),o={}){this.model.setChildren(r,l,o)}isCompressionEnabled(){return this.model.isCompressionEnabled()}setCompressionEnabled(r){this.model.setCompressionEnabled(r)}has(r){return this.model.has(r)}getListIndex(r){return this.model.getListIndex(r)}getListRenderCount(r){return this.model.getListRenderCount(r)}getNode(r){return this.nodeMapper.map(this.model.getNode(r))}getNodeLocation(r){return r.element}getParentNodeLocation(r){return this.model.getParentNodeLocation(r)}getFirstElementChild(r){const l=this.model.getFirstElementChild(r);return l===null||typeof l>"u"?l:this.elementMapper(l.elements)}isCollapsible(r){return this.model.isCollapsible(r)}setCollapsible(r,l){return this.model.setCollapsible(r,l)}isCollapsed(r){return this.model.isCollapsed(r)}setCollapsed(r,l,o){return this.model.setCollapsed(r,l,o)}expandTo(r){return this.model.expandTo(r)}rerender(r){return this.model.rerender(r)}refilter(){return this.model.refilter()}getCompressedTreeNode(r=null){return this.model.getNode(r)}}e.CompressibleObjectTreeModel=u}),define(te[332],ie([1,0,17]),function(J,e,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.platform=e.env=e.cwd=void 0;let k;const D=globalThis.vscode;if(typeof D<"u"&&typeof D.process<"u"){const L=D.process;k={get platform(){return L.platform},get arch(){return L.arch},get env(){return L.env},cwd(){return L.cwd()}}}else typeof process<"u"?k={get platform(){return process.platform},get arch(){return process.arch},get env(){return process.env},cwd(){return process.env.VSCODE_CWD||process.cwd()}}:k={get platform(){return m.isWindows?"win32":m.isMacintosh?"darwin":"linux"},get arch(){},get env(){return{}},cwd(){return"/"}};e.cwd=k.cwd,e.env=k.env,e.platform=k.platform}),define(te[612],ie([1,0,332]),function(J,e,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isHotReloadEnabled=k,e.registerHotReloadHandler=D;function k(){return m.env&&!!m.env.VSCODE_DEV}function D(p){if(k()){const w=L();return w.add(p),{dispose(){w.delete(p)}}}else return{dispose(){}}}function L(){y||(y=new Set);const p=globalThis;return p.$hotReload_applyNewExports||(p.$hotReload_applyNewExports=w=>{const C={config:{mode:void 0},...w};for(const b of y){const a=b(C);if(a)return a}}),y}let y;k()&&D(({oldExports:p,newSrc:w,config:C})=>{if(C.mode==="patch-prototype")return b=>{var a,s;for(const i in b){const t=b[i];if(console.log(`[hot-reload] Patching prototype methods of '${i}'`,{exportedItem:t}),typeof t=="function"&&t.prototype){const n=p[i];if(n){for(const h of Object.getOwnPropertyNames(t.prototype)){const v=Object.getOwnPropertyDescriptor(t.prototype,h),u=Object.getOwnPropertyDescriptor(n.prototype,h);((a=v?.value)===null||a===void 0?void 0:a.toString())!==((s=u?.value)===null||s===void 0?void 0:s.toString())&&console.log(`[hot-reload] Patching prototype method '${i}.${h}'`),Object.defineProperty(n.prototype,h,v)}b[i]=n}}}return!0}})}),define(te[96],ie([1,0,332]),function(J,e,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sep=e.extname=e.basename=e.dirname=e.relative=e.resolve=e.normalize=e.posix=e.win32=void 0;const k=65,D=97,L=90,y=122,p=46,w=47,C=92,b=58,a=63;class s extends Error{constructor(g,c,f){let _;typeof c=="string"&&c.indexOf("not ")===0?(_="must not be",c=c.replace(/^not /,"")):_="must be";const S=g.indexOf(".")!==-1?"property":"argument";let I=`The "${g}" ${S} ${_} of type ${c}`;I+=`. Received type ${typeof f}`,super(I),this.code="ERR_INVALID_ARG_TYPE"}}function i(o,g){if(o===null||typeof o!="object")throw new s(g,"Object",o)}function t(o,g){if(typeof o!="string")throw new s(g,"string",o)}const n=m.platform==="win32";function h(o){return o===w||o===C}function v(o){return o===w}function u(o){return o>=k&&o<=L||o>=D&&o<=y}function d(o,g,c,f){let _="",S=0,I=-1,E=0,T=0;for(let N=0;N<=o.length;++N){if(N<o.length)T=o.charCodeAt(N);else{if(f(T))break;T=w}if(f(T)){if(!(I===N-1||E===1))if(E===2){if(_.length<2||S!==2||_.charCodeAt(_.length-1)!==p||_.charCodeAt(_.length-2)!==p){if(_.length>2){const A=_.lastIndexOf(c);A===-1?(_="",S=0):(_=_.slice(0,A),S=_.length-1-_.lastIndexOf(c)),I=N,E=0;continue}else if(_.length!==0){_="",S=0,I=N,E=0;continue}}g&&(_+=_.length>0?`${c}..`:"..",S=2)}else _.length>0?_+=`${c}${o.slice(I+1,N)}`:_=o.slice(I+1,N),S=N-I-1;I=N,E=0}else T===p&&E!==-1?++E:E=-1}return _}function r(o,g){i(g,"pathObject");const c=g.dir||g.root,f=g.base||`${g.name||""}${g.ext||""}`;return c?c===g.root?`${c}${f}`:`${c}${o}${f}`:f}e.win32={resolve(...o){let g="",c="",f=!1;for(let _=o.length-1;_>=-1;_--){let S;if(_>=0){if(S=o[_],t(S,"path"),S.length===0)continue}else g.length===0?S=m.cwd():(S=m.env[`=${g}`]||m.cwd(),(S===void 0||S.slice(0,2).toLowerCase()!==g.toLowerCase()&&S.charCodeAt(2)===C)&&(S=`${g}\\`));const I=S.length;let E=0,T="",N=!1;const A=S.charCodeAt(0);if(I===1)h(A)&&(E=1,N=!0);else if(h(A))if(N=!0,h(S.charCodeAt(1))){let O=2,M=O;for(;O<I&&!h(S.charCodeAt(O));)O++;if(O<I&&O!==M){const P=S.slice(M,O);for(M=O;O<I&&h(S.charCodeAt(O));)O++;if(O<I&&O!==M){for(M=O;O<I&&!h(S.charCodeAt(O));)O++;(O===I||O!==M)&&(T=`\\\\${P}\\${S.slice(M,O)}`,E=O)}}}else E=1;else u(A)&&S.charCodeAt(1)===b&&(T=S.slice(0,2),E=2,I>2&&h(S.charCodeAt(2))&&(N=!0,E=3));if(T.length>0)if(g.length>0){if(T.toLowerCase()!==g.toLowerCase())continue}else g=T;if(f){if(g.length>0)break}else if(c=`${S.slice(E)}\\${c}`,f=N,N&&g.length>0)break}return c=d(c,!f,"\\",h),f?`${g}\\${c}`:`${g}${c}`||"."},normalize(o){t(o,"path");const g=o.length;if(g===0)return".";let c=0,f,_=!1;const S=o.charCodeAt(0);if(g===1)return v(S)?"\\":o;if(h(S))if(_=!0,h(o.charCodeAt(1))){let E=2,T=E;for(;E<g&&!h(o.charCodeAt(E));)E++;if(E<g&&E!==T){const N=o.slice(T,E);for(T=E;E<g&&h(o.charCodeAt(E));)E++;if(E<g&&E!==T){for(T=E;E<g&&!h(o.charCodeAt(E));)E++;if(E===g)return`\\\\${N}\\${o.slice(T)}\\`;E!==T&&(f=`\\\\${N}\\${o.slice(T,E)}`,c=E)}}}else c=1;else u(S)&&o.charCodeAt(1)===b&&(f=o.slice(0,2),c=2,g>2&&h(o.charCodeAt(2))&&(_=!0,c=3));let I=c<g?d(o.slice(c),!_,"\\",h):"";return I.length===0&&!_&&(I="."),I.length>0&&h(o.charCodeAt(g-1))&&(I+="\\"),f===void 0?_?`\\${I}`:I:_?`${f}\\${I}`:`${f}${I}`},isAbsolute(o){t(o,"path");const g=o.length;if(g===0)return!1;const c=o.charCodeAt(0);return h(c)||g>2&&u(c)&&o.charCodeAt(1)===b&&h(o.charCodeAt(2))},join(...o){if(o.length===0)return".";let g,c;for(let S=0;S<o.length;++S){const I=o[S];t(I,"path"),I.length>0&&(g===void 0?g=c=I:g+=`\\${I}`)}if(g===void 0)return".";let f=!0,_=0;if(typeof c=="string"&&h(c.charCodeAt(0))){++_;const S=c.length;S>1&&h(c.charCodeAt(1))&&(++_,S>2&&(h(c.charCodeAt(2))?++_:f=!1))}if(f){for(;_<g.length&&h(g.charCodeAt(_));)_++;_>=2&&(g=`\\${g.slice(_)}`)}return e.win32.normalize(g)},relative(o,g){if(t(o,"from"),t(g,"to"),o===g)return"";const c=e.win32.resolve(o),f=e.win32.resolve(g);if(c===f||(o=c.toLowerCase(),g=f.toLowerCase(),o===g))return"";let _=0;for(;_<o.length&&o.charCodeAt(_)===C;)_++;let S=o.length;for(;S-1>_&&o.charCodeAt(S-1)===C;)S--;const I=S-_;let E=0;for(;E<g.length&&g.charCodeAt(E)===C;)E++;let T=g.length;for(;T-1>E&&g.charCodeAt(T-1)===C;)T--;const N=T-E,A=I<N?I:N;let O=-1,M=0;for(;M<A;M++){const x=o.charCodeAt(_+M);if(x!==g.charCodeAt(E+M))break;x===C&&(O=M)}if(M!==A){if(O===-1)return f}else{if(N>A){if(g.charCodeAt(E+M)===C)return f.slice(E+M+1);if(M===2)return f.slice(E+M)}I>A&&(o.charCodeAt(_+M)===C?O=M:M===2&&(O=3)),O===-1&&(O=0)}let P="";for(M=_+O+1;M<=S;++M)(M===S||o.charCodeAt(M)===C)&&(P+=P.length===0?"..":"\\..");return E+=O,P.length>0?`${P}${f.slice(E,T)}`:(f.charCodeAt(E)===C&&++E,f.slice(E,T))},toNamespacedPath(o){if(typeof o!="string"||o.length===0)return o;const g=e.win32.resolve(o);if(g.length<=2)return o;if(g.charCodeAt(0)===C){if(g.charCodeAt(1)===C){const c=g.charCodeAt(2);if(c!==a&&c!==p)return`\\\\?\\UNC\\${g.slice(2)}`}}else if(u(g.charCodeAt(0))&&g.charCodeAt(1)===b&&g.charCodeAt(2)===C)return`\\\\?\\${g}`;return o},dirname(o){t(o,"path");const g=o.length;if(g===0)return".";let c=-1,f=0;const _=o.charCodeAt(0);if(g===1)return h(_)?o:".";if(h(_)){if(c=f=1,h(o.charCodeAt(1))){let E=2,T=E;for(;E<g&&!h(o.charCodeAt(E));)E++;if(E<g&&E!==T){for(T=E;E<g&&h(o.charCodeAt(E));)E++;if(E<g&&E!==T){for(T=E;E<g&&!h(o.charCodeAt(E));)E++;if(E===g)return o;E!==T&&(c=f=E+1)}}}}else u(_)&&o.charCodeAt(1)===b&&(c=g>2&&h(o.charCodeAt(2))?3:2,f=c);let S=-1,I=!0;for(let E=g-1;E>=f;--E)if(h(o.charCodeAt(E))){if(!I){S=E;break}}else I=!1;if(S===-1){if(c===-1)return".";S=c}return o.slice(0,S)},basename(o,g){g!==void 0&&t(g,"ext"),t(o,"path");let c=0,f=-1,_=!0,S;if(o.length>=2&&u(o.charCodeAt(0))&&o.charCodeAt(1)===b&&(c=2),g!==void 0&&g.length>0&&g.length<=o.length){if(g===o)return"";let I=g.length-1,E=-1;for(S=o.length-1;S>=c;--S){const T=o.charCodeAt(S);if(h(T)){if(!_){c=S+1;break}}else E===-1&&(_=!1,E=S+1),I>=0&&(T===g.charCodeAt(I)?--I===-1&&(f=S):(I=-1,f=E))}return c===f?f=E:f===-1&&(f=o.length),o.slice(c,f)}for(S=o.length-1;S>=c;--S)if(h(o.charCodeAt(S))){if(!_){c=S+1;break}}else f===-1&&(_=!1,f=S+1);return f===-1?"":o.slice(c,f)},extname(o){t(o,"path");let g=0,c=-1,f=0,_=-1,S=!0,I=0;o.length>=2&&o.charCodeAt(1)===b&&u(o.charCodeAt(0))&&(g=f=2);for(let E=o.length-1;E>=g;--E){const T=o.charCodeAt(E);if(h(T)){if(!S){f=E+1;break}continue}_===-1&&(S=!1,_=E+1),T===p?c===-1?c=E:I!==1&&(I=1):c!==-1&&(I=-1)}return c===-1||_===-1||I===0||I===1&&c===_-1&&c===f+1?"":o.slice(c,_)},format:r.bind(null,"\\"),parse(o){t(o,"path");const g={root:"",dir:"",base:"",ext:"",name:""};if(o.length===0)return g;const c=o.length;let f=0,_=o.charCodeAt(0);if(c===1)return h(_)?(g.root=g.dir=o,g):(g.base=g.name=o,g);if(h(_)){if(f=1,h(o.charCodeAt(1))){let O=2,M=O;for(;O<c&&!h(o.charCodeAt(O));)O++;if(O<c&&O!==M){for(M=O;O<c&&h(o.charCodeAt(O));)O++;if(O<c&&O!==M){for(M=O;O<c&&!h(o.charCodeAt(O));)O++;O===c?f=O:O!==M&&(f=O+1)}}}}else if(u(_)&&o.charCodeAt(1)===b){if(c<=2)return g.root=g.dir=o,g;if(f=2,h(o.charCodeAt(2))){if(c===3)return g.root=g.dir=o,g;f=3}}f>0&&(g.root=o.slice(0,f));let S=-1,I=f,E=-1,T=!0,N=o.length-1,A=0;for(;N>=f;--N){if(_=o.charCodeAt(N),h(_)){if(!T){I=N+1;break}continue}E===-1&&(T=!1,E=N+1),_===p?S===-1?S=N:A!==1&&(A=1):S!==-1&&(A=-1)}return E!==-1&&(S===-1||A===0||A===1&&S===E-1&&S===I+1?g.base=g.name=o.slice(I,E):(g.name=o.slice(I,S),g.base=o.slice(I,E),g.ext=o.slice(S,E))),I>0&&I!==f?g.dir=o.slice(0,I-1):g.dir=g.root,g},sep:"\\",delimiter:";",win32:null,posix:null};const l=(()=>{if(n){const o=/\\/g;return()=>{const g=m.cwd().replace(o,"/");return g.slice(g.indexOf("/"))}}return()=>m.cwd()})();e.posix={resolve(...o){let g="",c=!1;for(let f=o.length-1;f>=-1&&!c;f--){const _=f>=0?o[f]:l();t(_,"path"),_.length!==0&&(g=`${_}/${g}`,c=_.charCodeAt(0)===w)}return g=d(g,!c,"/",v),c?`/${g}`:g.length>0?g:"."},normalize(o){if(t(o,"path"),o.length===0)return".";const g=o.charCodeAt(0)===w,c=o.charCodeAt(o.length-1)===w;return o=d(o,!g,"/",v),o.length===0?g?"/":c?"./":".":(c&&(o+="/"),g?`/${o}`:o)},isAbsolute(o){return t(o,"path"),o.length>0&&o.charCodeAt(0)===w},join(...o){if(o.length===0)return".";let g;for(let c=0;c<o.length;++c){const f=o[c];t(f,"path"),f.length>0&&(g===void 0?g=f:g+=`/${f}`)}return g===void 0?".":e.posix.normalize(g)},relative(o,g){if(t(o,"from"),t(g,"to"),o===g||(o=e.posix.resolve(o),g=e.posix.resolve(g),o===g))return"";const c=1,f=o.length,_=f-c,S=1,I=g.length-S,E=_<I?_:I;let T=-1,N=0;for(;N<E;N++){const O=o.charCodeAt(c+N);if(O!==g.charCodeAt(S+N))break;O===w&&(T=N)}if(N===E)if(I>E){if(g.charCodeAt(S+N)===w)return g.slice(S+N+1);if(N===0)return g.slice(S+N)}else _>E&&(o.charCodeAt(c+N)===w?T=N:N===0&&(T=0));let A="";for(N=c+T+1;N<=f;++N)(N===f||o.charCodeAt(N)===w)&&(A+=A.length===0?"..":"/..");return`${A}${g.slice(S+T)}`},toNamespacedPath(o){return o},dirname(o){if(t(o,"path"),o.length===0)return".";const g=o.charCodeAt(0)===w;let c=-1,f=!0;for(let _=o.length-1;_>=1;--_)if(o.charCodeAt(_)===w){if(!f){c=_;break}}else f=!1;return c===-1?g?"/":".":g&&c===1?"//":o.slice(0,c)},basename(o,g){g!==void 0&&t(g,"ext"),t(o,"path");let c=0,f=-1,_=!0,S;if(g!==void 0&&g.length>0&&g.length<=o.length){if(g===o)return"";let I=g.length-1,E=-1;for(S=o.length-1;S>=0;--S){const T=o.charCodeAt(S);if(T===w){if(!_){c=S+1;break}}else E===-1&&(_=!1,E=S+1),I>=0&&(T===g.charCodeAt(I)?--I===-1&&(f=S):(I=-1,f=E))}return c===f?f=E:f===-1&&(f=o.length),o.slice(c,f)}for(S=o.length-1;S>=0;--S)if(o.charCodeAt(S)===w){if(!_){c=S+1;break}}else f===-1&&(_=!1,f=S+1);return f===-1?"":o.slice(c,f)},extname(o){t(o,"path");let g=-1,c=0,f=-1,_=!0,S=0;for(let I=o.length-1;I>=0;--I){const E=o.charCodeAt(I);if(E===w){if(!_){c=I+1;break}continue}f===-1&&(_=!1,f=I+1),E===p?g===-1?g=I:S!==1&&(S=1):g!==-1&&(S=-1)}return g===-1||f===-1||S===0||S===1&&g===f-1&&g===c+1?"":o.slice(g,f)},format:r.bind(null,"/"),parse(o){t(o,"path");const g={root:"",dir:"",base:"",ext:"",name:""};if(o.length===0)return g;const c=o.charCodeAt(0)===w;let f;c?(g.root="/",f=1):f=0;let _=-1,S=0,I=-1,E=!0,T=o.length-1,N=0;for(;T>=f;--T){const A=o.charCodeAt(T);if(A===w){if(!E){S=T+1;break}continue}I===-1&&(E=!1,I=T+1),A===p?_===-1?_=T:N!==1&&(N=1):_!==-1&&(N=-1)}if(I!==-1){const A=S===0&&c?1:S;_===-1||N===0||N===1&&_===I-1&&_===S+1?g.base=g.name=o.slice(A,I):(g.name=o.slice(A,_),g.base=o.slice(A,I),g.ext=o.slice(_,I))}return S>0?g.dir=o.slice(0,S-1):c&&(g.dir="/"),g},sep:"/",delimiter:":",win32:null,posix:null},e.posix.win32=e.win32.win32=e.win32,e.posix.posix=e.win32.posix=e.posix,e.normalize=n?e.win32.normalize:e.posix.normalize,e.resolve=n?e.win32.resolve:e.posix.resolve,e.relative=n?e.win32.relative:e.posix.relative,e.dirname=n?e.win32.dirname:e.posix.dirname,e.basename=n?e.win32.basename:e.posix.basename,e.extname=n?e.win32.extname:e.posix.extname,e.sep=n?e.win32.sep:e.posix.sep}),define(te[238],ie([1,0,96,17,11]),function(J,e,m,k,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isPathSeparator=L,e.toSlashes=y,e.toPosixPath=p,e.getRoot=w,e.isEqualOrParent=C,e.isWindowsDriveLetter=b,e.hasDriveLetter=a;function L(s){return s===47||s===92}function y(s){return s.replace(/[\\/]/g,m.posix.sep)}function p(s){return s.indexOf("/")===-1&&(s=y(s)),/^[a-zA-Z]:(\/|$)/.test(s)&&(s="/"+s),s}function w(s,i=m.posix.sep){if(!s)return"";const t=s.length,n=s.charCodeAt(0);if(L(n)){if(L(s.charCodeAt(1))&&!L(s.charCodeAt(2))){let v=3;const u=v;for(;v<t&&!L(s.charCodeAt(v));v++);if(u!==v&&!L(s.charCodeAt(v+1))){for(v+=1;v<t;v++)if(L(s.charCodeAt(v)))return s.slice(0,v+1).replace(/[\\/]/g,i)}}return i}else if(b(n)&&s.charCodeAt(1)===58)return L(s.charCodeAt(2))?s.slice(0,2)+i:s.slice(0,2);let h=s.indexOf("://");if(h!==-1){for(h+=3;h<t;h++)if(L(s.charCodeAt(h)))return s.slice(0,h+1)}return""}function C(s,i,t,n=m.sep){if(s===i)return!0;if(!s||!i||i.length>s.length)return!1;if(t){if(!(0,D.startsWithIgnoreCase)(s,i))return!1;if(i.length===s.length)return!0;let v=i.length;return i.charAt(i.length-1)===n&&v--,s.charAt(v)===n}return i.charAt(i.length-1)!==n&&(i+=n),s.indexOf(i)===0}function b(s){return s>=65&&s<=90||s>=97&&s<=122}function a(s,i=k.isWindows){return i?b(s.charCodeAt(0))&&s.charCodeAt(1)===58:!1}}),define(te[613],ie([1,0,76,96,17,11]),function(J,e,m,k,D,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.scoreFuzzy2=p,e.prepareQuery=n,e.pieceToQuery=v;const y=[void 0,[]];function p(u,d,r=0,l=0){const o=d;return o.values&&o.values.length>1?w(u,o.values,r,l):C(u,d,r,l)}function w(u,d,r,l){let o=0;const g=[];for(const c of d){const[f,_]=C(u,c,r,l);if(typeof f!="number")return y;o+=f,g.push(..._)}return[o,a(g)]}function C(u,d,r,l){const o=(0,m.fuzzyScore)(d.original,d.originalLowercase,r,u,u.toLowerCase(),l,{firstMatchCanBeWeak:!0,boostFullMatch:!0});return o?[o[0],(0,m.createMatches)(o)]:y}const b=Object.freeze({score:0});function a(u){const d=u.sort((o,g)=>o.start-g.start),r=[];let l;for(const o of d)!l||!s(l,o)?(l=o,r.push(o)):(l.start=Math.min(l.start,o.start),l.end=Math.max(l.end,o.end));return r}function s(u,d){return!(u.end<d.start||d.end<u.start)}function i(u){return u.startsWith('"')&&u.endsWith('"')}const t=" ";function n(u){typeof u!="string"&&(u="");const d=u.toLowerCase(),{pathNormalized:r,normalized:l,normalizedLowercase:o}=h(u),g=r.indexOf(k.sep)>=0,c=i(u);let f;const _=u.split(t);if(_.length>1)for(const S of _){const I=i(S),{pathNormalized:E,normalized:T,normalizedLowercase:N}=h(S);T&&(f||(f=[]),f.push({original:S,originalLowercase:S.toLowerCase(),pathNormalized:E,normalized:T,normalizedLowercase:N,expectContiguousMatch:I}))}return{original:u,originalLowercase:d,pathNormalized:r,normalized:l,normalizedLowercase:o,values:f,containsPathSeparator:g,expectContiguousMatch:c}}function h(u){let d;D.isWindows?d=u.replace(/\//g,k.sep):d=u.replace(/\\/g,k.sep);const r=(0,L.stripWildcards)(d).replace(/\s|"/g,"");return{pathNormalized:d,normalized:r,normalizedLowercase:r.toLowerCase()}}function v(u){return Array.isArray(u)?n(u.map(d=>d.original).join(t)):n(u.original)}}),define(te[333],ie([1,0,15,238,47,96,17,11]),function(J,e,m,k,D,L,y,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GLOB_SPLIT=e.GLOBSTAR=void 0,e.splitGlobAware=s,e.match=N,e.parse=A,e.isRelativePattern=O,e.GLOBSTAR="**",e.GLOB_SPLIT="/";const w="[/\\\\]",C="[^/\\\\]",b=/\//g;function a(R,B){switch(R){case 0:return"";case 1:return`${C}*?`;default:return`(?:${w}|${C}+${w}${B?`|${w}${C}+`:""})*?`}}function s(R,B){if(!R)return[];const H=[];let V=!1,q=!1,K="";for(const U of R){switch(U){case B:if(!V&&!q){H.push(K),K="";continue}break;case"{":V=!0;break;case"}":V=!1;break;case"[":q=!0;break;case"]":q=!1;break}K+=U}return K&&H.push(K),H}function i(R){if(!R)return"";let B="";const H=s(R,e.GLOB_SPLIT);if(H.every(V=>V===e.GLOBSTAR))B=".*";else{let V=!1;H.forEach((q,K)=>{if(q===e.GLOBSTAR){if(V)return;B+=a(2,K===H.length-1)}else{let U=!1,$="",se=!1,F="";for(const X of q){if(X!=="}"&&U){$+=X;continue}if(se&&(X!=="]"||!F)){let Q;X==="-"?Q=X:(X==="^"||X==="!")&&!F?Q="^":X===e.GLOB_SPLIT?Q="":Q=(0,p.escapeRegExpCharacters)(X),F+=Q;continue}switch(X){case"{":U=!0;continue;case"[":se=!0;continue;case"}":{const Z=`(?:${s($,",").map(ae=>i(ae)).join("|")})`;B+=Z,U=!1,$="";break}case"]":{B+="["+F+"]",se=!1,F="";break}case"?":B+=C;continue;case"*":B+=a(1);continue;default:B+=(0,p.escapeRegExpCharacters)(X)}}K<H.length-1&&(H[K+1]!==e.GLOBSTAR||K+2<H.length)&&(B+=w)}V=q===e.GLOBSTAR})}return B}const t=/^\*\*\/\*\.[\w\.-]+$/,n=/^\*\*\/([\w\.-]+)\/?$/,h=/^{\*\*\/\*?[\w\.-]+\/?(,\*\*\/\*?[\w\.-]+\/?)*}$/,v=/^{\*\*\/\*?[\w\.-]+(\/(\*\*)?)?(,\*\*\/\*?[\w\.-]+(\/(\*\*)?)?)*}$/,u=/^\*\*((\/[\w\.-]+)+)\/?$/,d=/^([\w\.-]+(\/[\w\.-]+)*)\/?$/,r=new D.LRUCache(1e4),l=function(){return!1},o=function(){return null};function g(R,B){if(!R)return o;let H;typeof R!="string"?H=R.pattern:H=R,H=H.trim();const V=`${H}_${!!B.trimForExclusions}`;let q=r.get(V);if(q)return c(q,R);let K;return t.test(H)?q=_(H.substr(4),H):(K=n.exec(f(H,B)))?q=S(K[1],H):(B.trimForExclusions?v:h).test(H)?q=I(H,B):(K=u.exec(f(H,B)))?q=E(K[1].substr(1),H,!0):(K=d.exec(f(H,B)))?q=E(K[1],H,!1):q=T(H),r.set(V,q),c(q,R)}function c(R,B){if(typeof B=="string")return R;const H=function(V,q){return(0,k.isEqualOrParent)(V,B.base,!y.isLinux)?R((0,p.ltrim)(V.substr(B.base.length),L.sep),q):null};return H.allBasenames=R.allBasenames,H.allPaths=R.allPaths,H.basenames=R.basenames,H.patterns=R.patterns,H}function f(R,B){return B.trimForExclusions&&R.endsWith("/**")?R.substr(0,R.length-2):R}function _(R,B){return function(H,V){return typeof H=="string"&&H.endsWith(R)?B:null}}function S(R,B){const H=`/${R}`,V=`\\${R}`,q=function(U,$){return typeof U!="string"?null:$?$===R?B:null:U===R||U.endsWith(H)||U.endsWith(V)?B:null},K=[R];return q.basenames=K,q.patterns=[B],q.allBasenames=K,q}function I(R,B){const H=x(R.slice(1,-1).split(",").map($=>g($,B)).filter($=>$!==o),R),V=H.length;if(!V)return o;if(V===1)return H[0];const q=function($,se){for(let F=0,X=H.length;F<X;F++)if(H[F]($,se))return R;return null},K=H.find($=>!!$.allBasenames);K&&(q.allBasenames=K.allBasenames);const U=H.reduce(($,se)=>se.allPaths?$.concat(se.allPaths):$,[]);return U.length&&(q.allPaths=U),q}function E(R,B,H){const V=L.sep===L.posix.sep,q=V?R:R.replace(b,L.sep),K=L.sep+q,U=L.posix.sep+R;let $;return H?$=function(se,F){return typeof se=="string"&&(se===q||se.endsWith(K)||!V&&(se===R||se.endsWith(U)))?B:null}:$=function(se,F){return typeof se=="string"&&(se===q||!V&&se===R)?B:null},$.allPaths=[(H?"*/":"./")+R],$}function T(R){try{const B=new RegExp(`^${i(R)}$`);return function(H){return B.lastIndex=0,typeof H=="string"&&B.test(H)?R:null}}catch{return o}}function N(R,B,H){return!R||typeof B!="string"?!1:A(R)(B,void 0,H)}function A(R,B={}){if(!R)return l;if(typeof R=="string"||O(R)){const H=g(R,B);if(H===o)return l;const V=function(q,K){return!!H(q,K)};return H.allBasenames&&(V.allBasenames=H.allBasenames),H.allPaths&&(V.allPaths=H.allPaths),V}return M(R,B)}function O(R){const B=R;return B?typeof B.base=="string"&&typeof B.pattern=="string":!1}function M(R,B){const H=x(Object.getOwnPropertyNames(R).map($=>P($,R[$],B)).filter($=>$!==o)),V=H.length;if(!V)return o;if(!H.some($=>!!$.requiresSiblings)){if(V===1)return H[0];const $=function(X,Q){let Z;for(let ae=0,ue=H.length;ae<ue;ae++){const ge=H[ae](X,Q);if(typeof ge=="string")return ge;(0,m.isThenable)(ge)&&(Z||(Z=[]),Z.push(ge))}return Z?(async()=>{for(const ae of Z){const ue=await ae;if(typeof ue=="string")return ue}return null})():null},se=H.find(X=>!!X.allBasenames);se&&($.allBasenames=se.allBasenames);const F=H.reduce((X,Q)=>Q.allPaths?X.concat(Q.allPaths):X,[]);return F.length&&($.allPaths=F),$}const q=function($,se,F){let X,Q;for(let Z=0,ae=H.length;Z<ae;Z++){const ue=H[Z];ue.requiresSiblings&&F&&(se||(se=(0,L.basename)($)),X||(X=se.substr(0,se.length-(0,L.extname)($).length)));const ge=ue($,se,X,F);if(typeof ge=="string")return ge;(0,m.isThenable)(ge)&&(Q||(Q=[]),Q.push(ge))}return Q?(async()=>{for(const Z of Q){const ae=await Z;if(typeof ae=="string")return ae}return null})():null},K=H.find($=>!!$.allBasenames);K&&(q.allBasenames=K.allBasenames);const U=H.reduce(($,se)=>se.allPaths?$.concat(se.allPaths):$,[]);return U.length&&(q.allPaths=U),q}function P(R,B,H){if(B===!1)return o;const V=g(R,H);if(V===o)return o;if(typeof B=="boolean")return V;if(B){const q=B.when;if(typeof q=="string"){const K=(U,$,se,F)=>{if(!F||!V(U,$))return null;const X=q.replace("$(basename)",()=>se),Q=F(X);return(0,m.isThenable)(Q)?Q.then(Z=>Z?R:null):Q?R:null};return K.requiresSiblings=!0,K}}return V}function x(R,B){const H=R.filter($=>!!$.basenames);if(H.length<2)return R;const V=H.reduce(($,se)=>{const F=se.basenames;return F?$.concat(F):$},[]);let q;if(B){q=[];for(let $=0,se=V.length;$<se;$++)q.push(B)}else q=H.reduce(($,se)=>{const F=se.patterns;return F?$.concat(F):$},[]);const K=function($,se){if(typeof $!="string")return null;if(!se){let X;for(X=$.length;X>0;X--){const Q=$.charCodeAt(X-1);if(Q===47||Q===92)break}se=$.substr(X)}const F=V.indexOf(se);return F!==-1?q[F]:null};K.basenames=V,K.patterns=q,K.allBasenames=V;const U=R.filter($=>!$.basenames);return U.push(K),U}}),define(te[614],ie([1,0,238,17]),function(J,e,m,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.normalizeDriveLetter=D;function D(y,p=k.isWindows){return(0,m.hasDriveLetter)(y,p)?y.charAt(0).toUpperCase()+y.slice(1):y}let L=Object.create(null)}),define(te[22],ie([1,0,96,17]),function(J,e,m,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.URI=void 0,e.uriToFsPath=d;const D=/^\w[\w\d+.-]*$/,L=/^\//,y=/^\/\//;function p(c,f){if(!c.scheme&&f)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${c.authority}", path: "${c.path}", query: "${c.query}", fragment: "${c.fragment}"}`);if(c.scheme&&!D.test(c.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(c.path){if(c.authority){if(!L.test(c.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(y.test(c.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}function w(c,f){return!c&&!f?"file":c}function C(c,f){switch(c){case"https":case"http":case"file":f?f[0]!==a&&(f=a+f):f=a;break}return f}const b="",a="/",s=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class i{static isUri(f){return f instanceof i?!0:f?typeof f.authority=="string"&&typeof f.fragment=="string"&&typeof f.path=="string"&&typeof f.query=="string"&&typeof f.scheme=="string"&&typeof f.fsPath=="string"&&typeof f.with=="function"&&typeof f.toString=="function":!1}constructor(f,_,S,I,E,T=!1){typeof f=="object"?(this.scheme=f.scheme||b,this.authority=f.authority||b,this.path=f.path||b,this.query=f.query||b,this.fragment=f.fragment||b):(this.scheme=w(f,T),this.authority=_||b,this.path=C(this.scheme,S||b),this.query=I||b,this.fragment=E||b,p(this,T))}get fsPath(){return d(this,!1)}with(f){if(!f)return this;let{scheme:_,authority:S,path:I,query:E,fragment:T}=f;return _===void 0?_=this.scheme:_===null&&(_=b),S===void 0?S=this.authority:S===null&&(S=b),I===void 0?I=this.path:I===null&&(I=b),E===void 0?E=this.query:E===null&&(E=b),T===void 0?T=this.fragment:T===null&&(T=b),_===this.scheme&&S===this.authority&&I===this.path&&E===this.query&&T===this.fragment?this:new n(_,S,I,E,T)}static parse(f,_=!1){const S=s.exec(f);return S?new n(S[2]||b,g(S[4]||b),g(S[5]||b),g(S[7]||b),g(S[9]||b),_):new n(b,b,b,b,b)}static file(f){let _=b;if(k.isWindows&&(f=f.replace(/\\/g,a)),f[0]===a&&f[1]===a){const S=f.indexOf(a,2);S===-1?(_=f.substring(2),f=a):(_=f.substring(2,S),f=f.substring(S)||a)}return new n("file",_,f,b,b)}static from(f,_){return new n(f.scheme,f.authority,f.path,f.query,f.fragment,_)}static joinPath(f,..._){if(!f.path)throw new Error("[UriError]: cannot call joinPath on URI without path");let S;return k.isWindows&&f.scheme==="file"?S=i.file(m.win32.join(d(f,!0),..._)).path:S=m.posix.join(f.path,..._),f.with({path:S})}toString(f=!1){return r(this,f)}toJSON(){return this}static revive(f){var _,S;if(f){if(f instanceof i)return f;{const I=new n(f);return I._formatted=(_=f.external)!==null&&_!==void 0?_:null,I._fsPath=f._sep===t&&(S=f.fsPath)!==null&&S!==void 0?S:null,I}}else return f}}e.URI=i;const t=k.isWindows?1:void 0;class n extends i{constructor(){super(...arguments),this._formatted=null,this._fsPath=null}get fsPath(){return this._fsPath||(this._fsPath=d(this,!1)),this._fsPath}toString(f=!1){return f?r(this,!0):(this._formatted||(this._formatted=r(this,!1)),this._formatted)}toJSON(){const f={$mid:1};return this._fsPath&&(f.fsPath=this._fsPath,f._sep=t),this._formatted&&(f.external=this._formatted),this.path&&(f.path=this.path),this.scheme&&(f.scheme=this.scheme),this.authority&&(f.authority=this.authority),this.query&&(f.query=this.query),this.fragment&&(f.fragment=this.fragment),f}}const h={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function v(c,f,_){let S,I=-1;for(let E=0;E<c.length;E++){const T=c.charCodeAt(E);if(T>=97&&T<=122||T>=65&&T<=90||T>=48&&T<=57||T===45||T===46||T===95||T===126||f&&T===47||_&&T===91||_&&T===93||_&&T===58)I!==-1&&(S+=encodeURIComponent(c.substring(I,E)),I=-1),S!==void 0&&(S+=c.charAt(E));else{S===void 0&&(S=c.substr(0,E));const N=h[T];N!==void 0?(I!==-1&&(S+=encodeURIComponent(c.substring(I,E)),I=-1),S+=N):I===-1&&(I=E)}}return I!==-1&&(S+=encodeURIComponent(c.substring(I))),S!==void 0?S:c}function u(c){let f;for(let _=0;_<c.length;_++){const S=c.charCodeAt(_);S===35||S===63?(f===void 0&&(f=c.substr(0,_)),f+=h[S]):f!==void 0&&(f+=c[_])}return f!==void 0?f:c}function d(c,f){let _;return c.authority&&c.path.length>1&&c.scheme==="file"?_=`//${c.authority}${c.path}`:c.path.charCodeAt(0)===47&&(c.path.charCodeAt(1)>=65&&c.path.charCodeAt(1)<=90||c.path.charCodeAt(1)>=97&&c.path.charCodeAt(1)<=122)&&c.path.charCodeAt(2)===58?f?_=c.path.substr(1):_=c.path[1].toLowerCase()+c.path.substr(2):_=c.path,k.isWindows&&(_=_.replace(/\//g,"\\")),_}function r(c,f){const _=f?u:v;let S="",{scheme:I,authority:E,path:T,query:N,fragment:A}=c;if(I&&(S+=I,S+=":"),(E||I==="file")&&(S+=a,S+=a),E){let O=E.indexOf("@");if(O!==-1){const M=E.substr(0,O);E=E.substr(O+1),O=M.lastIndexOf(":"),O===-1?S+=_(M,!1,!1):(S+=_(M.substr(0,O),!1,!1),S+=":",S+=_(M.substr(O+1),!1,!0)),S+="@"}E=E.toLowerCase(),O=E.lastIndexOf(":"),O===-1?S+=_(E,!1,!0):(S+=_(E.substr(0,O),!1,!0),S+=E.substr(O))}if(T){if(T.length>=3&&T.charCodeAt(0)===47&&T.charCodeAt(2)===58){const O=T.charCodeAt(1);O>=65&&O<=90&&(T=`/${String.fromCharCode(O+32)}:${T.substr(3)}`)}else if(T.length>=2&&T.charCodeAt(1)===58){const O=T.charCodeAt(0);O>=65&&O<=90&&(T=`${String.fromCharCode(O+32)}:${T.substr(2)}`)}S+=_(T,!0,!1)}return N&&(S+="?",S+=_(N,!1,!1)),A&&(S+="#",S+=f?A:v(A,!1,!1)),S}function l(c){try{return decodeURIComponent(c)}catch{return c.length>3?c.substr(0,3)+l(c.substr(3)):c}}const o=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function g(c){return c.match(o)?c.replace(o,f=>l(f)):c}}),define(te[239],ie([1,0,154,22]),function(J,e,m,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.stringify=D,e.parse=L,e.revive=p;function D(w){return JSON.stringify(w,y)}function L(w){let C=JSON.parse(w);return C=p(C),C}function y(w,C){return C instanceof RegExp?{$mid:2,source:C.source,flags:C.flags}:C}function p(w,C=0){if(!w||C>200)return w;if(typeof w=="object"){switch(w.$mid){case 1:return k.URI.revive(w);case 2:return new RegExp(w.source,w.flags);case 17:return new Date(w.source)}if(w instanceof m.VSBuffer||w instanceof Uint8Array)return w;if(Array.isArray(w))for(let b=0;b<w.length;++b)w[b]=p(w[b],C+1);else for(const b in w)Object.hasOwnProperty.call(w,b)&&(w[b]=p(w[b],C+1))}return w}}),define(te[49],ie([1,0,12,17,11,22,96]),function(J,e,m,k,D,L,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.COI=e.FileAccess=e.VSCODE_AUTHORITY=e.RemoteAuthorities=e.connectionTokenQueryName=e.Schemas=void 0,e.matchesScheme=w,e.matchesSomeScheme=C;var p;(function(i){i.inMemory="inmemory",i.vscode="vscode",i.internal="private",i.walkThrough="walkThrough",i.walkThroughSnippet="walkThroughSnippet",i.http="http",i.https="https",i.file="file",i.mailto="mailto",i.untitled="untitled",i.data="data",i.command="command",i.vscodeRemote="vscode-remote",i.vscodeRemoteResource="vscode-remote-resource",i.vscodeManagedRemoteResource="vscode-managed-remote-resource",i.vscodeUserData="vscode-userdata",i.vscodeCustomEditor="vscode-custom-editor",i.vscodeNotebookCell="vscode-notebook-cell",i.vscodeNotebookCellMetadata="vscode-notebook-cell-metadata",i.vscodeNotebookCellOutput="vscode-notebook-cell-output",i.vscodeInteractiveInput="vscode-interactive-input",i.vscodeSettings="vscode-settings",i.vscodeWorkspaceTrust="vscode-workspace-trust",i.vscodeTerminal="vscode-terminal",i.vscodeChatCodeBlock="vscode-chat-code-block",i.vscodeChatSesssion="vscode-chat-editor",i.webviewPanel="webview-panel",i.vscodeWebview="vscode-webview",i.extension="extension",i.vscodeFileResource="vscode-file",i.tmp="tmp",i.vsls="vsls",i.vscodeSourceControl="vscode-scm",i.codeSetting="code-setting"})(p||(e.Schemas=p={}));function w(i,t){return L.URI.isUri(i)?(0,D.equalsIgnoreCase)(i.scheme,t):(0,D.startsWithIgnoreCase)(i,t+":")}function C(i,...t){return t.some(n=>w(i,n))}e.connectionTokenQueryName="tkn";class b{constructor(){this._hosts=Object.create(null),this._ports=Object.create(null),this._connectionTokens=Object.create(null),this._preferredWebSchema="http",this._delegate=null,this._serverRootPath="/"}setPreferredWebSchema(t){this._preferredWebSchema=t}get _remoteResourcesPath(){return y.posix.join(this._serverRootPath,p.vscodeRemoteResource)}rewrite(t){if(this._delegate)try{return this._delegate(t)}catch(r){return m.onUnexpectedError(r),t}const n=t.authority;let h=this._hosts[n];h&&h.indexOf(":")!==-1&&h.indexOf("[")===-1&&(h=`[${h}]`);const v=this._ports[n],u=this._connectionTokens[n];let d=`path=${encodeURIComponent(t.path)}`;return typeof u=="string"&&(d+=`&${e.connectionTokenQueryName}=${encodeURIComponent(u)}`),L.URI.from({scheme:k.isWeb?this._preferredWebSchema:p.vscodeRemoteResource,authority:`${h}:${v}`,path:this._remoteResourcesPath,query:d})}}e.RemoteAuthorities=new b,e.VSCODE_AUTHORITY="vscode-app";class a{uriToBrowserUri(t){return t.scheme===p.vscodeRemote?e.RemoteAuthorities.rewrite(t):t.scheme===p.file&&(k.isNative||k.webWorkerOrigin===`${p.vscodeFileResource}://${a.FALLBACK_AUTHORITY}`)?t.with({scheme:p.vscodeFileResource,authority:t.authority||a.FALLBACK_AUTHORITY,query:null,fragment:null}):t}}a.FALLBACK_AUTHORITY=e.VSCODE_AUTHORITY,e.FileAccess=new a;var s;(function(i){const t=new Map([["1",{"Cross-Origin-Opener-Policy":"same-origin"}],["2",{"Cross-Origin-Embedder-Policy":"require-corp"}],["3",{"Cross-Origin-Opener-Policy":"same-origin","Cross-Origin-Embedder-Policy":"require-corp"}]]);i.CoopAndCoep=Object.freeze(t.get("3"));const n="vscode-coi";function h(u){let d;typeof u=="string"?d=new URL(u).searchParams:u instanceof URL?d=u.searchParams:L.URI.isUri(u)&&(d=new URL(u.toString(!0)).searchParams);const r=d?.get(n);if(r)return t.get(r)}i.getHeadersFromQuery=h;function v(u,d,r){if(!globalThis.crossOriginIsolated)return;const l=d&&r?"3":r?"2":"1";u instanceof URLSearchParams?u.set(n,l):u[n]=l}i.addSearchParam=v})(s||(e.COI=s={}))}),define(te[6],ie([1,0,62,235,48,72,15,12,7,334,2,49,17,121,52]),function(J,e,m,k,D,L,y,p,w,C,b,a,s,i,t){"use strict";var n;Object.defineProperty(e,"__esModule",{value:!0}),e.DragAndDropObserver=e.ModifierKeyEmitter=e.basicMarkupHtmlTags=e.Namespace=e.EventHelper=e.EventType=e.sharedMutationObserver=e.Dimension=e.WindowIntervalTimer=e.scheduleAtNextAnimationFrame=e.runAtThisOrScheduleAtNextAnimationFrame=e.WindowIdleValue=e.addStandardDisposableGenericMouseUpListener=e.addStandardDisposableGenericMouseDownListener=e.addStandardDisposableListener=e.onDidUnregisterWindow=e.onWillUnregisterWindow=e.onDidRegisterWindow=e.hasWindow=e.getWindowById=e.getWindowId=e.getWindowsCount=e.getWindows=e.getDocument=e.getWindow=e.registerWindow=void 0,e.clearNode=h,e.addDisposableListener=u,e.addDisposableGenericMouseDownListener=c,e.addDisposableGenericMouseUpListener=f,e.runWhenWindowIdle=_,e.getComputedStyle=T,e.getClientArea=N,e.getTopLeftOffset=M,e.size=P,e.getDomNodePagePosition=x,e.getDomNodeZoomLevel=R,e.getTotalWidth=B,e.getContentWidth=H,e.getContentHeight=V,e.getTotalHeight=q,e.isAncestor=K,e.findParentWithClass=U,e.hasParentWithClass=$,e.isShadowRoot=se,e.isInShadowDOM=F,e.getShadowRoot=X,e.getActiveElement=Q,e.isActiveElement=Z,e.isAncestorOfActiveElement=ae,e.getActiveDocument=ue,e.getActiveWindow=ge,e.createStyleSheet2=re,e.createStyleSheet=ee,e.createCSSRule=G,e.removeCSSRulesContainingSelector=oe,e.isMouseEvent=ce,e.isKeyboardEvent=le,e.isEventLike=me,e.saveParentsScrollTop=ve,e.restoreParentsScrollTop=Ce,e.trackFocus=_e,e.after=Le,e.append=ke,e.prepend=Ae,e.reset=xe,e.$=Ne,e.setVisibility=pe,e.show=be,e.hide=Re,e.computeScreenAwareSize=We,e.windowOpenNoOpener=qe,e.animate=je,e.asCSSUrl=Ze,e.asCSSPropertyValue=Je,e.asCssValueWithDefault=st,e.hookDomPurifyHrefAndSrcSanitizer=rt,e.h=_t,n=function(){const ye=new Map;(0,t.ensureCodeWindow)(t.mainWindow,1);const we={window:t.mainWindow,disposables:new b.DisposableStore};ye.set(t.mainWindow.vscodeWindowId,we);const Me=new w.Emitter,Te=new w.Emitter,De=new w.Emitter;function Oe(Pe,ze){const Ue=typeof Pe=="number"?ye.get(Pe):void 0;return Ue??(ze?we:void 0)}return{onDidRegisterWindow:Me.event,onWillUnregisterWindow:De.event,onDidUnregisterWindow:Te.event,registerWindow(Pe){if(ye.has(Pe.vscodeWindowId))return b.Disposable.None;const ze=new b.DisposableStore,Ue={window:Pe,disposables:ze.add(new b.DisposableStore)};return ye.set(Pe.vscodeWindowId,Ue),ze.add((0,b.toDisposable)(()=>{ye.delete(Pe.vscodeWindowId),Te.fire(Pe)})),ze.add(u(Pe,e.EventType.BEFORE_UNLOAD,()=>{De.fire(Pe)})),Me.fire(Ue),ze},getWindows(){return ye.values()},getWindowsCount(){return ye.size},getWindowId(Pe){return Pe.vscodeWindowId},hasWindow(Pe){return ye.has(Pe)},getWindowById:Oe,getWindow(Pe){var ze;const Ue=Pe;if(!((ze=Ue?.ownerDocument)===null||ze===void 0)&&ze.defaultView)return Ue.ownerDocument.defaultView.window;const $e=Pe;return $e?.view?$e.view.window:t.mainWindow},getDocument(Pe){const ze=Pe;return(0,e.getWindow)(ze).document}}}(),e.registerWindow=n.registerWindow,e.getWindow=n.getWindow,e.getDocument=n.getDocument,e.getWindows=n.getWindows,e.getWindowsCount=n.getWindowsCount,e.getWindowId=n.getWindowId,e.getWindowById=n.getWindowById,e.hasWindow=n.hasWindow,e.onDidRegisterWindow=n.onDidRegisterWindow,e.onWillUnregisterWindow=n.onWillUnregisterWindow,e.onDidUnregisterWindow=n.onDidUnregisterWindow;function h(ye){for(;ye.firstChild;)ye.firstChild.remove()}class v{constructor(we,Me,Te,De){this._node=we,this._type=Me,this._handler=Te,this._options=De||!1,this._node.addEventListener(this._type,this._handler,this._options)}dispose(){this._handler&&(this._node.removeEventListener(this._type,this._handler,this._options),this._node=null,this._handler=null)}}function u(ye,we,Me,Te){return new v(ye,we,Me,Te)}function d(ye,we){return function(Me){return we(new L.StandardMouseEvent(ye,Me))}}function r(ye){return function(we){return ye(new D.StandardKeyboardEvent(we))}}const l=function(we,Me,Te,De){let Oe=Te;return Me==="click"||Me==="mousedown"?Oe=d((0,e.getWindow)(we),Te):(Me==="keydown"||Me==="keypress"||Me==="keyup")&&(Oe=r(Te)),u(we,Me,Oe,De)};e.addStandardDisposableListener=l;const o=function(we,Me,Te){const De=d((0,e.getWindow)(we),Me);return c(we,De,Te)};e.addStandardDisposableGenericMouseDownListener=o;const g=function(we,Me,Te){const De=d((0,e.getWindow)(we),Me);return f(we,De,Te)};e.addStandardDisposableGenericMouseUpListener=g;function c(ye,we,Me){return u(ye,s.isIOS&&k.BrowserFeatures.pointerEvents?e.EventType.POINTER_DOWN:e.EventType.MOUSE_DOWN,we,Me)}function f(ye,we,Me){return u(ye,s.isIOS&&k.BrowserFeatures.pointerEvents?e.EventType.POINTER_UP:e.EventType.MOUSE_UP,we,Me)}function _(ye,we,Me){return(0,y._runWhenIdle)(ye,we,Me)}class S extends y.AbstractIdleValue{constructor(we,Me){super(we,Me)}}e.WindowIdleValue=S;class I extends y.IntervalTimer{constructor(we){super(),this.defaultTarget=we&&(0,e.getWindow)(we)}cancelAndSet(we,Me,Te){return super.cancelAndSet(we,Me,Te??this.defaultTarget)}}e.WindowIntervalTimer=I;class E{constructor(we,Me=0){this._runner=we,this.priority=Me,this._canceled=!1}dispose(){this._canceled=!0}execute(){if(!this._canceled)try{this._runner()}catch(we){(0,p.onUnexpectedError)(we)}}static sort(we,Me){return Me.priority-we.priority}}(function(){const ye=new Map,we=new Map,Me=new Map,Te=new Map,De=Oe=>{var Pe;Me.set(Oe,!1);const ze=(Pe=ye.get(Oe))!==null&&Pe!==void 0?Pe:[];for(we.set(Oe,ze),ye.set(Oe,[]),Te.set(Oe,!0);ze.length>0;)ze.sort(E.sort),ze.shift().execute();Te.set(Oe,!1)};e.scheduleAtNextAnimationFrame=(Oe,Pe,ze=0)=>{const Ue=(0,e.getWindowId)(Oe),$e=new E(Pe,ze);let Qe=ye.get(Ue);return Qe||(Qe=[],ye.set(Ue,Qe)),Qe.push($e),Me.get(Ue)||(Me.set(Ue,!0),Oe.requestAnimationFrame(()=>De(Ue))),$e},e.runAtThisOrScheduleAtNextAnimationFrame=(Oe,Pe,ze)=>{const Ue=(0,e.getWindowId)(Oe);if(Te.get(Ue)){const $e=new E(Pe,ze);let Qe=we.get(Ue);return Qe||(Qe=[],we.set(Ue,Qe)),Qe.push($e),$e}else return(0,e.scheduleAtNextAnimationFrame)(Oe,Pe,ze)}})();function T(ye){return(0,e.getWindow)(ye).getComputedStyle(ye,null)}function N(ye,we){const Me=(0,e.getWindow)(ye),Te=Me.document;if(ye!==Te.body)return new O(ye.clientWidth,ye.clientHeight);if(s.isIOS&&Me?.visualViewport)return new O(Me.visualViewport.width,Me.visualViewport.height);if(Me?.innerWidth&&Me.innerHeight)return new O(Me.innerWidth,Me.innerHeight);if(Te.body&&Te.body.clientWidth&&Te.body.clientHeight)return new O(Te.body.clientWidth,Te.body.clientHeight);if(Te.documentElement&&Te.documentElement.clientWidth&&Te.documentElement.clientHeight)return new O(Te.documentElement.clientWidth,Te.documentElement.clientHeight);if(we)return N(we);throw new Error("Unable to figure out browser width and height")}class A{static convertToPixels(we,Me){return parseFloat(Me)||0}static getDimension(we,Me,Te){const De=T(we),Oe=De?De.getPropertyValue(Me):"0";return A.convertToPixels(we,Oe)}static getBorderLeftWidth(we){return A.getDimension(we,"border-left-width","borderLeftWidth")}static getBorderRightWidth(we){return A.getDimension(we,"border-right-width","borderRightWidth")}static getBorderTopWidth(we){return A.getDimension(we,"border-top-width","borderTopWidth")}static getBorderBottomWidth(we){return A.getDimension(we,"border-bottom-width","borderBottomWidth")}static getPaddingLeft(we){return A.getDimension(we,"padding-left","paddingLeft")}static getPaddingRight(we){return A.getDimension(we,"padding-right","paddingRight")}static getPaddingTop(we){return A.getDimension(we,"padding-top","paddingTop")}static getPaddingBottom(we){return A.getDimension(we,"padding-bottom","paddingBottom")}static getMarginLeft(we){return A.getDimension(we,"margin-left","marginLeft")}static getMarginTop(we){return A.getDimension(we,"margin-top","marginTop")}static getMarginRight(we){return A.getDimension(we,"margin-right","marginRight")}static getMarginBottom(we){return A.getDimension(we,"margin-bottom","marginBottom")}}class O{constructor(we,Me){this.width=we,this.height=Me}with(we=this.width,Me=this.height){return we!==this.width||Me!==this.height?new O(we,Me):this}static is(we){return typeof we=="object"&&typeof we.height=="number"&&typeof we.width=="number"}static lift(we){return we instanceof O?we:new O(we.width,we.height)}static equals(we,Me){return we===Me?!0:!we||!Me?!1:we.width===Me.width&&we.height===Me.height}}e.Dimension=O,O.None=new O(0,0);function M(ye){let we=ye.offsetParent,Me=ye.offsetTop,Te=ye.offsetLeft;for(;(ye=ye.parentNode)!==null&&ye!==ye.ownerDocument.body&&ye!==ye.ownerDocument.documentElement;){Me-=ye.scrollTop;const De=se(ye)?null:T(ye);De&&(Te-=De.direction!=="rtl"?ye.scrollLeft:-ye.scrollLeft),ye===we&&(Te+=A.getBorderLeftWidth(ye),Me+=A.getBorderTopWidth(ye),Me+=ye.offsetTop,Te+=ye.offsetLeft,we=ye.offsetParent)}return{left:Te,top:Me}}function P(ye,we,Me){typeof we=="number"&&(ye.style.width=`${we}px`),typeof Me=="number"&&(ye.style.height=`${Me}px`)}function x(ye){const we=ye.getBoundingClientRect(),Me=(0,e.getWindow)(ye);return{left:we.left+Me.scrollX,top:we.top+Me.scrollY,width:we.width,height:we.height}}function R(ye){let we=ye,Me=1;do{const Te=T(we).zoom;Te!=null&&Te!=="1"&&(Me*=Te),we=we.parentElement}while(we!==null&&we!==we.ownerDocument.documentElement);return Me}function B(ye){const we=A.getMarginLeft(ye)+A.getMarginRight(ye);return ye.offsetWidth+we}function H(ye){const we=A.getBorderLeftWidth(ye)+A.getBorderRightWidth(ye),Me=A.getPaddingLeft(ye)+A.getPaddingRight(ye);return ye.offsetWidth-we-Me}function V(ye){const we=A.getBorderTopWidth(ye)+A.getBorderBottomWidth(ye),Me=A.getPaddingTop(ye)+A.getPaddingBottom(ye);return ye.offsetHeight-we-Me}function q(ye){const we=A.getMarginTop(ye)+A.getMarginBottom(ye);return ye.offsetHeight+we}function K(ye,we){return!!we?.contains(ye)}function U(ye,we,Me){for(;ye&&ye.nodeType===ye.ELEMENT_NODE;){if(ye.classList.contains(we))return ye;if(Me){if(typeof Me=="string"){if(ye.classList.contains(Me))return null}else if(ye===Me)return null}ye=ye.parentNode}return null}function $(ye,we,Me){return!!U(ye,we,Me)}function se(ye){return ye&&!!ye.host&&!!ye.mode}function F(ye){return!!X(ye)}function X(ye){for(var we;ye.parentNode;){if(ye===((we=ye.ownerDocument)===null||we===void 0?void 0:we.body))return null;ye=ye.parentNode}return se(ye)?ye:null}function Q(){let ye=ue().activeElement;for(;ye?.shadowRoot;)ye=ye.shadowRoot.activeElement;return ye}function Z(ye){return Q()===ye}function ae(ye){return K(Q(),ye)}function ue(){var ye;return(0,e.getWindowsCount)()<=1?t.mainWindow.document:(ye=Array.from((0,e.getWindows)()).map(({window:Me})=>Me.document).find(Me=>Me.hasFocus()))!==null&&ye!==void 0?ye:t.mainWindow.document}function ge(){var ye,we;return(we=(ye=ue().defaultView)===null||ye===void 0?void 0:ye.window)!==null&&we!==void 0?we:t.mainWindow}const fe=new Map;function re(){return new de}class de{constructor(){this._currentCssStyle="",this._styleSheet=void 0}setStyle(we){we!==this._currentCssStyle&&(this._currentCssStyle=we,this._styleSheet?this._styleSheet.innerText=we:this._styleSheet=ee(t.mainWindow.document.head,Me=>Me.innerText=we))}dispose(){this._styleSheet&&(this._styleSheet.remove(),this._styleSheet=void 0)}}function ee(ye=t.mainWindow.document.head,we,Me){const Te=document.createElement("style");if(Te.type="text/css",Te.media="screen",we?.(Te),ye.appendChild(Te),Me&&Me.add((0,b.toDisposable)(()=>ye.removeChild(Te))),ye===t.mainWindow.document.head){const De=new Set;fe.set(Te,De);for(const{window:Oe,disposables:Pe}of(0,e.getWindows)()){if(Oe===t.mainWindow)continue;const ze=Pe.add(W(Te,De,Oe));Me?.add(ze)}}return Te}function W(ye,we,Me){var Te,De;const Oe=new b.DisposableStore,Pe=ye.cloneNode(!0);Me.document.head.appendChild(Pe),Oe.add((0,b.toDisposable)(()=>Me.document.head.removeChild(Pe)));for(const ze of j(ye))(Te=Pe.sheet)===null||Te===void 0||Te.insertRule(ze.cssText,(De=Pe.sheet)===null||De===void 0?void 0:De.cssRules.length);return Oe.add(e.sharedMutationObserver.observe(ye,Oe,{childList:!0})(()=>{Pe.textContent=ye.textContent})),we.add(Pe),Oe.add((0,b.toDisposable)(()=>we.delete(Pe))),Oe}e.sharedMutationObserver=new class{constructor(){this.mutationObservers=new Map}observe(ye,we,Me){let Te=this.mutationObservers.get(ye);Te||(Te=new Map,this.mutationObservers.set(ye,Te));const De=(0,i.hash)(Me);let Oe=Te.get(De);if(Oe)Oe.users+=1;else{const Pe=new w.Emitter,ze=new MutationObserver($e=>Pe.fire($e));ze.observe(ye,Me);const Ue=Oe={users:1,observer:ze,onDidMutate:Pe.event};we.add((0,b.toDisposable)(()=>{Ue.users-=1,Ue.users===0&&(Pe.dispose(),ze.disconnect(),Te?.delete(De),Te?.size===0&&this.mutationObservers.delete(ye))})),Te.set(De,Oe)}return Oe.onDidMutate}};let z=null;function Y(){return z||(z=ee()),z}function j(ye){var we,Me;return!((we=ye?.sheet)===null||we===void 0)&&we.rules?ye.sheet.rules:!((Me=ye?.sheet)===null||Me===void 0)&&Me.cssRules?ye.sheet.cssRules:[]}function G(ye,we,Me=Y()){var Te,De;if(!(!Me||!we)){(Te=Me.sheet)===null||Te===void 0||Te.insertRule(`${ye} {${we}}`,0);for(const Oe of(De=fe.get(Me))!==null&&De!==void 0?De:[])G(ye,we,Oe)}}function oe(ye,we=Y()){var Me,Te;if(!we)return;const De=j(we),Oe=[];for(let Pe=0;Pe<De.length;Pe++){const ze=De[Pe];ne(ze)&&ze.selectorText.indexOf(ye)!==-1&&Oe.push(Pe)}for(let Pe=Oe.length-1;Pe>=0;Pe--)(Me=we.sheet)===null||Me===void 0||Me.deleteRule(Oe[Pe]);for(const Pe of(Te=fe.get(we))!==null&&Te!==void 0?Te:[])oe(ye,Pe)}function ne(ye){return typeof ye.selectorText=="string"}function ce(ye){return ye instanceof MouseEvent||ye instanceof(0,e.getWindow)(ye).MouseEvent}function le(ye){return ye instanceof KeyboardEvent||ye instanceof(0,e.getWindow)(ye).KeyboardEvent}e.EventType={CLICK:"click",AUXCLICK:"auxclick",DBLCLICK:"dblclick",MOUSE_UP:"mouseup",MOUSE_DOWN:"mousedown",MOUSE_OVER:"mouseover",MOUSE_MOVE:"mousemove",MOUSE_OUT:"mouseout",MOUSE_ENTER:"mouseenter",MOUSE_LEAVE:"mouseleave",MOUSE_WHEEL:"wheel",POINTER_UP:"pointerup",POINTER_DOWN:"pointerdown",POINTER_MOVE:"pointermove",POINTER_LEAVE:"pointerleave",CONTEXT_MENU:"contextmenu",WHEEL:"wheel",KEY_DOWN:"keydown",KEY_PRESS:"keypress",KEY_UP:"keyup",LOAD:"load",BEFORE_UNLOAD:"beforeunload",UNLOAD:"unload",PAGE_SHOW:"pageshow",PAGE_HIDE:"pagehide",PASTE:"paste",ABORT:"abort",ERROR:"error",RESIZE:"resize",SCROLL:"scroll",FULLSCREEN_CHANGE:"fullscreenchange",WK_FULLSCREEN_CHANGE:"webkitfullscreenchange",SELECT:"select",CHANGE:"change",SUBMIT:"submit",RESET:"reset",FOCUS:"focus",FOCUS_IN:"focusin",FOCUS_OUT:"focusout",BLUR:"blur",INPUT:"input",STORAGE:"storage",DRAG_START:"dragstart",DRAG:"drag",DRAG_ENTER:"dragenter",DRAG_LEAVE:"dragleave",DRAG_OVER:"dragover",DROP:"drop",DRAG_END:"dragend",ANIMATION_START:m.isWebKit?"webkitAnimationStart":"animationstart",ANIMATION_END:m.isWebKit?"webkitAnimationEnd":"animationend",ANIMATION_ITERATION:m.isWebKit?"webkitAnimationIteration":"animationiteration"};function me(ye){const we=ye;return!!(we&&typeof we.preventDefault=="function"&&typeof we.stopPropagation=="function")}e.EventHelper={stop:(ye,we)=>(ye.preventDefault(),we&&ye.stopPropagation(),ye)};function ve(ye){const we=[];for(let Me=0;ye&&ye.nodeType===ye.ELEMENT_NODE;Me++)we[Me]=ye.scrollTop,ye=ye.parentNode;return we}function Ce(ye,we){for(let Me=0;ye&&ye.nodeType===ye.ELEMENT_NODE;Me++)ye.scrollTop!==we[Me]&&(ye.scrollTop=we[Me]),ye=ye.parentNode}class Se extends b.Disposable{static hasFocusWithin(we){if(we instanceof HTMLElement){const Me=X(we),Te=Me?Me.activeElement:we.ownerDocument.activeElement;return K(Te,we)}else{const Me=we;return K(Me.document.activeElement,Me.document)}}constructor(we){super(),this._onDidFocus=this._register(new w.Emitter),this.onDidFocus=this._onDidFocus.event,this._onDidBlur=this._register(new w.Emitter),this.onDidBlur=this._onDidBlur.event;let Me=Se.hasFocusWithin(we),Te=!1;const De=()=>{Te=!1,Me||(Me=!0,this._onDidFocus.fire())},Oe=()=>{Me&&(Te=!0,(we instanceof HTMLElement?(0,e.getWindow)(we):we).setTimeout(()=>{Te&&(Te=!1,Me=!1,this._onDidBlur.fire())},0))};this._refreshStateHandler=()=>{Se.hasFocusWithin(we)!==Me&&(Me?Oe():De())},this._register(u(we,e.EventType.FOCUS,De,!0)),this._register(u(we,e.EventType.BLUR,Oe,!0)),we instanceof HTMLElement&&(this._register(u(we,e.EventType.FOCUS_IN,()=>this._refreshStateHandler())),this._register(u(we,e.EventType.FOCUS_OUT,()=>this._refreshStateHandler())))}}function _e(ye){return new Se(ye)}function Le(ye,we){return ye.after(we),we}function ke(ye,...we){if(ye.append(...we),we.length===1&&typeof we[0]!="string")return we[0]}function Ae(ye,we){return ye.insertBefore(we,ye.firstChild),we}function xe(ye,...we){ye.innerText="",ke(ye,...we)}const He=/([\w\-]+)?(#([\w\-]+))?((\.([\w\-]+))*)/;var Be;(function(ye){ye.HTML="http://www.w3.org/1999/xhtml",ye.SVG="http://www.w3.org/2000/svg"})(Be||(e.Namespace=Be={}));function Ee(ye,we,Me,...Te){const De=He.exec(we);if(!De)throw new Error("Bad use of emmet");const Oe=De[1]||"div";let Pe;return ye!==Be.HTML?Pe=document.createElementNS(ye,Oe):Pe=document.createElement(Oe),De[3]&&(Pe.id=De[3]),De[4]&&(Pe.className=De[4].replace(/\./g," ").trim()),Me&&Object.entries(Me).forEach(([ze,Ue])=>{typeof Ue>"u"||(/^on\w+$/.test(ze)?Pe[ze]=Ue:ze==="selected"?Ue&&Pe.setAttribute(ze,"true"):Pe.setAttribute(ze,Ue))}),Pe.append(...Te),Pe}function Ne(ye,we,...Me){return Ee(Be.HTML,ye,we,...Me)}Ne.SVG=function(ye,we,...Me){return Ee(Be.SVG,ye,we,...Me)};function pe(ye,...we){ye?be(...we):Re(...we)}function be(...ye){for(const we of ye)we.style.display="",we.removeAttribute("aria-hidden")}function Re(...ye){for(const we of ye)we.style.display="none",we.setAttribute("aria-hidden","true")}function We(ye,we){const Me=ye.devicePixelRatio*we;return Math.max(1,Math.floor(Me))/ye.devicePixelRatio}function qe(ye){t.mainWindow.open(ye,"_blank","noopener")}function je(ye,we){const Me=()=>{we(),Te=(0,e.scheduleAtNextAnimationFrame)(ye,Me)};let Te=(0,e.scheduleAtNextAnimationFrame)(ye,Me);return(0,b.toDisposable)(()=>Te.dispose())}a.RemoteAuthorities.setPreferredWebSchema(/^https:/.test(t.mainWindow.location.href)?"https":"http");function Ze(ye){return ye?`url('${a.FileAccess.uriToBrowserUri(ye).toString(!0).replace(/'/g,"%27")}')`:"url('')"}function Je(ye){return`'${ye.replace(/'/g,"%27")}'`}function st(ye,we){if(ye!==void 0){const Me=ye.match(/^\s*var\((.+)\)$/);if(Me){const Te=Me[1].split(",",2);return Te.length===2&&(we=st(Te[1].trim(),we)),`var(${Te[0]}, ${we})`}return ye}return we}function rt(ye,we=!1){const Me=document.createElement("a");return C.addHook("afterSanitizeAttributes",Te=>{for(const De of["href","src"])if(Te.hasAttribute(De)){const Oe=Te.getAttribute(De);if(De==="href"&&Oe.startsWith("#"))continue;if(Me.href=Oe,!ye.includes(Me.protocol.replace(/:$/,""))){if(we&&De==="src"&&Me.href.startsWith("data:"))continue;Te.removeAttribute(De)}}}),(0,b.toDisposable)(()=>{C.removeHook("afterSanitizeAttributes")})}e.basicMarkupHtmlTags=Object.freeze(["a","abbr","b","bdo","blockquote","br","caption","cite","code","col","colgroup","dd","del","details","dfn","div","dl","dt","em","figcaption","figure","h1","h2","h3","h4","h5","h6","hr","i","img","input","ins","kbd","label","li","mark","ol","p","pre","q","rp","rt","ruby","samp","small","small","source","span","strike","strong","sub","summary","sup","table","tbody","td","tfoot","th","thead","time","tr","tt","u","ul","var","video","wbr"]);const pt=Object.freeze({ALLOWED_TAGS:["a","button","blockquote","code","div","h1","h2","h3","h4","h5","h6","hr","input","label","li","p","pre","select","small","span","strong","textarea","ul","ol"],ALLOWED_ATTR:["href","data-href","data-command","target","title","name","src","alt","class","id","role","tabindex","style","data-code","width","height","align","x-dispatch","required","checked","placeholder","type","start"],RETURN_DOM:!1,RETURN_DOM_FRAGMENT:!1,RETURN_TRUSTED_TYPE:!0});class et extends w.Emitter{constructor(){super(),this._subscriptions=new b.DisposableStore,this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1},this._subscriptions.add(w.Event.runAndSubscribe(e.onDidRegisterWindow,({window:we,disposables:Me})=>this.registerListeners(we,Me),{window:t.mainWindow,disposables:this._subscriptions}))}registerListeners(we,Me){Me.add(u(we,"keydown",Te=>{if(Te.defaultPrevented)return;const De=new D.StandardKeyboardEvent(Te);if(!(De.keyCode===6&&Te.repeat)){if(Te.altKey&&!this._keyStatus.altKey)this._keyStatus.lastKeyPressed="alt";else if(Te.ctrlKey&&!this._keyStatus.ctrlKey)this._keyStatus.lastKeyPressed="ctrl";else if(Te.metaKey&&!this._keyStatus.metaKey)this._keyStatus.lastKeyPressed="meta";else if(Te.shiftKey&&!this._keyStatus.shiftKey)this._keyStatus.lastKeyPressed="shift";else if(De.keyCode!==6)this._keyStatus.lastKeyPressed=void 0;else return;this._keyStatus.altKey=Te.altKey,this._keyStatus.ctrlKey=Te.ctrlKey,this._keyStatus.metaKey=Te.metaKey,this._keyStatus.shiftKey=Te.shiftKey,this._keyStatus.lastKeyPressed&&(this._keyStatus.event=Te,this.fire(this._keyStatus))}},!0)),Me.add(u(we,"keyup",Te=>{Te.defaultPrevented||(!Te.altKey&&this._keyStatus.altKey?this._keyStatus.lastKeyReleased="alt":!Te.ctrlKey&&this._keyStatus.ctrlKey?this._keyStatus.lastKeyReleased="ctrl":!Te.metaKey&&this._keyStatus.metaKey?this._keyStatus.lastKeyReleased="meta":!Te.shiftKey&&this._keyStatus.shiftKey?this._keyStatus.lastKeyReleased="shift":this._keyStatus.lastKeyReleased=void 0,this._keyStatus.lastKeyPressed!==this._keyStatus.lastKeyReleased&&(this._keyStatus.lastKeyPressed=void 0),this._keyStatus.altKey=Te.altKey,this._keyStatus.ctrlKey=Te.ctrlKey,this._keyStatus.metaKey=Te.metaKey,this._keyStatus.shiftKey=Te.shiftKey,this._keyStatus.lastKeyReleased&&(this._keyStatus.event=Te,this.fire(this._keyStatus)))},!0)),Me.add(u(we.document.body,"mousedown",()=>{this._keyStatus.lastKeyPressed=void 0},!0)),Me.add(u(we.document.body,"mouseup",()=>{this._keyStatus.lastKeyPressed=void 0},!0)),Me.add(u(we.document.body,"mousemove",Te=>{Te.buttons&&(this._keyStatus.lastKeyPressed=void 0)},!0)),Me.add(u(we,"blur",()=>{this.resetKeyStatus()}))}get keyStatus(){return this._keyStatus}resetKeyStatus(){this.doResetKeyStatus(),this.fire(this._keyStatus)}doResetKeyStatus(){this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1}}static getInstance(){return et.instance||(et.instance=new et),et.instance}dispose(){super.dispose(),this._subscriptions.dispose()}}e.ModifierKeyEmitter=et;class ut extends b.Disposable{constructor(we,Me){super(),this.element=we,this.callbacks=Me,this.counter=0,this.dragStartTime=0,this.registerListeners()}registerListeners(){this.callbacks.onDragStart&&this._register(u(this.element,e.EventType.DRAG_START,we=>{var Me,Te;(Te=(Me=this.callbacks).onDragStart)===null||Te===void 0||Te.call(Me,we)})),this.callbacks.onDrag&&this._register(u(this.element,e.EventType.DRAG,we=>{var Me,Te;(Te=(Me=this.callbacks).onDrag)===null||Te===void 0||Te.call(Me,we)})),this._register(u(this.element,e.EventType.DRAG_ENTER,we=>{var Me,Te;this.counter++,this.dragStartTime=we.timeStamp,(Te=(Me=this.callbacks).onDragEnter)===null||Te===void 0||Te.call(Me,we)})),this._register(u(this.element,e.EventType.DRAG_OVER,we=>{var Me,Te;we.preventDefault(),(Te=(Me=this.callbacks).onDragOver)===null||Te===void 0||Te.call(Me,we,we.timeStamp-this.dragStartTime)})),this._register(u(this.element,e.EventType.DRAG_LEAVE,we=>{var Me,Te;this.counter--,this.counter===0&&(this.dragStartTime=0,(Te=(Me=this.callbacks).onDragLeave)===null||Te===void 0||Te.call(Me,we))})),this._register(u(this.element,e.EventType.DRAG_END,we=>{var Me,Te;this.counter=0,this.dragStartTime=0,(Te=(Me=this.callbacks).onDragEnd)===null||Te===void 0||Te.call(Me,we)})),this._register(u(this.element,e.EventType.DROP,we=>{var Me,Te;this.counter=0,this.dragStartTime=0,(Te=(Me=this.callbacks).onDrop)===null||Te===void 0||Te.call(Me,we)}))}}e.DragAndDropObserver=ut;const ot=/(?<tag>[\w\-]+)?(?:#(?<id>[\w\-]+))?(?<class>(?:\.(?:[\w\-]+))*)(?:@(?<name>(?:[\w\_])+))?/;function _t(ye,...we){let Me,Te;Array.isArray(we[0])?(Me={},Te=we[0]):(Me=we[0]||{},Te=we[1]);const De=ot.exec(ye);if(!De||!De.groups)throw new Error("Bad use of h");const Oe=De.groups.tag||"div",Pe=document.createElement(Oe);De.groups.id&&(Pe.id=De.groups.id);const ze=[];if(De.groups.class)for(const $e of De.groups.class.split("."))$e!==""&&ze.push($e);if(Me.className!==void 0)for(const $e of Me.className.split("."))$e!==""&&ze.push($e);ze.length>0&&(Pe.className=ze.join(" "));const Ue={};if(De.groups.name&&(Ue[De.groups.name]=Pe),Te)for(const $e of Te)$e instanceof HTMLElement?Pe.appendChild($e):typeof $e=="string"?Pe.append($e):"root"in $e&&(Object.assign(Ue,$e),Pe.appendChild($e.root));for(const[$e,Qe]of Object.entries(Me))if($e!=="className")if($e==="style")for(const[Ye,Fe]of Object.entries(Qe))Pe.style.setProperty(St(Ye),typeof Fe=="number"?Fe+"px":""+Fe);else $e==="tabIndex"?Pe.tabIndex=Qe:Pe.setAttribute(St($e),Qe.toString());return Ue.root=Pe,Ue}function St(ye){return ye.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}}),define(te[335],ie([1,0,6]),function(J,e,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.renderText=k,e.renderFormattedText=D,e.createElement=L;function k(a,s={}){const i=L(s);return i.textContent=a,i}function D(a,s={}){const i=L(s);return p(i,w(a,!!s.renderCodeSegments),s.actionHandler,s.renderCodeSegments),i}function L(a){const s=a.inline?"span":"div",i=document.createElement(s);return a.className&&(i.className=a.className),i}class y{constructor(s){this.source=s,this.index=0}eos(){return this.index>=this.source.length}next(){const s=this.peek();return this.advance(),s}peek(){return this.source[this.index]}advance(){this.index++}}function p(a,s,i,t){let n;if(s.type===2)n=document.createTextNode(s.content||"");else if(s.type===3)n=document.createElement("b");else if(s.type===4)n=document.createElement("i");else if(s.type===7&&t)n=document.createElement("code");else if(s.type===5&&i){const h=document.createElement("a");i.disposables.add(m.addStandardDisposableListener(h,"click",v=>{i.callback(String(s.index),v)})),n=h}else s.type===8?n=document.createElement("br"):s.type===1&&(n=a);n&&a!==n&&a.appendChild(n),n&&Array.isArray(s.children)&&s.children.forEach(h=>{p(n,h,i,t)})}function w(a,s){const i={type:1,children:[]};let t=0,n=i;const h=[],v=new y(a);for(;!v.eos();){let u=v.next();const d=u==="\\"&&b(v.peek(),s)!==0;if(d&&(u=v.next()),!d&&C(u,s)&&u===v.peek()){v.advance(),n.type===2&&(n=h.pop());const r=b(u,s);if(n.type===r||n.type===5&&r===6)n=h.pop();else{const l={type:r,children:[]};r===5&&(l.index=t,t++),n.children.push(l),h.push(n),n=l}}else if(u===`
`)n.type===2&&(n=h.pop()),n.children.push({type:8});else if(n.type!==2){const r={type:2,content:u};n.children.push(r),h.push(n),n=r}else n.content+=u}return n.type===2&&(n=h.pop()),h.length,i}function C(a,s){return b(a,s)!==0}function b(a,s){switch(a){case"*":return 3;case"_":return 4;case"[":return 5;case"]":return 6;case"`":return s?7:0;default:return 0}}}),define(te[164],ie([1,0,6,2]),function(J,e,m,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GlobalPointerMoveMonitor=void 0;class D{constructor(){this._hooks=new k.DisposableStore,this._pointerMoveCallback=null,this._onStopCallback=null}dispose(){this.stopMonitoring(!1),this._hooks.dispose()}stopMonitoring(y,p){if(!this.isMonitoring())return;this._hooks.clear(),this._pointerMoveCallback=null;const w=this._onStopCallback;this._onStopCallback=null,y&&w&&w(p)}isMonitoring(){return!!this._pointerMoveCallback}startMonitoring(y,p,w,C,b){this.isMonitoring()&&this.stopMonitoring(!1),this._pointerMoveCallback=C,this._onStopCallback=b;let a=y;try{y.setPointerCapture(p),this._hooks.add((0,k.toDisposable)(()=>{try{y.releasePointerCapture(p)}catch{}}))}catch{a=m.getWindow(y)}this._hooks.add(m.addDisposableListener(a,m.EventType.POINTER_MOVE,s=>{if(s.buttons!==w){this.stopMonitoring(!0);return}s.preventDefault(),this._pointerMoveCallback(s)})),this._hooks.add(m.addDisposableListener(a,m.EventType.POINTER_UP,s=>this.stopMonitoring(!0)))}}e.GlobalPointerMoveMonitor=D}),define(te[240],ie([1,0,6,7,2]),function(J,e,m,k,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PixelRatio=void 0;class L extends D.Disposable{constructor(C){super(),this._onDidChange=this._register(new k.Emitter),this.onDidChange=this._onDidChange.event,this._listener=()=>this._handleChange(C,!0),this._mediaQueryList=null,this._handleChange(C,!1)}_handleChange(C,b){var a;(a=this._mediaQueryList)===null||a===void 0||a.removeEventListener("change",this._listener),this._mediaQueryList=C.matchMedia(`(resolution: ${C.devicePixelRatio}dppx)`),this._mediaQueryList.addEventListener("change",this._listener),b&&this._onDidChange.fire()}}class y extends D.Disposable{get value(){return this._value}constructor(C){super(),this._onDidChange=this._register(new k.Emitter),this.onDidChange=this._onDidChange.event,this._value=this._getPixelRatio(C);const b=this._register(new L(C));this._register(b.onDidChange(()=>{this._value=this._getPixelRatio(C),this._onDidChange.fire(this._value)}))}_getPixelRatio(C){const b=document.createElement("canvas").getContext("2d"),a=C.devicePixelRatio||1,s=b.webkitBackingStorePixelRatio||b.mozBackingStorePixelRatio||b.msBackingStorePixelRatio||b.oBackingStorePixelRatio||b.backingStorePixelRatio||1;return a/s}}class p{constructor(){this.mapWindowIdToPixelRatioMonitor=new Map}_getOrCreatePixelRatioMonitor(C){const b=(0,m.getWindowId)(C);let a=this.mapWindowIdToPixelRatioMonitor.get(b);return a||(a=(0,D.markAsSingleton)(new y(C)),this.mapWindowIdToPixelRatioMonitor.set(b,a),(0,D.markAsSingleton)(k.Event.once(m.onDidUnregisterWindow)(({vscodeWindowId:s})=>{s===b&&(a?.dispose(),this.mapWindowIdToPixelRatioMonitor.delete(b))}))),a}getInstance(C){return this._getOrCreatePixelRatioMonitor(C)}}e.PixelRatio=new p}),define(te[67],ie([1,0,6,52,13,118,7,2,69]),function(J,e,m,k,D,L,y,p,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Gesture=e.EventType=void 0;var C;(function(a){a.Tap="-monaco-gesturetap",a.Change="-monaco-gesturechange",a.Start="-monaco-gesturestart",a.End="-monaco-gesturesend",a.Contextmenu="-monaco-gesturecontextmenu"})(C||(e.EventType=C={}));class b extends p.Disposable{constructor(){super(),this.dispatched=!1,this.targets=new w.LinkedList,this.ignoreTargets=new w.LinkedList,this.activeTouches={},this.handle=null,this._lastSetTapCountTime=0,this._register(y.Event.runAndSubscribe(m.onDidRegisterWindow,({window:s,disposables:i})=>{i.add(m.addDisposableListener(s.document,"touchstart",t=>this.onTouchStart(t),{passive:!1})),i.add(m.addDisposableListener(s.document,"touchend",t=>this.onTouchEnd(s,t))),i.add(m.addDisposableListener(s.document,"touchmove",t=>this.onTouchMove(t),{passive:!1}))},{window:k.mainWindow,disposables:this._store}))}static addTarget(s){if(!b.isTouchDevice())return p.Disposable.None;b.INSTANCE||(b.INSTANCE=(0,p.markAsSingleton)(new b));const i=b.INSTANCE.targets.push(s);return(0,p.toDisposable)(i)}static ignoreTarget(s){if(!b.isTouchDevice())return p.Disposable.None;b.INSTANCE||(b.INSTANCE=(0,p.markAsSingleton)(new b));const i=b.INSTANCE.ignoreTargets.push(s);return(0,p.toDisposable)(i)}static isTouchDevice(){return"ontouchstart"in k.mainWindow||navigator.maxTouchPoints>0}dispose(){this.handle&&(this.handle.dispose(),this.handle=null),super.dispose()}onTouchStart(s){const i=Date.now();this.handle&&(this.handle.dispose(),this.handle=null);for(let t=0,n=s.targetTouches.length;t<n;t++){const h=s.targetTouches.item(t);this.activeTouches[h.identifier]={id:h.identifier,initialTarget:h.target,initialTimeStamp:i,initialPageX:h.pageX,initialPageY:h.pageY,rollingTimestamps:[i],rollingPageX:[h.pageX],rollingPageY:[h.pageY]};const v=this.newGestureEvent(C.Start,h.target);v.pageX=h.pageX,v.pageY=h.pageY,this.dispatchEvent(v)}this.dispatched&&(s.preventDefault(),s.stopPropagation(),this.dispatched=!1)}onTouchEnd(s,i){const t=Date.now(),n=Object.keys(this.activeTouches).length;for(let h=0,v=i.changedTouches.length;h<v;h++){const u=i.changedTouches.item(h);if(!this.activeTouches.hasOwnProperty(String(u.identifier))){console.warn("move of an UNKNOWN touch",u);continue}const d=this.activeTouches[u.identifier],r=Date.now()-d.initialTimeStamp;if(r<b.HOLD_DELAY&&Math.abs(d.initialPageX-D.tail(d.rollingPageX))<30&&Math.abs(d.initialPageY-D.tail(d.rollingPageY))<30){const l=this.newGestureEvent(C.Tap,d.initialTarget);l.pageX=D.tail(d.rollingPageX),l.pageY=D.tail(d.rollingPageY),this.dispatchEvent(l)}else if(r>=b.HOLD_DELAY&&Math.abs(d.initialPageX-D.tail(d.rollingPageX))<30&&Math.abs(d.initialPageY-D.tail(d.rollingPageY))<30){const l=this.newGestureEvent(C.Contextmenu,d.initialTarget);l.pageX=D.tail(d.rollingPageX),l.pageY=D.tail(d.rollingPageY),this.dispatchEvent(l)}else if(n===1){const l=D.tail(d.rollingPageX),o=D.tail(d.rollingPageY),g=D.tail(d.rollingTimestamps)-d.rollingTimestamps[0],c=l-d.rollingPageX[0],f=o-d.rollingPageY[0],_=[...this.targets].filter(S=>d.initialTarget instanceof Node&&S.contains(d.initialTarget));this.inertia(s,_,t,Math.abs(c)/g,c>0?1:-1,l,Math.abs(f)/g,f>0?1:-1,o)}this.dispatchEvent(this.newGestureEvent(C.End,d.initialTarget)),delete this.activeTouches[u.identifier]}this.dispatched&&(i.preventDefault(),i.stopPropagation(),this.dispatched=!1)}newGestureEvent(s,i){const t=document.createEvent("CustomEvent");return t.initEvent(s,!1,!0),t.initialTarget=i,t.tapCount=0,t}dispatchEvent(s){if(s.type===C.Tap){const i=new Date().getTime();let t=0;i-this._lastSetTapCountTime>b.CLEAR_TAP_COUNT_TIME?t=1:t=2,this._lastSetTapCountTime=i,s.tapCount=t}else(s.type===C.Change||s.type===C.Contextmenu)&&(this._lastSetTapCountTime=0);if(s.initialTarget instanceof Node){for(const t of this.ignoreTargets)if(t.contains(s.initialTarget))return;const i=[];for(const t of this.targets)if(t.contains(s.initialTarget)){let n=0,h=s.initialTarget;for(;h&&h!==t;)n++,h=h.parentElement;i.push([n,t])}i.sort((t,n)=>t[0]-n[0]);for(const[t,n]of i)n.dispatchEvent(s),this.dispatched=!0}}inertia(s,i,t,n,h,v,u,d,r){this.handle=m.scheduleAtNextAnimationFrame(s,()=>{const l=Date.now(),o=l-t;let g=0,c=0,f=!0;n+=b.SCROLL_FRICTION*o,u+=b.SCROLL_FRICTION*o,n>0&&(f=!1,g=h*n*o),u>0&&(f=!1,c=d*u*o);const _=this.newGestureEvent(C.Change);_.translationX=g,_.translationY=c,i.forEach(S=>S.dispatchEvent(_)),f||this.inertia(s,i,l,n,h,v+g,u,d,r+c)})}onTouchMove(s){const i=Date.now();for(let t=0,n=s.changedTouches.length;t<n;t++){const h=s.changedTouches.item(t);if(!this.activeTouches.hasOwnProperty(String(h.identifier))){console.warn("end of an UNKNOWN touch",h);continue}const v=this.activeTouches[h.identifier],u=this.newGestureEvent(C.Change,v.initialTarget);u.translationX=h.pageX-D.tail(v.rollingPageX),u.translationY=h.pageY-D.tail(v.rollingPageY),u.pageX=h.pageX,u.pageY=h.pageY,this.dispatchEvent(u),v.rollingPageX.length>3&&(v.rollingPageX.shift(),v.rollingPageY.shift(),v.rollingTimestamps.shift()),v.rollingPageX.push(h.pageX),v.rollingPageY.push(h.pageY),v.rollingTimestamps.push(i)}this.dispatched&&(s.preventDefault(),s.stopPropagation(),this.dispatched=!1)}}e.Gesture=b,b.SCROLL_FRICTION=-.005,b.HOLD_DELAY=700,b.CLEAR_TAP_COUNT_TIME=400,Ie([L.memoize],b,"isTouchDevice",null)}),define(te[45],ie([1,0,6,429]),function(J,e,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setARIAContainer=C,e.alert=b,e.status=a;const k=2e4;let D,L,y,p,w;function C(i){D=document.createElement("div"),D.className="monaco-aria-container";const t=()=>{const h=document.createElement("div");return h.className="monaco-alert",h.setAttribute("role","alert"),h.setAttribute("aria-atomic","true"),D.appendChild(h),h};L=t(),y=t();const n=()=>{const h=document.createElement("div");return h.className="monaco-status",h.setAttribute("aria-live","polite"),h.setAttribute("aria-atomic","true"),D.appendChild(h),h};p=n(),w=n(),i.appendChild(D)}function b(i){D&&(L.textContent!==i?(m.clearNode(y),s(L,i)):(m.clearNode(L),s(y,i)))}function a(i){D&&(p.textContent!==i?(m.clearNode(w),s(p,i)):(m.clearNode(p),s(w,i)))}function s(i,t){m.clearNode(i),t.length>k&&(t=t.substr(0,k)),i.textContent=t,i.style.visibility="hidden",i.style.visibility="visible"}}),define(te[336],ie([1,0,235,6,2,17,181,433]),function(J,e,m,k,D,L,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextView=e.LayoutAnchorMode=void 0,e.isAnchor=p,e.layout=C;function p(s){const i=s;return!!i&&typeof i.x=="number"&&typeof i.y=="number"}var w;(function(s){s[s.AVOID=0]="AVOID",s[s.ALIGN=1]="ALIGN"})(w||(e.LayoutAnchorMode=w={}));function C(s,i,t){const n=t.mode===w.ALIGN?t.offset:t.offset+t.size,h=t.mode===w.ALIGN?t.offset+t.size:t.offset;return t.position===0?i<=s-n?n:i<=h?h-i:Math.max(s-i,0):i<=h?h-i:i<=s-n?n:0}class b extends D.Disposable{constructor(i,t){super(),this.container=null,this.useFixedPosition=!1,this.useShadowDOM=!1,this.delegate=null,this.toDisposeOnClean=D.Disposable.None,this.toDisposeOnSetContainer=D.Disposable.None,this.shadowRoot=null,this.shadowRootHostElement=null,this.view=k.$(".context-view"),k.hide(this.view),this.setContainer(i,t),this._register((0,D.toDisposable)(()=>this.setContainer(null,1)))}setContainer(i,t){var n;this.useFixedPosition=t!==1;const h=this.useShadowDOM;if(this.useShadowDOM=t===3,!(i===this.container&&h===this.useShadowDOM)&&(this.container&&(this.toDisposeOnSetContainer.dispose(),this.shadowRoot?(this.shadowRoot.removeChild(this.view),this.shadowRoot=null,(n=this.shadowRootHostElement)===null||n===void 0||n.remove(),this.shadowRootHostElement=null):this.container.removeChild(this.view),this.container=null),i)){if(this.container=i,this.useShadowDOM){this.shadowRootHostElement=k.$(".shadow-root-host"),this.container.appendChild(this.shadowRootHostElement),this.shadowRoot=this.shadowRootHostElement.attachShadow({mode:"open"});const u=document.createElement("style");u.textContent=a,this.shadowRoot.appendChild(u),this.shadowRoot.appendChild(this.view),this.shadowRoot.appendChild(k.$("slot"))}else this.container.appendChild(this.view);const v=new D.DisposableStore;b.BUBBLE_UP_EVENTS.forEach(u=>{v.add(k.addStandardDisposableListener(this.container,u,d=>{this.onDOMEvent(d,!1)}))}),b.BUBBLE_DOWN_EVENTS.forEach(u=>{v.add(k.addStandardDisposableListener(this.container,u,d=>{this.onDOMEvent(d,!0)},!0))}),this.toDisposeOnSetContainer=v}}show(i){var t,n,h;this.isVisible()&&this.hide(),k.clearNode(this.view),this.view.className="context-view",this.view.style.top="0px",this.view.style.left="0px",this.view.style.zIndex=`${2575+((t=i.layer)!==null&&t!==void 0?t:0)}`,this.view.style.position=this.useFixedPosition?"fixed":"absolute",k.show(this.view),this.toDisposeOnClean=i.render(this.view)||D.Disposable.None,this.delegate=i,this.doLayout(),(h=(n=this.delegate).focus)===null||h===void 0||h.call(n)}getViewElement(){return this.view}layout(){var i,t;if(this.isVisible()){if(this.delegate.canRelayout===!1&&!(L.isIOS&&m.BrowserFeatures.pointerEvents)){this.hide();return}(t=(i=this.delegate)===null||i===void 0?void 0:i.layout)===null||t===void 0||t.call(i),this.doLayout()}}doLayout(){if(!this.isVisible())return;const i=this.delegate.getAnchor();let t;if(i instanceof HTMLElement){const c=k.getDomNodePagePosition(i),f=k.getDomNodeZoomLevel(i);t={top:c.top*f,left:c.left*f,width:c.width*f,height:c.height*f}}else p(i)?t={top:i.y,left:i.x,width:i.width||1,height:i.height||2}:t={top:i.posy,left:i.posx,width:2,height:2};const n=k.getTotalWidth(this.view),h=k.getTotalHeight(this.view),v=this.delegate.anchorPosition||0,u=this.delegate.anchorAlignment||0,d=this.delegate.anchorAxisAlignment||0;let r,l;const o=k.getActiveWindow();if(d===0){const c={offset:t.top-o.pageYOffset,size:t.height,position:v===0?0:1},f={offset:t.left,size:t.width,position:u===0?0:1,mode:w.ALIGN};r=C(o.innerHeight,h,c)+o.pageYOffset,y.Range.intersects({start:r,end:r+h},{start:c.offset,end:c.offset+c.size})&&(f.mode=w.AVOID),l=C(o.innerWidth,n,f)}else{const c={offset:t.left,size:t.width,position:u===0?0:1},f={offset:t.top,size:t.height,position:v===0?0:1,mode:w.ALIGN};l=C(o.innerWidth,n,c),y.Range.intersects({start:l,end:l+n},{start:c.offset,end:c.offset+c.size})&&(f.mode=w.AVOID),r=C(o.innerHeight,h,f)+o.pageYOffset}this.view.classList.remove("top","bottom","left","right"),this.view.classList.add(v===0?"bottom":"top"),this.view.classList.add(u===0?"left":"right"),this.view.classList.toggle("fixed",this.useFixedPosition);const g=k.getDomNodePagePosition(this.container);this.view.style.top=`${r-(this.useFixedPosition?k.getDomNodePagePosition(this.view).top:g.top)}px`,this.view.style.left=`${l-(this.useFixedPosition?k.getDomNodePagePosition(this.view).left:g.left)}px`,this.view.style.width="initial"}hide(i){const t=this.delegate;this.delegate=null,t?.onHide&&t.onHide(i),this.toDisposeOnClean.dispose(),k.hide(this.view)}isVisible(){return!!this.delegate}onDOMEvent(i,t){this.delegate&&(this.delegate.onDOMEvent?this.delegate.onDOMEvent(i,k.getWindow(i).document.activeElement):t&&!k.isAncestor(i.target,this.container)&&this.hide())}dispose(){this.hide(),super.dispose()}}e.ContextView=b,b.BUBBLE_UP_EVENTS=["click","keydown","focus","blur"],b.BUBBLE_DOWN_EVENTS=["click"];const a=`
	:host {
		all: initial; /* 1st rule so subsequent properties are reset. */
	}

	.codicon[class*='codicon-'] {
		font: normal normal normal 16px/1 codicon;
		display: inline-block;
		text-decoration: none;
		text-rendering: auto;
		text-align: center;
		-webkit-font-smoothing: antialiased;
		-moz-osx-font-smoothing: grayscale;
		user-select: none;
		-webkit-user-select: none;
		-ms-user-select: none;
	}

	:host {
		font-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "HelveticaNeue-Light", system-ui, "Ubuntu", "Droid Sans", sans-serif;
	}

	:host-context(.mac) { font-family: -apple-system, BlinkMacSystemFont, sans-serif; }
	:host-context(.mac:lang(zh-Hans)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang SC", "Hiragino Sans GB", sans-serif; }
	:host-context(.mac:lang(zh-Hant)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang TC", sans-serif; }
	:host-context(.mac:lang(ja)) { font-family: -apple-system, BlinkMacSystemFont, "Hiragino Kaku Gothic Pro", sans-serif; }
	:host-context(.mac:lang(ko)) { font-family: -apple-system, BlinkMacSystemFont, "Nanum Gothic", "Apple SD Gothic Neo", "AppleGothic", sans-serif; }

	:host-context(.windows) { font-family: "Segoe WPC", "Segoe UI", sans-serif; }
	:host-context(.windows:lang(zh-Hans)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft YaHei", sans-serif; }
	:host-context(.windows:lang(zh-Hant)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft Jhenghei", sans-serif; }
	:host-context(.windows:lang(ja)) { font-family: "Segoe WPC", "Segoe UI", "Yu Gothic UI", "Meiryo UI", sans-serif; }
	:host-context(.windows:lang(ko)) { font-family: "Segoe WPC", "Segoe UI", "Malgun Gothic", "Dotom", sans-serif; }

	:host-context(.linux) { font-family: system-ui, "Ubuntu", "Droid Sans", sans-serif; }
	:host-context(.linux:lang(zh-Hans)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans SC", "Source Han Sans CN", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(zh-Hant)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans TC", "Source Han Sans TW", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(ja)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans J", "Source Han Sans JP", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(ko)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans K", "Source Han Sans JR", "Source Han Sans", "UnDotum", "FBaekmuk Gulim", sans-serif; }
`}),define(te[337],ie([1,0,6,11,434]),function(J,e,m,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CountBadge=void 0;class D{constructor(y,p,w){this.options=p,this.styles=w,this.count=0,this.element=(0,m.append)(y,(0,m.$)(".monaco-count-badge")),this.countFormat=this.options.countFormat||"{0}",this.titleFormat=this.options.titleFormat||"",this.setCount(this.options.count||0)}setCount(y){this.count=y,this.render()}setTitleFormat(y){this.titleFormat=y,this.render()}render(){var y,p;this.element.textContent=(0,k.format)(this.countFormat,this.count),this.element.title=(0,k.format)(this.titleFormat,this.count),this.element.style.backgroundColor=(y=this.styles.badgeBackground)!==null&&y!==void 0?y:"",this.element.style.color=(p=this.styles.badgeForeground)!==null&&p!==void 0?p:"",this.styles.badgeBorder&&(this.element.style.border=`1px solid ${this.styles.badgeBorder}`)}}e.CountBadge=D}),define(te[615],ie([1,0,6,48,67,41,7,291]),function(J,e,m,k,D,L,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DropdownMenu=void 0;class p extends L.ActionRunner{constructor(b,a){super(),this._onDidChangeVisibility=this._register(new y.Emitter),this.onDidChangeVisibility=this._onDidChangeVisibility.event,this._element=(0,m.append)(b,(0,m.$)(".monaco-dropdown")),this._label=(0,m.append)(this._element,(0,m.$)(".dropdown-label"));let s=a.labelRenderer;s||(s=t=>(t.textContent=a.label||"",null));for(const t of[m.EventType.CLICK,m.EventType.MOUSE_DOWN,D.EventType.Tap])this._register((0,m.addDisposableListener)(this.element,t,n=>m.EventHelper.stop(n,!0)));for(const t of[m.EventType.MOUSE_DOWN,D.EventType.Tap])this._register((0,m.addDisposableListener)(this._label,t,n=>{(0,m.isMouseEvent)(n)&&(n.detail>1||n.button!==0)||(this.visible?this.hide():this.show())}));this._register((0,m.addDisposableListener)(this._label,m.EventType.KEY_UP,t=>{const n=new k.StandardKeyboardEvent(t);(n.equals(3)||n.equals(10))&&(m.EventHelper.stop(t,!0),this.visible?this.hide():this.show())}));const i=s(this._label);i&&this._register(i),this._register(D.Gesture.addTarget(this._label))}get element(){return this._element}show(){this.visible||(this.visible=!0,this._onDidChangeVisibility.fire(!0))}hide(){this.visible&&(this.visible=!1,this._onDidChangeVisibility.fire(!1))}dispose(){super.dispose(),this.hide(),this.boxContainer&&(this.boxContainer.remove(),this.boxContainer=void 0),this.contents&&(this.contents.remove(),this.contents=void 0),this._label&&(this._label.remove(),this._label=void 0)}}class w extends p{constructor(b,a){super(b,a),this._options=a,this._actions=[],this.actions=a.actions||[]}set menuOptions(b){this._menuOptions=b}get menuOptions(){return this._menuOptions}get actions(){return this._options.actionProvider?this._options.actionProvider.getActions():this._actions}set actions(b){this._actions=b}show(){super.show(),this.element.classList.add("active"),this._options.contextMenuProvider.showContextMenu({getAnchor:()=>this.element,getActions:()=>this.actions,getActionsContext:()=>this.menuOptions?this.menuOptions.context:null,getActionViewItem:(b,a)=>this.menuOptions&&this.menuOptions.actionViewItemProvider?this.menuOptions.actionViewItemProvider(b,a):void 0,getKeyBinding:b=>this.menuOptions&&this.menuOptions.getKeyBinding?this.menuOptions.getKeyBinding(b):void 0,getMenuClassName:()=>this._options.menuClassName||"",onHide:()=>this.onHide(),actionRunner:this.menuOptions?this.menuOptions.actionRunner:void 0,anchorAlignment:this.menuOptions?this.menuOptions.anchorAlignment:0,domForShadowRoot:this._options.menuAsChild?this.element:void 0,skipTelemetry:this._options.skipTelemetry})}hide(){super.hide()}onHide(){this.hide(),this.element.classList.remove("active")}}e.DropdownMenu=w}),define(te[108],ie([1,0,6,30]),function(J,e,m,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.renderLabelWithIcons=L,e.renderIcon=y;const D=new RegExp(`(\\\\)?\\$\\((${k.ThemeIcon.iconNameExpression}(?:${k.ThemeIcon.iconModifierExpression})?)\\)`,"g");function L(p){const w=new Array;let C,b=0,a=0;for(;(C=D.exec(p))!==null;){a=C.index||0,b<a&&w.push(p.substring(b,a)),b=(C.index||0)+C[0].length;const[,s,i]=C;w.push(s?`$(${i})`:y({id:i}))}return b<p.length&&w.push(p.substring(b)),w}function y(p){const w=m.$("span");return w.classList.add(...k.ThemeIcon.asClassNameArray(p)),w}}),define(te[616],ie([1,0,6]),function(J,e,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RowCache=void 0;function k(L){var y;try{(y=L.parentElement)===null||y===void 0||y.removeChild(L)}catch{}}class D{constructor(y){this.renderers=y,this.cache=new Map,this.transactionNodesPendingRemoval=new Set,this.inTransaction=!1}alloc(y){let p=this.getTemplateCache(y).pop(),w=!1;if(p)w=this.transactionNodesPendingRemoval.has(p.domNode),w&&this.transactionNodesPendingRemoval.delete(p.domNode);else{const C=(0,m.$)(".monaco-list-row"),a=this.getRenderer(y).renderTemplate(C);p={domNode:C,templateId:y,templateData:a}}return{row:p,isReusingConnectedDomNode:w}}release(y){y&&this.releaseRow(y)}transact(y){if(this.inTransaction)throw new Error("Already in transaction");this.inTransaction=!0;try{y()}finally{for(const p of this.transactionNodesPendingRemoval)this.doRemoveNode(p);this.transactionNodesPendingRemoval.clear(),this.inTransaction=!1}}releaseRow(y){const{domNode:p,templateId:w}=y;p&&(this.inTransaction?this.transactionNodesPendingRemoval.add(p):this.doRemoveNode(p)),this.getTemplateCache(w).push(y)}doRemoveNode(y){y.classList.remove("scrolling"),k(y)}getTemplateCache(y){let p=this.cache.get(y);return p||(p=[],this.cache.set(y,p)),p}dispose(){this.cache.forEach((y,p)=>{for(const w of y)this.getRenderer(p).disposeTemplate(w.templateData),w.templateData=null}),this.cache.clear(),this.transactionNodesPendingRemoval.clear()}getRenderer(y){const p=this.renderers.get(y);if(!p)throw new Error(`No renderer found for ${y}`);return p}}e.RowCache=D}),define(te[617],ie([1,0,6,15,2,440]),function(J,e,m,k,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ProgressBar=void 0;const L="done",y="active",p="infinite",w="infinite-long-running",C="discrete";class b extends D.Disposable{constructor(s,i){super(),this.workedVal=0,this.showDelayedScheduler=this._register(new k.RunOnceScheduler(()=>(0,m.show)(this.element),0)),this.longRunningScheduler=this._register(new k.RunOnceScheduler(()=>this.infiniteLongRunning(),b.LONG_RUNNING_INFINITE_THRESHOLD)),this.create(s,i)}create(s,i){this.element=document.createElement("div"),this.element.classList.add("monaco-progress-container"),this.element.setAttribute("role","progressbar"),this.element.setAttribute("aria-valuemin","0"),s.appendChild(this.element),this.bit=document.createElement("div"),this.bit.classList.add("progress-bit"),this.bit.style.backgroundColor=i?.progressBarBackground||"#0E70C0",this.element.appendChild(this.bit)}off(){this.bit.style.width="inherit",this.bit.style.opacity="1",this.element.classList.remove(y,p,w,C),this.workedVal=0,this.totalWork=void 0,this.longRunningScheduler.cancel()}stop(){return this.doDone(!1)}doDone(s){return this.element.classList.add(L),this.element.classList.contains(p)?(this.bit.style.opacity="0",s?setTimeout(()=>this.off(),200):this.off()):(this.bit.style.width="inherit",s?setTimeout(()=>this.off(),200):this.off()),this}infinite(){return this.bit.style.width="2%",this.bit.style.opacity="1",this.element.classList.remove(C,L,w),this.element.classList.add(y,p),this.longRunningScheduler.schedule(),this}infiniteLongRunning(){this.element.classList.add(w)}getContainer(){return this.element}}e.ProgressBar=b,b.LONG_RUNNING_INFINITE_THRESHOLD=1e4}),define(te[165],ie([1,0,6,88,67,15,118,7,2,17,441]),function(J,e,m,k,D,L,y,p,w,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Sash=e.OrthogonalEdge=void 0;const b=!1;var a;(function(l){l.North="north",l.South="south",l.East="east",l.West="west"})(a||(e.OrthogonalEdge=a={}));let s=4;const i=new p.Emitter;let t=300;const n=new p.Emitter;class h{constructor(o){this.el=o,this.disposables=new w.DisposableStore}get onPointerMove(){return this.disposables.add(new k.DomEmitter((0,m.getWindow)(this.el),"mousemove")).event}get onPointerUp(){return this.disposables.add(new k.DomEmitter((0,m.getWindow)(this.el),"mouseup")).event}dispose(){this.disposables.dispose()}}Ie([y.memoize],h.prototype,"onPointerMove",null),Ie([y.memoize],h.prototype,"onPointerUp",null);class v{get onPointerMove(){return this.disposables.add(new k.DomEmitter(this.el,D.EventType.Change)).event}get onPointerUp(){return this.disposables.add(new k.DomEmitter(this.el,D.EventType.End)).event}constructor(o){this.el=o,this.disposables=new w.DisposableStore}dispose(){this.disposables.dispose()}}Ie([y.memoize],v.prototype,"onPointerMove",null),Ie([y.memoize],v.prototype,"onPointerUp",null);class u{get onPointerMove(){return this.factory.onPointerMove}get onPointerUp(){return this.factory.onPointerUp}constructor(o){this.factory=o}dispose(){}}Ie([y.memoize],u.prototype,"onPointerMove",null),Ie([y.memoize],u.prototype,"onPointerUp",null);const d="pointer-events-disabled";class r extends w.Disposable{get state(){return this._state}get orthogonalStartSash(){return this._orthogonalStartSash}get orthogonalEndSash(){return this._orthogonalEndSash}set state(o){this._state!==o&&(this.el.classList.toggle("disabled",o===0),this.el.classList.toggle("minimum",o===1),this.el.classList.toggle("maximum",o===2),this._state=o,this.onDidEnablementChange.fire(o))}set orthogonalStartSash(o){if(this._orthogonalStartSash!==o){if(this.orthogonalStartDragHandleDisposables.clear(),this.orthogonalStartSashDisposables.clear(),o){const g=c=>{this.orthogonalStartDragHandleDisposables.clear(),c!==0&&(this._orthogonalStartDragHandle=(0,m.append)(this.el,(0,m.$)(".orthogonal-drag-handle.start")),this.orthogonalStartDragHandleDisposables.add((0,w.toDisposable)(()=>this._orthogonalStartDragHandle.remove())),this.orthogonalStartDragHandleDisposables.add(new k.DomEmitter(this._orthogonalStartDragHandle,"mouseenter")).event(()=>r.onMouseEnter(o),void 0,this.orthogonalStartDragHandleDisposables),this.orthogonalStartDragHandleDisposables.add(new k.DomEmitter(this._orthogonalStartDragHandle,"mouseleave")).event(()=>r.onMouseLeave(o),void 0,this.orthogonalStartDragHandleDisposables))};this.orthogonalStartSashDisposables.add(o.onDidEnablementChange.event(g,this)),g(o.state)}this._orthogonalStartSash=o}}set orthogonalEndSash(o){if(this._orthogonalEndSash!==o){if(this.orthogonalEndDragHandleDisposables.clear(),this.orthogonalEndSashDisposables.clear(),o){const g=c=>{this.orthogonalEndDragHandleDisposables.clear(),c!==0&&(this._orthogonalEndDragHandle=(0,m.append)(this.el,(0,m.$)(".orthogonal-drag-handle.end")),this.orthogonalEndDragHandleDisposables.add((0,w.toDisposable)(()=>this._orthogonalEndDragHandle.remove())),this.orthogonalEndDragHandleDisposables.add(new k.DomEmitter(this._orthogonalEndDragHandle,"mouseenter")).event(()=>r.onMouseEnter(o),void 0,this.orthogonalEndDragHandleDisposables),this.orthogonalEndDragHandleDisposables.add(new k.DomEmitter(this._orthogonalEndDragHandle,"mouseleave")).event(()=>r.onMouseLeave(o),void 0,this.orthogonalEndDragHandleDisposables))};this.orthogonalEndSashDisposables.add(o.onDidEnablementChange.event(g,this)),g(o.state)}this._orthogonalEndSash=o}}constructor(o,g,c){super(),this.hoverDelay=t,this.hoverDelayer=this._register(new L.Delayer(this.hoverDelay)),this._state=3,this.onDidEnablementChange=this._register(new p.Emitter),this._onDidStart=this._register(new p.Emitter),this._onDidChange=this._register(new p.Emitter),this._onDidReset=this._register(new p.Emitter),this._onDidEnd=this._register(new p.Emitter),this.orthogonalStartSashDisposables=this._register(new w.DisposableStore),this.orthogonalStartDragHandleDisposables=this._register(new w.DisposableStore),this.orthogonalEndSashDisposables=this._register(new w.DisposableStore),this.orthogonalEndDragHandleDisposables=this._register(new w.DisposableStore),this.onDidStart=this._onDidStart.event,this.onDidChange=this._onDidChange.event,this.onDidReset=this._onDidReset.event,this.onDidEnd=this._onDidEnd.event,this.linkedSash=void 0,this.el=(0,m.append)(o,(0,m.$)(".monaco-sash")),c.orthogonalEdge&&this.el.classList.add(`orthogonal-edge-${c.orthogonalEdge}`),C.isMacintosh&&this.el.classList.add("mac");const f=this._register(new k.DomEmitter(this.el,"mousedown")).event;this._register(f(A=>this.onPointerStart(A,new h(o)),this));const _=this._register(new k.DomEmitter(this.el,"dblclick")).event;this._register(_(this.onPointerDoublePress,this));const S=this._register(new k.DomEmitter(this.el,"mouseenter")).event;this._register(S(()=>r.onMouseEnter(this)));const I=this._register(new k.DomEmitter(this.el,"mouseleave")).event;this._register(I(()=>r.onMouseLeave(this))),this._register(D.Gesture.addTarget(this.el));const E=this._register(new k.DomEmitter(this.el,D.EventType.Start)).event;this._register(E(A=>this.onPointerStart(A,new v(this.el)),this));const T=this._register(new k.DomEmitter(this.el,D.EventType.Tap)).event;let N;this._register(T(A=>{if(N){clearTimeout(N),N=void 0,this.onPointerDoublePress(A);return}clearTimeout(N),N=setTimeout(()=>N=void 0,250)},this)),typeof c.size=="number"?(this.size=c.size,c.orientation===0?this.el.style.width=`${this.size}px`:this.el.style.height=`${this.size}px`):(this.size=s,this._register(i.event(A=>{this.size=A,this.layout()}))),this._register(n.event(A=>this.hoverDelay=A)),this.layoutProvider=g,this.orthogonalStartSash=c.orthogonalStartSash,this.orthogonalEndSash=c.orthogonalEndSash,this.orientation=c.orientation||0,this.orientation===1?(this.el.classList.add("horizontal"),this.el.classList.remove("vertical")):(this.el.classList.remove("horizontal"),this.el.classList.add("vertical")),this.el.classList.toggle("debug",b),this.layout()}onPointerStart(o,g){m.EventHelper.stop(o);let c=!1;if(!o.__orthogonalSashEvent){const P=this.getOrthogonalSash(o);P&&(c=!0,o.__orthogonalSashEvent=!0,P.onPointerStart(o,new u(g)))}if(this.linkedSash&&!o.__linkedSashEvent&&(o.__linkedSashEvent=!0,this.linkedSash.onPointerStart(o,new u(g))),!this.state)return;const f=this.el.ownerDocument.getElementsByTagName("iframe");for(const P of f)P.classList.add(d);const _=o.pageX,S=o.pageY,I=o.altKey,E={startX:_,currentX:_,startY:S,currentY:S,altKey:I};this.el.classList.add("active"),this._onDidStart.fire(E);const T=(0,m.createStyleSheet)(this.el),N=()=>{let P="";c?P="all-scroll":this.orientation===1?this.state===1?P="s-resize":this.state===2?P="n-resize":P=C.isMacintosh?"row-resize":"ns-resize":this.state===1?P="e-resize":this.state===2?P="w-resize":P=C.isMacintosh?"col-resize":"ew-resize",T.textContent=`* { cursor: ${P} !important; }`},A=new w.DisposableStore;N(),c||this.onDidEnablementChange.event(N,null,A);const O=P=>{m.EventHelper.stop(P,!1);const x={startX:_,currentX:P.pageX,startY:S,currentY:P.pageY,altKey:I};this._onDidChange.fire(x)},M=P=>{m.EventHelper.stop(P,!1),this.el.removeChild(T),this.el.classList.remove("active"),this._onDidEnd.fire(),A.dispose();for(const x of f)x.classList.remove(d)};g.onPointerMove(O,null,A),g.onPointerUp(M,null,A),A.add(g)}onPointerDoublePress(o){const g=this.getOrthogonalSash(o);g&&g._onDidReset.fire(),this.linkedSash&&this.linkedSash._onDidReset.fire(),this._onDidReset.fire()}static onMouseEnter(o,g=!1){o.el.classList.contains("active")?(o.hoverDelayer.cancel(),o.el.classList.add("hover")):o.hoverDelayer.trigger(()=>o.el.classList.add("hover"),o.hoverDelay).then(void 0,()=>{}),!g&&o.linkedSash&&r.onMouseEnter(o.linkedSash,!0)}static onMouseLeave(o,g=!1){o.hoverDelayer.cancel(),o.el.classList.remove("hover"),!g&&o.linkedSash&&r.onMouseLeave(o.linkedSash,!0)}clearSashHoverState(){r.onMouseLeave(this)}layout(){if(this.orientation===0){const o=this.layoutProvider;this.el.style.left=o.getVerticalSashLeft(this)-this.size/2+"px",o.getVerticalSashTop&&(this.el.style.top=o.getVerticalSashTop(this)+"px"),o.getVerticalSashHeight&&(this.el.style.height=o.getVerticalSashHeight(this)+"px")}else{const o=this.layoutProvider;this.el.style.top=o.getHorizontalSashTop(this)-this.size/2+"px",o.getHorizontalSashLeft&&(this.el.style.left=o.getHorizontalSashLeft(this)+"px"),o.getHorizontalSashWidth&&(this.el.style.width=o.getHorizontalSashWidth(this)+"px")}}getOrthogonalSash(o){var g;const c=(g=o.initialTarget)!==null&&g!==void 0?g:o.target;if(!(!c||!(c instanceof HTMLElement))&&c.classList.contains("orthogonal-drag-handle"))return c.classList.contains("start")?this.orthogonalStartSash:this.orthogonalEndSash}dispose(){super.dispose(),this.el.remove()}}e.Sash=r}),define(te[241],ie([1,0,6,165,7,2]),function(J,e,m,k,D,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ResizableHTMLElement=void 0;class y{constructor(){this._onDidWillResize=new D.Emitter,this.onDidWillResize=this._onDidWillResize.event,this._onDidResize=new D.Emitter,this.onDidResize=this._onDidResize.event,this._sashListener=new L.DisposableStore,this._size=new m.Dimension(0,0),this._minSize=new m.Dimension(0,0),this._maxSize=new m.Dimension(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER),this.domNode=document.createElement("div"),this._eastSash=new k.Sash(this.domNode,{getVerticalSashLeft:()=>this._size.width},{orientation:0}),this._westSash=new k.Sash(this.domNode,{getVerticalSashLeft:()=>0},{orientation:0}),this._northSash=new k.Sash(this.domNode,{getHorizontalSashTop:()=>0},{orientation:1,orthogonalEdge:k.OrthogonalEdge.North}),this._southSash=new k.Sash(this.domNode,{getHorizontalSashTop:()=>this._size.height},{orientation:1,orthogonalEdge:k.OrthogonalEdge.South}),this._northSash.orthogonalStartSash=this._westSash,this._northSash.orthogonalEndSash=this._eastSash,this._southSash.orthogonalStartSash=this._westSash,this._southSash.orthogonalEndSash=this._eastSash;let w,C=0,b=0;this._sashListener.add(D.Event.any(this._northSash.onDidStart,this._eastSash.onDidStart,this._southSash.onDidStart,this._westSash.onDidStart)(()=>{w===void 0&&(this._onDidWillResize.fire(),w=this._size,C=0,b=0)})),this._sashListener.add(D.Event.any(this._northSash.onDidEnd,this._eastSash.onDidEnd,this._southSash.onDidEnd,this._westSash.onDidEnd)(()=>{w!==void 0&&(w=void 0,C=0,b=0,this._onDidResize.fire({dimension:this._size,done:!0}))})),this._sashListener.add(this._eastSash.onDidChange(a=>{w&&(b=a.currentX-a.startX,this.layout(w.height+C,w.width+b),this._onDidResize.fire({dimension:this._size,done:!1,east:!0}))})),this._sashListener.add(this._westSash.onDidChange(a=>{w&&(b=-(a.currentX-a.startX),this.layout(w.height+C,w.width+b),this._onDidResize.fire({dimension:this._size,done:!1,west:!0}))})),this._sashListener.add(this._northSash.onDidChange(a=>{w&&(C=-(a.currentY-a.startY),this.layout(w.height+C,w.width+b),this._onDidResize.fire({dimension:this._size,done:!1,north:!0}))})),this._sashListener.add(this._southSash.onDidChange(a=>{w&&(C=a.currentY-a.startY,this.layout(w.height+C,w.width+b),this._onDidResize.fire({dimension:this._size,done:!1,south:!0}))})),this._sashListener.add(D.Event.any(this._eastSash.onDidReset,this._westSash.onDidReset)(a=>{this._preferredSize&&(this.layout(this._size.height,this._preferredSize.width),this._onDidResize.fire({dimension:this._size,done:!0}))})),this._sashListener.add(D.Event.any(this._northSash.onDidReset,this._southSash.onDidReset)(a=>{this._preferredSize&&(this.layout(this._preferredSize.height,this._size.width),this._onDidResize.fire({dimension:this._size,done:!0}))}))}dispose(){this._northSash.dispose(),this._southSash.dispose(),this._eastSash.dispose(),this._westSash.dispose(),this._sashListener.dispose(),this._onDidResize.dispose(),this._onDidWillResize.dispose(),this.domNode.remove()}enableSashes(w,C,b,a){this._northSash.state=w?3:0,this._eastSash.state=C?3:0,this._southSash.state=b?3:0,this._westSash.state=a?3:0}layout(w=this.size.height,C=this.size.width){const{height:b,width:a}=this._minSize,{height:s,width:i}=this._maxSize;w=Math.max(b,Math.min(s,w)),C=Math.max(a,Math.min(i,C));const t=new m.Dimension(C,w);m.Dimension.equals(t,this._size)||(this.domNode.style.height=w+"px",this.domNode.style.width=C+"px",this._size=t,this._northSash.layout(),this._eastSash.layout(),this._southSash.layout(),this._westSash.layout())}clearSashHoverState(){this._eastSash.clearSashHoverState(),this._westSash.clearSashHoverState(),this._northSash.clearSashHoverState(),this._southSash.clearSashHoverState()}get size(){return this._size}set maxSize(w){this._maxSize=w}get maxSize(){return this._maxSize}set minSize(w){this._minSize=w}get minSize(){return this._minSize}set preferredSize(w){this._preferredSize=w}get preferredSize(){return this._preferredSize}}e.ResizableHTMLElement=y}),define(te[618],ie([1,0,6,67,13,7,2,17]),function(J,e,m,k,D,L,y,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectBoxNative=void 0;class w extends y.Disposable{constructor(b,a,s,i){super(),this.selected=0,this.selectBoxOptions=i||Object.create(null),this.options=[],this.selectElement=document.createElement("select"),this.selectElement.className="monaco-select-box",typeof this.selectBoxOptions.ariaLabel=="string"&&this.selectElement.setAttribute("aria-label",this.selectBoxOptions.ariaLabel),typeof this.selectBoxOptions.ariaDescription=="string"&&this.selectElement.setAttribute("aria-description",this.selectBoxOptions.ariaDescription),this._onDidSelect=this._register(new L.Emitter),this.styles=s,this.registerListeners(),this.setOptions(b,a)}registerListeners(){this._register(k.Gesture.addTarget(this.selectElement)),[k.EventType.Tap].forEach(b=>{this._register(m.addDisposableListener(this.selectElement,b,a=>{this.selectElement.focus()}))}),this._register(m.addStandardDisposableListener(this.selectElement,"click",b=>{m.EventHelper.stop(b,!0)})),this._register(m.addStandardDisposableListener(this.selectElement,"change",b=>{this.selectElement.title=b.target.value,this._onDidSelect.fire({index:b.target.selectedIndex,selected:b.target.value})})),this._register(m.addStandardDisposableListener(this.selectElement,"keydown",b=>{let a=!1;p.isMacintosh?(b.keyCode===18||b.keyCode===16||b.keyCode===10)&&(a=!0):(b.keyCode===18&&b.altKey||b.keyCode===10||b.keyCode===3)&&(a=!0),a&&b.stopPropagation()}))}get onDidSelect(){return this._onDidSelect.event}setOptions(b,a){(!this.options||!D.equals(this.options,b))&&(this.options=b,this.selectElement.options.length=0,this.options.forEach((s,i)=>{this.selectElement.add(this.createOption(s.text,i,s.isDisabled))})),a!==void 0&&this.select(a)}select(b){this.options.length===0?this.selected=0:b>=0&&b<this.options.length?this.selected=b:b>this.options.length-1?this.select(this.options.length-1):this.selected<0&&(this.selected=0),this.selectElement.selectedIndex=this.selected,this.selected<this.options.length&&typeof this.options[this.selected].text=="string"?this.selectElement.title=this.options[this.selected].text:this.selectElement.title=""}focus(){this.selectElement&&(this.selectElement.tabIndex=0,this.selectElement.focus())}blur(){this.selectElement&&(this.selectElement.tabIndex=-1,this.selectElement.blur())}setFocusable(b){this.selectElement.tabIndex=b?0:-1}render(b){b.classList.add("select-container"),b.appendChild(this.selectElement),this.setOptions(this.options,this.selected),this.applyStyles()}applyStyles(){var b,a,s;this.selectElement&&(this.selectElement.style.backgroundColor=(b=this.styles.selectBackground)!==null&&b!==void 0?b:"",this.selectElement.style.color=(a=this.styles.selectForeground)!==null&&a!==void 0?a:"",this.selectElement.style.borderColor=(s=this.styles.selectBorder)!==null&&s!==void 0?s:"")}createOption(b,a,s){const i=document.createElement("option");return i.value=b,i.text=b,i.disabled=!!s,i}}e.SelectBoxNative=w}),define(te[78],ie([1,0,6,48,72,67,2]),function(J,e,m,k,D,L,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Widget=void 0;class p extends y.Disposable{onclick(C,b){this._register(m.addDisposableListener(C,m.EventType.CLICK,a=>b(new D.StandardMouseEvent(m.getWindow(C),a))))}onmousedown(C,b){this._register(m.addDisposableListener(C,m.EventType.MOUSE_DOWN,a=>b(new D.StandardMouseEvent(m.getWindow(C),a))))}onmouseover(C,b){this._register(m.addDisposableListener(C,m.EventType.MOUSE_OVER,a=>b(new D.StandardMouseEvent(m.getWindow(C),a))))}onmouseleave(C,b){this._register(m.addDisposableListener(C,m.EventType.MOUSE_LEAVE,a=>b(new D.StandardMouseEvent(m.getWindow(C),a))))}onkeydown(C,b){this._register(m.addDisposableListener(C,m.EventType.KEY_DOWN,a=>b(new k.StandardKeyboardEvent(a))))}onkeyup(C,b){this._register(m.addDisposableListener(C,m.EventType.KEY_UP,a=>b(new k.StandardKeyboardEvent(a))))}oninput(C,b){this._register(m.addDisposableListener(C,m.EventType.INPUT,b))}onblur(C,b){this._register(m.addDisposableListener(C,m.EventType.BLUR,b))}onfocus(C,b){this._register(m.addDisposableListener(C,m.EventType.FOCUS,b))}ignoreGesture(C){return L.Gesture.ignoreTarget(C)}}e.Widget=p}),define(te[242],ie([1,0,164,78,15,30,6]),function(J,e,m,k,D,L,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ScrollbarArrow=e.ARROW_IMG_SIZE=void 0,e.ARROW_IMG_SIZE=11;class p extends k.Widget{constructor(C){super(),this._onActivate=C.onActivate,this.bgDomNode=document.createElement("div"),this.bgDomNode.className="arrow-background",this.bgDomNode.style.position="absolute",this.bgDomNode.style.width=C.bgWidth+"px",this.bgDomNode.style.height=C.bgHeight+"px",typeof C.top<"u"&&(this.bgDomNode.style.top="0px"),typeof C.left<"u"&&(this.bgDomNode.style.left="0px"),typeof C.bottom<"u"&&(this.bgDomNode.style.bottom="0px"),typeof C.right<"u"&&(this.bgDomNode.style.right="0px"),this.domNode=document.createElement("div"),this.domNode.className=C.className,this.domNode.classList.add(...L.ThemeIcon.asClassNameArray(C.icon)),this.domNode.style.position="absolute",this.domNode.style.width=e.ARROW_IMG_SIZE+"px",this.domNode.style.height=e.ARROW_IMG_SIZE+"px",typeof C.top<"u"&&(this.domNode.style.top=C.top+"px"),typeof C.left<"u"&&(this.domNode.style.left=C.left+"px"),typeof C.bottom<"u"&&(this.domNode.style.bottom=C.bottom+"px"),typeof C.right<"u"&&(this.domNode.style.right=C.right+"px"),this._pointerMoveMonitor=this._register(new m.GlobalPointerMoveMonitor),this._register(y.addStandardDisposableListener(this.bgDomNode,y.EventType.POINTER_DOWN,b=>this._arrowPointerDown(b))),this._register(y.addStandardDisposableListener(this.domNode,y.EventType.POINTER_DOWN,b=>this._arrowPointerDown(b))),this._pointerdownRepeatTimer=this._register(new y.WindowIntervalTimer),this._pointerdownScheduleRepeatTimer=this._register(new D.TimeoutTimer)}_arrowPointerDown(C){if(!C.target||!(C.target instanceof Element))return;const b=()=>{this._pointerdownRepeatTimer.cancelAndSet(()=>this._onActivate(),1e3/24,y.getWindow(C))};this._onActivate(),this._pointerdownRepeatTimer.cancel(),this._pointerdownScheduleRepeatTimer.cancelAndSet(b,200),this._pointerMoveMonitor.startMonitoring(C.target,C.pointerId,C.buttons,a=>{},()=>{this._pointerdownRepeatTimer.cancel(),this._pointerdownScheduleRepeatTimer.cancel()}),C.preventDefault()}}e.ScrollbarArrow=p}),define(te[338],ie([1,0,6,40,164,242,610,78,17]),function(J,e,m,k,D,L,y,p,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractScrollbar=void 0;const C=140;class b extends p.Widget{constructor(s){super(),this._lazyRender=s.lazyRender,this._host=s.host,this._scrollable=s.scrollable,this._scrollByPage=s.scrollByPage,this._scrollbarState=s.scrollbarState,this._visibilityController=this._register(new y.ScrollbarVisibilityController(s.visibility,"visible scrollbar "+s.extraScrollbarClassName,"invisible scrollbar "+s.extraScrollbarClassName)),this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._pointerMoveMonitor=this._register(new D.GlobalPointerMoveMonitor),this._shouldRender=!0,this.domNode=(0,k.createFastDomNode)(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this._visibilityController.setDomNode(this.domNode),this.domNode.setPosition("absolute"),this._register(m.addDisposableListener(this.domNode.domNode,m.EventType.POINTER_DOWN,i=>this._domNodePointerDown(i)))}_createArrow(s){const i=this._register(new L.ScrollbarArrow(s));this.domNode.domNode.appendChild(i.bgDomNode),this.domNode.domNode.appendChild(i.domNode)}_createSlider(s,i,t,n){this.slider=(0,k.createFastDomNode)(document.createElement("div")),this.slider.setClassName("slider"),this.slider.setPosition("absolute"),this.slider.setTop(s),this.slider.setLeft(i),typeof t=="number"&&this.slider.setWidth(t),typeof n=="number"&&this.slider.setHeight(n),this.slider.setLayerHinting(!0),this.slider.setContain("strict"),this.domNode.domNode.appendChild(this.slider.domNode),this._register(m.addDisposableListener(this.slider.domNode,m.EventType.POINTER_DOWN,h=>{h.button===0&&(h.preventDefault(),this._sliderPointerDown(h))})),this.onclick(this.slider.domNode,h=>{h.leftButton&&h.stopPropagation()})}_onElementSize(s){return this._scrollbarState.setVisibleSize(s)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollSize(s){return this._scrollbarState.setScrollSize(s)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollPosition(s){return this._scrollbarState.setScrollPosition(s)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}beginReveal(){this._visibilityController.setShouldBeVisible(!0)}beginHide(){this._visibilityController.setShouldBeVisible(!1)}render(){this._shouldRender&&(this._shouldRender=!1,this._renderDomNode(this._scrollbarState.getRectangleLargeSize(),this._scrollbarState.getRectangleSmallSize()),this._updateSlider(this._scrollbarState.getSliderSize(),this._scrollbarState.getArrowSize()+this._scrollbarState.getSliderPosition()))}_domNodePointerDown(s){s.target===this.domNode.domNode&&this._onPointerDown(s)}delegatePointerDown(s){const i=this.domNode.domNode.getClientRects()[0].top,t=i+this._scrollbarState.getSliderPosition(),n=i+this._scrollbarState.getSliderPosition()+this._scrollbarState.getSliderSize(),h=this._sliderPointerPosition(s);t<=h&&h<=n?s.button===0&&(s.preventDefault(),this._sliderPointerDown(s)):this._onPointerDown(s)}_onPointerDown(s){let i,t;if(s.target===this.domNode.domNode&&typeof s.offsetX=="number"&&typeof s.offsetY=="number")i=s.offsetX,t=s.offsetY;else{const h=m.getDomNodePagePosition(this.domNode.domNode);i=s.pageX-h.left,t=s.pageY-h.top}const n=this._pointerDownRelativePosition(i,t);this._setDesiredScrollPositionNow(this._scrollByPage?this._scrollbarState.getDesiredScrollPositionFromOffsetPaged(n):this._scrollbarState.getDesiredScrollPositionFromOffset(n)),s.button===0&&(s.preventDefault(),this._sliderPointerDown(s))}_sliderPointerDown(s){if(!s.target||!(s.target instanceof Element))return;const i=this._sliderPointerPosition(s),t=this._sliderOrthogonalPointerPosition(s),n=this._scrollbarState.clone();this.slider.toggleClassName("active",!0),this._pointerMoveMonitor.startMonitoring(s.target,s.pointerId,s.buttons,h=>{const v=this._sliderOrthogonalPointerPosition(h),u=Math.abs(v-t);if(w.isWindows&&u>C){this._setDesiredScrollPositionNow(n.getScrollPosition());return}const r=this._sliderPointerPosition(h)-i;this._setDesiredScrollPositionNow(n.getDesiredScrollPositionFromDelta(r))},()=>{this.slider.toggleClassName("active",!1),this._host.onDragEnd()}),this._host.onDragStart()}_setDesiredScrollPositionNow(s){const i={};this.writeScrollPosition(i,s),this._scrollable.setScrollPositionNow(i)}updateScrollbarSize(s){this._updateScrollbarSize(s),this._scrollbarState.setScrollbarSize(s),this._shouldRender=!0,this._lazyRender||this.render()}isNeeded(){return this._scrollbarState.isNeeded()}}e.AbstractScrollbar=b}),define(te[619],ie([1,0,72,338,242,212,26]),function(J,e,m,k,D,L,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HorizontalScrollbar=void 0;class p extends k.AbstractScrollbar{constructor(C,b,a){const s=C.getScrollDimensions(),i=C.getCurrentScrollPosition();if(super({lazyRender:b.lazyRender,host:a,scrollbarState:new L.ScrollbarState(b.horizontalHasArrows?b.arrowSize:0,b.horizontal===2?0:b.horizontalScrollbarSize,b.vertical===2?0:b.verticalScrollbarSize,s.width,s.scrollWidth,i.scrollLeft),visibility:b.horizontal,extraScrollbarClassName:"horizontal",scrollable:C,scrollByPage:b.scrollByPage}),b.horizontalHasArrows){const t=(b.arrowSize-D.ARROW_IMG_SIZE)/2,n=(b.horizontalScrollbarSize-D.ARROW_IMG_SIZE)/2;this._createArrow({className:"scra",icon:y.Codicon.scrollbarButtonLeft,top:n,left:t,bottom:void 0,right:void 0,bgWidth:b.arrowSize,bgHeight:b.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new m.StandardWheelEvent(null,1,0))}),this._createArrow({className:"scra",icon:y.Codicon.scrollbarButtonRight,top:n,left:void 0,bottom:void 0,right:t,bgWidth:b.arrowSize,bgHeight:b.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new m.StandardWheelEvent(null,-1,0))})}this._createSlider(Math.floor((b.horizontalScrollbarSize-b.horizontalSliderSize)/2),0,void 0,b.horizontalSliderSize)}_updateSlider(C,b){this.slider.setWidth(C),this.slider.setLeft(b)}_renderDomNode(C,b){this.domNode.setWidth(C),this.domNode.setHeight(b),this.domNode.setLeft(0),this.domNode.setBottom(0)}onDidScroll(C){return this._shouldRender=this._onElementScrollSize(C.scrollWidth)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(C.scrollLeft)||this._shouldRender,this._shouldRender=this._onElementSize(C.width)||this._shouldRender,this._shouldRender}_pointerDownRelativePosition(C,b){return C}_sliderPointerPosition(C){return C.pageX}_sliderOrthogonalPointerPosition(C){return C.pageY}_updateScrollbarSize(C){this.slider.setHeight(C)}writeScrollPosition(C,b){C.scrollLeft=b}updateOptions(C){this.updateScrollbarSize(C.horizontal===2?0:C.horizontalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(C.vertical===2?0:C.verticalScrollbarSize),this._visibilityController.setVisibility(C.horizontal),this._scrollByPage=C.scrollByPage}}e.HorizontalScrollbar=p}),define(te[620],ie([1,0,72,338,242,212,26]),function(J,e,m,k,D,L,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VerticalScrollbar=void 0;class p extends k.AbstractScrollbar{constructor(C,b,a){const s=C.getScrollDimensions(),i=C.getCurrentScrollPosition();if(super({lazyRender:b.lazyRender,host:a,scrollbarState:new L.ScrollbarState(b.verticalHasArrows?b.arrowSize:0,b.vertical===2?0:b.verticalScrollbarSize,0,s.height,s.scrollHeight,i.scrollTop),visibility:b.vertical,extraScrollbarClassName:"vertical",scrollable:C,scrollByPage:b.scrollByPage}),b.verticalHasArrows){const t=(b.arrowSize-D.ARROW_IMG_SIZE)/2,n=(b.verticalScrollbarSize-D.ARROW_IMG_SIZE)/2;this._createArrow({className:"scra",icon:y.Codicon.scrollbarButtonUp,top:t,left:n,bottom:void 0,right:void 0,bgWidth:b.verticalScrollbarSize,bgHeight:b.arrowSize,onActivate:()=>this._host.onMouseWheel(new m.StandardWheelEvent(null,0,1))}),this._createArrow({className:"scra",icon:y.Codicon.scrollbarButtonDown,top:void 0,left:n,bottom:t,right:void 0,bgWidth:b.verticalScrollbarSize,bgHeight:b.arrowSize,onActivate:()=>this._host.onMouseWheel(new m.StandardWheelEvent(null,0,-1))})}this._createSlider(0,Math.floor((b.verticalScrollbarSize-b.verticalSliderSize)/2),b.verticalSliderSize,void 0)}_updateSlider(C,b){this.slider.setHeight(C),this.slider.setTop(b)}_renderDomNode(C,b){this.domNode.setWidth(b),this.domNode.setHeight(C),this.domNode.setRight(0),this.domNode.setTop(0)}onDidScroll(C){return this._shouldRender=this._onElementScrollSize(C.scrollHeight)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(C.scrollTop)||this._shouldRender,this._shouldRender=this._onElementSize(C.height)||this._shouldRender,this._shouldRender}_pointerDownRelativePosition(C,b){return b}_sliderPointerPosition(C){return C.pageY}_sliderOrthogonalPointerPosition(C){return C.pageX}_updateScrollbarSize(C){this.slider.setWidth(C)}writeScrollPosition(C,b){C.scrollTop=b}updateOptions(C){this.updateScrollbarSize(C.vertical===2?0:C.verticalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(0),this._visibilityController.setVisibility(C.vertical),this._scrollByPage=C.scrollByPage}}e.VerticalScrollbar=p}),define(te[79],ie([1,0,62,6,40,72,619,620,78,15,7,2,17,156,442]),function(J,e,m,k,D,L,y,p,w,C,b,a,s,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DomScrollableElement=e.SmoothScrollableElement=e.ScrollableElement=e.AbstractScrollableElement=e.MouseWheelClassifier=void 0;const t=500,n=50,h=!0;class v{constructor(f,_,S){this.timestamp=f,this.deltaX=_,this.deltaY=S,this.score=0}}class u{constructor(){this._capacity=5,this._memory=[],this._front=-1,this._rear=-1}isPhysicalMouseWheel(){if(this._front===-1&&this._rear===-1)return!1;let f=1,_=0,S=1,I=this._rear;do{const E=I===this._front?f:Math.pow(2,-S);if(f-=E,_+=this._memory[I].score*E,I===this._front)break;I=(this._capacity+I-1)%this._capacity,S++}while(!0);return _<=.5}acceptStandardWheelEvent(f){if(m.isChrome){const _=k.getWindow(f.browserEvent),S=(0,m.getZoomFactor)(_);this.accept(Date.now(),f.deltaX*S,f.deltaY*S)}else this.accept(Date.now(),f.deltaX,f.deltaY)}accept(f,_,S){let I=null;const E=new v(f,_,S);this._front===-1&&this._rear===-1?(this._memory[0]=E,this._front=0,this._rear=0):(I=this._memory[this._rear],this._rear=(this._rear+1)%this._capacity,this._rear===this._front&&(this._front=(this._front+1)%this._capacity),this._memory[this._rear]=E),E.score=this._computeScore(E,I)}_computeScore(f,_){if(Math.abs(f.deltaX)>0&&Math.abs(f.deltaY)>0)return 1;let S=.5;if((!this._isAlmostInt(f.deltaX)||!this._isAlmostInt(f.deltaY))&&(S+=.25),_){const I=Math.abs(f.deltaX),E=Math.abs(f.deltaY),T=Math.abs(_.deltaX),N=Math.abs(_.deltaY),A=Math.max(Math.min(I,T),1),O=Math.max(Math.min(E,N),1),M=Math.max(I,T),P=Math.max(E,N);M%A===0&&P%O===0&&(S-=.5)}return Math.min(Math.max(S,0),1)}_isAlmostInt(f){return Math.abs(Math.round(f)-f)<.01}}e.MouseWheelClassifier=u,u.INSTANCE=new u;class d extends w.Widget{get options(){return this._options}constructor(f,_,S){super(),this._onScroll=this._register(new b.Emitter),this.onScroll=this._onScroll.event,this._onWillScroll=this._register(new b.Emitter),f.style.overflow="hidden",this._options=g(_),this._scrollable=S,this._register(this._scrollable.onScroll(E=>{this._onWillScroll.fire(E),this._onDidScroll(E),this._onScroll.fire(E)}));const I={onMouseWheel:E=>this._onMouseWheel(E),onDragStart:()=>this._onDragStart(),onDragEnd:()=>this._onDragEnd()};this._verticalScrollbar=this._register(new p.VerticalScrollbar(this._scrollable,this._options,I)),this._horizontalScrollbar=this._register(new y.HorizontalScrollbar(this._scrollable,this._options,I)),this._domNode=document.createElement("div"),this._domNode.className="monaco-scrollable-element "+this._options.className,this._domNode.setAttribute("role","presentation"),this._domNode.style.position="relative",this._domNode.style.overflow="hidden",this._domNode.appendChild(f),this._domNode.appendChild(this._horizontalScrollbar.domNode.domNode),this._domNode.appendChild(this._verticalScrollbar.domNode.domNode),this._options.useShadows?(this._leftShadowDomNode=(0,D.createFastDomNode)(document.createElement("div")),this._leftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._leftShadowDomNode.domNode),this._topShadowDomNode=(0,D.createFastDomNode)(document.createElement("div")),this._topShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topShadowDomNode.domNode),this._topLeftShadowDomNode=(0,D.createFastDomNode)(document.createElement("div")),this._topLeftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topLeftShadowDomNode.domNode)):(this._leftShadowDomNode=null,this._topShadowDomNode=null,this._topLeftShadowDomNode=null),this._listenOnDomNode=this._options.listenOnDomNode||this._domNode,this._mouseWheelToDispose=[],this._setListeningToMouseWheel(this._options.handleMouseWheel),this.onmouseover(this._listenOnDomNode,E=>this._onMouseOver(E)),this.onmouseleave(this._listenOnDomNode,E=>this._onMouseLeave(E)),this._hideTimeout=this._register(new C.TimeoutTimer),this._isDragging=!1,this._mouseIsOver=!1,this._shouldRender=!0,this._revealOnScroll=!0}dispose(){this._mouseWheelToDispose=(0,a.dispose)(this._mouseWheelToDispose),super.dispose()}getDomNode(){return this._domNode}getOverviewRulerLayoutInfo(){return{parent:this._domNode,insertBefore:this._verticalScrollbar.domNode.domNode}}delegateVerticalScrollbarPointerDown(f){this._verticalScrollbar.delegatePointerDown(f)}getScrollDimensions(){return this._scrollable.getScrollDimensions()}setScrollDimensions(f){this._scrollable.setScrollDimensions(f,!1)}updateClassName(f){this._options.className=f,s.isMacintosh&&(this._options.className+=" mac"),this._domNode.className="monaco-scrollable-element "+this._options.className}updateOptions(f){typeof f.handleMouseWheel<"u"&&(this._options.handleMouseWheel=f.handleMouseWheel,this._setListeningToMouseWheel(this._options.handleMouseWheel)),typeof f.mouseWheelScrollSensitivity<"u"&&(this._options.mouseWheelScrollSensitivity=f.mouseWheelScrollSensitivity),typeof f.fastScrollSensitivity<"u"&&(this._options.fastScrollSensitivity=f.fastScrollSensitivity),typeof f.scrollPredominantAxis<"u"&&(this._options.scrollPredominantAxis=f.scrollPredominantAxis),typeof f.horizontal<"u"&&(this._options.horizontal=f.horizontal),typeof f.vertical<"u"&&(this._options.vertical=f.vertical),typeof f.horizontalScrollbarSize<"u"&&(this._options.horizontalScrollbarSize=f.horizontalScrollbarSize),typeof f.verticalScrollbarSize<"u"&&(this._options.verticalScrollbarSize=f.verticalScrollbarSize),typeof f.scrollByPage<"u"&&(this._options.scrollByPage=f.scrollByPage),this._horizontalScrollbar.updateOptions(this._options),this._verticalScrollbar.updateOptions(this._options),this._options.lazyRender||this._render()}delegateScrollFromMouseWheelEvent(f){this._onMouseWheel(new L.StandardWheelEvent(f))}_setListeningToMouseWheel(f){if(this._mouseWheelToDispose.length>0!==f&&(this._mouseWheelToDispose=(0,a.dispose)(this._mouseWheelToDispose),f)){const S=I=>{this._onMouseWheel(new L.StandardWheelEvent(I))};this._mouseWheelToDispose.push(k.addDisposableListener(this._listenOnDomNode,k.EventType.MOUSE_WHEEL,S,{passive:!1}))}}_onMouseWheel(f){var _;if(!((_=f.browserEvent)===null||_===void 0)&&_.defaultPrevented)return;const S=u.INSTANCE;h&&S.acceptStandardWheelEvent(f);let I=!1;if(f.deltaY||f.deltaX){let T=f.deltaY*this._options.mouseWheelScrollSensitivity,N=f.deltaX*this._options.mouseWheelScrollSensitivity;this._options.scrollPredominantAxis&&(this._options.scrollYToX&&N+T===0?N=T=0:Math.abs(T)>=Math.abs(N)?N=0:T=0),this._options.flipAxes&&([T,N]=[N,T]);const A=!s.isMacintosh&&f.browserEvent&&f.browserEvent.shiftKey;(this._options.scrollYToX||A)&&!N&&(N=T,T=0),f.browserEvent&&f.browserEvent.altKey&&(N=N*this._options.fastScrollSensitivity,T=T*this._options.fastScrollSensitivity);const O=this._scrollable.getFutureScrollPosition();let M={};if(T){const P=n*T,x=O.scrollTop-(P<0?Math.floor(P):Math.ceil(P));this._verticalScrollbar.writeScrollPosition(M,x)}if(N){const P=n*N,x=O.scrollLeft-(P<0?Math.floor(P):Math.ceil(P));this._horizontalScrollbar.writeScrollPosition(M,x)}M=this._scrollable.validateScrollPosition(M),(O.scrollLeft!==M.scrollLeft||O.scrollTop!==M.scrollTop)&&(h&&this._options.mouseWheelSmoothScroll&&S.isPhysicalMouseWheel()?this._scrollable.setScrollPositionSmooth(M):this._scrollable.setScrollPositionNow(M),I=!0)}let E=I;!E&&this._options.alwaysConsumeMouseWheel&&(E=!0),!E&&this._options.consumeMouseWheelIfScrollbarIsNeeded&&(this._verticalScrollbar.isNeeded()||this._horizontalScrollbar.isNeeded())&&(E=!0),E&&(f.preventDefault(),f.stopPropagation())}_onDidScroll(f){this._shouldRender=this._horizontalScrollbar.onDidScroll(f)||this._shouldRender,this._shouldRender=this._verticalScrollbar.onDidScroll(f)||this._shouldRender,this._options.useShadows&&(this._shouldRender=!0),this._revealOnScroll&&this._reveal(),this._options.lazyRender||this._render()}renderNow(){if(!this._options.lazyRender)throw new Error("Please use `lazyRender` together with `renderNow`!");this._render()}_render(){if(this._shouldRender&&(this._shouldRender=!1,this._horizontalScrollbar.render(),this._verticalScrollbar.render(),this._options.useShadows)){const f=this._scrollable.getCurrentScrollPosition(),_=f.scrollTop>0,S=f.scrollLeft>0,I=S?" left":"",E=_?" top":"",T=S||_?" top-left-corner":"";this._leftShadowDomNode.setClassName(`shadow${I}`),this._topShadowDomNode.setClassName(`shadow${E}`),this._topLeftShadowDomNode.setClassName(`shadow${T}${E}${I}`)}}_onDragStart(){this._isDragging=!0,this._reveal()}_onDragEnd(){this._isDragging=!1,this._hide()}_onMouseLeave(f){this._mouseIsOver=!1,this._hide()}_onMouseOver(f){this._mouseIsOver=!0,this._reveal()}_reveal(){this._verticalScrollbar.beginReveal(),this._horizontalScrollbar.beginReveal(),this._scheduleHide()}_hide(){!this._mouseIsOver&&!this._isDragging&&(this._verticalScrollbar.beginHide(),this._horizontalScrollbar.beginHide())}_scheduleHide(){!this._mouseIsOver&&!this._isDragging&&this._hideTimeout.cancelAndSet(()=>this._hide(),t)}}e.AbstractScrollableElement=d;class r extends d{constructor(f,_){_=_||{},_.mouseWheelSmoothScroll=!1;const S=new i.Scrollable({forceIntegerValues:!0,smoothScrollDuration:0,scheduleAtNextAnimationFrame:I=>k.scheduleAtNextAnimationFrame(k.getWindow(f),I)});super(f,_,S),this._register(S)}setScrollPosition(f){this._scrollable.setScrollPositionNow(f)}}e.ScrollableElement=r;class l extends d{constructor(f,_,S){super(f,_,S)}setScrollPosition(f){f.reuseAnimation?this._scrollable.setScrollPositionSmooth(f,f.reuseAnimation):this._scrollable.setScrollPositionNow(f)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}}e.SmoothScrollableElement=l;class o extends d{constructor(f,_){_=_||{},_.mouseWheelSmoothScroll=!1;const S=new i.Scrollable({forceIntegerValues:!1,smoothScrollDuration:0,scheduleAtNextAnimationFrame:I=>k.scheduleAtNextAnimationFrame(k.getWindow(f),I)});super(f,_,S),this._register(S),this._element=f,this._register(this.onScroll(I=>{I.scrollTopChanged&&(this._element.scrollTop=I.scrollTop),I.scrollLeftChanged&&(this._element.scrollLeft=I.scrollLeft)})),this.scanDomNode()}setScrollPosition(f){this._scrollable.setScrollPositionNow(f)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}scanDomNode(){this.setScrollDimensions({width:this._element.clientWidth,scrollWidth:this._element.scrollWidth,height:this._element.clientHeight,scrollHeight:this._element.scrollHeight}),this.setScrollPosition({scrollLeft:this._element.scrollLeft,scrollTop:this._element.scrollTop})}}e.DomScrollableElement=o;function g(c){const f={lazyRender:typeof c.lazyRender<"u"?c.lazyRender:!1,className:typeof c.className<"u"?c.className:"",useShadows:typeof c.useShadows<"u"?c.useShadows:!0,handleMouseWheel:typeof c.handleMouseWheel<"u"?c.handleMouseWheel:!0,flipAxes:typeof c.flipAxes<"u"?c.flipAxes:!1,consumeMouseWheelIfScrollbarIsNeeded:typeof c.consumeMouseWheelIfScrollbarIsNeeded<"u"?c.consumeMouseWheelIfScrollbarIsNeeded:!1,alwaysConsumeMouseWheel:typeof c.alwaysConsumeMouseWheel<"u"?c.alwaysConsumeMouseWheel:!1,scrollYToX:typeof c.scrollYToX<"u"?c.scrollYToX:!1,mouseWheelScrollSensitivity:typeof c.mouseWheelScrollSensitivity<"u"?c.mouseWheelScrollSensitivity:1,fastScrollSensitivity:typeof c.fastScrollSensitivity<"u"?c.fastScrollSensitivity:5,scrollPredominantAxis:typeof c.scrollPredominantAxis<"u"?c.scrollPredominantAxis:!0,mouseWheelSmoothScroll:typeof c.mouseWheelSmoothScroll<"u"?c.mouseWheelSmoothScroll:!0,arrowSize:typeof c.arrowSize<"u"?c.arrowSize:11,listenOnDomNode:typeof c.listenOnDomNode<"u"?c.listenOnDomNode:null,horizontal:typeof c.horizontal<"u"?c.horizontal:1,horizontalScrollbarSize:typeof c.horizontalScrollbarSize<"u"?c.horizontalScrollbarSize:10,horizontalSliderSize:typeof c.horizontalSliderSize<"u"?c.horizontalSliderSize:0,horizontalHasArrows:typeof c.horizontalHasArrows<"u"?c.horizontalHasArrows:!1,vertical:typeof c.vertical<"u"?c.vertical:1,verticalScrollbarSize:typeof c.verticalScrollbarSize<"u"?c.verticalScrollbarSize:10,verticalHasArrows:typeof c.verticalHasArrows<"u"?c.verticalHasArrows:!1,verticalSliderSize:typeof c.verticalSliderSize<"u"?c.verticalSliderSize:0,scrollByPage:typeof c.scrollByPage<"u"?c.scrollByPage:!1};return f.horizontalSliderSize=typeof c.horizontalSliderSize<"u"?c.horizontalSliderSize:f.horizontalScrollbarSize,f.verticalSliderSize=typeof c.verticalSliderSize<"u"?c.verticalSliderSize:f.verticalScrollbarSize,s.isMacintosh&&(f.className+=" mac"),f}}),define(te[243],ie([1,0,6,48,79,2,597,435]),function(J,e,m,k,D,L,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HoverAction=e.HoverWidget=void 0,e.getHoverAccessibleViewHint=b;const p=m.$;class w extends L.Disposable{constructor(){super(),this.containerDomNode=document.createElement("div"),this.containerDomNode.className="monaco-hover",this.containerDomNode.tabIndex=0,this.containerDomNode.setAttribute("role","tooltip"),this.contentsDomNode=document.createElement("div"),this.contentsDomNode.className="monaco-hover-content",this.scrollbar=this._register(new D.DomScrollableElement(this.contentsDomNode,{consumeMouseWheelIfScrollbarIsNeeded:!0})),this.containerDomNode.appendChild(this.scrollbar.getDomNode())}onContentsChanged(){this.scrollbar.scanDomNode()}}e.HoverWidget=w;class C extends L.Disposable{static render(s,i,t){return new C(s,i,t)}constructor(s,i,t){super(),this.actionContainer=m.append(s,p("div.action-container")),this.actionContainer.setAttribute("tabindex","0"),this.action=m.append(this.actionContainer,p("a.action")),this.action.setAttribute("role","button"),i.iconClass&&m.append(this.action,p(`span.icon.${i.iconClass}`));const n=m.append(this.action,p("span"));n.textContent=t?`${i.label} (${t})`:i.label,this._register(m.addDisposableListener(this.actionContainer,m.EventType.CLICK,h=>{h.stopPropagation(),h.preventDefault(),i.run(this.actionContainer)})),this._register(m.addDisposableListener(this.actionContainer,m.EventType.KEY_DOWN,h=>{const v=new k.StandardKeyboardEvent(h);(v.equals(3)||v.equals(10))&&(h.stopPropagation(),h.preventDefault(),i.run(this.actionContainer))})),this.setEnabled(!0)}setEnabled(s){s?(this.actionContainer.classList.remove("disabled"),this.actionContainer.removeAttribute("aria-disabled")):(this.actionContainer.classList.add("disabled"),this.actionContainer.setAttribute("aria-disabled","true"))}}e.HoverAction=C;function b(a,s){return a&&s?(0,y.localize)(0,null,s):a?(0,y.localize)(1,null):""}}),define(te[244],ie([1,0,213,6,88,67,79,13,15,118,7,2,181,156,425,616,12,134]),function(J,e,m,k,D,L,y,p,w,C,b,a,s,i,t,n,h,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ListView=e.NativeDragAndDropData=e.ExternalElementsDragAndDropData=e.ElementsDragAndDropData=void 0;const u={CurrentDragAndDropData:void 0},d={useShadows:!0,verticalScrollMode:1,setRowLineHeight:!0,setRowHeight:!0,supportDynamicHeights:!1,dnd:{getDragElements(_){return[_]},getDragURI(){return null},onDragStart(){},onDragOver(){return!1},drop(){},dispose(){}},horizontalScrolling:!1,transformOptimization:!0,alwaysConsumeMouseWheel:!0};class r{constructor(S){this.elements=S}update(){}getData(){return this.elements}}e.ElementsDragAndDropData=r;class l{constructor(S){this.elements=S}update(){}getData(){return this.elements}}e.ExternalElementsDragAndDropData=l;class o{constructor(){this.types=[],this.files=[]}update(S){if(S.types&&this.types.splice(0,this.types.length,...S.types),S.files){this.files.splice(0,this.files.length);for(let I=0;I<S.files.length;I++){const E=S.files.item(I);E&&(E.size||E.type)&&this.files.push(E)}}}getData(){return{types:this.types,files:this.files}}}e.NativeDragAndDropData=o;function g(_,S){return Array.isArray(_)&&Array.isArray(S)?(0,p.equals)(_,S):_===S}class c{constructor(S){S?.getSetSize?this.getSetSize=S.getSetSize.bind(S):this.getSetSize=(I,E,T)=>T,S?.getPosInSet?this.getPosInSet=S.getPosInSet.bind(S):this.getPosInSet=(I,E)=>E+1,S?.getRole?this.getRole=S.getRole.bind(S):this.getRole=I=>"listitem",S?.isChecked?this.isChecked=S.isChecked.bind(S):this.isChecked=I=>{}}}class f{get contentHeight(){return this.rangeMap.size}get onDidScroll(){return this.scrollableElement.onScroll}get scrollableElementDomNode(){return this.scrollableElement.getDomNode()}get horizontalScrolling(){return this._horizontalScrolling}set horizontalScrolling(S){if(S!==this._horizontalScrolling){if(S&&this.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");if(this._horizontalScrolling=S,this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this._horizontalScrolling){for(const I of this.items)this.measureItemWidth(I);this.updateScrollWidth(),this.scrollableElement.setScrollDimensions({width:(0,k.getContentWidth)(this.domNode)}),this.rowsContainer.style.width=`${Math.max(this.scrollWidth||0,this.renderWidth)}px`}else this.scrollableElementWidthDelayer.cancel(),this.scrollableElement.setScrollDimensions({width:this.renderWidth,scrollWidth:this.renderWidth}),this.rowsContainer.style.width=""}}constructor(S,I,E,T=d){var N,A,O,M,P,x,R,B,H,V,q,K,U;if(this.virtualDelegate=I,this.domId=`list_id_${++f.InstanceCount}`,this.renderers=new Map,this.renderWidth=0,this._scrollHeight=0,this.scrollableElementUpdateDisposable=null,this.scrollableElementWidthDelayer=new w.Delayer(50),this.splicing=!1,this.dragOverAnimationStopDisposable=a.Disposable.None,this.dragOverMouseY=0,this.canDrop=!1,this.currentDragFeedbackDisposable=a.Disposable.None,this.onDragLeaveTimeout=a.Disposable.None,this.disposables=new a.DisposableStore,this._onDidChangeContentHeight=new b.Emitter,this._onDidChangeContentWidth=new b.Emitter,this.onDidChangeContentHeight=b.Event.latch(this._onDidChangeContentHeight.event,void 0,this.disposables),this._horizontalScrolling=!1,T.horizontalScrolling&&T.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");this.items=[],this.itemId=0,this.rangeMap=this.createRangeMap((N=T.paddingTop)!==null&&N!==void 0?N:0);for(const se of E)this.renderers.set(se.templateId,se);this.cache=this.disposables.add(new n.RowCache(this.renderers)),this.lastRenderTop=0,this.lastRenderHeight=0,this.domNode=document.createElement("div"),this.domNode.className="monaco-list",this.domNode.classList.add(this.domId),this.domNode.tabIndex=0,this.domNode.classList.toggle("mouse-support",typeof T.mouseSupport=="boolean"?T.mouseSupport:!0),this._horizontalScrolling=(A=T.horizontalScrolling)!==null&&A!==void 0?A:d.horizontalScrolling,this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this.paddingBottom=typeof T.paddingBottom>"u"?0:T.paddingBottom,this.accessibilityProvider=new c(T.accessibilityProvider),this.rowsContainer=document.createElement("div"),this.rowsContainer.className="monaco-list-rows",((O=T.transformOptimization)!==null&&O!==void 0?O:d.transformOptimization)&&(this.rowsContainer.style.transform="translate3d(0px, 0px, 0px)",this.rowsContainer.style.overflow="hidden",this.rowsContainer.style.contain="strict"),this.disposables.add(L.Gesture.addTarget(this.rowsContainer)),this.scrollable=this.disposables.add(new i.Scrollable({forceIntegerValues:!0,smoothScrollDuration:(M=T.smoothScrolling)!==null&&M!==void 0&&M?125:0,scheduleAtNextAnimationFrame:se=>(0,k.scheduleAtNextAnimationFrame)((0,k.getWindow)(this.domNode),se)})),this.scrollableElement=this.disposables.add(new y.SmoothScrollableElement(this.rowsContainer,{alwaysConsumeMouseWheel:(P=T.alwaysConsumeMouseWheel)!==null&&P!==void 0?P:d.alwaysConsumeMouseWheel,horizontal:1,vertical:(x=T.verticalScrollMode)!==null&&x!==void 0?x:d.verticalScrollMode,useShadows:(R=T.useShadows)!==null&&R!==void 0?R:d.useShadows,mouseWheelScrollSensitivity:T.mouseWheelScrollSensitivity,fastScrollSensitivity:T.fastScrollSensitivity,scrollByPage:T.scrollByPage},this.scrollable)),this.domNode.appendChild(this.scrollableElement.getDomNode()),S.appendChild(this.domNode),this.scrollableElement.onScroll(this.onScroll,this,this.disposables),this.disposables.add((0,k.addDisposableListener)(this.rowsContainer,L.EventType.Change,se=>this.onTouchChange(se))),this.disposables.add((0,k.addDisposableListener)(this.scrollableElement.getDomNode(),"scroll",se=>se.target.scrollTop=0)),this.disposables.add((0,k.addDisposableListener)(this.domNode,"dragover",se=>this.onDragOver(this.toDragEvent(se)))),this.disposables.add((0,k.addDisposableListener)(this.domNode,"drop",se=>this.onDrop(this.toDragEvent(se)))),this.disposables.add((0,k.addDisposableListener)(this.domNode,"dragleave",se=>this.onDragLeave(this.toDragEvent(se)))),this.disposables.add((0,k.addDisposableListener)(this.domNode,"dragend",se=>this.onDragEnd(se))),this.setRowLineHeight=(B=T.setRowLineHeight)!==null&&B!==void 0?B:d.setRowLineHeight,this.setRowHeight=(H=T.setRowHeight)!==null&&H!==void 0?H:d.setRowHeight,this.supportDynamicHeights=(V=T.supportDynamicHeights)!==null&&V!==void 0?V:d.supportDynamicHeights,this.dnd=(q=T.dnd)!==null&&q!==void 0?q:this.disposables.add(d.dnd),this.layout((K=T.initialSize)===null||K===void 0?void 0:K.height,(U=T.initialSize)===null||U===void 0?void 0:U.width)}updateOptions(S){S.paddingBottom!==void 0&&(this.paddingBottom=S.paddingBottom,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),S.smoothScrolling!==void 0&&this.scrollable.setSmoothScrollDuration(S.smoothScrolling?125:0),S.horizontalScrolling!==void 0&&(this.horizontalScrolling=S.horizontalScrolling);let I;if(S.scrollByPage!==void 0&&(I={...I??{},scrollByPage:S.scrollByPage}),S.mouseWheelScrollSensitivity!==void 0&&(I={...I??{},mouseWheelScrollSensitivity:S.mouseWheelScrollSensitivity}),S.fastScrollSensitivity!==void 0&&(I={...I??{},fastScrollSensitivity:S.fastScrollSensitivity}),I&&this.scrollableElement.updateOptions(I),S.paddingTop!==void 0&&S.paddingTop!==this.rangeMap.paddingTop){const E=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),T=S.paddingTop-this.rangeMap.paddingTop;this.rangeMap.paddingTop=S.paddingTop,this.render(E,Math.max(0,this.lastRenderTop+T),this.lastRenderHeight,void 0,void 0,!0),this.setScrollTop(this.lastRenderTop),this.eventuallyUpdateScrollDimensions(),this.supportDynamicHeights&&this._rerender(this.lastRenderTop,this.lastRenderHeight)}}createRangeMap(S){return new t.RangeMap(S)}splice(S,I,E=[]){if(this.splicing)throw new Error("Can't run recursive splices.");this.splicing=!0;try{return this._splice(S,I,E)}finally{this.splicing=!1,this._onDidChangeContentHeight.fire(this.contentHeight)}}_splice(S,I,E=[]){const T=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),N={start:S,end:S+I},A=s.Range.intersect(T,N),O=new Map;for(let X=A.end-1;X>=A.start;X--){const Q=this.items[X];if(Q.dragStartDisposable.dispose(),Q.checkedDisposable.dispose(),Q.row){let Z=O.get(Q.templateId);Z||(Z=[],O.set(Q.templateId,Z));const ae=this.renderers.get(Q.templateId);ae&&ae.disposeElement&&ae.disposeElement(Q.element,X,Q.row.templateData,Q.size),Z.push(Q.row)}Q.row=null,Q.stale=!0}const M={start:S+I,end:this.items.length},P=s.Range.intersect(M,T),x=s.Range.relativeComplement(M,T),R=E.map(X=>({id:String(this.itemId++),element:X,templateId:this.virtualDelegate.getTemplateId(X),size:this.virtualDelegate.getHeight(X),width:void 0,hasDynamicHeight:!!this.virtualDelegate.hasDynamicHeight&&this.virtualDelegate.hasDynamicHeight(X),lastDynamicHeightWidth:void 0,row:null,uri:void 0,dropTarget:!1,dragStartDisposable:a.Disposable.None,checkedDisposable:a.Disposable.None,stale:!1}));let B;S===0&&I>=this.items.length?(this.rangeMap=this.createRangeMap(this.rangeMap.paddingTop),this.rangeMap.splice(0,0,R),B=this.items,this.items=R):(this.rangeMap.splice(S,I,R),B=this.items.splice(S,I,...R));const H=E.length-I,V=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),q=(0,t.shift)(P,H),K=s.Range.intersect(V,q);for(let X=K.start;X<K.end;X++)this.updateItemInDOM(this.items[X],X);const U=s.Range.relativeComplement(q,V);for(const X of U)for(let Q=X.start;Q<X.end;Q++)this.removeItemFromDOM(Q);const $=x.map(X=>(0,t.shift)(X,H)),F=[{start:S,end:S+E.length},...$].map(X=>s.Range.intersect(V,X)).reverse();for(const X of F)for(let Q=X.end-1;Q>=X.start;Q--){const Z=this.items[Q],ae=O.get(Z.templateId),ue=ae?.pop();this.insertItemInDOM(Q,ue)}for(const X of O.values())for(const Q of X)this.cache.release(Q);return this.eventuallyUpdateScrollDimensions(),this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight),B.map(X=>X.element)}eventuallyUpdateScrollDimensions(){this._scrollHeight=this.contentHeight,this.rowsContainer.style.height=`${this._scrollHeight}px`,this.scrollableElementUpdateDisposable||(this.scrollableElementUpdateDisposable=(0,k.scheduleAtNextAnimationFrame)((0,k.getWindow)(this.domNode),()=>{this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight}),this.updateScrollWidth(),this.scrollableElementUpdateDisposable=null}))}eventuallyUpdateScrollWidth(){if(!this.horizontalScrolling){this.scrollableElementWidthDelayer.cancel();return}this.scrollableElementWidthDelayer.trigger(()=>this.updateScrollWidth())}updateScrollWidth(){if(!this.horizontalScrolling)return;let S=0;for(const I of this.items)typeof I.width<"u"&&(S=Math.max(S,I.width));this.scrollWidth=S,this.scrollableElement.setScrollDimensions({scrollWidth:S===0?0:S+10}),this._onDidChangeContentWidth.fire(this.scrollWidth)}rerender(){if(this.supportDynamicHeights){for(const S of this.items)S.lastDynamicHeightWidth=void 0;this._rerender(this.lastRenderTop,this.lastRenderHeight)}}get length(){return this.items.length}get renderHeight(){return this.scrollableElement.getScrollDimensions().height}get firstVisibleIndex(){return this.getRenderRange(this.lastRenderTop,this.lastRenderHeight).start}element(S){return this.items[S].element}indexOf(S){return this.items.findIndex(I=>I.element===S)}domElement(S){const I=this.items[S].row;return I&&I.domNode}elementHeight(S){return this.items[S].size}elementTop(S){return this.rangeMap.positionAt(S)}indexAt(S){return this.rangeMap.indexAt(S)}indexAfter(S){return this.rangeMap.indexAfter(S)}layout(S,I){const E={height:typeof S=="number"?S:(0,k.getContentHeight)(this.domNode)};this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,E.scrollHeight=this.scrollHeight),this.scrollableElement.setScrollDimensions(E),typeof I<"u"&&(this.renderWidth=I,this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight)),this.horizontalScrolling&&this.scrollableElement.setScrollDimensions({width:typeof I=="number"?I:(0,k.getContentWidth)(this.domNode)})}render(S,I,E,T,N,A=!1){const O=this.getRenderRange(I,E),M=s.Range.relativeComplement(O,S).reverse(),P=s.Range.relativeComplement(S,O);if(A){const x=s.Range.intersect(S,O);for(let R=x.start;R<x.end;R++)this.updateItemInDOM(this.items[R],R)}this.cache.transact(()=>{for(const x of P)for(let R=x.start;R<x.end;R++)this.removeItemFromDOM(R);for(const x of M)for(let R=x.end-1;R>=x.start;R--)this.insertItemInDOM(R)}),T!==void 0&&(this.rowsContainer.style.left=`-${T}px`),this.rowsContainer.style.top=`-${I}px`,this.horizontalScrolling&&N!==void 0&&(this.rowsContainer.style.width=`${Math.max(N,this.renderWidth)}px`),this.lastRenderTop=I,this.lastRenderHeight=E}insertItemInDOM(S,I){var E,T,N;const A=this.items[S];if(!A.row)if(I)A.row=I,A.stale=!0;else{const R=this.cache.alloc(A.templateId);A.row=R.row,A.stale||(A.stale=R.isReusingConnectedDomNode)}const O=this.accessibilityProvider.getRole(A.element)||"listitem";A.row.domNode.setAttribute("role",O);const M=this.accessibilityProvider.isChecked(A.element);if(typeof M=="boolean")A.row.domNode.setAttribute("aria-checked",String(!!M));else if(M){const R=B=>A.row.domNode.setAttribute("aria-checked",String(!!B));R(M.value),A.checkedDisposable=M.onDidChange(R)}if(A.stale||!A.row.domNode.parentElement){const R=(N=(T=(E=this.items.at(S+1))===null||E===void 0?void 0:E.row)===null||T===void 0?void 0:T.domNode)!==null&&N!==void 0?N:null;this.rowsContainer.insertBefore(A.row.domNode,R),A.stale=!1}this.updateItemInDOM(A,S);const P=this.renderers.get(A.templateId);if(!P)throw new Error(`No renderer found for template id ${A.templateId}`);P?.renderElement(A.element,S,A.row.templateData,A.size);const x=this.dnd.getDragURI(A.element);A.dragStartDisposable.dispose(),A.row.domNode.draggable=!!x,x&&(A.dragStartDisposable=(0,k.addDisposableListener)(A.row.domNode,"dragstart",R=>this.onDragStart(A.element,x,R))),this.horizontalScrolling&&(this.measureItemWidth(A),this.eventuallyUpdateScrollWidth())}measureItemWidth(S){if(!S.row||!S.row.domNode)return;S.row.domNode.style.width="fit-content",S.width=(0,k.getContentWidth)(S.row.domNode);const I=(0,k.getWindow)(S.row.domNode).getComputedStyle(S.row.domNode);I.paddingLeft&&(S.width+=parseFloat(I.paddingLeft)),I.paddingRight&&(S.width+=parseFloat(I.paddingRight)),S.row.domNode.style.width=""}updateItemInDOM(S,I){S.row.domNode.style.top=`${this.elementTop(I)}px`,this.setRowHeight&&(S.row.domNode.style.height=`${S.size}px`),this.setRowLineHeight&&(S.row.domNode.style.lineHeight=`${S.size}px`),S.row.domNode.setAttribute("data-index",`${I}`),S.row.domNode.setAttribute("data-last-element",I===this.length-1?"true":"false"),S.row.domNode.setAttribute("data-parity",I%2===0?"even":"odd"),S.row.domNode.setAttribute("aria-setsize",String(this.accessibilityProvider.getSetSize(S.element,I,this.length))),S.row.domNode.setAttribute("aria-posinset",String(this.accessibilityProvider.getPosInSet(S.element,I))),S.row.domNode.setAttribute("id",this.getElementDomId(I)),S.row.domNode.classList.toggle("drop-target",S.dropTarget)}removeItemFromDOM(S){const I=this.items[S];if(I.dragStartDisposable.dispose(),I.checkedDisposable.dispose(),I.row){const E=this.renderers.get(I.templateId);E&&E.disposeElement&&E.disposeElement(I.element,S,I.row.templateData,I.size),this.cache.release(I.row),I.row=null}this.horizontalScrolling&&this.eventuallyUpdateScrollWidth()}getScrollTop(){return this.scrollableElement.getScrollPosition().scrollTop}setScrollTop(S,I){this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),this.scrollableElement.setScrollPosition({scrollTop:S,reuseAnimation:I})}get scrollTop(){return this.getScrollTop()}set scrollTop(S){this.setScrollTop(S)}get scrollHeight(){return this._scrollHeight+(this.horizontalScrolling?10:0)+this.paddingBottom}get onMouseClick(){return b.Event.map(this.disposables.add(new D.DomEmitter(this.domNode,"click")).event,S=>this.toMouseEvent(S),this.disposables)}get onMouseDblClick(){return b.Event.map(this.disposables.add(new D.DomEmitter(this.domNode,"dblclick")).event,S=>this.toMouseEvent(S),this.disposables)}get onMouseMiddleClick(){return b.Event.filter(b.Event.map(this.disposables.add(new D.DomEmitter(this.domNode,"auxclick")).event,S=>this.toMouseEvent(S),this.disposables),S=>S.browserEvent.button===1,this.disposables)}get onMouseDown(){return b.Event.map(this.disposables.add(new D.DomEmitter(this.domNode,"mousedown")).event,S=>this.toMouseEvent(S),this.disposables)}get onMouseOver(){return b.Event.map(this.disposables.add(new D.DomEmitter(this.domNode,"mouseover")).event,S=>this.toMouseEvent(S),this.disposables)}get onMouseOut(){return b.Event.map(this.disposables.add(new D.DomEmitter(this.domNode,"mouseout")).event,S=>this.toMouseEvent(S),this.disposables)}get onContextMenu(){return b.Event.any(b.Event.map(this.disposables.add(new D.DomEmitter(this.domNode,"contextmenu")).event,S=>this.toMouseEvent(S),this.disposables),b.Event.map(this.disposables.add(new D.DomEmitter(this.domNode,L.EventType.Contextmenu)).event,S=>this.toGestureEvent(S),this.disposables))}get onTouchStart(){return b.Event.map(this.disposables.add(new D.DomEmitter(this.domNode,"touchstart")).event,S=>this.toTouchEvent(S),this.disposables)}get onTap(){return b.Event.map(this.disposables.add(new D.DomEmitter(this.rowsContainer,L.EventType.Tap)).event,S=>this.toGestureEvent(S),this.disposables)}toMouseEvent(S){const I=this.getItemIndexFromEventTarget(S.target||null),E=typeof I>"u"?void 0:this.items[I],T=E&&E.element;return{browserEvent:S,index:I,element:T}}toTouchEvent(S){const I=this.getItemIndexFromEventTarget(S.target||null),E=typeof I>"u"?void 0:this.items[I],T=E&&E.element;return{browserEvent:S,index:I,element:T}}toGestureEvent(S){const I=this.getItemIndexFromEventTarget(S.initialTarget||null),E=typeof I>"u"?void 0:this.items[I],T=E&&E.element;return{browserEvent:S,index:I,element:T}}toDragEvent(S){const I=this.getItemIndexFromEventTarget(S.target||null),E=typeof I>"u"?void 0:this.items[I],T=E&&E.element,N=this.getTargetSector(S,I);return{browserEvent:S,index:I,element:T,sector:N}}onScroll(S){try{const I=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight);this.render(I,S.scrollTop,S.height,S.scrollLeft,S.scrollWidth),this.supportDynamicHeights&&this._rerender(S.scrollTop,S.height,S.inSmoothScrolling)}catch(I){throw console.error("Got bad scroll event:",S),I}}onTouchChange(S){S.preventDefault(),S.stopPropagation(),this.scrollTop-=S.translationY}onDragStart(S,I,E){var T,N;if(!E.dataTransfer)return;const A=this.dnd.getDragElements(S);if(E.dataTransfer.effectAllowed="copyMove",E.dataTransfer.setData(m.DataTransfers.TEXT,I),E.dataTransfer.setDragImage){let O;this.dnd.getDragLabel&&(O=this.dnd.getDragLabel(A,E)),typeof O>"u"&&(O=String(A.length));const M=(0,k.$)(".monaco-drag-image");M.textContent=O;const x=(R=>{for(;R&&!R.classList.contains("monaco-workbench");)R=R.parentElement;return R||this.domNode.ownerDocument})(this.domNode);x.appendChild(M),E.dataTransfer.setDragImage(M,-10,-10),setTimeout(()=>x.removeChild(M),0)}this.domNode.classList.add("dragging"),this.currentDragData=new r(A),u.CurrentDragAndDropData=new l(A),(N=(T=this.dnd).onDragStart)===null||N===void 0||N.call(T,this.currentDragData,E)}onDragOver(S){var I,E;if(S.browserEvent.preventDefault(),this.onDragLeaveTimeout.dispose(),u.CurrentDragAndDropData&&u.CurrentDragAndDropData.getData()==="vscode-ui"||(this.setupDragAndDropScrollTopAnimation(S.browserEvent),!S.browserEvent.dataTransfer))return!1;if(!this.currentDragData)if(u.CurrentDragAndDropData)this.currentDragData=u.CurrentDragAndDropData;else{if(!S.browserEvent.dataTransfer.types)return!1;this.currentDragData=new o}const T=this.dnd.onDragOver(this.currentDragData,S.element,S.index,S.sector,S.browserEvent);if(this.canDrop=typeof T=="boolean"?T:T.accept,!this.canDrop)return this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),!1;S.browserEvent.dataTransfer.dropEffect=typeof T!="boolean"&&((I=T.effect)===null||I===void 0?void 0:I.type)===0?"copy":"move";let N;typeof T!="boolean"&&T.feedback?N=T.feedback:typeof S.index>"u"?N=[-1]:N=[S.index],N=(0,p.distinct)(N).filter(O=>O>=-1&&O<this.length).sort((O,M)=>O-M),N=N[0]===-1?[-1]:N;let A=typeof T!="boolean"&&T.effect&&T.effect.position?T.effect.position:"drop-target";if(g(this.currentDragFeedback,N)&&this.currentDragFeedbackPosition===A)return!0;if(this.currentDragFeedback=N,this.currentDragFeedbackPosition=A,this.currentDragFeedbackDisposable.dispose(),N[0]===-1)this.domNode.classList.add(A),this.rowsContainer.classList.add(A),this.currentDragFeedbackDisposable=(0,a.toDisposable)(()=>{this.domNode.classList.remove(A),this.rowsContainer.classList.remove(A)});else{if(N.length>1&&A!=="drop-target")throw new Error("Can't use multiple feedbacks with position different than 'over'");A==="drop-target-after"&&N[0]<this.length-1&&(N[0]+=1,A="drop-target-before");for(const O of N){const M=this.items[O];M.dropTarget=!0,(E=M.row)===null||E===void 0||E.domNode.classList.add(A)}this.currentDragFeedbackDisposable=(0,a.toDisposable)(()=>{var O;for(const M of N){const P=this.items[M];P.dropTarget=!1,(O=P.row)===null||O===void 0||O.domNode.classList.remove(A)}})}return!0}onDragLeave(S){var I,E;this.onDragLeaveTimeout.dispose(),this.onDragLeaveTimeout=(0,w.disposableTimeout)(()=>this.clearDragOverFeedback(),100,this.disposables),this.currentDragData&&((E=(I=this.dnd).onDragLeave)===null||E===void 0||E.call(I,this.currentDragData,S.element,S.index,S.browserEvent))}onDrop(S){if(!this.canDrop)return;const I=this.currentDragData;this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.domNode.classList.remove("dragging"),this.currentDragData=void 0,u.CurrentDragAndDropData=void 0,!(!I||!S.browserEvent.dataTransfer)&&(S.browserEvent.preventDefault(),I.update(S.browserEvent.dataTransfer),this.dnd.drop(I,S.element,S.index,S.sector,S.browserEvent))}onDragEnd(S){var I,E;this.canDrop=!1,this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.domNode.classList.remove("dragging"),this.currentDragData=void 0,u.CurrentDragAndDropData=void 0,(E=(I=this.dnd).onDragEnd)===null||E===void 0||E.call(I,S)}clearDragOverFeedback(){this.currentDragFeedback=void 0,this.currentDragFeedbackPosition=void 0,this.currentDragFeedbackDisposable.dispose(),this.currentDragFeedbackDisposable=a.Disposable.None}setupDragAndDropScrollTopAnimation(S){if(!this.dragOverAnimationDisposable){const I=(0,k.getTopLeftOffset)(this.domNode).top;this.dragOverAnimationDisposable=(0,k.animate)((0,k.getWindow)(this.domNode),this.animateDragAndDropScrollTop.bind(this,I))}this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationStopDisposable=(0,w.disposableTimeout)(()=>{this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)},1e3,this.disposables),this.dragOverMouseY=S.pageY}animateDragAndDropScrollTop(S){if(this.dragOverMouseY===void 0)return;const I=this.dragOverMouseY-S,E=this.renderHeight-35;I<35?this.scrollTop+=Math.max(-14,Math.floor(.3*(I-35))):I>E&&(this.scrollTop+=Math.min(14,Math.floor(.3*(I-E))))}teardownDragAndDropScrollTopAnimation(){this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)}getTargetSector(S,I){if(I===void 0)return;const E=S.offsetY/this.items[I].size,T=Math.floor(E/.25);return(0,v.clamp)(T,0,3)}getItemIndexFromEventTarget(S){const I=this.scrollableElement.getDomNode();let E=S;for(;E instanceof HTMLElement&&E!==this.rowsContainer&&I.contains(E);){const T=E.getAttribute("data-index");if(T){const N=Number(T);if(!isNaN(N))return N}E=E.parentElement}}getRenderRange(S,I){return{start:this.rangeMap.indexAt(S),end:this.rangeMap.indexAfter(S+I-1)}}_rerender(S,I,E){const T=this.getRenderRange(S,I);let N,A;S===this.elementTop(T.start)?(N=T.start,A=0):T.end-T.start>1&&(N=T.start+1,A=this.elementTop(N)-S);let O=0;for(;;){const M=this.getRenderRange(S,I);let P=!1;for(let x=M.start;x<M.end;x++){const R=this.probeDynamicHeight(x);R!==0&&this.rangeMap.splice(x,1,[this.items[x]]),O+=R,P=P||R!==0}if(!P){O!==0&&this.eventuallyUpdateScrollDimensions();const x=s.Range.relativeComplement(T,M);for(const B of x)for(let H=B.start;H<B.end;H++)this.items[H].row&&this.removeItemFromDOM(H);const R=s.Range.relativeComplement(M,T).reverse();for(const B of R)for(let H=B.end-1;H>=B.start;H--)this.insertItemInDOM(H);for(let B=M.start;B<M.end;B++)this.items[B].row&&this.updateItemInDOM(this.items[B],B);if(typeof N=="number"){const B=this.scrollable.getFutureScrollPosition().scrollTop-S,H=this.elementTop(N)-A+B;this.setScrollTop(H,E)}this._onDidChangeContentHeight.fire(this.contentHeight);return}}}probeDynamicHeight(S){var I,E,T;const N=this.items[S];if(this.virtualDelegate.getDynamicHeight){const P=this.virtualDelegate.getDynamicHeight(N.element);if(P!==null){const x=N.size;return N.size=P,N.lastDynamicHeightWidth=this.renderWidth,P-x}}if(!N.hasDynamicHeight||N.lastDynamicHeightWidth===this.renderWidth||this.virtualDelegate.hasDynamicHeight&&!this.virtualDelegate.hasDynamicHeight(N.element))return 0;const A=N.size;if(N.row)return N.row.domNode.style.height="",N.size=N.row.domNode.offsetHeight,N.lastDynamicHeightWidth=this.renderWidth,N.size-A;const{row:O}=this.cache.alloc(N.templateId);O.domNode.style.height="",this.rowsContainer.appendChild(O.domNode);const M=this.renderers.get(N.templateId);if(!M)throw new h.BugIndicatingError("Missing renderer for templateId: "+N.templateId);return M.renderElement(N.element,S,O.templateData,void 0),N.size=O.domNode.offsetHeight,(I=M.disposeElement)===null||I===void 0||I.call(M,N.element,S,O.templateData,void 0),(T=(E=this.virtualDelegate).setDynamicHeight)===null||T===void 0||T.call(E,N.element,N.size),N.lastDynamicHeightWidth=this.renderWidth,this.rowsContainer.removeChild(O.domNode),this.cache.release(O),N.size-A}getElementDomId(S){return`${this.domId}_${S}`}dispose(){var S,I;for(const E of this.items)if(E.dragStartDisposable.dispose(),E.checkedDisposable.dispose(),E.row){const T=this.renderers.get(E.row.templateId);T&&((S=T.disposeElement)===null||S===void 0||S.call(T,E.element,-1,E.row.templateData,void 0),T.disposeTemplate(E.row.templateData))}this.items=[],this.domNode&&this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),(I=this.dragOverAnimationDisposable)===null||I===void 0||I.dispose(),this.disposables.dispose()}}e.ListView=f,f.InstanceCount=0,Ie([C.memoize],f.prototype,"onMouseClick",null),Ie([C.memoize],f.prototype,"onMouseDblClick",null),Ie([C.memoize],f.prototype,"onMouseMiddleClick",null),Ie([C.memoize],f.prototype,"onMouseDown",null),Ie([C.memoize],f.prototype,"onMouseOver",null),Ie([C.memoize],f.prototype,"onMouseOut",null),Ie([C.memoize],f.prototype,"onContextMenu",null),Ie([C.memoize],f.prototype,"onTouchStart",null),Ie([C.memoize],f.prototype,"onTap",null)}),define(te[109],ie([1,0,6,88,48,67,45,416,13,15,34,118,7,76,2,134,17,21,415,244,72,293]),function(J,e,m,k,D,L,y,p,w,C,b,a,s,i,t,n,h,v,u,d,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.List=e.unthemedListStyles=e.DefaultStyleController=e.MouseController=e.DefaultKeyboardNavigationDelegate=e.TypeNavigationMode=void 0,e.isInputElement=f,e.isMonacoEditor=S,e.isMonacoCustomToggle=I,e.isActionItem=E,e.isStickyScrollElement=T,e.isStickyScrollContainer=N,e.isButton=A,e.isSelectionSingleChangeEvent=B,e.isSelectionRangeChangeEvent=H;class l{constructor(re){this.trait=re,this.renderedElements=[]}get templateId(){return`template:${this.trait.name}`}renderTemplate(re){return re}renderElement(re,de,ee){const W=this.renderedElements.findIndex(z=>z.templateData===ee);if(W>=0){const z=this.renderedElements[W];this.trait.unrender(ee),z.index=de}else{const z={index:de,templateData:ee};this.renderedElements.push(z)}this.trait.renderIndex(de,ee)}splice(re,de,ee){const W=[];for(const z of this.renderedElements)z.index<re?W.push(z):z.index>=re+de&&W.push({index:z.index+ee-de,templateData:z.templateData});this.renderedElements=W}renderIndexes(re){for(const{index:de,templateData:ee}of this.renderedElements)re.indexOf(de)>-1&&this.trait.renderIndex(de,ee)}disposeTemplate(re){const de=this.renderedElements.findIndex(ee=>ee.templateData===re);de<0||this.renderedElements.splice(de,1)}}class o{get name(){return this._trait}get renderer(){return new l(this)}constructor(re){this._trait=re,this.indexes=[],this.sortedIndexes=[],this._onChange=new s.Emitter,this.onChange=this._onChange.event}splice(re,de,ee){const W=ee.length-de,z=re+de,Y=[];let j=0;for(;j<this.sortedIndexes.length&&this.sortedIndexes[j]<re;)Y.push(this.sortedIndexes[j++]);for(let G=0;G<ee.length;G++)ee[G]&&Y.push(G+re);for(;j<this.sortedIndexes.length&&this.sortedIndexes[j]>=z;)Y.push(this.sortedIndexes[j++]+W);this.renderer.splice(re,de,ee.length),this._set(Y,Y)}renderIndex(re,de){de.classList.toggle(this._trait,this.contains(re))}unrender(re){re.classList.remove(this._trait)}set(re,de){return this._set(re,[...re].sort(Q),de)}_set(re,de,ee){const W=this.indexes,z=this.sortedIndexes;this.indexes=re,this.sortedIndexes=de;const Y=F(z,re);return this.renderer.renderIndexes(Y),this._onChange.fire({indexes:re,browserEvent:ee}),W}get(){return this.indexes}contains(re){return(0,w.binarySearch)(this.sortedIndexes,re,Q)>=0}dispose(){(0,t.dispose)(this._onChange)}}Ie([a.memoize],o.prototype,"renderer",null);class g extends o{constructor(re){super("selected"),this.setAriaSelected=re}renderIndex(re,de){super.renderIndex(re,de),this.setAriaSelected&&(this.contains(re)?de.setAttribute("aria-selected","true"):de.setAttribute("aria-selected","false"))}}class c{constructor(re,de,ee){this.trait=re,this.view=de,this.identityProvider=ee}splice(re,de,ee){if(!this.identityProvider)return this.trait.splice(re,de,new Array(ee.length).fill(!1));const W=this.trait.get().map(j=>this.identityProvider.getId(this.view.element(j)).toString());if(W.length===0)return this.trait.splice(re,de,new Array(ee.length).fill(!1));const z=new Set(W),Y=ee.map(j=>z.has(this.identityProvider.getId(j).toString()));this.trait.splice(re,de,Y)}}function f(fe){return fe.tagName==="INPUT"||fe.tagName==="TEXTAREA"}function _(fe,re){return fe.classList.contains(re)?!0:fe.classList.contains("monaco-list")||!fe.parentElement?!1:_(fe.parentElement,re)}function S(fe){return _(fe,"monaco-editor")}function I(fe){return _(fe,"monaco-custom-toggle")}function E(fe){return _(fe,"action-item")}function T(fe){return _(fe,"monaco-tree-sticky-row")}function N(fe){return fe.classList.contains("monaco-tree-sticky-container")}function A(fe){return fe.tagName==="A"&&fe.classList.contains("monaco-button")||fe.tagName==="DIV"&&fe.classList.contains("monaco-button-dropdown")?!0:fe.classList.contains("monaco-list")||!fe.parentElement?!1:A(fe.parentElement)}class O{get onKeyDown(){return s.Event.chain(this.disposables.add(new k.DomEmitter(this.view.domNode,"keydown")).event,re=>re.filter(de=>!f(de.target)).map(de=>new D.StandardKeyboardEvent(de)))}constructor(re,de,ee){this.list=re,this.view=de,this.disposables=new t.DisposableStore,this.multipleSelectionDisposables=new t.DisposableStore,this.multipleSelectionSupport=ee.multipleSelectionSupport,this.disposables.add(this.onKeyDown(W=>{switch(W.keyCode){case 3:return this.onEnter(W);case 16:return this.onUpArrow(W);case 18:return this.onDownArrow(W);case 11:return this.onPageUpArrow(W);case 12:return this.onPageDownArrow(W);case 9:return this.onEscape(W);case 31:this.multipleSelectionSupport&&(h.isMacintosh?W.metaKey:W.ctrlKey)&&this.onCtrlA(W)}}))}updateOptions(re){re.multipleSelectionSupport!==void 0&&(this.multipleSelectionSupport=re.multipleSelectionSupport)}onEnter(re){re.preventDefault(),re.stopPropagation(),this.list.setSelection(this.list.getFocus(),re.browserEvent)}onUpArrow(re){re.preventDefault(),re.stopPropagation(),this.list.focusPrevious(1,!1,re.browserEvent);const de=this.list.getFocus()[0];this.list.setAnchor(de),this.list.reveal(de),this.view.domNode.focus()}onDownArrow(re){re.preventDefault(),re.stopPropagation(),this.list.focusNext(1,!1,re.browserEvent);const de=this.list.getFocus()[0];this.list.setAnchor(de),this.list.reveal(de),this.view.domNode.focus()}onPageUpArrow(re){re.preventDefault(),re.stopPropagation(),this.list.focusPreviousPage(re.browserEvent);const de=this.list.getFocus()[0];this.list.setAnchor(de),this.list.reveal(de),this.view.domNode.focus()}onPageDownArrow(re){re.preventDefault(),re.stopPropagation(),this.list.focusNextPage(re.browserEvent);const de=this.list.getFocus()[0];this.list.setAnchor(de),this.list.reveal(de),this.view.domNode.focus()}onCtrlA(re){re.preventDefault(),re.stopPropagation(),this.list.setSelection((0,w.range)(this.list.length),re.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus()}onEscape(re){this.list.getSelection().length&&(re.preventDefault(),re.stopPropagation(),this.list.setSelection([],re.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus())}dispose(){this.disposables.dispose(),this.multipleSelectionDisposables.dispose()}}Ie([a.memoize],O.prototype,"onKeyDown",null);var M;(function(fe){fe[fe.Automatic=0]="Automatic",fe[fe.Trigger=1]="Trigger"})(M||(e.TypeNavigationMode=M={}));var P;(function(fe){fe[fe.Idle=0]="Idle",fe[fe.Typing=1]="Typing"})(P||(P={})),e.DefaultKeyboardNavigationDelegate=new class{mightProducePrintableCharacter(fe){return fe.ctrlKey||fe.metaKey||fe.altKey?!1:fe.keyCode>=31&&fe.keyCode<=56||fe.keyCode>=21&&fe.keyCode<=30||fe.keyCode>=98&&fe.keyCode<=107||fe.keyCode>=85&&fe.keyCode<=95}};class x{constructor(re,de,ee,W,z){this.list=re,this.view=de,this.keyboardNavigationLabelProvider=ee,this.keyboardNavigationEventFilter=W,this.delegate=z,this.enabled=!1,this.state=P.Idle,this.mode=M.Automatic,this.triggered=!1,this.previouslyFocused=-1,this.enabledDisposables=new t.DisposableStore,this.disposables=new t.DisposableStore,this.updateOptions(re.options)}updateOptions(re){var de,ee;!((de=re.typeNavigationEnabled)!==null&&de!==void 0)||de?this.enable():this.disable(),this.mode=(ee=re.typeNavigationMode)!==null&&ee!==void 0?ee:M.Automatic}enable(){if(this.enabled)return;let re=!1;const de=s.Event.chain(this.enabledDisposables.add(new k.DomEmitter(this.view.domNode,"keydown")).event,z=>z.filter(Y=>!f(Y.target)).filter(()=>this.mode===M.Automatic||this.triggered).map(Y=>new D.StandardKeyboardEvent(Y)).filter(Y=>re||this.keyboardNavigationEventFilter(Y)).filter(Y=>this.delegate.mightProducePrintableCharacter(Y)).forEach(Y=>m.EventHelper.stop(Y,!0)).map(Y=>Y.browserEvent.key)),ee=s.Event.debounce(de,()=>null,800,void 0,void 0,void 0,this.enabledDisposables);s.Event.reduce(s.Event.any(de,ee),(z,Y)=>Y===null?null:(z||"")+Y,void 0,this.enabledDisposables)(this.onInput,this,this.enabledDisposables),ee(this.onClear,this,this.enabledDisposables),de(()=>re=!0,void 0,this.enabledDisposables),ee(()=>re=!1,void 0,this.enabledDisposables),this.enabled=!0,this.triggered=!1}disable(){this.enabled&&(this.enabledDisposables.clear(),this.enabled=!1,this.triggered=!1)}onClear(){var re;const de=this.list.getFocus();if(de.length>0&&de[0]===this.previouslyFocused){const ee=(re=this.list.options.accessibilityProvider)===null||re===void 0?void 0:re.getAriaLabel(this.list.element(de[0]));ee&&(0,y.alert)(ee)}this.previouslyFocused=-1}onInput(re){if(!re){this.state=P.Idle,this.triggered=!1;return}const de=this.list.getFocus(),ee=de.length>0?de[0]:0,W=this.state===P.Idle?1:0;this.state=P.Typing;for(let z=0;z<this.list.length;z++){const Y=(ee+z+W)%this.list.length,j=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(this.view.element(Y)),G=j&&j.toString();if(this.list.options.typeNavigationEnabled){if(typeof G<"u"){if((0,i.matchesPrefix)(re,G)){this.previouslyFocused=ee,this.list.setFocus([Y]),this.list.reveal(Y);return}const oe=(0,i.matchesFuzzy2)(re,G);if(oe&&oe[0].end-oe[0].start>1&&oe.length===1){this.previouslyFocused=ee,this.list.setFocus([Y]),this.list.reveal(Y);return}}}else if(typeof G>"u"||(0,i.matchesPrefix)(re,G)){this.previouslyFocused=ee,this.list.setFocus([Y]),this.list.reveal(Y);return}}}dispose(){this.disable(),this.enabledDisposables.dispose(),this.disposables.dispose()}}class R{constructor(re,de){this.list=re,this.view=de,this.disposables=new t.DisposableStore;const ee=s.Event.chain(this.disposables.add(new k.DomEmitter(de.domNode,"keydown")).event,z=>z.filter(Y=>!f(Y.target)).map(Y=>new D.StandardKeyboardEvent(Y)));s.Event.chain(ee,z=>z.filter(Y=>Y.keyCode===2&&!Y.ctrlKey&&!Y.metaKey&&!Y.shiftKey&&!Y.altKey))(this.onTab,this,this.disposables)}onTab(re){if(re.target!==this.view.domNode)return;const de=this.list.getFocus();if(de.length===0)return;const ee=this.view.domElement(de[0]);if(!ee)return;const W=ee.querySelector("[tabIndex]");if(!W||!(W instanceof HTMLElement)||W.tabIndex===-1)return;const z=(0,m.getWindow)(W).getComputedStyle(W);z.visibility==="hidden"||z.display==="none"||(re.preventDefault(),re.stopPropagation(),W.focus())}dispose(){this.disposables.dispose()}}function B(fe){return h.isMacintosh?fe.browserEvent.metaKey:fe.browserEvent.ctrlKey}function H(fe){return fe.browserEvent.shiftKey}function V(fe){return(0,m.isMouseEvent)(fe)&&fe.button===2}const q={isSelectionSingleChangeEvent:B,isSelectionRangeChangeEvent:H};class K{constructor(re){this.list=re,this.disposables=new t.DisposableStore,this._onPointer=new s.Emitter,this.onPointer=this._onPointer.event,re.options.multipleSelectionSupport!==!1&&(this.multipleSelectionController=this.list.options.multipleSelectionController||q),this.mouseSupport=typeof re.options.mouseSupport>"u"||!!re.options.mouseSupport,this.mouseSupport&&(re.onMouseDown(this.onMouseDown,this,this.disposables),re.onContextMenu(this.onContextMenu,this,this.disposables),re.onMouseDblClick(this.onDoubleClick,this,this.disposables),re.onTouchStart(this.onMouseDown,this,this.disposables),this.disposables.add(L.Gesture.addTarget(re.getHTMLElement()))),s.Event.any(re.onMouseClick,re.onMouseMiddleClick,re.onTap)(this.onViewPointer,this,this.disposables)}updateOptions(re){re.multipleSelectionSupport!==void 0&&(this.multipleSelectionController=void 0,re.multipleSelectionSupport&&(this.multipleSelectionController=this.list.options.multipleSelectionController||q))}isSelectionSingleChangeEvent(re){return this.multipleSelectionController?this.multipleSelectionController.isSelectionSingleChangeEvent(re):!1}isSelectionRangeChangeEvent(re){return this.multipleSelectionController?this.multipleSelectionController.isSelectionRangeChangeEvent(re):!1}isSelectionChangeEvent(re){return this.isSelectionSingleChangeEvent(re)||this.isSelectionRangeChangeEvent(re)}onMouseDown(re){S(re.browserEvent.target)||(0,m.getActiveElement)()!==re.browserEvent.target&&this.list.domFocus()}onContextMenu(re){if(f(re.browserEvent.target)||S(re.browserEvent.target))return;const de=typeof re.index>"u"?[]:[re.index];this.list.setFocus(de,re.browserEvent)}onViewPointer(re){if(!this.mouseSupport||f(re.browserEvent.target)||S(re.browserEvent.target)||re.browserEvent.isHandledByList)return;re.browserEvent.isHandledByList=!0;const de=re.index;if(typeof de>"u"){this.list.setFocus([],re.browserEvent),this.list.setSelection([],re.browserEvent),this.list.setAnchor(void 0);return}if(this.isSelectionChangeEvent(re))return this.changeSelection(re);this.list.setFocus([de],re.browserEvent),this.list.setAnchor(de),V(re.browserEvent)||this.list.setSelection([de],re.browserEvent),this._onPointer.fire(re)}onDoubleClick(re){if(f(re.browserEvent.target)||S(re.browserEvent.target)||this.isSelectionChangeEvent(re)||re.browserEvent.isHandledByList)return;re.browserEvent.isHandledByList=!0;const de=this.list.getFocus();this.list.setSelection(de,re.browserEvent)}changeSelection(re){const de=re.index;let ee=this.list.getAnchor();if(this.isSelectionRangeChangeEvent(re)){if(typeof ee>"u"){const ne=this.list.getFocus()[0];ee=ne??de,this.list.setAnchor(ee)}const W=Math.min(ee,de),z=Math.max(ee,de),Y=(0,w.range)(W,z+1),j=this.list.getSelection(),G=se(F(j,[ee]),ee);if(G.length===0)return;const oe=F(Y,X(j,G));this.list.setSelection(oe,re.browserEvent),this.list.setFocus([de],re.browserEvent)}else if(this.isSelectionSingleChangeEvent(re)){const W=this.list.getSelection(),z=W.filter(Y=>Y!==de);this.list.setFocus([de]),this.list.setAnchor(de),W.length===z.length?this.list.setSelection([...z,de],re.browserEvent):this.list.setSelection(z,re.browserEvent)}}dispose(){this.disposables.dispose()}}e.MouseController=K;class U{constructor(re,de){this.styleElement=re,this.selectorSuffix=de}style(re){var de,ee;const W=this.selectorSuffix&&`.${this.selectorSuffix}`,z=[];re.listBackground&&z.push(`.monaco-list${W} .monaco-list-rows { background: ${re.listBackground}; }`),re.listFocusBackground&&(z.push(`.monaco-list${W}:focus .monaco-list-row.focused { background-color: ${re.listFocusBackground}; }`),z.push(`.monaco-list${W}:focus .monaco-list-row.focused:hover { background-color: ${re.listFocusBackground}; }`)),re.listFocusForeground&&z.push(`.monaco-list${W}:focus .monaco-list-row.focused { color: ${re.listFocusForeground}; }`),re.listActiveSelectionBackground&&(z.push(`.monaco-list${W}:focus .monaco-list-row.selected { background-color: ${re.listActiveSelectionBackground}; }`),z.push(`.monaco-list${W}:focus .monaco-list-row.selected:hover { background-color: ${re.listActiveSelectionBackground}; }`)),re.listActiveSelectionForeground&&z.push(`.monaco-list${W}:focus .monaco-list-row.selected { color: ${re.listActiveSelectionForeground}; }`),re.listActiveSelectionIconForeground&&z.push(`.monaco-list${W}:focus .monaco-list-row.selected .codicon { color: ${re.listActiveSelectionIconForeground}; }`),re.listFocusAndSelectionBackground&&z.push(`
				.monaco-drag-image,
				.monaco-list${W}:focus .monaco-list-row.selected.focused { background-color: ${re.listFocusAndSelectionBackground}; }
			`),re.listFocusAndSelectionForeground&&z.push(`
				.monaco-drag-image,
				.monaco-list${W}:focus .monaco-list-row.selected.focused { color: ${re.listFocusAndSelectionForeground}; }
			`),re.listInactiveFocusForeground&&(z.push(`.monaco-list${W} .monaco-list-row.focused { color:  ${re.listInactiveFocusForeground}; }`),z.push(`.monaco-list${W} .monaco-list-row.focused:hover { color:  ${re.listInactiveFocusForeground}; }`)),re.listInactiveSelectionIconForeground&&z.push(`.monaco-list${W} .monaco-list-row.focused .codicon { color:  ${re.listInactiveSelectionIconForeground}; }`),re.listInactiveFocusBackground&&(z.push(`.monaco-list${W} .monaco-list-row.focused { background-color:  ${re.listInactiveFocusBackground}; }`),z.push(`.monaco-list${W} .monaco-list-row.focused:hover { background-color:  ${re.listInactiveFocusBackground}; }`)),re.listInactiveSelectionBackground&&(z.push(`.monaco-list${W} .monaco-list-row.selected { background-color:  ${re.listInactiveSelectionBackground}; }`),z.push(`.monaco-list${W} .monaco-list-row.selected:hover { background-color:  ${re.listInactiveSelectionBackground}; }`)),re.listInactiveSelectionForeground&&z.push(`.monaco-list${W} .monaco-list-row.selected { color: ${re.listInactiveSelectionForeground}; }`),re.listHoverBackground&&z.push(`.monaco-list${W}:not(.drop-target):not(.dragging) .monaco-list-row:hover:not(.selected):not(.focused) { background-color: ${re.listHoverBackground}; }`),re.listHoverForeground&&z.push(`.monaco-list${W}:not(.drop-target):not(.dragging) .monaco-list-row:hover:not(.selected):not(.focused) { color:  ${re.listHoverForeground}; }`);const Y=(0,m.asCssValueWithDefault)(re.listFocusAndSelectionOutline,(0,m.asCssValueWithDefault)(re.listSelectionOutline,(de=re.listFocusOutline)!==null&&de!==void 0?de:""));Y&&z.push(`.monaco-list${W}:focus .monaco-list-row.focused.selected { outline: 1px solid ${Y}; outline-offset: -1px;}`),re.listFocusOutline&&z.push(`
				.monaco-drag-image,
				.monaco-list${W}:focus .monaco-list-row.focused { outline: 1px solid ${re.listFocusOutline}; outline-offset: -1px; }
				.monaco-workbench.context-menu-visible .monaco-list${W}.last-focused .monaco-list-row.focused { outline: 1px solid ${re.listFocusOutline}; outline-offset: -1px; }
			`);const j=(0,m.asCssValueWithDefault)(re.listSelectionOutline,(ee=re.listInactiveFocusOutline)!==null&&ee!==void 0?ee:"");j&&z.push(`.monaco-list${W} .monaco-list-row.focused.selected { outline: 1px dotted ${j}; outline-offset: -1px; }`),re.listSelectionOutline&&z.push(`.monaco-list${W} .monaco-list-row.selected { outline: 1px dotted ${re.listSelectionOutline}; outline-offset: -1px; }`),re.listInactiveFocusOutline&&z.push(`.monaco-list${W} .monaco-list-row.focused { outline: 1px dotted ${re.listInactiveFocusOutline}; outline-offset: -1px; }`),re.listHoverOutline&&z.push(`.monaco-list${W} .monaco-list-row:hover { outline: 1px dashed ${re.listHoverOutline}; outline-offset: -1px; }`),re.listDropOverBackground&&z.push(`
				.monaco-list${W}.drop-target,
				.monaco-list${W} .monaco-list-rows.drop-target,
				.monaco-list${W} .monaco-list-row.drop-target { background-color: ${re.listDropOverBackground} !important; color: inherit !important; }
			`),re.listDropBetweenBackground&&(z.push(`
			.monaco-list${W} .monaco-list-rows.drop-target-before .monaco-list-row:first-child::before,
			.monaco-list${W} .monaco-list-row.drop-target-before::before {
				content: ""; position: absolute; top: 0px; left: 0px; width: 100%; height: 1px;
				background-color: ${re.listDropBetweenBackground};
			}`),z.push(`
			.monaco-list${W} .monaco-list-rows.drop-target-after .monaco-list-row:last-child::after,
			.monaco-list${W} .monaco-list-row.drop-target-after::after {
				content: ""; position: absolute; bottom: 0px; left: 0px; width: 100%; height: 1px;
				background-color: ${re.listDropBetweenBackground};
			}`)),re.tableColumnsBorder&&z.push(`
				.monaco-table > .monaco-split-view2,
				.monaco-table > .monaco-split-view2 .monaco-sash.vertical::before,
				.monaco-workbench:not(.reduce-motion) .monaco-table:hover > .monaco-split-view2,
				.monaco-workbench:not(.reduce-motion) .monaco-table:hover > .monaco-split-view2 .monaco-sash.vertical::before {
					border-color: ${re.tableColumnsBorder};
				}

				.monaco-workbench:not(.reduce-motion) .monaco-table > .monaco-split-view2,
				.monaco-workbench:not(.reduce-motion) .monaco-table > .monaco-split-view2 .monaco-sash.vertical::before {
					border-color: transparent;
				}
			`),re.tableOddRowsBackgroundColor&&z.push(`
				.monaco-table .monaco-list-row[data-parity=odd]:not(.focused):not(.selected):not(:hover) .monaco-table-tr,
				.monaco-table .monaco-list:not(:focus) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr,
				.monaco-table .monaco-list:not(.focused) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr {
					background-color: ${re.tableOddRowsBackgroundColor};
				}
			`),this.styleElement.textContent=z.join(`
`)}}e.DefaultStyleController=U,e.unthemedListStyles={listFocusBackground:"#7FB0D0",listActiveSelectionBackground:"#0E639C",listActiveSelectionForeground:"#FFFFFF",listActiveSelectionIconForeground:"#FFFFFF",listFocusAndSelectionOutline:"#90C2F9",listFocusAndSelectionBackground:"#094771",listFocusAndSelectionForeground:"#FFFFFF",listInactiveSelectionBackground:"#3F3F46",listInactiveSelectionIconForeground:"#FFFFFF",listHoverBackground:"#2A2D2E",listDropOverBackground:"#383B3D",listDropBetweenBackground:"#EEEEEE",treeIndentGuidesStroke:"#a9a9a9",treeInactiveIndentGuidesStroke:b.Color.fromHex("#a9a9a9").transparent(.4).toString(),tableColumnsBorder:b.Color.fromHex("#cccccc").transparent(.2).toString(),tableOddRowsBackgroundColor:b.Color.fromHex("#cccccc").transparent(.04).toString(),listBackground:void 0,listFocusForeground:void 0,listInactiveSelectionForeground:void 0,listInactiveFocusForeground:void 0,listInactiveFocusBackground:void 0,listHoverForeground:void 0,listFocusOutline:void 0,listInactiveFocusOutline:void 0,listSelectionOutline:void 0,listHoverOutline:void 0};const $={keyboardSupport:!0,mouseSupport:!0,multipleSelectionSupport:!0,dnd:{getDragURI(){return null},onDragStart(){},onDragOver(){return!1},drop(){},dispose(){}}};function se(fe,re){const de=fe.indexOf(re);if(de===-1)return[];const ee=[];let W=de-1;for(;W>=0&&fe[W]===re-(de-W);)ee.push(fe[W--]);for(ee.reverse(),W=de;W<fe.length&&fe[W]===re+(W-de);)ee.push(fe[W++]);return ee}function F(fe,re){const de=[];let ee=0,W=0;for(;ee<fe.length||W<re.length;)if(ee>=fe.length)de.push(re[W++]);else if(W>=re.length)de.push(fe[ee++]);else if(fe[ee]===re[W]){de.push(fe[ee]),ee++,W++;continue}else fe[ee]<re[W]?de.push(fe[ee++]):de.push(re[W++]);return de}function X(fe,re){const de=[];let ee=0,W=0;for(;ee<fe.length||W<re.length;)if(ee>=fe.length)de.push(re[W++]);else if(W>=re.length)de.push(fe[ee++]);else if(fe[ee]===re[W]){ee++,W++;continue}else fe[ee]<re[W]?de.push(fe[ee++]):W++;return de}const Q=(fe,re)=>fe-re;class Z{constructor(re,de){this._templateId=re,this.renderers=de}get templateId(){return this._templateId}renderTemplate(re){return this.renderers.map(de=>de.renderTemplate(re))}renderElement(re,de,ee,W){let z=0;for(const Y of this.renderers)Y.renderElement(re,de,ee[z++],W)}disposeElement(re,de,ee,W){var z;let Y=0;for(const j of this.renderers)(z=j.disposeElement)===null||z===void 0||z.call(j,re,de,ee[Y],W),Y+=1}disposeTemplate(re){let de=0;for(const ee of this.renderers)ee.disposeTemplate(re[de++])}}class ae{constructor(re){this.accessibilityProvider=re,this.templateId="a18n"}renderTemplate(re){return re}renderElement(re,de,ee){const W=this.accessibilityProvider.getAriaLabel(re);W?ee.setAttribute("aria-label",W):ee.removeAttribute("aria-label");const z=this.accessibilityProvider.getAriaLevel&&this.accessibilityProvider.getAriaLevel(re);typeof z=="number"?ee.setAttribute("aria-level",`${z}`):ee.removeAttribute("aria-level")}disposeTemplate(re){}}class ue{constructor(re,de){this.list=re,this.dnd=de}getDragElements(re){const de=this.list.getSelectedElements();return de.indexOf(re)>-1?de:[re]}getDragURI(re){return this.dnd.getDragURI(re)}getDragLabel(re,de){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(re,de)}onDragStart(re,de){var ee,W;(W=(ee=this.dnd).onDragStart)===null||W===void 0||W.call(ee,re,de)}onDragOver(re,de,ee,W,z){return this.dnd.onDragOver(re,de,ee,W,z)}onDragLeave(re,de,ee,W){var z,Y;(Y=(z=this.dnd).onDragLeave)===null||Y===void 0||Y.call(z,re,de,ee,W)}onDragEnd(re){var de,ee;(ee=(de=this.dnd).onDragEnd)===null||ee===void 0||ee.call(de,re)}drop(re,de,ee,W,z){this.dnd.drop(re,de,ee,W,z)}dispose(){this.dnd.dispose()}}class ge{get onDidChangeFocus(){return s.Event.map(this.eventBufferer.wrapEvent(this.focus.onChange),re=>this.toListEvent(re),this.disposables)}get onDidChangeSelection(){return s.Event.map(this.eventBufferer.wrapEvent(this.selection.onChange),re=>this.toListEvent(re),this.disposables)}get domId(){return this.view.domId}get onDidScroll(){return this.view.onDidScroll}get onMouseClick(){return this.view.onMouseClick}get onMouseDblClick(){return this.view.onMouseDblClick}get onMouseMiddleClick(){return this.view.onMouseMiddleClick}get onPointer(){return this.mouseController.onPointer}get onMouseDown(){return this.view.onMouseDown}get onMouseOver(){return this.view.onMouseOver}get onMouseOut(){return this.view.onMouseOut}get onTouchStart(){return this.view.onTouchStart}get onTap(){return this.view.onTap}get onContextMenu(){let re=!1;const de=s.Event.chain(this.disposables.add(new k.DomEmitter(this.view.domNode,"keydown")).event,z=>z.map(Y=>new D.StandardKeyboardEvent(Y)).filter(Y=>re=Y.keyCode===58||Y.shiftKey&&Y.keyCode===68).map(Y=>m.EventHelper.stop(Y,!0)).filter(()=>!1)),ee=s.Event.chain(this.disposables.add(new k.DomEmitter(this.view.domNode,"keyup")).event,z=>z.forEach(()=>re=!1).map(Y=>new D.StandardKeyboardEvent(Y)).filter(Y=>Y.keyCode===58||Y.shiftKey&&Y.keyCode===68).map(Y=>m.EventHelper.stop(Y,!0)).map(({browserEvent:Y})=>{const j=this.getFocus(),G=j.length?j[0]:void 0,oe=typeof G<"u"?this.view.element(G):void 0,ne=typeof G<"u"?this.view.domElement(G):this.view.domNode;return{index:G,element:oe,anchor:ne,browserEvent:Y}})),W=s.Event.chain(this.view.onContextMenu,z=>z.filter(Y=>!re).map(({element:Y,index:j,browserEvent:G})=>({element:Y,index:j,anchor:new r.StandardMouseEvent((0,m.getWindow)(this.view.domNode),G),browserEvent:G})));return s.Event.any(de,ee,W)}get onKeyDown(){return this.disposables.add(new k.DomEmitter(this.view.domNode,"keydown")).event}get onDidFocus(){return s.Event.signal(this.disposables.add(new k.DomEmitter(this.view.domNode,"focus",!0)).event)}get onDidBlur(){return s.Event.signal(this.disposables.add(new k.DomEmitter(this.view.domNode,"blur",!0)).event)}constructor(re,de,ee,W,z=$){var Y,j,G,oe;this.user=re,this._options=z,this.focus=new o("focused"),this.anchor=new o("anchor"),this.eventBufferer=new s.EventBufferer,this._ariaLabel="",this.disposables=new t.DisposableStore,this._onDidDispose=new s.Emitter,this.onDidDispose=this._onDidDispose.event;const ne=this._options.accessibilityProvider&&this._options.accessibilityProvider.getWidgetRole?(Y=this._options.accessibilityProvider)===null||Y===void 0?void 0:Y.getWidgetRole():"list";this.selection=new g(ne!=="listbox");const ce=[this.focus.renderer,this.selection.renderer];this.accessibilityProvider=z.accessibilityProvider,this.accessibilityProvider&&(ce.push(new ae(this.accessibilityProvider)),(G=(j=this.accessibilityProvider).onDidChangeActiveDescendant)===null||G===void 0||G.call(j,this.onDidChangeActiveDescendant,this,this.disposables)),W=W.map(me=>new Z(me.templateId,[...ce,me]));const le={...z,dnd:z.dnd&&new ue(this,z.dnd)};if(this.view=this.createListView(de,ee,W,le),this.view.domNode.setAttribute("role",ne),z.styleController)this.styleController=z.styleController(this.view.domId);else{const me=(0,m.createStyleSheet)(this.view.domNode);this.styleController=new U(me,this.view.domId)}if(this.spliceable=new p.CombinedSpliceable([new c(this.focus,this.view,z.identityProvider),new c(this.selection,this.view,z.identityProvider),new c(this.anchor,this.view,z.identityProvider),this.view]),this.disposables.add(this.focus),this.disposables.add(this.selection),this.disposables.add(this.anchor),this.disposables.add(this.view),this.disposables.add(this._onDidDispose),this.disposables.add(new R(this,this.view)),(typeof z.keyboardSupport!="boolean"||z.keyboardSupport)&&(this.keyboardController=new O(this,this.view,z),this.disposables.add(this.keyboardController)),z.keyboardNavigationLabelProvider){const me=z.keyboardNavigationDelegate||e.DefaultKeyboardNavigationDelegate;this.typeNavigationController=new x(this,this.view,z.keyboardNavigationLabelProvider,(oe=z.keyboardNavigationEventFilter)!==null&&oe!==void 0?oe:()=>!0,me),this.disposables.add(this.typeNavigationController)}this.mouseController=this.createMouseController(z),this.disposables.add(this.mouseController),this.onDidChangeFocus(this._onFocusChange,this,this.disposables),this.onDidChangeSelection(this._onSelectionChange,this,this.disposables),this.accessibilityProvider&&(this.ariaLabel=this.accessibilityProvider.getWidgetAriaLabel()),this._options.multipleSelectionSupport!==!1&&this.view.domNode.setAttribute("aria-multiselectable","true")}createListView(re,de,ee,W){return new d.ListView(re,de,ee,W)}createMouseController(re){return new K(this)}updateOptions(re={}){var de,ee;this._options={...this._options,...re},(de=this.typeNavigationController)===null||de===void 0||de.updateOptions(this._options),this._options.multipleSelectionController!==void 0&&(this._options.multipleSelectionSupport?this.view.domNode.setAttribute("aria-multiselectable","true"):this.view.domNode.removeAttribute("aria-multiselectable")),this.mouseController.updateOptions(re),(ee=this.keyboardController)===null||ee===void 0||ee.updateOptions(re),this.view.updateOptions(re)}get options(){return this._options}splice(re,de,ee=[]){if(re<0||re>this.view.length)throw new u.ListError(this.user,`Invalid start index: ${re}`);if(de<0)throw new u.ListError(this.user,`Invalid delete count: ${de}`);de===0&&ee.length===0||this.eventBufferer.bufferEvents(()=>this.spliceable.splice(re,de,ee))}rerender(){this.view.rerender()}element(re){return this.view.element(re)}indexOf(re){return this.view.indexOf(re)}indexAt(re){return this.view.indexAt(re)}get length(){return this.view.length}get contentHeight(){return this.view.contentHeight}get onDidChangeContentHeight(){return this.view.onDidChangeContentHeight}get scrollTop(){return this.view.getScrollTop()}set scrollTop(re){this.view.setScrollTop(re)}get scrollHeight(){return this.view.scrollHeight}get renderHeight(){return this.view.renderHeight}get firstVisibleIndex(){return this.view.firstVisibleIndex}get ariaLabel(){return this._ariaLabel}set ariaLabel(re){this._ariaLabel=re,this.view.domNode.setAttribute("aria-label",re)}domFocus(){this.view.domNode.focus({preventScroll:!0})}layout(re,de){this.view.layout(re,de)}setSelection(re,de){for(const ee of re)if(ee<0||ee>=this.length)throw new u.ListError(this.user,`Invalid index ${ee}`);this.selection.set(re,de)}getSelection(){return this.selection.get()}getSelectedElements(){return this.getSelection().map(re=>this.view.element(re))}setAnchor(re){if(typeof re>"u"){this.anchor.set([]);return}if(re<0||re>=this.length)throw new u.ListError(this.user,`Invalid index ${re}`);this.anchor.set([re])}getAnchor(){return(0,w.firstOrDefault)(this.anchor.get(),void 0)}getAnchorElement(){const re=this.getAnchor();return typeof re>"u"?void 0:this.element(re)}setFocus(re,de){for(const ee of re)if(ee<0||ee>=this.length)throw new u.ListError(this.user,`Invalid index ${ee}`);this.focus.set(re,de)}focusNext(re=1,de=!1,ee,W){if(this.length===0)return;const z=this.focus.get(),Y=this.findNextIndex(z.length>0?z[0]+re:0,de,W);Y>-1&&this.setFocus([Y],ee)}focusPrevious(re=1,de=!1,ee,W){if(this.length===0)return;const z=this.focus.get(),Y=this.findPreviousIndex(z.length>0?z[0]-re:0,de,W);Y>-1&&this.setFocus([Y],ee)}async focusNextPage(re,de){let ee=this.view.indexAt(this.view.getScrollTop()+this.view.renderHeight);ee=ee===0?0:ee-1;const W=this.getFocus()[0];if(W!==ee&&(W===void 0||ee>W)){const z=this.findPreviousIndex(ee,!1,de);z>-1&&W!==z?this.setFocus([z],re):this.setFocus([ee],re)}else{const z=this.view.getScrollTop();let Y=z+this.view.renderHeight;ee>W&&(Y-=this.view.elementHeight(ee)),this.view.setScrollTop(Y),this.view.getScrollTop()!==z&&(this.setFocus([]),await(0,C.timeout)(0),await this.focusNextPage(re,de))}}async focusPreviousPage(re,de,ee=()=>0){let W;const z=ee(),Y=this.view.getScrollTop()+z;Y===0?W=this.view.indexAt(Y):W=this.view.indexAfter(Y-1);const j=this.getFocus()[0];if(j!==W&&(j===void 0||j>=W)){const G=this.findNextIndex(W,!1,de);G>-1&&j!==G?this.setFocus([G],re):this.setFocus([W],re)}else{const G=Y;this.view.setScrollTop(Y-this.view.renderHeight-z),this.view.getScrollTop()+ee()!==G&&(this.setFocus([]),await(0,C.timeout)(0),await this.focusPreviousPage(re,de,ee))}}focusLast(re,de){if(this.length===0)return;const ee=this.findPreviousIndex(this.length-1,!1,de);ee>-1&&this.setFocus([ee],re)}focusFirst(re,de){this.focusNth(0,re,de)}focusNth(re,de,ee){if(this.length===0)return;const W=this.findNextIndex(re,!1,ee);W>-1&&this.setFocus([W],de)}findNextIndex(re,de=!1,ee){for(let W=0;W<this.length;W++){if(re>=this.length&&!de)return-1;if(re=re%this.length,!ee||ee(this.element(re)))return re;re++}return-1}findPreviousIndex(re,de=!1,ee){for(let W=0;W<this.length;W++){if(re<0&&!de)return-1;if(re=(this.length+re%this.length)%this.length,!ee||ee(this.element(re)))return re;re--}return-1}getFocus(){return this.focus.get()}getFocusedElements(){return this.getFocus().map(re=>this.view.element(re))}reveal(re,de,ee=0){if(re<0||re>=this.length)throw new u.ListError(this.user,`Invalid index ${re}`);const W=this.view.getScrollTop(),z=this.view.elementTop(re),Y=this.view.elementHeight(re);if((0,v.isNumber)(de)){const j=Y-this.view.renderHeight+ee;this.view.setScrollTop(j*(0,n.clamp)(de,0,1)+z-ee)}else{const j=z+Y,G=W+this.view.renderHeight;z<W+ee&&j>=G||(z<W+ee||j>=G&&Y>=this.view.renderHeight?this.view.setScrollTop(z-ee):j>=G&&this.view.setScrollTop(j-this.view.renderHeight))}}getRelativeTop(re,de=0){if(re<0||re>=this.length)throw new u.ListError(this.user,`Invalid index ${re}`);const ee=this.view.getScrollTop(),W=this.view.elementTop(re),z=this.view.elementHeight(re);if(W<ee+de||W+z>ee+this.view.renderHeight)return null;const Y=z-this.view.renderHeight+de;return Math.abs((ee+de-W)/Y)}getHTMLElement(){return this.view.domNode}getScrollableElement(){return this.view.scrollableElementDomNode}getElementID(re){return this.view.getElementDomId(re)}getElementTop(re){return this.view.elementTop(re)}style(re){this.styleController.style(re)}toListEvent({indexes:re,browserEvent:de}){return{indexes:re,elements:re.map(ee=>this.view.element(ee)),browserEvent:de}}_onFocusChange(){const re=this.focus.get();this.view.domNode.classList.toggle("element-focused",re.length>0),this.onDidChangeActiveDescendant()}onDidChangeActiveDescendant(){var re;const de=this.focus.get();if(de.length>0){let ee;!((re=this.accessibilityProvider)===null||re===void 0)&&re.getActiveDescendantId&&(ee=this.accessibilityProvider.getActiveDescendantId(this.view.element(de[0]))),this.view.domNode.setAttribute("aria-activedescendant",ee||this.view.getElementDomId(de[0]))}else this.view.domNode.removeAttribute("aria-activedescendant")}_onSelectionChange(){const re=this.selection.get();this.view.domNode.classList.toggle("selection-none",re.length===0),this.view.domNode.classList.toggle("selection-single",re.length===1),this.view.domNode.classList.toggle("selection-multiple",re.length>1)}dispose(){this._onDidDispose.fire(),this.disposables.dispose(),this._onDidDispose.dispose()}}e.List=ge,Ie([a.memoize],ge.prototype,"onDidChangeFocus",null),Ie([a.memoize],ge.prototype,"onDidChangeSelection",null),Ie([a.memoize],ge.prototype,"onContextMenu",null),Ie([a.memoize],ge.prototype,"onKeyDown",null),Ie([a.memoize],ge.prototype,"onDidFocus",null),Ie([a.memoize],ge.prototype,"onDidBlur",null)}),define(te[621],ie([1,0,13,20,7,2,109,293]),function(J,e,m,k,D,L,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PagedList=void 0;class p{get templateId(){return this.renderer.templateId}constructor(s,i){this.renderer=s,this.modelProvider=i}renderTemplate(s){return{data:this.renderer.renderTemplate(s),disposable:L.Disposable.None}}renderElement(s,i,t,n){var h;if((h=t.disposable)===null||h===void 0||h.dispose(),!t.data)return;const v=this.modelProvider();if(v.isResolved(s))return this.renderer.renderElement(v.get(s),s,t.data,n);const u=new k.CancellationTokenSource,d=v.resolve(s,u.token);t.disposable={dispose:()=>u.cancel()},this.renderer.renderPlaceholder(s,t.data),d.then(r=>this.renderer.renderElement(r,s,t.data,n))}disposeTemplate(s){s.disposable&&(s.disposable.dispose(),s.disposable=void 0),s.data&&(this.renderer.disposeTemplate(s.data),s.data=void 0)}}class w{constructor(s,i){this.modelProvider=s,this.accessibilityProvider=i}getWidgetAriaLabel(){return this.accessibilityProvider.getWidgetAriaLabel()}getAriaLabel(s){const i=this.modelProvider();return i.isResolved(s)?this.accessibilityProvider.getAriaLabel(i.get(s)):null}}function C(a,s){return{...s,accessibilityProvider:s.accessibilityProvider&&new w(a,s.accessibilityProvider)}}class b{constructor(s,i,t,n,h={}){const v=()=>this.model,u=n.map(d=>new p(d,v));this.list=new y.List(s,i,t,u,C(v,h))}updateOptions(s){this.list.updateOptions(s)}getHTMLElement(){return this.list.getHTMLElement()}get onDidFocus(){return this.list.onDidFocus}get widget(){return this.list}get onDidDispose(){return this.list.onDidDispose}get onMouseDblClick(){return D.Event.map(this.list.onMouseDblClick,({element:s,index:i,browserEvent:t})=>({element:s===void 0?void 0:this._model.get(s),index:i,browserEvent:t}))}get onPointer(){return D.Event.map(this.list.onPointer,({element:s,index:i,browserEvent:t})=>({element:s===void 0?void 0:this._model.get(s),index:i,browserEvent:t}))}get onDidChangeSelection(){return D.Event.map(this.list.onDidChangeSelection,({elements:s,indexes:i,browserEvent:t})=>({elements:s.map(n=>this._model.get(n)),indexes:i,browserEvent:t}))}get model(){return this._model}set model(s){this._model=s,this.list.splice(0,this.list.length,(0,m.range)(s.length))}getFocus(){return this.list.getFocus()}getSelection(){return this.list.getSelection()}getSelectedElements(){return this.getSelection().map(s=>this.model.get(s))}style(s){this.list.style(s)}dispose(){this.list.dispose()}}e.PagedList=b}),define(te[339],ie([1,0,6,88,165,79,13,34,7,2,134,156,21,445]),function(J,e,m,k,D,L,y,p,w,C,b,a,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SplitView=e.Sizing=void 0;const i={separatorBorder:p.Color.transparent};class t{set size(l){this._size=l}get size(){return this._size}get visible(){return typeof this._cachedVisibleSize>"u"}setVisible(l,o){var g,c;if(l!==this.visible){l?(this.size=(0,b.clamp)(this._cachedVisibleSize,this.viewMinimumSize,this.viewMaximumSize),this._cachedVisibleSize=void 0):(this._cachedVisibleSize=typeof o=="number"?o:this.size,this.size=0),this.container.classList.toggle("visible",l);try{(c=(g=this.view).setVisible)===null||c===void 0||c.call(g,l)}catch(f){console.error("Splitview: Failed to set visible view"),console.error(f)}}}get minimumSize(){return this.visible?this.view.minimumSize:0}get viewMinimumSize(){return this.view.minimumSize}get maximumSize(){return this.visible?this.view.maximumSize:0}get viewMaximumSize(){return this.view.maximumSize}get priority(){return this.view.priority}get proportionalLayout(){var l;return(l=this.view.proportionalLayout)!==null&&l!==void 0?l:!0}get snap(){return!!this.view.snap}set enabled(l){this.container.style.pointerEvents=l?"":"none"}constructor(l,o,g,c){this.container=l,this.view=o,this.disposable=c,this._cachedVisibleSize=void 0,typeof g=="number"?(this._size=g,this._cachedVisibleSize=void 0,l.classList.add("visible")):(this._size=0,this._cachedVisibleSize=g.cachedVisibleSize)}layout(l,o){this.layoutContainer(l);try{this.view.layout(this.size,l,o)}catch(g){console.error("Splitview: Failed to layout view"),console.error(g)}}dispose(){this.disposable.dispose()}}class n extends t{layoutContainer(l){this.container.style.top=`${l}px`,this.container.style.height=`${this.size}px`}}class h extends t{layoutContainer(l){this.container.style.left=`${l}px`,this.container.style.width=`${this.size}px`}}var v;(function(r){r[r.Idle=0]="Idle",r[r.Busy=1]="Busy"})(v||(v={}));var u;(function(r){r.Distribute={type:"distribute"};function l(c){return{type:"split",index:c}}r.Split=l;function o(c){return{type:"auto",index:c}}r.Auto=o;function g(c){return{type:"invisible",cachedVisibleSize:c}}r.Invisible=g})(u||(e.Sizing=u={}));class d extends C.Disposable{get orthogonalStartSash(){return this._orthogonalStartSash}get orthogonalEndSash(){return this._orthogonalEndSash}get startSnappingEnabled(){return this._startSnappingEnabled}get endSnappingEnabled(){return this._endSnappingEnabled}set orthogonalStartSash(l){for(const o of this.sashItems)o.sash.orthogonalStartSash=l;this._orthogonalStartSash=l}set orthogonalEndSash(l){for(const o of this.sashItems)o.sash.orthogonalEndSash=l;this._orthogonalEndSash=l}set startSnappingEnabled(l){this._startSnappingEnabled!==l&&(this._startSnappingEnabled=l,this.updateSashEnablement())}set endSnappingEnabled(l){this._endSnappingEnabled!==l&&(this._endSnappingEnabled=l,this.updateSashEnablement())}constructor(l,o={}){var g,c,f,_,S;super(),this.size=0,this._contentSize=0,this.proportions=void 0,this.viewItems=[],this.sashItems=[],this.state=v.Idle,this._onDidSashChange=this._register(new w.Emitter),this._onDidSashReset=this._register(new w.Emitter),this._startSnappingEnabled=!0,this._endSnappingEnabled=!0,this.onDidSashChange=this._onDidSashChange.event,this.onDidSashReset=this._onDidSashReset.event,this.orientation=(g=o.orientation)!==null&&g!==void 0?g:0,this.inverseAltBehavior=(c=o.inverseAltBehavior)!==null&&c!==void 0?c:!1,this.proportionalLayout=(f=o.proportionalLayout)!==null&&f!==void 0?f:!0,this.getSashOrthogonalSize=o.getSashOrthogonalSize,this.el=document.createElement("div"),this.el.classList.add("monaco-split-view2"),this.el.classList.add(this.orientation===0?"vertical":"horizontal"),l.appendChild(this.el),this.sashContainer=(0,m.append)(this.el,(0,m.$)(".sash-container")),this.viewContainer=(0,m.$)(".split-view-container"),this.scrollable=this._register(new a.Scrollable({forceIntegerValues:!0,smoothScrollDuration:125,scheduleAtNextAnimationFrame:E=>(0,m.scheduleAtNextAnimationFrame)((0,m.getWindow)(this.el),E)})),this.scrollableElement=this._register(new L.SmoothScrollableElement(this.viewContainer,{vertical:this.orientation===0?(_=o.scrollbarVisibility)!==null&&_!==void 0?_:1:2,horizontal:this.orientation===1?(S=o.scrollbarVisibility)!==null&&S!==void 0?S:1:2},this.scrollable));const I=this._register(new k.DomEmitter(this.viewContainer,"scroll")).event;this._register(I(E=>{const T=this.scrollableElement.getScrollPosition(),N=Math.abs(this.viewContainer.scrollLeft-T.scrollLeft)<=1?void 0:this.viewContainer.scrollLeft,A=Math.abs(this.viewContainer.scrollTop-T.scrollTop)<=1?void 0:this.viewContainer.scrollTop;(N!==void 0||A!==void 0)&&this.scrollableElement.setScrollPosition({scrollLeft:N,scrollTop:A})})),this.onDidScroll=this.scrollableElement.onScroll,this._register(this.onDidScroll(E=>{E.scrollTopChanged&&(this.viewContainer.scrollTop=E.scrollTop),E.scrollLeftChanged&&(this.viewContainer.scrollLeft=E.scrollLeft)})),(0,m.append)(this.el,this.scrollableElement.getDomNode()),this.style(o.styles||i),o.descriptor&&(this.size=o.descriptor.size,o.descriptor.views.forEach((E,T)=>{const N=s.isUndefined(E.visible)||E.visible?E.size:{type:"invisible",cachedVisibleSize:E.size},A=E.view;this.doAddView(A,N,T,!0)}),this._contentSize=this.viewItems.reduce((E,T)=>E+T.size,0),this.saveProportions())}style(l){l.separatorBorder.isTransparent()?(this.el.classList.remove("separator-border"),this.el.style.removeProperty("--separator-border")):(this.el.classList.add("separator-border"),this.el.style.setProperty("--separator-border",l.separatorBorder.toString()))}addView(l,o,g=this.viewItems.length,c){this.doAddView(l,o,g,c)}layout(l,o){const g=Math.max(this.size,this._contentSize);if(this.size=l,this.layoutContext=o,this.proportions){let c=0;for(let f=0;f<this.viewItems.length;f++){const _=this.viewItems[f],S=this.proportions[f];typeof S=="number"?c+=S:l-=_.size}for(let f=0;f<this.viewItems.length;f++){const _=this.viewItems[f],S=this.proportions[f];typeof S=="number"&&c>0&&(_.size=(0,b.clamp)(Math.round(S*l/c),_.minimumSize,_.maximumSize))}}else{const c=(0,y.range)(this.viewItems.length),f=c.filter(S=>this.viewItems[S].priority===1),_=c.filter(S=>this.viewItems[S].priority===2);this.resize(this.viewItems.length-1,l-g,void 0,f,_)}this.distributeEmptySpace(),this.layoutViews()}saveProportions(){this.proportionalLayout&&this._contentSize>0&&(this.proportions=this.viewItems.map(l=>l.proportionalLayout&&l.visible?l.size/this._contentSize:void 0))}onSashStart({sash:l,start:o,alt:g}){for(const S of this.viewItems)S.enabled=!1;const c=this.sashItems.findIndex(S=>S.sash===l),f=(0,C.combinedDisposable)((0,m.addDisposableListener)(this.el.ownerDocument.body,"keydown",S=>_(this.sashDragState.current,S.altKey)),(0,m.addDisposableListener)(this.el.ownerDocument.body,"keyup",()=>_(this.sashDragState.current,!1))),_=(S,I)=>{const E=this.viewItems.map(M=>M.size);let T=Number.NEGATIVE_INFINITY,N=Number.POSITIVE_INFINITY;if(this.inverseAltBehavior&&(I=!I),I)if(c===this.sashItems.length-1){const P=this.viewItems[c];T=(P.minimumSize-P.size)/2,N=(P.maximumSize-P.size)/2}else{const P=this.viewItems[c+1];T=(P.size-P.maximumSize)/2,N=(P.size-P.minimumSize)/2}let A,O;if(!I){const M=(0,y.range)(c,-1),P=(0,y.range)(c+1,this.viewItems.length),x=M.reduce(($,se)=>$+(this.viewItems[se].minimumSize-E[se]),0),R=M.reduce(($,se)=>$+(this.viewItems[se].viewMaximumSize-E[se]),0),B=P.length===0?Number.POSITIVE_INFINITY:P.reduce(($,se)=>$+(E[se]-this.viewItems[se].minimumSize),0),H=P.length===0?Number.NEGATIVE_INFINITY:P.reduce(($,se)=>$+(E[se]-this.viewItems[se].viewMaximumSize),0),V=Math.max(x,H),q=Math.min(B,R),K=this.findFirstSnapIndex(M),U=this.findFirstSnapIndex(P);if(typeof K=="number"){const $=this.viewItems[K],se=Math.floor($.viewMinimumSize/2);A={index:K,limitDelta:$.visible?V-se:V+se,size:$.size}}if(typeof U=="number"){const $=this.viewItems[U],se=Math.floor($.viewMinimumSize/2);O={index:U,limitDelta:$.visible?q+se:q-se,size:$.size}}}this.sashDragState={start:S,current:S,index:c,sizes:E,minDelta:T,maxDelta:N,alt:I,snapBefore:A,snapAfter:O,disposable:f}};_(o,g)}onSashChange({current:l}){const{index:o,start:g,sizes:c,alt:f,minDelta:_,maxDelta:S,snapBefore:I,snapAfter:E}=this.sashDragState;this.sashDragState.current=l;const T=l-g,N=this.resize(o,T,c,void 0,void 0,_,S,I,E);if(f){const A=o===this.sashItems.length-1,O=this.viewItems.map(H=>H.size),M=A?o:o+1,P=this.viewItems[M],x=P.size-P.maximumSize,R=P.size-P.minimumSize,B=A?o-1:o+1;this.resize(B,-N,O,void 0,void 0,x,R)}this.distributeEmptySpace(),this.layoutViews()}onSashEnd(l){this._onDidSashChange.fire(l),this.sashDragState.disposable.dispose(),this.saveProportions();for(const o of this.viewItems)o.enabled=!0}onViewChange(l,o){const g=this.viewItems.indexOf(l);g<0||g>=this.viewItems.length||(o=typeof o=="number"?o:l.size,o=(0,b.clamp)(o,l.minimumSize,l.maximumSize),this.inverseAltBehavior&&g>0?(this.resize(g-1,Math.floor((l.size-o)/2)),this.distributeEmptySpace(),this.layoutViews()):(l.size=o,this.relayout([g],void 0)))}resizeView(l,o){if(!(l<0||l>=this.viewItems.length)){if(this.state!==v.Idle)throw new Error("Cant modify splitview");this.state=v.Busy;try{const g=(0,y.range)(this.viewItems.length).filter(S=>S!==l),c=[...g.filter(S=>this.viewItems[S].priority===1),l],f=g.filter(S=>this.viewItems[S].priority===2),_=this.viewItems[l];o=Math.round(o),o=(0,b.clamp)(o,_.minimumSize,Math.min(_.maximumSize,this.size)),_.size=o,this.relayout(c,f)}finally{this.state=v.Idle}}}distributeViewSizes(){const l=[];let o=0;for(const S of this.viewItems)S.maximumSize-S.minimumSize>0&&(l.push(S),o+=S.size);const g=Math.floor(o/l.length);for(const S of l)S.size=(0,b.clamp)(g,S.minimumSize,S.maximumSize);const c=(0,y.range)(this.viewItems.length),f=c.filter(S=>this.viewItems[S].priority===1),_=c.filter(S=>this.viewItems[S].priority===2);this.relayout(f,_)}getViewSize(l){return l<0||l>=this.viewItems.length?-1:this.viewItems[l].size}doAddView(l,o,g=this.viewItems.length,c){if(this.state!==v.Idle)throw new Error("Cant modify splitview");this.state=v.Busy;try{const f=(0,m.$)(".split-view-view");g===this.viewItems.length?this.viewContainer.appendChild(f):this.viewContainer.insertBefore(f,this.viewContainer.children.item(g));const _=l.onDidChange(A=>this.onViewChange(T,A)),S=(0,C.toDisposable)(()=>this.viewContainer.removeChild(f)),I=(0,C.combinedDisposable)(_,S);let E;typeof o=="number"?E=o:(o.type==="auto"&&(this.areViewsDistributed()?o={type:"distribute"}:o={type:"split",index:o.index}),o.type==="split"?E=this.getViewSize(o.index)/2:o.type==="invisible"?E={cachedVisibleSize:o.cachedVisibleSize}:E=l.minimumSize);const T=this.orientation===0?new n(f,l,E,I):new h(f,l,E,I);if(this.viewItems.splice(g,0,T),this.viewItems.length>1){const A={orthogonalStartSash:this.orthogonalStartSash,orthogonalEndSash:this.orthogonalEndSash},O=this.orientation===0?new D.Sash(this.sashContainer,{getHorizontalSashTop:$=>this.getSashPosition($),getHorizontalSashWidth:this.getSashOrthogonalSize},{...A,orientation:1}):new D.Sash(this.sashContainer,{getVerticalSashLeft:$=>this.getSashPosition($),getVerticalSashHeight:this.getSashOrthogonalSize},{...A,orientation:0}),M=this.orientation===0?$=>({sash:O,start:$.startY,current:$.currentY,alt:$.altKey}):$=>({sash:O,start:$.startX,current:$.currentX,alt:$.altKey}),x=w.Event.map(O.onDidStart,M)(this.onSashStart,this),B=w.Event.map(O.onDidChange,M)(this.onSashChange,this),V=w.Event.map(O.onDidEnd,()=>this.sashItems.findIndex($=>$.sash===O))(this.onSashEnd,this),q=O.onDidReset(()=>{const $=this.sashItems.findIndex(Z=>Z.sash===O),se=(0,y.range)($,-1),F=(0,y.range)($+1,this.viewItems.length),X=this.findFirstSnapIndex(se),Q=this.findFirstSnapIndex(F);typeof X=="number"&&!this.viewItems[X].visible||typeof Q=="number"&&!this.viewItems[Q].visible||this._onDidSashReset.fire($)}),K=(0,C.combinedDisposable)(x,B,V,q,O),U={sash:O,disposable:K};this.sashItems.splice(g-1,0,U)}f.appendChild(l.element);let N;typeof o!="number"&&o.type==="split"&&(N=[o.index]),c||this.relayout([g],N),!c&&typeof o!="number"&&o.type==="distribute"&&this.distributeViewSizes()}finally{this.state=v.Idle}}relayout(l,o){const g=this.viewItems.reduce((c,f)=>c+f.size,0);this.resize(this.viewItems.length-1,this.size-g,void 0,l,o),this.distributeEmptySpace(),this.layoutViews(),this.saveProportions()}resize(l,o,g=this.viewItems.map(T=>T.size),c,f,_=Number.NEGATIVE_INFINITY,S=Number.POSITIVE_INFINITY,I,E){if(l<0||l>=this.viewItems.length)return 0;const T=(0,y.range)(l,-1),N=(0,y.range)(l+1,this.viewItems.length);if(f)for(const U of f)(0,y.pushToStart)(T,U),(0,y.pushToStart)(N,U);if(c)for(const U of c)(0,y.pushToEnd)(T,U),(0,y.pushToEnd)(N,U);const A=T.map(U=>this.viewItems[U]),O=T.map(U=>g[U]),M=N.map(U=>this.viewItems[U]),P=N.map(U=>g[U]),x=T.reduce((U,$)=>U+(this.viewItems[$].minimumSize-g[$]),0),R=T.reduce((U,$)=>U+(this.viewItems[$].maximumSize-g[$]),0),B=N.length===0?Number.POSITIVE_INFINITY:N.reduce((U,$)=>U+(g[$]-this.viewItems[$].minimumSize),0),H=N.length===0?Number.NEGATIVE_INFINITY:N.reduce((U,$)=>U+(g[$]-this.viewItems[$].maximumSize),0),V=Math.max(x,H,_),q=Math.min(B,R,S);let K=!1;if(I){const U=this.viewItems[I.index],$=o>=I.limitDelta;K=$!==U.visible,U.setVisible($,I.size)}if(!K&&E){const U=this.viewItems[E.index],$=o<E.limitDelta;K=$!==U.visible,U.setVisible($,E.size)}if(K)return this.resize(l,o,g,c,f,_,S);o=(0,b.clamp)(o,V,q);for(let U=0,$=o;U<A.length;U++){const se=A[U],F=(0,b.clamp)(O[U]+$,se.minimumSize,se.maximumSize),X=F-O[U];$-=X,se.size=F}for(let U=0,$=o;U<M.length;U++){const se=M[U],F=(0,b.clamp)(P[U]-$,se.minimumSize,se.maximumSize),X=F-P[U];$+=X,se.size=F}return o}distributeEmptySpace(l){const o=this.viewItems.reduce((S,I)=>S+I.size,0);let g=this.size-o;const c=(0,y.range)(this.viewItems.length-1,-1),f=c.filter(S=>this.viewItems[S].priority===1),_=c.filter(S=>this.viewItems[S].priority===2);for(const S of _)(0,y.pushToStart)(c,S);for(const S of f)(0,y.pushToEnd)(c,S);typeof l=="number"&&(0,y.pushToEnd)(c,l);for(let S=0;g!==0&&S<c.length;S++){const I=this.viewItems[c[S]],E=(0,b.clamp)(I.size+g,I.minimumSize,I.maximumSize),T=E-I.size;g-=T,I.size=E}}layoutViews(){this._contentSize=this.viewItems.reduce((o,g)=>o+g.size,0);let l=0;for(const o of this.viewItems)o.layout(l,this.layoutContext),l+=o.size;this.sashItems.forEach(o=>o.sash.layout()),this.updateSashEnablement(),this.updateScrollableElement()}updateScrollableElement(){this.orientation===0?this.scrollableElement.setScrollDimensions({height:this.size,scrollHeight:this._contentSize}):this.scrollableElement.setScrollDimensions({width:this.size,scrollWidth:this._contentSize})}updateSashEnablement(){let l=!1;const o=this.viewItems.map(I=>l=I.size-I.minimumSize>0||l);l=!1;const g=this.viewItems.map(I=>l=I.maximumSize-I.size>0||l),c=[...this.viewItems].reverse();l=!1;const f=c.map(I=>l=I.size-I.minimumSize>0||l).reverse();l=!1;const _=c.map(I=>l=I.maximumSize-I.size>0||l).reverse();let S=0;for(let I=0;I<this.sashItems.length;I++){const{sash:E}=this.sashItems[I],T=this.viewItems[I];S+=T.size;const N=!(o[I]&&_[I+1]),A=!(g[I]&&f[I+1]);if(N&&A){const O=(0,y.range)(I,-1),M=(0,y.range)(I+1,this.viewItems.length),P=this.findFirstSnapIndex(O),x=this.findFirstSnapIndex(M),R=typeof P=="number"&&!this.viewItems[P].visible,B=typeof x=="number"&&!this.viewItems[x].visible;R&&f[I]&&(S>0||this.startSnappingEnabled)?E.state=1:B&&o[I]&&(S<this._contentSize||this.endSnappingEnabled)?E.state=2:E.state=0}else N&&!A?E.state=1:!N&&A?E.state=2:E.state=3}}getSashPosition(l){let o=0;for(let g=0;g<this.sashItems.length;g++)if(o+=this.viewItems[g].size,this.sashItems[g].sash===l)return o;return 0}findFirstSnapIndex(l){for(const o of l){const g=this.viewItems[o];if(g.visible&&g.snap)return o}for(const o of l){const g=this.viewItems[o];if(g.visible&&g.maximumSize-g.minimumSize>0)return;if(!g.visible&&g.snap)return o}}areViewsDistributed(){let l,o;for(const g of this.viewItems)if(l=l===void 0?g.size:Math.min(l,g.size),o=o===void 0?g.size:Math.max(o,g.size),o-l>2)return!1;return!0}dispose(){var l;(l=this.sashDragState)===null||l===void 0||l.disposable.dispose(),(0,C.dispose)(this.viewItems),this.viewItems=[],this.sashItems.forEach(o=>o.disposable.dispose()),this.sashItems=[],super.dispose()}}e.SplitView=d}),define(te[50],ie([1,0,238,49,96,17,11,22]),function(J,e,m,k,D,L,y,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DataUri=e.addTrailingPathSeparator=e.removeTrailingPathSeparator=e.hasTrailingPathSeparator=e.isEqualAuthority=e.isAbsolutePath=e.resolvePath=e.relativePath=e.normalizePath=e.joinPath=e.dirname=e.extname=e.basename=e.basenameOrAuthority=e.getComparisonKey=e.isEqualOrParent=e.isEqual=e.extUriIgnorePathCase=e.extUriBiasedIgnorePathCase=e.extUri=e.ExtUri=void 0,e.originalFSPath=w;function w(a){return(0,p.uriToFsPath)(a,!0)}class C{constructor(s){this._ignorePathCasing=s}compare(s,i,t=!1){return s===i?0:(0,y.compare)(this.getComparisonKey(s,t),this.getComparisonKey(i,t))}isEqual(s,i,t=!1){return s===i?!0:!s||!i?!1:this.getComparisonKey(s,t)===this.getComparisonKey(i,t)}getComparisonKey(s,i=!1){return s.with({path:this._ignorePathCasing(s)?s.path.toLowerCase():void 0,fragment:i?null:void 0}).toString()}isEqualOrParent(s,i,t=!1){if(s.scheme===i.scheme){if(s.scheme===k.Schemas.file)return m.isEqualOrParent(w(s),w(i),this._ignorePathCasing(s))&&s.query===i.query&&(t||s.fragment===i.fragment);if((0,e.isEqualAuthority)(s.authority,i.authority))return m.isEqualOrParent(s.path,i.path,this._ignorePathCasing(s),"/")&&s.query===i.query&&(t||s.fragment===i.fragment)}return!1}joinPath(s,...i){return p.URI.joinPath(s,...i)}basenameOrAuthority(s){return(0,e.basename)(s)||s.authority}basename(s){return D.posix.basename(s.path)}extname(s){return D.posix.extname(s.path)}dirname(s){if(s.path.length===0)return s;let i;return s.scheme===k.Schemas.file?i=p.URI.file(D.dirname(w(s))).path:(i=D.posix.dirname(s.path),s.authority&&i.length&&i.charCodeAt(0)!==47&&(console.error(`dirname("${s.toString})) resulted in a relative path`),i="/")),s.with({path:i})}normalizePath(s){if(!s.path.length)return s;let i;return s.scheme===k.Schemas.file?i=p.URI.file(D.normalize(w(s))).path:i=D.posix.normalize(s.path),s.with({path:i})}relativePath(s,i){if(s.scheme!==i.scheme||!(0,e.isEqualAuthority)(s.authority,i.authority))return;if(s.scheme===k.Schemas.file){const h=D.relative(w(s),w(i));return L.isWindows?m.toSlashes(h):h}let t=s.path||"/";const n=i.path||"/";if(this._ignorePathCasing(s)){let h=0;for(const v=Math.min(t.length,n.length);h<v&&!(t.charCodeAt(h)!==n.charCodeAt(h)&&t.charAt(h).toLowerCase()!==n.charAt(h).toLowerCase());h++);t=n.substr(0,h)+t.substr(h)}return D.posix.relative(t,n)}resolvePath(s,i){if(s.scheme===k.Schemas.file){const t=p.URI.file(D.resolve(w(s),i));return s.with({authority:t.authority,path:t.path})}return i=m.toPosixPath(i),s.with({path:D.posix.resolve(s.path,i)})}isAbsolutePath(s){return!!s.path&&s.path[0]==="/"}isEqualAuthority(s,i){return s===i||s!==void 0&&i!==void 0&&(0,y.equalsIgnoreCase)(s,i)}hasTrailingPathSeparator(s,i=D.sep){if(s.scheme===k.Schemas.file){const t=w(s);return t.length>m.getRoot(t).length&&t[t.length-1]===i}else{const t=s.path;return t.length>1&&t.charCodeAt(t.length-1)===47&&!/^[a-zA-Z]:(\/$|\\$)/.test(s.fsPath)}}removeTrailingPathSeparator(s,i=D.sep){return(0,e.hasTrailingPathSeparator)(s,i)?s.with({path:s.path.substr(0,s.path.length-1)}):s}addTrailingPathSeparator(s,i=D.sep){let t=!1;if(s.scheme===k.Schemas.file){const n=w(s);t=n!==void 0&&n.length===m.getRoot(n).length&&n[n.length-1]===i}else{i="/";const n=s.path;t=n.length===1&&n.charCodeAt(n.length-1)===47}return!t&&!(0,e.hasTrailingPathSeparator)(s,i)?s.with({path:s.path+"/"}):s}}e.ExtUri=C,e.extUri=new C(()=>!1),e.extUriBiasedIgnorePathCase=new C(a=>a.scheme===k.Schemas.file?!L.isLinux:!0),e.extUriIgnorePathCase=new C(a=>!0),e.isEqual=e.extUri.isEqual.bind(e.extUri),e.isEqualOrParent=e.extUri.isEqualOrParent.bind(e.extUri),e.getComparisonKey=e.extUri.getComparisonKey.bind(e.extUri),e.basenameOrAuthority=e.extUri.basenameOrAuthority.bind(e.extUri),e.basename=e.extUri.basename.bind(e.extUri),e.extname=e.extUri.extname.bind(e.extUri),e.dirname=e.extUri.dirname.bind(e.extUri),e.joinPath=e.extUri.joinPath.bind(e.extUri),e.normalizePath=e.extUri.normalizePath.bind(e.extUri),e.relativePath=e.extUri.relativePath.bind(e.extUri),e.resolvePath=e.extUri.resolvePath.bind(e.extUri),e.isAbsolutePath=e.extUri.isAbsolutePath.bind(e.extUri),e.isEqualAuthority=e.extUri.isEqualAuthority.bind(e.extUri),e.hasTrailingPathSeparator=e.extUri.hasTrailingPathSeparator.bind(e.extUri),e.removeTrailingPathSeparator=e.extUri.removeTrailingPathSeparator.bind(e.extUri),e.addTrailingPathSeparator=e.extUri.addTrailingPathSeparator.bind(e.extUri);var b;(function(a){a.META_DATA_LABEL="label",a.META_DATA_DESCRIPTION="description",a.META_DATA_SIZE="size",a.META_DATA_MIME="mime";function s(i){const t=new Map;i.path.substring(i.path.indexOf(";")+1,i.path.lastIndexOf(";")).split(";").forEach(v=>{const[u,d]=v.split(":");u&&d&&t.set(u,d)});const h=i.path.substring(0,i.path.indexOf(";"));return h&&t.set(a.META_DATA_MIME,h),t}a.parseMetaData=s})(b||(e.DataUri=b={}))}),define(te[57],ie([1,0,12,136,50,11,22]),function(J,e,m,k,D,L,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarkdownString=void 0,e.isEmptyMarkdownString=w,e.isMarkdownString=C,e.markdownStringEqual=b,e.escapeMarkdownSyntaxTokens=a,e.appendEscapedMarkdownCodeBlockFence=s,e.escapeDoubleQuotes=i,e.removeMarkdownEscapes=t,e.parseHrefAndDimensions=n;class p{constructor(v="",u=!1){var d,r,l;if(this.value=v,typeof this.value!="string")throw(0,m.illegalArgument)("value");typeof u=="boolean"?(this.isTrusted=u,this.supportThemeIcons=!1,this.supportHtml=!1):(this.isTrusted=(d=u.isTrusted)!==null&&d!==void 0?d:void 0,this.supportThemeIcons=(r=u.supportThemeIcons)!==null&&r!==void 0?r:!1,this.supportHtml=(l=u.supportHtml)!==null&&l!==void 0?l:!1)}appendText(v,u=0){return this.value+=a(this.supportThemeIcons?(0,k.escapeIcons)(v):v).replace(/([ \t]+)/g,(d,r)=>"&nbsp;".repeat(r.length)).replace(/\>/gm,"\\>").replace(/\n/g,u===1?`\\
`:`

`),this}appendMarkdown(v){return this.value+=v,this}appendCodeblock(v,u){return this.value+=`
${s(u,v)}
`,this}appendLink(v,u,d){return this.value+="[",this.value+=this._escape(u,"]"),this.value+="](",this.value+=this._escape(String(v),")"),d&&(this.value+=` "${this._escape(this._escape(d,'"'),")")}"`),this.value+=")",this}_escape(v,u){const d=new RegExp((0,L.escapeRegExpCharacters)(u),"g");return v.replace(d,(r,l)=>v.charAt(l-1)!=="\\"?`\\${r}`:r)}}e.MarkdownString=p;function w(h){return C(h)?!h.value:Array.isArray(h)?h.every(w):!0}function C(h){return h instanceof p?!0:h&&typeof h=="object"?typeof h.value=="string"&&(typeof h.isTrusted=="boolean"||typeof h.isTrusted=="object"||h.isTrusted===void 0)&&(typeof h.supportThemeIcons=="boolean"||h.supportThemeIcons===void 0):!1}function b(h,v){return h===v?!0:!h||!v?!1:h.value===v.value&&h.isTrusted===v.isTrusted&&h.supportThemeIcons===v.supportThemeIcons&&h.supportHtml===v.supportHtml&&(h.baseUri===v.baseUri||!!h.baseUri&&!!v.baseUri&&(0,D.isEqual)(y.URI.from(h.baseUri),y.URI.from(v.baseUri)))}function a(h){return h.replace(/[\\`*_{}[\]()#+\-!~]/g,"\\$&")}function s(h,v){var u,d;const r=(d=(u=h.match(/^`+/gm))===null||u===void 0?void 0:u.reduce((o,g)=>o.length>g.length?o:g).length)!==null&&d!==void 0?d:0,l=r>=3?r+1:3;return[`${"`".repeat(l)}${v}`,h,`${"`".repeat(l)}`].join(`
`)}function i(h){return h.replace(/"/g,"&quot;")}function t(h){return h&&h.replace(/\\([\\`*_{}[\]()#+\-.!~])/g,"$1")}function n(h){const v=[],u=h.split("|").map(r=>r.trim());h=u[0];const d=u[1];if(d){const r=/height=(\d+)/.exec(d),l=/width=(\d+)/.exec(d),o=r?r[1]:"",g=l?l[1]:"",c=isFinite(parseInt(g)),f=isFinite(parseInt(o));c&&v.push(`width="${g}"`),f&&v.push(`height="${o}"`)}return{href:h,dimensions:v}}}),define(te[197],ie([1,0,6,334,88,335,48,72,108,12,7,57,136,178,99,2,420,239,49,55,50,11,22]),function(J,e,m,k,D,L,y,p,w,C,b,a,s,i,t,n,h,v,u,d,r,l,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.allowedMarkdownAttr=void 0,e.renderMarkdown=c,e.renderStringAsPlaintext=E,e.renderMarkdownAsPlaintext=T,e.fillInIncompleteTokens=x;const g=Object.freeze({image:(Q,Z,ae)=>{let ue=[],ge=[];return Q&&({href:Q,dimensions:ue}=(0,a.parseHrefAndDimensions)(Q),ge.push(`src="${(0,a.escapeDoubleQuotes)(Q)}"`)),ae&&ge.push(`alt="${(0,a.escapeDoubleQuotes)(ae)}"`),Z&&ge.push(`title="${(0,a.escapeDoubleQuotes)(Z)}"`),ue.length&&(ge=ge.concat(ue)),"<img "+ge.join(" ")+">"},paragraph:Q=>`<p>${Q}</p>`,link:(Q,Z,ae)=>typeof Q!="string"?"":(Q===ae&&(ae=(0,a.removeMarkdownEscapes)(ae)),Z=typeof Z=="string"?(0,a.escapeDoubleQuotes)((0,a.removeMarkdownEscapes)(Z)):"",Q=(0,a.removeMarkdownEscapes)(Q),Q=Q.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;"),`<a href="${Q}" title="${Z||Q}" draggable="false">${ae}</a>`)});function c(Q,Z={},ae={}){var ue,ge;const fe=new n.DisposableStore;let re=!1;const de=(0,L.createElement)(Z),ee=function(le){let me;try{me=(0,v.parse)(decodeURIComponent(le))}catch{}return me?(me=(0,d.cloneAndChange)(me,ve=>{if(Q.uris&&Q.uris[ve])return o.URI.revive(Q.uris[ve])}),encodeURIComponent(JSON.stringify(me))):le},W=function(le,me){const ve=Q.uris&&Q.uris[le];let Ce=o.URI.revive(ve);return me?le.startsWith(u.Schemas.data+":")?le:(Ce||(Ce=o.URI.parse(le)),u.FileAccess.uriToBrowserUri(Ce).toString(!0)):!Ce||o.URI.parse(le).toString()===Ce.toString()?le:(Ce.query&&(Ce=Ce.with({query:ee(Ce.query)})),Ce.toString())},z=new h.marked.Renderer;z.image=g.image,z.link=g.link,z.paragraph=g.paragraph;const Y=[],j=[];if(Z.codeBlockRendererSync?z.code=(le,me)=>{const ve=i.defaultGenerator.nextId(),Ce=Z.codeBlockRendererSync(f(me),le);return j.push([ve,Ce]),`<div class="code" data-code="${ve}">${(0,l.escape)(le)}</div>`}:Z.codeBlockRenderer&&(z.code=(le,me)=>{const ve=i.defaultGenerator.nextId(),Ce=Z.codeBlockRenderer(f(me),le);return Y.push(Ce.then(Se=>[ve,Se])),`<div class="code" data-code="${ve}">${(0,l.escape)(le)}</div>`}),Z.actionHandler){const le=function(Ce){let Se=Ce.target;if(!(Se.tagName!=="A"&&(Se=Se.parentElement,!Se||Se.tagName!=="A")))try{let _e=Se.dataset.href;_e&&(Q.baseUri&&(_e=_(o.URI.from(Q.baseUri),_e)),Z.actionHandler.callback(_e,Ce))}catch(_e){(0,C.onUnexpectedError)(_e)}finally{Ce.preventDefault()}},me=Z.actionHandler.disposables.add(new D.DomEmitter(de,"click")),ve=Z.actionHandler.disposables.add(new D.DomEmitter(de,"auxclick"));Z.actionHandler.disposables.add(b.Event.any(me.event,ve.event)(Ce=>{const Se=new p.StandardMouseEvent(m.getWindow(de),Ce);!Se.leftButton&&!Se.middleButton||le(Se)})),Z.actionHandler.disposables.add(m.addDisposableListener(de,"keydown",Ce=>{const Se=new y.StandardKeyboardEvent(Ce);!Se.equals(10)&&!Se.equals(3)||le(Se)}))}Q.supportHtml||(ae.sanitizer=le=>(Q.isTrusted?le.match(/^(<span[^>]+>)|(<\/\s*span>)$/):void 0)?le:"",ae.sanitize=!0,ae.silent=!0),ae.renderer=z;let G=(ue=Q.value)!==null&&ue!==void 0?ue:"";G.length>1e5&&(G=`${G.substr(0,1e5)}\u2026`),Q.supportThemeIcons&&(G=(0,s.markdownEscapeEscapedIcons)(G));let oe;if(Z.fillInIncompleteTokens){const le={...h.marked.defaults,...ae},me=h.marked.lexer(G,le),ve=x(me);oe=h.marked.parser(ve,le)}else oe=h.marked.parse(G,ae);Q.supportThemeIcons&&(oe=(0,w.renderLabelWithIcons)(oe).map(me=>typeof me=="string"?me:me.outerHTML).join(""));const ce=new DOMParser().parseFromString(S(Q,oe),"text/html");if(ce.body.querySelectorAll("img").forEach(le=>{const me=le.getAttribute("src");if(me){let ve=me;try{Q.baseUri&&(ve=_(o.URI.from(Q.baseUri),ve))}catch{}le.src=W(ve,!0)}}),ce.body.querySelectorAll("a").forEach(le=>{const me=le.getAttribute("href");if(le.setAttribute("href",""),!me||/^data:|javascript:/i.test(me)||/^command:/i.test(me)&&!Q.isTrusted||/^command:(\/\/\/)?_workbench\.downloadResource/i.test(me))le.replaceWith(...le.childNodes);else{let ve=W(me,!1);Q.baseUri&&(ve=_(o.URI.from(Q.baseUri),me)),le.dataset.href=ve}}),de.innerHTML=S(Q,ce.body.innerHTML),Y.length>0)Promise.all(Y).then(le=>{var me,ve;if(re)return;const Ce=new Map(le),Se=de.querySelectorAll("div[data-code]");for(const _e of Se){const Le=Ce.get((me=_e.dataset.code)!==null&&me!==void 0?me:"");Le&&m.reset(_e,Le)}(ve=Z.asyncRenderCallback)===null||ve===void 0||ve.call(Z)});else if(j.length>0){const le=new Map(j),me=de.querySelectorAll("div[data-code]");for(const ve of me){const Ce=le.get((ge=ve.dataset.code)!==null&&ge!==void 0?ge:"");Ce&&m.reset(ve,Ce)}}if(Z.asyncRenderCallback)for(const le of de.getElementsByTagName("img")){const me=fe.add(m.addDisposableListener(le,"load",()=>{me.dispose(),Z.asyncRenderCallback()}))}return{element:de,dispose:()=>{re=!0,fe.dispose()}}}function f(Q){if(!Q)return"";const Z=Q.split(/[\s+|:|,|\{|\?]/,1);return Z.length?Z[0]:Q}function _(Q,Z){return/^\w[\w\d+.-]*:/.test(Z)?Z:Q.path.endsWith("/")?(0,r.resolvePath)(Q,Z).toString():(0,r.resolvePath)((0,r.dirname)(Q),Z).toString()}function S(Q,Z){const{config:ae,allowedSchemes:ue}=I(Q);k.addHook("uponSanitizeAttribute",(fe,re)=>{var de;if(re.attrName==="style"||re.attrName==="class"){if(fe.tagName==="SPAN"){if(re.attrName==="style"){re.keepAttr=/^(color\:(#[0-9a-fA-F]+|var\(--vscode(-[a-zA-Z]+)+\));)?(background-color\:(#[0-9a-fA-F]+|var\(--vscode(-[a-zA-Z]+)+\));)?$/.test(re.attrValue);return}else if(re.attrName==="class"){re.keepAttr=/^codicon codicon-[a-z\-]+( codicon-modifier-[a-z\-]+)?$/.test(re.attrValue);return}}re.keepAttr=!1;return}else if(fe.tagName==="INPUT"&&((de=fe.attributes.getNamedItem("type"))===null||de===void 0?void 0:de.value)==="checkbox"){if(re.attrName==="type"&&re.attrValue==="checkbox"||re.attrName==="disabled"||re.attrName==="checked"){re.keepAttr=!0;return}re.keepAttr=!1}}),k.addHook("uponSanitizeElement",(fe,re)=>{var de,ee;re.tagName==="input"&&(((de=fe.attributes.getNamedItem("type"))===null||de===void 0?void 0:de.value)==="checkbox"?fe.setAttribute("disabled",""):(ee=fe.parentElement)===null||ee===void 0||ee.removeChild(fe))});const ge=m.hookDomPurifyHrefAndSrcSanitizer(ue);try{return k.sanitize(Z,{...ae,RETURN_TRUSTED_TYPE:!0})}finally{k.removeHook("uponSanitizeAttribute"),ge.dispose()}}e.allowedMarkdownAttr=["align","autoplay","alt","checked","class","controls","data-code","data-href","disabled","draggable","height","href","loop","muted","playsinline","poster","src","style","target","title","type","width","start"];function I(Q){const Z=[u.Schemas.http,u.Schemas.https,u.Schemas.mailto,u.Schemas.data,u.Schemas.file,u.Schemas.vscodeFileResource,u.Schemas.vscodeRemote,u.Schemas.vscodeRemoteResource];return Q.isTrusted&&Z.push(u.Schemas.command),{config:{ALLOWED_TAGS:[...m.basicMarkupHtmlTags],ALLOWED_ATTR:e.allowedMarkdownAttr,ALLOW_UNKNOWN_PROTOCOLS:!0},allowedSchemes:Z}}function E(Q){return typeof Q=="string"?Q:T(Q)}function T(Q){var Z;let ae=(Z=Q.value)!==null&&Z!==void 0?Z:"";ae.length>1e5&&(ae=`${ae.substr(0,1e5)}\u2026`);const ue=h.marked.parse(ae,{renderer:A.value}).replace(/&(#\d+|[a-zA-Z]+);/g,ge=>{var fe;return(fe=N.get(ge))!==null&&fe!==void 0?fe:ge});return S({isTrusted:!1},ue).toString()}const N=new Map([["&quot;",'"'],["&nbsp;"," "],["&amp;","&"],["&#39;","'"],["&lt;","<"],["&gt;",">"]]),A=new t.Lazy(()=>{const Q=new h.marked.Renderer;return Q.code=Z=>Z,Q.blockquote=Z=>Z,Q.html=Z=>"",Q.heading=(Z,ae,ue)=>Z+`
`,Q.hr=()=>"",Q.list=(Z,ae)=>Z,Q.listitem=Z=>Z+`
`,Q.paragraph=Z=>Z+`
`,Q.table=(Z,ae)=>Z+ae+`
`,Q.tablerow=Z=>Z,Q.tablecell=(Z,ae)=>Z+" ",Q.strong=Z=>Z,Q.em=Z=>Z,Q.codespan=Z=>Z,Q.br=()=>`
`,Q.del=Z=>Z,Q.image=(Z,ae,ue)=>"",Q.text=Z=>Z,Q.link=(Z,ae,ue)=>ue,Q});function O(Q){let Z="";return Q.forEach(ae=>{Z+=ae.raw}),Z}function M(Q){var Z,ae;for(let ue=0;ue<Q.tokens.length;ue++){const ge=Q.tokens[ue];if(ge.type==="text"){const fe=ge.raw.split(`
`),re=fe[fe.length-1];if(re.includes("`"))return B(Q);if(re.includes("**"))return $(Q);if(re.match(/\*\w/))return H(Q);if(re.match(/(^|\s)__\w/))return se(Q);if(re.match(/(^|\s)_\w/))return V(Q);if(re.match(/(^|\s)\[.*\]\(\w*/)){const de=Q.tokens.slice(ue+1);return((Z=de[0])===null||Z===void 0?void 0:Z.type)==="link"&&((ae=de[1])===null||ae===void 0?void 0:ae.type)==="text"&&de[1].raw.match(/^ *"[^"]*$/)?K(Q):q(Q)}else{if(P(re))return q(Q);if(re.match(/(^|\s)\[\w/)&&!Q.tokens.slice(ue+1).some(de=>P(de.raw)))return U(Q)}}}}function P(Q){return!!Q.match(/^[^\[]*\]\([^\)]*$/)}function x(Q){let Z,ae;for(Z=0;Z<Q.length;Z++){const ue=Q[Z];let ge;if(ue.type==="paragraph"&&(ge=ue.raw.match(/(\n|^)(````*)/))){const fe=ge[2];ae=R(Q.slice(Z),fe);break}if(ue.type==="paragraph"&&ue.raw.match(/(\n|^)\|/)){ae=X(Q.slice(Z));break}if(Z===Q.length-1&&ue.type==="paragraph"){const fe=M(ue);if(fe){ae=[fe];break}}}if(ae){const ue=[...Q.slice(0,Z),...ae];return ue.links=Q.links,ue}return Q}function R(Q,Z){const ae=O(Q);return h.marked.lexer(ae+`
${Z}`)}function B(Q){return F(Q,"`")}function H(Q){return F(Q,"*")}function V(Q){return F(Q,"_")}function q(Q){return F(Q,")")}function K(Q){return F(Q,'")')}function U(Q){return F(Q,"](about:blank)")}function $(Q){return F(Q,"**")}function se(Q){return F(Q,"__")}function F(Q,Z){const ae=O(Array.isArray(Q)?Q:[Q]);return h.marked.lexer(ae+Z)[0]}function X(Q){const Z=O(Q),ae=Z.split(`
`);let ue,ge=!1;for(let fe=0;fe<ae.length;fe++){const re=ae[fe].trim();if(typeof ue>"u"&&re.match(/^\s*\|/)){const de=re.match(/(\|[^\|]+)(?=\||$)/g);de&&(ue=de.length)}else if(typeof ue=="number")if(re.match(/^\s*\|/)){if(fe!==ae.length-1)return;ge=!0}else return}if(typeof ue=="number"&&ue>0){const fe=ge?ae.slice(0,-1).join(`
`):Z,re=!!fe.match(/\|\s*$/),de=fe+(re?"":"|")+`
|${" --- |".repeat(ue)}`;return h.marked.lexer(de)}}}),define(te[80],ie([1,0,6,15,20,57,136,2,21,598]),function(J,e,m,k,D,L,y,p,w,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setupNativeHover=b,e.setupCustomHover=i;function b(t,n){(0,w.isString)(n)?t.title=(0,y.stripIcons)(n):n?.markdownNotSupportedFallback?t.title=n.markdownNotSupportedFallback:t.removeAttribute("title")}class a{constructor(n,h,v){this.hoverDelegate=n,this.target=h,this.fadeInAnimation=v}async update(n,h,v){var u;if(this._cancellationTokenSource&&(this._cancellationTokenSource.dispose(!0),this._cancellationTokenSource=void 0),this.isDisposed)return;let d;if(n===void 0||(0,w.isString)(n)||n instanceof HTMLElement)d=n;else if(!(0,w.isFunction)(n.markdown))d=(u=n.markdown)!==null&&u!==void 0?u:n.markdownNotSupportedFallback;else{this._hoverWidget||this.show((0,C.localize)(0,null),h),this._cancellationTokenSource=new D.CancellationTokenSource;const r=this._cancellationTokenSource.token;if(d=await n.markdown(r),d===void 0&&(d=n.markdownNotSupportedFallback),this.isDisposed||r.isCancellationRequested)return}this.show(d,h,v)}show(n,h,v){const u=this._hoverWidget;if(this.hasContent(n)){const d={content:n,target:this.target,appearance:{showPointer:this.hoverDelegate.placement==="element",skipFadeInAnimation:!this.fadeInAnimation||!!u},position:{hoverPosition:2},...v};this._hoverWidget=this.hoverDelegate.showHover(d,h)}u?.dispose()}hasContent(n){return n?(0,L.isMarkdownString)(n)?!!n.value:!0:!1}get isDisposed(){var n;return(n=this._hoverWidget)===null||n===void 0?void 0:n.isDisposed}dispose(){var n,h;(n=this._hoverWidget)===null||n===void 0||n.dispose(),(h=this._cancellationTokenSource)===null||h===void 0||h.dispose(!0),this._cancellationTokenSource=void 0}}function s(t,n){for(n=n??m.getWindow(t).document.body;!t.hasAttribute("custom-hover")&&t!==n;)t=t.parentElement;return t}function i(t,n,h,v){n.setAttribute("custom-hover","true"),n.title!==""&&(console.warn("HTML element already has a title attribute, which will conflict with the custom hover. Please remove the title attribute."),console.trace("Stack trace:",n.title),n.title="");let u,d;const r=(A,O)=>{var M;const P=d!==void 0;A&&(d?.dispose(),d=void 0),O&&(u?.dispose(),u=void 0),P&&((M=t.onDidHideHover)===null||M===void 0||M.call(t),d=void 0)},l=(A,O,M)=>new k.TimeoutTimer(async()=>{(!d||d.isDisposed)&&(d=new a(t,M||n,A>0),await d.update(typeof h=="function"?h():h,O,v))},A);let o=!1;const g=m.addDisposableListener(n,m.EventType.MOUSE_DOWN,()=>{o=!0,r(!0,!0)},!0),c=m.addDisposableListener(n,m.EventType.MOUSE_UP,()=>{o=!1},!0),f=m.addDisposableListener(n,m.EventType.MOUSE_LEAVE,A=>{o=!1,r(!1,A.fromElement===n)},!0),_=A=>{if(u)return;const O=new p.DisposableStore,M={targetElements:[n],dispose:()=>{}};if(t.placement===void 0||t.placement==="mouse"){const P=x=>{M.x=x.x+10,x.target instanceof HTMLElement&&s(x.target,n)!==n&&r(!0,!0)};O.add(m.addDisposableListener(n,m.EventType.MOUSE_MOVE,P,!0))}u=O,!(A.target instanceof HTMLElement&&s(A.target,n)!==n)&&O.add(l(t.delay,!1,M))},S=m.addDisposableListener(n,m.EventType.MOUSE_OVER,_,!0),I=()=>{if(o||u)return;const A={targetElements:[n],dispose:()=>{}},O=new p.DisposableStore,M=()=>r(!0,!0);O.add(m.addDisposableListener(n,m.EventType.BLUR,M,!0)),O.add(l(t.delay,!1,A)),u=O};let E;const T=n.tagName.toLowerCase();return T!=="input"&&T!=="textarea"&&(E=m.addDisposableListener(n,m.EventType.FOCUS,I,!0)),{show:A=>{r(!1,!0),l(0,A)},hide:()=>{r(!0,!0)},update:async(A,O)=>{h=A,await d?.update(h,void 0,O)},dispose:()=>{S.dispose(),f.dispose(),g.dispose(),c.dispose(),E?.dispose(),r(!0,!0)}}}}),define(te[245],ie([1,0,6,334,48,197,67,44,80,108,34,7,57,2,30,430]),function(J,e,m,k,D,L,y,p,w,C,b,a,s,i,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Button=e.unthemedButtonStyles=void 0,e.unthemedButtonStyles={buttonBackground:"#0E639C",buttonHoverBackground:"#006BB3",buttonSeparator:b.Color.white.toString(),buttonForeground:b.Color.white.toString(),buttonBorder:void 0,buttonSecondaryBackground:void 0,buttonSecondaryForeground:void 0,buttonSecondaryHoverBackground:void 0};class n extends i.Disposable{get onDidClick(){return this._onDidClick.event}constructor(v,u){super(),this._label="",this._onDidClick=this._register(new a.Emitter),this._onDidEscape=this._register(new a.Emitter),this.options=u,this._element=document.createElement("a"),this._element.classList.add("monaco-button"),this._element.tabIndex=0,this._element.setAttribute("role","button"),this._element.classList.toggle("secondary",!!u.secondary);const d=u.secondary?u.buttonSecondaryBackground:u.buttonBackground,r=u.secondary?u.buttonSecondaryForeground:u.buttonForeground;this._element.style.color=r||"",this._element.style.backgroundColor=d||"",u.supportShortLabel&&(this._labelShortElement=document.createElement("div"),this._labelShortElement.classList.add("monaco-button-label-short"),this._element.appendChild(this._labelShortElement),this._labelElement=document.createElement("div"),this._labelElement.classList.add("monaco-button-label"),this._element.appendChild(this._labelElement),this._element.classList.add("monaco-text-button-with-short-label")),typeof u.title=="string"&&this.setTitle(u.title),typeof u.ariaLabel=="string"&&this._element.setAttribute("aria-label",u.ariaLabel),v.appendChild(this._element),this._register(y.Gesture.addTarget(this._element)),[m.EventType.CLICK,y.EventType.Tap].forEach(l=>{this._register((0,m.addDisposableListener)(this._element,l,o=>{if(!this.enabled){m.EventHelper.stop(o);return}this._onDidClick.fire(o)}))}),this._register((0,m.addDisposableListener)(this._element,m.EventType.KEY_DOWN,l=>{const o=new D.StandardKeyboardEvent(l);let g=!1;this.enabled&&(o.equals(3)||o.equals(10))?(this._onDidClick.fire(l),g=!0):o.equals(9)&&(this._onDidEscape.fire(l),this._element.blur(),g=!0),g&&m.EventHelper.stop(o,!0)})),this._register((0,m.addDisposableListener)(this._element,m.EventType.MOUSE_OVER,l=>{this._element.classList.contains("disabled")||this.updateBackground(!0)})),this._register((0,m.addDisposableListener)(this._element,m.EventType.MOUSE_OUT,l=>{this.updateBackground(!1)})),this.focusTracker=this._register((0,m.trackFocus)(this._element)),this._register(this.focusTracker.onDidFocus(()=>{this.enabled&&this.updateBackground(!0)})),this._register(this.focusTracker.onDidBlur(()=>{this.enabled&&this.updateBackground(!1)}))}dispose(){super.dispose(),this._element.remove()}getContentElements(v){const u=[];for(let d of(0,C.renderLabelWithIcons)(v))if(typeof d=="string"){if(d=d.trim(),d==="")continue;const r=document.createElement("span");r.textContent=d,u.push(r)}else u.push(d);return u}updateBackground(v){let u;this.options.secondary?u=v?this.options.buttonSecondaryHoverBackground:this.options.buttonSecondaryBackground:u=v?this.options.buttonHoverBackground:this.options.buttonBackground,u&&(this._element.style.backgroundColor=u)}get element(){return this._element}set label(v){var u;if(this._label===v||(0,s.isMarkdownString)(this._label)&&(0,s.isMarkdownString)(v)&&(0,s.markdownStringEqual)(this._label,v))return;this._element.classList.add("monaco-text-button");const d=this.options.supportShortLabel?this._labelElement:this._element;if((0,s.isMarkdownString)(v)){const l=(0,L.renderMarkdown)(v,{inline:!0});l.dispose();const o=(u=l.element.querySelector("p"))===null||u===void 0?void 0:u.innerHTML;if(o){const g=(0,k.sanitize)(o,{ADD_TAGS:["b","i","u","code","span"],ALLOWED_ATTR:["class"],RETURN_TRUSTED_TYPE:!0});d.innerHTML=g}else(0,m.reset)(d)}else this.options.supportIcons?(0,m.reset)(d,...this.getContentElements(v)):d.textContent=v;let r="";typeof this.options.title=="string"?r=this.options.title:this.options.title&&(r=(0,L.renderStringAsPlaintext)(v)),this.setTitle(r),typeof this.options.ariaLabel=="string"?this._element.setAttribute("aria-label",this.options.ariaLabel):this.options.ariaLabel&&this._element.setAttribute("aria-label",r),this._label=v}get label(){return this._label}set icon(v){this._element.classList.add(...t.ThemeIcon.asClassNameArray(v))}set enabled(v){v?(this._element.classList.remove("disabled"),this._element.setAttribute("aria-disabled",String(!1)),this._element.tabIndex=0):(this._element.classList.add("disabled"),this._element.setAttribute("aria-disabled",String(!0)))}get enabled(){return!this._element.classList.contains("disabled")}setTitle(v){var u;!this._hover&&v!==""?this._hover=this._register((0,w.setupCustomHover)((u=this.options.hoverDelegate)!==null&&u!==void 0?u:(0,p.getDefaultHoverDelegate)("mouse"),this._element,v)):this._hover&&this._hover.update(v)}}e.Button=n}),define(te[340],ie([1,0,6,44,80,108,2,55]),function(J,e,m,k,D,L,y,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HighlightedLabel=void 0;class w extends y.Disposable{constructor(b,a){var s;super(),this.options=a,this.text="",this.title="",this.highlights=[],this.didEverRender=!1,this.supportIcons=(s=a?.supportIcons)!==null&&s!==void 0?s:!1,this.domNode=m.append(b,m.$("span.monaco-highlighted-label"))}get element(){return this.domNode}set(b,a=[],s="",i){b||(b=""),i&&(b=w.escapeNewLines(b,a)),!(this.didEverRender&&this.text===b&&this.title===s&&p.equals(this.highlights,a))&&(this.text=b,this.title=s,this.highlights=a,this.render())}render(){var b,a,s,i;const t=[];let n=0;for(const h of this.highlights){if(h.end===h.start)continue;if(n<h.start){const d=this.text.substring(n,h.start);this.supportIcons?t.push(...(0,L.renderLabelWithIcons)(d)):t.push(d),n=h.start}const v=this.text.substring(n,h.end),u=m.$("span.highlight",void 0,...this.supportIcons?(0,L.renderLabelWithIcons)(v):[v]);h.extraClasses&&u.classList.add(...h.extraClasses),t.push(u),n=h.end}if(n<this.text.length){const h=this.text.substring(n);this.supportIcons?t.push(...(0,L.renderLabelWithIcons)(h)):t.push(h)}if(m.reset(this.domNode,...t),!((a=(b=this.options)===null||b===void 0?void 0:b.hoverDelegate)===null||a===void 0)&&a.showNativeHover)this.domNode.title=this.title;else if(!this.customHover&&this.title!==""){const h=(i=(s=this.options)===null||s===void 0?void 0:s.hoverDelegate)!==null&&i!==void 0?i:(0,k.getDefaultHoverDelegate)("mouse");this.customHover=this._register((0,D.setupCustomHover)(h,this.domNode,this.title))}else this.customHover&&this.customHover.update(this.title);this.didEverRender=!0}static escapeNewLines(b,a){let s=0,i=0;return b.replace(/\r\n|\r|\n/g,(t,n)=>{i=t===`\r
`?-1:0,n+=s;for(const h of a)h.end<=n||(h.start>=n&&(h.start+=i),h.end>=n&&(h.end+=i));return s+=i,"\u23CE"})}}e.HighlightedLabel=w}),define(te[246],ie([1,0,6,340,80,2,55,181,44,436]),function(J,e,m,k,D,L,y,p,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IconLabel=void 0;class C{constructor(n){this._element=n}get element(){return this._element}set textContent(n){this.disposed||n===this._textContent||(this._textContent=n,this._element.textContent=n)}set className(n){this.disposed||n===this._className||(this._className=n,this._element.className=n)}set empty(n){this.disposed||n===this._empty||(this._empty=n,this._element.style.marginLeft=n?"0":"")}dispose(){this.disposed=!0}}class b extends L.Disposable{constructor(n,h){var v;super(),this.customHovers=new Map,this.creationOptions=h,this.domNode=this._register(new C(m.append(n,m.$(".monaco-icon-label")))),this.labelContainer=m.append(this.domNode.element,m.$(".monaco-icon-label-container")),this.nameContainer=m.append(this.labelContainer,m.$("span.monaco-icon-name-container")),h?.supportHighlights||h?.supportIcons?this.nameNode=this._register(new i(this.nameContainer,!!h.supportIcons)):this.nameNode=new a(this.nameContainer),this.hoverDelegate=(v=h?.hoverDelegate)!==null&&v!==void 0?v:(0,w.getDefaultHoverDelegate)("mouse")}get element(){return this.domNode.element}setLabel(n,h,v){var u;const d=["monaco-icon-label"],r=["monaco-icon-label-container"];let l="";if(v&&(v.extraClasses&&d.push(...v.extraClasses),v.italic&&d.push("italic"),v.strikethrough&&d.push("strikethrough"),v.disabledCommand&&r.push("disabled"),v.title&&(typeof v.title=="string"?l+=v.title:l+=n)),this.domNode.className=d.join(" "),this.domNode.element.setAttribute("aria-label",l),this.labelContainer.className=r.join(" "),this.setupHover(v?.descriptionTitle?this.labelContainer:this.element,v?.title),this.nameNode.setLabel(n,v),h||this.descriptionNode){const o=this.getOrCreateDescriptionNode();o instanceof k.HighlightedLabel?(o.set(h||"",v?v.descriptionMatches:void 0,void 0,v?.labelEscapeNewLines),this.setupHover(o.element,v?.descriptionTitle)):(o.textContent=h&&v?.labelEscapeNewLines?k.HighlightedLabel.escapeNewLines(h,[]):h||"",this.setupHover(o.element,v?.descriptionTitle||""),o.empty=!h)}if(v?.suffix||this.suffixNode){const o=this.getOrCreateSuffixNode();o.textContent=(u=v?.suffix)!==null&&u!==void 0?u:""}}setupHover(n,h){const v=this.customHovers.get(n);if(v&&(v.dispose(),this.customHovers.delete(n)),!h){n.removeAttribute("title");return}if(this.hoverDelegate.showNativeHover)(0,D.setupNativeHover)(n,h);else{const u=(0,D.setupCustomHover)(this.hoverDelegate,n,h);u&&this.customHovers.set(n,u)}}dispose(){super.dispose();for(const n of this.customHovers.values())n.dispose();this.customHovers.clear()}getOrCreateSuffixNode(){if(!this.suffixNode){const n=this._register(new C(m.after(this.nameContainer,m.$("span.monaco-icon-suffix-container"))));this.suffixNode=this._register(new C(m.append(n.element,m.$("span.label-suffix"))))}return this.suffixNode}getOrCreateDescriptionNode(){var n;if(!this.descriptionNode){const h=this._register(new C(m.append(this.labelContainer,m.$("span.monaco-icon-description-container"))));!((n=this.creationOptions)===null||n===void 0)&&n.supportDescriptionHighlights?this.descriptionNode=this._register(new k.HighlightedLabel(m.append(h.element,m.$("span.label-description")),{supportIcons:!!this.creationOptions.supportIcons})):this.descriptionNode=this._register(new C(m.append(h.element,m.$("span.label-description"))))}return this.descriptionNode}}e.IconLabel=b;class a{constructor(n){this.container=n,this.label=void 0,this.singleLabel=void 0}setLabel(n,h){if(!(this.label===n&&(0,y.equals)(this.options,h)))if(this.label=n,this.options=h,typeof n=="string")this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=m.append(this.container,m.$("a.label-name",{id:h?.domId}))),this.singleLabel.textContent=n;else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;for(let v=0;v<n.length;v++){const u=n[v],d=h?.domId&&`${h?.domId}_${v}`;m.append(this.container,m.$("a.label-name",{id:d,"data-icon-label-count":n.length,"data-icon-label-index":v,role:"treeitem"},u)),v<n.length-1&&m.append(this.container,m.$("span.label-separator",void 0,h?.separator||"/"))}}}}function s(t,n,h){if(!h)return;let v=0;return t.map(u=>{const d={start:v,end:v+u.length},r=h.map(l=>p.Range.intersect(d,l)).filter(l=>!p.Range.isEmpty(l)).map(({start:l,end:o})=>({start:l-v,end:o-v}));return v=d.end+n.length,r})}class i extends L.Disposable{constructor(n,h){super(),this.container=n,this.supportIcons=h,this.label=void 0,this.singleLabel=void 0}setLabel(n,h){if(!(this.label===n&&(0,y.equals)(this.options,h)))if(this.label=n,this.options=h,typeof n=="string")this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=this._register(new k.HighlightedLabel(m.append(this.container,m.$("a.label-name",{id:h?.domId})),{supportIcons:this.supportIcons}))),this.singleLabel.set(n,h?.matches,void 0,h?.labelEscapeNewLines);else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;const v=h?.separator||"/",u=s(n,v,h?.matches);for(let d=0;d<n.length;d++){const r=n[d],l=u?u[d]:void 0,o=h?.domId&&`${h?.domId}_${d}`,g=m.$("a.label-name",{id:o,"data-icon-label-count":n.length,"data-icon-label-index":d,role:"treeitem"});this._register(new k.HighlightedLabel(m.append(this.container,g),{supportIcons:this.supportIcons})).set(r,l,void 0,h?.labelEscapeNewLines),d<n.length-1&&m.append(g,m.$("span.label-separator",void 0,v))}}}}}),define(te[198],ie([1,0,6,44,80,234,2,55,600,438]),function(J,e,m,k,D,L,y,p,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.KeybindingLabel=e.unthemedKeybindingLabelOptions=void 0;const C=m.$;e.unthemedKeybindingLabelOptions={keybindingLabelBackground:void 0,keybindingLabelForeground:void 0,keybindingLabelBorder:void 0,keybindingLabelBottomBorder:void 0,keybindingLabelShadow:void 0};class b extends y.Disposable{constructor(s,i,t){super(),this.os=i,this.keyElements=new Set,this.options=t||Object.create(null);const n=this.options.keybindingLabelForeground;this.domNode=m.append(s,C(".monaco-keybinding")),n&&(this.domNode.style.color=n),this.hover=this._register((0,D.setupCustomHover)((0,k.getDefaultHoverDelegate)("mouse"),this.domNode,"")),this.didEverRender=!1,s.appendChild(this.domNode)}get element(){return this.domNode}set(s,i){this.didEverRender&&this.keybinding===s&&b.areSame(this.matches,i)||(this.keybinding=s,this.matches=i,this.render())}render(){var s;if(this.clear(),this.keybinding){const i=this.keybinding.getChords();i[0]&&this.renderChord(this.domNode,i[0],this.matches?this.matches.firstPart:null);for(let n=1;n<i.length;n++)m.append(this.domNode,C("span.monaco-keybinding-key-chord-separator",void 0," ")),this.renderChord(this.domNode,i[n],this.matches?this.matches.chordPart:null);const t=(s=this.options.disableTitle)!==null&&s!==void 0&&s?void 0:this.keybinding.getAriaLabel()||void 0;this.hover.update(t),this.domNode.setAttribute("aria-label",t||"")}else this.options&&this.options.renderUnboundKeybindings&&this.renderUnbound(this.domNode);this.didEverRender=!0}clear(){m.clearNode(this.domNode),this.keyElements.clear()}renderChord(s,i,t){const n=L.UILabelProvider.modifierLabels[this.os];i.ctrlKey&&this.renderKey(s,n.ctrlKey,!!t?.ctrlKey,n.separator),i.shiftKey&&this.renderKey(s,n.shiftKey,!!t?.shiftKey,n.separator),i.altKey&&this.renderKey(s,n.altKey,!!t?.altKey,n.separator),i.metaKey&&this.renderKey(s,n.metaKey,!!t?.metaKey,n.separator);const h=i.keyLabel;h&&this.renderKey(s,h,!!t?.keyCode,"")}renderKey(s,i,t,n){m.append(s,this.createKeyElement(i,t?".highlight":"")),n&&m.append(s,C("span.monaco-keybinding-key-separator",void 0,n))}renderUnbound(s){m.append(s,this.createKeyElement((0,w.localize)(0,null)))}createKeyElement(s,i=""){const t=C("span.monaco-keybinding-key"+i,void 0,s);return this.keyElements.add(t),this.options.keybindingLabelBackground&&(t.style.backgroundColor=this.options.keybindingLabelBackground),this.options.keybindingLabelBorder&&(t.style.borderColor=this.options.keybindingLabelBorder),this.options.keybindingLabelBottomBorder&&(t.style.borderBottomColor=this.options.keybindingLabelBottomBorder),this.options.keybindingLabelShadow&&(t.style.boxShadow=`inset 0 -1px 0 ${this.options.keybindingLabelShadow}`),t}static areSame(s,i){return s===i||!s&&!i?!0:!!s&&!!i&&(0,p.equals)(s.firstPart,i.firstPart)&&(0,p.equals)(s.chordPart,i.chordPart)}}e.KeybindingLabel=b}),define(te[622],ie([1,0,6,88,48,197,44,80,109,13,7,68,2,17,601,444]),function(J,e,m,k,D,L,y,p,w,C,b,a,s,i,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectBoxList=void 0;const n=m.$,h="selectOption.entry.template";class v{get templateId(){return h}renderTemplate(r){const l=Object.create(null);return l.root=r,l.text=m.append(r,n(".option-text")),l.detail=m.append(r,n(".option-detail")),l.decoratorRight=m.append(r,n(".option-decorator-right")),l}renderElement(r,l,o){const g=o,c=r.text,f=r.detail,_=r.decoratorRight,S=r.isDisabled;g.text.textContent=c,g.detail.textContent=f||"",g.decoratorRight.innerText=_||"",S?g.root.classList.add("option-disabled"):g.root.classList.remove("option-disabled")}disposeTemplate(r){}}class u extends s.Disposable{constructor(r,l,o,g,c){super(),this.options=[],this._currentSelection=0,this._hasDetails=!1,this._skipLayout=!1,this._sticky=!1,this._isVisible=!1,this.styles=g,this.selectBoxOptions=c||Object.create(null),typeof this.selectBoxOptions.minBottomMargin!="number"?this.selectBoxOptions.minBottomMargin=u.DEFAULT_DROPDOWN_MINIMUM_BOTTOM_MARGIN:this.selectBoxOptions.minBottomMargin<0&&(this.selectBoxOptions.minBottomMargin=0),this.selectElement=document.createElement("select"),this.selectElement.className="monaco-select-box monaco-select-box-dropdown-padding",typeof this.selectBoxOptions.ariaLabel=="string"&&this.selectElement.setAttribute("aria-label",this.selectBoxOptions.ariaLabel),typeof this.selectBoxOptions.ariaDescription=="string"&&this.selectElement.setAttribute("aria-description",this.selectBoxOptions.ariaDescription),this._onDidSelect=new b.Emitter,this._register(this._onDidSelect),this.registerListeners(),this.constructSelectDropDown(o),this.selected=l||0,r&&this.setOptions(r,l),this.initStyleSheet()}setTitle(r){!this._hover&&r?this._hover=this._register((0,p.setupCustomHover)((0,y.getDefaultHoverDelegate)("mouse"),this.selectElement,r)):this._hover&&this._hover.update(r)}getHeight(){return 22}getTemplateId(){return h}constructSelectDropDown(r){this.contextViewProvider=r,this.selectDropDownContainer=m.$(".monaco-select-box-dropdown-container"),this.selectDropDownContainer.classList.add("monaco-select-box-dropdown-padding"),this.selectionDetailsPane=m.append(this.selectDropDownContainer,n(".select-box-details-pane"));const l=m.append(this.selectDropDownContainer,n(".select-box-dropdown-container-width-control")),o=m.append(l,n(".width-control-div"));this.widthControlElement=document.createElement("span"),this.widthControlElement.className="option-text-width-control",m.append(o,this.widthControlElement),this._dropDownPosition=0,this.styleElement=m.createStyleSheet(this.selectDropDownContainer),this.selectDropDownContainer.setAttribute("draggable","true"),this._register(m.addDisposableListener(this.selectDropDownContainer,m.EventType.DRAG_START,g=>{m.EventHelper.stop(g,!0)}))}registerListeners(){this._register(m.addStandardDisposableListener(this.selectElement,"change",l=>{this.selected=l.target.selectedIndex,this._onDidSelect.fire({index:l.target.selectedIndex,selected:l.target.value}),this.options[this.selected]&&this.options[this.selected].text&&this.setTitle(this.options[this.selected].text)})),this._register(m.addDisposableListener(this.selectElement,m.EventType.CLICK,l=>{m.EventHelper.stop(l),this._isVisible?this.hideSelectDropDown(!0):this.showSelectDropDown()})),this._register(m.addDisposableListener(this.selectElement,m.EventType.MOUSE_DOWN,l=>{m.EventHelper.stop(l)}));let r;this._register(m.addDisposableListener(this.selectElement,"touchstart",l=>{r=this._isVisible})),this._register(m.addDisposableListener(this.selectElement,"touchend",l=>{m.EventHelper.stop(l),r?this.hideSelectDropDown(!0):this.showSelectDropDown()})),this._register(m.addDisposableListener(this.selectElement,m.EventType.KEY_DOWN,l=>{const o=new D.StandardKeyboardEvent(l);let g=!1;i.isMacintosh?(o.keyCode===18||o.keyCode===16||o.keyCode===10||o.keyCode===3)&&(g=!0):(o.keyCode===18&&o.altKey||o.keyCode===16&&o.altKey||o.keyCode===10||o.keyCode===3)&&(g=!0),g&&(this.showSelectDropDown(),m.EventHelper.stop(l,!0))}))}get onDidSelect(){return this._onDidSelect.event}setOptions(r,l){C.equals(this.options,r)||(this.options=r,this.selectElement.options.length=0,this._hasDetails=!1,this._cachedMaxDetailsHeight=void 0,this.options.forEach((o,g)=>{this.selectElement.add(this.createOption(o.text,g,o.isDisabled)),typeof o.description=="string"&&(this._hasDetails=!0)})),l!==void 0&&(this.select(l),this._currentSelection=this.selected)}setOptionsList(){var r;(r=this.selectList)===null||r===void 0||r.splice(0,this.selectList.length,this.options)}select(r){r>=0&&r<this.options.length?this.selected=r:r>this.options.length-1?this.select(this.options.length-1):this.selected<0&&(this.selected=0),this.selectElement.selectedIndex=this.selected,this.options[this.selected]&&this.options[this.selected].text&&this.setTitle(this.options[this.selected].text)}focus(){this.selectElement&&(this.selectElement.tabIndex=0,this.selectElement.focus())}blur(){this.selectElement&&(this.selectElement.tabIndex=-1,this.selectElement.blur())}setFocusable(r){this.selectElement.tabIndex=r?0:-1}render(r){this.container=r,r.classList.add("select-container"),r.appendChild(this.selectElement),this.styleSelectElement()}initStyleSheet(){const r=[];this.styles.listFocusBackground&&r.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.focused { background-color: ${this.styles.listFocusBackground} !important; }`),this.styles.listFocusForeground&&r.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.focused { color: ${this.styles.listFocusForeground} !important; }`),this.styles.decoratorRightForeground&&r.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.focused) .option-decorator-right { color: ${this.styles.decoratorRightForeground}; }`),this.styles.selectBackground&&this.styles.selectBorder&&this.styles.selectBorder!==this.styles.selectBackground?(r.push(`.monaco-select-box-dropdown-container { border: 1px solid ${this.styles.selectBorder} } `),r.push(`.monaco-select-box-dropdown-container > .select-box-details-pane.border-top { border-top: 1px solid ${this.styles.selectBorder} } `),r.push(`.monaco-select-box-dropdown-container > .select-box-details-pane.border-bottom { border-bottom: 1px solid ${this.styles.selectBorder} } `)):this.styles.selectListBorder&&(r.push(`.monaco-select-box-dropdown-container > .select-box-details-pane.border-top { border-top: 1px solid ${this.styles.selectListBorder} } `),r.push(`.monaco-select-box-dropdown-container > .select-box-details-pane.border-bottom { border-bottom: 1px solid ${this.styles.selectListBorder} } `)),this.styles.listHoverForeground&&r.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.option-disabled):not(.focused):hover { color: ${this.styles.listHoverForeground} !important; }`),this.styles.listHoverBackground&&r.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.option-disabled):not(.focused):hover { background-color: ${this.styles.listHoverBackground} !important; }`),this.styles.listFocusOutline&&r.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.focused { outline: 1.6px dotted ${this.styles.listFocusOutline} !important; outline-offset: -1.6px !important; }`),this.styles.listHoverOutline&&r.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.option-disabled):not(.focused):hover { outline: 1.6px dashed ${this.styles.listHoverOutline} !important; outline-offset: -1.6px !important; }`),r.push(".monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.option-disabled.focused { background-color: transparent !important; color: inherit !important; outline: none !important; }"),r.push(".monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.option-disabled:hover { background-color: transparent !important; color: inherit !important; outline: none !important; }"),this.styleElement.textContent=r.join(`
`)}styleSelectElement(){var r,l,o;const g=(r=this.styles.selectBackground)!==null&&r!==void 0?r:"",c=(l=this.styles.selectForeground)!==null&&l!==void 0?l:"",f=(o=this.styles.selectBorder)!==null&&o!==void 0?o:"";this.selectElement.style.backgroundColor=g,this.selectElement.style.color=c,this.selectElement.style.borderColor=f}styleList(){var r,l;const o=(r=this.styles.selectBackground)!==null&&r!==void 0?r:"",g=m.asCssValueWithDefault(this.styles.selectListBackground,o);this.selectDropDownListContainer.style.backgroundColor=g,this.selectionDetailsPane.style.backgroundColor=g;const c=(l=this.styles.focusBorder)!==null&&l!==void 0?l:"";this.selectDropDownContainer.style.outlineColor=c,this.selectDropDownContainer.style.outlineOffset="-1px",this.selectList.style(this.styles)}createOption(r,l,o){const g=document.createElement("option");return g.value=r,g.text=r,g.disabled=!!o,g}showSelectDropDown(){this.selectionDetailsPane.innerText="",!(!this.contextViewProvider||this._isVisible)&&(this.createSelectList(this.selectDropDownContainer),this.setOptionsList(),this.contextViewProvider.showContextView({getAnchor:()=>this.selectElement,render:r=>this.renderSelectDropDown(r,!0),layout:()=>{this.layoutSelectDropDown()},onHide:()=>{this.selectDropDownContainer.classList.remove("visible"),this.selectElement.classList.remove("synthetic-focus")},anchorPosition:this._dropDownPosition},this.selectBoxOptions.optionsAsChildren?this.container:void 0),this._isVisible=!0,this.hideSelectDropDown(!1),this.contextViewProvider.showContextView({getAnchor:()=>this.selectElement,render:r=>this.renderSelectDropDown(r),layout:()=>this.layoutSelectDropDown(),onHide:()=>{this.selectDropDownContainer.classList.remove("visible"),this.selectElement.classList.remove("synthetic-focus")},anchorPosition:this._dropDownPosition},this.selectBoxOptions.optionsAsChildren?this.container:void 0),this._currentSelection=this.selected,this._isVisible=!0,this.selectElement.setAttribute("aria-expanded","true"))}hideSelectDropDown(r){!this.contextViewProvider||!this._isVisible||(this._isVisible=!1,this.selectElement.setAttribute("aria-expanded","false"),r&&this.selectElement.focus(),this.contextViewProvider.hideContextView())}renderSelectDropDown(r,l){return r.appendChild(this.selectDropDownContainer),this.layoutSelectDropDown(l),{dispose:()=>{try{r.removeChild(this.selectDropDownContainer)}catch{}}}}measureMaxDetailsHeight(){let r=0;return this.options.forEach((l,o)=>{this.updateDetail(o),this.selectionDetailsPane.offsetHeight>r&&(r=this.selectionDetailsPane.offsetHeight)}),r}layoutSelectDropDown(r){if(this._skipLayout)return!1;if(this.selectList){this.selectDropDownContainer.classList.add("visible");const l=m.getWindow(this.selectElement),o=m.getDomNodePagePosition(this.selectElement),g=m.getWindow(this.selectElement).getComputedStyle(this.selectElement),c=parseFloat(g.getPropertyValue("--dropdown-padding-top"))+parseFloat(g.getPropertyValue("--dropdown-padding-bottom")),f=l.innerHeight-o.top-o.height-(this.selectBoxOptions.minBottomMargin||0),_=o.top-u.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN,S=this.selectElement.offsetWidth,I=this.setWidthControlElement(this.widthControlElement),E=Math.max(I,Math.round(S)).toString()+"px";this.selectDropDownContainer.style.width=E,this.selectList.getHTMLElement().style.height="",this.selectList.layout();let T=this.selectList.contentHeight;this._hasDetails&&this._cachedMaxDetailsHeight===void 0&&(this._cachedMaxDetailsHeight=this.measureMaxDetailsHeight());const N=this._hasDetails?this._cachedMaxDetailsHeight:0,A=T+c+N,O=Math.floor((f-c-N)/this.getHeight()),M=Math.floor((_-c-N)/this.getHeight());if(r)return o.top+o.height>l.innerHeight-22||o.top<u.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN||O<1&&M<1?!1:(O<u.DEFAULT_MINIMUM_VISIBLE_OPTIONS&&M>O&&this.options.length>O?(this._dropDownPosition=1,this.selectDropDownContainer.removeChild(this.selectDropDownListContainer),this.selectDropDownContainer.removeChild(this.selectionDetailsPane),this.selectDropDownContainer.appendChild(this.selectionDetailsPane),this.selectDropDownContainer.appendChild(this.selectDropDownListContainer),this.selectionDetailsPane.classList.remove("border-top"),this.selectionDetailsPane.classList.add("border-bottom")):(this._dropDownPosition=0,this.selectDropDownContainer.removeChild(this.selectDropDownListContainer),this.selectDropDownContainer.removeChild(this.selectionDetailsPane),this.selectDropDownContainer.appendChild(this.selectDropDownListContainer),this.selectDropDownContainer.appendChild(this.selectionDetailsPane),this.selectionDetailsPane.classList.remove("border-bottom"),this.selectionDetailsPane.classList.add("border-top")),!0);if(o.top+o.height>l.innerHeight-22||o.top<u.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN||this._dropDownPosition===0&&O<1||this._dropDownPosition===1&&M<1)return this.hideSelectDropDown(!0),!1;if(this._dropDownPosition===0){if(this._isVisible&&O+M<1)return this.hideSelectDropDown(!0),!1;A>f&&(T=O*this.getHeight())}else A>_&&(T=M*this.getHeight());return this.selectList.layout(T),this.selectList.domFocus(),this.selectList.length>0&&(this.selectList.setFocus([this.selected||0]),this.selectList.reveal(this.selectList.getFocus()[0]||0)),this._hasDetails?(this.selectList.getHTMLElement().style.height=T+c+"px",this.selectDropDownContainer.style.height=""):this.selectDropDownContainer.style.height=T+c+"px",this.updateDetail(this.selected),this.selectDropDownContainer.style.width=E,this.selectDropDownListContainer.setAttribute("tabindex","0"),this.selectElement.classList.add("synthetic-focus"),this.selectDropDownContainer.classList.add("synthetic-focus"),!0}else return!1}setWidthControlElement(r){let l=0;if(r){let o=0,g=0;this.options.forEach((c,f)=>{const _=c.detail?c.detail.length:0,S=c.decoratorRight?c.decoratorRight.length:0,I=c.text.length+_+S;I>g&&(o=f,g=I)}),r.textContent=this.options[o].text+(this.options[o].decoratorRight?this.options[o].decoratorRight+" ":""),l=m.getTotalWidth(r)}return l}createSelectList(r){if(this.selectList)return;this.selectDropDownListContainer=m.append(r,n(".select-box-dropdown-list-container")),this.listRenderer=new v,this.selectList=new w.List("SelectBoxCustom",this.selectDropDownListContainer,this,[this.listRenderer],{useShadows:!1,verticalScrollMode:3,keyboardSupport:!1,mouseSupport:!1,accessibilityProvider:{getAriaLabel:g=>{let c=g.text;return g.detail&&(c+=`. ${g.detail}`),g.decoratorRight&&(c+=`. ${g.decoratorRight}`),g.description&&(c+=`. ${g.description}`),c},getWidgetAriaLabel:()=>(0,t.localize)(0,null),getRole:()=>i.isMacintosh?"":"option",getWidgetRole:()=>"listbox"}}),this.selectBoxOptions.ariaLabel&&(this.selectList.ariaLabel=this.selectBoxOptions.ariaLabel);const l=this._register(new k.DomEmitter(this.selectDropDownListContainer,"keydown")),o=b.Event.chain(l.event,g=>g.filter(()=>this.selectList.length>0).map(c=>new D.StandardKeyboardEvent(c)));this._register(b.Event.chain(o,g=>g.filter(c=>c.keyCode===3))(this.onEnter,this)),this._register(b.Event.chain(o,g=>g.filter(c=>c.keyCode===2))(this.onEnter,this)),this._register(b.Event.chain(o,g=>g.filter(c=>c.keyCode===9))(this.onEscape,this)),this._register(b.Event.chain(o,g=>g.filter(c=>c.keyCode===16))(this.onUpArrow,this)),this._register(b.Event.chain(o,g=>g.filter(c=>c.keyCode===18))(this.onDownArrow,this)),this._register(b.Event.chain(o,g=>g.filter(c=>c.keyCode===12))(this.onPageDown,this)),this._register(b.Event.chain(o,g=>g.filter(c=>c.keyCode===11))(this.onPageUp,this)),this._register(b.Event.chain(o,g=>g.filter(c=>c.keyCode===14))(this.onHome,this)),this._register(b.Event.chain(o,g=>g.filter(c=>c.keyCode===13))(this.onEnd,this)),this._register(b.Event.chain(o,g=>g.filter(c=>c.keyCode>=21&&c.keyCode<=56||c.keyCode>=85&&c.keyCode<=113))(this.onCharacter,this)),this._register(m.addDisposableListener(this.selectList.getHTMLElement(),m.EventType.POINTER_UP,g=>this.onPointerUp(g))),this._register(this.selectList.onMouseOver(g=>typeof g.index<"u"&&this.selectList.setFocus([g.index]))),this._register(this.selectList.onDidChangeFocus(g=>this.onListFocus(g))),this._register(m.addDisposableListener(this.selectDropDownContainer,m.EventType.FOCUS_OUT,g=>{!this._isVisible||m.isAncestor(g.relatedTarget,this.selectDropDownContainer)||this.onListBlur()})),this.selectList.getHTMLElement().setAttribute("aria-label",this.selectBoxOptions.ariaLabel||""),this.selectList.getHTMLElement().setAttribute("aria-expanded","true"),this.styleList()}onPointerUp(r){if(!this.selectList.length)return;m.EventHelper.stop(r);const l=r.target;if(!l||l.classList.contains("slider"))return;const o=l.closest(".monaco-list-row");if(!o)return;const g=Number(o.getAttribute("data-index")),c=o.classList.contains("option-disabled");g>=0&&g<this.options.length&&!c&&(this.selected=g,this.select(this.selected),this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selectList.getFocus()[0]),this.selected!==this._currentSelection&&(this._currentSelection=this.selected,this._onDidSelect.fire({index:this.selectElement.selectedIndex,selected:this.options[this.selected].text}),this.options[this.selected]&&this.options[this.selected].text&&this.setTitle(this.options[this.selected].text)),this.hideSelectDropDown(!0))}onListBlur(){this._sticky||(this.selected!==this._currentSelection&&this.select(this._currentSelection),this.hideSelectDropDown(!1))}renderDescriptionMarkdown(r,l){const o=c=>{for(let f=0;f<c.childNodes.length;f++){const _=c.childNodes.item(f);(_.tagName&&_.tagName.toLowerCase())==="img"?c.removeChild(_):o(_)}},g=(0,L.renderMarkdown)({value:r,supportThemeIcons:!0},{actionHandler:l});return g.element.classList.add("select-box-description-markdown"),o(g.element),g.element}onListFocus(r){!this._isVisible||!this._hasDetails||this.updateDetail(r.indexes[0])}updateDetail(r){var l,o;this.selectionDetailsPane.innerText="";const g=this.options[r],c=(l=g?.description)!==null&&l!==void 0?l:"",f=(o=g?.descriptionIsMarkdown)!==null&&o!==void 0?o:!1;if(c){if(f){const _=g.descriptionMarkdownActionHandler;this.selectionDetailsPane.appendChild(this.renderDescriptionMarkdown(c,_))}else this.selectionDetailsPane.innerText=c;this.selectionDetailsPane.style.display="block"}else this.selectionDetailsPane.style.display="none";this._skipLayout=!0,this.contextViewProvider.layout(),this._skipLayout=!1}onEscape(r){m.EventHelper.stop(r),this.select(this._currentSelection),this.hideSelectDropDown(!0)}onEnter(r){m.EventHelper.stop(r),this.selected!==this._currentSelection&&(this._currentSelection=this.selected,this._onDidSelect.fire({index:this.selectElement.selectedIndex,selected:this.options[this.selected].text}),this.options[this.selected]&&this.options[this.selected].text&&this.setTitle(this.options[this.selected].text)),this.hideSelectDropDown(!0)}onDownArrow(r){if(this.selected<this.options.length-1){m.EventHelper.stop(r,!0);const l=this.options[this.selected+1].isDisabled;if(l&&this.options.length>this.selected+2)this.selected+=2;else{if(l)return;this.selected++}this.select(this.selected),this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selectList.getFocus()[0])}}onUpArrow(r){this.selected>0&&(m.EventHelper.stop(r,!0),this.options[this.selected-1].isDisabled&&this.selected>1?this.selected-=2:this.selected--,this.select(this.selected),this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selectList.getFocus()[0]))}onPageUp(r){m.EventHelper.stop(r),this.selectList.focusPreviousPage(),setTimeout(()=>{this.selected=this.selectList.getFocus()[0],this.options[this.selected].isDisabled&&this.selected<this.options.length-1&&(this.selected++,this.selectList.setFocus([this.selected])),this.selectList.reveal(this.selected),this.select(this.selected)},1)}onPageDown(r){m.EventHelper.stop(r),this.selectList.focusNextPage(),setTimeout(()=>{this.selected=this.selectList.getFocus()[0],this.options[this.selected].isDisabled&&this.selected>0&&(this.selected--,this.selectList.setFocus([this.selected])),this.selectList.reveal(this.selected),this.select(this.selected)},1)}onHome(r){m.EventHelper.stop(r),!(this.options.length<2)&&(this.selected=0,this.options[this.selected].isDisabled&&this.selected>1&&this.selected++,this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selected),this.select(this.selected))}onEnd(r){m.EventHelper.stop(r),!(this.options.length<2)&&(this.selected=this.options.length-1,this.options[this.selected].isDisabled&&this.selected>1&&this.selected--,this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selected),this.select(this.selected))}onCharacter(r){const l=a.KeyCodeUtils.toString(r.keyCode);let o=-1;for(let g=0;g<this.options.length-1;g++)if(o=(g+this.selected+1)%this.options.length,this.options[o].text.charAt(0).toUpperCase()===l&&!this.options[o].isDisabled){this.select(o),this.selectList.setFocus([o]),this.selectList.reveal(this.selectList.getFocus()[0]),m.EventHelper.stop(r);break}}dispose(){this.hideSelectDropDown(!1),super.dispose()}}e.SelectBoxList=u,u.DEFAULT_DROPDOWN_MINIMUM_BOTTOM_MARGIN=32,u.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN=2,u.DEFAULT_MINIMUM_VISIBLE_OPTIONS=3}),define(te[623],ie([1,0,622,618,78,17,443]),function(J,e,m,k,D,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectBox=void 0;class y extends D.Widget{constructor(w,C,b,a,s){super(),L.isMacintosh&&!s?.useCustomDrawn?this.selectBoxDelegate=new k.SelectBoxNative(w,C,a,s):this.selectBoxDelegate=new m.SelectBoxList(w,C,b,a,s),this._register(this.selectBoxDelegate)}get onDidSelect(){return this.selectBoxDelegate.onDidSelect}setOptions(w,C){this.selectBoxDelegate.setOptions(w,C)}select(w){this.selectBoxDelegate.select(w)}focus(){this.selectBoxDelegate.focus()}blur(){this.selectBoxDelegate.blur()}setFocusable(w){this.selectBoxDelegate.setFocusable(w)}render(w){this.selectBoxDelegate.render(w)}}e.SelectBox=y}),define(te[146],ie([1,0,62,213,6,67,44,80,623,41,2,17,21,593,290]),function(J,e,m,k,D,L,y,p,w,C,b,a,s,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectActionViewItem=e.ActionViewItem=e.BaseActionViewItem=void 0;class t extends b.Disposable{get action(){return this._action}constructor(u,d,r={}){super(),this.options=r,this._context=u||this,this._action=d,d instanceof C.Action&&this._register(d.onDidChange(l=>{this.element&&this.handleActionChangeEvent(l)}))}handleActionChangeEvent(u){u.enabled!==void 0&&this.updateEnabled(),u.checked!==void 0&&this.updateChecked(),u.class!==void 0&&this.updateClass(),u.label!==void 0&&(this.updateLabel(),this.updateTooltip()),u.tooltip!==void 0&&this.updateTooltip()}get actionRunner(){return this._actionRunner||(this._actionRunner=this._register(new C.ActionRunner)),this._actionRunner}set actionRunner(u){this._actionRunner=u}isEnabled(){return this._action.enabled}setActionContext(u){this._context=u}render(u){const d=this.element=u;this._register(L.Gesture.addTarget(u));const r=this.options&&this.options.draggable;r&&(u.draggable=!0,m.isFirefox&&this._register((0,D.addDisposableListener)(u,D.EventType.DRAG_START,l=>{var o;return(o=l.dataTransfer)===null||o===void 0?void 0:o.setData(k.DataTransfers.TEXT,this._action.label)}))),this._register((0,D.addDisposableListener)(d,L.EventType.Tap,l=>this.onClick(l,!0))),this._register((0,D.addDisposableListener)(d,D.EventType.MOUSE_DOWN,l=>{r||D.EventHelper.stop(l,!0),this._action.enabled&&l.button===0&&d.classList.add("active")})),a.isMacintosh&&this._register((0,D.addDisposableListener)(d,D.EventType.CONTEXT_MENU,l=>{l.button===0&&l.ctrlKey===!0&&this.onClick(l)})),this._register((0,D.addDisposableListener)(d,D.EventType.CLICK,l=>{D.EventHelper.stop(l,!0),this.options&&this.options.isMenu||this.onClick(l)})),this._register((0,D.addDisposableListener)(d,D.EventType.DBLCLICK,l=>{D.EventHelper.stop(l,!0)})),[D.EventType.MOUSE_UP,D.EventType.MOUSE_OUT].forEach(l=>{this._register((0,D.addDisposableListener)(d,l,o=>{D.EventHelper.stop(o),d.classList.remove("active")}))})}onClick(u,d=!1){var r;D.EventHelper.stop(u,!0);const l=s.isUndefinedOrNull(this._context)?!((r=this.options)===null||r===void 0)&&r.useEventAsContext?u:{preserveFocus:d}:this._context;this.actionRunner.run(this._action,l)}focus(){this.element&&(this.element.tabIndex=0,this.element.focus(),this.element.classList.add("focused"))}blur(){this.element&&(this.element.blur(),this.element.tabIndex=-1,this.element.classList.remove("focused"))}setFocusable(u){this.element&&(this.element.tabIndex=u?0:-1)}get trapsArrowNavigation(){return!1}updateEnabled(){}updateLabel(){}getClass(){return this.action.class}getTooltip(){return this.action.tooltip}updateTooltip(){var u,d,r;if(!this.element)return;const l=(u=this.getTooltip())!==null&&u!==void 0?u:"";if(this.updateAriaLabel(),!((d=this.options.hoverDelegate)===null||d===void 0)&&d.showNativeHover)this.element.title=l;else if(!this.customHover&&l!==""){const o=(r=this.options.hoverDelegate)!==null&&r!==void 0?r:(0,y.getDefaultHoverDelegate)("element");this.customHover=this._store.add((0,p.setupCustomHover)(o,this.element,l))}else this.customHover&&this.customHover.update(l)}updateAriaLabel(){var u;if(this.element){const d=(u=this.getTooltip())!==null&&u!==void 0?u:"";this.element.setAttribute("aria-label",d)}}updateClass(){}updateChecked(){}dispose(){this.element&&(this.element.remove(),this.element=void 0),this._context=void 0,super.dispose()}}e.BaseActionViewItem=t;class n extends t{constructor(u,d,r){super(u,d,r),this.options=r,this.options.icon=r.icon!==void 0?r.icon:!1,this.options.label=r.label!==void 0?r.label:!0,this.cssClass=""}render(u){super.render(u),s.assertType(this.element);const d=document.createElement("a");if(d.classList.add("action-label"),d.setAttribute("role",this.getDefaultAriaRole()),this.label=d,this.element.appendChild(d),this.options.label&&this.options.keybinding){const r=document.createElement("span");r.classList.add("keybinding"),r.textContent=this.options.keybinding,this.element.appendChild(r)}this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked()}getDefaultAriaRole(){return this._action.id===C.Separator.ID?"presentation":this.options.isMenu?"menuitem":"button"}focus(){this.label&&(this.label.tabIndex=0,this.label.focus())}blur(){this.label&&(this.label.tabIndex=-1)}setFocusable(u){this.label&&(this.label.tabIndex=u?0:-1)}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this.action.label)}getTooltip(){let u=null;return this.action.tooltip?u=this.action.tooltip:!this.options.label&&this.action.label&&this.options.icon&&(u=this.action.label,this.options.keybinding&&(u=i.localize(0,null,u,this.options.keybinding))),u??void 0}updateClass(){var u;this.cssClass&&this.label&&this.label.classList.remove(...this.cssClass.split(" ")),this.options.icon?(this.cssClass=this.getClass(),this.label&&(this.label.classList.add("codicon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" "))),this.updateEnabled()):(u=this.label)===null||u===void 0||u.classList.remove("codicon")}updateEnabled(){var u,d;this.action.enabled?(this.label&&(this.label.removeAttribute("aria-disabled"),this.label.classList.remove("disabled")),(u=this.element)===null||u===void 0||u.classList.remove("disabled")):(this.label&&(this.label.setAttribute("aria-disabled","true"),this.label.classList.add("disabled")),(d=this.element)===null||d===void 0||d.classList.add("disabled"))}updateAriaLabel(){var u;if(this.label){const d=(u=this.getTooltip())!==null&&u!==void 0?u:"";this.label.setAttribute("aria-label",d)}}updateChecked(){this.label&&(this.action.checked!==void 0?(this.label.classList.toggle("checked",this.action.checked),this.label.setAttribute("aria-checked",this.action.checked?"true":"false"),this.label.setAttribute("role","checkbox")):(this.label.classList.remove("checked"),this.label.removeAttribute("aria-checked"),this.label.setAttribute("role",this.getDefaultAriaRole())))}}e.ActionViewItem=n;class h extends t{constructor(u,d,r,l,o,g,c){super(u,d),this.selectBox=new w.SelectBox(r,l,o,g,c),this.selectBox.setFocusable(!1),this._register(this.selectBox),this.registerListeners()}select(u){this.selectBox.select(u)}registerListeners(){this._register(this.selectBox.onDidSelect(u=>this.runAction(u.selected,u.index)))}runAction(u,d){this.actionRunner.run(this._action,this.getActionContext(u,d))}getActionContext(u,d){return u}setFocusable(u){this.selectBox.setFocusable(u)}focus(){var u;(u=this.selectBox)===null||u===void 0||u.focus()}blur(){var u;(u=this.selectBox)===null||u===void 0||u.blur()}render(u){this.selectBox.render(u)}}e.SelectActionViewItem=h}),define(te[81],ie([1,0,6,48,146,44,41,7,2,21,290]),function(J,e,m,k,D,L,y,p,w,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ActionBar=void 0;class b extends w.Disposable{constructor(s,i={}){var t,n,h,v,u,d,r;super(),this._actionRunnerDisposables=this._register(new w.DisposableStore),this.viewItemDisposables=this._register(new w.DisposableMap),this.triggerKeyDown=!1,this.focusable=!0,this._onDidBlur=this._register(new p.Emitter),this.onDidBlur=this._onDidBlur.event,this._onDidCancel=this._register(new p.Emitter({onWillAddFirstListener:()=>this.cancelHasListener=!0})),this.onDidCancel=this._onDidCancel.event,this.cancelHasListener=!1,this._onDidRun=this._register(new p.Emitter),this.onDidRun=this._onDidRun.event,this._onWillRun=this._register(new p.Emitter),this.onWillRun=this._onWillRun.event,this.options=i,this._context=(t=i.context)!==null&&t!==void 0?t:null,this._orientation=(n=this.options.orientation)!==null&&n!==void 0?n:0,this._triggerKeys={keyDown:(v=(h=this.options.triggerKeys)===null||h===void 0?void 0:h.keyDown)!==null&&v!==void 0?v:!1,keys:(d=(u=this.options.triggerKeys)===null||u===void 0?void 0:u.keys)!==null&&d!==void 0?d:[3,10]},this._hoverDelegate=(r=i.hoverDelegate)!==null&&r!==void 0?r:this._register((0,L.createInstantHoverDelegate)()),this.options.actionRunner?this._actionRunner=this.options.actionRunner:(this._actionRunner=new y.ActionRunner,this._actionRunnerDisposables.add(this._actionRunner)),this._actionRunnerDisposables.add(this._actionRunner.onDidRun(g=>this._onDidRun.fire(g))),this._actionRunnerDisposables.add(this._actionRunner.onWillRun(g=>this._onWillRun.fire(g))),this.viewItems=[],this.focusedItem=void 0,this.domNode=document.createElement("div"),this.domNode.className="monaco-action-bar";let l,o;switch(this._orientation){case 0:l=[15],o=[17];break;case 1:l=[16],o=[18],this.domNode.className+=" vertical";break}this._register(m.addDisposableListener(this.domNode,m.EventType.KEY_DOWN,g=>{const c=new k.StandardKeyboardEvent(g);let f=!0;const _=typeof this.focusedItem=="number"?this.viewItems[this.focusedItem]:void 0;l&&(c.equals(l[0])||c.equals(l[1]))?f=this.focusPrevious():o&&(c.equals(o[0])||c.equals(o[1]))?f=this.focusNext():c.equals(9)&&this.cancelHasListener?this._onDidCancel.fire():c.equals(14)?f=this.focusFirst():c.equals(13)?f=this.focusLast():c.equals(2)&&_ instanceof D.BaseActionViewItem&&_.trapsArrowNavigation?f=this.focusNext():this.isTriggerKeyEvent(c)?this._triggerKeys.keyDown?this.doTrigger(c):this.triggerKeyDown=!0:f=!1,f&&(c.preventDefault(),c.stopPropagation())})),this._register(m.addDisposableListener(this.domNode,m.EventType.KEY_UP,g=>{const c=new k.StandardKeyboardEvent(g);this.isTriggerKeyEvent(c)?(!this._triggerKeys.keyDown&&this.triggerKeyDown&&(this.triggerKeyDown=!1,this.doTrigger(c)),c.preventDefault(),c.stopPropagation()):(c.equals(2)||c.equals(1026)||c.equals(16)||c.equals(18)||c.equals(15)||c.equals(17))&&this.updateFocusedItem()})),this.focusTracker=this._register(m.trackFocus(this.domNode)),this._register(this.focusTracker.onDidBlur(()=>{(m.getActiveElement()===this.domNode||!m.isAncestor(m.getActiveElement(),this.domNode))&&(this._onDidBlur.fire(),this.previouslyFocusedItem=this.focusedItem,this.focusedItem=void 0,this.triggerKeyDown=!1)})),this._register(this.focusTracker.onDidFocus(()=>this.updateFocusedItem())),this.actionsList=document.createElement("ul"),this.actionsList.className="actions-container",this.options.highlightToggledItems&&this.actionsList.classList.add("highlight-toggled"),this.actionsList.setAttribute("role",this.options.ariaRole||"toolbar"),this.options.ariaLabel&&this.actionsList.setAttribute("aria-label",this.options.ariaLabel),this.domNode.appendChild(this.actionsList),s.appendChild(this.domNode)}refreshRole(){this.length()>=1?this.actionsList.setAttribute("role",this.options.ariaRole||"toolbar"):this.actionsList.setAttribute("role","presentation")}setFocusable(s){if(this.focusable=s,this.focusable){const i=this.viewItems.find(t=>t instanceof D.BaseActionViewItem&&t.isEnabled());i instanceof D.BaseActionViewItem&&i.setFocusable(!0)}else this.viewItems.forEach(i=>{i instanceof D.BaseActionViewItem&&i.setFocusable(!1)})}isTriggerKeyEvent(s){let i=!1;return this._triggerKeys.keys.forEach(t=>{i=i||s.equals(t)}),i}updateFocusedItem(){var s,i;for(let t=0;t<this.actionsList.children.length;t++){const n=this.actionsList.children[t];if(m.isAncestor(m.getActiveElement(),n)){this.focusedItem=t,(i=(s=this.viewItems[this.focusedItem])===null||s===void 0?void 0:s.showHover)===null||i===void 0||i.call(s);break}}}get context(){return this._context}set context(s){this._context=s,this.viewItems.forEach(i=>i.setActionContext(s))}get actionRunner(){return this._actionRunner}set actionRunner(s){this._actionRunner=s,this._actionRunnerDisposables.clear(),this._actionRunnerDisposables.add(this._actionRunner.onDidRun(i=>this._onDidRun.fire(i))),this._actionRunnerDisposables.add(this._actionRunner.onWillRun(i=>this._onWillRun.fire(i))),this.viewItems.forEach(i=>i.actionRunner=s)}getContainer(){return this.domNode}getAction(s){var i;if(typeof s=="number")return(i=this.viewItems[s])===null||i===void 0?void 0:i.action;if(s instanceof HTMLElement){for(;s.parentElement!==this.actionsList;){if(!s.parentElement)return;s=s.parentElement}for(let t=0;t<this.actionsList.childNodes.length;t++)if(this.actionsList.childNodes[t]===s)return this.viewItems[t].action}}push(s,i={}){const t=Array.isArray(s)?s:[s];let n=C.isNumber(i.index)?i.index:null;t.forEach(h=>{const v=document.createElement("li");v.className="action-item",v.setAttribute("role","presentation");let u;const d={hoverDelegate:this._hoverDelegate,...i};this.options.actionViewItemProvider&&(u=this.options.actionViewItemProvider(h,d)),u||(u=new D.ActionViewItem(this.context,h,d)),this.options.allowContextMenu||this.viewItemDisposables.set(u,m.addDisposableListener(v,m.EventType.CONTEXT_MENU,r=>{m.EventHelper.stop(r,!0)})),u.actionRunner=this._actionRunner,u.setActionContext(this.context),u.render(v),this.focusable&&u instanceof D.BaseActionViewItem&&this.viewItems.length===0&&u.setFocusable(!0),n===null||n<0||n>=this.actionsList.children.length?(this.actionsList.appendChild(v),this.viewItems.push(u)):(this.actionsList.insertBefore(v,this.actionsList.children[n]),this.viewItems.splice(n,0,u),n++)}),typeof this.focusedItem=="number"&&this.focus(this.focusedItem),this.refreshRole()}clear(){this.isEmpty()||(this.viewItems=(0,w.dispose)(this.viewItems),this.viewItemDisposables.clearAndDisposeAll(),m.clearNode(this.actionsList),this.refreshRole())}length(){return this.viewItems.length}isEmpty(){return this.viewItems.length===0}focus(s){let i=!1,t;if(s===void 0?i=!0:typeof s=="number"?t=s:typeof s=="boolean"&&(i=s),i&&typeof this.focusedItem>"u"){const n=this.viewItems.findIndex(h=>h.isEnabled());this.focusedItem=n===-1?void 0:n,this.updateFocus(void 0,void 0,!0)}else t!==void 0&&(this.focusedItem=t),this.updateFocus(void 0,void 0,!0)}focusFirst(){return this.focusedItem=this.length()-1,this.focusNext(!0)}focusLast(){return this.focusedItem=0,this.focusPrevious(!0)}focusNext(s){if(typeof this.focusedItem>"u")this.focusedItem=this.viewItems.length-1;else if(this.viewItems.length<=1)return!1;const i=this.focusedItem;let t;do{if(!s&&this.options.preventLoopNavigation&&this.focusedItem+1>=this.viewItems.length)return this.focusedItem=i,!1;this.focusedItem=(this.focusedItem+1)%this.viewItems.length,t=this.viewItems[this.focusedItem]}while(this.focusedItem!==i&&(this.options.focusOnlyEnabledItems&&!t.isEnabled()||t.action.id===y.Separator.ID));return this.updateFocus(),!0}focusPrevious(s){if(typeof this.focusedItem>"u")this.focusedItem=0;else if(this.viewItems.length<=1)return!1;const i=this.focusedItem;let t;do{if(this.focusedItem=this.focusedItem-1,this.focusedItem<0){if(!s&&this.options.preventLoopNavigation)return this.focusedItem=i,!1;this.focusedItem=this.viewItems.length-1}t=this.viewItems[this.focusedItem]}while(this.focusedItem!==i&&(this.options.focusOnlyEnabledItems&&!t.isEnabled()||t.action.id===y.Separator.ID));return this.updateFocus(!0),!0}updateFocus(s,i,t=!1){var n,h;typeof this.focusedItem>"u"&&this.actionsList.focus({preventScroll:i}),this.previouslyFocusedItem!==void 0&&this.previouslyFocusedItem!==this.focusedItem&&((n=this.viewItems[this.previouslyFocusedItem])===null||n===void 0||n.blur());const v=this.focusedItem!==void 0?this.viewItems[this.focusedItem]:void 0;if(v){let u=!0;C.isFunction(v.focus)||(u=!1),this.options.focusOnlyEnabledItems&&C.isFunction(v.isEnabled)&&!v.isEnabled()&&(u=!1),v.action.id===y.Separator.ID&&(u=!1),u?(t||this.previouslyFocusedItem!==this.focusedItem)&&(v.focus(s),this.previouslyFocusedItem=this.focusedItem):(this.actionsList.focus({preventScroll:i}),this.previouslyFocusedItem=void 0),u&&((h=v.showHover)===null||h===void 0||h.call(v))}}doTrigger(s){if(typeof this.focusedItem>"u")return;const i=this.viewItems[this.focusedItem];if(i instanceof D.BaseActionViewItem){const t=i._context===null||i._context===void 0?s:i._context;this.run(i._action,t)}}async run(s,i){await this._actionRunner.run(s,i)}dispose(){this._context=void 0,this.viewItems=(0,w.dispose)(this.viewItems),this.getContainer().remove(),super.dispose()}}e.ActionBar=b}),define(te[341],ie([1,0,6,146,615,7,80,44,291]),function(J,e,m,k,D,L,y,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DropdownMenuActionViewItem=void 0;class w extends k.BaseActionViewItem{constructor(b,a,s,i=Object.create(null)){super(null,b,i),this.actionItem=null,this._onDidChangeVisibility=this._register(new L.Emitter),this.onDidChangeVisibility=this._onDidChangeVisibility.event,this.menuActionsOrProvider=a,this.contextMenuProvider=s,this.options=i,this.options.actionRunner&&(this.actionRunner=this.options.actionRunner)}render(b){this.actionItem=b;const a=t=>{var n;this.element=(0,m.append)(t,(0,m.$)("a.action-label"));let h=[];return typeof this.options.classNames=="string"?h=this.options.classNames.split(/\s+/g).filter(v=>!!v):this.options.classNames&&(h=this.options.classNames),h.find(v=>v==="icon")||h.push("codicon"),this.element.classList.add(...h),this.element.setAttribute("role","button"),this.element.setAttribute("aria-haspopup","true"),this.element.setAttribute("aria-expanded","false"),this._action.label&&this._register((0,y.setupCustomHover)((n=this.options.hoverDelegate)!==null&&n!==void 0?n:(0,p.getDefaultHoverDelegate)("mouse"),this.element,this._action.label)),this.element.ariaLabel=this._action.label||"",null},s=Array.isArray(this.menuActionsOrProvider),i={contextMenuProvider:this.contextMenuProvider,labelRenderer:a,menuAsChild:this.options.menuAsChild,actions:s?this.menuActionsOrProvider:void 0,actionProvider:s?void 0:this.menuActionsOrProvider,skipTelemetry:this.options.skipTelemetry};if(this.dropdownMenu=this._register(new D.DropdownMenu(b,i)),this._register(this.dropdownMenu.onDidChangeVisibility(t=>{var n;(n=this.element)===null||n===void 0||n.setAttribute("aria-expanded",`${t}`),this._onDidChangeVisibility.fire(t)})),this.dropdownMenu.menuOptions={actionViewItemProvider:this.options.actionViewItemProvider,actionRunner:this.actionRunner,getKeyBinding:this.options.keybindingProvider,context:this._context},this.options.anchorAlignmentProvider){const t=this;this.dropdownMenu.menuOptions={...this.dropdownMenu.menuOptions,get anchorAlignment(){return t.options.anchorAlignmentProvider()}}}this.updateTooltip(),this.updateEnabled()}getTooltip(){let b=null;return this.action.tooltip?b=this.action.tooltip:this.action.label&&(b=this.action.label),b??void 0}setActionContext(b){super.setActionContext(b),this.dropdownMenu&&(this.dropdownMenu.menuOptions?this.dropdownMenu.menuOptions.context=b:this.dropdownMenu.menuOptions={context:b})}show(){var b;(b=this.dropdownMenu)===null||b===void 0||b.show()}updateEnabled(){var b,a;const s=!this.action.enabled;(b=this.actionItem)===null||b===void 0||b.classList.toggle("disabled",s),(a=this.element)===null||a===void 0||a.classList.toggle("disabled",s)}}e.DropdownMenuActionViewItem=w}),define(te[247],ie([1,0,6,88,335,81,45,44,80,79,78,7,423,55,599,437]),function(J,e,m,k,D,L,y,p,w,C,b,a,s,i,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HistoryInputBox=e.InputBox=e.unthemedInboxStyles=void 0;const n=m.$;e.unthemedInboxStyles={inputBackground:"#3C3C3C",inputForeground:"#CCCCCC",inputValidationInfoBorder:"#55AAFF",inputValidationInfoBackground:"#063B49",inputValidationWarningBorder:"#B89500",inputValidationWarningBackground:"#352A05",inputValidationErrorBorder:"#BE1100",inputValidationErrorBackground:"#5A1D1D",inputBorder:void 0,inputValidationErrorForeground:void 0,inputValidationInfoForeground:void 0,inputValidationWarningForeground:void 0};class h extends b.Widget{constructor(d,r,l){var o;super(),this.state="idle",this.maxHeight=Number.POSITIVE_INFINITY,this._onDidChange=this._register(new a.Emitter),this.onDidChange=this._onDidChange.event,this._onDidHeightChange=this._register(new a.Emitter),this.onDidHeightChange=this._onDidHeightChange.event,this.contextViewProvider=r,this.options=l,this.message=null,this.placeholder=this.options.placeholder||"",this.tooltip=(o=this.options.tooltip)!==null&&o!==void 0?o:this.placeholder||"",this.ariaLabel=this.options.ariaLabel||"",this.options.validationOptions&&(this.validation=this.options.validationOptions.validation),this.element=m.append(d,n(".monaco-inputbox.idle"));const g=this.options.flexibleHeight?"textarea":"input",c=m.append(this.element,n(".ibwrapper"));if(this.input=m.append(c,n(g+".input.empty")),this.input.setAttribute("autocorrect","off"),this.input.setAttribute("autocapitalize","off"),this.input.setAttribute("spellcheck","false"),this.onfocus(this.input,()=>this.element.classList.add("synthetic-focus")),this.onblur(this.input,()=>this.element.classList.remove("synthetic-focus")),this.options.flexibleHeight){this.maxHeight=typeof this.options.flexibleMaxHeight=="number"?this.options.flexibleMaxHeight:Number.POSITIVE_INFINITY,this.mirror=m.append(c,n("div.mirror")),this.mirror.innerText="\xA0",this.scrollableElement=new C.ScrollableElement(this.element,{vertical:1}),this.options.flexibleWidth&&(this.input.setAttribute("wrap","off"),this.mirror.style.whiteSpace="pre",this.mirror.style.wordWrap="initial"),m.append(d,this.scrollableElement.getDomNode()),this._register(this.scrollableElement),this._register(this.scrollableElement.onScroll(S=>this.input.scrollTop=S.scrollTop));const f=this._register(new k.DomEmitter(d.ownerDocument,"selectionchange")),_=a.Event.filter(f.event,()=>{const S=d.ownerDocument.getSelection();return S?.anchorNode===c});this._register(_(this.updateScrollDimensions,this)),this._register(this.onDidHeightChange(this.updateScrollDimensions,this))}else this.input.type=this.options.type||"text",this.input.setAttribute("wrap","off");this.ariaLabel&&this.input.setAttribute("aria-label",this.ariaLabel),this.placeholder&&!this.options.showPlaceholderOnFocus&&this.setPlaceHolder(this.placeholder),this.tooltip&&this.setTooltip(this.tooltip),this.oninput(this.input,()=>this.onValueChange()),this.onblur(this.input,()=>this.onBlur()),this.onfocus(this.input,()=>this.onFocus()),this._register(this.ignoreGesture(this.input)),setTimeout(()=>this.updateMirror(),0),this.options.actions&&(this.actionbar=this._register(new L.ActionBar(this.element)),this.actionbar.push(this.options.actions,{icon:!0,label:!1})),this.applyStyles()}onBlur(){this._hideMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder","")}onFocus(){this._showMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder",this.placeholder||"")}setPlaceHolder(d){this.placeholder=d,this.input.setAttribute("placeholder",d)}setTooltip(d){this.tooltip=d,this.hover?this.hover.update(d):this.hover=this._register((0,w.setupCustomHover)((0,p.getDefaultHoverDelegate)("mouse"),this.input,d))}get inputElement(){return this.input}get value(){return this.input.value}set value(d){this.input.value!==d&&(this.input.value=d,this.onValueChange())}get height(){return typeof this.cachedHeight=="number"?this.cachedHeight:m.getTotalHeight(this.element)}focus(){this.input.focus()}blur(){this.input.blur()}hasFocus(){return m.isActiveElement(this.input)}select(d=null){this.input.select(),d&&(this.input.setSelectionRange(d.start,d.end),d.end===this.input.value.length&&(this.input.scrollLeft=this.input.scrollWidth))}isSelectionAtEnd(){return this.input.selectionEnd===this.input.value.length&&this.input.selectionStart===this.input.selectionEnd}enable(){this.input.removeAttribute("disabled")}disable(){this.blur(),this.input.disabled=!0,this._hideMessage()}set paddingRight(d){this.input.style.width=`calc(100% - ${d}px)`,this.mirror&&(this.mirror.style.paddingRight=d+"px")}updateScrollDimensions(){if(typeof this.cachedContentHeight!="number"||typeof this.cachedHeight!="number"||!this.scrollableElement)return;const d=this.cachedContentHeight,r=this.cachedHeight,l=this.input.scrollTop;this.scrollableElement.setScrollDimensions({scrollHeight:d,height:r}),this.scrollableElement.setScrollPosition({scrollTop:l})}showMessage(d,r){if(this.state==="open"&&(0,i.equals)(this.message,d))return;this.message=d,this.element.classList.remove("idle"),this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add(this.classForType(d.type));const l=this.stylesForType(this.message.type);this.element.style.border=`1px solid ${m.asCssValueWithDefault(l.border,"transparent")}`,this.message.content&&(this.hasFocus()||r)&&this._showMessage()}hideMessage(){this.message=null,this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add("idle"),this._hideMessage(),this.applyStyles()}validate(){let d=null;return this.validation&&(d=this.validation(this.value),d?(this.inputElement.setAttribute("aria-invalid","true"),this.showMessage(d)):this.inputElement.hasAttribute("aria-invalid")&&(this.inputElement.removeAttribute("aria-invalid"),this.hideMessage())),d?.type}stylesForType(d){const r=this.options.inputBoxStyles;switch(d){case 1:return{border:r.inputValidationInfoBorder,background:r.inputValidationInfoBackground,foreground:r.inputValidationInfoForeground};case 2:return{border:r.inputValidationWarningBorder,background:r.inputValidationWarningBackground,foreground:r.inputValidationWarningForeground};default:return{border:r.inputValidationErrorBorder,background:r.inputValidationErrorBackground,foreground:r.inputValidationErrorForeground}}}classForType(d){switch(d){case 1:return"info";case 2:return"warning";default:return"error"}}_showMessage(){if(!this.contextViewProvider||!this.message)return;let d;const r=()=>d.style.width=m.getTotalWidth(this.element)+"px";this.contextViewProvider.showContextView({getAnchor:()=>this.element,anchorAlignment:1,render:o=>{var g,c;if(!this.message)return null;d=m.append(o,n(".monaco-inputbox-container")),r();const f={inline:!0,className:"monaco-inputbox-message"},_=this.message.formatContent?(0,D.renderFormattedText)(this.message.content,f):(0,D.renderText)(this.message.content,f);_.classList.add(this.classForType(this.message.type));const S=this.stylesForType(this.message.type);return _.style.backgroundColor=(g=S.background)!==null&&g!==void 0?g:"",_.style.color=(c=S.foreground)!==null&&c!==void 0?c:"",_.style.border=S.border?`1px solid ${S.border}`:"",m.append(d,_),null},onHide:()=>{this.state="closed"},layout:r});let l;this.message.type===3?l=t.localize(0,null,this.message.content):this.message.type===2?l=t.localize(1,null,this.message.content):l=t.localize(2,null,this.message.content),y.alert(l),this.state="open"}_hideMessage(){this.contextViewProvider&&(this.state==="open"&&this.contextViewProvider.hideContextView(),this.state="idle")}onValueChange(){this._onDidChange.fire(this.value),this.validate(),this.updateMirror(),this.input.classList.toggle("empty",!this.value),this.state==="open"&&this.contextViewProvider&&this.contextViewProvider.layout()}updateMirror(){if(!this.mirror)return;const d=this.value,l=d.charCodeAt(d.length-1)===10?" ":"";(d+l).replace(/\u000c/g,"")?this.mirror.textContent=d+l:this.mirror.innerText="\xA0",this.layout()}applyStyles(){var d,r,l;const o=this.options.inputBoxStyles,g=(d=o.inputBackground)!==null&&d!==void 0?d:"",c=(r=o.inputForeground)!==null&&r!==void 0?r:"",f=(l=o.inputBorder)!==null&&l!==void 0?l:"";this.element.style.backgroundColor=g,this.element.style.color=c,this.input.style.backgroundColor="inherit",this.input.style.color=c,this.element.style.border=`1px solid ${m.asCssValueWithDefault(f,"transparent")}`}layout(){if(!this.mirror)return;const d=this.cachedContentHeight;this.cachedContentHeight=m.getTotalHeight(this.mirror),d!==this.cachedContentHeight&&(this.cachedHeight=Math.min(this.cachedContentHeight,this.maxHeight),this.input.style.height=this.cachedHeight+"px",this._onDidHeightChange.fire(this.cachedContentHeight))}insertAtCursor(d){const r=this.inputElement,l=r.selectionStart,o=r.selectionEnd,g=r.value;l!==null&&o!==null&&(this.value=g.substr(0,l)+d+g.substr(o),r.setSelectionRange(l+1,l+1),this.layout())}dispose(){var d;this._hideMessage(),this.message=null,(d=this.actionbar)===null||d===void 0||d.dispose(),super.dispose()}}e.InputBox=h;class v extends h{constructor(d,r,l){const o=t.localize(3,null,"\u21C5"),g=t.localize(4,null,"\u21C5");super(d,r,l),this._onDidFocus=this._register(new a.Emitter),this.onDidFocus=this._onDidFocus.event,this._onDidBlur=this._register(new a.Emitter),this.onDidBlur=this._onDidBlur.event,this.history=new s.HistoryNavigator(l.history,100);const c=()=>{if(l.showHistoryHint&&l.showHistoryHint()&&!this.placeholder.endsWith(o)&&!this.placeholder.endsWith(g)&&this.history.getHistory().length){const f=this.placeholder.endsWith(")")?o:g,_=this.placeholder+f;l.showPlaceholderOnFocus&&!m.isActiveElement(this.input)?this.placeholder=_:this.setPlaceHolder(_)}};this.observer=new MutationObserver((f,_)=>{f.forEach(S=>{S.target.textContent||c()})}),this.observer.observe(this.input,{attributeFilter:["class"]}),this.onfocus(this.input,()=>c()),this.onblur(this.input,()=>{const f=_=>{if(this.placeholder.endsWith(_)){const S=this.placeholder.slice(0,this.placeholder.length-_.length);return l.showPlaceholderOnFocus?this.placeholder=S:this.setPlaceHolder(S),!0}else return!1};f(g)||f(o)})}dispose(){super.dispose(),this.observer&&(this.observer.disconnect(),this.observer=void 0)}addToHistory(d){this.value&&(d||this.value!==this.getCurrentValue())&&this.history.add(this.value)}isAtLastInHistory(){return this.history.isLast()}isNowhereInHistory(){return this.history.isNowhere()}showNextValue(){this.history.has(this.value)||this.addToHistory();let d=this.getNextValue();d&&(d=d===this.value?this.getNextValue():d),this.value=d??"",y.status(this.value?this.value:t.localize(5,null))}showPreviousValue(){this.history.has(this.value)||this.addToHistory();let d=this.getPreviousValue();d&&(d=d===this.value?this.getPreviousValue():d),d&&(this.value=d,y.status(this.value))}setPlaceHolder(d){super.setPlaceHolder(d),this.setTooltip(d)}onBlur(){super.onBlur(),this._onDidBlur.fire()}onFocus(){super.onFocus(),this._onDidFocus.fire()}getCurrentValue(){let d=this.history.current();return d||(d=this.history.last(),this.history.next()),d}getPreviousValue(){return this.history.previous()||this.history.first()}getNextValue(){return this.history.next()}}e.HistoryInputBox=v}),define(te[624],ie([1,0,62,67,6,48,72,81,146,336,79,41,15,26,183,30,136,2,17,11]),function(J,e,m,k,D,L,y,p,w,C,b,a,s,i,t,n,h,v,u,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Menu=e.Direction=e.MENU_ESCAPED_MNEMONIC_REGEX=e.MENU_MNEMONIC_REGEX=void 0,e.cleanMnemonic=f,e.formatRule=_,e.MENU_MNEMONIC_REGEX=/\(&([^\s&])\)|(^|[^&])&([^\s&])/,e.MENU_ESCAPED_MNEMONIC_REGEX=/(&amp;)?(&amp;)([^\s&])/g;var r;(function(I){I[I.Right=0]="Right",I[I.Left=1]="Left"})(r||(e.Direction=r={}));class l extends p.ActionBar{constructor(E,T,N,A){E.classList.add("monaco-menu-container"),E.setAttribute("role","presentation");const O=document.createElement("div");O.classList.add("monaco-menu"),O.setAttribute("role","presentation"),super(O,{orientation:1,actionViewItemProvider:R=>this.doGetActionViewItem(R,N,M),context:N.context,actionRunner:N.actionRunner,ariaLabel:N.ariaLabel,ariaRole:"menu",focusOnlyEnabledItems:!0,triggerKeys:{keys:[3,...u.isMacintosh||u.isLinux?[10]:[]],keyDown:!0}}),this.menuStyles=A,this.menuElement=O,this.actionsList.tabIndex=0,this.initializeOrUpdateStyleSheet(E,A),this._register(k.Gesture.addTarget(O)),this._register((0,D.addDisposableListener)(O,D.EventType.KEY_DOWN,R=>{new L.StandardKeyboardEvent(R).equals(2)&&R.preventDefault()})),N.enableMnemonics&&this._register((0,D.addDisposableListener)(O,D.EventType.KEY_DOWN,R=>{const B=R.key.toLocaleLowerCase();if(this.mnemonics.has(B)){D.EventHelper.stop(R,!0);const H=this.mnemonics.get(B);if(H.length===1&&(H[0]instanceof g&&H[0].container&&this.focusItemByElement(H[0].container),H[0].onClick(R)),H.length>1){const V=H.shift();V&&V.container&&(this.focusItemByElement(V.container),H.push(V)),this.mnemonics.set(B,H)}}})),u.isLinux&&this._register((0,D.addDisposableListener)(O,D.EventType.KEY_DOWN,R=>{const B=new L.StandardKeyboardEvent(R);B.equals(14)||B.equals(11)?(this.focusedItem=this.viewItems.length-1,this.focusNext(),D.EventHelper.stop(R,!0)):(B.equals(13)||B.equals(12))&&(this.focusedItem=0,this.focusPrevious(),D.EventHelper.stop(R,!0))})),this._register((0,D.addDisposableListener)(this.domNode,D.EventType.MOUSE_OUT,R=>{const B=R.relatedTarget;(0,D.isAncestor)(B,this.domNode)||(this.focusedItem=void 0,this.updateFocus(),R.stopPropagation())})),this._register((0,D.addDisposableListener)(this.actionsList,D.EventType.MOUSE_OVER,R=>{let B=R.target;if(!(!B||!(0,D.isAncestor)(B,this.actionsList)||B===this.actionsList)){for(;B.parentElement!==this.actionsList&&B.parentElement!==null;)B=B.parentElement;if(B.classList.contains("action-item")){const H=this.focusedItem;this.setFocusedItem(B),H!==this.focusedItem&&this.updateFocus()}}})),this._register(k.Gesture.addTarget(this.actionsList)),this._register((0,D.addDisposableListener)(this.actionsList,k.EventType.Tap,R=>{let B=R.initialTarget;if(!(!B||!(0,D.isAncestor)(B,this.actionsList)||B===this.actionsList)){for(;B.parentElement!==this.actionsList&&B.parentElement!==null;)B=B.parentElement;if(B.classList.contains("action-item")){const H=this.focusedItem;this.setFocusedItem(B),H!==this.focusedItem&&this.updateFocus()}}}));const M={parent:this};this.mnemonics=new Map,this.scrollableElement=this._register(new b.DomScrollableElement(O,{alwaysConsumeMouseWheel:!0,horizontal:2,vertical:3,verticalScrollbarSize:7,handleMouseWheel:!0,useShadows:!0}));const P=this.scrollableElement.getDomNode();P.style.position="",this.styleScrollElement(P,A),this._register((0,D.addDisposableListener)(O,k.EventType.Change,R=>{D.EventHelper.stop(R,!0);const B=this.scrollableElement.getScrollPosition().scrollTop;this.scrollableElement.setScrollPosition({scrollTop:B-R.translationY})})),this._register((0,D.addDisposableListener)(P,D.EventType.MOUSE_UP,R=>{R.preventDefault()}));const x=(0,D.getWindow)(E);O.style.maxHeight=`${Math.max(10,x.innerHeight-E.getBoundingClientRect().top-35)}px`,T=T.filter((R,B)=>{var H;return!((H=N.submenuIds)===null||H===void 0)&&H.has(R.id)?(console.warn(`Found submenu cycle: ${R.id}`),!1):!(R instanceof a.Separator&&(B===T.length-1||B===0||T[B-1]instanceof a.Separator))}),this.push(T,{icon:!0,label:!0,isMenu:!0}),E.appendChild(this.scrollableElement.getDomNode()),this.scrollableElement.scanDomNode(),this.viewItems.filter(R=>!(R instanceof c)).forEach((R,B,H)=>{R.updatePositionInSet(B+1,H.length)})}initializeOrUpdateStyleSheet(E,T){this.styleSheet||((0,D.isInShadowDOM)(E)?this.styleSheet=(0,D.createStyleSheet)(E):(l.globalStyleSheet||(l.globalStyleSheet=(0,D.createStyleSheet)()),this.styleSheet=l.globalStyleSheet)),this.styleSheet.textContent=S(T,(0,D.isInShadowDOM)(E))}styleScrollElement(E,T){var N,A;const O=(N=T.foregroundColor)!==null&&N!==void 0?N:"",M=(A=T.backgroundColor)!==null&&A!==void 0?A:"",P=T.borderColor?`1px solid ${T.borderColor}`:"",x="5px",R=T.shadowColor?`0 2px 8px ${T.shadowColor}`:"";E.style.outline=P,E.style.borderRadius=x,E.style.color=O,E.style.backgroundColor=M,E.style.boxShadow=R}getContainer(){return this.scrollableElement.getDomNode()}get onScroll(){return this.scrollableElement.onScroll}focusItemByElement(E){const T=this.focusedItem;this.setFocusedItem(E),T!==this.focusedItem&&this.updateFocus()}setFocusedItem(E){for(let T=0;T<this.actionsList.children.length;T++){const N=this.actionsList.children[T];if(E===N){this.focusedItem=T;break}}}updateFocus(E){super.updateFocus(E,!0,!0),typeof this.focusedItem<"u"&&this.scrollableElement.setScrollPosition({scrollTop:Math.round(this.menuElement.scrollTop)})}doGetActionViewItem(E,T,N){if(E instanceof a.Separator)return new c(T.context,E,{icon:!0},this.menuStyles);if(E instanceof a.SubmenuAction){const A=new g(E,E.actions,N,{...T,submenuIds:new Set([...T.submenuIds||[],E.id])},this.menuStyles);if(T.enableMnemonics){const O=A.getMnemonic();if(O&&A.isEnabled()){let M=[];this.mnemonics.has(O)&&(M=this.mnemonics.get(O)),M.push(A),this.mnemonics.set(O,M)}}return A}else{const A={enableMnemonics:T.enableMnemonics,useEventAsContext:T.useEventAsContext};if(T.getKeyBinding){const M=T.getKeyBinding(E);if(M){const P=M.getLabel();P&&(A.keybinding=P)}}const O=new o(T.context,E,A,this.menuStyles);if(T.enableMnemonics){const M=O.getMnemonic();if(M&&O.isEnabled()){let P=[];this.mnemonics.has(M)&&(P=this.mnemonics.get(M)),P.push(O),this.mnemonics.set(M,P)}}return O}}}e.Menu=l;class o extends w.BaseActionViewItem{constructor(E,T,N,A){if(N.isMenu=!0,super(T,T,N),this.menuStyle=A,this.options=N,this.options.icon=N.icon!==void 0?N.icon:!1,this.options.label=N.label!==void 0?N.label:!0,this.cssClass="",this.options.label&&N.enableMnemonics){const O=this.action.label;if(O){const M=e.MENU_MNEMONIC_REGEX.exec(O);M&&(this.mnemonic=(M[1]?M[1]:M[3]).toLocaleLowerCase())}}this.runOnceToEnableMouseUp=new s.RunOnceScheduler(()=>{this.element&&(this._register((0,D.addDisposableListener)(this.element,D.EventType.MOUSE_UP,O=>{if(D.EventHelper.stop(O,!0),m.isFirefox){if(new y.StandardMouseEvent((0,D.getWindow)(this.element),O).rightButton)return;this.onClick(O)}else setTimeout(()=>{this.onClick(O)},0)})),this._register((0,D.addDisposableListener)(this.element,D.EventType.CONTEXT_MENU,O=>{D.EventHelper.stop(O,!0)})))},100),this._register(this.runOnceToEnableMouseUp)}render(E){super.render(E),this.element&&(this.container=E,this.item=(0,D.append)(this.element,(0,D.$)("a.action-menu-item")),this._action.id===a.Separator.ID?this.item.setAttribute("role","presentation"):(this.item.setAttribute("role","menuitem"),this.mnemonic&&this.item.setAttribute("aria-keyshortcuts",`${this.mnemonic}`)),this.check=(0,D.append)(this.item,(0,D.$)("span.menu-item-check"+n.ThemeIcon.asCSSSelector(i.Codicon.menuSelection))),this.check.setAttribute("role","none"),this.label=(0,D.append)(this.item,(0,D.$)("span.action-label")),this.options.label&&this.options.keybinding&&((0,D.append)(this.item,(0,D.$)("span.keybinding")).textContent=this.options.keybinding),this.runOnceToEnableMouseUp.schedule(),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked(),this.applyStyle())}blur(){super.blur(),this.applyStyle()}focus(){var E;super.focus(),(E=this.item)===null||E===void 0||E.focus(),this.applyStyle()}updatePositionInSet(E,T){this.item&&(this.item.setAttribute("aria-posinset",`${E}`),this.item.setAttribute("aria-setsize",`${T}`))}updateLabel(){var E;if(this.label&&this.options.label){(0,D.clearNode)(this.label);let T=(0,h.stripIcons)(this.action.label);if(T){const N=f(T);this.options.enableMnemonics||(T=N),this.label.setAttribute("aria-label",N.replace(/&&/g,"&"));const A=e.MENU_MNEMONIC_REGEX.exec(T);if(A){T=d.escape(T),e.MENU_ESCAPED_MNEMONIC_REGEX.lastIndex=0;let O=e.MENU_ESCAPED_MNEMONIC_REGEX.exec(T);for(;O&&O[1];)O=e.MENU_ESCAPED_MNEMONIC_REGEX.exec(T);const M=P=>P.replace(/&amp;&amp;/g,"&amp;");O?this.label.append(d.ltrim(M(T.substr(0,O.index))," "),(0,D.$)("u",{"aria-hidden":"true"},O[3]),d.rtrim(M(T.substr(O.index+O[0].length))," ")):this.label.innerText=M(T).trim(),(E=this.item)===null||E===void 0||E.setAttribute("aria-keyshortcuts",(A[1]?A[1]:A[3]).toLocaleLowerCase())}else this.label.innerText=T.replace(/&&/g,"&").trim()}}}updateTooltip(){}updateClass(){this.cssClass&&this.item&&this.item.classList.remove(...this.cssClass.split(" ")),this.options.icon&&this.label?(this.cssClass=this.action.class||"",this.label.classList.add("icon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" ")),this.updateEnabled()):this.label&&this.label.classList.remove("icon")}updateEnabled(){this.action.enabled?(this.element&&(this.element.classList.remove("disabled"),this.element.removeAttribute("aria-disabled")),this.item&&(this.item.classList.remove("disabled"),this.item.removeAttribute("aria-disabled"),this.item.tabIndex=0)):(this.element&&(this.element.classList.add("disabled"),this.element.setAttribute("aria-disabled","true")),this.item&&(this.item.classList.add("disabled"),this.item.setAttribute("aria-disabled","true")))}updateChecked(){if(!this.item)return;const E=this.action.checked;this.item.classList.toggle("checked",!!E),E!==void 0?(this.item.setAttribute("role","menuitemcheckbox"),this.item.setAttribute("aria-checked",E?"true":"false")):(this.item.setAttribute("role","menuitem"),this.item.setAttribute("aria-checked",""))}getMnemonic(){return this.mnemonic}applyStyle(){const E=this.element&&this.element.classList.contains("focused"),T=E&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor,N=E&&this.menuStyle.selectionBackgroundColor?this.menuStyle.selectionBackgroundColor:void 0,A=E&&this.menuStyle.selectionBorderColor?`1px solid ${this.menuStyle.selectionBorderColor}`:"",O=E&&this.menuStyle.selectionBorderColor?"-1px":"";this.item&&(this.item.style.color=T??"",this.item.style.backgroundColor=N??"",this.item.style.outline=A,this.item.style.outlineOffset=O),this.check&&(this.check.style.color=T??"")}}class g extends o{constructor(E,T,N,A,O){super(E,E,A,O),this.submenuActions=T,this.parentData=N,this.submenuOptions=A,this.mysubmenu=null,this.submenuDisposables=this._register(new v.DisposableStore),this.mouseOver=!1,this.expandDirection=A&&A.expandDirection!==void 0?A.expandDirection:r.Right,this.showScheduler=new s.RunOnceScheduler(()=>{this.mouseOver&&(this.cleanupExistingSubmenu(!1),this.createSubmenu(!1))},250),this.hideScheduler=new s.RunOnceScheduler(()=>{this.element&&!(0,D.isAncestor)((0,D.getActiveElement)(),this.element)&&this.parentData.submenu===this.mysubmenu&&(this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!0))},750)}render(E){super.render(E),this.element&&(this.item&&(this.item.classList.add("monaco-submenu-item"),this.item.tabIndex=0,this.item.setAttribute("aria-haspopup","true"),this.updateAriaExpanded("false"),this.submenuIndicator=(0,D.append)(this.item,(0,D.$)("span.submenu-indicator"+n.ThemeIcon.asCSSSelector(i.Codicon.menuSubmenu))),this.submenuIndicator.setAttribute("aria-hidden","true")),this._register((0,D.addDisposableListener)(this.element,D.EventType.KEY_UP,T=>{const N=new L.StandardKeyboardEvent(T);(N.equals(17)||N.equals(3))&&(D.EventHelper.stop(T,!0),this.createSubmenu(!0))})),this._register((0,D.addDisposableListener)(this.element,D.EventType.KEY_DOWN,T=>{const N=new L.StandardKeyboardEvent(T);(0,D.getActiveElement)()===this.item&&(N.equals(17)||N.equals(3))&&D.EventHelper.stop(T,!0)})),this._register((0,D.addDisposableListener)(this.element,D.EventType.MOUSE_OVER,T=>{this.mouseOver||(this.mouseOver=!0,this.showScheduler.schedule())})),this._register((0,D.addDisposableListener)(this.element,D.EventType.MOUSE_LEAVE,T=>{this.mouseOver=!1})),this._register((0,D.addDisposableListener)(this.element,D.EventType.FOCUS_OUT,T=>{this.element&&!(0,D.isAncestor)((0,D.getActiveElement)(),this.element)&&this.hideScheduler.schedule()})),this._register(this.parentData.parent.onScroll(()=>{this.parentData.submenu===this.mysubmenu&&(this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!0))})))}updateEnabled(){}onClick(E){D.EventHelper.stop(E,!0),this.cleanupExistingSubmenu(!1),this.createSubmenu(!0)}cleanupExistingSubmenu(E){if(this.parentData.submenu&&(E||this.parentData.submenu!==this.mysubmenu)){try{this.parentData.submenu.dispose()}catch{}this.parentData.submenu=void 0,this.updateAriaExpanded("false"),this.submenuContainer&&(this.submenuDisposables.clear(),this.submenuContainer=void 0)}}calculateSubmenuMenuLayout(E,T,N,A){const O={top:0,left:0};return O.left=(0,C.layout)(E.width,T.width,{position:A===r.Right?0:1,offset:N.left,size:N.width}),O.left>=N.left&&O.left<N.left+N.width&&(N.left+10+T.width<=E.width&&(O.left=N.left+10),N.top+=10,N.height=0),O.top=(0,C.layout)(E.height,T.height,{position:0,offset:N.top,size:0}),O.top+T.height===N.top&&O.top+N.height+T.height<=E.height&&(O.top+=N.height),O}createSubmenu(E=!0){if(this.element)if(this.parentData.submenu)this.parentData.submenu.focus(!1);else{this.updateAriaExpanded("true"),this.submenuContainer=(0,D.append)(this.element,(0,D.$)("div.monaco-submenu")),this.submenuContainer.classList.add("menubar-menu-items-holder","context-view");const T=(0,D.getWindow)(this.parentData.parent.domNode).getComputedStyle(this.parentData.parent.domNode),N=parseFloat(T.paddingTop||"0")||0;this.submenuContainer.style.zIndex="1",this.submenuContainer.style.position="fixed",this.submenuContainer.style.top="0",this.submenuContainer.style.left="0",this.parentData.submenu=new l(this.submenuContainer,this.submenuActions.length?this.submenuActions:[new a.EmptySubmenuAction],this.submenuOptions,this.menuStyle);const A=this.element.getBoundingClientRect(),O={top:A.top-N,left:A.left,height:A.height+2*N,width:A.width},M=this.submenuContainer.getBoundingClientRect(),P=(0,D.getWindow)(this.element),{top:x,left:R}=this.calculateSubmenuMenuLayout(new D.Dimension(P.innerWidth,P.innerHeight),D.Dimension.lift(M),O,this.expandDirection);this.submenuContainer.style.left=`${R-M.left}px`,this.submenuContainer.style.top=`${x-M.top}px`,this.submenuDisposables.add((0,D.addDisposableListener)(this.submenuContainer,D.EventType.KEY_UP,B=>{new L.StandardKeyboardEvent(B).equals(15)&&(D.EventHelper.stop(B,!0),this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0))})),this.submenuDisposables.add((0,D.addDisposableListener)(this.submenuContainer,D.EventType.KEY_DOWN,B=>{new L.StandardKeyboardEvent(B).equals(15)&&D.EventHelper.stop(B,!0)})),this.submenuDisposables.add(this.parentData.submenu.onDidCancel(()=>{this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0)})),this.parentData.submenu.focus(E),this.mysubmenu=this.parentData.submenu}}updateAriaExpanded(E){var T;this.item&&((T=this.item)===null||T===void 0||T.setAttribute("aria-expanded",E))}applyStyle(){super.applyStyle();const T=this.element&&this.element.classList.contains("focused")&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor;this.submenuIndicator&&(this.submenuIndicator.style.color=T??"")}dispose(){super.dispose(),this.hideScheduler.dispose(),this.mysubmenu&&(this.mysubmenu.dispose(),this.mysubmenu=null),this.submenuContainer&&(this.submenuContainer=void 0)}}class c extends w.ActionViewItem{constructor(E,T,N,A){super(E,T,N),this.menuStyles=A}render(E){super.render(E),this.label&&(this.label.style.borderBottomColor=this.menuStyles.separatorColor?`${this.menuStyles.separatorColor}`:"")}}function f(I){const E=e.MENU_MNEMONIC_REGEX,T=E.exec(I);if(!T)return I;const N=!T[1];return I.replace(E,N?"$2$3":"").trim()}function _(I){const E=(0,t.getCodiconFontCharacters)()[I.id];return`.codicon-${I.id}:before { content: '\\${E.toString(16)}'; }`}function S(I,E){let T=`
.monaco-menu {
	font-size: 13px;
	border-radius: 5px;
	min-width: 160px;
}

${_(i.Codicon.menuSelection)}
${_(i.Codicon.menuSubmenu)}

.monaco-menu .monaco-action-bar {
	text-align: right;
	overflow: hidden;
	white-space: nowrap;
}

.monaco-menu .monaco-action-bar .actions-container {
	display: flex;
	margin: 0 auto;
	padding: 0;
	width: 100%;
	justify-content: flex-end;
}

.monaco-menu .monaco-action-bar.vertical .actions-container {
	display: inline-block;
}

.monaco-menu .monaco-action-bar.reverse .actions-container {
	flex-direction: row-reverse;
}

.monaco-menu .monaco-action-bar .action-item {
	cursor: pointer;
	display: inline-block;
	transition: transform 50ms ease;
	position: relative;  /* DO NOT REMOVE - this is the key to preventing the ghosting icon bug in Chrome 42 */
}

.monaco-menu .monaco-action-bar .action-item.disabled {
	cursor: default;
}

.monaco-menu .monaco-action-bar .action-item .icon,
.monaco-menu .monaco-action-bar .action-item .codicon {
	display: inline-block;
}

.monaco-menu .monaco-action-bar .action-item .codicon {
	display: flex;
	align-items: center;
}

.monaco-menu .monaco-action-bar .action-label {
	font-size: 11px;
	margin-right: 4px;
}

.monaco-menu .monaco-action-bar .action-item.disabled .action-label,
.monaco-menu .monaco-action-bar .action-item.disabled .action-label:hover {
	color: var(--vscode-disabledForeground);
}

/* Vertical actions */

.monaco-menu .monaco-action-bar.vertical {
	text-align: left;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	display: block;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	display: block;
	border-bottom: 1px solid var(--vscode-menu-separatorBackground);
	padding-top: 1px;
	padding: 30px;
}

.monaco-menu .secondary-actions .monaco-action-bar .action-label {
	margin-left: 6px;
}

/* Action Items */
.monaco-menu .monaco-action-bar .action-item.select-container {
	overflow: hidden; /* somehow the dropdown overflows its container, we prevent it here to not push */
	flex: 1;
	max-width: 170px;
	min-width: 60px;
	display: flex;
	align-items: center;
	justify-content: center;
	margin-right: 10px;
}

.monaco-menu .monaco-action-bar.vertical {
	margin-left: 0;
	overflow: visible;
}

.monaco-menu .monaco-action-bar.vertical .actions-container {
	display: block;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	padding: 0;
	transform: none;
	display: flex;
}

.monaco-menu .monaco-action-bar.vertical .action-item.active {
	transform: none;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item {
	flex: 1 1 auto;
	display: flex;
	height: 2em;
	align-items: center;
	position: relative;
	margin: 0 4px;
	border-radius: 4px;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item:hover .keybinding,
.monaco-menu .monaco-action-bar.vertical .action-menu-item:focus .keybinding {
	opacity: unset;
}

.monaco-menu .monaco-action-bar.vertical .action-label {
	flex: 1 1 auto;
	text-decoration: none;
	padding: 0 1em;
	background: none;
	font-size: 12px;
	line-height: 1;
}

.monaco-menu .monaco-action-bar.vertical .keybinding,
.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	display: inline-block;
	flex: 2 1 auto;
	padding: 0 1em;
	text-align: right;
	font-size: 12px;
	line-height: 1;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	height: 100%;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon {
	font-size: 16px !important;
	display: flex;
	align-items: center;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon::before {
	margin-left: auto;
	margin-right: -20px;
}

.monaco-menu .monaco-action-bar.vertical .action-item.disabled .keybinding,
.monaco-menu .monaco-action-bar.vertical .action-item.disabled .submenu-indicator {
	opacity: 0.4;
}

.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator) {
	display: inline-block;
	box-sizing: border-box;
	margin: 0;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	position: static;
	overflow: visible;
}

.monaco-menu .monaco-action-bar.vertical .action-item .monaco-submenu {
	position: absolute;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	width: 100%;
	height: 0px !important;
	opacity: 1;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator.text {
	padding: 0.7em 1em 0.1em 1em;
	font-weight: bold;
	opacity: 1;
}

.monaco-menu .monaco-action-bar.vertical .action-label:hover {
	color: inherit;
}

.monaco-menu .monaco-action-bar.vertical .menu-item-check {
	position: absolute;
	visibility: hidden;
	width: 1em;
	height: 100%;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item.checked .menu-item-check {
	visibility: visible;
	display: flex;
	align-items: center;
	justify-content: center;
}

/* Context Menu */

.context-view.monaco-menu-container {
	outline: 0;
	border: none;
	animation: fadeIn 0.083s linear;
	-webkit-app-region: no-drag;
}

.context-view.monaco-menu-container :focus,
.context-view.monaco-menu-container .monaco-action-bar.vertical:focus,
.context-view.monaco-menu-container .monaco-action-bar.vertical :focus {
	outline: 0;
}

.hc-black .context-view.monaco-menu-container,
.hc-light .context-view.monaco-menu-container,
:host-context(.hc-black) .context-view.monaco-menu-container,
:host-context(.hc-light) .context-view.monaco-menu-container {
	box-shadow: none;
}

.hc-black .monaco-menu .monaco-action-bar.vertical .action-item.focused,
.hc-light .monaco-menu .monaco-action-bar.vertical .action-item.focused,
:host-context(.hc-black) .monaco-menu .monaco-action-bar.vertical .action-item.focused,
:host-context(.hc-light) .monaco-menu .monaco-action-bar.vertical .action-item.focused {
	background: none;
}

/* Vertical Action Bar Styles */

.monaco-menu .monaco-action-bar.vertical {
	padding: 4px 0;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item {
	height: 2em;
}

.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator),
.monaco-menu .monaco-action-bar.vertical .keybinding {
	font-size: inherit;
	padding: 0 2em;
}

.monaco-menu .monaco-action-bar.vertical .menu-item-check {
	font-size: inherit;
	width: 2em;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	font-size: inherit;
	margin: 5px 0 !important;
	padding: 0;
	border-radius: 0;
}

.linux .monaco-menu .monaco-action-bar.vertical .action-label.separator,
:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .action-label.separator {
	margin-left: 0;
	margin-right: 0;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	font-size: 60%;
	padding: 0 1.8em;
}

.linux .monaco-menu .monaco-action-bar.vertical .submenu-indicator,
:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	height: 100%;
	mask-size: 10px 10px;
	-webkit-mask-size: 10px 10px;
}

.monaco-menu .action-item {
	cursor: default;
}`;if(E){T+=`
			/* Arrows */
			.monaco-scrollable-element > .scrollbar > .scra {
				cursor: pointer;
				font-size: 11px !important;
			}

			.monaco-scrollable-element > .visible {
				opacity: 1;

				/* Background rule added for IE9 - to allow clicks on dom node */
				background:rgba(0,0,0,0);

				transition: opacity 100ms linear;
			}
			.monaco-scrollable-element > .invisible {
				opacity: 0;
				pointer-events: none;
			}
			.monaco-scrollable-element > .invisible.fade {
				transition: opacity 800ms linear;
			}

			/* Scrollable Content Inset Shadow */
			.monaco-scrollable-element > .shadow {
				position: absolute;
				display: none;
			}
			.monaco-scrollable-element > .shadow.top {
				display: block;
				top: 0;
				left: 3px;
				height: 3px;
				width: 100%;
			}
			.monaco-scrollable-element > .shadow.left {
				display: block;
				top: 3px;
				left: 0;
				height: 100%;
				width: 3px;
			}
			.monaco-scrollable-element > .shadow.top-left-corner {
				display: block;
				top: 0;
				left: 0;
				height: 3px;
				width: 3px;
			}
		`;const N=I.scrollbarShadow;N&&(T+=`
				.monaco-scrollable-element > .shadow.top {
					box-shadow: ${N} 0 6px 6px -6px inset;
				}

				.monaco-scrollable-element > .shadow.left {
					box-shadow: ${N} 6px 0 6px -6px inset;
				}

				.monaco-scrollable-element > .shadow.top.left {
					box-shadow: ${N} 6px 6px 6px -6px inset;
				}
			`);const A=I.scrollbarSliderBackground;A&&(T+=`
				.monaco-scrollable-element > .scrollbar > .slider {
					background: ${A};
				}
			`);const O=I.scrollbarSliderHoverBackground;O&&(T+=`
				.monaco-scrollable-element > .scrollbar > .slider:hover {
					background: ${O};
				}
			`);const M=I.scrollbarSliderActiveBackground;M&&(T+=`
				.monaco-scrollable-element > .scrollbar > .slider.active {
					background: ${M};
				}
			`)}return T}}),define(te[625],ie([1,0,6,44,80,109,339,7,2,446]),function(J,e,m,k,D,L,y,p,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Table=void 0;class C{constructor(t,n,h){this.columns=t,this.getColumnSize=h,this.templateId=C.TemplateId,this.renderedTemplates=new Set;const v=new Map(n.map(u=>[u.templateId,u]));this.renderers=[];for(const u of t){const d=v.get(u.templateId);if(!d)throw new Error(`Table cell renderer for template id ${u.templateId} not found.`);this.renderers.push(d)}}renderTemplate(t){const n=(0,m.append)(t,(0,m.$)(".monaco-table-tr")),h=[],v=[];for(let d=0;d<this.columns.length;d++){const r=this.renderers[d],l=(0,m.append)(n,(0,m.$)(".monaco-table-td",{"data-col-index":d}));l.style.width=`${this.getColumnSize(d)}px`,h.push(l),v.push(r.renderTemplate(l))}const u={container:t,cellContainers:h,cellTemplateData:v};return this.renderedTemplates.add(u),u}renderElement(t,n,h,v){for(let u=0;u<this.columns.length;u++){const r=this.columns[u].project(t);this.renderers[u].renderElement(r,n,h.cellTemplateData[u],v)}}disposeElement(t,n,h,v){for(let u=0;u<this.columns.length;u++){const d=this.renderers[u];if(d.disposeElement){const l=this.columns[u].project(t);d.disposeElement(l,n,h.cellTemplateData[u],v)}}}disposeTemplate(t){for(let n=0;n<this.columns.length;n++)this.renderers[n].disposeTemplate(t.cellTemplateData[n]);(0,m.clearNode)(t.container),this.renderedTemplates.delete(t)}layoutColumn(t,n){for(const{cellContainers:h}of this.renderedTemplates)h[t].style.width=`${n}px`}}C.TemplateId="row";function b(i){return{getHeight(t){return i.getHeight(t)},getTemplateId(){return C.TemplateId}}}class a extends w.Disposable{get minimumSize(){var t;return(t=this.column.minimumWidth)!==null&&t!==void 0?t:120}get maximumSize(){var t;return(t=this.column.maximumWidth)!==null&&t!==void 0?t:Number.POSITIVE_INFINITY}get onDidChange(){var t;return(t=this.column.onDidChangeWidthConstraints)!==null&&t!==void 0?t:p.Event.None}constructor(t,n){super(),this.column=t,this.index=n,this._onDidLayout=new p.Emitter,this.onDidLayout=this._onDidLayout.event,this.element=(0,m.$)(".monaco-table-th",{"data-col-index":n},t.label),t.tooltip&&this._register((0,D.setupCustomHover)((0,k.getDefaultHoverDelegate)("mouse"),this.element,t.tooltip))}layout(t){this._onDidLayout.fire([this.index,t])}}class s{get onDidChangeFocus(){return this.list.onDidChangeFocus}get onDidChangeSelection(){return this.list.onDidChangeSelection}get onDidScroll(){return this.list.onDidScroll}get onMouseDblClick(){return this.list.onMouseDblClick}get onPointer(){return this.list.onPointer}get onDidFocus(){return this.list.onDidFocus}get scrollTop(){return this.list.scrollTop}set scrollTop(t){this.list.scrollTop=t}get scrollHeight(){return this.list.scrollHeight}get renderHeight(){return this.list.renderHeight}get onDidDispose(){return this.list.onDidDispose}constructor(t,n,h,v,u,d){this.virtualDelegate=h,this.domId=`table_id_${++s.InstanceCount}`,this.disposables=new w.DisposableStore,this.cachedWidth=0,this.cachedHeight=0,this.domNode=(0,m.append)(n,(0,m.$)(`.monaco-table.${this.domId}`));const r=v.map((g,c)=>this.disposables.add(new a(g,c))),l={size:r.reduce((g,c)=>g+c.column.weight,0),views:r.map(g=>({size:g.column.weight,view:g}))};this.splitview=this.disposables.add(new y.SplitView(this.domNode,{orientation:1,scrollbarVisibility:2,getSashOrthogonalSize:()=>this.cachedHeight,descriptor:l})),this.splitview.el.style.height=`${h.headerRowHeight}px`,this.splitview.el.style.lineHeight=`${h.headerRowHeight}px`;const o=new C(v,u,g=>this.splitview.getViewSize(g));this.list=this.disposables.add(new L.List(t,this.domNode,b(h),[o],d)),p.Event.any(...r.map(g=>g.onDidLayout))(([g,c])=>o.layoutColumn(g,c),null,this.disposables),this.splitview.onDidSashReset(g=>{const c=v.reduce((_,S)=>_+S.weight,0),f=v[g].weight/c*this.cachedWidth;this.splitview.resizeView(g,f)},null,this.disposables),this.styleElement=(0,m.createStyleSheet)(this.domNode),this.style(L.unthemedListStyles)}updateOptions(t){this.list.updateOptions(t)}splice(t,n,h=[]){this.list.splice(t,n,h)}getHTMLElement(){return this.domNode}style(t){const n=[];n.push(`.monaco-table.${this.domId} > .monaco-split-view2 .monaco-sash.vertical::before {
			top: ${this.virtualDelegate.headerRowHeight+1}px;
			height: calc(100% - ${this.virtualDelegate.headerRowHeight}px);
		}`),this.styleElement.textContent=n.join(`
`),this.list.style(t)}getSelectedElements(){return this.list.getSelectedElements()}getSelection(){return this.list.getSelection()}getFocus(){return this.list.getFocus()}dispose(){this.disposables.dispose()}}e.Table=s,s.InstanceCount=0}),define(te[166],ie([1,0,78,30,7,80,44,447]),function(J,e,m,k,D,L,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Toggle=e.unthemedToggleStyles=void 0,e.unthemedToggleStyles={inputActiveOptionBorder:"#007ACC00",inputActiveOptionForeground:"#FFFFFF",inputActiveOptionBackground:"#0E639C50"};class p extends m.Widget{constructor(C){var b;super(),this._onChange=this._register(new D.Emitter),this.onChange=this._onChange.event,this._onKeyDown=this._register(new D.Emitter),this.onKeyDown=this._onKeyDown.event,this._opts=C,this._checked=this._opts.isChecked;const a=["monaco-custom-toggle"];this._opts.icon&&(this._icon=this._opts.icon,a.push(...k.ThemeIcon.asClassNameArray(this._icon))),this._opts.actionClassName&&a.push(...this._opts.actionClassName.split(" ")),this._checked&&a.push("checked"),this.domNode=document.createElement("div"),this._hover=this._register((0,L.setupCustomHover)((b=C.hoverDelegate)!==null&&b!==void 0?b:(0,y.getDefaultHoverDelegate)("mouse"),this.domNode,this._opts.title)),this.domNode.classList.add(...a),this._opts.notFocusable||(this.domNode.tabIndex=0),this.domNode.setAttribute("role","checkbox"),this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.setAttribute("aria-label",this._opts.title),this.applyStyles(),this.onclick(this.domNode,s=>{this.enabled&&(this.checked=!this._checked,this._onChange.fire(!1),s.preventDefault())}),this._register(this.ignoreGesture(this.domNode)),this.onkeydown(this.domNode,s=>{if(s.keyCode===10||s.keyCode===3){this.checked=!this._checked,this._onChange.fire(!0),s.preventDefault(),s.stopPropagation();return}this._onKeyDown.fire(s)})}get enabled(){return this.domNode.getAttribute("aria-disabled")!=="true"}focus(){this.domNode.focus()}get checked(){return this._checked}set checked(C){this._checked=C,this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.classList.toggle("checked",this._checked),this.applyStyles()}width(){return 22}applyStyles(){this.domNode&&(this.domNode.style.borderColor=this._checked&&this._opts.inputActiveOptionBorder||"",this.domNode.style.color=this._checked&&this._opts.inputActiveOptionForeground||"inherit",this.domNode.style.backgroundColor=this._checked&&this._opts.inputActiveOptionBackground||"")}enable(){this.domNode.setAttribute("aria-disabled",String(!1))}disable(){this.domNode.setAttribute("aria-disabled",String(!0))}}e.Toggle=p}),define(te[342],ie([1,0,44,166,26,595]),function(J,e,m,k,D,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RegexToggle=e.WholeWordsToggle=e.CaseSensitiveToggle=void 0;const y=L.localize(0,null),p=L.localize(1,null),w=L.localize(2,null);class C extends k.Toggle{constructor(i){var t;super({icon:D.Codicon.caseSensitive,title:y+i.appendTitle,isChecked:i.isChecked,hoverDelegate:(t=i.hoverDelegate)!==null&&t!==void 0?t:(0,m.getDefaultHoverDelegate)("element"),inputActiveOptionBorder:i.inputActiveOptionBorder,inputActiveOptionForeground:i.inputActiveOptionForeground,inputActiveOptionBackground:i.inputActiveOptionBackground})}}e.CaseSensitiveToggle=C;class b extends k.Toggle{constructor(i){var t;super({icon:D.Codicon.wholeWord,title:p+i.appendTitle,isChecked:i.isChecked,hoverDelegate:(t=i.hoverDelegate)!==null&&t!==void 0?t:(0,m.getDefaultHoverDelegate)("element"),inputActiveOptionBorder:i.inputActiveOptionBorder,inputActiveOptionForeground:i.inputActiveOptionForeground,inputActiveOptionBackground:i.inputActiveOptionBackground})}}e.WholeWordsToggle=b;class a extends k.Toggle{constructor(i){var t;super({icon:D.Codicon.regex,title:w+i.appendTitle,isChecked:i.isChecked,hoverDelegate:(t=i.hoverDelegate)!==null&&t!==void 0?t:(0,m.getDefaultHoverDelegate)("element"),inputActiveOptionBorder:i.inputActiveOptionBorder,inputActiveOptionForeground:i.inputActiveOptionForeground,inputActiveOptionBackground:i.inputActiveOptionBackground})}}e.RegexToggle=a}),define(te[248],ie([1,0,6,342,247,78,7,594,2,44,292]),function(J,e,m,k,D,L,y,p,w,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FindInput=void 0;const b=p.localize(0,null);class a extends L.Widget{constructor(i,t,n){super(),this.fixFocusOnOptionClickEnabled=!0,this.imeSessionInProgress=!1,this.additionalTogglesDisposables=this._register(new w.MutableDisposable),this.additionalToggles=[],this._onDidOptionChange=this._register(new y.Emitter),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new y.Emitter),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new y.Emitter),this.onMouseDown=this._onMouseDown.event,this._onInput=this._register(new y.Emitter),this._onKeyUp=this._register(new y.Emitter),this._onCaseSensitiveKeyDown=this._register(new y.Emitter),this.onCaseSensitiveKeyDown=this._onCaseSensitiveKeyDown.event,this._onRegexKeyDown=this._register(new y.Emitter),this.onRegexKeyDown=this._onRegexKeyDown.event,this._lastHighlightFindOptions=0,this.placeholder=n.placeholder||"",this.validation=n.validation,this.label=n.label||b,this.showCommonFindToggles=!!n.showCommonFindToggles;const h=n.appendCaseSensitiveLabel||"",v=n.appendWholeWordsLabel||"",u=n.appendRegexLabel||"",d=n.history||[],r=!!n.flexibleHeight,l=!!n.flexibleWidth,o=n.flexibleMaxHeight;this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new D.HistoryInputBox(this.domNode,t,{placeholder:this.placeholder||"",ariaLabel:this.label||"",validationOptions:{validation:this.validation},history:d,showHistoryHint:n.showHistoryHint,flexibleHeight:r,flexibleWidth:l,flexibleMaxHeight:o,inputBoxStyles:n.inputBoxStyles}));const g=this._register((0,C.createInstantHoverDelegate)());if(this.showCommonFindToggles){this.regex=this._register(new k.RegexToggle({appendTitle:u,isChecked:!1,hoverDelegate:g,...n.toggleStyles})),this._register(this.regex.onChange(f=>{this._onDidOptionChange.fire(f),!f&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.regex.onKeyDown(f=>{this._onRegexKeyDown.fire(f)})),this.wholeWords=this._register(new k.WholeWordsToggle({appendTitle:v,isChecked:!1,hoverDelegate:g,...n.toggleStyles})),this._register(this.wholeWords.onChange(f=>{this._onDidOptionChange.fire(f),!f&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this.caseSensitive=this._register(new k.CaseSensitiveToggle({appendTitle:h,isChecked:!1,hoverDelegate:g,...n.toggleStyles})),this._register(this.caseSensitive.onChange(f=>{this._onDidOptionChange.fire(f),!f&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.caseSensitive.onKeyDown(f=>{this._onCaseSensitiveKeyDown.fire(f)}));const c=[this.caseSensitive.domNode,this.wholeWords.domNode,this.regex.domNode];this.onkeydown(this.domNode,f=>{if(f.equals(15)||f.equals(17)||f.equals(9)){const _=c.indexOf(this.domNode.ownerDocument.activeElement);if(_>=0){let S=-1;f.equals(17)?S=(_+1)%c.length:f.equals(15)&&(_===0?S=c.length-1:S=_-1),f.equals(9)?(c[_].blur(),this.inputBox.focus()):S>=0&&c[S].focus(),m.EventHelper.stop(f,!0)}}})}this.controls=document.createElement("div"),this.controls.className="controls",this.controls.style.display=this.showCommonFindToggles?"":"none",this.caseSensitive&&this.controls.append(this.caseSensitive.domNode),this.wholeWords&&this.controls.appendChild(this.wholeWords.domNode),this.regex&&this.controls.appendChild(this.regex.domNode),this.setAdditionalToggles(n?.additionalToggles),this.controls&&this.domNode.appendChild(this.controls),i?.appendChild(this.domNode),this._register(m.addDisposableListener(this.inputBox.inputElement,"compositionstart",c=>{this.imeSessionInProgress=!0})),this._register(m.addDisposableListener(this.inputBox.inputElement,"compositionend",c=>{this.imeSessionInProgress=!1,this._onInput.fire()})),this.onkeydown(this.inputBox.inputElement,c=>this._onKeyDown.fire(c)),this.onkeyup(this.inputBox.inputElement,c=>this._onKeyUp.fire(c)),this.oninput(this.inputBox.inputElement,c=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,c=>this._onMouseDown.fire(c))}get onDidChange(){return this.inputBox.onDidChange}layout(i){this.inputBox.layout(),this.updateInputBoxPadding(i.collapsedFindWidget)}enable(){var i,t,n;this.domNode.classList.remove("disabled"),this.inputBox.enable(),(i=this.regex)===null||i===void 0||i.enable(),(t=this.wholeWords)===null||t===void 0||t.enable(),(n=this.caseSensitive)===null||n===void 0||n.enable();for(const h of this.additionalToggles)h.enable()}disable(){var i,t,n;this.domNode.classList.add("disabled"),this.inputBox.disable(),(i=this.regex)===null||i===void 0||i.disable(),(t=this.wholeWords)===null||t===void 0||t.disable(),(n=this.caseSensitive)===null||n===void 0||n.disable();for(const h of this.additionalToggles)h.disable()}setFocusInputOnOptionClick(i){this.fixFocusOnOptionClickEnabled=i}setEnabled(i){i?this.enable():this.disable()}setAdditionalToggles(i){for(const t of this.additionalToggles)t.domNode.remove();this.additionalToggles=[],this.additionalTogglesDisposables.value=new w.DisposableStore;for(const t of i??[])this.additionalTogglesDisposables.value.add(t),this.controls.appendChild(t.domNode),this.additionalTogglesDisposables.value.add(t.onChange(n=>{this._onDidOptionChange.fire(n),!n&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus()})),this.additionalToggles.push(t);this.additionalToggles.length>0&&(this.controls.style.display=""),this.updateInputBoxPadding()}updateInputBoxPadding(i=!1){var t,n,h,v,u,d;i?this.inputBox.paddingRight=0:this.inputBox.paddingRight=((n=(t=this.caseSensitive)===null||t===void 0?void 0:t.width())!==null&&n!==void 0?n:0)+((v=(h=this.wholeWords)===null||h===void 0?void 0:h.width())!==null&&v!==void 0?v:0)+((d=(u=this.regex)===null||u===void 0?void 0:u.width())!==null&&d!==void 0?d:0)+this.additionalToggles.reduce((r,l)=>r+l.width(),0)}getValue(){return this.inputBox.value}setValue(i){this.inputBox.value!==i&&(this.inputBox.value=i)}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getCaseSensitive(){var i,t;return(t=(i=this.caseSensitive)===null||i===void 0?void 0:i.checked)!==null&&t!==void 0?t:!1}setCaseSensitive(i){this.caseSensitive&&(this.caseSensitive.checked=i)}getWholeWords(){var i,t;return(t=(i=this.wholeWords)===null||i===void 0?void 0:i.checked)!==null&&t!==void 0?t:!1}setWholeWords(i){this.wholeWords&&(this.wholeWords.checked=i)}getRegex(){var i,t;return(t=(i=this.regex)===null||i===void 0?void 0:i.checked)!==null&&t!==void 0?t:!1}setRegex(i){this.regex&&(this.regex.checked=i,this.validate())}focusOnCaseSensitive(){var i;(i=this.caseSensitive)===null||i===void 0||i.focus()}highlightFindOptions(){this.domNode.classList.remove("highlight-"+this._lastHighlightFindOptions),this._lastHighlightFindOptions=1-this._lastHighlightFindOptions,this.domNode.classList.add("highlight-"+this._lastHighlightFindOptions)}validate(){this.inputBox.validate()}showMessage(i){this.inputBox.showMessage(i)}clearMessage(){this.inputBox.hideMessage()}}e.FindInput=a}),define(te[626],ie([1,0,6,166,247,78,26,7,596,44,292]),function(J,e,m,k,D,L,y,p,w,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReplaceInput=void 0;const b=w.localize(0,null),a=w.localize(1,null);class s extends k.Toggle{constructor(n){var h;super({icon:y.Codicon.preserveCase,title:a+n.appendTitle,isChecked:n.isChecked,hoverDelegate:(h=n.hoverDelegate)!==null&&h!==void 0?h:(0,C.getDefaultHoverDelegate)("element"),inputActiveOptionBorder:n.inputActiveOptionBorder,inputActiveOptionForeground:n.inputActiveOptionForeground,inputActiveOptionBackground:n.inputActiveOptionBackground})}}class i extends L.Widget{constructor(n,h,v,u){super(),this._showOptionButtons=v,this.fixFocusOnOptionClickEnabled=!0,this.cachedOptionsWidth=0,this._onDidOptionChange=this._register(new p.Emitter),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new p.Emitter),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new p.Emitter),this._onInput=this._register(new p.Emitter),this._onKeyUp=this._register(new p.Emitter),this._onPreserveCaseKeyDown=this._register(new p.Emitter),this.onPreserveCaseKeyDown=this._onPreserveCaseKeyDown.event,this.contextViewProvider=h,this.placeholder=u.placeholder||"",this.validation=u.validation,this.label=u.label||b;const d=u.appendPreserveCaseLabel||"",r=u.history||[],l=!!u.flexibleHeight,o=!!u.flexibleWidth,g=u.flexibleMaxHeight;this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new D.HistoryInputBox(this.domNode,this.contextViewProvider,{ariaLabel:this.label||"",placeholder:this.placeholder||"",validationOptions:{validation:this.validation},history:r,showHistoryHint:u.showHistoryHint,flexibleHeight:l,flexibleWidth:o,flexibleMaxHeight:g,inputBoxStyles:u.inputBoxStyles})),this.preserveCase=this._register(new s({appendTitle:d,isChecked:!1,...u.toggleStyles})),this._register(this.preserveCase.onChange(_=>{this._onDidOptionChange.fire(_),!_&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.preserveCase.onKeyDown(_=>{this._onPreserveCaseKeyDown.fire(_)})),this._showOptionButtons?this.cachedOptionsWidth=this.preserveCase.width():this.cachedOptionsWidth=0;const c=[this.preserveCase.domNode];this.onkeydown(this.domNode,_=>{if(_.equals(15)||_.equals(17)||_.equals(9)){const S=c.indexOf(this.domNode.ownerDocument.activeElement);if(S>=0){let I=-1;_.equals(17)?I=(S+1)%c.length:_.equals(15)&&(S===0?I=c.length-1:I=S-1),_.equals(9)?(c[S].blur(),this.inputBox.focus()):I>=0&&c[I].focus(),m.EventHelper.stop(_,!0)}}});const f=document.createElement("div");f.className="controls",f.style.display=this._showOptionButtons?"block":"none",f.appendChild(this.preserveCase.domNode),this.domNode.appendChild(f),n?.appendChild(this.domNode),this.onkeydown(this.inputBox.inputElement,_=>this._onKeyDown.fire(_)),this.onkeyup(this.inputBox.inputElement,_=>this._onKeyUp.fire(_)),this.oninput(this.inputBox.inputElement,_=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,_=>this._onMouseDown.fire(_))}enable(){this.domNode.classList.remove("disabled"),this.inputBox.enable(),this.preserveCase.enable()}disable(){this.domNode.classList.add("disabled"),this.inputBox.disable(),this.preserveCase.disable()}setEnabled(n){n?this.enable():this.disable()}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getPreserveCase(){return this.preserveCase.checked}setPreserveCase(n){this.preserveCase.checked=n}focusOnPreserve(){this.preserveCase.focus()}validate(){var n;(n=this.inputBox)===null||n===void 0||n.validate()}set width(n){this.inputBox.paddingRight=this.cachedOptionsWidth,this.domNode.style.width=n+"px"}dispose(){super.dispose()}}e.ReplaceInput=i}),define(te[627],ie([1,0,81,341,41,26,30,7,2,602,44,448]),function(J,e,m,k,D,L,y,p,w,C,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ToggleMenuAction=e.ToolBar=void 0;class a extends w.Disposable{constructor(t,n,h={orientation:0}){var v;super(),this.submenuActionViewItems=[],this.hasSecondaryActions=!1,this._onDidChangeDropdownVisibility=this._register(new p.EventMultiplexer),this.onDidChangeDropdownVisibility=this._onDidChangeDropdownVisibility.event,this.disposables=this._register(new w.DisposableStore),h.hoverDelegate=(v=h.hoverDelegate)!==null&&v!==void 0?v:this._register((0,b.createInstantHoverDelegate)()),this.options=h,this.lookupKeybindings=typeof this.options.getKeyBinding=="function",this.toggleMenuAction=this._register(new s(()=>{var u;return(u=this.toggleMenuActionViewItem)===null||u===void 0?void 0:u.show()},h.toggleMenuTitle)),this.element=document.createElement("div"),this.element.className="monaco-toolbar",t.appendChild(this.element),this.actionBar=this._register(new m.ActionBar(this.element,{orientation:h.orientation,ariaLabel:h.ariaLabel,actionRunner:h.actionRunner,allowContextMenu:h.allowContextMenu,highlightToggledItems:h.highlightToggledItems,hoverDelegate:h.hoverDelegate,actionViewItemProvider:(u,d)=>{var r;if(u.id===s.ID)return this.toggleMenuActionViewItem=new k.DropdownMenuActionViewItem(u,u.menuActions,n,{actionViewItemProvider:this.options.actionViewItemProvider,actionRunner:this.actionRunner,keybindingProvider:this.options.getKeyBinding,classNames:y.ThemeIcon.asClassNameArray((r=h.moreIcon)!==null&&r!==void 0?r:L.Codicon.toolBarMore),anchorAlignmentProvider:this.options.anchorAlignmentProvider,menuAsChild:!!this.options.renderDropdownAsChildElement,skipTelemetry:this.options.skipTelemetry,isMenu:!0,hoverDelegate:this.options.hoverDelegate}),this.toggleMenuActionViewItem.setActionContext(this.actionBar.context),this.disposables.add(this._onDidChangeDropdownVisibility.add(this.toggleMenuActionViewItem.onDidChangeVisibility)),this.toggleMenuActionViewItem;if(h.actionViewItemProvider){const l=h.actionViewItemProvider(u,d);if(l)return l}if(u instanceof D.SubmenuAction){const l=new k.DropdownMenuActionViewItem(u,u.actions,n,{actionViewItemProvider:this.options.actionViewItemProvider,actionRunner:this.actionRunner,keybindingProvider:this.options.getKeyBinding,classNames:u.class,anchorAlignmentProvider:this.options.anchorAlignmentProvider,menuAsChild:!!this.options.renderDropdownAsChildElement,skipTelemetry:this.options.skipTelemetry,hoverDelegate:this.options.hoverDelegate});return l.setActionContext(this.actionBar.context),this.submenuActionViewItems.push(l),this.disposables.add(this._onDidChangeDropdownVisibility.add(l.onDidChangeVisibility)),l}}}))}set actionRunner(t){this.actionBar.actionRunner=t}get actionRunner(){return this.actionBar.actionRunner}getElement(){return this.element}getItemAction(t){return this.actionBar.getAction(t)}setActions(t,n){this.clear();const h=t?t.slice(0):[];this.hasSecondaryActions=!!(n&&n.length>0),this.hasSecondaryActions&&n&&(this.toggleMenuAction.menuActions=n.slice(0),h.push(this.toggleMenuAction)),h.forEach(v=>{this.actionBar.push(v,{icon:!0,label:!1,keybinding:this.getKeybindingLabel(v)})})}getKeybindingLabel(t){var n,h,v;const u=this.lookupKeybindings?(h=(n=this.options).getKeyBinding)===null||h===void 0?void 0:h.call(n,t):void 0;return(v=u?.getLabel())!==null&&v!==void 0?v:void 0}clear(){this.submenuActionViewItems=[],this.disposables.clear(),this.actionBar.clear()}dispose(){this.clear(),this.disposables.dispose(),super.dispose()}}e.ToolBar=a;class s extends D.Action{constructor(t,n){n=n||C.localize(0,null),super(s.ID,n,void 0,!0),this._menuActions=[],this.toggleDropdownMenu=t}async run(){this.toggleDropdownMenu()}get menuActions(){return this._menuActions}set menuActions(t){this._menuActions=t}}e.ToggleMenuAction=s,s.ID="toolbar.toggle.more"}),define(te[167],ie([1,0,6,88,48,81,248,247,244,109,166,236,153,41,13,15,26,30,47,7,76,2,134,21,603,44,449]),function(J,e,m,k,D,L,y,p,w,C,b,a,s,i,t,n,h,v,u,d,r,l,o,g,c,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractTree=e.TreeFindMatchType=e.TreeFindMode=e.FuzzyToggle=e.ModeToggle=e.TreeRenderer=e.RenderIndentGuides=e.ComposedTreeDelegate=void 0;class _ extends w.ElementsDragAndDropData{constructor(W){super(W.elements.map(z=>z.element)),this.data=W}}function S(ee){return ee instanceof w.ElementsDragAndDropData?new _(ee):ee}class I{constructor(W,z){this.modelProvider=W,this.dnd=z,this.autoExpandDisposable=l.Disposable.None,this.disposables=new l.DisposableStore}getDragURI(W){return this.dnd.getDragURI(W.element)}getDragLabel(W,z){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(W.map(Y=>Y.element),z)}onDragStart(W,z){var Y,j;(j=(Y=this.dnd).onDragStart)===null||j===void 0||j.call(Y,S(W),z)}onDragOver(W,z,Y,j,G,oe=!0){const ne=this.dnd.onDragOver(S(W),z&&z.element,Y,j,G),ce=this.autoExpandNode!==z;if(ce&&(this.autoExpandDisposable.dispose(),this.autoExpandNode=z),typeof z>"u")return ne;if(ce&&typeof ne!="boolean"&&ne.autoExpand&&(this.autoExpandDisposable=(0,n.disposableTimeout)(()=>{const Se=this.modelProvider(),_e=Se.getNodeLocation(z);Se.isCollapsed(_e)&&Se.setCollapsed(_e,!1),this.autoExpandNode=void 0},500,this.disposables)),typeof ne=="boolean"||!ne.accept||typeof ne.bubble>"u"||ne.feedback){if(!oe){const Se=typeof ne=="boolean"?ne:ne.accept,_e=typeof ne=="boolean"?void 0:ne.effect;return{accept:Se,effect:_e,feedback:[Y]}}return ne}if(ne.bubble===1){const Se=this.modelProvider(),_e=Se.getNodeLocation(z),Le=Se.getParentNodeLocation(_e),ke=Se.getNode(Le),Ae=Le&&Se.getListIndex(Le);return this.onDragOver(W,ke,Ae,j,G,!1)}const le=this.modelProvider(),me=le.getNodeLocation(z),ve=le.getListIndex(me),Ce=le.getListRenderCount(me);return{...ne,feedback:(0,t.range)(ve,ve+Ce)}}drop(W,z,Y,j,G){this.autoExpandDisposable.dispose(),this.autoExpandNode=void 0,this.dnd.drop(S(W),z&&z.element,Y,j,G)}onDragEnd(W){var z,Y;(Y=(z=this.dnd).onDragEnd)===null||Y===void 0||Y.call(z,W)}dispose(){this.disposables.dispose(),this.dnd.dispose()}}function E(ee,W){return W&&{...W,identityProvider:W.identityProvider&&{getId(z){return W.identityProvider.getId(z.element)}},dnd:W.dnd&&new I(ee,W.dnd),multipleSelectionController:W.multipleSelectionController&&{isSelectionSingleChangeEvent(z){return W.multipleSelectionController.isSelectionSingleChangeEvent({...z,element:z.element})},isSelectionRangeChangeEvent(z){return W.multipleSelectionController.isSelectionRangeChangeEvent({...z,element:z.element})}},accessibilityProvider:W.accessibilityProvider&&{...W.accessibilityProvider,getSetSize(z){const Y=ee(),j=Y.getNodeLocation(z),G=Y.getParentNodeLocation(j);return Y.getNode(G).visibleChildrenCount},getPosInSet(z){return z.visibleChildIndex+1},isChecked:W.accessibilityProvider&&W.accessibilityProvider.isChecked?z=>W.accessibilityProvider.isChecked(z.element):void 0,getRole:W.accessibilityProvider&&W.accessibilityProvider.getRole?z=>W.accessibilityProvider.getRole(z.element):()=>"treeitem",getAriaLabel(z){return W.accessibilityProvider.getAriaLabel(z.element)},getWidgetAriaLabel(){return W.accessibilityProvider.getWidgetAriaLabel()},getWidgetRole:W.accessibilityProvider&&W.accessibilityProvider.getWidgetRole?()=>W.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:W.accessibilityProvider&&W.accessibilityProvider.getAriaLevel?z=>W.accessibilityProvider.getAriaLevel(z.element):z=>z.depth,getActiveDescendantId:W.accessibilityProvider.getActiveDescendantId&&(z=>W.accessibilityProvider.getActiveDescendantId(z.element))},keyboardNavigationLabelProvider:W.keyboardNavigationLabelProvider&&{...W.keyboardNavigationLabelProvider,getKeyboardNavigationLabel(z){return W.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(z.element)}}}}class T{constructor(W){this.delegate=W}getHeight(W){return this.delegate.getHeight(W.element)}getTemplateId(W){return this.delegate.getTemplateId(W.element)}hasDynamicHeight(W){return!!this.delegate.hasDynamicHeight&&this.delegate.hasDynamicHeight(W.element)}setDynamicHeight(W,z){var Y,j;(j=(Y=this.delegate).setDynamicHeight)===null||j===void 0||j.call(Y,W.element,z)}}e.ComposedTreeDelegate=T;var N;(function(ee){ee.None="none",ee.OnHover="onHover",ee.Always="always"})(N||(e.RenderIndentGuides=N={}));class A{get elements(){return this._elements}constructor(W,z=[]){this._elements=z,this.disposables=new l.DisposableStore,this.onDidChange=d.Event.forEach(W,Y=>this._elements=Y,this.disposables)}dispose(){this.disposables.dispose()}}class O{constructor(W,z,Y,j,G,oe={}){var ne;this.renderer=W,this.modelProvider=z,this.activeNodes=j,this.renderedIndentGuides=G,this.renderedElements=new Map,this.renderedNodes=new Map,this.indent=O.DefaultIndent,this.hideTwistiesOfChildlessElements=!1,this.shouldRenderIndentGuides=!1,this.activeIndentNodes=new Set,this.indentGuidesDisposable=l.Disposable.None,this.disposables=new l.DisposableStore,this.templateId=W.templateId,this.updateOptions(oe),d.Event.map(Y,ce=>ce.node)(this.onDidChangeNodeTwistieState,this,this.disposables),(ne=W.onDidChangeTwistieState)===null||ne===void 0||ne.call(W,this.onDidChangeTwistieState,this,this.disposables)}updateOptions(W={}){if(typeof W.indent<"u"){const z=(0,o.clamp)(W.indent,0,40);if(z!==this.indent){this.indent=z;for(const[Y,j]of this.renderedNodes)this.renderTreeElement(Y,j)}}if(typeof W.renderIndentGuides<"u"){const z=W.renderIndentGuides!==N.None;if(z!==this.shouldRenderIndentGuides){this.shouldRenderIndentGuides=z;for(const[Y,j]of this.renderedNodes)this._renderIndentGuides(Y,j);if(this.indentGuidesDisposable.dispose(),z){const Y=new l.DisposableStore;this.activeNodes.onDidChange(this._onDidChangeActiveNodes,this,Y),this.indentGuidesDisposable=Y,this._onDidChangeActiveNodes(this.activeNodes.elements)}}}typeof W.hideTwistiesOfChildlessElements<"u"&&(this.hideTwistiesOfChildlessElements=W.hideTwistiesOfChildlessElements)}renderTemplate(W){const z=(0,m.append)(W,(0,m.$)(".monaco-tl-row")),Y=(0,m.append)(z,(0,m.$)(".monaco-tl-indent")),j=(0,m.append)(z,(0,m.$)(".monaco-tl-twistie")),G=(0,m.append)(z,(0,m.$)(".monaco-tl-contents")),oe=this.renderer.renderTemplate(G);return{container:W,indent:Y,twistie:j,indentGuidesDisposable:l.Disposable.None,templateData:oe}}renderElement(W,z,Y,j){this.renderedNodes.set(W,Y),this.renderedElements.set(W.element,W),this.renderTreeElement(W,Y),this.renderer.renderElement(W,z,Y.templateData,j)}disposeElement(W,z,Y,j){var G,oe;Y.indentGuidesDisposable.dispose(),(oe=(G=this.renderer).disposeElement)===null||oe===void 0||oe.call(G,W,z,Y.templateData,j),typeof j=="number"&&(this.renderedNodes.delete(W),this.renderedElements.delete(W.element))}disposeTemplate(W){this.renderer.disposeTemplate(W.templateData)}onDidChangeTwistieState(W){const z=this.renderedElements.get(W);z&&this.onDidChangeNodeTwistieState(z)}onDidChangeNodeTwistieState(W){const z=this.renderedNodes.get(W);z&&(this._onDidChangeActiveNodes(this.activeNodes.elements),this.renderTreeElement(W,z))}renderTreeElement(W,z){const Y=O.DefaultIndent+(W.depth-1)*this.indent;z.twistie.style.paddingLeft=`${Y}px`,z.indent.style.width=`${Y+this.indent-16}px`,W.collapsible?z.container.setAttribute("aria-expanded",String(!W.collapsed)):z.container.removeAttribute("aria-expanded"),z.twistie.classList.remove(...v.ThemeIcon.asClassNameArray(h.Codicon.treeItemExpanded));let j=!1;this.renderer.renderTwistie&&(j=this.renderer.renderTwistie(W.element,z.twistie)),W.collapsible&&(!this.hideTwistiesOfChildlessElements||W.visibleChildrenCount>0)?(j||z.twistie.classList.add(...v.ThemeIcon.asClassNameArray(h.Codicon.treeItemExpanded)),z.twistie.classList.add("collapsible"),z.twistie.classList.toggle("collapsed",W.collapsed)):z.twistie.classList.remove("collapsible","collapsed"),this._renderIndentGuides(W,z)}_renderIndentGuides(W,z){if((0,m.clearNode)(z.indent),z.indentGuidesDisposable.dispose(),!this.shouldRenderIndentGuides)return;const Y=new l.DisposableStore,j=this.modelProvider();for(;;){const G=j.getNodeLocation(W),oe=j.getParentNodeLocation(G);if(!oe)break;const ne=j.getNode(oe),ce=(0,m.$)(".indent-guide",{style:`width: ${this.indent}px`});this.activeIndentNodes.has(ne)&&ce.classList.add("active"),z.indent.childElementCount===0?z.indent.appendChild(ce):z.indent.insertBefore(ce,z.indent.firstElementChild),this.renderedIndentGuides.add(ne,ce),Y.add((0,l.toDisposable)(()=>this.renderedIndentGuides.delete(ne,ce))),W=ne}z.indentGuidesDisposable=Y}_onDidChangeActiveNodes(W){if(!this.shouldRenderIndentGuides)return;const z=new Set,Y=this.modelProvider();W.forEach(j=>{const G=Y.getNodeLocation(j);try{const oe=Y.getParentNodeLocation(G);j.collapsible&&j.children.length>0&&!j.collapsed?z.add(j):oe&&z.add(Y.getNode(oe))}catch{}}),this.activeIndentNodes.forEach(j=>{z.has(j)||this.renderedIndentGuides.forEach(j,G=>G.classList.remove("active"))}),z.forEach(j=>{this.activeIndentNodes.has(j)||this.renderedIndentGuides.forEach(j,G=>G.classList.add("active"))}),this.activeIndentNodes=z}dispose(){this.renderedNodes.clear(),this.renderedElements.clear(),this.indentGuidesDisposable.dispose(),(0,l.dispose)(this.disposables)}}e.TreeRenderer=O,O.DefaultIndent=8;class M{get totalCount(){return this._totalCount}get matchCount(){return this._matchCount}constructor(W,z,Y){this.tree=W,this.keyboardNavigationLabelProvider=z,this._filter=Y,this._totalCount=0,this._matchCount=0,this._pattern="",this._lowercasePattern="",this.disposables=new l.DisposableStore,W.onWillRefilter(this.reset,this,this.disposables)}filter(W,z){let Y=1;if(this._filter){const oe=this._filter.filter(W,z);if(typeof oe=="boolean"?Y=oe?1:0:(0,a.isFilterResult)(oe)?Y=(0,a.getVisibleState)(oe.visibility):Y=oe,Y===0)return!1}if(this._totalCount++,!this._pattern)return this._matchCount++,{data:r.FuzzyScore.Default,visibility:Y};const j=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(W),G=Array.isArray(j)?j:[j];for(const oe of G){const ne=oe&&oe.toString();if(typeof ne>"u")return{data:r.FuzzyScore.Default,visibility:Y};let ce;if(this.tree.findMatchType===H.Contiguous){const le=ne.toLowerCase().indexOf(this._lowercasePattern);if(le>-1){ce=[Number.MAX_SAFE_INTEGER,0];for(let me=this._lowercasePattern.length;me>0;me--)ce.push(le+me-1)}}else ce=(0,r.fuzzyScore)(this._pattern,this._lowercasePattern,0,ne,ne.toLowerCase(),0,{firstMatchCanBeWeak:!0,boostFullMatch:!0});if(ce)return this._matchCount++,G.length===1?{data:ce,visibility:Y}:{data:{label:ne,score:ce},visibility:Y}}return this.tree.findMode===B.Filter?typeof this.tree.options.defaultFindVisibility=="number"?this.tree.options.defaultFindVisibility:this.tree.options.defaultFindVisibility?this.tree.options.defaultFindVisibility(W):2:{data:r.FuzzyScore.Default,visibility:Y}}reset(){this._totalCount=0,this._matchCount=0}dispose(){(0,l.dispose)(this.disposables)}}class P extends b.Toggle{constructor(W){var z,Y;super({icon:h.Codicon.listFilter,title:(0,c.localize)(0,null),isChecked:(z=W.isChecked)!==null&&z!==void 0?z:!1,hoverDelegate:(Y=W.hoverDelegate)!==null&&Y!==void 0?Y:(0,f.getDefaultHoverDelegate)("element"),inputActiveOptionBorder:W.inputActiveOptionBorder,inputActiveOptionForeground:W.inputActiveOptionForeground,inputActiveOptionBackground:W.inputActiveOptionBackground})}}e.ModeToggle=P;class x extends b.Toggle{constructor(W){var z,Y;super({icon:h.Codicon.searchFuzzy,title:(0,c.localize)(1,null),isChecked:(z=W.isChecked)!==null&&z!==void 0?z:!1,hoverDelegate:(Y=W.hoverDelegate)!==null&&Y!==void 0?Y:(0,f.getDefaultHoverDelegate)("element"),inputActiveOptionBorder:W.inputActiveOptionBorder,inputActiveOptionForeground:W.inputActiveOptionForeground,inputActiveOptionBackground:W.inputActiveOptionBackground})}}e.FuzzyToggle=x;const R={inputBoxStyles:p.unthemedInboxStyles,toggleStyles:b.unthemedToggleStyles,listFilterWidgetBackground:void 0,listFilterWidgetNoMatchesOutline:void 0,listFilterWidgetOutline:void 0,listFilterWidgetShadow:void 0};var B;(function(ee){ee[ee.Highlight=0]="Highlight",ee[ee.Filter=1]="Filter"})(B||(e.TreeFindMode=B={}));var H;(function(ee){ee[ee.Fuzzy=0]="Fuzzy",ee[ee.Contiguous=1]="Contiguous"})(H||(e.TreeFindMatchType=H={}));class V extends l.Disposable{set mode(W){this.modeToggle.checked=W===B.Filter,this.findInput.inputBox.setPlaceHolder(W===B.Filter?(0,c.localize)(2,null):(0,c.localize)(3,null))}set matchType(W){this.matchTypeToggle.checked=W===H.Fuzzy}constructor(W,z,Y,j,G,oe){var ne;super(),this.tree=z,this.elements=(0,m.h)(".monaco-tree-type-filter",[(0,m.h)(".monaco-tree-type-filter-grab.codicon.codicon-debug-gripper@grab",{tabIndex:0}),(0,m.h)(".monaco-tree-type-filter-input@findInput"),(0,m.h)(".monaco-tree-type-filter-actionbar@actionbar")]),this.width=0,this.right=0,this.top=0,this._onDidDisable=new d.Emitter,W.appendChild(this.elements.root),this._register((0,l.toDisposable)(()=>W.removeChild(this.elements.root)));const ce=(ne=oe?.styles)!==null&&ne!==void 0?ne:R;ce.listFilterWidgetBackground&&(this.elements.root.style.backgroundColor=ce.listFilterWidgetBackground),ce.listFilterWidgetShadow&&(this.elements.root.style.boxShadow=`0 0 8px 2px ${ce.listFilterWidgetShadow}`);const le=this._register((0,f.createInstantHoverDelegate)());this.modeToggle=this._register(new P({...ce.toggleStyles,isChecked:j===B.Filter,hoverDelegate:le})),this.matchTypeToggle=this._register(new x({...ce.toggleStyles,isChecked:G===H.Fuzzy,hoverDelegate:le})),this.onDidChangeMode=d.Event.map(this.modeToggle.onChange,()=>this.modeToggle.checked?B.Filter:B.Highlight,this._store),this.onDidChangeMatchType=d.Event.map(this.matchTypeToggle.onChange,()=>this.matchTypeToggle.checked?H.Fuzzy:H.Contiguous,this._store),this.findInput=this._register(new y.FindInput(this.elements.findInput,Y,{label:(0,c.localize)(4,null),additionalToggles:[this.modeToggle,this.matchTypeToggle],showCommonFindToggles:!1,inputBoxStyles:ce.inputBoxStyles,toggleStyles:ce.toggleStyles,history:oe?.history})),this.actionbar=this._register(new L.ActionBar(this.elements.actionbar)),this.mode=j;const me=this._register(new k.DomEmitter(this.findInput.inputBox.inputElement,"keydown")),ve=d.Event.chain(me.event,Le=>Le.map(ke=>new D.StandardKeyboardEvent(ke)));this._register(ve(Le=>{if(Le.equals(3)){Le.preventDefault(),Le.stopPropagation(),this.findInput.inputBox.addToHistory(),this.tree.domFocus();return}if(Le.equals(18)){Le.preventDefault(),Le.stopPropagation(),this.findInput.inputBox.isAtLastInHistory()||this.findInput.inputBox.isNowhereInHistory()?(this.findInput.inputBox.addToHistory(),this.tree.domFocus()):this.findInput.inputBox.showNextValue();return}if(Le.equals(16)){Le.preventDefault(),Le.stopPropagation(),this.findInput.inputBox.showPreviousValue();return}}));const Ce=this._register(new i.Action("close",(0,c.localize)(5,null),"codicon codicon-close",!0,()=>this.dispose()));this.actionbar.push(Ce,{icon:!0,label:!1});const Se=this._register(new k.DomEmitter(this.elements.grab,"mousedown"));this._register(Se.event(Le=>{const ke=new l.DisposableStore,Ae=ke.add(new k.DomEmitter((0,m.getWindow)(Le),"mousemove")),xe=ke.add(new k.DomEmitter((0,m.getWindow)(Le),"mouseup")),He=this.right,Be=Le.pageX,Ee=this.top,Ne=Le.pageY;this.elements.grab.classList.add("grabbing");const pe=this.elements.root.style.transition;this.elements.root.style.transition="unset";const be=Re=>{const We=Re.pageX-Be;this.right=He-We;const qe=Re.pageY-Ne;this.top=Ee+qe,this.layout()};ke.add(Ae.event(be)),ke.add(xe.event(Re=>{be(Re),this.elements.grab.classList.remove("grabbing"),this.elements.root.style.transition=pe,ke.dispose()}))}));const _e=d.Event.chain(this._register(new k.DomEmitter(this.elements.grab,"keydown")).event,Le=>Le.map(ke=>new D.StandardKeyboardEvent(ke)));this._register(_e(Le=>{let ke,Ae;if(Le.keyCode===15?ke=Number.POSITIVE_INFINITY:Le.keyCode===17?ke=0:Le.keyCode===10&&(ke=this.right===0?Number.POSITIVE_INFINITY:0),Le.keyCode===16?Ae=0:Le.keyCode===18&&(Ae=Number.POSITIVE_INFINITY),ke!==void 0&&(Le.preventDefault(),Le.stopPropagation(),this.right=ke,this.layout()),Ae!==void 0){Le.preventDefault(),Le.stopPropagation(),this.top=Ae;const xe=this.elements.root.style.transition;this.elements.root.style.transition="unset",this.layout(),setTimeout(()=>{this.elements.root.style.transition=xe},0)}})),this.onDidChangeValue=this.findInput.onDidChange}layout(W=this.width){this.width=W,this.right=(0,o.clamp)(this.right,0,Math.max(0,W-212)),this.elements.root.style.right=`${this.right}px`,this.top=(0,o.clamp)(this.top,0,24),this.elements.root.style.top=`${this.top}px`}showMessage(W){this.findInput.showMessage(W)}clearMessage(){this.findInput.clearMessage()}async dispose(){this._onDidDisable.fire(),this.elements.root.classList.add("disabled"),await(0,n.timeout)(300),super.dispose()}}class q{get pattern(){return this._pattern}get mode(){return this._mode}set mode(W){W!==this._mode&&(this._mode=W,this.widget&&(this.widget.mode=this._mode),this.tree.refilter(),this.render(),this._onDidChangeMode.fire(W))}get matchType(){return this._matchType}set matchType(W){W!==this._matchType&&(this._matchType=W,this.widget&&(this.widget.matchType=this._matchType),this.tree.refilter(),this.render(),this._onDidChangeMatchType.fire(W))}constructor(W,z,Y,j,G,oe={}){var ne,ce;this.tree=W,this.view=Y,this.filter=j,this.contextViewProvider=G,this.options=oe,this._pattern="",this.width=0,this._onDidChangeMode=new d.Emitter,this.onDidChangeMode=this._onDidChangeMode.event,this._onDidChangeMatchType=new d.Emitter,this.onDidChangeMatchType=this._onDidChangeMatchType.event,this._onDidChangePattern=new d.Emitter,this._onDidChangeOpenState=new d.Emitter,this.onDidChangeOpenState=this._onDidChangeOpenState.event,this.enabledDisposables=new l.DisposableStore,this.disposables=new l.DisposableStore,this._mode=(ne=W.options.defaultFindMode)!==null&&ne!==void 0?ne:B.Highlight,this._matchType=(ce=W.options.defaultFindMatchType)!==null&&ce!==void 0?ce:H.Fuzzy,z.onDidSplice(this.onDidSpliceModel,this,this.disposables)}updateOptions(W={}){W.defaultFindMode!==void 0&&(this.mode=W.defaultFindMode),W.defaultFindMatchType!==void 0&&(this.matchType=W.defaultFindMatchType)}onDidSpliceModel(){!this.widget||this.pattern.length===0||(this.tree.refilter(),this.render())}render(){var W,z,Y,j;const G=this.filter.totalCount>0&&this.filter.matchCount===0;this.pattern&&G?!((W=this.tree.options.showNotFoundMessage)!==null&&W!==void 0)||W?(z=this.widget)===null||z===void 0||z.showMessage({type:2,content:(0,c.localize)(6,null)}):(Y=this.widget)===null||Y===void 0||Y.showMessage({type:2}):(j=this.widget)===null||j===void 0||j.clearMessage()}shouldAllowFocus(W){return!this.widget||!this.pattern||this.filter.totalCount>0&&this.filter.matchCount<=1?!0:!r.FuzzyScore.isDefault(W.filterData)}layout(W){var z;this.width=W,(z=this.widget)===null||z===void 0||z.layout(W)}dispose(){this._history=void 0,this._onDidChangePattern.dispose(),this.enabledDisposables.dispose(),this.disposables.dispose()}}function K(ee,W){return ee.position===W.position&&U(ee,W)}function U(ee,W){return ee.node.element===W.node.element&&ee.startIndex===W.startIndex&&ee.height===W.height&&ee.endIndex===W.endIndex}class ${constructor(W=[]){this.stickyNodes=W}get count(){return this.stickyNodes.length}equal(W){return(0,t.equals)(this.stickyNodes,W.stickyNodes,K)}lastNodePartiallyVisible(){if(this.count===0)return!1;const W=this.stickyNodes[this.count-1];if(this.count===1)return W.position!==0;const z=this.stickyNodes[this.count-2];return z.position+z.height!==W.position}animationStateChanged(W){if(!(0,t.equals)(this.stickyNodes,W.stickyNodes,U)||this.count===0)return!1;const z=this.stickyNodes[this.count-1],Y=W.stickyNodes[W.count-1];return z.position!==Y.position}}class se{constrainStickyScrollNodes(W,z,Y){for(let j=0;j<W.length;j++){const G=W[j];if(G.position+G.height>Y||j>=z)return W.slice(0,j)}return W}}class F extends l.Disposable{constructor(W,z,Y,j,G,oe={}){var ne;super(),this.tree=W,this.model=z,this.view=Y,this.treeDelegate=G,this.maxWidgetViewRatio=.4;const ce=this.validateStickySettings(oe);this.stickyScrollMaxItemCount=ce.stickyScrollMaxItemCount,this.stickyScrollDelegate=(ne=oe.stickyScrollDelegate)!==null&&ne!==void 0?ne:new se,this._widget=this._register(new X(Y.getScrollableElement(),Y,W,j,G,oe.accessibilityProvider)),this.onDidChangeHasFocus=this._widget.onDidChangeHasFocus,this.onContextMenu=this._widget.onContextMenu,this._register(Y.onDidScroll(()=>this.update())),this._register(Y.onDidChangeContentHeight(()=>this.update())),this._register(W.onDidChangeCollapseState(()=>this.update())),this.update()}get height(){return this._widget.height}getNodeAtHeight(W){let z;if(W===0?z=this.view.firstVisibleIndex:z=this.view.indexAt(W+this.view.scrollTop),!(z<0||z>=this.view.length))return this.view.element(z)}update(){const W=this.getNodeAtHeight(0);if(!W||this.tree.scrollTop===0){this._widget.setState(void 0);return}const z=this.findStickyState(W);this._widget.setState(z)}findStickyState(W){const z=[];let Y=W,j=0,G=this.getNextStickyNode(Y,void 0,j);for(;G&&(z.push(G),j+=G.height,!(z.length<=this.stickyScrollMaxItemCount&&(Y=this.getNextVisibleNode(G),!Y)));)G=this.getNextStickyNode(Y,G.node,j);const oe=this.constrainStickyNodes(z);return oe.length?new $(oe):void 0}getNextVisibleNode(W){return this.getNodeAtHeight(W.position+W.height)}getNextStickyNode(W,z,Y){const j=this.getAncestorUnderPrevious(W,z);if(j&&!(j===W&&(!this.nodeIsUncollapsedParent(W)||this.nodeTopAlignsWithStickyNodesBottom(W,Y))))return this.createStickyScrollNode(j,Y)}nodeTopAlignsWithStickyNodesBottom(W,z){const Y=this.getNodeIndex(W),j=this.view.getElementTop(Y),G=z;return this.view.scrollTop===j-G}createStickyScrollNode(W,z){const Y=this.treeDelegate.getHeight(W),{startIndex:j,endIndex:G}=this.getNodeRange(W),oe=this.calculateStickyNodePosition(G,z,Y);return{node:W,position:oe,height:Y,startIndex:j,endIndex:G}}getAncestorUnderPrevious(W,z=void 0){let Y=W,j=this.getParentNode(Y);for(;j;){if(j===z)return Y;Y=j,j=this.getParentNode(Y)}if(z===void 0)return Y}calculateStickyNodePosition(W,z,Y){let j=this.view.getRelativeTop(W);if(j===null&&this.view.firstVisibleIndex===W&&W+1<this.view.length){const le=this.treeDelegate.getHeight(this.view.element(W)),me=this.view.getRelativeTop(W+1);j=me?me-le/this.view.renderHeight:null}if(j===null)return z;const G=this.view.element(W),oe=this.treeDelegate.getHeight(G),ce=j*this.view.renderHeight+oe;return z+Y>ce&&z<=ce?ce-Y:z}constrainStickyNodes(W){if(W.length===0)return[];const z=this.view.renderHeight*this.maxWidgetViewRatio,Y=W[W.length-1];if(W.length<=this.stickyScrollMaxItemCount&&Y.position+Y.height<=z)return W;const j=this.stickyScrollDelegate.constrainStickyScrollNodes(W,this.stickyScrollMaxItemCount,z);if(!j.length)return[];const G=j[j.length-1];if(j.length>this.stickyScrollMaxItemCount||G.position+G.height>z)throw new Error("stickyScrollDelegate violates constraints");return j}getParentNode(W){const z=this.model.getNodeLocation(W),Y=this.model.getParentNodeLocation(z);return Y?this.model.getNode(Y):void 0}nodeIsUncollapsedParent(W){const z=this.model.getNodeLocation(W);return this.model.getListRenderCount(z)>1}getNodeIndex(W){const z=this.model.getNodeLocation(W);return this.model.getListIndex(z)}getNodeRange(W){const z=this.model.getNodeLocation(W),Y=this.model.getListIndex(z);if(Y<0)throw new Error("Node not found in tree");const j=this.model.getListRenderCount(z),G=Y+j-1;return{startIndex:Y,endIndex:G}}nodePositionTopBelowWidget(W){const z=[];let Y=this.getParentNode(W);for(;Y;)z.push(Y),Y=this.getParentNode(Y);let j=0;for(let G=0;G<z.length&&G<this.stickyScrollMaxItemCount;G++)j+=this.treeDelegate.getHeight(z[G]);return j}domFocus(){this._widget.domFocus()}focusedLast(){return this._widget.focusedLast()}updateOptions(W={}){if(!W.stickyScrollMaxItemCount)return;const z=this.validateStickySettings(W);this.stickyScrollMaxItemCount!==z.stickyScrollMaxItemCount&&(this.stickyScrollMaxItemCount=z.stickyScrollMaxItemCount,this.update())}validateStickySettings(W){let z=7;return typeof W.stickyScrollMaxItemCount=="number"&&(z=Math.max(W.stickyScrollMaxItemCount,1)),{stickyScrollMaxItemCount:z}}}class X{constructor(W,z,Y,j,G,oe){this.view=z,this.tree=Y,this.treeRenderers=j,this.treeDelegate=G,this.accessibilityProvider=oe,this._previousElements=[],this._previousStateDisposables=new l.DisposableStore,this._rootDomNode=(0,m.$)(".monaco-tree-sticky-container.empty"),W.appendChild(this._rootDomNode);const ne=(0,m.$)(".monaco-tree-sticky-container-shadow");this._rootDomNode.appendChild(ne),this.stickyScrollFocus=new Q(this._rootDomNode,z),this.onDidChangeHasFocus=this.stickyScrollFocus.onDidChangeHasFocus,this.onContextMenu=this.stickyScrollFocus.onContextMenu}get height(){if(!this._previousState)return 0;const W=this._previousState.stickyNodes[this._previousState.count-1];return W.position+W.height}setState(W){const z=!!this._previousState&&this._previousState.count>0,Y=!!W&&W.count>0;if(!z&&!Y||z&&Y&&this._previousState.equal(W))return;if(z!==Y&&this.setVisible(Y),!Y){this._previousState=void 0,this._previousElements=[],this._previousStateDisposables.clear();return}const j=W.stickyNodes[W.count-1];if(this._previousState&&W.animationStateChanged(this._previousState))this._previousElements[this._previousState.count-1].style.top=`${j.position}px`;else{this._previousStateDisposables.clear();const G=Array(W.count);for(let oe=W.count-1;oe>=0;oe--){const ne=W.stickyNodes[oe],{element:ce,disposable:le}=this.createElement(ne,oe,W.count);G[oe]=ce,this._rootDomNode.appendChild(ce),this._previousStateDisposables.add(le)}this.stickyScrollFocus.updateElements(G,W),this._previousElements=G}this._previousState=W,this._rootDomNode.style.height=`${j.position+j.height}px`}createElement(W,z,Y){const j=W.startIndex,G=document.createElement("div");G.style.top=`${W.position}px`,this.tree.options.setRowHeight!==!1&&(G.style.height=`${W.height}px`),this.tree.options.setRowLineHeight!==!1&&(G.style.lineHeight=`${W.height}px`),G.classList.add("monaco-tree-sticky-row"),G.classList.add("monaco-list-row"),G.setAttribute("data-index",`${j}`),G.setAttribute("data-parity",j%2===0?"even":"odd"),G.setAttribute("id",this.view.getElementID(j)),this.setAccessibilityAttributes(G,W.node.element,z,Y);const oe=this.treeDelegate.getTemplateId(W.node),ne=this.treeRenderers.find(ve=>ve.templateId===oe);if(!ne)throw new Error(`No renderer found for template id ${oe}`);let ce=W.node;ce===this.tree.getNode(this.tree.getNodeLocation(W.node))&&(ce=new Proxy(W.node,{}));const le=ne.renderTemplate(G);ne.renderElement(ce,W.startIndex,le,W.height);const me=(0,l.toDisposable)(()=>{ne.disposeElement(ce,W.startIndex,le,W.height),ne.disposeTemplate(le),G.remove()});return{element:G,disposable:me}}setAccessibilityAttributes(W,z,Y,j){var G;if(!this.accessibilityProvider)return;this.accessibilityProvider.getSetSize&&W.setAttribute("aria-setsize",String(this.accessibilityProvider.getSetSize(z,Y,j))),this.accessibilityProvider.getPosInSet&&W.setAttribute("aria-posinset",String(this.accessibilityProvider.getPosInSet(z,Y))),this.accessibilityProvider.getRole&&W.setAttribute("role",(G=this.accessibilityProvider.getRole(z))!==null&&G!==void 0?G:"treeitem");const oe=this.accessibilityProvider.getAriaLabel(z);oe&&W.setAttribute("aria-label",oe);const ne=this.accessibilityProvider.getAriaLevel&&this.accessibilityProvider.getAriaLevel(z);typeof ne=="number"&&W.setAttribute("aria-level",`${ne}`),W.setAttribute("aria-selected",String(!1))}setVisible(W){this._rootDomNode.classList.toggle("empty",!W),W||this.stickyScrollFocus.updateElements([],void 0)}domFocus(){this.stickyScrollFocus.domFocus()}focusedLast(){return this.stickyScrollFocus.focusedLast()}dispose(){this.stickyScrollFocus.dispose(),this._previousStateDisposables.dispose(),this._rootDomNode.remove()}}class Q extends l.Disposable{get domHasFocus(){return this._domHasFocus}set domHasFocus(W){W!==this._domHasFocus&&(this._onDidChangeHasFocus.fire(W),this._domHasFocus=W)}constructor(W,z){super(),this.container=W,this.view=z,this.focusedIndex=-1,this.elements=[],this._onDidChangeHasFocus=new d.Emitter,this.onDidChangeHasFocus=this._onDidChangeHasFocus.event,this._onContextMenu=new d.Emitter,this.onContextMenu=this._onContextMenu.event,this._domHasFocus=!1,this.container.addEventListener("focus",()=>this.onFocus()),this.container.addEventListener("blur",()=>this.onBlur()),this._register(this.view.onDidFocus(()=>this.toggleStickyScrollFocused(!1))),this._register(this.view.onKeyDown(Y=>this.onKeyDown(Y))),this._register(this.view.onMouseDown(Y=>this.onMouseDown(Y))),this._register(this.view.onContextMenu(Y=>this.handleContextMenu(Y)))}handleContextMenu(W){const z=W.browserEvent.target;if(!(0,C.isStickyScrollContainer)(z)&&!(0,C.isStickyScrollElement)(z)){this.focusedLast()&&this.view.domFocus();return}if(!(0,m.isKeyboardEvent)(W.browserEvent)){if(!this.state)throw new Error("Context menu should not be triggered when state is undefined");const oe=this.state.stickyNodes.findIndex(ne=>{var ce;return ne.node.element===((ce=W.element)===null||ce===void 0?void 0:ce.element)});if(oe===-1)throw new Error("Context menu should not be triggered when element is not in sticky scroll widget");this.container.focus(),this.setFocus(oe);return}if(!this.state||this.focusedIndex<0)throw new Error("Context menu key should not be triggered when focus is not in sticky scroll widget");const j=this.state.stickyNodes[this.focusedIndex].node.element,G=this.elements[this.focusedIndex];this._onContextMenu.fire({element:j,anchor:G,browserEvent:W.browserEvent,isStickyScroll:!0})}onKeyDown(W){if(this.domHasFocus&&this.state){if(W.key==="ArrowUp")this.setFocusedElement(Math.max(0,this.focusedIndex-1)),W.preventDefault(),W.stopPropagation();else if(W.key==="ArrowDown"||W.key==="ArrowRight"){if(this.focusedIndex>=this.state.count-1){const z=this.state.stickyNodes[this.state.count-1].startIndex+1;this.view.domFocus(),this.view.setFocus([z]),this.scrollNodeUnderWidget(z,this.state)}else this.setFocusedElement(this.focusedIndex+1);W.preventDefault(),W.stopPropagation()}}}onMouseDown(W){const z=W.browserEvent.target;!(0,C.isStickyScrollContainer)(z)&&!(0,C.isStickyScrollElement)(z)||(W.browserEvent.preventDefault(),W.browserEvent.stopPropagation())}updateElements(W,z){if(z&&z.count===0)throw new Error("Sticky scroll state must be undefined when there are no sticky nodes");if(z&&z.count!==W.length)throw new Error("Sticky scroll focus received illigel state");const Y=this.focusedIndex;if(this.removeFocus(),this.elements=W,this.state=z,z){const j=(0,o.clamp)(Y,0,z.count-1);this.setFocus(j)}else this.domHasFocus&&this.view.domFocus();this.container.tabIndex=z?0:-1}setFocusedElement(W){const z=this.state;if(!z)throw new Error("Cannot set focus when state is undefined");if(this.setFocus(W),!(W<z.count-1)&&z.lastNodePartiallyVisible()){const Y=z.stickyNodes[W];this.scrollNodeUnderWidget(Y.endIndex+1,z)}}scrollNodeUnderWidget(W,z){const Y=z.stickyNodes[z.count-1],j=z.count>1?z.stickyNodes[z.count-2]:void 0,G=this.view.getElementTop(W),oe=j?j.position+j.height+Y.height:Y.height;this.view.scrollTop=G-oe}domFocus(){if(!this.state)throw new Error("Cannot focus when state is undefined");this.container.focus()}focusedLast(){return this.state?this.view.getHTMLElement().classList.contains("sticky-scroll-focused"):!1}removeFocus(){this.focusedIndex!==-1&&(this.toggleElementFocus(this.elements[this.focusedIndex],!1),this.focusedIndex=-1)}setFocus(W){if(0>W)throw new Error("addFocus() can not remove focus");if(!this.state&&W>=0)throw new Error("Cannot set focus index when state is undefined");if(this.state&&W>=this.state.count)throw new Error("Cannot set focus index to an index that does not exist");const z=this.focusedIndex;z>=0&&this.toggleElementFocus(this.elements[z],!1),W>=0&&this.toggleElementFocus(this.elements[W],!0),this.focusedIndex=W}toggleElementFocus(W,z){this.toggleElementActiveFocus(W,z&&this.domHasFocus),this.toggleElementPassiveFocus(W,z)}toggleCurrentElementActiveFocus(W){this.focusedIndex!==-1&&this.toggleElementActiveFocus(this.elements[this.focusedIndex],W)}toggleElementActiveFocus(W,z){W.classList.toggle("focused",z)}toggleElementPassiveFocus(W,z){W.classList.toggle("passive-focused",z)}toggleStickyScrollFocused(W){this.view.getHTMLElement().classList.toggle("sticky-scroll-focused",W)}onFocus(){if(!this.state||this.elements.length===0)throw new Error("Cannot focus when state is undefined or elements are empty");this.domHasFocus=!0,this.toggleStickyScrollFocused(!0),this.toggleCurrentElementActiveFocus(!0),this.focusedIndex===-1&&this.setFocus(0)}onBlur(){this.domHasFocus=!1,this.toggleCurrentElementActiveFocus(!1)}dispose(){this.toggleStickyScrollFocused(!1),this._onDidChangeHasFocus.fire(!1),super.dispose()}}function Z(ee){let W=s.TreeMouseEventTarget.Unknown;return(0,m.hasParentWithClass)(ee.browserEvent.target,"monaco-tl-twistie","monaco-tl-row")?W=s.TreeMouseEventTarget.Twistie:(0,m.hasParentWithClass)(ee.browserEvent.target,"monaco-tl-contents","monaco-tl-row")?W=s.TreeMouseEventTarget.Element:(0,m.hasParentWithClass)(ee.browserEvent.target,"monaco-tree-type-filter","monaco-list")&&(W=s.TreeMouseEventTarget.Filter),{browserEvent:ee.browserEvent,element:ee.element?ee.element.element:null,target:W}}function ae(ee){const W=(0,C.isStickyScrollContainer)(ee.browserEvent.target);return{element:ee.element?ee.element.element:null,browserEvent:ee.browserEvent,anchor:ee.anchor,isStickyScroll:W}}function ue(ee,W){W(ee),ee.children.forEach(z=>ue(z,W))}class ge{get nodeSet(){return this._nodeSet||(this._nodeSet=this.createNodeSet()),this._nodeSet}constructor(W,z){this.getFirstViewElementWithTrait=W,this.identityProvider=z,this.nodes=[],this._onDidChange=new d.Emitter,this.onDidChange=this._onDidChange.event}set(W,z){!z?.__forceEvent&&(0,t.equals)(this.nodes,W)||this._set(W,!1,z)}_set(W,z,Y){if(this.nodes=[...W],this.elements=void 0,this._nodeSet=void 0,!z){const j=this;this._onDidChange.fire({get elements(){return j.get()},browserEvent:Y})}}get(){return this.elements||(this.elements=this.nodes.map(W=>W.element)),[...this.elements]}getNodes(){return this.nodes}has(W){return this.nodeSet.has(W)}onDidModelSplice({insertedNodes:W,deletedNodes:z}){if(!this.identityProvider){const ce=this.createNodeSet(),le=me=>ce.delete(me);z.forEach(me=>ue(me,le)),this.set([...ce.values()]);return}const Y=new Set,j=ce=>Y.add(this.identityProvider.getId(ce.element).toString());z.forEach(ce=>ue(ce,j));const G=new Map,oe=ce=>G.set(this.identityProvider.getId(ce.element).toString(),ce);W.forEach(ce=>ue(ce,oe));const ne=[];for(const ce of this.nodes){const le=this.identityProvider.getId(ce.element).toString();if(!Y.has(le))ne.push(ce);else{const ve=G.get(le);ve&&ve.visible&&ne.push(ve)}}if(this.nodes.length>0&&ne.length===0){const ce=this.getFirstViewElementWithTrait();ce&&ne.push(ce)}this._set(ne,!0)}createNodeSet(){const W=new Set;for(const z of this.nodes)W.add(z);return W}}class fe extends C.MouseController{constructor(W,z,Y){super(W),this.tree=z,this.stickyScrollProvider=Y}onViewPointer(W){if((0,C.isButton)(W.browserEvent.target)||(0,C.isInputElement)(W.browserEvent.target)||(0,C.isMonacoEditor)(W.browserEvent.target)||W.browserEvent.isHandledByList)return;const z=W.element;if(!z)return super.onViewPointer(W);if(this.isSelectionRangeChangeEvent(W)||this.isSelectionSingleChangeEvent(W))return super.onViewPointer(W);const Y=W.browserEvent.target,j=Y.classList.contains("monaco-tl-twistie")||Y.classList.contains("monaco-icon-label")&&Y.classList.contains("folder-icon")&&W.browserEvent.offsetX<16,G=(0,C.isStickyScrollElement)(W.browserEvent.target);let oe=!1;if(G?oe=!0:typeof this.tree.expandOnlyOnTwistieClick=="function"?oe=this.tree.expandOnlyOnTwistieClick(z.element):oe=!!this.tree.expandOnlyOnTwistieClick,G)this.handleStickyScrollMouseEvent(W,z);else{if(oe&&!j&&W.browserEvent.detail!==2)return super.onViewPointer(W);if(!this.tree.expandOnDoubleClick&&W.browserEvent.detail===2)return super.onViewPointer(W)}if(z.collapsible&&(!G||j)){const ne=this.tree.getNodeLocation(z),ce=W.browserEvent.altKey;if(this.tree.setFocus([ne]),this.tree.toggleCollapsed(ne,ce),oe&&j){W.browserEvent.isHandledByList=!0;return}}G||super.onViewPointer(W)}handleStickyScrollMouseEvent(W,z){if((0,C.isMonacoCustomToggle)(W.browserEvent.target)||(0,C.isActionItem)(W.browserEvent.target))return;const Y=this.stickyScrollProvider();if(!Y)throw new Error("Sticky scroll controller not found");const j=this.list.indexOf(z),G=this.list.getElementTop(j),oe=Y.nodePositionTopBelowWidget(z);this.tree.scrollTop=G-oe,this.list.domFocus(),this.list.setFocus([j]),this.list.setSelection([j])}onDoubleClick(W){W.browserEvent.target.classList.contains("monaco-tl-twistie")||!this.tree.expandOnDoubleClick||W.browserEvent.isHandledByList||super.onDoubleClick(W)}onMouseDown(W){const z=W.browserEvent.target;if(!(0,C.isStickyScrollContainer)(z)&&!(0,C.isStickyScrollElement)(z)){super.onMouseDown(W);return}}onContextMenu(W){const z=W.browserEvent.target;if(!(0,C.isStickyScrollContainer)(z)&&!(0,C.isStickyScrollElement)(z)){super.onContextMenu(W);return}}}class re extends C.List{constructor(W,z,Y,j,G,oe,ne,ce){super(W,z,Y,j,ce),this.focusTrait=G,this.selectionTrait=oe,this.anchorTrait=ne}createMouseController(W){return new fe(this,W.tree,W.stickyScrollProvider)}splice(W,z,Y=[]){if(super.splice(W,z,Y),Y.length===0)return;const j=[],G=[];let oe;Y.forEach((ne,ce)=>{this.focusTrait.has(ne)&&j.push(W+ce),this.selectionTrait.has(ne)&&G.push(W+ce),this.anchorTrait.has(ne)&&(oe=W+ce)}),j.length>0&&super.setFocus((0,t.distinct)([...super.getFocus(),...j])),G.length>0&&super.setSelection((0,t.distinct)([...super.getSelection(),...G])),typeof oe=="number"&&super.setAnchor(oe)}setFocus(W,z,Y=!1){super.setFocus(W,z),Y||this.focusTrait.set(W.map(j=>this.element(j)),z)}setSelection(W,z,Y=!1){super.setSelection(W,z),Y||this.selectionTrait.set(W.map(j=>this.element(j)),z)}setAnchor(W,z=!1){super.setAnchor(W),z||(typeof W>"u"?this.anchorTrait.set([]):this.anchorTrait.set([this.element(W)]))}}class de{get onDidScroll(){return this.view.onDidScroll}get onDidChangeFocus(){return this.eventBufferer.wrapEvent(this.focus.onDidChange)}get onDidChangeSelection(){return this.eventBufferer.wrapEvent(this.selection.onDidChange)}get onMouseDblClick(){return d.Event.filter(d.Event.map(this.view.onMouseDblClick,Z),W=>W.target!==s.TreeMouseEventTarget.Filter)}get onMouseOver(){return d.Event.map(this.view.onMouseOver,Z)}get onMouseOut(){return d.Event.map(this.view.onMouseOut,Z)}get onContextMenu(){var W,z;return d.Event.any(d.Event.filter(d.Event.map(this.view.onContextMenu,ae),Y=>!Y.isStickyScroll),(z=(W=this.stickyScrollController)===null||W===void 0?void 0:W.onContextMenu)!==null&&z!==void 0?z:d.Event.None)}get onPointer(){return d.Event.map(this.view.onPointer,Z)}get onKeyDown(){return this.view.onKeyDown}get onDidFocus(){return this.view.onDidFocus}get onDidChangeModel(){return d.Event.signal(this.model.onDidSplice)}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get findMode(){var W,z;return(z=(W=this.findController)===null||W===void 0?void 0:W.mode)!==null&&z!==void 0?z:B.Highlight}set findMode(W){this.findController&&(this.findController.mode=W)}get findMatchType(){var W,z;return(z=(W=this.findController)===null||W===void 0?void 0:W.matchType)!==null&&z!==void 0?z:H.Fuzzy}set findMatchType(W){this.findController&&(this.findController.matchType=W)}get expandOnDoubleClick(){return typeof this._options.expandOnDoubleClick>"u"?!0:this._options.expandOnDoubleClick}get expandOnlyOnTwistieClick(){return typeof this._options.expandOnlyOnTwistieClick>"u"?!0:this._options.expandOnlyOnTwistieClick}get onDidDispose(){return this.view.onDidDispose}constructor(W,z,Y,j,G={}){var oe;this._user=W,this._options=G,this.eventBufferer=new d.EventBufferer,this.onDidChangeFindOpenState=d.Event.None,this.onDidChangeStickyScrollFocused=d.Event.None,this.disposables=new l.DisposableStore,this._onWillRefilter=new d.Emitter,this.onWillRefilter=this._onWillRefilter.event,this._onDidUpdateOptions=new d.Emitter,this.treeDelegate=new T(Y);const ne=new d.Relay,ce=new d.Relay,le=this.disposables.add(new A(ce.event)),me=new u.SetMap;this.renderers=j.map(Le=>new O(Le,()=>this.model,ne.event,le,me,G));for(const Le of this.renderers)this.disposables.add(Le);let ve;G.keyboardNavigationLabelProvider&&(ve=new M(this,G.keyboardNavigationLabelProvider,G.filter),G={...G,filter:ve},this.disposables.add(ve)),this.focus=new ge(()=>this.view.getFocusedElements()[0],G.identityProvider),this.selection=new ge(()=>this.view.getSelectedElements()[0],G.identityProvider),this.anchor=new ge(()=>this.view.getAnchorElement(),G.identityProvider),this.view=new re(W,z,this.treeDelegate,this.renderers,this.focus,this.selection,this.anchor,{...E(()=>this.model,G),tree:this,stickyScrollProvider:()=>this.stickyScrollController}),this.model=this.createModel(W,this.view,G),ne.input=this.model.onDidChangeCollapseState;const Ce=d.Event.forEach(this.model.onDidSplice,Le=>{this.eventBufferer.bufferEvents(()=>{this.focus.onDidModelSplice(Le),this.selection.onDidModelSplice(Le)})},this.disposables);Ce(()=>null,null,this.disposables);const Se=this.disposables.add(new d.Emitter),_e=this.disposables.add(new n.Delayer(0));if(this.disposables.add(d.Event.any(Ce,this.focus.onDidChange,this.selection.onDidChange)(()=>{_e.trigger(()=>{const Le=new Set;for(const ke of this.focus.getNodes())Le.add(ke);for(const ke of this.selection.getNodes())Le.add(ke);Se.fire([...Le.values()])})})),ce.input=Se.event,G.keyboardSupport!==!1){const Le=d.Event.chain(this.view.onKeyDown,ke=>ke.filter(Ae=>!(0,C.isInputElement)(Ae.target)).map(Ae=>new D.StandardKeyboardEvent(Ae)));d.Event.chain(Le,ke=>ke.filter(Ae=>Ae.keyCode===15))(this.onLeftArrow,this,this.disposables),d.Event.chain(Le,ke=>ke.filter(Ae=>Ae.keyCode===17))(this.onRightArrow,this,this.disposables),d.Event.chain(Le,ke=>ke.filter(Ae=>Ae.keyCode===10))(this.onSpace,this,this.disposables)}if((!((oe=G.findWidgetEnabled)!==null&&oe!==void 0)||oe)&&G.keyboardNavigationLabelProvider&&G.contextViewProvider){const Le=this.options.findWidgetStyles?{styles:this.options.findWidgetStyles}:void 0;this.findController=new q(this,this.model,this.view,ve,G.contextViewProvider,Le),this.focusNavigationFilter=ke=>this.findController.shouldAllowFocus(ke),this.onDidChangeFindOpenState=this.findController.onDidChangeOpenState,this.disposables.add(this.findController),this.onDidChangeFindMode=this.findController.onDidChangeMode,this.onDidChangeFindMatchType=this.findController.onDidChangeMatchType}else this.onDidChangeFindMode=d.Event.None,this.onDidChangeFindMatchType=d.Event.None;G.enableStickyScroll&&(this.stickyScrollController=new F(this,this.model,this.view,this.renderers,this.treeDelegate,G),this.onDidChangeStickyScrollFocused=this.stickyScrollController.onDidChangeHasFocus),this.styleElement=(0,m.createStyleSheet)(this.view.getHTMLElement()),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===N.Always)}updateOptions(W={}){var z;this._options={...this._options,...W};for(const Y of this.renderers)Y.updateOptions(W);this.view.updateOptions(this._options),(z=this.findController)===null||z===void 0||z.updateOptions(W),this.updateStickyScroll(W),this._onDidUpdateOptions.fire(this._options),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===N.Always)}get options(){return this._options}updateStickyScroll(W){var z;!this.stickyScrollController&&this._options.enableStickyScroll?(this.stickyScrollController=new F(this,this.model,this.view,this.renderers,this.treeDelegate,this._options),this.onDidChangeStickyScrollFocused=this.stickyScrollController.onDidChangeHasFocus):this.stickyScrollController&&!this._options.enableStickyScroll&&(this.onDidChangeStickyScrollFocused=d.Event.None,this.stickyScrollController.dispose(),this.stickyScrollController=void 0),(z=this.stickyScrollController)===null||z===void 0||z.updateOptions(W)}getHTMLElement(){return this.view.getHTMLElement()}get scrollTop(){return this.view.scrollTop}set scrollTop(W){this.view.scrollTop=W}get scrollHeight(){return this.view.scrollHeight}get renderHeight(){return this.view.renderHeight}get ariaLabel(){return this.view.ariaLabel}set ariaLabel(W){this.view.ariaLabel=W}domFocus(){var W;!((W=this.stickyScrollController)===null||W===void 0)&&W.focusedLast()?this.stickyScrollController.domFocus():this.view.domFocus()}layout(W,z){var Y;this.view.layout(W,z),(0,g.isNumber)(z)&&((Y=this.findController)===null||Y===void 0||Y.layout(z))}style(W){var z;const Y=`.${this.view.domId}`,j=[];W.treeIndentGuidesStroke&&(j.push(`.monaco-list${Y}:hover .monaco-tl-indent > .indent-guide, .monaco-list${Y}.always .monaco-tl-indent > .indent-guide  { border-color: ${W.treeInactiveIndentGuidesStroke}; }`),j.push(`.monaco-list${Y} .monaco-tl-indent > .indent-guide.active { border-color: ${W.treeIndentGuidesStroke}; }`)),W.listBackground&&(j.push(`.monaco-list${Y} .monaco-scrollable-element .monaco-tree-sticky-container { background-color: ${W.listBackground}; }`),j.push(`.monaco-list${Y} .monaco-scrollable-element .monaco-tree-sticky-container .monaco-tree-sticky-row { background-color: ${W.listBackground}; }`)),W.listFocusForeground&&(j.push(`.monaco-list${Y}.sticky-scroll-focused .monaco-scrollable-element .monaco-tree-sticky-container:focus .monaco-list-row.focused { color: ${W.listFocusForeground}; }`),j.push(`.monaco-list${Y}:not(.sticky-scroll-focused) .monaco-scrollable-element .monaco-tree-sticky-container .monaco-list-row.focused { color: inherit; }`));const G=(0,m.asCssValueWithDefault)(W.listFocusAndSelectionOutline,(0,m.asCssValueWithDefault)(W.listSelectionOutline,(z=W.listFocusOutline)!==null&&z!==void 0?z:""));G&&(j.push(`.monaco-list${Y}.sticky-scroll-focused .monaco-scrollable-element .monaco-tree-sticky-container:focus .monaco-list-row.focused.selected { outline: 1px solid ${G}; outline-offset: -1px;}`),j.push(`.monaco-list${Y}:not(.sticky-scroll-focused) .monaco-scrollable-element .monaco-tree-sticky-container .monaco-list-row.focused.selected { outline: inherit;}`)),W.listFocusOutline&&(j.push(`.monaco-list${Y}.sticky-scroll-focused .monaco-scrollable-element .monaco-tree-sticky-container:focus .monaco-list-row.focused { outline: 1px solid ${W.listFocusOutline}; outline-offset: -1px; }`),j.push(`.monaco-list${Y}:not(.sticky-scroll-focused) .monaco-scrollable-element .monaco-tree-sticky-container .monaco-list-row.focused { outline: inherit; }`),j.push(`.monaco-workbench.context-menu-visible .monaco-list${Y}.last-focused.sticky-scroll-focused .monaco-scrollable-element .monaco-tree-sticky-container .monaco-list-row.passive-focused { outline: 1px solid ${W.listFocusOutline}; outline-offset: -1px; }`),j.push(`.monaco-workbench.context-menu-visible .monaco-list${Y}.last-focused.sticky-scroll-focused .monaco-list-rows .monaco-list-row.focused { outline: inherit; }`),j.push(`.monaco-workbench.context-menu-visible .monaco-list${Y}.last-focused:not(.sticky-scroll-focused) .monaco-tree-sticky-container .monaco-list-rows .monaco-list-row.focused { outline: inherit; }`)),this.styleElement.textContent=j.join(`
`),this.view.style(W)}getParentElement(W){const z=this.model.getParentNodeLocation(W);return this.model.getNode(z).element}getFirstElementChild(W){return this.model.getFirstElementChild(W)}getNode(W){return this.model.getNode(W)}getNodeLocation(W){return this.model.getNodeLocation(W)}collapse(W,z=!1){return this.model.setCollapsed(W,!0,z)}expand(W,z=!1){return this.model.setCollapsed(W,!1,z)}toggleCollapsed(W,z=!1){return this.model.setCollapsed(W,void 0,z)}isCollapsible(W){return this.model.isCollapsible(W)}setCollapsible(W,z){return this.model.setCollapsible(W,z)}isCollapsed(W){return this.model.isCollapsed(W)}refilter(){this._onWillRefilter.fire(void 0),this.model.refilter()}setSelection(W,z){this.eventBufferer.bufferEvents(()=>{const Y=W.map(G=>this.model.getNode(G));this.selection.set(Y,z);const j=W.map(G=>this.model.getListIndex(G)).filter(G=>G>-1);this.view.setSelection(j,z,!0)})}getSelection(){return this.selection.get()}setFocus(W,z){this.eventBufferer.bufferEvents(()=>{const Y=W.map(G=>this.model.getNode(G));this.focus.set(Y,z);const j=W.map(G=>this.model.getListIndex(G)).filter(G=>G>-1);this.view.setFocus(j,z,!0)})}focusNext(W=1,z=!1,Y,j=(0,m.isKeyboardEvent)(Y)&&Y.altKey?void 0:this.focusNavigationFilter){this.view.focusNext(W,z,Y,j)}focusPrevious(W=1,z=!1,Y,j=(0,m.isKeyboardEvent)(Y)&&Y.altKey?void 0:this.focusNavigationFilter){this.view.focusPrevious(W,z,Y,j)}focusNextPage(W,z=(0,m.isKeyboardEvent)(W)&&W.altKey?void 0:this.focusNavigationFilter){return this.view.focusNextPage(W,z)}focusPreviousPage(W,z=(0,m.isKeyboardEvent)(W)&&W.altKey?void 0:this.focusNavigationFilter){return this.view.focusPreviousPage(W,z,()=>{var Y,j;return(j=(Y=this.stickyScrollController)===null||Y===void 0?void 0:Y.height)!==null&&j!==void 0?j:0})}focusFirst(W,z=(0,m.isKeyboardEvent)(W)&&W.altKey?void 0:this.focusNavigationFilter){this.view.focusFirst(W,z)}getFocus(){return this.focus.get()}reveal(W,z){this.model.expandTo(W);const Y=this.model.getListIndex(W);if(Y!==-1)if(!this.stickyScrollController)this.view.reveal(Y,z);else{const j=this.stickyScrollController.nodePositionTopBelowWidget(this.getNode(W));this.view.reveal(Y,z,j)}}onLeftArrow(W){W.preventDefault(),W.stopPropagation();const z=this.view.getFocusedElements();if(z.length===0)return;const Y=z[0],j=this.model.getNodeLocation(Y);if(!this.model.setCollapsed(j,!0)){const oe=this.model.getParentNodeLocation(j);if(!oe)return;const ne=this.model.getListIndex(oe);this.view.reveal(ne),this.view.setFocus([ne])}}onRightArrow(W){W.preventDefault(),W.stopPropagation();const z=this.view.getFocusedElements();if(z.length===0)return;const Y=z[0],j=this.model.getNodeLocation(Y);if(!this.model.setCollapsed(j,!1)){if(!Y.children.some(ce=>ce.visible))return;const[oe]=this.view.getFocus(),ne=oe+1;this.view.reveal(ne),this.view.setFocus([ne])}}onSpace(W){W.preventDefault(),W.stopPropagation();const z=this.view.getFocusedElements();if(z.length===0)return;const Y=z[0],j=this.model.getNodeLocation(Y),G=W.browserEvent.altKey;this.model.setCollapsed(j,void 0,G)}dispose(){var W;(0,l.dispose)(this.disposables),(W=this.stickyScrollController)===null||W===void 0||W.dispose(),this.view.dispose()}}e.AbstractTree=de}),define(te[628],ie([1,0,167,237]),function(J,e,m,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DataTree=void 0;class D extends m.AbstractTree{constructor(y,p,w,C,b,a={}){super(y,p,w,C,a),this.user=y,this.dataSource=b,this.identityProvider=a.identityProvider}createModel(y,p,w){return new k.ObjectTreeModel(y,p,w)}}e.DataTree=D}),define(te[343],ie([1,0,167,611,237,118,54]),function(J,e,m,k,D,L,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompressibleObjectTree=e.ObjectTree=void 0;class p extends m.AbstractTree{get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}constructor(i,t,n,h,v={}){super(i,t,n,h,v),this.user=i}setChildren(i,t=y.Iterable.empty(),n){this.model.setChildren(i,t,n)}rerender(i){if(i===void 0){this.view.rerender();return}this.model.rerender(i)}hasElement(i){return this.model.has(i)}createModel(i,t,n){return new D.ObjectTreeModel(i,t,n)}}e.ObjectTree=p;class w{get compressedTreeNodeProvider(){return this._compressedTreeNodeProvider()}constructor(i,t,n){this._compressedTreeNodeProvider=i,this.stickyScrollDelegate=t,this.renderer=n,this.templateId=n.templateId,n.onDidChangeTwistieState&&(this.onDidChangeTwistieState=n.onDidChangeTwistieState)}renderTemplate(i){return{compressedTreeNode:void 0,data:this.renderer.renderTemplate(i)}}renderElement(i,t,n,h){let v=this.stickyScrollDelegate.getCompressedNode(i);v||(v=this.compressedTreeNodeProvider.getCompressedTreeNode(i.element)),v.element.elements.length===1?(n.compressedTreeNode=void 0,this.renderer.renderElement(i,t,n.data,h)):(n.compressedTreeNode=v,this.renderer.renderCompressedElements(v,t,n.data,h))}disposeElement(i,t,n,h){var v,u,d,r;n.compressedTreeNode?(u=(v=this.renderer).disposeCompressedElements)===null||u===void 0||u.call(v,n.compressedTreeNode,t,n.data,h):(r=(d=this.renderer).disposeElement)===null||r===void 0||r.call(d,i,t,n.data,h)}disposeTemplate(i){this.renderer.disposeTemplate(i.data)}renderTwistie(i,t){return this.renderer.renderTwistie?this.renderer.renderTwistie(i,t):!1}}Ie([L.memoize],w.prototype,"compressedTreeNodeProvider",null);class C{constructor(i){this.modelProvider=i,this.compressedStickyNodes=new Map}getCompressedNode(i){return this.compressedStickyNodes.get(i)}constrainStickyScrollNodes(i,t,n){if(this.compressedStickyNodes.clear(),i.length===0)return[];for(let h=0;h<i.length;h++){const v=i[h],u=v.position+v.height;if(h+1<i.length&&u+i[h+1].height>n||h>=t-1&&t<i.length){const r=i.slice(0,h),l=i.slice(h),o=this.compressStickyNodes(l);return[...r,o]}}return i}compressStickyNodes(i){if(i.length===0)throw new Error("Can't compress empty sticky nodes");if(!this.modelProvider().isCompressionEnabled())return i[0];const t=[];for(const r of i){const l=this.modelProvider().getCompressedTreeNode(r.node.element);if(l.element){if(l.element.incompressible)break;t.push(...l.element.elements)}}if(t.length<2)return i[0];const n=i[i.length-1],h={elements:t,incompressible:!1},v={...n.node,children:[],element:h},u=new Proxy(i[0].node,{}),d={node:u,startIndex:i[0].startIndex,endIndex:n.endIndex,position:i[0].position,height:i[0].height};return this.compressedStickyNodes.set(u,v),d}}function b(s,i){return i&&{...i,keyboardNavigationLabelProvider:i.keyboardNavigationLabelProvider&&{getKeyboardNavigationLabel(t){let n;try{n=s().getCompressedTreeNode(t)}catch{return i.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(t)}return n.element.elements.length===1?i.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(t):i.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(n.element.elements)}}}}class a extends p{constructor(i,t,n,h,v={}){const u=()=>this,d=new C(()=>this.model),r=h.map(l=>new w(u,d,l));super(i,t,n,r,{...b(u,v),stickyScrollDelegate:d})}setChildren(i,t=y.Iterable.empty(),n){this.model.setChildren(i,t,n)}createModel(i,t,n){return new k.CompressibleObjectTreeModel(i,t,n)}updateOptions(i={}){super.updateOptions(i),typeof i.compressionEnabled<"u"&&this.model.setCompressionEnabled(i.compressionEnabled)}getCompressedTreeNode(i=null){return this.model.getCompressedTreeNode(i)}}e.CompressibleObjectTree=a}),define(te[629],ie([1,0,244,167,236,343,153,15,26,30,12,7,54,2,21]),function(J,e,m,k,D,L,y,p,w,C,b,a,s,i,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompressibleAsyncDataTree=e.AsyncDataTree=void 0;function n(O){return{...O,children:[],refreshPromise:void 0,stale:!0,slow:!1,forceExpanded:!1}}function h(O,M){return M.parent?M.parent===O?!0:h(O,M.parent):!1}function v(O,M){return O===M||h(O,M)||h(M,O)}class u{get element(){return this.node.element.element}get children(){return this.node.children.map(M=>new u(M))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}constructor(M){this.node=M}}class d{constructor(M,P,x){this.renderer=M,this.nodeMapper=P,this.onDidChangeTwistieState=x,this.renderedNodes=new Map,this.templateId=M.templateId}renderTemplate(M){return{templateData:this.renderer.renderTemplate(M)}}renderElement(M,P,x,R){this.renderer.renderElement(this.nodeMapper.map(M),P,x.templateData,R)}renderTwistie(M,P){return M.slow?(P.classList.add(...C.ThemeIcon.asClassNameArray(w.Codicon.treeItemLoading)),!0):(P.classList.remove(...C.ThemeIcon.asClassNameArray(w.Codicon.treeItemLoading)),!1)}disposeElement(M,P,x,R){var B,H;(H=(B=this.renderer).disposeElement)===null||H===void 0||H.call(B,this.nodeMapper.map(M),P,x.templateData,R)}disposeTemplate(M){this.renderer.disposeTemplate(M.templateData)}dispose(){this.renderedNodes.clear()}}function r(O){return{browserEvent:O.browserEvent,elements:O.elements.map(M=>M.element)}}function l(O){return{browserEvent:O.browserEvent,element:O.element&&O.element.element,target:O.target}}class o extends m.ElementsDragAndDropData{constructor(M){super(M.elements.map(P=>P.element)),this.data=M}}function g(O){return O instanceof m.ElementsDragAndDropData?new o(O):O}class c{constructor(M){this.dnd=M}getDragURI(M){return this.dnd.getDragURI(M.element)}getDragLabel(M,P){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(M.map(x=>x.element),P)}onDragStart(M,P){var x,R;(R=(x=this.dnd).onDragStart)===null||R===void 0||R.call(x,g(M),P)}onDragOver(M,P,x,R,B,H=!0){return this.dnd.onDragOver(g(M),P&&P.element,x,R,B)}drop(M,P,x,R,B){this.dnd.drop(g(M),P&&P.element,x,R,B)}onDragEnd(M){var P,x;(x=(P=this.dnd).onDragEnd)===null||x===void 0||x.call(P,M)}dispose(){this.dnd.dispose()}}function f(O){return O&&{...O,collapseByDefault:!0,identityProvider:O.identityProvider&&{getId(M){return O.identityProvider.getId(M.element)}},dnd:O.dnd&&new c(O.dnd),multipleSelectionController:O.multipleSelectionController&&{isSelectionSingleChangeEvent(M){return O.multipleSelectionController.isSelectionSingleChangeEvent({...M,element:M.element})},isSelectionRangeChangeEvent(M){return O.multipleSelectionController.isSelectionRangeChangeEvent({...M,element:M.element})}},accessibilityProvider:O.accessibilityProvider&&{...O.accessibilityProvider,getPosInSet:void 0,getSetSize:void 0,getRole:O.accessibilityProvider.getRole?M=>O.accessibilityProvider.getRole(M.element):()=>"treeitem",isChecked:O.accessibilityProvider.isChecked?M=>{var P;return!!(!((P=O.accessibilityProvider)===null||P===void 0)&&P.isChecked(M.element))}:void 0,getAriaLabel(M){return O.accessibilityProvider.getAriaLabel(M.element)},getWidgetAriaLabel(){return O.accessibilityProvider.getWidgetAriaLabel()},getWidgetRole:O.accessibilityProvider.getWidgetRole?()=>O.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:O.accessibilityProvider.getAriaLevel&&(M=>O.accessibilityProvider.getAriaLevel(M.element)),getActiveDescendantId:O.accessibilityProvider.getActiveDescendantId&&(M=>O.accessibilityProvider.getActiveDescendantId(M.element))},filter:O.filter&&{filter(M,P){return O.filter.filter(M.element,P)}},keyboardNavigationLabelProvider:O.keyboardNavigationLabelProvider&&{...O.keyboardNavigationLabelProvider,getKeyboardNavigationLabel(M){return O.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(M.element)}},sorter:void 0,expandOnlyOnTwistieClick:typeof O.expandOnlyOnTwistieClick>"u"?void 0:typeof O.expandOnlyOnTwistieClick!="function"?O.expandOnlyOnTwistieClick:M=>O.expandOnlyOnTwistieClick(M.element),defaultFindVisibility:M=>M.hasChildren&&M.stale?1:typeof O.defaultFindVisibility=="number"?O.defaultFindVisibility:typeof O.defaultFindVisibility>"u"?2:O.defaultFindVisibility(M.element)}}function _(O,M){M(O),O.children.forEach(P=>_(P,M))}class S{get onDidScroll(){return this.tree.onDidScroll}get onDidChangeFocus(){return a.Event.map(this.tree.onDidChangeFocus,r)}get onDidChangeSelection(){return a.Event.map(this.tree.onDidChangeSelection,r)}get onMouseDblClick(){return a.Event.map(this.tree.onMouseDblClick,l)}get onPointer(){return a.Event.map(this.tree.onPointer,l)}get onDidFocus(){return this.tree.onDidFocus}get onDidChangeModel(){return this.tree.onDidChangeModel}get onDidChangeCollapseState(){return this.tree.onDidChangeCollapseState}get onDidChangeFindOpenState(){return this.tree.onDidChangeFindOpenState}get onDidChangeStickyScrollFocused(){return this.tree.onDidChangeStickyScrollFocused}get onDidDispose(){return this.tree.onDidDispose}constructor(M,P,x,R,B,H={}){this.user=M,this.dataSource=B,this.nodes=new Map,this.subTreeRefreshPromises=new Map,this.refreshPromises=new Map,this._onDidRender=new a.Emitter,this._onDidChangeNodeSlowState=new a.Emitter,this.nodeMapper=new y.WeakMapper(V=>new u(V)),this.disposables=new i.DisposableStore,this.identityProvider=H.identityProvider,this.autoExpandSingleChildren=typeof H.autoExpandSingleChildren>"u"?!1:H.autoExpandSingleChildren,this.sorter=H.sorter,this.getDefaultCollapseState=V=>H.collapseByDefault?H.collapseByDefault(V)?y.ObjectTreeElementCollapseState.PreserveOrCollapsed:y.ObjectTreeElementCollapseState.PreserveOrExpanded:void 0,this.tree=this.createTree(M,P,x,R,H),this.onDidChangeFindMode=this.tree.onDidChangeFindMode,this.onDidChangeFindMatchType=this.tree.onDidChangeFindMatchType,this.root=n({element:void 0,parent:null,hasChildren:!0,defaultCollapseState:void 0}),this.identityProvider&&(this.root={...this.root,id:null}),this.nodes.set(null,this.root),this.tree.onDidChangeCollapseState(this._onDidChangeCollapseState,this,this.disposables)}createTree(M,P,x,R,B){const H=new k.ComposedTreeDelegate(x),V=R.map(K=>new d(K,this.nodeMapper,this._onDidChangeNodeSlowState.event)),q=f(B)||{};return new L.ObjectTree(M,P,H,V,q)}updateOptions(M={}){this.tree.updateOptions(M)}getHTMLElement(){return this.tree.getHTMLElement()}get scrollTop(){return this.tree.scrollTop}set scrollTop(M){this.tree.scrollTop=M}get scrollHeight(){return this.tree.scrollHeight}get renderHeight(){return this.tree.renderHeight}domFocus(){this.tree.domFocus()}layout(M,P){this.tree.layout(M,P)}style(M){this.tree.style(M)}getInput(){return this.root.element}async setInput(M,P){this.refreshPromises.forEach(R=>R.cancel()),this.refreshPromises.clear(),this.root.element=M;const x=P&&{viewState:P,focus:[],selection:[]};await this._updateChildren(M,!0,!1,x),x&&(this.tree.setFocus(x.focus),this.tree.setSelection(x.selection)),P&&typeof P.scrollTop=="number"&&(this.scrollTop=P.scrollTop)}async _updateChildren(M=this.root.element,P=!0,x=!1,R,B){if(typeof this.root.element>"u")throw new y.TreeError(this.user,"Tree input not set");this.root.refreshPromise&&(await this.root.refreshPromise,await a.Event.toPromise(this._onDidRender.event));const H=this.getDataNode(M);if(await this.refreshAndRenderNode(H,P,R,B),x)try{this.tree.rerender(H)}catch{}}rerender(M){if(M===void 0||M===this.root.element){this.tree.rerender();return}const P=this.getDataNode(M);this.tree.rerender(P)}getNode(M=this.root.element){const P=this.getDataNode(M),x=this.tree.getNode(P===this.root?null:P);return this.nodeMapper.map(x)}collapse(M,P=!1){const x=this.getDataNode(M);return this.tree.collapse(x===this.root?null:x,P)}async expand(M,P=!1){if(typeof this.root.element>"u")throw new y.TreeError(this.user,"Tree input not set");this.root.refreshPromise&&(await this.root.refreshPromise,await a.Event.toPromise(this._onDidRender.event));const x=this.getDataNode(M);if(this.tree.hasElement(x)&&!this.tree.isCollapsible(x)||(x.refreshPromise&&(await this.root.refreshPromise,await a.Event.toPromise(this._onDidRender.event)),x!==this.root&&!x.refreshPromise&&!this.tree.isCollapsed(x)))return!1;const R=this.tree.expand(x===this.root?null:x,P);return x.refreshPromise&&(await this.root.refreshPromise,await a.Event.toPromise(this._onDidRender.event)),R}setSelection(M,P){const x=M.map(R=>this.getDataNode(R));this.tree.setSelection(x,P)}getSelection(){return this.tree.getSelection().map(P=>P.element)}setFocus(M,P){const x=M.map(R=>this.getDataNode(R));this.tree.setFocus(x,P)}getFocus(){return this.tree.getFocus().map(P=>P.element)}reveal(M,P){this.tree.reveal(this.getDataNode(M),P)}getParentElement(M){const P=this.tree.getParentElement(this.getDataNode(M));return P&&P.element}getFirstElementChild(M=this.root.element){const P=this.getDataNode(M),x=this.tree.getFirstElementChild(P===this.root?null:P);return x&&x.element}getDataNode(M){const P=this.nodes.get(M===this.root.element?null:M);if(!P)throw new y.TreeError(this.user,`Data tree node not found: ${M}`);return P}async refreshAndRenderNode(M,P,x,R){await this.refreshNode(M,P,x),!this.disposables.isDisposed&&this.render(M,x,R)}async refreshNode(M,P,x){let R;if(this.subTreeRefreshPromises.forEach((B,H)=>{!R&&v(H,M)&&(R=B.then(()=>this.refreshNode(M,P,x)))}),R)return R;if(M!==this.root&&this.tree.getNode(M).collapsed){M.hasChildren=!!this.dataSource.hasChildren(M.element),M.stale=!0,this.setChildren(M,[],P,x);return}return this.doRefreshSubTree(M,P,x)}async doRefreshSubTree(M,P,x){let R;M.refreshPromise=new Promise(B=>R=B),this.subTreeRefreshPromises.set(M,M.refreshPromise),M.refreshPromise.finally(()=>{M.refreshPromise=void 0,this.subTreeRefreshPromises.delete(M)});try{const B=await this.doRefreshNode(M,P,x);M.stale=!1,await p.Promises.settled(B.map(H=>this.doRefreshSubTree(H,P,x)))}finally{R()}}async doRefreshNode(M,P,x){M.hasChildren=!!this.dataSource.hasChildren(M.element);let R;if(!M.hasChildren)R=Promise.resolve(s.Iterable.empty());else{const B=this.doGetChildren(M);if((0,t.isIterable)(B))R=Promise.resolve(B);else{const H=(0,p.timeout)(800);H.then(()=>{M.slow=!0,this._onDidChangeNodeSlowState.fire(M)},V=>null),R=B.finally(()=>H.cancel())}}try{const B=await R;return this.setChildren(M,B,P,x)}catch(B){if(M!==this.root&&this.tree.hasElement(M)&&this.tree.collapse(M),(0,b.isCancellationError)(B))return[];throw B}finally{M.slow&&(M.slow=!1,this._onDidChangeNodeSlowState.fire(M))}}doGetChildren(M){let P=this.refreshPromises.get(M);if(P)return P;const x=this.dataSource.getChildren(M.element);return(0,t.isIterable)(x)?this.processChildren(x):(P=(0,p.createCancelablePromise)(async()=>this.processChildren(await x)),this.refreshPromises.set(M,P),P.finally(()=>{this.refreshPromises.delete(M)}))}_onDidChangeCollapseState({node:M,deep:P}){M.element!==null&&!M.collapsed&&M.element.stale&&(P?this.collapse(M.element.element):this.refreshAndRenderNode(M.element,!1).catch(b.onUnexpectedError))}setChildren(M,P,x,R){const B=[...P];if(M.children.length===0&&B.length===0)return[];const H=new Map,V=new Map;for(const U of M.children)H.set(U.element,U),this.identityProvider&&V.set(U.id,{node:U,collapsed:this.tree.hasElement(U)&&this.tree.isCollapsed(U)});const q=[],K=B.map(U=>{const $=!!this.dataSource.hasChildren(U);if(!this.identityProvider){const Q=n({element:U,parent:M,hasChildren:$,defaultCollapseState:this.getDefaultCollapseState(U)});return $&&Q.defaultCollapseState===y.ObjectTreeElementCollapseState.PreserveOrExpanded&&q.push(Q),Q}const se=this.identityProvider.getId(U).toString(),F=V.get(se);if(F){const Q=F.node;return H.delete(Q.element),this.nodes.delete(Q.element),this.nodes.set(U,Q),Q.element=U,Q.hasChildren=$,x?F.collapsed?(Q.children.forEach(Z=>_(Z,ae=>this.nodes.delete(ae.element))),Q.children.splice(0,Q.children.length),Q.stale=!0):q.push(Q):$&&!F.collapsed&&q.push(Q),Q}const X=n({element:U,parent:M,id:se,hasChildren:$,defaultCollapseState:this.getDefaultCollapseState(U)});return R&&R.viewState.focus&&R.viewState.focus.indexOf(se)>-1&&R.focus.push(X),R&&R.viewState.selection&&R.viewState.selection.indexOf(se)>-1&&R.selection.push(X),(R&&R.viewState.expanded&&R.viewState.expanded.indexOf(se)>-1||$&&X.defaultCollapseState===y.ObjectTreeElementCollapseState.PreserveOrExpanded)&&q.push(X),X});for(const U of H.values())_(U,$=>this.nodes.delete($.element));for(const U of K)this.nodes.set(U.element,U);return M.children.splice(0,M.children.length,...K),M!==this.root&&this.autoExpandSingleChildren&&K.length===1&&q.length===0&&(K[0].forceExpanded=!0,q.push(K[0])),q}render(M,P,x){const R=M.children.map(H=>this.asTreeElement(H,P)),B=x&&{...x,diffIdentityProvider:x.diffIdentityProvider&&{getId(H){return x.diffIdentityProvider.getId(H.element)}}};this.tree.setChildren(M===this.root?null:M,R,B),M!==this.root&&this.tree.setCollapsible(M,M.hasChildren),this._onDidRender.fire()}asTreeElement(M,P){if(M.stale)return{element:M,collapsible:M.hasChildren,collapsed:!0};let x;return P&&P.viewState.expanded&&M.id&&P.viewState.expanded.indexOf(M.id)>-1?x=!1:M.forceExpanded?(x=!1,M.forceExpanded=!1):x=M.defaultCollapseState,{element:M,children:M.hasChildren?s.Iterable.map(M.children,R=>this.asTreeElement(R,P)):[],collapsible:M.hasChildren,collapsed:x}}processChildren(M){return this.sorter&&(M=[...M].sort(this.sorter.compare.bind(this.sorter))),M}dispose(){this.disposables.dispose(),this.tree.dispose()}}e.AsyncDataTree=S;class I{get element(){return{elements:this.node.element.elements.map(M=>M.element),incompressible:this.node.element.incompressible}}get children(){return this.node.children.map(M=>new I(M))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}constructor(M){this.node=M}}class E{constructor(M,P,x,R){this.renderer=M,this.nodeMapper=P,this.compressibleNodeMapperProvider=x,this.onDidChangeTwistieState=R,this.renderedNodes=new Map,this.disposables=[],this.templateId=M.templateId}renderTemplate(M){return{templateData:this.renderer.renderTemplate(M)}}renderElement(M,P,x,R){this.renderer.renderElement(this.nodeMapper.map(M),P,x.templateData,R)}renderCompressedElements(M,P,x,R){this.renderer.renderCompressedElements(this.compressibleNodeMapperProvider().map(M),P,x.templateData,R)}renderTwistie(M,P){return M.slow?(P.classList.add(...C.ThemeIcon.asClassNameArray(w.Codicon.treeItemLoading)),!0):(P.classList.remove(...C.ThemeIcon.asClassNameArray(w.Codicon.treeItemLoading)),!1)}disposeElement(M,P,x,R){var B,H;(H=(B=this.renderer).disposeElement)===null||H===void 0||H.call(B,this.nodeMapper.map(M),P,x.templateData,R)}disposeCompressedElements(M,P,x,R){var B,H;(H=(B=this.renderer).disposeCompressedElements)===null||H===void 0||H.call(B,this.compressibleNodeMapperProvider().map(M),P,x.templateData,R)}disposeTemplate(M){this.renderer.disposeTemplate(M.templateData)}dispose(){this.renderedNodes.clear(),this.disposables=(0,i.dispose)(this.disposables)}}function T(O){const M=O&&f(O);return M&&{...M,keyboardNavigationLabelProvider:M.keyboardNavigationLabelProvider&&{...M.keyboardNavigationLabelProvider,getCompressedNodeKeyboardNavigationLabel(P){return O.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(P.map(x=>x.element))}}}}class N extends S{constructor(M,P,x,R,B,H,V={}){super(M,P,x,B,H,V),this.compressionDelegate=R,this.compressibleNodeMapper=new y.WeakMapper(q=>new I(q)),this.filter=V.filter}createTree(M,P,x,R,B){const H=new k.ComposedTreeDelegate(x),V=R.map(K=>new E(K,this.nodeMapper,()=>this.compressibleNodeMapper,this._onDidChangeNodeSlowState.event)),q=T(B)||{};return new L.CompressibleObjectTree(M,P,H,V,q)}asTreeElement(M,P){return{incompressible:this.compressionDelegate.isIncompressible(M.element),...super.asTreeElement(M,P)}}updateOptions(M={}){this.tree.updateOptions(M)}render(M,P,x){if(!this.identityProvider)return super.render(M,P);const R=F=>this.identityProvider.getId(F).toString(),B=F=>{const X=new Set;for(const Q of F){const Z=this.tree.getCompressedTreeNode(Q===this.root?null:Q);if(Z.element)for(const ae of Z.element.elements)X.add(R(ae.element))}return X},H=B(this.tree.getSelection()),V=B(this.tree.getFocus());super.render(M,P,x);const q=this.getSelection();let K=!1;const U=this.getFocus();let $=!1;const se=F=>{const X=F.element;if(X)for(let Q=0;Q<X.elements.length;Q++){const Z=R(X.elements[Q].element),ae=X.elements[X.elements.length-1].element;H.has(Z)&&q.indexOf(ae)===-1&&(q.push(ae),K=!0),V.has(Z)&&U.indexOf(ae)===-1&&(U.push(ae),$=!0)}F.children.forEach(se)};se(this.tree.getCompressedTreeNode(M===this.root?null:M)),K&&this.setSelection(q),$&&this.setFocus(U)}processChildren(M){return this.filter&&(M=s.Iterable.filter(M,P=>{const x=this.filter.filter(P,1),R=A(x);if(R===2)throw new Error("Recursive tree visibility not supported in async data compressed trees");return R===1})),super.processChildren(M)}}e.CompressibleAsyncDataTree=N;function A(O){return typeof O=="boolean"?O?1:0:(0,D.isFilterResult)(O)?(0,D.getVisibleState)(O.visibility):(0,D.getVisibleState)(O)}}),define(te[344],ie([1,0,12,7,2,55,17,11]),function(J,e,m,k,D,L,y,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SimpleWorkerServer=e.SimpleWorkerClient=void 0,e.logOnceWebWorkerWarning=b,e.create=o;const w="$initialize";let C=!1;function b(g){y.isWeb&&(C||(C=!0,console.warn("Could not create web worker(s). Falling back to loading web worker code in main thread, which might cause UI freezes. Please see https://github.com/microsoft/monaco-editor#faq")),console.warn(g.message))}class a{constructor(c,f,_,S){this.vsWorker=c,this.req=f,this.method=_,this.args=S,this.type=0}}class s{constructor(c,f,_,S){this.vsWorker=c,this.seq=f,this.res=_,this.err=S,this.type=1}}class i{constructor(c,f,_,S){this.vsWorker=c,this.req=f,this.eventName=_,this.arg=S,this.type=2}}class t{constructor(c,f,_){this.vsWorker=c,this.req=f,this.event=_,this.type=3}}class n{constructor(c,f){this.vsWorker=c,this.req=f,this.type=4}}class h{constructor(c){this._workerId=-1,this._handler=c,this._lastSentReq=0,this._pendingReplies=Object.create(null),this._pendingEmitters=new Map,this._pendingEvents=new Map}setWorkerId(c){this._workerId=c}sendMessage(c,f){const _=String(++this._lastSentReq);return new Promise((S,I)=>{this._pendingReplies[_]={resolve:S,reject:I},this._send(new a(this._workerId,_,c,f))})}listen(c,f){let _=null;const S=new k.Emitter({onWillAddFirstListener:()=>{_=String(++this._lastSentReq),this._pendingEmitters.set(_,S),this._send(new i(this._workerId,_,c,f))},onDidRemoveLastListener:()=>{this._pendingEmitters.delete(_),this._send(new n(this._workerId,_)),_=null}});return S.event}handleMessage(c){!c||!c.vsWorker||this._workerId!==-1&&c.vsWorker!==this._workerId||this._handleMessage(c)}_handleMessage(c){switch(c.type){case 1:return this._handleReplyMessage(c);case 0:return this._handleRequestMessage(c);case 2:return this._handleSubscribeEventMessage(c);case 3:return this._handleEventMessage(c);case 4:return this._handleUnsubscribeEventMessage(c)}}_handleReplyMessage(c){if(!this._pendingReplies[c.seq]){console.warn("Got reply to unknown seq");return}const f=this._pendingReplies[c.seq];if(delete this._pendingReplies[c.seq],c.err){let _=c.err;c.err.$isError&&(_=new Error,_.name=c.err.name,_.message=c.err.message,_.stack=c.err.stack),f.reject(_);return}f.resolve(c.res)}_handleRequestMessage(c){const f=c.req;this._handler.handleMessage(c.method,c.args).then(S=>{this._send(new s(this._workerId,f,S,void 0))},S=>{S.detail instanceof Error&&(S.detail=(0,m.transformErrorForSerialization)(S.detail)),this._send(new s(this._workerId,f,void 0,(0,m.transformErrorForSerialization)(S)))})}_handleSubscribeEventMessage(c){const f=c.req,_=this._handler.handleEvent(c.eventName,c.arg)(S=>{this._send(new t(this._workerId,f,S))});this._pendingEvents.set(f,_)}_handleEventMessage(c){if(!this._pendingEmitters.has(c.req)){console.warn("Got event for unknown req");return}this._pendingEmitters.get(c.req).fire(c.event)}_handleUnsubscribeEventMessage(c){if(!this._pendingEvents.has(c.req)){console.warn("Got unsubscribe for unknown req");return}this._pendingEvents.get(c.req).dispose(),this._pendingEvents.delete(c.req)}_send(c){const f=[];if(c.type===0)for(let _=0;_<c.args.length;_++)c.args[_]instanceof ArrayBuffer&&f.push(c.args[_]);else c.type===1&&c.res instanceof ArrayBuffer&&f.push(c.res);this._handler.sendMessage(c,f)}}class v extends D.Disposable{constructor(c,f,_){super();let S=null;this._worker=this._register(c.create("vs/base/common/worker/simpleWorker",O=>{this._protocol.handleMessage(O)},O=>{S?.(O)})),this._protocol=new h({sendMessage:(O,M)=>{this._worker.postMessage(O,M)},handleMessage:(O,M)=>{if(typeof _[O]!="function")return Promise.reject(new Error("Missing method "+O+" on main thread host."));try{return Promise.resolve(_[O].apply(_,M))}catch(P){return Promise.reject(P)}},handleEvent:(O,M)=>{if(d(O)){const P=_[O].call(_,M);if(typeof P!="function")throw new Error(`Missing dynamic event ${O} on main thread host.`);return P}if(u(O)){const P=_[O];if(typeof P!="function")throw new Error(`Missing event ${O} on main thread host.`);return P}throw new Error(`Malformed event name ${O}`)}}),this._protocol.setWorkerId(this._worker.getId());let I=null;const E=globalThis.require;typeof E<"u"&&typeof E.getConfig=="function"?I=E.getConfig():typeof globalThis.requirejs<"u"&&(I=globalThis.requirejs.s.contexts._.config);const T=(0,L.getAllMethodNames)(_);this._onModuleLoaded=this._protocol.sendMessage(w,[this._worker.getId(),JSON.parse(JSON.stringify(I)),f,T]);const N=(O,M)=>this._request(O,M),A=(O,M)=>this._protocol.listen(O,M);this._lazyProxy=new Promise((O,M)=>{S=M,this._onModuleLoaded.then(P=>{O(r(P,N,A))},P=>{M(P),this._onError("Worker failed to load "+f,P)})})}getProxyObject(){return this._lazyProxy}_request(c,f){return new Promise((_,S)=>{this._onModuleLoaded.then(()=>{this._protocol.sendMessage(c,f).then(_,S)},S)})}_onError(c,f){console.error(c),console.info(f)}}e.SimpleWorkerClient=v;function u(g){return g[0]==="o"&&g[1]==="n"&&p.isUpperAsciiLetter(g.charCodeAt(2))}function d(g){return/^onDynamic/.test(g)&&p.isUpperAsciiLetter(g.charCodeAt(9))}function r(g,c,f){const _=E=>function(){const T=Array.prototype.slice.call(arguments,0);return c(E,T)},S=E=>function(T){return f(E,T)},I={};for(const E of g){if(d(E)){I[E]=S(E);continue}if(u(E)){I[E]=f(E,void 0);continue}I[E]=_(E)}return I}class l{constructor(c,f){this._requestHandlerFactory=f,this._requestHandler=null,this._protocol=new h({sendMessage:(_,S)=>{c(_,S)},handleMessage:(_,S)=>this._handleMessage(_,S),handleEvent:(_,S)=>this._handleEvent(_,S)})}onmessage(c){this._protocol.handleMessage(c)}_handleMessage(c,f){if(c===w)return this.initialize(f[0],f[1],f[2],f[3]);if(!this._requestHandler||typeof this._requestHandler[c]!="function")return Promise.reject(new Error("Missing requestHandler or method: "+c));try{return Promise.resolve(this._requestHandler[c].apply(this._requestHandler,f))}catch(_){return Promise.reject(_)}}_handleEvent(c,f){if(!this._requestHandler)throw new Error("Missing requestHandler");if(d(c)){const _=this._requestHandler[c].call(this._requestHandler,f);if(typeof _!="function")throw new Error(`Missing dynamic event ${c} on request handler.`);return _}if(u(c)){const _=this._requestHandler[c];if(typeof _!="function")throw new Error(`Missing event ${c} on request handler.`);return _}throw new Error(`Malformed event name ${c}`)}initialize(c,f,_,S){this._protocol.setWorkerId(c);const T=r(S,(N,A)=>this._protocol.sendMessage(N,A),(N,A)=>this._protocol.listen(N,A));return this._requestHandlerFactory?(this._requestHandler=this._requestHandlerFactory(T),Promise.resolve((0,L.getAllMethodNames)(this._requestHandler))):(f&&(typeof f.baseUrl<"u"&&delete f.baseUrl,typeof f.paths<"u"&&typeof f.paths.vs<"u"&&delete f.paths.vs,typeof f.trustedTypesPolicy<"u"&&delete f.trustedTypesPolicy,f.catchError=!0,globalThis.require.config(f)),new Promise((N,A)=>{(globalThis.require||J)([_],M=>{if(this._requestHandler=M.create(T),!this._requestHandler){A(new Error("No RequestHandler!"));return}N((0,L.getAllMethodNames)(this._requestHandler))},A)}))}}e.SimpleWorkerServer=l;function o(g){return new l(g,null)}}),define(te[630],ie([1,0,98,12,49,344,2]),function(J,e,m,k,D,L,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultWorkerFactory=void 0,e.getWorkerBootstrapUrl=C;const p=(0,m.createTrustedTypesPolicy)("defaultWorkerFactory",{createScriptURL:i=>i});function w(i){const t=globalThis.MonacoEnvironment;if(t){if(typeof t.getWorker=="function")return t.getWorker("workerMain.js",i);if(typeof t.getWorkerUrl=="function"){const n=t.getWorkerUrl("workerMain.js",i);return new Worker(p?p.createScriptURL(n):n,{name:i})}}if(typeof J=="function"){const n=J.toUrl("vs/base/worker/workerMain.js"),h=C(n,i);return new Worker(p?p.createScriptURL(h):h,{name:i})}throw new Error("You must define a function MonacoEnvironment.getWorkerUrl or MonacoEnvironment.getWorker")}function C(i,t){if(/^((http:)|(https:)|(file:))/.test(i)&&i.substring(0,globalThis.origin.length)!==globalThis.origin){const d="vs/base/worker/defaultWorkerFactory.js",r=J.toUrl(d).slice(0,-d.length),l=`/*${t}*/globalThis.MonacoEnvironment={baseUrl: '${r}'};const ttPolicy = globalThis.trustedTypes?.createPolicy('defaultWorkerFactory', { createScriptURL: value => value });importScripts(ttPolicy?.createScriptURL('${i}') ?? '${i}');/*${t}*/`,o=new Blob([l],{type:"application/javascript"});return URL.createObjectURL(o)}const n=i.lastIndexOf("?"),h=i.lastIndexOf("#",n),v=n>0?new URLSearchParams(i.substring(n+1,~h?h:void 0)):new URLSearchParams;return D.COI.addSearchParam(v,!0,!0),v.toString()?`${i}?${v.toString()}#${t}`:`${i}#${t}`}function b(i){return typeof i.then=="function"}class a extends y.Disposable{constructor(t,n,h,v,u){super(),this.id=n,this.label=h;const d=w(h);b(d)?this.worker=d:this.worker=Promise.resolve(d),this.postMessage(t,[]),this.worker.then(r=>{r.onmessage=function(l){v(l.data)},r.onmessageerror=u,typeof r.addEventListener=="function"&&r.addEventListener("error",u)}),this._register((0,y.toDisposable)(()=>{var r;(r=this.worker)===null||r===void 0||r.then(l=>{l.onmessage=null,l.onmessageerror=null,l.removeEventListener("error",u),l.terminate()}),this.worker=null}))}getId(){return this.id}postMessage(t,n){var h;(h=this.worker)===null||h===void 0||h.then(v=>{try{v.postMessage(t,n)}catch(u){(0,k.onUnexpectedError)(u),(0,k.onUnexpectedError)(new Error(`FAILED to post message to '${this.label}'-worker`,{cause:u}))}})}}class s{constructor(t){this._label=t,this._webWorkerFailedBeforeError=!1}create(t,n,h){const v=++s.LAST_WORKER_ID;if(this._webWorkerFailedBeforeError)throw this._webWorkerFailedBeforeError;return new a(t,v,this._label||"anonymous"+v,n,u=>{(0,L.logOnceWebWorkerWarning)(u),this._webWorkerFailedBeforeError=u,h(u)})}}e.DefaultWorkerFactory=s,s.LAST_WORKER_ID=0}),define(te[631],ie([1,0,15,7,2,239,21]),function(J,e,m,k,D,L,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InMemoryStorageDatabase=e.Storage=e.StorageState=e.StorageHint=void 0;var p;(function(a){a[a.STORAGE_DOES_NOT_EXIST=0]="STORAGE_DOES_NOT_EXIST",a[a.STORAGE_IN_MEMORY=1]="STORAGE_IN_MEMORY"})(p||(e.StorageHint=p={}));var w;(function(a){a[a.None=0]="None",a[a.Initialized=1]="Initialized",a[a.Closed=2]="Closed"})(w||(e.StorageState=w={}));class C extends D.Disposable{constructor(s,i=Object.create(null)){super(),this.database=s,this.options=i,this._onDidChangeStorage=this._register(new k.PauseableEmitter),this.onDidChangeStorage=this._onDidChangeStorage.event,this.state=w.None,this.cache=new Map,this.flushDelayer=this._register(new m.ThrottledDelayer(C.DEFAULT_FLUSH_DELAY)),this.pendingDeletes=new Set,this.pendingInserts=new Map,this.whenFlushedCallbacks=[],this.registerListeners()}registerListeners(){this._register(this.database.onDidChangeItemsExternal(s=>this.onDidChangeItemsExternal(s)))}onDidChangeItemsExternal(s){var i,t;this._onDidChangeStorage.pause();try{(i=s.changed)===null||i===void 0||i.forEach((n,h)=>this.acceptExternal(h,n)),(t=s.deleted)===null||t===void 0||t.forEach(n=>this.acceptExternal(n,void 0))}finally{this._onDidChangeStorage.resume()}}acceptExternal(s,i){if(this.state===w.Closed)return;let t=!1;(0,y.isUndefinedOrNull)(i)?t=this.cache.delete(s):this.cache.get(s)!==i&&(this.cache.set(s,i),t=!0),t&&this._onDidChangeStorage.fire({key:s,external:!0})}get(s,i){const t=this.cache.get(s);return(0,y.isUndefinedOrNull)(t)?i:t}getBoolean(s,i){const t=this.get(s);return(0,y.isUndefinedOrNull)(t)?i:t==="true"}getNumber(s,i){const t=this.get(s);return(0,y.isUndefinedOrNull)(t)?i:parseInt(t,10)}async set(s,i,t=!1){if(this.state===w.Closed)return;if((0,y.isUndefinedOrNull)(i))return this.delete(s,t);const n=(0,y.isObject)(i)||Array.isArray(i)?(0,L.stringify)(i):String(i);if(this.cache.get(s)!==n)return this.cache.set(s,n),this.pendingInserts.set(s,n),this.pendingDeletes.delete(s),this._onDidChangeStorage.fire({key:s,external:t}),this.doFlush()}async delete(s,i=!1){if(!(this.state===w.Closed||!this.cache.delete(s)))return this.pendingDeletes.has(s)||this.pendingDeletes.add(s),this.pendingInserts.delete(s),this._onDidChangeStorage.fire({key:s,external:i}),this.doFlush()}get hasPending(){return this.pendingInserts.size>0||this.pendingDeletes.size>0}async flushPending(){if(!this.hasPending)return;const s={insert:this.pendingInserts,delete:this.pendingDeletes};return this.pendingDeletes=new Set,this.pendingInserts=new Map,this.database.updateItems(s).finally(()=>{var i;if(!this.hasPending)for(;this.whenFlushedCallbacks.length;)(i=this.whenFlushedCallbacks.pop())===null||i===void 0||i()})}async doFlush(s){return this.options.hint===p.STORAGE_IN_MEMORY?this.flushPending():this.flushDelayer.trigger(()=>this.flushPending(),s)}}e.Storage=C,C.DEFAULT_FLUSH_DELAY=100;class b{constructor(){this.onDidChangeItemsExternal=k.Event.None,this.items=new Map}async updateItems(s){var i,t;(i=s.insert)===null||i===void 0||i.forEach((n,h)=>this.items.set(h,n)),(t=s.delete)===null||t===void 0||t.forEach(n=>this.items.delete(n))}}e.InMemoryStorageDatabase=b}),define(te[345],ie([1,0,2,7,6]),function(J,e,m,k,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ElementSizeObserver=void 0;class L extends m.Disposable{constructor(p,w){super(),this._onDidChange=this._register(new k.Emitter),this.onDidChange=this._onDidChange.event,this._referenceDomElement=p,this._width=-1,this._height=-1,this._resizeObserver=null,this.measureReferenceDomElement(!1,w)}dispose(){this.stopObserving(),super.dispose()}getWidth(){return this._width}getHeight(){return this._height}startObserving(){if(!this._resizeObserver&&this._referenceDomElement){let p=null;const w=()=>{p?this.observe({width:p.width,height:p.height}):this.observe()};let C=!1,b=!1;const a=()=>{if(C&&!b)try{C=!1,b=!0,w()}finally{(0,D.scheduleAtNextAnimationFrame)((0,D.getWindow)(this._referenceDomElement),()=>{b=!1,a()})}};this._resizeObserver=new ResizeObserver(s=>{s&&s[0]&&s[0].contentRect?p={width:s[0].contentRect.width,height:s[0].contentRect.height}:p=null,C=!0,a()}),this._resizeObserver.observe(this._referenceDomElement)}}stopObserving(){this._resizeObserver&&(this._resizeObserver.disconnect(),this._resizeObserver=null)}observe(p){this.measureReferenceDomElement(!0,p)}measureReferenceDomElement(p,w){let C=0,b=0;w?(C=w.width,b=w.height):this._referenceDomElement&&(C=this._referenceDomElement.clientWidth,b=this._referenceDomElement.clientHeight),C=Math.max(5,C),b=Math.max(5,b),(this._width!==C||this._height!==b)&&(this._width=C,this._height=b,p&&this._onDidChange.fire())}}e.ElementSizeObserver=L}),define(te[632],ie([1,0,6,40,56]),function(J,e,m,k,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewContentWidgets=void 0;class L extends D.ViewPart{constructor(s,i){super(s),this._viewDomNode=i,this._widgets={},this.domNode=(0,k.createFastDomNode)(document.createElement("div")),D.PartFingerprints.write(this.domNode,1),this.domNode.setClassName("contentWidgets"),this.domNode.setPosition("absolute"),this.domNode.setTop(0),this.overflowingContentWidgetsDomNode=(0,k.createFastDomNode)(document.createElement("div")),D.PartFingerprints.write(this.overflowingContentWidgetsDomNode,2),this.overflowingContentWidgetsDomNode.setClassName("overflowingContentWidgets")}dispose(){super.dispose(),this._widgets={}}onConfigurationChanged(s){const i=Object.keys(this._widgets);for(const t of i)this._widgets[t].onConfigurationChanged(s);return!0}onDecorationsChanged(s){return!0}onFlushed(s){return!0}onLineMappingChanged(s){return this._updateAnchorsViewPositions(),!0}onLinesChanged(s){return this._updateAnchorsViewPositions(),!0}onLinesDeleted(s){return this._updateAnchorsViewPositions(),!0}onLinesInserted(s){return this._updateAnchorsViewPositions(),!0}onScrollChanged(s){return!0}onZonesChanged(s){return!0}_updateAnchorsViewPositions(){const s=Object.keys(this._widgets);for(const i of s)this._widgets[i].updateAnchorViewPosition()}addWidget(s){const i=new y(this._context,this._viewDomNode,s);this._widgets[i.id]=i,i.allowEditorOverflow?this.overflowingContentWidgetsDomNode.appendChild(i.domNode):this.domNode.appendChild(i.domNode),this.setShouldRender()}setWidgetPosition(s,i,t,n,h){this._widgets[s.getId()].setPosition(i,t,n,h),this.setShouldRender()}removeWidget(s){const i=s.getId();if(this._widgets.hasOwnProperty(i)){const t=this._widgets[i];delete this._widgets[i];const n=t.domNode.domNode;n.parentNode.removeChild(n),n.removeAttribute("monaco-visible-content-widget"),this.setShouldRender()}}shouldSuppressMouseDownOnWidget(s){return this._widgets.hasOwnProperty(s)?this._widgets[s].suppressMouseDown:!1}onBeforeRender(s){const i=Object.keys(this._widgets);for(const t of i)this._widgets[t].onBeforeRender(s)}prepareRender(s){const i=Object.keys(this._widgets);for(const t of i)this._widgets[t].prepareRender(s)}render(s){const i=Object.keys(this._widgets);for(const t of i)this._widgets[t].render(s)}}e.ViewContentWidgets=L;class y{constructor(s,i,t){this._primaryAnchor=new p(null,null),this._secondaryAnchor=new p(null,null),this._context=s,this._viewDomNode=i,this._actual=t,this.domNode=(0,k.createFastDomNode)(this._actual.getDomNode()),this.id=this._actual.getId(),this.allowEditorOverflow=this._actual.allowEditorOverflow||!1,this.suppressMouseDown=this._actual.suppressMouseDown||!1;const n=this._context.configuration.options,h=n.get(145);this._fixedOverflowWidgets=n.get(42),this._contentWidth=h.contentWidth,this._contentLeft=h.contentLeft,this._lineHeight=n.get(67),this._affinity=null,this._preference=[],this._cachedDomNodeOffsetWidth=-1,this._cachedDomNodeOffsetHeight=-1,this._maxWidth=this._getMaxWidth(),this._isVisible=!1,this._renderData=null,this.domNode.setPosition(this._fixedOverflowWidgets&&this.allowEditorOverflow?"fixed":"absolute"),this.domNode.setDisplay("none"),this.domNode.setVisibility("hidden"),this.domNode.setAttribute("widgetId",this.id),this.domNode.setMaxWidth(this._maxWidth)}onConfigurationChanged(s){const i=this._context.configuration.options;if(this._lineHeight=i.get(67),s.hasChanged(145)){const t=i.get(145);this._contentLeft=t.contentLeft,this._contentWidth=t.contentWidth,this._maxWidth=this._getMaxWidth()}}updateAnchorViewPosition(){this._setPosition(this._affinity,this._primaryAnchor.modelPosition,this._secondaryAnchor.modelPosition)}_setPosition(s,i,t){this._affinity=s,this._primaryAnchor=n(i,this._context.viewModel,this._affinity),this._secondaryAnchor=n(t,this._context.viewModel,this._affinity);function n(h,v,u){if(!h)return new p(null,null);const d=v.model.validatePosition(h);if(v.coordinatesConverter.modelPositionIsVisible(d)){const r=v.coordinatesConverter.convertModelPositionToViewPosition(d,u??void 0);return new p(h,r)}return new p(h,null)}}_getMaxWidth(){const s=this.domNode.domNode.ownerDocument,i=s.defaultView;return this.allowEditorOverflow?i?.innerWidth||s.documentElement.offsetWidth||s.body.offsetWidth:this._contentWidth}setPosition(s,i,t,n){this._setPosition(n,s,i),this._preference=t,this._primaryAnchor.viewPosition&&this._preference&&this._preference.length>0?this.domNode.setDisplay("block"):this.domNode.setDisplay("none"),this._cachedDomNodeOffsetWidth=-1,this._cachedDomNodeOffsetHeight=-1}_layoutBoxInViewport(s,i,t,n){const h=s.top,v=h,u=s.top+s.height,d=n.viewportHeight-u,r=h-t,l=v>=t,o=u,g=d>=t;let c=s.left;return c+i>n.scrollLeft+n.viewportWidth&&(c=n.scrollLeft+n.viewportWidth-i),c<n.scrollLeft&&(c=n.scrollLeft),{fitsAbove:l,aboveTop:r,fitsBelow:g,belowTop:o,left:c}}_layoutHorizontalSegmentInPage(s,i,t,n){var h;const d=Math.max(15,i.left-n),r=Math.min(i.left+i.width+n,s.width-15),o=this._viewDomNode.domNode.ownerDocument.defaultView;let g=i.left+t-((h=o?.scrollX)!==null&&h!==void 0?h:0);if(g+n>r){const c=g-(r-n);g-=c,t-=c}if(g<d){const c=g-d;g-=c,t-=c}return[t,g]}_layoutBoxInPage(s,i,t,n){var h,v;const u=s.top-t,d=s.top+s.height,r=m.getDomNodePagePosition(this._viewDomNode.domNode),l=this._viewDomNode.domNode.ownerDocument,o=l.defaultView,g=r.top+u-((h=o?.scrollY)!==null&&h!==void 0?h:0),c=r.top+d-((v=o?.scrollY)!==null&&v!==void 0?v:0),f=m.getClientArea(l.body),[_,S]=this._layoutHorizontalSegmentInPage(f,r,s.left-n.scrollLeft+this._contentLeft,i),I=22,E=22,T=g>=I,N=c+t<=f.height-E;return this._fixedOverflowWidgets?{fitsAbove:T,aboveTop:Math.max(g,I),fitsBelow:N,belowTop:c,left:S}:{fitsAbove:T,aboveTop:u,fitsBelow:N,belowTop:d,left:_}}_prepareRenderWidgetAtExactPositionOverflowing(s){return new w(s.top,s.left+this._contentLeft)}_getAnchorsCoordinates(s){var i,t;const n=u(this._primaryAnchor.viewPosition,this._affinity,this._lineHeight),h=((i=this._secondaryAnchor.viewPosition)===null||i===void 0?void 0:i.lineNumber)===((t=this._primaryAnchor.viewPosition)===null||t===void 0?void 0:t.lineNumber)?this._secondaryAnchor.viewPosition:null,v=u(h,this._affinity,this._lineHeight);return{primary:n,secondary:v};function u(d,r,l){if(!d)return null;const o=s.visibleRangeForPosition(d);if(!o)return null;const g=d.column===1&&r===3?0:o.left,c=s.getVerticalOffsetForLineNumber(d.lineNumber)-s.scrollTop;return new C(c,g,l)}}_reduceAnchorCoordinates(s,i,t){if(!i)return s;const n=this._context.configuration.options.get(50);let h=i.left;return h<s.left?h=Math.max(h,s.left-t+n.typicalFullwidthCharacterWidth):h=Math.min(h,s.left+t-n.typicalFullwidthCharacterWidth),new C(s.top,h,s.height)}_prepareRenderWidget(s){if(!this._preference||this._preference.length===0)return null;const{primary:i,secondary:t}=this._getAnchorsCoordinates(s);if(!i)return null;if(this._cachedDomNodeOffsetWidth===-1||this._cachedDomNodeOffsetHeight===-1){let v=null;if(typeof this._actual.beforeRender=="function"&&(v=b(this._actual.beforeRender,this._actual)),v)this._cachedDomNodeOffsetWidth=v.width,this._cachedDomNodeOffsetHeight=v.height;else{const d=this.domNode.domNode.getBoundingClientRect();this._cachedDomNodeOffsetWidth=Math.round(d.width),this._cachedDomNodeOffsetHeight=Math.round(d.height)}}const n=this._reduceAnchorCoordinates(i,t,this._cachedDomNodeOffsetWidth);let h;this.allowEditorOverflow?h=this._layoutBoxInPage(n,this._cachedDomNodeOffsetWidth,this._cachedDomNodeOffsetHeight,s):h=this._layoutBoxInViewport(n,this._cachedDomNodeOffsetWidth,this._cachedDomNodeOffsetHeight,s);for(let v=1;v<=2;v++)for(const u of this._preference)if(u===1){if(!h)return null;if(v===2||h.fitsAbove)return{coordinate:new w(h.aboveTop,h.left),position:1}}else if(u===2){if(!h)return null;if(v===2||h.fitsBelow)return{coordinate:new w(h.belowTop,h.left),position:2}}else return this.allowEditorOverflow?{coordinate:this._prepareRenderWidgetAtExactPositionOverflowing(new w(n.top,n.left)),position:0}:{coordinate:new w(n.top,n.left),position:0};return null}onBeforeRender(s){!this._primaryAnchor.viewPosition||!this._preference||this._primaryAnchor.viewPosition.lineNumber<s.startLineNumber||this._primaryAnchor.viewPosition.lineNumber>s.endLineNumber||this.domNode.setMaxWidth(this._maxWidth)}prepareRender(s){this._renderData=this._prepareRenderWidget(s)}render(s){if(!this._renderData){this._isVisible&&(this.domNode.removeAttribute("monaco-visible-content-widget"),this._isVisible=!1,this.domNode.setVisibility("hidden")),typeof this._actual.afterRender=="function"&&b(this._actual.afterRender,this._actual,null);return}this.allowEditorOverflow?(this.domNode.setTop(this._renderData.coordinate.top),this.domNode.setLeft(this._renderData.coordinate.left)):(this.domNode.setTop(this._renderData.coordinate.top+s.scrollTop-s.bigNumbersDelta),this.domNode.setLeft(this._renderData.coordinate.left)),this._isVisible||(this.domNode.setVisibility("inherit"),this.domNode.setAttribute("monaco-visible-content-widget","true"),this._isVisible=!0),typeof this._actual.afterRender=="function"&&b(this._actual.afterRender,this._actual,this._renderData.position)}}class p{constructor(s,i){this.modelPosition=s,this.viewPosition=i}}class w{constructor(s,i){this.top=s,this.left=i,this._coordinateBrand=void 0}}class C{constructor(s,i,t){this.top=s,this.left=i,this.height=t,this._anchorCoordinateBrand=void 0}}function b(a,s,...i){try{return a.call(s,...i)}catch{return null}}}),define(te[633],ie([1,0,40,56,6,463]),function(J,e,m,k,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewOverlayWidgets=void 0;class L extends k.ViewPart{constructor(p,w){super(p),this._viewDomNode=w;const b=this._context.configuration.options.get(145);this._widgets={},this._verticalScrollbarWidth=b.verticalScrollbarWidth,this._minimapWidth=b.minimap.minimapWidth,this._horizontalScrollbarHeight=b.horizontalScrollbarHeight,this._editorHeight=b.height,this._editorWidth=b.width,this._viewDomNodeRect={top:0,left:0,width:0,height:0},this._domNode=(0,m.createFastDomNode)(document.createElement("div")),k.PartFingerprints.write(this._domNode,4),this._domNode.setClassName("overlayWidgets"),this.overflowingOverlayWidgetsDomNode=(0,m.createFastDomNode)(document.createElement("div")),k.PartFingerprints.write(this.overflowingOverlayWidgetsDomNode,5),this.overflowingOverlayWidgetsDomNode.setClassName("overflowingOverlayWidgets")}dispose(){super.dispose(),this._widgets={}}getDomNode(){return this._domNode}onConfigurationChanged(p){const C=this._context.configuration.options.get(145);return this._verticalScrollbarWidth=C.verticalScrollbarWidth,this._minimapWidth=C.minimap.minimapWidth,this._horizontalScrollbarHeight=C.horizontalScrollbarHeight,this._editorHeight=C.height,this._editorWidth=C.width,!0}addWidget(p){const w=(0,m.createFastDomNode)(p.getDomNode());this._widgets[p.getId()]={widget:p,preference:null,domNode:w},w.setPosition("absolute"),w.setAttribute("widgetId",p.getId()),p.allowEditorOverflow?this.overflowingOverlayWidgetsDomNode.appendChild(w):this._domNode.appendChild(w),this.setShouldRender(),this._updateMaxMinWidth()}setWidgetPosition(p,w){const C=this._widgets[p.getId()];return C.preference===w?(this._updateMaxMinWidth(),!1):(C.preference=w,this.setShouldRender(),this._updateMaxMinWidth(),!0)}removeWidget(p){const w=p.getId();if(this._widgets.hasOwnProperty(w)){const b=this._widgets[w].domNode.domNode;delete this._widgets[w],b.remove(),this.setShouldRender(),this._updateMaxMinWidth()}}_updateMaxMinWidth(){var p,w;let C=0;const b=Object.keys(this._widgets);for(let a=0,s=b.length;a<s;a++){const i=b[a],n=(w=(p=this._widgets[i].widget).getMinContentWidthInPx)===null||w===void 0?void 0:w.call(p);typeof n<"u"&&(C=Math.max(C,n))}this._context.viewLayout.setOverlayWidgetsMinWidth(C)}_renderWidget(p){const w=p.domNode;if(p.preference===null){w.setTop("");return}if(p.preference===0)w.setTop(0),w.setRight(2*this._verticalScrollbarWidth+this._minimapWidth);else if(p.preference===1){const C=w.domNode.clientHeight;w.setTop(this._editorHeight-C-2*this._horizontalScrollbarHeight),w.setRight(2*this._verticalScrollbarWidth+this._minimapWidth)}else if(p.preference===2)w.setTop(0),w.domNode.style.right="50%";else{const{top:C,left:b}=p.preference;if(this._context.configuration.options.get(42)&&p.widget.allowEditorOverflow){const s=this._viewDomNodeRect;w.setTop(C+s.top),w.setLeft(b+s.left),w.setPosition("fixed")}else w.setTop(C),w.setLeft(b),w.setPosition("absolute")}}prepareRender(p){this._viewDomNodeRect=D.getDomNodePagePosition(this._viewDomNode.domNode)}render(p){this._domNode.setWidth(this._editorWidth);const w=Object.keys(this._widgets);for(let C=0,b=w.length;C<b;C++){const a=w[C];this._renderWidget(this._widgets[a])}}}e.ViewOverlayWidgets=L}),define(te[634],ie([1,0,6,12,2]),function(J,e,m,k,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeEditorContributions=void 0;class L extends D.Disposable{constructor(){super(),this._editor=null,this._instantiationService=null,this._instances=this._register(new D.DisposableMap),this._pending=new Map,this._finishedInstantiation=[],this._finishedInstantiation[0]=!1,this._finishedInstantiation[1]=!1,this._finishedInstantiation[2]=!1,this._finishedInstantiation[3]=!1}initialize(p,w,C){this._editor=p,this._instantiationService=C;for(const b of w){if(this._pending.has(b.id)){(0,k.onUnexpectedError)(new Error(`Cannot have two contributions with the same id ${b.id}`));continue}this._pending.set(b.id,b)}this._instantiateSome(0),this._register((0,m.runWhenWindowIdle)((0,m.getWindow)(this._editor.getDomNode()),()=>{this._instantiateSome(1)})),this._register((0,m.runWhenWindowIdle)((0,m.getWindow)(this._editor.getDomNode()),()=>{this._instantiateSome(2)})),this._register((0,m.runWhenWindowIdle)((0,m.getWindow)(this._editor.getDomNode()),()=>{this._instantiateSome(3)},5e3))}saveViewState(){const p={};for(const[w,C]of this._instances)typeof C.saveViewState=="function"&&(p[w]=C.saveViewState());return p}restoreViewState(p){for(const[w,C]of this._instances)typeof C.restoreViewState=="function"&&C.restoreViewState(p[w])}get(p){return this._instantiateById(p),this._instances.get(p)||null}onBeforeInteractionEvent(){this._instantiateSome(2)}onAfterModelAttached(){var p;return(0,m.runWhenWindowIdle)((0,m.getWindow)((p=this._editor)===null||p===void 0?void 0:p.getDomNode()),()=>{this._instantiateSome(1)},50)}_instantiateSome(p){if(this._finishedInstantiation[p])return;this._finishedInstantiation[p]=!0;const w=this._findPendingContributionsByInstantiation(p);for(const C of w)this._instantiateById(C.id)}_findPendingContributionsByInstantiation(p){const w=[];for(const[,C]of this._pending)C.instantiation===p&&w.push(C);return w}_instantiateById(p){const w=this._pending.get(p);if(w){if(this._pending.delete(p),!this._instantiationService||!this._editor)throw new Error("Cannot instantiate contributions before being initialized!");try{const C=this._instantiationService.createInstance(w.ctor,this._editor);this._instances.set(w.id,C),typeof C.restoreViewState=="function"&&w.instantiation!==0&&console.warn(`Editor contribution '${w.id}' should be eager instantiated because it uses saveViewState / restoreViewState.`)}catch(C){(0,k.onUnexpectedError)(C)}}}}e.CodeEditorContributions=L}),define(te[635],ie([1,0,165,2,32]),function(J,e,m,k,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffEditorSash=void 0;class L extends k.Disposable{constructor(p,w,C,b){super(),this._options=p,this._domNode=w,this._dimensions=C,this._sashes=b,this._sashRatio=(0,D.observableValue)(this,void 0),this.sashLeft=(0,D.derived)(this,a=>{var s;const i=(s=this._sashRatio.read(a))!==null&&s!==void 0?s:this._options.splitViewDefaultRatio.read(a);return this._computeSashLeft(i,a)}),this._sash=this._register(new m.Sash(this._domNode,{getVerticalSashTop:a=>0,getVerticalSashLeft:a=>this.sashLeft.get(),getVerticalSashHeight:a=>this._dimensions.height.get()},{orientation:0})),this._startSashPosition=void 0,this._register(this._sash.onDidStart(()=>{this._startSashPosition=this.sashLeft.get()})),this._register(this._sash.onDidChange(a=>{const s=this._dimensions.width.get(),i=this._computeSashLeft((this._startSashPosition+(a.currentX-a.startX))/s,void 0);this._sashRatio.set(i/s,void 0)})),this._register(this._sash.onDidEnd(()=>this._sash.layout())),this._register(this._sash.onDidReset(()=>this._sashRatio.set(void 0,void 0))),this._register((0,D.autorun)(a=>{const s=this._sashes.read(a);s&&(this._sash.orthogonalEndSash=s.bottom)})),this._register((0,D.autorun)(a=>{const s=this._options.enableSplitViewResizing.read(a);this._sash.state=s?3:0,this.sashLeft.read(a),this._dimensions.height.read(a),this._sash.layout()}))}_computeSashLeft(p,w){const C=this._dimensions.width.read(w),b=Math.floor(this._options.splitViewDefaultRatio.read(w)*C),a=this._options.enableSplitViewResizing.read(w)?Math.floor(p*C):b,s=100;return C<=s*2?b:a<s?s:a>C-s?C-s:a}}e.DiffEditorSash=L}),define(te[82],ie([1,0,66,20,612,2,32,345,9,5,122]),function(J,e,m,k,D,L,y,p,w,C,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DisposableCancellationTokenSource=e.ManagedOverlayWidget=e.PlaceholderViewZone=e.ViewZoneOverlayWidget=e.ObservableElementSizeObserver=void 0,e.joinCombine=a,e.applyObservableDecorations=s,e.appendRemoveOnDispose=i,e.animatedObservable=n,e.applyStyle=r,e.readHotReloadableExport=l,e.observeHotReloadableExports=o,e.applyViewZones=g,e.translatePosition=f,e.bindContextKey=S,e.filterWithPrevious=I;function a(E,T,N,A){if(E.length===0)return T;if(T.length===0)return E;const O=[];let M=0,P=0;for(;M<E.length&&P<T.length;){const x=E[M],R=T[P],B=N(x),H=N(R);B<H?(O.push(x),M++):B>H?(O.push(R),P++):(O.push(A(x,R)),M++,P++)}for(;M<E.length;)O.push(E[M]),M++;for(;P<T.length;)O.push(T[P]),P++;return O}function s(E,T){const N=new L.DisposableStore,A=E.createDecorationsCollection();return N.add((0,y.autorunOpts)({debugName:()=>`Apply decorations from ${T.debugName}`},O=>{const M=T.read(O);A.set(M)})),N.add({dispose:()=>{A.clear()}}),N}function i(E,T){return E.appendChild(T),(0,L.toDisposable)(()=>{E.removeChild(T)})}class t extends L.Disposable{get width(){return this._width}get height(){return this._height}constructor(T,N){super(),this.elementSizeObserver=this._register(new p.ElementSizeObserver(T,N)),this._width=(0,y.observableValue)(this,this.elementSizeObserver.getWidth()),this._height=(0,y.observableValue)(this,this.elementSizeObserver.getHeight()),this._register(this.elementSizeObserver.onDidChange(A=>(0,y.transaction)(O=>{this._width.set(this.elementSizeObserver.getWidth(),O),this._height.set(this.elementSizeObserver.getHeight(),O)})))}observe(T){this.elementSizeObserver.observe(T)}setAutomaticLayout(T){T?this.elementSizeObserver.startObserving():this.elementSizeObserver.stopObserving()}}e.ObservableElementSizeObserver=t;function n(E,T,N){let A=T.get(),O=A,M=A;const P=(0,y.observableValue)("animatedValue",A);let x=-1;const R=300;let B;N.add((0,y.autorunHandleChanges)({createEmptyChangeSummary:()=>({animate:!1}),handleChange:(V,q)=>(V.didChange(T)&&(q.animate=q.animate||V.change),!0)},(V,q)=>{B!==void 0&&(E.cancelAnimationFrame(B),B=void 0),O=M,A=T.read(V),x=Date.now()-(q.animate?0:R),H()}));function H(){const V=Date.now()-x;M=Math.floor(h(V,O,A-O,R)),V<R?B=E.requestAnimationFrame(H):M=A,P.set(M,void 0)}return P}function h(E,T,N,A){return E===A?T+N:N*(-Math.pow(2,-10*E/A)+1)+T}class v extends L.Disposable{constructor(T,N,A){super(),this._register(new d(T,A)),this._register(r(A,{height:N.actualHeight,top:N.actualTop}))}}e.ViewZoneOverlayWidget=v;class u{get afterLineNumber(){return this._afterLineNumber.get()}constructor(T,N){this._afterLineNumber=T,this.heightInPx=N,this.domNode=document.createElement("div"),this._actualTop=(0,y.observableValue)(this,void 0),this._actualHeight=(0,y.observableValue)(this,void 0),this.actualTop=this._actualTop,this.actualHeight=this._actualHeight,this.showInHiddenAreas=!0,this.onChange=this._afterLineNumber,this.onDomNodeTop=A=>{this._actualTop.set(A,void 0)},this.onComputedHeight=A=>{this._actualHeight.set(A,void 0)}}}e.PlaceholderViewZone=u;class d{constructor(T,N){this._editor=T,this._domElement=N,this._overlayWidgetId=`managedOverlayWidget-${d._counter++}`,this._overlayWidget={getId:()=>this._overlayWidgetId,getDomNode:()=>this._domElement,getPosition:()=>null},this._editor.addOverlayWidget(this._overlayWidget)}dispose(){this._editor.removeOverlayWidget(this._overlayWidget)}}e.ManagedOverlayWidget=d,d._counter=0;function r(E,T){return(0,y.autorun)(N=>{for(let[A,O]of Object.entries(T))O&&typeof O=="object"&&"read"in O&&(O=O.read(N)),typeof O=="number"&&(O=`${O}px`),A=A.replace(/[A-Z]/g,M=>"-"+M.toLowerCase()),E.style[A]=O})}function l(E,T){return o([E],T),E}function o(E,T){(0,D.isHotReloadEnabled)()&&(0,y.observableSignalFromEvent)("reload",A=>(0,D.registerHotReloadHandler)(({oldExports:O})=>{if([...Object.values(O)].some(M=>E.includes(M)))return M=>(A(void 0),!0)})).read(T)}function g(E,T,N,A){const O=new L.DisposableStore,M=[];return O.add((0,y.autorunWithStore)((P,x)=>{const R=T.read(P),B=new Map,H=new Map;N&&N(!0),E.changeViewZones(V=>{for(const q of M)V.removeZone(q),A?.delete(q);M.length=0;for(const q of R){const K=V.addZone(q);q.setZoneId&&q.setZoneId(K),M.push(K),A?.add(K),B.set(q,K)}}),N&&N(!1),x.add((0,y.autorunHandleChanges)({createEmptyChangeSummary(){return{zoneIds:[]}},handleChange(V,q){const K=H.get(V.changedObservable);return K!==void 0&&q.zoneIds.push(K),!0}},(V,q)=>{for(const K of R)K.onChange&&(H.set(K.onChange,B.get(K)),K.onChange.read(V));N&&N(!0),E.changeViewZones(K=>{for(const U of q.zoneIds)K.layoutZone(U)}),N&&N(!1)}))})),O.add({dispose(){N&&N(!0),E.changeViewZones(P=>{for(const x of M)P.removeZone(x)}),A?.clear(),N&&N(!1)}}),O}class c extends k.CancellationTokenSource{dispose(){super.dispose(!0)}}e.DisposableCancellationTokenSource=c;function f(E,T){const N=(0,m.findLast)(T,O=>O.original.startLineNumber<=E.lineNumber);if(!N)return C.Range.fromPositions(E);if(N.original.endLineNumberExclusive<=E.lineNumber){const O=E.lineNumber-N.original.endLineNumberExclusive+N.modified.endLineNumberExclusive;return C.Range.fromPositions(new w.Position(O,E.column))}if(!N.innerChanges)return C.Range.fromPositions(new w.Position(N.modified.startLineNumber,1));const A=(0,m.findLast)(N.innerChanges,O=>O.originalRange.getStartPosition().isBeforeOrEqual(E));if(!A){const O=E.lineNumber-N.original.startLineNumber+N.modified.startLineNumber;return C.Range.fromPositions(new w.Position(O,E.column))}if(A.originalRange.containsPosition(E))return A.modifiedRange;{const O=_(A.originalRange.getEndPosition(),E);return C.Range.fromPositions(O.addToPosition(A.modifiedRange.getEndPosition()))}}function _(E,T){return E.lineNumber===T.lineNumber?new b.TextLength(0,T.column-E.column):new b.TextLength(T.lineNumber-E.lineNumber,T.column-1)}function S(E,T,N){const A=E.bindTo(T);return(0,y.autorunOpts)({debugName:()=>`Set Context Key "${E.key}"`},O=>{A.set(N(O))})}function I(E,T){let N;return E.filter(A=>{const O=T(A,N);return N=A,O})}}),define(te[636],ie([1,0,6,2,32,60,64]),function(J,e,m,k,D,L,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorGutter=void 0;class p extends k.Disposable{constructor(b,a,s){super(),this._editor=b,this._domNode=a,this.itemProvider=s,this.scrollTop=(0,D.observableFromEvent)(this._editor.onDidScrollChange,n=>this._editor.getScrollTop()),this.isScrollTopZero=this.scrollTop.map(n=>n===0),this.modelAttached=(0,D.observableFromEvent)(this._editor.onDidChangeModel,n=>this._editor.hasModel()),this.editorOnDidChangeViewZones=(0,D.observableSignalFromEvent)("onDidChangeViewZones",this._editor.onDidChangeViewZones),this.editorOnDidContentSizeChange=(0,D.observableSignalFromEvent)("onDidContentSizeChange",this._editor.onDidContentSizeChange),this.domNodeSizeChanged=(0,D.observableSignal)("domNodeSizeChanged"),this.views=new Map,this._domNode.className="gutter monaco-editor";const i=this._domNode.appendChild((0,m.h)("div.scroll-decoration",{role:"presentation",ariaHidden:"true",style:{width:"100%"}}).root),t=new ResizeObserver(()=>{(0,D.transaction)(n=>{this.domNodeSizeChanged.trigger(n)})});t.observe(this._domNode),this._register((0,k.toDisposable)(()=>t.disconnect())),this._register((0,D.autorun)(n=>{i.className=this.isScrollTopZero.read(n)?"":"scroll-decoration"})),this._register((0,D.autorun)(n=>this.render(n)))}dispose(){super.dispose(),(0,m.reset)(this._domNode)}render(b){if(!this.modelAttached.read(b))return;this.domNodeSizeChanged.read(b),this.editorOnDidChangeViewZones.read(b),this.editorOnDidContentSizeChange.read(b);const a=this.scrollTop.read(b),s=this._editor.getVisibleRanges(),i=new Set(this.views.keys()),t=y.OffsetRange.ofStartAndLength(0,this._domNode.clientHeight);if(!t.isEmpty)for(const n of s){const h=new L.LineRange(n.startLineNumber,n.endLineNumber+1),v=this.itemProvider.getIntersectingGutterItems(h,b);(0,D.transaction)(u=>{for(const d of v){if(!d.range.intersect(h))continue;i.delete(d.id);let r=this.views.get(d.id);if(r)r.item.set(d,u);else{const c=document.createElement("div");this._domNode.appendChild(c);const f=(0,D.observableValue)("item",d),_=this.itemProvider.createView(f,c);r=new w(f,_,c),this.views.set(d.id,r)}const l=d.range.startLineNumber<=this._editor.getModel().getLineCount()?this._editor.getTopForLineNumber(d.range.startLineNumber,!0)-a:this._editor.getBottomForLineNumber(d.range.startLineNumber-1,!1)-a,g=this._editor.getBottomForLineNumber(d.range.endLineNumberExclusive-1,!0)-a-l;r.domNode.style.top=`${l}px`,r.domNode.style.height=`${g}px`,r.gutterItemView.layout(y.OffsetRange.ofStartAndLength(l,g),t)}})}for(const n of i){const h=this.views.get(n);h.gutterItemView.dispose(),this._domNode.removeChild(h.domNode),this.views.delete(n)}}}e.EditorGutter=p;class w{constructor(b,a,s){this.item=b,this.gutterItemView=a,this.domNode=s}}}),define(te[110],ie([1,0,11,17,154]),function(J,e,m,k,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StringBuilder=void 0,e.getPlatformTextDecoder=b,e.decodeUTF16LE=a;let L;function y(){return L||(L=new TextDecoder("UTF-16LE")),L}let p;function w(){return p||(p=new TextDecoder("UTF-16BE")),p}let C;function b(){return C||(C=k.isLittleEndian()?y():w()),C}function a(t,n,h){const v=new Uint16Array(t.buffer,n,h);return h>0&&(v[0]===65279||v[0]===65534)?s(t,n,h):y().decode(v)}function s(t,n,h){const v=[];let u=0;for(let d=0;d<h;d++){const r=D.readUInt16LE(t,n);n+=2,v[u++]=String.fromCharCode(r)}return v.join("")}class i{constructor(n){this._capacity=n|0,this._buffer=new Uint16Array(this._capacity),this._completedStrings=null,this._bufferLength=0}reset(){this._completedStrings=null,this._bufferLength=0}build(){return this._completedStrings!==null?(this._flushBuffer(),this._completedStrings.join("")):this._buildBuffer()}_buildBuffer(){if(this._bufferLength===0)return"";const n=new Uint16Array(this._buffer.buffer,0,this._bufferLength);return b().decode(n)}_flushBuffer(){const n=this._buildBuffer();this._bufferLength=0,this._completedStrings===null?this._completedStrings=[n]:this._completedStrings[this._completedStrings.length]=n}appendCharCode(n){const h=this._capacity-this._bufferLength;h<=1&&(h===0||m.isHighSurrogate(n))&&this._flushBuffer(),this._buffer[this._bufferLength++]=n}appendASCIICharCode(n){this._bufferLength===this._capacity&&this._flushBuffer(),this._buffer[this._bufferLength++]=n}appendString(n){const h=n.length;if(this._bufferLength+h>=this._capacity){this._flushBuffer(),this._completedStrings[this._completedStrings.length]=n;return}for(let v=0;v<h;v++)this._buffer[this._bufferLength++]=n.charCodeAt(v)}}e.StringBuilder=i}),define(te[637],ie([1,0,98,11,21,70,110,312,125]),function(J,e,m,k,D,L,y,p,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DOMLineBreaksComputerFactory=void 0;const C=(0,m.createTrustedTypesPolicy)("domLineBreaksComputer",{createHTML:h=>h});class b{static create(v){return new b(new WeakRef(v))}constructor(v){this.targetWindow=v}createLineBreaksComputer(v,u,d,r,l){const o=[],g=[];return{addRequest:(c,f,_)=>{o.push(c),g.push(f)},finalize:()=>a((0,D.assertIsDefined)(this.targetWindow.deref()),o,v,u,d,r,l,g)}}}e.DOMLineBreaksComputerFactory=b;function a(h,v,u,d,r,l,o,g){var c;function f(K){const U=g[K];if(U){const $=w.LineInjectedText.applyInjectedText(v[K],U),se=U.map(X=>X.options),F=U.map(X=>X.column-1);return new p.ModelLineProjectionData(F,se,[$.length],[],0)}else return null}if(r===-1){const K=[];for(let U=0,$=v.length;U<$;U++)K[U]=f(U);return K}const _=Math.round(r*u.typicalHalfwidthCharacterWidth),I=Math.round(d*(l===3?2:l===2?1:0)),E=Math.ceil(u.spaceWidth*I),T=document.createElement("div");(0,L.applyFontInfo)(T,u);const N=new y.StringBuilder(1e4),A=[],O=[],M=[],P=[],x=[];for(let K=0;K<v.length;K++){const U=w.LineInjectedText.applyInjectedText(v[K],g[K]);let $=0,se=0,F=_;if(l!==0)if($=k.firstNonWhitespaceIndex(U),$===-1)$=0;else{for(let ae=0;ae<$;ae++){const ue=U.charCodeAt(ae)===9?d-se%d:1;se+=ue}const Z=Math.ceil(u.spaceWidth*se);Z+u.typicalFullwidthCharacterWidth>_?($=0,se=0):F=_-Z}const X=U.substr($),Q=s(X,se,d,F,N,E);A[K]=$,O[K]=se,M[K]=X,P[K]=Q[0],x[K]=Q[1]}const R=N.build(),B=(c=C?.createHTML(R))!==null&&c!==void 0?c:R;T.innerHTML=B,T.style.position="absolute",T.style.top="10000",o==="keepAll"?(T.style.wordBreak="keep-all",T.style.overflowWrap="anywhere"):(T.style.wordBreak="inherit",T.style.overflowWrap="break-word"),h.document.body.appendChild(T);const H=document.createRange(),V=Array.prototype.slice.call(T.children,0),q=[];for(let K=0;K<v.length;K++){const U=V[K],$=i(H,U,M[K],P[K]);if($===null){q[K]=f(K);continue}const se=A[K],F=O[K]+I,X=x[K],Q=[];for(let ge=0,fe=$.length;ge<fe;ge++)Q[ge]=X[$[ge]];if(se!==0)for(let ge=0,fe=$.length;ge<fe;ge++)$[ge]+=se;let Z,ae;const ue=g[K];ue?(Z=ue.map(ge=>ge.options),ae=ue.map(ge=>ge.column-1)):(Z=null,ae=null),q[K]=new p.ModelLineProjectionData(ae,Z,$,Q,F)}return h.document.body.removeChild(T),q}function s(h,v,u,d,r,l){if(l!==0){const I=String(l);r.appendString('<div style="text-indent: -'),r.appendString(I),r.appendString("px; padding-left: "),r.appendString(I),r.appendString("px; box-sizing: border-box; width:")}else r.appendString('<div style="width:');r.appendString(String(d)),r.appendString('px;">');const o=h.length;let g=v,c=0;const f=[],_=[];let S=0<o?h.charCodeAt(0):0;r.appendString("<span>");for(let I=0;I<o;I++){I!==0&&I%16384===0&&r.appendString("</span><span>"),f[I]=c,_[I]=g;const E=S;S=I+1<o?h.charCodeAt(I+1):0;let T=1,N=1;switch(E){case 9:T=u-g%u,N=T;for(let A=1;A<=T;A++)A<T?r.appendCharCode(160):r.appendASCIICharCode(32);break;case 32:S===32?r.appendCharCode(160):r.appendASCIICharCode(32);break;case 60:r.appendString("&lt;");break;case 62:r.appendString("&gt;");break;case 38:r.appendString("&amp;");break;case 0:r.appendString("&#00;");break;case 65279:case 8232:case 8233:case 133:r.appendCharCode(65533);break;default:k.isFullWidthCharacter(E)&&N++,E<32?r.appendCharCode(9216+E):r.appendCharCode(E)}c+=T,g+=N}return r.appendString("</span>"),f[h.length]=c,_[h.length]=g,r.appendString("</div>"),[f,_]}function i(h,v,u,d){if(u.length<=1)return null;const r=Array.prototype.slice.call(v.children,0),l=[];try{t(h,r,d,0,null,u.length-1,null,l)}catch(o){return console.log(o),null}return l.length===0?null:(l.push(u.length),l)}function t(h,v,u,d,r,l,o,g){if(d===l||(r=r||n(h,v,u[d],u[d+1]),o=o||n(h,v,u[l],u[l+1]),Math.abs(r[0].top-o[0].top)<=.1))return;if(d+1===l){g.push(l);return}const c=d+(l-d)/2|0,f=n(h,v,u[c],u[c+1]);t(h,v,u,d,r,c,f,g),t(h,v,u,c,f,l,o,g)}function n(h,v,u,d){return h.setStart(v[u/16384|0].firstChild,u%16384),h.setEnd(v[d/16384|0].firstChild,d%16384),h.getClientRects()}}),define(te[249],ie([1,0,40,98,12,110]),function(J,e,m,k,D,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VisibleLinesCollection=e.RenderedLinesCollection=void 0;class y{constructor(b){this._createLine=b,this._set(1,[])}flush(){this._set(1,[])}_set(b,a){this._lines=a,this._rendLineNumberStart=b}_get(){return{rendLineNumberStart:this._rendLineNumberStart,lines:this._lines}}getStartLineNumber(){return this._rendLineNumberStart}getEndLineNumber(){return this._rendLineNumberStart+this._lines.length-1}getCount(){return this._lines.length}getLine(b){const a=b-this._rendLineNumberStart;if(a<0||a>=this._lines.length)throw new D.BugIndicatingError("Illegal value for lineNumber");return this._lines[a]}onLinesDeleted(b,a){if(this.getCount()===0)return null;const s=this.getStartLineNumber(),i=this.getEndLineNumber();if(a<s){const v=a-b+1;return this._rendLineNumberStart-=v,null}if(b>i)return null;let t=0,n=0;for(let v=s;v<=i;v++){const u=v-this._rendLineNumberStart;b<=v&&v<=a&&(n===0?(t=u,n=1):n++)}if(b<s){let v=0;a<s?v=a-b+1:v=s-b,this._rendLineNumberStart-=v}return this._lines.splice(t,n)}onLinesChanged(b,a){const s=b+a-1;if(this.getCount()===0)return!1;const i=this.getStartLineNumber(),t=this.getEndLineNumber();let n=!1;for(let h=b;h<=s;h++)h>=i&&h<=t&&(this._lines[h-this._rendLineNumberStart].onContentChanged(),n=!0);return n}onLinesInserted(b,a){if(this.getCount()===0)return null;const s=a-b+1,i=this.getStartLineNumber(),t=this.getEndLineNumber();if(b<=i)return this._rendLineNumberStart+=s,null;if(b>t)return null;if(s+b>t)return this._lines.splice(b-this._rendLineNumberStart,t-b+1);const n=[];for(let r=0;r<s;r++)n[r]=this._createLine();const h=b-this._rendLineNumberStart,v=this._lines.slice(0,h),u=this._lines.slice(h,this._lines.length-s),d=this._lines.slice(this._lines.length-s,this._lines.length);return this._lines=v.concat(n).concat(u),d}onTokensChanged(b){if(this.getCount()===0)return!1;const a=this.getStartLineNumber(),s=this.getEndLineNumber();let i=!1;for(let t=0,n=b.length;t<n;t++){const h=b[t];if(h.toLineNumber<a||h.fromLineNumber>s)continue;const v=Math.max(a,h.fromLineNumber),u=Math.min(s,h.toLineNumber);for(let d=v;d<=u;d++){const r=d-this._rendLineNumberStart;this._lines[r].onTokensChanged(),i=!0}}return i}}e.RenderedLinesCollection=y;class p{constructor(b){this._host=b,this.domNode=this._createDomNode(),this._linesCollection=new y(()=>this._host.createVisibleLine())}_createDomNode(){const b=(0,m.createFastDomNode)(document.createElement("div"));return b.setClassName("view-layer"),b.setPosition("absolute"),b.domNode.setAttribute("role","presentation"),b.domNode.setAttribute("aria-hidden","true"),b}onConfigurationChanged(b){return!!b.hasChanged(145)}onFlushed(b){return this._linesCollection.flush(),!0}onLinesChanged(b){return this._linesCollection.onLinesChanged(b.fromLineNumber,b.count)}onLinesDeleted(b){const a=this._linesCollection.onLinesDeleted(b.fromLineNumber,b.toLineNumber);if(a)for(let s=0,i=a.length;s<i;s++){const t=a[s].getDomNode();t&&this.domNode.domNode.removeChild(t)}return!0}onLinesInserted(b){const a=this._linesCollection.onLinesInserted(b.fromLineNumber,b.toLineNumber);if(a)for(let s=0,i=a.length;s<i;s++){const t=a[s].getDomNode();t&&this.domNode.domNode.removeChild(t)}return!0}onScrollChanged(b){return b.scrollTopChanged}onTokensChanged(b){return this._linesCollection.onTokensChanged(b.ranges)}onZonesChanged(b){return!0}getStartLineNumber(){return this._linesCollection.getStartLineNumber()}getEndLineNumber(){return this._linesCollection.getEndLineNumber()}getVisibleLine(b){return this._linesCollection.getLine(b)}renderLines(b){const a=this._linesCollection._get(),s=new w(this.domNode.domNode,this._host,b),i={rendLineNumberStart:a.rendLineNumberStart,lines:a.lines,linesLength:a.lines.length},t=s.render(i,b.startLineNumber,b.endLineNumber,b.relativeVerticalOffset);this._linesCollection._set(t.rendLineNumberStart,t.lines)}}e.VisibleLinesCollection=p;class w{constructor(b,a,s){this.domNode=b,this.host=a,this.viewportData=s}render(b,a,s,i){const t={rendLineNumberStart:b.rendLineNumberStart,lines:b.lines.slice(0),linesLength:b.linesLength};if(t.rendLineNumberStart+t.linesLength-1<a||s<t.rendLineNumberStart){t.rendLineNumberStart=a,t.linesLength=s-a+1,t.lines=[];for(let n=a;n<=s;n++)t.lines[n-a]=this.host.createVisibleLine();return this._finishRendering(t,!0,i),t}if(this._renderUntouchedLines(t,Math.max(a-t.rendLineNumberStart,0),Math.min(s-t.rendLineNumberStart,t.linesLength-1),i,a),t.rendLineNumberStart>a){const n=a,h=Math.min(s,t.rendLineNumberStart-1);n<=h&&(this._insertLinesBefore(t,n,h,i,a),t.linesLength+=h-n+1)}else if(t.rendLineNumberStart<a){const n=Math.min(t.linesLength,a-t.rendLineNumberStart);n>0&&(this._removeLinesBefore(t,n),t.linesLength-=n)}if(t.rendLineNumberStart=a,t.rendLineNumberStart+t.linesLength-1<s){const n=t.rendLineNumberStart+t.linesLength,h=s;n<=h&&(this._insertLinesAfter(t,n,h,i,a),t.linesLength+=h-n+1)}else if(t.rendLineNumberStart+t.linesLength-1>s){const n=Math.max(0,s-t.rendLineNumberStart+1),v=t.linesLength-1-n+1;v>0&&(this._removeLinesAfter(t,v),t.linesLength-=v)}return this._finishRendering(t,!1,i),t}_renderUntouchedLines(b,a,s,i,t){const n=b.rendLineNumberStart,h=b.lines;for(let v=a;v<=s;v++){const u=n+v;h[v].layoutLine(u,i[u-t],this.viewportData.lineHeight)}}_insertLinesBefore(b,a,s,i,t){const n=[];let h=0;for(let v=a;v<=s;v++)n[h++]=this.host.createVisibleLine();b.lines=n.concat(b.lines)}_removeLinesBefore(b,a){for(let s=0;s<a;s++){const i=b.lines[s].getDomNode();i&&this.domNode.removeChild(i)}b.lines.splice(0,a)}_insertLinesAfter(b,a,s,i,t){const n=[];let h=0;for(let v=a;v<=s;v++)n[h++]=this.host.createVisibleLine();b.lines=b.lines.concat(n)}_removeLinesAfter(b,a){const s=b.linesLength-a;for(let i=0;i<a;i++){const t=b.lines[s+i].getDomNode();t&&this.domNode.removeChild(t)}b.lines.splice(s,a)}_finishRenderingNewLines(b,a,s,i){w._ttPolicy&&(s=w._ttPolicy.createHTML(s));const t=this.domNode.lastChild;a||!t?this.domNode.innerHTML=s:t.insertAdjacentHTML("afterend",s);let n=this.domNode.lastChild;for(let h=b.linesLength-1;h>=0;h--){const v=b.lines[h];i[h]&&(v.setDomNode(n),n=n.previousSibling)}}_finishRenderingInvalidLines(b,a,s){const i=document.createElement("div");w._ttPolicy&&(a=w._ttPolicy.createHTML(a)),i.innerHTML=a;for(let t=0;t<b.linesLength;t++){const n=b.lines[t];if(s[t]){const h=i.firstChild,v=n.getDomNode();v.parentNode.replaceChild(h,v),n.setDomNode(h)}}}_finishRendering(b,a,s){const i=w._sb,t=b.linesLength,n=b.lines,h=b.rendLineNumberStart,v=[];{i.reset();let u=!1;for(let d=0;d<t;d++){const r=n[d];v[d]=!1,!(r.getDomNode()||!r.renderLine(d+h,s[d],this.viewportData.lineHeight,this.viewportData,i))&&(v[d]=!0,u=!0)}u&&this._finishRenderingNewLines(b,a,i.build(),v)}{i.reset();let u=!1;const d=[];for(let r=0;r<t;r++){const l=n[r];d[r]=!1,!(v[r]||!l.renderLine(r+h,s[r],this.viewportData.lineHeight,this.viewportData,i))&&(d[r]=!0,u=!0)}u&&this._finishRenderingInvalidLines(b,i.build(),d)}}}w._ttPolicy=(0,k.createTrustedTypesPolicy)("editorViewLayer",{createHTML:C=>C}),w._sb=new L.StringBuilder(1e5)}),define(te[638],ie([1,0,40,70,249,56]),function(J,e,m,k,D,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarginViewOverlays=e.ContentViewOverlays=e.ViewOverlayLine=e.ViewOverlays=void 0;class y extends L.ViewPart{constructor(a){super(a),this._visibleLines=new D.VisibleLinesCollection(this),this.domNode=this._visibleLines.domNode;const i=this._context.configuration.options.get(50);(0,k.applyFontInfo)(this.domNode,i),this._dynamicOverlays=[],this._isFocused=!1,this.domNode.setClassName("view-overlays")}shouldRender(){if(super.shouldRender())return!0;for(let a=0,s=this._dynamicOverlays.length;a<s;a++)if(this._dynamicOverlays[a].shouldRender())return!0;return!1}dispose(){super.dispose();for(let a=0,s=this._dynamicOverlays.length;a<s;a++)this._dynamicOverlays[a].dispose();this._dynamicOverlays=[]}getDomNode(){return this.domNode}createVisibleLine(){return new p(this._dynamicOverlays)}addDynamicOverlay(a){this._dynamicOverlays.push(a)}onConfigurationChanged(a){this._visibleLines.onConfigurationChanged(a);const i=this._context.configuration.options.get(50);return(0,k.applyFontInfo)(this.domNode,i),!0}onFlushed(a){return this._visibleLines.onFlushed(a)}onFocusChanged(a){return this._isFocused=a.isFocused,!0}onLinesChanged(a){return this._visibleLines.onLinesChanged(a)}onLinesDeleted(a){return this._visibleLines.onLinesDeleted(a)}onLinesInserted(a){return this._visibleLines.onLinesInserted(a)}onScrollChanged(a){return this._visibleLines.onScrollChanged(a)||!0}onTokensChanged(a){return this._visibleLines.onTokensChanged(a)}onZonesChanged(a){return this._visibleLines.onZonesChanged(a)}prepareRender(a){const s=this._dynamicOverlays.filter(i=>i.shouldRender());for(let i=0,t=s.length;i<t;i++){const n=s[i];n.prepareRender(a),n.onDidRender()}}render(a){this._viewOverlaysRender(a),this.domNode.toggleClassName("focused",this._isFocused)}_viewOverlaysRender(a){this._visibleLines.renderLines(a.viewportData)}}e.ViewOverlays=y;class p{constructor(a){this._dynamicOverlays=a,this._domNode=null,this._renderedContent=null}getDomNode(){return this._domNode?this._domNode.domNode:null}setDomNode(a){this._domNode=(0,m.createFastDomNode)(a)}onContentChanged(){}onTokensChanged(){}renderLine(a,s,i,t,n){let h="";for(let v=0,u=this._dynamicOverlays.length;v<u;v++){const d=this._dynamicOverlays[v];h+=d.render(t.startLineNumber,a)}return this._renderedContent===h?!1:(this._renderedContent=h,n.appendString('<div style="top:'),n.appendString(String(s)),n.appendString("px;height:"),n.appendString(String(i)),n.appendString('px;">'),n.appendString(h),n.appendString("</div>"),!0)}layoutLine(a,s,i){this._domNode&&(this._domNode.setTop(s),this._domNode.setHeight(i))}}e.ViewOverlayLine=p;class w extends y{constructor(a){super(a);const i=this._context.configuration.options.get(145);this._contentWidth=i.contentWidth,this.domNode.setHeight(0)}onConfigurationChanged(a){const i=this._context.configuration.options.get(145);return this._contentWidth=i.contentWidth,super.onConfigurationChanged(a)||!0}onScrollChanged(a){return super.onScrollChanged(a)||a.scrollWidthChanged}_viewOverlaysRender(a){super._viewOverlaysRender(a),this.domNode.setWidth(Math.max(a.scrollWidth,this._contentWidth))}}e.ContentViewOverlays=w;class C extends y{constructor(a){super(a);const s=this._context.configuration.options,i=s.get(145);this._contentLeft=i.contentLeft,this.domNode.setClassName("margin-view-overlays"),this.domNode.setWidth(1),(0,k.applyFontInfo)(this.domNode,s.get(50))}onConfigurationChanged(a){const s=this._context.configuration.options;(0,k.applyFontInfo)(this.domNode,s.get(50));const i=s.get(145);return this._contentLeft=i.contentLeft,super.onConfigurationChanged(a)||!0}onScrollChanged(a){return super.onScrollChanged(a)||a.scrollHeightChanged}_viewOverlaysRender(a){super._viewOverlaysRender(a);const s=Math.min(a.scrollHeight,1e6);this.domNode.setHeight(s),this.domNode.setWidth(this._contentLeft)}}e.MarginViewOverlays=C}),define(te[346],ie([1,0,154,110]),function(J,e,m,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextChange=void 0,e.compressConsecutiveTextChanges=y;function D(w){return w.replace(/\n/g,"\\n").replace(/\r/g,"\\r")}class L{get oldLength(){return this.oldText.length}get oldEnd(){return this.oldPosition+this.oldText.length}get newLength(){return this.newText.length}get newEnd(){return this.newPosition+this.newText.length}constructor(C,b,a,s){this.oldPosition=C,this.oldText=b,this.newPosition=a,this.newText=s}toString(){return this.oldText.length===0?`(insert@${this.oldPosition} "${D(this.newText)}")`:this.newText.length===0?`(delete@${this.oldPosition} "${D(this.oldText)}")`:`(replace@${this.oldPosition} "${D(this.oldText)}" with "${D(this.newText)}")`}static _writeStringSize(C){return 4+2*C.length}static _writeString(C,b,a){const s=b.length;m.writeUInt32BE(C,s,a),a+=4;for(let i=0;i<s;i++)m.writeUInt16LE(C,b.charCodeAt(i),a),a+=2;return a}static _readString(C,b){const a=m.readUInt32BE(C,b);return b+=4,(0,k.decodeUTF16LE)(C,b,a)}writeSize(){return 8+L._writeStringSize(this.oldText)+L._writeStringSize(this.newText)}write(C,b){return m.writeUInt32BE(C,this.oldPosition,b),b+=4,m.writeUInt32BE(C,this.newPosition,b),b+=4,b=L._writeString(C,this.oldText,b),b=L._writeString(C,this.newText,b),b}static read(C,b,a){const s=m.readUInt32BE(C,b);b+=4;const i=m.readUInt32BE(C,b);b+=4;const t=L._readString(C,b);b+=L._writeStringSize(t);const n=L._readString(C,b);return b+=L._writeStringSize(n),a.push(new L(s,t,i,n)),b}}e.TextChange=L;function y(w,C){return w===null||w.length===0?C:new p(w,C).compress()}class p{constructor(C,b){this._prevEdits=C,this._currEdits=b,this._result=[],this._resultLen=0,this._prevLen=this._prevEdits.length,this._prevDeltaOffset=0,this._currLen=this._currEdits.length,this._currDeltaOffset=0}compress(){let C=0,b=0,a=this._getPrev(C),s=this._getCurr(b);for(;C<this._prevLen||b<this._currLen;){if(a===null){this._acceptCurr(s),s=this._getCurr(++b);continue}if(s===null){this._acceptPrev(a),a=this._getPrev(++C);continue}if(s.oldEnd<=a.newPosition){this._acceptCurr(s),s=this._getCurr(++b);continue}if(a.newEnd<=s.oldPosition){this._acceptPrev(a),a=this._getPrev(++C);continue}if(s.oldPosition<a.newPosition){const[v,u]=p._splitCurr(s,a.newPosition-s.oldPosition);this._acceptCurr(v),s=u;continue}if(a.newPosition<s.oldPosition){const[v,u]=p._splitPrev(a,s.oldPosition-a.newPosition);this._acceptPrev(v),a=u;continue}let n,h;if(s.oldEnd===a.newEnd)n=a,h=s,a=this._getPrev(++C),s=this._getCurr(++b);else if(s.oldEnd<a.newEnd){const[v,u]=p._splitPrev(a,s.oldLength);n=v,h=s,a=u,s=this._getCurr(++b)}else{const[v,u]=p._splitCurr(s,a.newLength);n=a,h=v,a=this._getPrev(++C),s=u}this._result[this._resultLen++]=new L(n.oldPosition,n.oldText,h.newPosition,h.newText),this._prevDeltaOffset+=n.newLength-n.oldLength,this._currDeltaOffset+=h.newLength-h.oldLength}const i=p._merge(this._result);return p._removeNoOps(i)}_acceptCurr(C){this._result[this._resultLen++]=p._rebaseCurr(this._prevDeltaOffset,C),this._currDeltaOffset+=C.newLength-C.oldLength}_getCurr(C){return C<this._currLen?this._currEdits[C]:null}_acceptPrev(C){this._result[this._resultLen++]=p._rebasePrev(this._currDeltaOffset,C),this._prevDeltaOffset+=C.newLength-C.oldLength}_getPrev(C){return C<this._prevLen?this._prevEdits[C]:null}static _rebaseCurr(C,b){return new L(b.oldPosition-C,b.oldText,b.newPosition,b.newText)}static _rebasePrev(C,b){return new L(b.oldPosition,b.oldText,b.newPosition+C,b.newText)}static _splitPrev(C,b){const a=C.newText.substr(0,b),s=C.newText.substr(b);return[new L(C.oldPosition,C.oldText,C.newPosition,a),new L(C.oldEnd,"",C.newPosition+b,s)]}static _splitCurr(C,b){const a=C.oldText.substr(0,b),s=C.oldText.substr(b);return[new L(C.oldPosition,a,C.newPosition,C.newText),new L(C.oldPosition+b,s,C.newEnd,"")]}static _merge(C){if(C.length===0)return C;const b=[];let a=0,s=C[0];for(let i=1;i<C.length;i++){const t=C[i];s.oldEnd===t.oldPosition?s=new L(s.oldPosition,s.oldText+t.oldText,s.newPosition,s.newText+t.newText):(b[a++]=s,s=t)}return b[a++]=s,b}static _removeNoOps(C){if(C.length===0)return C;const b=[];let a=0;for(let s=0;s<C.length;s++){const i=C[s];i.oldText!==i.newText&&(b[a++]=i)}return b}}}),define(te[347],ie([1,0,333,96]),function(J,e,m,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.score=D;function D(L,y,p,w,C,b){if(Array.isArray(L)){let a=0;for(const s of L){const i=D(s,y,p,w,C,b);if(i===10)return i;i>a&&(a=i)}return a}else{if(typeof L=="string")return w?L==="*"?5:L===p?10:0:0;if(L){const{language:a,pattern:s,scheme:i,hasAccessToAllModels:t,notebookType:n}=L;if(!w&&!t)return 0;n&&C&&(y=C);let h=0;if(i)if(i===y.scheme)h=10;else if(i==="*")h=5;else return 0;if(a)if(a===p)h=10;else if(a==="*")h=Math.max(h,5);else return 0;if(n)if(n===b)h=10;else if(n==="*"&&b!==void 0)h=Math.max(h,5);else return 0;if(s){let v;if(typeof s=="string"?v=s:v={...s,base:(0,k.normalize)(s.base)},v===y.fsPath||(0,m.match)(v,y.fsPath))h=10;else return 0}return h}else return 0}}}),define(te[639],ie([1,0,7,2,43,347]),function(J,e,m,k,D,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LanguageFeatureRegistry=void 0;function y(b){return typeof b=="string"?!1:Array.isArray(b)?b.every(y):!!b.exclusive}class p{constructor(a,s,i,t){this.uri=a,this.languageId=s,this.notebookUri=i,this.notebookType=t}equals(a){var s,i;return this.notebookType===a.notebookType&&this.languageId===a.languageId&&this.uri.toString()===a.uri.toString()&&((s=this.notebookUri)===null||s===void 0?void 0:s.toString())===((i=a.notebookUri)===null||i===void 0?void 0:i.toString())}}class w{constructor(a){this._notebookInfoResolver=a,this._clock=0,this._entries=[],this._onDidChange=new m.Emitter,this.onDidChange=this._onDidChange.event}register(a,s){let i={selector:a,provider:s,_score:-1,_time:this._clock++};return this._entries.push(i),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),(0,k.toDisposable)(()=>{if(i){const t=this._entries.indexOf(i);t>=0&&(this._entries.splice(t,1),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),i=void 0)}})}has(a){return this.all(a).length>0}all(a){if(!a)return[];this._updateScores(a);const s=[];for(const i of this._entries)i._score>0&&s.push(i.provider);return s}ordered(a){const s=[];return this._orderedForEach(a,i=>s.push(i.provider)),s}orderedGroups(a){const s=[];let i,t;return this._orderedForEach(a,n=>{i&&t===n._score?i.push(n.provider):(t=n._score,i=[n.provider],s.push(i))}),s}_orderedForEach(a,s){this._updateScores(a);for(const i of this._entries)i._score>0&&s(i)}_updateScores(a){var s,i;const t=(s=this._notebookInfoResolver)===null||s===void 0?void 0:s.call(this,a.uri),n=t?new p(a.uri,a.getLanguageId(),t.uri,t.type):new p(a.uri,a.getLanguageId(),void 0,void 0);if(!(!((i=this._lastCandidate)===null||i===void 0)&&i.equals(n))){this._lastCandidate=n;for(const h of this._entries)if(h._score=(0,L.score)(h.selector,n.uri,n.languageId,(0,D.shouldSynchronizeModel)(a),n.notebookUri,n.notebookType),y(h.selector)&&h._score>0){for(const v of this._entries)v._score=0;h._score=1e3;break}this._entries.sort(w._compareByScoreAndTime)}}static _compareByScoreAndTime(a,s){return a._score<s._score?1:a._score>s._score?-1:C(a.selector)&&!C(s.selector)?1:!C(a.selector)&&C(s.selector)?-1:a._time<s._time?1:a._time>s._time?-1:0}}e.LanguageFeatureRegistry=w;function C(b){return typeof b=="string"?!1:Array.isArray(b)?b.some(C):!!b.isBuiltin}}),define(te[250],ie([1,0,11,110,5]),function(J,e,m,k,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketsUtils=e.RichEditBrackets=e.RichEditBracket=void 0;class L{constructor(r,l,o,g,c,f){this._richEditBracketBrand=void 0,this.languageId=r,this.index=l,this.open=o,this.close=g,this.forwardRegex=c,this.reversedRegex=f,this._openSet=L._toSet(this.open),this._closeSet=L._toSet(this.close)}isOpen(r){return this._openSet.has(r)}isClose(r){return this._closeSet.has(r)}static _toSet(r){const l=new Set;for(const o of r)l.add(o);return l}}e.RichEditBracket=L;function y(d){const r=d.length;d=d.map(f=>[f[0].toLowerCase(),f[1].toLowerCase()]);const l=[];for(let f=0;f<r;f++)l[f]=f;const o=(f,_)=>{const[S,I]=f,[E,T]=_;return S===E||S===T||I===E||I===T},g=(f,_)=>{const S=Math.min(f,_),I=Math.max(f,_);for(let E=0;E<r;E++)l[E]===I&&(l[E]=S)};for(let f=0;f<r;f++){const _=d[f];for(let S=f+1;S<r;S++){const I=d[S];o(_,I)&&g(l[f],l[S])}}const c=[];for(let f=0;f<r;f++){const _=[],S=[];for(let I=0;I<r;I++)if(l[I]===f){const[E,T]=d[I];_.push(E),S.push(T)}_.length>0&&c.push({open:_,close:S})}return c}class p{constructor(r,l){this._richEditBracketsBrand=void 0;const o=y(l);this.brackets=o.map((g,c)=>new L(r,c,g.open,g.close,a(g.open,g.close,o,c),s(g.open,g.close,o,c))),this.forwardRegex=i(this.brackets),this.reversedRegex=t(this.brackets),this.textIsBracket={},this.textIsOpenBracket={},this.maxBracketLength=0;for(const g of this.brackets){for(const c of g.open)this.textIsBracket[c]=g,this.textIsOpenBracket[c]=!0,this.maxBracketLength=Math.max(this.maxBracketLength,c.length);for(const c of g.close)this.textIsBracket[c]=g,this.textIsOpenBracket[c]=!1,this.maxBracketLength=Math.max(this.maxBracketLength,c.length)}}}e.RichEditBrackets=p;function w(d,r,l,o){for(let g=0,c=r.length;g<c;g++){if(g===l)continue;const f=r[g];for(const _ of f.open)_.indexOf(d)>=0&&o.push(_);for(const _ of f.close)_.indexOf(d)>=0&&o.push(_)}}function C(d,r){return d.length-r.length}function b(d){if(d.length<=1)return d;const r=[],l=new Set;for(const o of d)l.has(o)||(r.push(o),l.add(o));return r}function a(d,r,l,o){let g=[];g=g.concat(d),g=g.concat(r);for(let c=0,f=g.length;c<f;c++)w(g[c],l,o,g);return g=b(g),g.sort(C),g.reverse(),h(g)}function s(d,r,l,o){let g=[];g=g.concat(d),g=g.concat(r);for(let c=0,f=g.length;c<f;c++)w(g[c],l,o,g);return g=b(g),g.sort(C),g.reverse(),h(g.map(v))}function i(d){let r=[];for(const l of d){for(const o of l.open)r.push(o);for(const o of l.close)r.push(o)}return r=b(r),h(r)}function t(d){let r=[];for(const l of d){for(const o of l.open)r.push(o);for(const o of l.close)r.push(o)}return r=b(r),h(r.map(v))}function n(d){const r=/^[\w ]+$/.test(d);return d=m.escapeRegExpCharacters(d),r?`\\b${d}\\b`:d}function h(d){const r=`(${d.map(n).join(")|(")})`;return m.createRegExp(r,!0)}const v=function(){function d(o){const g=new Uint16Array(o.length);let c=0;for(let f=o.length-1;f>=0;f--)g[c++]=o.charCodeAt(f);return k.getPlatformTextDecoder().decode(g)}let r=null,l=null;return function(g){return r!==g&&(r=g,l=d(r)),l}}();class u{static _findPrevBracketInText(r,l,o,g){const c=o.match(r);if(!c)return null;const f=o.length-(c.index||0),_=c[0].length,S=g+f;return new D.Range(l,S-_+1,l,S+1)}static findPrevBracketInRange(r,l,o,g,c){const _=v(o).substring(o.length-c,o.length-g);return this._findPrevBracketInText(r,l,_,g)}static findNextBracketInText(r,l,o,g){const c=o.match(r);if(!c)return null;const f=c.index||0,_=c[0].length;if(_===0)return null;const S=g+f;return new D.Range(l,S+1,l,S+1+_)}static findNextBracketInRange(r,l,o,g,c){const f=o.substring(g,c);return this.findNextBracketInText(r,l,f,g)}}e.BracketsUtils=u}),define(te[640],ie([1,0,13,143,250]),function(J,e,m,k,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketElectricCharacterSupport=void 0;class L{constructor(p){this._richEditBrackets=p}getElectricCharacters(){const p=[];if(this._richEditBrackets)for(const w of this._richEditBrackets.brackets)for(const C of w.close){const b=C.charAt(C.length-1);p.push(b)}return(0,m.distinct)(p)}onElectricCharacter(p,w,C){if(!this._richEditBrackets||this._richEditBrackets.brackets.length===0)return null;const b=w.findTokenIndexAtOffset(C-1);if((0,k.ignoreBracketsInToken)(w.getStandardTokenType(b)))return null;const a=this._richEditBrackets.reversedRegex,s=w.getLineContent().substring(0,C-1)+p,i=D.BracketsUtils.findPrevBracketInRange(a,1,s,0,s.length);if(!i)return null;const t=s.substring(i.startColumn-1,i.endColumn-1).toLowerCase();if(this._richEditBrackets.textIsOpenBracket[t])return null;const h=w.getActualLineContentBefore(i.startColumn-1);return/^\s*$/.test(h)?{matchOpenBracket:t}:null}}e.BracketElectricCharacterSupport=L}),define(te[641],ie([1,0,13,7,2,5,143,250,555]),function(J,e,m,k,D,L,y,p,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketPairsTextModelPart=void 0;class C extends D.Disposable{get canBuildAST(){return this.textModel.getValueLength()<=5e6}constructor(n,h){super(),this.textModel=n,this.languageConfigurationService=h,this.bracketPairsTree=this._register(new D.MutableDisposable),this.onDidChangeEmitter=new k.Emitter,this.onDidChange=this.onDidChangeEmitter.event,this.bracketsRequested=!1,this._register(this.languageConfigurationService.onDidChange(v=>{var u;(!v.languageId||!((u=this.bracketPairsTree.value)===null||u===void 0)&&u.object.didLanguageChange(v.languageId))&&(this.bracketPairsTree.clear(),this.updateBracketPairsTree())}))}handleDidChangeOptions(n){this.bracketPairsTree.clear(),this.updateBracketPairsTree()}handleDidChangeLanguage(n){this.bracketPairsTree.clear(),this.updateBracketPairsTree()}handleDidChangeContent(n){var h;(h=this.bracketPairsTree.value)===null||h===void 0||h.object.handleContentChanged(n)}handleDidChangeBackgroundTokenizationState(){var n;(n=this.bracketPairsTree.value)===null||n===void 0||n.object.handleDidChangeBackgroundTokenizationState()}handleDidChangeTokens(n){var h;(h=this.bracketPairsTree.value)===null||h===void 0||h.object.handleDidChangeTokens(n)}updateBracketPairsTree(){if(this.bracketsRequested&&this.canBuildAST){if(!this.bracketPairsTree.value){const n=new D.DisposableStore;this.bracketPairsTree.value=b(n.add(new w.BracketPairsTree(this.textModel,h=>this.languageConfigurationService.getLanguageConfiguration(h))),n),n.add(this.bracketPairsTree.value.object.onDidChange(h=>this.onDidChangeEmitter.fire(h))),this.onDidChangeEmitter.fire()}}else this.bracketPairsTree.value&&(this.bracketPairsTree.clear(),this.onDidChangeEmitter.fire())}getBracketPairsInRange(n){var h;return this.bracketsRequested=!0,this.updateBracketPairsTree(),((h=this.bracketPairsTree.value)===null||h===void 0?void 0:h.object.getBracketPairsInRange(n,!1))||m.CallbackIterable.empty}getBracketPairsInRangeWithMinIndentation(n){var h;return this.bracketsRequested=!0,this.updateBracketPairsTree(),((h=this.bracketPairsTree.value)===null||h===void 0?void 0:h.object.getBracketPairsInRange(n,!0))||m.CallbackIterable.empty}getBracketsInRange(n,h=!1){var v;return this.bracketsRequested=!0,this.updateBracketPairsTree(),((v=this.bracketPairsTree.value)===null||v===void 0?void 0:v.object.getBracketsInRange(n,h))||m.CallbackIterable.empty}findMatchingBracketUp(n,h,v){const u=this.textModel.validatePosition(h),d=this.textModel.getLanguageIdAtPosition(u.lineNumber,u.column);if(this.canBuildAST){const r=this.languageConfigurationService.getLanguageConfiguration(d).bracketsNew.getClosingBracketInfo(n);if(!r)return null;const l=this.getBracketPairsInRange(L.Range.fromPositions(h,h)).findLast(o=>r.closes(o.openingBracketInfo));return l?l.openingBracketRange:null}else{const r=n.toLowerCase(),l=this.languageConfigurationService.getLanguageConfiguration(d).brackets;if(!l)return null;const o=l.textIsBracket[r];return o?i(this._findMatchingBracketUp(o,u,a(v))):null}}matchBracket(n,h){if(this.canBuildAST){const v=this.getBracketPairsInRange(L.Range.fromPositions(n,n)).filter(u=>u.closingBracketRange!==void 0&&(u.openingBracketRange.containsPosition(n)||u.closingBracketRange.containsPosition(n))).findLastMaxBy((0,m.compareBy)(u=>u.openingBracketRange.containsPosition(n)?u.openingBracketRange:u.closingBracketRange,L.Range.compareRangesUsingStarts));return v?[v.openingBracketRange,v.closingBracketRange]:null}else{const v=a(h);return this._matchBracket(this.textModel.validatePosition(n),v)}}_establishBracketSearchOffsets(n,h,v,u){const d=h.getCount(),r=h.getLanguageId(u);let l=Math.max(0,n.column-1-v.maxBracketLength);for(let g=u-1;g>=0;g--){const c=h.getEndOffset(g);if(c<=l)break;if((0,y.ignoreBracketsInToken)(h.getStandardTokenType(g))||h.getLanguageId(g)!==r){l=c;break}}let o=Math.min(h.getLineContent().length,n.column-1+v.maxBracketLength);for(let g=u+1;g<d;g++){const c=h.getStartOffset(g);if(c>=o)break;if((0,y.ignoreBracketsInToken)(h.getStandardTokenType(g))||h.getLanguageId(g)!==r){o=c;break}}return{searchStartOffset:l,searchEndOffset:o}}_matchBracket(n,h){const v=n.lineNumber,u=this.textModel.tokenization.getLineTokens(v),d=this.textModel.getLineContent(v),r=u.findTokenIndexAtOffset(n.column-1);if(r<0)return null;const l=this.languageConfigurationService.getLanguageConfiguration(u.getLanguageId(r)).brackets;if(l&&!(0,y.ignoreBracketsInToken)(u.getStandardTokenType(r))){let{searchStartOffset:o,searchEndOffset:g}=this._establishBracketSearchOffsets(n,u,l,r),c=null;for(;;){const f=p.BracketsUtils.findNextBracketInRange(l.forwardRegex,v,d,o,g);if(!f)break;if(f.startColumn<=n.column&&n.column<=f.endColumn){const _=d.substring(f.startColumn-1,f.endColumn-1).toLowerCase(),S=this._matchFoundBracket(f,l.textIsBracket[_],l.textIsOpenBracket[_],h);if(S){if(S instanceof s)return null;c=S}}o=f.endColumn-1}if(c)return c}if(r>0&&u.getStartOffset(r)===n.column-1){const o=r-1,g=this.languageConfigurationService.getLanguageConfiguration(u.getLanguageId(o)).brackets;if(g&&!(0,y.ignoreBracketsInToken)(u.getStandardTokenType(o))){const{searchStartOffset:c,searchEndOffset:f}=this._establishBracketSearchOffsets(n,u,g,o),_=p.BracketsUtils.findPrevBracketInRange(g.reversedRegex,v,d,c,f);if(_&&_.startColumn<=n.column&&n.column<=_.endColumn){const S=d.substring(_.startColumn-1,_.endColumn-1).toLowerCase(),I=this._matchFoundBracket(_,g.textIsBracket[S],g.textIsOpenBracket[S],h);if(I)return I instanceof s?null:I}}}return null}_matchFoundBracket(n,h,v,u){if(!h)return null;const d=v?this._findMatchingBracketDown(h,n.getEndPosition(),u):this._findMatchingBracketUp(h,n.getStartPosition(),u);return d?d instanceof s?d:[n,d]:null}_findMatchingBracketUp(n,h,v){const u=n.languageId,d=n.reversedRegex;let r=-1,l=0;const o=(g,c,f,_)=>{for(;;){if(v&&++l%100===0&&!v())return s.INSTANCE;const S=p.BracketsUtils.findPrevBracketInRange(d,g,c,f,_);if(!S)break;const I=c.substring(S.startColumn-1,S.endColumn-1).toLowerCase();if(n.isOpen(I)?r++:n.isClose(I)&&r--,r===0)return S;_=S.startColumn-1}return null};for(let g=h.lineNumber;g>=1;g--){const c=this.textModel.tokenization.getLineTokens(g),f=c.getCount(),_=this.textModel.getLineContent(g);let S=f-1,I=_.length,E=_.length;g===h.lineNumber&&(S=c.findTokenIndexAtOffset(h.column-1),I=h.column-1,E=h.column-1);let T=!0;for(;S>=0;S--){const N=c.getLanguageId(S)===u&&!(0,y.ignoreBracketsInToken)(c.getStandardTokenType(S));if(N)T?I=c.getStartOffset(S):(I=c.getStartOffset(S),E=c.getEndOffset(S));else if(T&&I!==E){const A=o(g,_,I,E);if(A)return A}T=N}if(T&&I!==E){const N=o(g,_,I,E);if(N)return N}}return null}_findMatchingBracketDown(n,h,v){const u=n.languageId,d=n.forwardRegex;let r=1,l=0;const o=(c,f,_,S)=>{for(;;){if(v&&++l%100===0&&!v())return s.INSTANCE;const I=p.BracketsUtils.findNextBracketInRange(d,c,f,_,S);if(!I)break;const E=f.substring(I.startColumn-1,I.endColumn-1).toLowerCase();if(n.isOpen(E)?r++:n.isClose(E)&&r--,r===0)return I;_=I.endColumn-1}return null},g=this.textModel.getLineCount();for(let c=h.lineNumber;c<=g;c++){const f=this.textModel.tokenization.getLineTokens(c),_=f.getCount(),S=this.textModel.getLineContent(c);let I=0,E=0,T=0;c===h.lineNumber&&(I=f.findTokenIndexAtOffset(h.column-1),E=h.column-1,T=h.column-1);let N=!0;for(;I<_;I++){const A=f.getLanguageId(I)===u&&!(0,y.ignoreBracketsInToken)(f.getStandardTokenType(I));if(A)N||(E=f.getStartOffset(I)),T=f.getEndOffset(I);else if(N&&E!==T){const O=o(c,S,E,T);if(O)return O}N=A}if(N&&E!==T){const A=o(c,S,E,T);if(A)return A}}return null}findPrevBracket(n){var h;const v=this.textModel.validatePosition(n);if(this.canBuildAST)return this.bracketsRequested=!0,this.updateBracketPairsTree(),((h=this.bracketPairsTree.value)===null||h===void 0?void 0:h.object.getFirstBracketBefore(v))||null;let u=null,d=null,r=null;for(let l=v.lineNumber;l>=1;l--){const o=this.textModel.tokenization.getLineTokens(l),g=o.getCount(),c=this.textModel.getLineContent(l);let f=g-1,_=c.length,S=c.length;if(l===v.lineNumber){f=o.findTokenIndexAtOffset(v.column-1),_=v.column-1,S=v.column-1;const E=o.getLanguageId(f);u!==E&&(u=E,d=this.languageConfigurationService.getLanguageConfiguration(u).brackets,r=this.languageConfigurationService.getLanguageConfiguration(u).bracketsNew)}let I=!0;for(;f>=0;f--){const E=o.getLanguageId(f);if(u!==E){if(d&&r&&I&&_!==S){const N=p.BracketsUtils.findPrevBracketInRange(d.reversedRegex,l,c,_,S);if(N)return this._toFoundBracket(r,N);I=!1}u=E,d=this.languageConfigurationService.getLanguageConfiguration(u).brackets,r=this.languageConfigurationService.getLanguageConfiguration(u).bracketsNew}const T=!!d&&!(0,y.ignoreBracketsInToken)(o.getStandardTokenType(f));if(T)I?_=o.getStartOffset(f):(_=o.getStartOffset(f),S=o.getEndOffset(f));else if(r&&d&&I&&_!==S){const N=p.BracketsUtils.findPrevBracketInRange(d.reversedRegex,l,c,_,S);if(N)return this._toFoundBracket(r,N)}I=T}if(r&&d&&I&&_!==S){const E=p.BracketsUtils.findPrevBracketInRange(d.reversedRegex,l,c,_,S);if(E)return this._toFoundBracket(r,E)}}return null}findNextBracket(n){var h;const v=this.textModel.validatePosition(n);if(this.canBuildAST)return this.bracketsRequested=!0,this.updateBracketPairsTree(),((h=this.bracketPairsTree.value)===null||h===void 0?void 0:h.object.getFirstBracketAfter(v))||null;const u=this.textModel.getLineCount();let d=null,r=null,l=null;for(let o=v.lineNumber;o<=u;o++){const g=this.textModel.tokenization.getLineTokens(o),c=g.getCount(),f=this.textModel.getLineContent(o);let _=0,S=0,I=0;if(o===v.lineNumber){_=g.findTokenIndexAtOffset(v.column-1),S=v.column-1,I=v.column-1;const T=g.getLanguageId(_);d!==T&&(d=T,r=this.languageConfigurationService.getLanguageConfiguration(d).brackets,l=this.languageConfigurationService.getLanguageConfiguration(d).bracketsNew)}let E=!0;for(;_<c;_++){const T=g.getLanguageId(_);if(d!==T){if(l&&r&&E&&S!==I){const A=p.BracketsUtils.findNextBracketInRange(r.forwardRegex,o,f,S,I);if(A)return this._toFoundBracket(l,A);E=!1}d=T,r=this.languageConfigurationService.getLanguageConfiguration(d).brackets,l=this.languageConfigurationService.getLanguageConfiguration(d).bracketsNew}const N=!!r&&!(0,y.ignoreBracketsInToken)(g.getStandardTokenType(_));if(N)E||(S=g.getStartOffset(_)),I=g.getEndOffset(_);else if(l&&r&&E&&S!==I){const A=p.BracketsUtils.findNextBracketInRange(r.forwardRegex,o,f,S,I);if(A)return this._toFoundBracket(l,A)}E=N}if(l&&r&&E&&S!==I){const T=p.BracketsUtils.findNextBracketInRange(r.forwardRegex,o,f,S,I);if(T)return this._toFoundBracket(l,T)}}return null}findEnclosingBrackets(n,h){const v=this.textModel.validatePosition(n);if(this.canBuildAST){const S=L.Range.fromPositions(v),I=this.getBracketPairsInRange(L.Range.fromPositions(v,v)).findLast(E=>E.closingBracketRange!==void 0&&E.range.strictContainsRange(S));return I?[I.openingBracketRange,I.closingBracketRange]:null}const u=a(h),d=this.textModel.getLineCount(),r=new Map;let l=[];const o=(S,I)=>{if(!r.has(S)){const E=[];for(let T=0,N=I?I.brackets.length:0;T<N;T++)E[T]=0;r.set(S,E)}l=r.get(S)};let g=0;const c=(S,I,E,T,N)=>{for(;;){if(u&&++g%100===0&&!u())return s.INSTANCE;const A=p.BracketsUtils.findNextBracketInRange(S.forwardRegex,I,E,T,N);if(!A)break;const O=E.substring(A.startColumn-1,A.endColumn-1).toLowerCase(),M=S.textIsBracket[O];if(M&&(M.isOpen(O)?l[M.index]++:M.isClose(O)&&l[M.index]--,l[M.index]===-1))return this._matchFoundBracket(A,M,!1,u);T=A.endColumn-1}return null};let f=null,_=null;for(let S=v.lineNumber;S<=d;S++){const I=this.textModel.tokenization.getLineTokens(S),E=I.getCount(),T=this.textModel.getLineContent(S);let N=0,A=0,O=0;if(S===v.lineNumber){N=I.findTokenIndexAtOffset(v.column-1),A=v.column-1,O=v.column-1;const P=I.getLanguageId(N);f!==P&&(f=P,_=this.languageConfigurationService.getLanguageConfiguration(f).brackets,o(f,_))}let M=!0;for(;N<E;N++){const P=I.getLanguageId(N);if(f!==P){if(_&&M&&A!==O){const R=c(_,S,T,A,O);if(R)return i(R);M=!1}f=P,_=this.languageConfigurationService.getLanguageConfiguration(f).brackets,o(f,_)}const x=!!_&&!(0,y.ignoreBracketsInToken)(I.getStandardTokenType(N));if(x)M||(A=I.getStartOffset(N)),O=I.getEndOffset(N);else if(_&&M&&A!==O){const R=c(_,S,T,A,O);if(R)return i(R)}M=x}if(_&&M&&A!==O){const P=c(_,S,T,A,O);if(P)return i(P)}}return null}_toFoundBracket(n,h){if(!h)return null;let v=this.textModel.getValueInRange(h);v=v.toLowerCase();const u=n.getBracketInfo(v);return u?{range:h,bracketInfo:u}:null}}e.BracketPairsTextModelPart=C;function b(t,n){return{object:t,dispose:()=>n?.dispose()}}function a(t){if(typeof t>"u")return()=>!0;{const n=Date.now();return()=>Date.now()-n<=t}}class s{constructor(){this._searchCanceledBrand=void 0}}s.INSTANCE=new s;function i(t){return t instanceof s?null:t}}),define(te[348],ie([1,0,7,11,5,43,311,139,346,2]),function(J,e,m,k,D,L,y,p,w,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PieceTreeTextBuffer=void 0;class b extends C.Disposable{constructor(s,i,t,n,h,v,u){super(),this._onDidChangeContent=this._register(new m.Emitter),this._BOM=i,this._mightContainNonBasicASCII=!v,this._mightContainRTL=n,this._mightContainUnusualLineTerminators=h,this._pieceTree=new y.PieceTreeBase(s,t,u)}mightContainRTL(){return this._mightContainRTL}mightContainUnusualLineTerminators(){return this._mightContainUnusualLineTerminators}resetMightContainUnusualLineTerminators(){this._mightContainUnusualLineTerminators=!1}mightContainNonBasicASCII(){return this._mightContainNonBasicASCII}getBOM(){return this._BOM}getEOL(){return this._pieceTree.getEOL()}createSnapshot(s){return this._pieceTree.createSnapshot(s?this._BOM:"")}getOffsetAt(s,i){return this._pieceTree.getOffsetAt(s,i)}getPositionAt(s){return this._pieceTree.getPositionAt(s)}getRangeAt(s,i){const t=s+i,n=this.getPositionAt(s),h=this.getPositionAt(t);return new D.Range(n.lineNumber,n.column,h.lineNumber,h.column)}getValueInRange(s,i=0){if(s.isEmpty())return"";const t=this._getEndOfLine(i);return this._pieceTree.getValueInRange(s,t)}getValueLengthInRange(s,i=0){if(s.isEmpty())return 0;if(s.startLineNumber===s.endLineNumber)return s.endColumn-s.startColumn;const t=this.getOffsetAt(s.startLineNumber,s.startColumn),n=this.getOffsetAt(s.endLineNumber,s.endColumn);let h=0;const v=this._getEndOfLine(i),u=this.getEOL();if(v.length!==u.length){const d=v.length-u.length,r=s.endLineNumber-s.startLineNumber;h=d*r}return n-t+h}getCharacterCountInRange(s,i=0){if(this._mightContainNonBasicASCII){let t=0;const n=s.startLineNumber,h=s.endLineNumber;for(let v=n;v<=h;v++){const u=this.getLineContent(v),d=v===n?s.startColumn-1:0,r=v===h?s.endColumn-1:u.length;for(let l=d;l<r;l++)k.isHighSurrogate(u.charCodeAt(l))?(t=t+1,l=l+1):t=t+1}return t+=this._getEndOfLine(i).length*(h-n),t}return this.getValueLengthInRange(s,i)}getLength(){return this._pieceTree.getLength()}getLineCount(){return this._pieceTree.getLineCount()}getLinesContent(){return this._pieceTree.getLinesContent()}getLineContent(s){return this._pieceTree.getLineContent(s)}getLineCharCode(s,i){return this._pieceTree.getLineCharCode(s,i)}getLineLength(s){return this._pieceTree.getLineLength(s)}getLineFirstNonWhitespaceColumn(s){const i=k.firstNonWhitespaceIndex(this.getLineContent(s));return i===-1?0:i+1}getLineLastNonWhitespaceColumn(s){const i=k.lastNonWhitespaceIndex(this.getLineContent(s));return i===-1?0:i+2}_getEndOfLine(s){switch(s){case 1:return`
`;case 2:return`\r
`;case 0:return this.getEOL();default:throw new Error("Unknown EOL preference")}}setEOL(s){this._pieceTree.setEOL(s)}applyEdits(s,i,t){let n=this._mightContainRTL,h=this._mightContainUnusualLineTerminators,v=this._mightContainNonBasicASCII,u=!0,d=[];for(let _=0;_<s.length;_++){const S=s[_];u&&S._isTracked&&(u=!1);const I=S.range;if(S.text){let O=!0;v||(O=!k.isBasicASCII(S.text),v=O),!n&&O&&(n=k.containsRTL(S.text)),!h&&O&&(h=k.containsUnusualLineTerminators(S.text))}let E="",T=0,N=0,A=0;if(S.text){let O;[T,N,A,O]=(0,p.countEOL)(S.text);const M=this.getEOL();O===0||O===(M===`\r
`?2:1)?E=S.text:E=S.text.replace(/\r\n|\r|\n/g,M)}d[_]={sortIndex:_,identifier:S.identifier||null,range:I,rangeOffset:this.getOffsetAt(I.startLineNumber,I.startColumn),rangeLength:this.getValueLengthInRange(I),text:E,eolCount:T,firstLineLength:N,lastLineLength:A,forceMoveMarkers:!!S.forceMoveMarkers,isAutoWhitespaceEdit:S.isAutoWhitespaceEdit||!1}}d.sort(b._sortOpsAscending);let r=!1;for(let _=0,S=d.length-1;_<S;_++){const I=d[_].range.getEndPosition(),E=d[_+1].range.getStartPosition();if(E.isBeforeOrEqual(I)){if(E.isBefore(I))throw new Error("Overlapping ranges are not allowed!");r=!0}}u&&(d=this._reduceOperations(d));const l=t||i?b._getInverseEditRanges(d):[],o=[];if(i)for(let _=0;_<d.length;_++){const S=d[_],I=l[_];if(S.isAutoWhitespaceEdit&&S.range.isEmpty())for(let E=I.startLineNumber;E<=I.endLineNumber;E++){let T="";E===I.startLineNumber&&(T=this.getLineContent(S.range.startLineNumber),k.firstNonWhitespaceIndex(T)!==-1)||o.push({lineNumber:E,oldContent:T})}}let g=null;if(t){let _=0;g=[];for(let S=0;S<d.length;S++){const I=d[S],E=l[S],T=this.getValueInRange(I.range),N=I.rangeOffset+_;_+=I.text.length-T.length,g[S]={sortIndex:I.sortIndex,identifier:I.identifier,range:E,text:T,textChange:new w.TextChange(I.rangeOffset,T,N,I.text)}}r||g.sort((S,I)=>S.sortIndex-I.sortIndex)}this._mightContainRTL=n,this._mightContainUnusualLineTerminators=h,this._mightContainNonBasicASCII=v;const c=this._doApplyEdits(d);let f=null;if(i&&o.length>0){o.sort((_,S)=>S.lineNumber-_.lineNumber),f=[];for(let _=0,S=o.length;_<S;_++){const I=o[_].lineNumber;if(_>0&&o[_-1].lineNumber===I)continue;const E=o[_].oldContent,T=this.getLineContent(I);T.length===0||T===E||k.firstNonWhitespaceIndex(T)!==-1||f.push(I)}}return this._onDidChangeContent.fire(),new L.ApplyEditsResult(g,c,f)}_reduceOperations(s){return s.length<1e3?s:[this._toSingleEditOperation(s)]}_toSingleEditOperation(s){let i=!1;const t=s[0].range,n=s[s.length-1].range,h=new D.Range(t.startLineNumber,t.startColumn,n.endLineNumber,n.endColumn);let v=t.startLineNumber,u=t.startColumn;const d=[];for(let c=0,f=s.length;c<f;c++){const _=s[c],S=_.range;i=i||_.forceMoveMarkers,d.push(this.getValueInRange(new D.Range(v,u,S.startLineNumber,S.startColumn))),_.text.length>0&&d.push(_.text),v=S.endLineNumber,u=S.endColumn}const r=d.join(""),[l,o,g]=(0,p.countEOL)(r);return{sortIndex:0,identifier:s[0].identifier,range:h,rangeOffset:this.getOffsetAt(h.startLineNumber,h.startColumn),rangeLength:this.getValueLengthInRange(h,0),text:r,eolCount:l,firstLineLength:o,lastLineLength:g,forceMoveMarkers:i,isAutoWhitespaceEdit:!1}}_doApplyEdits(s){s.sort(b._sortOpsDescending);const i=[];for(let t=0;t<s.length;t++){const n=s[t],h=n.range.startLineNumber,v=n.range.startColumn,u=n.range.endLineNumber,d=n.range.endColumn;if(h===u&&v===d&&n.text.length===0)continue;n.text?(this._pieceTree.delete(n.rangeOffset,n.rangeLength),this._pieceTree.insert(n.rangeOffset,n.text,!0)):this._pieceTree.delete(n.rangeOffset,n.rangeLength);const r=new D.Range(h,v,u,d);i.push({range:r,rangeLength:n.rangeLength,text:n.text,rangeOffset:n.rangeOffset,forceMoveMarkers:n.forceMoveMarkers})}return i}findMatchesLineByLine(s,i,t,n){return this._pieceTree.findMatchesLineByLine(s,i,t,n)}static _getInverseEditRanges(s){const i=[];let t=0,n=0,h=null;for(let v=0,u=s.length;v<u;v++){const d=s[v];let r,l;h?h.range.endLineNumber===d.range.startLineNumber?(r=t,l=n+(d.range.startColumn-h.range.endColumn)):(r=t+(d.range.startLineNumber-h.range.endLineNumber),l=d.range.startColumn):(r=d.range.startLineNumber,l=d.range.startColumn);let o;if(d.text.length>0){const g=d.eolCount+1;g===1?o=new D.Range(r,l,r,l+d.firstLineLength):o=new D.Range(r,l,r+g-1,d.lastLineLength+1)}else o=new D.Range(r,l,r,l);t=o.endLineNumber,n=o.endColumn,i.push(o),h=d}return i}static _sortOpsAscending(s,i){const t=D.Range.compareRangesUsingEnds(s.range,i.range);return t===0?s.sortIndex-i.sortIndex:t}static _sortOpsDescending(s,i){const t=D.Range.compareRangesUsingEnds(s.range,i.range);return t===0?i.sortIndex-s.sortIndex:-t}}e.PieceTreeTextBuffer=b}),define(te[642],ie([1,0,11,311,348]),function(J,e,m,k,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PieceTreeTextBufferBuilder=void 0;class L{constructor(w,C,b,a,s,i,t,n,h){this._chunks=w,this._bom=C,this._cr=b,this._lf=a,this._crlf=s,this._containsRTL=i,this._containsUnusualLineTerminators=t,this._isBasicASCII=n,this._normalizeEOL=h}_getEOL(w){const C=this._cr+this._lf+this._crlf,b=this._cr+this._crlf;return C===0?w===1?`
`:`\r
`:b>C/2?`\r
`:`
`}create(w){const C=this._getEOL(w),b=this._chunks;if(this._normalizeEOL&&(C===`\r
`&&(this._cr>0||this._lf>0)||C===`
`&&(this._cr>0||this._crlf>0)))for(let s=0,i=b.length;s<i;s++){const t=b[s].buffer.replace(/\r\n|\r|\n/g,C),n=(0,k.createLineStartsFast)(t);b[s]=new k.StringBuffer(t,n)}const a=new D.PieceTreeTextBuffer(b,this._bom,C,this._containsRTL,this._containsUnusualLineTerminators,this._isBasicASCII,this._normalizeEOL);return{textBuffer:a,disposable:a}}}class y{constructor(){this.chunks=[],this.BOM="",this._hasPreviousChar=!1,this._previousChar=0,this._tmpLineStarts=[],this.cr=0,this.lf=0,this.crlf=0,this.containsRTL=!1,this.containsUnusualLineTerminators=!1,this.isBasicASCII=!0}acceptChunk(w){if(w.length===0)return;this.chunks.length===0&&m.startsWithUTF8BOM(w)&&(this.BOM=m.UTF8_BOM_CHARACTER,w=w.substr(1));const C=w.charCodeAt(w.length-1);C===13||C>=55296&&C<=56319?(this._acceptChunk1(w.substr(0,w.length-1),!1),this._hasPreviousChar=!0,this._previousChar=C):(this._acceptChunk1(w,!1),this._hasPreviousChar=!1,this._previousChar=C)}_acceptChunk1(w,C){!C&&w.length===0||(this._hasPreviousChar?this._acceptChunk2(String.fromCharCode(this._previousChar)+w):this._acceptChunk2(w))}_acceptChunk2(w){const C=(0,k.createLineStarts)(this._tmpLineStarts,w);this.chunks.push(new k.StringBuffer(w,C.lineStarts)),this.cr+=C.cr,this.lf+=C.lf,this.crlf+=C.crlf,C.isBasicASCII||(this.isBasicASCII=!1,this.containsRTL||(this.containsRTL=m.containsRTL(w)),this.containsUnusualLineTerminators||(this.containsUnusualLineTerminators=m.containsUnusualLineTerminators(w)))}finish(w=!0){return this._finish(),new L(this.chunks,this.BOM,this.cr,this.lf,this.crlf,this.containsRTL,this.containsUnusualLineTerminators,this.isBasicASCII,w)}_finish(){if(this.chunks.length===0&&this._acceptChunk1("",!0),this._hasPreviousChar){this._hasPreviousChar=!1;const w=this.chunks[this.chunks.length-1];w.buffer+=String.fromCharCode(this._previousChar);const C=(0,k.createLineStartsFast)(w.buffer);w.lineStarts=C,this._previousChar===13&&this.cr++}}}e.PieceTreeTextBufferBuilder=y}),define(te[643],ie([1,0,154,17]),function(J,e,m,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.encodeSemanticTokensDto=y;function D(w){for(let C=0,b=w.length;C<b;C+=4){const a=w[C+0],s=w[C+1],i=w[C+2],t=w[C+3];w[C+0]=t,w[C+1]=i,w[C+2]=s,w[C+3]=a}}function L(w){const C=new Uint8Array(w.buffer,w.byteOffset,w.length*4);return k.isLittleEndian()||D(C),m.VSBuffer.wrap(C)}function y(w){const C=new Uint32Array(p(w));let b=0;if(C[b++]=w.id,w.type==="full")C[b++]=1,C[b++]=w.data.length,C.set(w.data,b),b+=w.data.length;else{C[b++]=2,C[b++]=w.deltas.length;for(const a of w.deltas)C[b++]=a.start,C[b++]=a.deleteCount,a.data?(C[b++]=a.data.length,C.set(a.data,b),b+=a.data.length):C[b++]=0}return L(C)}function p(w){let C=0;if(C+=2,w.type==="full")C+=1+w.data.length;else{C+=1,C+=3*w.deltas.length;for(const b of w.deltas)b.data&&(C+=b.data.length)}return C}}),define(te[199],ie([1,0,7,2,17]),function(J,e,m,k,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ClickLinkGesture=e.ClickLinkOptions=e.ClickLinkKeyboardEvent=e.ClickLinkMouseEvent=void 0;function L(a,s){return!!a[s]}class y{constructor(s,i){this.target=s.target,this.isLeftClick=s.event.leftButton,this.isMiddleClick=s.event.middleButton,this.isRightClick=s.event.rightButton,this.hasTriggerModifier=L(s.event,i.triggerModifier),this.hasSideBySideModifier=L(s.event,i.triggerSideBySideModifier),this.isNoneOrSingleMouseDown=s.event.detail<=1}}e.ClickLinkMouseEvent=y;class p{constructor(s,i){this.keyCodeIsTriggerKey=s.keyCode===i.triggerKey,this.keyCodeIsSideBySideKey=s.keyCode===i.triggerSideBySideKey,this.hasTriggerModifier=L(s,i.triggerModifier)}}e.ClickLinkKeyboardEvent=p;class w{constructor(s,i,t,n){this.triggerKey=s,this.triggerModifier=i,this.triggerSideBySideKey=t,this.triggerSideBySideModifier=n}equals(s){return this.triggerKey===s.triggerKey&&this.triggerModifier===s.triggerModifier&&this.triggerSideBySideKey===s.triggerSideBySideKey&&this.triggerSideBySideModifier===s.triggerSideBySideModifier}}e.ClickLinkOptions=w;function C(a){return a==="altKey"?D.isMacintosh?new w(57,"metaKey",6,"altKey"):new w(5,"ctrlKey",6,"altKey"):D.isMacintosh?new w(6,"altKey",57,"metaKey"):new w(6,"altKey",5,"ctrlKey")}class b extends k.Disposable{constructor(s,i){var t;super(),this._onMouseMoveOrRelevantKeyDown=this._register(new m.Emitter),this.onMouseMoveOrRelevantKeyDown=this._onMouseMoveOrRelevantKeyDown.event,this._onExecute=this._register(new m.Emitter),this.onExecute=this._onExecute.event,this._onCancel=this._register(new m.Emitter),this.onCancel=this._onCancel.event,this._editor=s,this._extractLineNumberFromMouseEvent=(t=i?.extractLineNumberFromMouseEvent)!==null&&t!==void 0?t:n=>n.target.position?n.target.position.lineNumber:0,this._opts=C(this._editor.getOption(78)),this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._register(this._editor.onDidChangeConfiguration(n=>{if(n.hasChanged(78)){const h=C(this._editor.getOption(78));if(this._opts.equals(h))return;this._opts=h,this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._onCancel.fire()}})),this._register(this._editor.onMouseMove(n=>this._onEditorMouseMove(new y(n,this._opts)))),this._register(this._editor.onMouseDown(n=>this._onEditorMouseDown(new y(n,this._opts)))),this._register(this._editor.onMouseUp(n=>this._onEditorMouseUp(new y(n,this._opts)))),this._register(this._editor.onKeyDown(n=>this._onEditorKeyDown(new p(n,this._opts)))),this._register(this._editor.onKeyUp(n=>this._onEditorKeyUp(new p(n,this._opts)))),this._register(this._editor.onMouseDrag(()=>this._resetHandler())),this._register(this._editor.onDidChangeCursorSelection(n=>this._onDidChangeCursorSelection(n))),this._register(this._editor.onDidChangeModel(n=>this._resetHandler())),this._register(this._editor.onDidChangeModelContent(()=>this._resetHandler())),this._register(this._editor.onDidScrollChange(n=>{(n.scrollTopChanged||n.scrollLeftChanged)&&this._resetHandler()}))}_onDidChangeCursorSelection(s){s.selection&&s.selection.startColumn!==s.selection.endColumn&&this._resetHandler()}_onEditorMouseMove(s){this._lastMouseMoveEvent=s,this._onMouseMoveOrRelevantKeyDown.fire([s,null])}_onEditorMouseDown(s){this._hasTriggerKeyOnMouseDown=s.hasTriggerModifier,this._lineNumberOnMouseDown=this._extractLineNumberFromMouseEvent(s)}_onEditorMouseUp(s){const i=this._extractLineNumberFromMouseEvent(s);this._hasTriggerKeyOnMouseDown&&this._lineNumberOnMouseDown&&this._lineNumberOnMouseDown===i&&this._onExecute.fire(s)}_onEditorKeyDown(s){this._lastMouseMoveEvent&&(s.keyCodeIsTriggerKey||s.keyCodeIsSideBySideKey&&s.hasTriggerModifier)?this._onMouseMoveOrRelevantKeyDown.fire([this._lastMouseMoveEvent,s]):s.hasTriggerModifier&&this._onCancel.fire()}_onEditorKeyUp(s){s.keyCodeIsTriggerKey&&this._onCancel.fire()}_resetHandler(){this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._onCancel.fire()}}e.ClickLinkGesture=b}),define(te[349],ie([1,0,15,12,7,2]),function(J,e,m,k,D,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HoverOperation=e.HoverResult=void 0;class y{constructor(C,b,a){this.value=C,this.isComplete=b,this.hasLoadingMessage=a}}e.HoverResult=y;class p extends L.Disposable{constructor(C,b){super(),this._editor=C,this._computer=b,this._onResult=this._register(new D.Emitter),this.onResult=this._onResult.event,this._firstWaitScheduler=this._register(new m.RunOnceScheduler(()=>this._triggerAsyncComputation(),0)),this._secondWaitScheduler=this._register(new m.RunOnceScheduler(()=>this._triggerSyncComputation(),0)),this._loadingMessageScheduler=this._register(new m.RunOnceScheduler(()=>this._triggerLoadingMessage(),0)),this._state=0,this._asyncIterable=null,this._asyncIterableDone=!1,this._result=[]}dispose(){this._asyncIterable&&(this._asyncIterable.cancel(),this._asyncIterable=null),super.dispose()}get _hoverTime(){return this._editor.getOption(60).delay}get _firstWaitTime(){return this._hoverTime/2}get _secondWaitTime(){return this._hoverTime-this._firstWaitTime}get _loadingMessageTime(){return 3*this._hoverTime}_setState(C,b=!0){this._state=C,b&&this._fireResult()}_triggerAsyncComputation(){this._setState(2),this._secondWaitScheduler.schedule(this._secondWaitTime),this._computer.computeAsync?(this._asyncIterableDone=!1,this._asyncIterable=(0,m.createCancelableAsyncIterable)(C=>this._computer.computeAsync(C)),(async()=>{try{for await(const C of this._asyncIterable)C&&(this._result.push(C),this._fireResult());this._asyncIterableDone=!0,(this._state===3||this._state===4)&&this._setState(0)}catch(C){(0,k.onUnexpectedError)(C)}})()):this._asyncIterableDone=!0}_triggerSyncComputation(){this._computer.computeSync&&(this._result=this._result.concat(this._computer.computeSync())),this._setState(this._asyncIterableDone?0:3)}_triggerLoadingMessage(){this._state===3&&this._setState(4)}_fireResult(){if(this._state===1||this._state===2)return;const C=this._state===0,b=this._state===4;this._onResult.fire(new y(this._result.slice(0),C,b))}start(C){if(C===0)this._state===0&&(this._setState(1),this._firstWaitScheduler.schedule(this._firstWaitTime),this._loadingMessageScheduler.schedule(this._loadingMessageTime));else switch(this._state){case 0:this._triggerAsyncComputation(),this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break;case 2:this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break}}cancel(){this._firstWaitScheduler.cancel(),this._secondWaitScheduler.cancel(),this._loadingMessageScheduler.cancel(),this._asyncIterable&&(this._asyncIterable.cancel(),this._asyncIterable=null),this._result=[],this._setState(0,!1)}}e.HoverOperation=p}),define(te[644],ie([1,0,241,2,9,6]),function(J,e,m,k,D,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ResizableContentWidget=void 0;const y=30,p=24;class w extends k.Disposable{constructor(b,a=new L.Dimension(10,10)){super(),this._editor=b,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._resizableNode=this._register(new m.ResizableHTMLElement),this._contentPosition=null,this._isResizing=!1,this._resizableNode.domNode.style.position="absolute",this._resizableNode.minSize=L.Dimension.lift(a),this._resizableNode.layout(a.height,a.width),this._resizableNode.enableSashes(!0,!0,!0,!0),this._register(this._resizableNode.onDidResize(s=>{this._resize(new L.Dimension(s.dimension.width,s.dimension.height)),s.done&&(this._isResizing=!1)})),this._register(this._resizableNode.onDidWillResize(()=>{this._isResizing=!0}))}get isResizing(){return this._isResizing}getDomNode(){return this._resizableNode.domNode}getPosition(){return this._contentPosition}get position(){var b;return!((b=this._contentPosition)===null||b===void 0)&&b.position?D.Position.lift(this._contentPosition.position):void 0}_availableVerticalSpaceAbove(b){const a=this._editor.getDomNode(),s=this._editor.getScrolledVisiblePosition(b);return!a||!s?void 0:L.getDomNodePagePosition(a).top+s.top-y}_availableVerticalSpaceBelow(b){const a=this._editor.getDomNode(),s=this._editor.getScrolledVisiblePosition(b);if(!a||!s)return;const i=L.getDomNodePagePosition(a),t=L.getClientArea(a.ownerDocument.body),n=i.top+s.top+s.height;return t.height-n-p}_findPositionPreference(b,a){var s,i;const t=Math.min((s=this._availableVerticalSpaceBelow(a))!==null&&s!==void 0?s:1/0,b),n=Math.min((i=this._availableVerticalSpaceAbove(a))!==null&&i!==void 0?i:1/0,b),h=Math.min(Math.max(n,t),b),v=Math.min(b,h);let u;return this._editor.getOption(60).above?u=v<=n?1:2:u=v<=t?2:1,u===1?this._resizableNode.enableSashes(!0,!0,!1,!1):this._resizableNode.enableSashes(!1,!0,!0,!1),u}_resize(b){this._resizableNode.layout(b.height,b.width)}}e.ResizableContentWidget=w}),define(te[350],ie([1,0,12,2,9,5,49,22]),function(J,e,m,k,D,L,y,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlayHintsFragments=e.InlayHintItem=e.InlayHintAnchor=void 0,e.asCommandLink=a;class w{constructor(i,t){this.range=i,this.direction=t}}e.InlayHintAnchor=w;class C{constructor(i,t,n){this.hint=i,this.anchor=t,this.provider=n,this._isResolved=!1}with(i){const t=new C(this.hint,i.anchor,this.provider);return t._isResolved=this._isResolved,t._currentResolve=this._currentResolve,t}async resolve(i){if(typeof this.provider.resolveInlayHint=="function"){if(this._currentResolve)return await this._currentResolve,i.isCancellationRequested?void 0:this.resolve(i);this._isResolved||(this._currentResolve=this._doResolve(i).finally(()=>this._currentResolve=void 0)),await this._currentResolve}}async _doResolve(i){var t,n,h;try{const v=await Promise.resolve(this.provider.resolveInlayHint(this.hint,i));this.hint.tooltip=(t=v?.tooltip)!==null&&t!==void 0?t:this.hint.tooltip,this.hint.label=(n=v?.label)!==null&&n!==void 0?n:this.hint.label,this.hint.textEdits=(h=v?.textEdits)!==null&&h!==void 0?h:this.hint.textEdits,this._isResolved=!0}catch(v){(0,m.onUnexpectedExternalError)(v),this._isResolved=!1}}}e.InlayHintItem=C;class b{static async create(i,t,n,h){const v=[],u=i.ordered(t).reverse().map(d=>n.map(async r=>{try{const l=await d.provideInlayHints(t,r,h);(l?.hints.length||d.onDidChangeInlayHints)&&v.push([l??b._emptyInlayHintList,d])}catch(l){(0,m.onUnexpectedExternalError)(l)}}));if(await Promise.all(u.flat()),h.isCancellationRequested||t.isDisposed())throw new m.CancellationError;return new b(n,v,t)}constructor(i,t,n){this._disposables=new k.DisposableStore,this.ranges=i,this.provider=new Set;const h=[];for(const[v,u]of t){this._disposables.add(v),this.provider.add(u);for(const d of v.hints){const r=n.validatePosition(d.position);let l="before";const o=b._getRangeAtPosition(n,r);let g;o.getStartPosition().isBefore(r)?(g=L.Range.fromPositions(o.getStartPosition(),r),l="after"):(g=L.Range.fromPositions(r,o.getEndPosition()),l="before"),h.push(new C(d,new w(g,l),u))}}this.items=h.sort((v,u)=>D.Position.compare(v.hint.position,u.hint.position))}dispose(){this._disposables.dispose()}static _getRangeAtPosition(i,t){const n=t.lineNumber,h=i.getWordAtPosition(t);if(h)return new L.Range(n,h.startColumn,n,h.endColumn);i.tokenization.tokenizeIfCheap(n);const v=i.tokenization.getLineTokens(n),u=t.column-1,d=v.findTokenIndexAtOffset(u);let r=v.getStartOffset(d),l=v.getEndOffset(d);return l-r===1&&(r===u&&d>1?(r=v.getStartOffset(d-1),l=v.getEndOffset(d-1)):l===u&&d<v.getCount()-1&&(r=v.getStartOffset(d+1),l=v.getEndOffset(d+1))),new L.Range(n,r+1,n,l+1)}}e.InlayHintsFragments=b,b._emptyInlayHintList=Object.freeze({dispose(){},hints:[]});function a(s){return p.URI.from({scheme:y.Schemas.command,path:s.id,query:s.arguments&&encodeURIComponent(JSON.stringify(s.arguments))}).toString()}}),define(te[645],ie([1,0,87,15,20,47,12,5,546,196,128]),function(J,e,m,k,D,L,y,p,w,C,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlineCompletionItem=e.InlineCompletionList=e.InlineCompletionProviderResult=void 0,e.provideInlineCompletions=a;async function a(v,u,d,r,l=D.CancellationToken.None,o){const g=n(u,d),c=v.all(d),f=new L.SetMap;for(const M of c)M.groupId&&f.add(M.groupId,M);function _(M){if(!M.yieldsToGroupIds)return[];const P=[];for(const x of M.yieldsToGroupIds||[]){const R=f.get(x);for(const B of R)P.push(B)}return P}const S=new Map,I=new Set;function E(M,P){if(P=[...P,M],I.has(M))return P;I.add(M);try{const x=_(M);for(const R of x){const B=E(R,P);if(B)return B}}finally{I.delete(M)}}function T(M){const P=S.get(M);if(P)return P;const x=E(M,[]);x&&(0,y.onUnexpectedExternalError)(new Error(`Inline completions: cyclic yield-to dependency detected. Path: ${x.map(B=>B.toString?B.toString():""+B).join(" -> ")}`));const R=new k.DeferredPromise;return S.set(M,R.p),(async()=>{if(!x){const B=_(M);for(const H of B){const V=await T(H);if(V&&V.items.length>0)return}}try{return await M.provideInlineCompletions(d,u,r,l)}catch(B){(0,y.onUnexpectedExternalError)(B);return}})().then(B=>R.complete(B),B=>R.error(B)),R.p}const N=await Promise.all(c.map(async M=>({provider:M,completions:await T(M)}))),A=new Map,O=[];for(const M of N){const P=M.completions;if(!P)continue;const x=new i(P,M.provider);O.push(x);for(const R of P.items){const B=t.from(R,x,g,d,o);A.set(B.hash(),B)}}return new s(Array.from(A.values()),new Set(A.keys()),O)}class s{constructor(u,d,r){this.completions=u,this.hashs=d,this.providerResults=r}has(u){return this.hashs.has(u.hash())}dispose(){for(const u of this.providerResults)u.removeRef()}}e.InlineCompletionProviderResult=s;class i{constructor(u,d){this.inlineCompletions=u,this.provider=d,this.refCount=1}addRef(){this.refCount++}removeRef(){this.refCount--,this.refCount===0&&this.provider.freeInlineCompletions(this.inlineCompletions)}}e.InlineCompletionList=i;class t{static from(u,d,r,l,o){let g,c,f=u.range?p.Range.lift(u.range):r;if(typeof u.insertText=="string"){if(g=u.insertText,o&&u.completeBracketPairs){g=h(g,f.getStartPosition(),l,o);const _=g.length-u.insertText.length;_!==0&&(f=new p.Range(f.startLineNumber,f.startColumn,f.endLineNumber,f.endColumn+_))}c=void 0}else if("snippet"in u.insertText){const _=u.insertText.snippet.length;if(o&&u.completeBracketPairs){u.insertText.snippet=h(u.insertText.snippet,f.getStartPosition(),l,o);const I=u.insertText.snippet.length-_;I!==0&&(f=new p.Range(f.startLineNumber,f.startColumn,f.endLineNumber,f.endColumn+I))}const S=new b.SnippetParser().parse(u.insertText.snippet);S.children.length===1&&S.children[0]instanceof b.Text?(g=S.children[0].value,c=void 0):(g=S.toString(),c={snippet:u.insertText.snippet,range:f})}else(0,m.assertNever)(u.insertText);return new t(g,u.command,f,g,c,u.additionalTextEdits||(0,C.getReadonlyEmptyArray)(),u,d)}constructor(u,d,r,l,o,g,c,f){this.filterText=u,this.command=d,this.range=r,this.insertText=l,this.snippetInfo=o,this.additionalTextEdits=g,this.sourceInlineCompletion=c,this.source=f,u=u.replace(/\r\n|\r/g,`
`),l=u.replace(/\r\n|\r/g,`
`)}withRange(u){return new t(this.filterText,this.command,u,this.insertText,this.snippetInfo,this.additionalTextEdits,this.sourceInlineCompletion,this.source)}hash(){return JSON.stringify({insertText:this.insertText,range:this.range.toString()})}}e.InlineCompletionItem=t;function n(v,u){const d=u.getWordAtPosition(v),r=u.getLineMaxColumn(v.lineNumber);return d?new p.Range(v.lineNumber,d.startColumn,v.lineNumber,r):p.Range.fromPositions(v,v.with(void 0,r))}function h(v,u,d,r){const o=d.getLineContent(u.lineNumber).substring(0,u.column-1)+v,g=d.tokenization.tokenizeLineWithEdit(u,o.length-(u.column-1),v),c=g?.sliceAndInflate(u.column-1,o.length,0);return c?(0,w.fixBracketsInLine)(c,r):v}}),define(te[646],ie([3,4]),function(J,e){return J.create("vs/editor/browser/controller/textAreaHandler",e)}),define(te[647],ie([3,4]),function(J,e){return J.create("vs/editor/browser/coreCommands",e)}),define(te[648],ie([3,4]),function(J,e){return J.create("vs/editor/browser/editorExtensions",e)}),define(te[649],ie([3,4]),function(J,e){return J.create("vs/editor/browser/services/hoverService/hoverWidget",e)}),define(te[650],ie([3,4]),function(J,e){return J.create("vs/editor/browser/widget/codeEditor/codeEditorWidget",e)}),define(te[651],ie([3,4]),function(J,e){return J.create("vs/editor/browser/widget/diffEditor/commands",e)}),define(te[652],ie([3,4]),function(J,e){return J.create("vs/editor/browser/widget/diffEditor/components/accessibleDiffViewer",e)}),define(te[653],ie([3,4]),function(J,e){return J.create("vs/editor/browser/widget/diffEditor/components/diffEditorEditors",e)}),define(te[654],ie([3,4]),function(J,e){return J.create("vs/editor/browser/widget/diffEditor/components/diffEditorViewZones/inlineDiffDeletedCodeMargin",e)}),define(te[655],ie([1,0,6,41,26,2,17,30,654]),function(J,e,m,k,D,L,y,p,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlineDiffDeletedCodeMargin=void 0;class C extends L.Disposable{get visibility(){return this._visibility}set visibility(a){this._visibility!==a&&(this._visibility=a,this._diffActions.style.visibility=a?"visible":"hidden")}constructor(a,s,i,t,n,h,v,u,d){super(),this._getViewZoneId=a,this._marginDomNode=s,this._modifiedEditor=i,this._diff=t,this._editor=n,this._viewLineCounts=h,this._originalTextModel=v,this._contextMenuService=u,this._clipboardService=d,this._visibility=!1,this._marginDomNode.style.zIndex="10",this._diffActions=document.createElement("div"),this._diffActions.className=p.ThemeIcon.asClassName(D.Codicon.lightBulb)+" lightbulb-glyph",this._diffActions.style.position="absolute";const r=this._modifiedEditor.getOption(67);this._diffActions.style.right="0px",this._diffActions.style.visibility="hidden",this._diffActions.style.height=`${r}px`,this._diffActions.style.lineHeight=`${r}px`,this._marginDomNode.appendChild(this._diffActions);let l=0;const o=i.getOption(127)&&!y.isIOS,g=(c,f)=>{var _;this._contextMenuService.showContextMenu({domForShadowRoot:o&&(_=i.getDomNode())!==null&&_!==void 0?_:void 0,getAnchor:()=>({x:c,y:f}),getActions:()=>{const S=[],I=t.modified.isEmpty;return S.push(new k.Action("diff.clipboard.copyDeletedContent",I?t.original.length>1?(0,w.localize)(0,null):(0,w.localize)(1,null):t.original.length>1?(0,w.localize)(2,null):(0,w.localize)(3,null),void 0,!0,async()=>{const T=this._originalTextModel.getValueInRange(t.original.toExclusiveRange());await this._clipboardService.writeText(T)})),t.original.length>1&&S.push(new k.Action("diff.clipboard.copyDeletedLineContent",I?(0,w.localize)(4,null,t.original.startLineNumber+l):(0,w.localize)(5,null,t.original.startLineNumber+l),void 0,!0,async()=>{let T=this._originalTextModel.getLineContent(t.original.startLineNumber+l);T===""&&(T=this._originalTextModel.getEndOfLineSequence()===0?`
`:`\r
`),await this._clipboardService.writeText(T)})),i.getOption(91)||S.push(new k.Action("diff.inline.revertChange",(0,w.localize)(6,null),void 0,!0,async()=>{this._editor.revert(this._diff)})),S},autoSelectFirstItem:!0})};this._register((0,m.addStandardDisposableListener)(this._diffActions,"mousedown",c=>{if(!c.leftButton)return;const{top:f,height:_}=(0,m.getDomNodePagePosition)(this._diffActions),S=Math.floor(r/3);c.preventDefault(),g(c.posx,f+_+S)})),this._register(i.onMouseMove(c=>{(c.target.type===8||c.target.type===5)&&c.target.detail.viewZoneId===this._getViewZoneId()?(l=this._updateLightBulbPosition(this._marginDomNode,c.event.browserEvent.y,r),this.visibility=!0):this.visibility=!1})),this._register(i.onMouseDown(c=>{c.event.leftButton&&(c.target.type===8||c.target.type===5)&&c.target.detail.viewZoneId===this._getViewZoneId()&&(c.event.preventDefault(),l=this._updateLightBulbPosition(this._marginDomNode,c.event.browserEvent.y,r),g(c.event.posx,c.event.posy+r))}))}_updateLightBulbPosition(a,s,i){const{top:t}=(0,m.getDomNodePagePosition)(a),n=s-t,h=Math.floor(n/i),v=h*i;if(this._diffActions.style.top=`${v}px`,this._viewLineCounts){let u=0;for(let d=0;d<this._viewLineCounts.length;d++)if(u+=this._viewLineCounts[d],h<u)return d}return h}}e.InlineDiffDeletedCodeMargin=C}),define(te[656],ie([3,4]),function(J,e){return J.create("vs/editor/browser/widget/diffEditor/diffEditor.contribution",e)}),define(te[657],ie([3,4]),function(J,e){return J.create("vs/editor/browser/widget/diffEditor/features/hideUnchangedRegionsFeature",e)}),define(te[658],ie([3,4]),function(J,e){return J.create("vs/editor/browser/widget/diffEditor/features/movedBlocksLinesFeature",e)}),define(te[351],ie([1,0,6,81,41,13,66,26,2,32,30,82,64,658]),function(J,e,m,k,D,L,y,p,w,C,b,a,s,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MovedBlocksLinesFeature=void 0;class t extends w.Disposable{constructor(u,d,r,l,o){super(),this._rootElement=u,this._diffModel=d,this._originalEditorLayoutInfo=r,this._modifiedEditorLayoutInfo=l,this._editors=o,this._originalScrollTop=(0,C.observableFromEvent)(this._editors.original.onDidScrollChange,()=>this._editors.original.getScrollTop()),this._modifiedScrollTop=(0,C.observableFromEvent)(this._editors.modified.onDidScrollChange,()=>this._editors.modified.getScrollTop()),this._viewZonesChanged=(0,C.observableSignalFromEvent)("onDidChangeViewZones",this._editors.modified.onDidChangeViewZones),this.width=(0,C.observableValue)(this,0),this._modifiedViewZonesChangedSignal=(0,C.observableSignalFromEvent)("modified.onDidChangeViewZones",this._editors.modified.onDidChangeViewZones),this._originalViewZonesChangedSignal=(0,C.observableSignalFromEvent)("original.onDidChangeViewZones",this._editors.original.onDidChangeViewZones),this._state=(0,C.derivedWithStore)(this,(S,I)=>{var E;this._element.replaceChildren();const T=this._diffModel.read(S),N=(E=T?.diff.read(S))===null||E===void 0?void 0:E.movedTexts;if(!N||N.length===0){this.width.set(0,void 0);return}this._viewZonesChanged.read(S);const A=this._originalEditorLayoutInfo.read(S),O=this._modifiedEditorLayoutInfo.read(S);if(!A||!O){this.width.set(0,void 0);return}this._modifiedViewZonesChangedSignal.read(S),this._originalViewZonesChangedSignal.read(S);const M=N.map(q=>{function K(ue,ge){const fe=ge.getTopForLineNumber(ue.startLineNumber,!0),re=ge.getTopForLineNumber(ue.endLineNumberExclusive,!0);return(fe+re)/2}const U=K(q.lineRangeMapping.original,this._editors.original),$=this._originalScrollTop.read(S),se=K(q.lineRangeMapping.modified,this._editors.modified),F=this._modifiedScrollTop.read(S),X=U-$,Q=se-F,Z=Math.min(U,se),ae=Math.max(U,se);return{range:new s.OffsetRange(Z,ae),from:X,to:Q,fromWithoutScroll:U,toWithoutScroll:se,move:q}});M.sort((0,L.tieBreakComparators)((0,L.compareBy)(q=>q.fromWithoutScroll>q.toWithoutScroll,L.booleanComparator),(0,L.compareBy)(q=>q.fromWithoutScroll>q.toWithoutScroll?q.fromWithoutScroll:-q.toWithoutScroll,L.numberComparator)));const P=n.compute(M.map(q=>q.range)),x=10,R=A.verticalScrollbarWidth,B=(P.getTrackCount()-1)*10+x*2,H=R+B+(O.contentLeft-t.movedCodeBlockPadding);let V=0;for(const q of M){const K=P.getTrack(V),U=R+x+K*10,$=15,se=15,F=H,X=O.glyphMarginWidth+O.lineNumbersWidth,Q=18,Z=document.createElementNS("http://www.w3.org/2000/svg","rect");Z.classList.add("arrow-rectangle"),Z.setAttribute("x",`${F-X}`),Z.setAttribute("y",`${q.to-Q/2}`),Z.setAttribute("width",`${X}`),Z.setAttribute("height",`${Q}`),this._element.appendChild(Z);const ae=document.createElementNS("http://www.w3.org/2000/svg","g"),ue=document.createElementNS("http://www.w3.org/2000/svg","path");ue.setAttribute("d",`M 0 ${q.from} L ${U} ${q.from} L ${U} ${q.to} L ${F-se} ${q.to}`),ue.setAttribute("fill","none"),ae.appendChild(ue);const ge=document.createElementNS("http://www.w3.org/2000/svg","polygon");ge.classList.add("arrow"),I.add((0,C.autorun)(fe=>{ue.classList.toggle("currentMove",q.move===T.activeMovedText.read(fe)),ge.classList.toggle("currentMove",q.move===T.activeMovedText.read(fe))})),ge.setAttribute("points",`${F-se},${q.to-$/2} ${F},${q.to} ${F-se},${q.to+$/2}`),ae.appendChild(ge),this._element.appendChild(ae),V++}this.width.set(B,void 0)}),this._element=document.createElementNS("http://www.w3.org/2000/svg","svg"),this._element.setAttribute("class","moved-blocks-lines"),this._rootElement.appendChild(this._element),this._register((0,w.toDisposable)(()=>this._element.remove())),this._register((0,C.autorun)(S=>{const I=this._originalEditorLayoutInfo.read(S),E=this._modifiedEditorLayoutInfo.read(S);!I||!E||(this._element.style.left=`${I.width-I.verticalScrollbarWidth}px`,this._element.style.height=`${I.height}px`,this._element.style.width=`${I.verticalScrollbarWidth+I.contentLeft-t.movedCodeBlockPadding+this.width.read(S)}px`)})),this._register((0,C.recomputeInitiallyAndOnChange)(this._state));const g=(0,C.derived)(S=>{const I=this._diffModel.read(S),E=I?.diff.read(S);return E?E.movedTexts.map(T=>({move:T,original:new a.PlaceholderViewZone((0,C.constObservable)(T.lineRangeMapping.original.startLineNumber-1),18),modified:new a.PlaceholderViewZone((0,C.constObservable)(T.lineRangeMapping.modified.startLineNumber-1),18)})):[]});this._register((0,a.applyViewZones)(this._editors.original,g.map(S=>S.map(I=>I.original)))),this._register((0,a.applyViewZones)(this._editors.modified,g.map(S=>S.map(I=>I.modified)))),this._register((0,C.autorunWithStore)((S,I)=>{const E=g.read(S);for(const T of E)I.add(new h(this._editors.original,T.original,T.move,"original",this._diffModel.get())),I.add(new h(this._editors.modified,T.modified,T.move,"modified",this._diffModel.get()))}));const c=(0,C.observableSignalFromEvent)("original.onDidFocusEditorWidget",S=>this._editors.original.onDidFocusEditorWidget(()=>setTimeout(()=>S(void 0),0))),f=(0,C.observableSignalFromEvent)("modified.onDidFocusEditorWidget",S=>this._editors.modified.onDidFocusEditorWidget(()=>setTimeout(()=>S(void 0),0)));let _="modified";this._register((0,C.autorunHandleChanges)({createEmptyChangeSummary:()=>{},handleChange:(S,I)=>(S.didChange(c)&&(_="original"),S.didChange(f)&&(_="modified"),!0)},S=>{c.read(S),f.read(S);const I=this._diffModel.read(S);if(!I)return;const E=I.diff.read(S);let T;if(E&&_==="original"){const N=this._editors.originalCursor.read(S);N&&(T=E.movedTexts.find(A=>A.lineRangeMapping.original.contains(N.lineNumber)))}if(E&&_==="modified"){const N=this._editors.modifiedCursor.read(S);N&&(T=E.movedTexts.find(A=>A.lineRangeMapping.modified.contains(N.lineNumber)))}T!==I.movedTextToCompare.get()&&I.movedTextToCompare.set(void 0,void 0),I.setActiveMovedText(T)}))}}e.MovedBlocksLinesFeature=t,t.movedCodeBlockPadding=4;class n{static compute(u){const d=[],r=[];for(const l of u){let o=d.findIndex(g=>!g.intersectsStrict(l));o===-1&&(d.length>=6?o=(0,y.findMaxIdxBy)(d,(0,L.compareBy)(c=>c.intersectWithRangeLength(l),L.numberComparator)):(o=d.length,d.push(new s.OffsetRangeSet))),d[o].addRange(l),r.push(o)}return new n(d.length,r)}constructor(u,d){this._trackCount=u,this.trackPerLineIdx=d}getTrack(u){return this.trackPerLineIdx[u]}getTrackCount(){return this._trackCount}}class h extends a.ViewZoneOverlayWidget{constructor(u,d,r,l,o){const g=(0,m.h)("div.diff-hidden-lines-widget");super(u,d,g.root),this._editor=u,this._move=r,this._kind=l,this._diffModel=o,this._nodes=(0,m.h)("div.diff-moved-code-block",{style:{marginRight:"4px"}},[(0,m.h)("div.text-content@textContent"),(0,m.h)("div.action-bar@actionBar")]),g.root.appendChild(this._nodes.root);const c=(0,C.observableFromEvent)(this._editor.onDidLayoutChange,()=>this._editor.getLayoutInfo());this._register((0,a.applyStyle)(this._nodes.root,{paddingRight:c.map(E=>E.verticalScrollbarWidth)}));let f;r.changes.length>0?f=this._kind==="original"?(0,i.localize)(0,null,this._move.lineRangeMapping.modified.startLineNumber,this._move.lineRangeMapping.modified.endLineNumberExclusive-1):(0,i.localize)(1,null,this._move.lineRangeMapping.original.startLineNumber,this._move.lineRangeMapping.original.endLineNumberExclusive-1):f=this._kind==="original"?(0,i.localize)(2,null,this._move.lineRangeMapping.modified.startLineNumber,this._move.lineRangeMapping.modified.endLineNumberExclusive-1):(0,i.localize)(3,null,this._move.lineRangeMapping.original.startLineNumber,this._move.lineRangeMapping.original.endLineNumberExclusive-1);const _=this._register(new k.ActionBar(this._nodes.actionBar,{highlightToggledItems:!0})),S=new D.Action("",f,"",!1);_.push(S,{icon:!1,label:!0});const I=new D.Action("","Compare",b.ThemeIcon.asClassName(p.Codicon.compareChanges),!0,()=>{this._editor.focus(),this._diffModel.movedTextToCompare.set(this._diffModel.movedTextToCompare.get()===r?void 0:this._move,void 0)});this._register((0,C.autorun)(E=>{const T=this._diffModel.movedTextToCompare.read(E)===r;I.checked=T})),_.push(I,{icon:!1,label:!0})}}}),define(te[659],ie([3,4]),function(J,e){return J.create("vs/editor/browser/widget/diffEditor/features/revertButtonsFeature",e)}),define(te[660],ie([1,0,6,108,26,2,32,60,5,100,43,659]),function(J,e,m,k,D,L,y,p,w,C,b,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RevertButton=e.RevertButtonsFeature=void 0;const s=[];class i extends L.Disposable{constructor(h,v,u,d){super(),this._editors=h,this._diffModel=v,this._options=u,this._widget=d,this._selectedDiffs=(0,y.derived)(this,r=>{const l=this._diffModel.read(r),o=l?.diff.read(r);if(!o)return s;const g=this._editors.modifiedSelections.read(r);if(g.every(S=>S.isEmpty()))return s;const c=new p.LineRangeSet(g.map(S=>p.LineRange.fromRangeInclusive(S))),_=o.mappings.filter(S=>S.lineRangeMapping.innerChanges&&c.intersects(S.lineRangeMapping.modified)).map(S=>({mapping:S,rangeMappings:S.lineRangeMapping.innerChanges.filter(I=>g.some(E=>w.Range.areIntersecting(I.modifiedRange,E)))}));return _.length===0||_.every(S=>S.rangeMappings.length===0)?s:_}),this._register((0,y.autorunWithStore)((r,l)=>{if(!this._options.shouldRenderOldRevertArrows.read(r))return;const o=this._diffModel.read(r),g=o?.diff.read(r);if(!o||!g||o.movedTextToCompare.read(r))return;const c=[],f=this._selectedDiffs.read(r),_=new Set(f.map(S=>S.mapping));if(f.length>0){const S=this._editors.modifiedSelections.read(r),I=l.add(new t(S[S.length-1].positionLineNumber,this._widget,f.flatMap(E=>E.rangeMappings),!0));this._editors.modified.addGlyphMarginWidget(I),c.push(I)}for(const S of g.mappings)if(!_.has(S)&&!S.lineRangeMapping.modified.isEmpty&&S.lineRangeMapping.innerChanges){const I=l.add(new t(S.lineRangeMapping.modified.startLineNumber,this._widget,S.lineRangeMapping,!1));this._editors.modified.addGlyphMarginWidget(I),c.push(I)}l.add((0,L.toDisposable)(()=>{for(const S of c)this._editors.modified.removeGlyphMarginWidget(S)}))}))}}e.RevertButtonsFeature=i;class t extends L.Disposable{getId(){return this._id}constructor(h,v,u,d){super(),this._lineNumber=h,this._widget=v,this._diffs=u,this._revertSelection=d,this._id=`revertButton${t.counter++}`,this._domNode=(0,m.h)("div.revertButton",{title:this._revertSelection?(0,a.localize)(0,null):(0,a.localize)(1,null)},[(0,k.renderIcon)(D.Codicon.arrowRight)]).root,this._register((0,m.addDisposableListener)(this._domNode,m.EventType.MOUSE_DOWN,r=>{r.button!==2&&(r.stopPropagation(),r.preventDefault())})),this._register((0,m.addDisposableListener)(this._domNode,m.EventType.MOUSE_UP,r=>{r.stopPropagation(),r.preventDefault()})),this._register((0,m.addDisposableListener)(this._domNode,m.EventType.CLICK,r=>{this._diffs instanceof C.LineRangeMapping?this._widget.revert(this._diffs):this._widget.revertRangeMappings(this._diffs),r.stopPropagation(),r.preventDefault()}))}getDomNode(){return this._domNode}getPosition(){return{lane:b.GlyphMarginLane.Right,range:{startColumn:1,startLineNumber:this._lineNumber,endColumn:1,endLineNumber:this._lineNumber},zIndex:10001}}}e.RevertButton=t,t.counter=0}),define(te[661],ie([3,4]),function(J,e){return J.create("vs/editor/browser/widget/diffEditor/registrations.contribution",e)}),define(te[662],ie([3,4]),function(J,e){return J.create("vs/editor/browser/widget/multiDiffEditor/colors",e)}),define(te[663],ie([3,4]),function(J,e){return J.create("vs/editor/common/config/editorConfigurationSchema",e)}),define(te[664],ie([3,4]),function(J,e){return J.create("vs/editor/common/config/editorOptions",e)}),define(te[38],ie([1,0,13,55,17,188,160,664]),function(J,e,m,k,D,L,y,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorOptions=e.editorOptionsRegistry=e.EDITOR_FONT_DEFAULTS=e.unicodeHighlightConfigKeys=e.inUntrustedWorkspace=e.ShowLightbulbIconMode=e.EditorLayoutInfoComputer=e.EditorFontVariations=e.EditorFontLigatures=e.TextEditorCursorStyle=e.ApplyUpdateResult=e.ComputeOptionsMemory=e.ConfigurationChangedEvent=e.MINIMAP_GUTTER_WIDTH=void 0,e.boolean=n,e.clampedInt=v,e.clampedFloat=d,e.stringSet=o,e.filterValidationDecorations=ee,e.MINIMAP_GUTTER_WIDTH=8;class w{constructor(pe){this._values=pe}hasChanged(pe){return this._values[pe]}}e.ConfigurationChangedEvent=w;class C{constructor(){this.stableMinimapLayoutInput=null,this.stableFitMaxMinimapScale=0,this.stableFitRemainingWidth=0}}e.ComputeOptionsMemory=C;class b{constructor(pe,be,Re,We){this.id=pe,this.name=be,this.defaultValue=Re,this.schema=We}applyUpdate(pe,be){return s(pe,be)}compute(pe,be,Re){return Re}}class a{constructor(pe,be){this.newValue=pe,this.didChange=be}}e.ApplyUpdateResult=a;function s(Ne,pe){if(typeof Ne!="object"||typeof pe!="object"||!Ne||!pe)return new a(pe,Ne!==pe);if(Array.isArray(Ne)||Array.isArray(pe)){const Re=Array.isArray(Ne)&&Array.isArray(pe)&&m.equals(Ne,pe);return new a(pe,!Re)}let be=!1;for(const Re in pe)if(pe.hasOwnProperty(Re)){const We=s(Ne[Re],pe[Re]);We.didChange&&(Ne[Re]=We.newValue,be=!0)}return new a(Ne,be)}class i{constructor(pe){this.schema=void 0,this.id=pe,this.name="_never_",this.defaultValue=void 0}applyUpdate(pe,be){return s(pe,be)}validate(pe){return this.defaultValue}}class t{constructor(pe,be,Re,We){this.id=pe,this.name=be,this.defaultValue=Re,this.schema=We}applyUpdate(pe,be){return s(pe,be)}validate(pe){return typeof pe>"u"?this.defaultValue:pe}compute(pe,be,Re){return Re}}function n(Ne,pe){return typeof Ne>"u"?pe:Ne==="false"?!1:!!Ne}class h extends t{constructor(pe,be,Re,We=void 0){typeof We<"u"&&(We.type="boolean",We.default=Re),super(pe,be,Re,We)}validate(pe){return n(pe,this.defaultValue)}}function v(Ne,pe,be,Re){if(typeof Ne>"u")return pe;let We=parseInt(Ne,10);return isNaN(We)?pe:(We=Math.max(be,We),We=Math.min(Re,We),We|0)}class u extends t{static clampedInt(pe,be,Re,We){return v(pe,be,Re,We)}constructor(pe,be,Re,We,qe,je=void 0){typeof je<"u"&&(je.type="integer",je.default=Re,je.minimum=We,je.maximum=qe),super(pe,be,Re,je),this.minimum=We,this.maximum=qe}validate(pe){return u.clampedInt(pe,this.defaultValue,this.minimum,this.maximum)}}function d(Ne,pe,be,Re){if(typeof Ne>"u")return pe;const We=r.float(Ne,pe);return r.clamp(We,be,Re)}class r extends t{static clamp(pe,be,Re){return pe<be?be:pe>Re?Re:pe}static float(pe,be){if(typeof pe=="number")return pe;if(typeof pe>"u")return be;const Re=parseFloat(pe);return isNaN(Re)?be:Re}constructor(pe,be,Re,We,qe){typeof qe<"u"&&(qe.type="number",qe.default=Re),super(pe,be,Re,qe),this.validationFn=We}validate(pe){return this.validationFn(r.float(pe,this.defaultValue))}}class l extends t{static string(pe,be){return typeof pe!="string"?be:pe}constructor(pe,be,Re,We=void 0){typeof We<"u"&&(We.type="string",We.default=Re),super(pe,be,Re,We)}validate(pe){return l.string(pe,this.defaultValue)}}function o(Ne,pe,be,Re){return typeof Ne!="string"?pe:Re&&Ne in Re?Re[Ne]:be.indexOf(Ne)===-1?pe:Ne}class g extends t{constructor(pe,be,Re,We,qe=void 0){typeof qe<"u"&&(qe.type="string",qe.enum=We,qe.default=Re),super(pe,be,Re,qe),this._allowedValues=We}validate(pe){return o(pe,this.defaultValue,this._allowedValues)}}class c extends b{constructor(pe,be,Re,We,qe,je,Ze=void 0){typeof Ze<"u"&&(Ze.type="string",Ze.enum=qe,Ze.default=We),super(pe,be,Re,Ze),this._allowedValues=qe,this._convert=je}validate(pe){return typeof pe!="string"?this.defaultValue:this._allowedValues.indexOf(pe)===-1?this.defaultValue:this._convert(pe)}}function f(Ne){switch(Ne){case"none":return 0;case"keep":return 1;case"brackets":return 2;case"advanced":return 3;case"full":return 4}}class _ extends b{constructor(){super(2,"accessibilitySupport",0,{type:"string",enum:["auto","on","off"],enumDescriptions:[p.localize(0,null),p.localize(1,null),p.localize(2,null)],default:"auto",tags:["accessibility"],description:p.localize(3,null)})}validate(pe){switch(pe){case"auto":return 0;case"off":return 1;case"on":return 2}return this.defaultValue}compute(pe,be,Re){return Re===0?pe.accessibilitySupport:Re}}class S extends b{constructor(){const pe={insertSpace:!0,ignoreEmptyLines:!0};super(23,"comments",pe,{"editor.comments.insertSpace":{type:"boolean",default:pe.insertSpace,description:p.localize(4,null)},"editor.comments.ignoreEmptyLines":{type:"boolean",default:pe.ignoreEmptyLines,description:p.localize(5,null)}})}validate(pe){if(!pe||typeof pe!="object")return this.defaultValue;const be=pe;return{insertSpace:n(be.insertSpace,this.defaultValue.insertSpace),ignoreEmptyLines:n(be.ignoreEmptyLines,this.defaultValue.ignoreEmptyLines)}}}function I(Ne){switch(Ne){case"blink":return 1;case"smooth":return 2;case"phase":return 3;case"expand":return 4;case"solid":return 5}}var E;(function(Ne){Ne[Ne.Line=1]="Line",Ne[Ne.Block=2]="Block",Ne[Ne.Underline=3]="Underline",Ne[Ne.LineThin=4]="LineThin",Ne[Ne.BlockOutline=5]="BlockOutline",Ne[Ne.UnderlineThin=6]="UnderlineThin"})(E||(e.TextEditorCursorStyle=E={}));function T(Ne){switch(Ne){case"line":return E.Line;case"block":return E.Block;case"underline":return E.Underline;case"line-thin":return E.LineThin;case"block-outline":return E.BlockOutline;case"underline-thin":return E.UnderlineThin}}class N extends i{constructor(){super(142)}compute(pe,be,Re){const We=["monaco-editor"];return be.get(39)&&We.push(be.get(39)),pe.extraEditorClassName&&We.push(pe.extraEditorClassName),be.get(74)==="default"?We.push("mouse-default"):be.get(74)==="copy"&&We.push("mouse-copy"),be.get(111)&&We.push("showUnused"),be.get(140)&&We.push("showDeprecated"),We.join(" ")}}class A extends h{constructor(){super(37,"emptySelectionClipboard",!0,{description:p.localize(6,null)})}compute(pe,be,Re){return Re&&pe.emptySelectionClipboard}}class O extends b{constructor(){const pe={cursorMoveOnType:!0,seedSearchStringFromSelection:"always",autoFindInSelection:"never",globalFindClipboard:!1,addExtraSpaceOnTop:!0,loop:!0};super(41,"find",pe,{"editor.find.cursorMoveOnType":{type:"boolean",default:pe.cursorMoveOnType,description:p.localize(7,null)},"editor.find.seedSearchStringFromSelection":{type:"string",enum:["never","always","selection"],default:pe.seedSearchStringFromSelection,enumDescriptions:[p.localize(8,null),p.localize(9,null),p.localize(10,null)],description:p.localize(11,null)},"editor.find.autoFindInSelection":{type:"string",enum:["never","always","multiline"],default:pe.autoFindInSelection,enumDescriptions:[p.localize(12,null),p.localize(13,null),p.localize(14,null)],description:p.localize(15,null)},"editor.find.globalFindClipboard":{type:"boolean",default:pe.globalFindClipboard,description:p.localize(16,null),included:D.isMacintosh},"editor.find.addExtraSpaceOnTop":{type:"boolean",default:pe.addExtraSpaceOnTop,description:p.localize(17,null)},"editor.find.loop":{type:"boolean",default:pe.loop,description:p.localize(18,null)}})}validate(pe){if(!pe||typeof pe!="object")return this.defaultValue;const be=pe;return{cursorMoveOnType:n(be.cursorMoveOnType,this.defaultValue.cursorMoveOnType),seedSearchStringFromSelection:typeof pe.seedSearchStringFromSelection=="boolean"?pe.seedSearchStringFromSelection?"always":"never":o(be.seedSearchStringFromSelection,this.defaultValue.seedSearchStringFromSelection,["never","always","selection"]),autoFindInSelection:typeof pe.autoFindInSelection=="boolean"?pe.autoFindInSelection?"always":"never":o(be.autoFindInSelection,this.defaultValue.autoFindInSelection,["never","always","multiline"]),globalFindClipboard:n(be.globalFindClipboard,this.defaultValue.globalFindClipboard),addExtraSpaceOnTop:n(be.addExtraSpaceOnTop,this.defaultValue.addExtraSpaceOnTop),loop:n(be.loop,this.defaultValue.loop)}}}class M extends b{constructor(){super(51,"fontLigatures",M.OFF,{anyOf:[{type:"boolean",description:p.localize(19,null)},{type:"string",description:p.localize(20,null)}],description:p.localize(21,null),default:!1})}validate(pe){return typeof pe>"u"?this.defaultValue:typeof pe=="string"?pe==="false"||pe.length===0?M.OFF:pe==="true"?M.ON:pe:pe?M.ON:M.OFF}}e.EditorFontLigatures=M,M.OFF='"liga" off, "calt" off',M.ON='"liga" on, "calt" on';class P extends b{constructor(){super(54,"fontVariations",P.OFF,{anyOf:[{type:"boolean",description:p.localize(22,null)},{type:"string",description:p.localize(23,null)}],description:p.localize(24,null),default:!1})}validate(pe){return typeof pe>"u"?this.defaultValue:typeof pe=="string"?pe==="false"?P.OFF:pe==="true"?P.TRANSLATE:pe:pe?P.TRANSLATE:P.OFF}compute(pe,be,Re){return pe.fontInfo.fontVariationSettings}}e.EditorFontVariations=P,P.OFF="normal",P.TRANSLATE="translate";class x extends i{constructor(){super(50)}compute(pe,be,Re){return pe.fontInfo}}class R extends t{constructor(){super(52,"fontSize",e.EDITOR_FONT_DEFAULTS.fontSize,{type:"number",minimum:6,maximum:100,default:e.EDITOR_FONT_DEFAULTS.fontSize,description:p.localize(25,null)})}validate(pe){const be=r.float(pe,this.defaultValue);return be===0?e.EDITOR_FONT_DEFAULTS.fontSize:r.clamp(be,6,100)}compute(pe,be,Re){return pe.fontInfo.fontSize}}class B extends b{constructor(){super(53,"fontWeight",e.EDITOR_FONT_DEFAULTS.fontWeight,{anyOf:[{type:"number",minimum:B.MINIMUM_VALUE,maximum:B.MAXIMUM_VALUE,errorMessage:p.localize(26,null)},{type:"string",pattern:"^(normal|bold|1000|[1-9][0-9]{0,2})$"},{enum:B.SUGGESTION_VALUES}],default:e.EDITOR_FONT_DEFAULTS.fontWeight,description:p.localize(27,null)})}validate(pe){return pe==="normal"||pe==="bold"?pe:String(u.clampedInt(pe,e.EDITOR_FONT_DEFAULTS.fontWeight,B.MINIMUM_VALUE,B.MAXIMUM_VALUE))}}B.SUGGESTION_VALUES=["normal","bold","100","200","300","400","500","600","700","800","900"],B.MINIMUM_VALUE=1,B.MAXIMUM_VALUE=1e3;class H extends b{constructor(){const pe={multiple:"peek",multipleDefinitions:"peek",multipleTypeDefinitions:"peek",multipleDeclarations:"peek",multipleImplementations:"peek",multipleReferences:"peek",alternativeDefinitionCommand:"editor.action.goToReferences",alternativeTypeDefinitionCommand:"editor.action.goToReferences",alternativeDeclarationCommand:"editor.action.goToReferences",alternativeImplementationCommand:"",alternativeReferenceCommand:""},be={type:"string",enum:["peek","gotoAndPeek","goto"],default:pe.multiple,enumDescriptions:[p.localize(28,null),p.localize(29,null),p.localize(30,null)]},Re=["","editor.action.referenceSearch.trigger","editor.action.goToReferences","editor.action.peekImplementation","editor.action.goToImplementation","editor.action.peekTypeDefinition","editor.action.goToTypeDefinition","editor.action.peekDeclaration","editor.action.revealDeclaration","editor.action.peekDefinition","editor.action.revealDefinitionAside","editor.action.revealDefinition"];super(58,"gotoLocation",pe,{"editor.gotoLocation.multiple":{deprecationMessage:p.localize(31,null)},"editor.gotoLocation.multipleDefinitions":{description:p.localize(32,null),...be},"editor.gotoLocation.multipleTypeDefinitions":{description:p.localize(33,null),...be},"editor.gotoLocation.multipleDeclarations":{description:p.localize(34,null),...be},"editor.gotoLocation.multipleImplementations":{description:p.localize(35,null),...be},"editor.gotoLocation.multipleReferences":{description:p.localize(36,null),...be},"editor.gotoLocation.alternativeDefinitionCommand":{type:"string",default:pe.alternativeDefinitionCommand,enum:Re,description:p.localize(37,null)},"editor.gotoLocation.alternativeTypeDefinitionCommand":{type:"string",default:pe.alternativeTypeDefinitionCommand,enum:Re,description:p.localize(38,null)},"editor.gotoLocation.alternativeDeclarationCommand":{type:"string",default:pe.alternativeDeclarationCommand,enum:Re,description:p.localize(39,null)},"editor.gotoLocation.alternativeImplementationCommand":{type:"string",default:pe.alternativeImplementationCommand,enum:Re,description:p.localize(40,null)},"editor.gotoLocation.alternativeReferenceCommand":{type:"string",default:pe.alternativeReferenceCommand,enum:Re,description:p.localize(41,null)}})}validate(pe){var be,Re,We,qe,je;if(!pe||typeof pe!="object")return this.defaultValue;const Ze=pe;return{multiple:o(Ze.multiple,this.defaultValue.multiple,["peek","gotoAndPeek","goto"]),multipleDefinitions:(be=Ze.multipleDefinitions)!==null&&be!==void 0?be:o(Ze.multipleDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleTypeDefinitions:(Re=Ze.multipleTypeDefinitions)!==null&&Re!==void 0?Re:o(Ze.multipleTypeDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleDeclarations:(We=Ze.multipleDeclarations)!==null&&We!==void 0?We:o(Ze.multipleDeclarations,"peek",["peek","gotoAndPeek","goto"]),multipleImplementations:(qe=Ze.multipleImplementations)!==null&&qe!==void 0?qe:o(Ze.multipleImplementations,"peek",["peek","gotoAndPeek","goto"]),multipleReferences:(je=Ze.multipleReferences)!==null&&je!==void 0?je:o(Ze.multipleReferences,"peek",["peek","gotoAndPeek","goto"]),alternativeDefinitionCommand:l.string(Ze.alternativeDefinitionCommand,this.defaultValue.alternativeDefinitionCommand),alternativeTypeDefinitionCommand:l.string(Ze.alternativeTypeDefinitionCommand,this.defaultValue.alternativeTypeDefinitionCommand),alternativeDeclarationCommand:l.string(Ze.alternativeDeclarationCommand,this.defaultValue.alternativeDeclarationCommand),alternativeImplementationCommand:l.string(Ze.alternativeImplementationCommand,this.defaultValue.alternativeImplementationCommand),alternativeReferenceCommand:l.string(Ze.alternativeReferenceCommand,this.defaultValue.alternativeReferenceCommand)}}}class V extends b{constructor(){const pe={enabled:!0,delay:300,hidingDelay:300,sticky:!0,above:!0};super(60,"hover",pe,{"editor.hover.enabled":{type:"boolean",default:pe.enabled,description:p.localize(42,null)},"editor.hover.delay":{type:"number",default:pe.delay,minimum:0,maximum:1e4,description:p.localize(43,null)},"editor.hover.sticky":{type:"boolean",default:pe.sticky,description:p.localize(44,null)},"editor.hover.hidingDelay":{type:"integer",minimum:0,default:pe.hidingDelay,description:p.localize(45,null)},"editor.hover.above":{type:"boolean",default:pe.above,description:p.localize(46,null)}})}validate(pe){if(!pe||typeof pe!="object")return this.defaultValue;const be=pe;return{enabled:n(be.enabled,this.defaultValue.enabled),delay:u.clampedInt(be.delay,this.defaultValue.delay,0,1e4),sticky:n(be.sticky,this.defaultValue.sticky),hidingDelay:u.clampedInt(be.hidingDelay,this.defaultValue.hidingDelay,0,6e5),above:n(be.above,this.defaultValue.above)}}}class q extends i{constructor(){super(145)}compute(pe,be,Re){return q.computeLayout(be,{memory:pe.memory,outerWidth:pe.outerWidth,outerHeight:pe.outerHeight,isDominatedByLongLines:pe.isDominatedByLongLines,lineHeight:pe.fontInfo.lineHeight,viewLineCount:pe.viewLineCount,lineNumbersDigitCount:pe.lineNumbersDigitCount,typicalHalfwidthCharacterWidth:pe.fontInfo.typicalHalfwidthCharacterWidth,maxDigitWidth:pe.fontInfo.maxDigitWidth,pixelRatio:pe.pixelRatio,glyphMarginDecorationLaneCount:pe.glyphMarginDecorationLaneCount})}static computeContainedMinimapLineCount(pe){const be=pe.height/pe.lineHeight,Re=Math.floor(pe.paddingTop/pe.lineHeight);let We=Math.floor(pe.paddingBottom/pe.lineHeight);pe.scrollBeyondLastLine&&(We=Math.max(We,be-1));const qe=(Re+pe.viewLineCount+We)/(pe.pixelRatio*pe.height),je=Math.floor(pe.viewLineCount/qe);return{typicalViewportLineCount:be,extraLinesBeforeFirstLine:Re,extraLinesBeyondLastLine:We,desiredRatio:qe,minimapLineCount:je}}static _computeMinimapLayout(pe,be){const Re=pe.outerWidth,We=pe.outerHeight,qe=pe.pixelRatio;if(!pe.minimap.enabled)return{renderMinimap:0,minimapLeft:0,minimapWidth:0,minimapHeightIsEditorHeight:!1,minimapIsSampling:!1,minimapScale:1,minimapLineHeight:1,minimapCanvasInnerWidth:0,minimapCanvasInnerHeight:Math.floor(qe*We),minimapCanvasOuterWidth:0,minimapCanvasOuterHeight:We};const je=be.stableMinimapLayoutInput,Ze=je&&pe.outerHeight===je.outerHeight&&pe.lineHeight===je.lineHeight&&pe.typicalHalfwidthCharacterWidth===je.typicalHalfwidthCharacterWidth&&pe.pixelRatio===je.pixelRatio&&pe.scrollBeyondLastLine===je.scrollBeyondLastLine&&pe.paddingTop===je.paddingTop&&pe.paddingBottom===je.paddingBottom&&pe.minimap.enabled===je.minimap.enabled&&pe.minimap.side===je.minimap.side&&pe.minimap.size===je.minimap.size&&pe.minimap.showSlider===je.minimap.showSlider&&pe.minimap.renderCharacters===je.minimap.renderCharacters&&pe.minimap.maxColumn===je.minimap.maxColumn&&pe.minimap.scale===je.minimap.scale&&pe.verticalScrollbarWidth===je.verticalScrollbarWidth&&pe.isViewportWrapping===je.isViewportWrapping,Je=pe.lineHeight,st=pe.typicalHalfwidthCharacterWidth,rt=pe.scrollBeyondLastLine,pt=pe.minimap.renderCharacters;let et=qe>=2?Math.round(pe.minimap.scale*2):pe.minimap.scale;const ut=pe.minimap.maxColumn,ot=pe.minimap.size,_t=pe.minimap.side,St=pe.verticalScrollbarWidth,ye=pe.viewLineCount,we=pe.remainingWidth,Me=pe.isViewportWrapping,Te=pt?2:3;let De=Math.floor(qe*We);const Oe=De/qe;let Pe=!1,ze=!1,Ue=Te*et,$e=et/qe,Qe=1;if(ot==="fill"||ot==="fit"){const{typicalViewportLineCount:tt,extraLinesBeforeFirstLine:lt,extraLinesBeyondLastLine:nt,desiredRatio:at,minimapLineCount:dt}=q.computeContainedMinimapLineCount({viewLineCount:ye,scrollBeyondLastLine:rt,paddingTop:pe.paddingTop,paddingBottom:pe.paddingBottom,height:We,lineHeight:Je,pixelRatio:qe});if(ye/dt>1)Pe=!0,ze=!0,et=1,Ue=1,$e=et/qe;else{let mt=!1,ct=et+1;if(ot==="fit"){const gt=Math.ceil((lt+ye+nt)*Ue);Me&&Ze&&we<=be.stableFitRemainingWidth?(mt=!0,ct=be.stableFitMaxMinimapScale):mt=gt>De}if(ot==="fill"||mt){Pe=!0;const gt=et;Ue=Math.min(Je*qe,Math.max(1,Math.floor(1/at))),Me&&Ze&&we<=be.stableFitRemainingWidth&&(ct=be.stableFitMaxMinimapScale),et=Math.min(ct,Math.max(1,Math.floor(Ue/Te))),et>gt&&(Qe=Math.min(2,et/gt)),$e=et/qe/Qe,De=Math.ceil(Math.max(tt,lt+ye+nt)*Ue),Me?(be.stableMinimapLayoutInput=pe,be.stableFitRemainingWidth=we,be.stableFitMaxMinimapScale=et):(be.stableMinimapLayoutInput=null,be.stableFitRemainingWidth=0)}}}const Ye=Math.floor(ut*$e),Fe=Math.min(Ye,Math.max(0,Math.floor((we-St-2)*$e/(st+$e)))+e.MINIMAP_GUTTER_WIDTH);let Ve=Math.floor(qe*Fe);const Ke=Ve/qe;Ve=Math.floor(Ve*Qe);const Ge=pt?1:2,it=_t==="left"?0:Re-Fe-St;return{renderMinimap:Ge,minimapLeft:it,minimapWidth:Fe,minimapHeightIsEditorHeight:Pe,minimapIsSampling:ze,minimapScale:et,minimapLineHeight:Ue,minimapCanvasInnerWidth:Ve,minimapCanvasInnerHeight:De,minimapCanvasOuterWidth:Ke,minimapCanvasOuterHeight:Oe}}static computeLayout(pe,be){const Re=be.outerWidth|0,We=be.outerHeight|0,qe=be.lineHeight|0,je=be.lineNumbersDigitCount|0,Ze=be.typicalHalfwidthCharacterWidth,Je=be.maxDigitWidth,st=be.pixelRatio,rt=be.viewLineCount,pt=pe.get(137),et=pt==="inherit"?pe.get(136):pt,ut=et==="inherit"?pe.get(132):et,ot=pe.get(135),_t=be.isDominatedByLongLines,St=pe.get(57),ye=pe.get(68).renderType!==0,we=pe.get(69),Me=pe.get(105),Te=pe.get(84),De=pe.get(73),Oe=pe.get(103),Pe=Oe.verticalScrollbarSize,ze=Oe.verticalHasArrows,Ue=Oe.arrowSize,$e=Oe.horizontalScrollbarSize,Qe=pe.get(43),Ye=pe.get(110)!=="never";let Fe=pe.get(66);Qe&&Ye&&(Fe+=16);let Ve=0;if(ye){const Lt=Math.max(je,we);Ve=Math.round(Lt*Je)}let Ke=0;St&&(Ke=qe*be.glyphMarginDecorationLaneCount);let Ge=0,it=Ge+Ke,tt=it+Ve,lt=tt+Fe;const nt=Re-Ke-Ve-Fe;let at=!1,dt=!1,ht=-1;et==="inherit"&&_t?(at=!0,dt=!0):ut==="on"||ut==="bounded"?dt=!0:ut==="wordWrapColumn"&&(ht=ot);const mt=q._computeMinimapLayout({outerWidth:Re,outerHeight:We,lineHeight:qe,typicalHalfwidthCharacterWidth:Ze,pixelRatio:st,scrollBeyondLastLine:Me,paddingTop:Te.top,paddingBottom:Te.bottom,minimap:De,verticalScrollbarWidth:Pe,viewLineCount:rt,remainingWidth:nt,isViewportWrapping:dt},be.memory||new C);mt.renderMinimap!==0&&mt.minimapLeft===0&&(Ge+=mt.minimapWidth,it+=mt.minimapWidth,tt+=mt.minimapWidth,lt+=mt.minimapWidth);const ct=nt-mt.minimapWidth,gt=Math.max(1,Math.floor((ct-Pe-2)/Ze)),Dt=ze?Ue:0;return dt&&(ht=Math.max(1,gt),ut==="bounded"&&(ht=Math.min(ht,ot))),{width:Re,height:We,glyphMarginLeft:Ge,glyphMarginWidth:Ke,glyphMarginDecorationLaneCount:be.glyphMarginDecorationLaneCount,lineNumbersLeft:it,lineNumbersWidth:Ve,decorationsLeft:tt,decorationsWidth:Fe,contentLeft:lt,contentWidth:ct,minimap:mt,viewportColumn:gt,isWordWrapMinified:at,isViewportWrapping:dt,wrappingColumn:ht,verticalScrollbarWidth:Pe,horizontalScrollbarHeight:$e,overviewRuler:{top:Dt,width:Pe,height:We-2*Dt,right:0}}}}e.EditorLayoutInfoComputer=q;class K extends b{constructor(){super(139,"wrappingStrategy","simple",{"editor.wrappingStrategy":{enumDescriptions:[p.localize(47,null),p.localize(48,null)],type:"string",enum:["simple","advanced"],default:"simple",description:p.localize(49,null)}})}validate(pe){return o(pe,"simple",["simple","advanced"])}compute(pe,be,Re){return be.get(2)===2?"advanced":Re}}var U;(function(Ne){Ne.Off="off",Ne.OnCode="onCode",Ne.On="on"})(U||(e.ShowLightbulbIconMode=U={}));class $ extends b{constructor(){const pe={enabled:U.OnCode};super(65,"lightbulb",pe,{"editor.lightbulb.enabled":{type:"string",tags:["experimental"],enum:[U.Off,U.OnCode,U.On],default:pe.enabled,enumDescriptions:[p.localize(50,null),p.localize(51,null),p.localize(52,null)],description:p.localize(53,null)}})}validate(pe){return!pe||typeof pe!="object"?this.defaultValue:{enabled:o(pe.enabled,this.defaultValue.enabled,[U.Off,U.OnCode,U.On])}}}class se extends b{constructor(){const pe={enabled:!0,maxLineCount:5,defaultModel:"outlineModel",scrollWithEditor:!0};super(115,"stickyScroll",pe,{"editor.stickyScroll.enabled":{type:"boolean",default:pe.enabled,description:p.localize(54,null),tags:["experimental"]},"editor.stickyScroll.maxLineCount":{type:"number",default:pe.maxLineCount,minimum:1,maximum:20,description:p.localize(55,null)},"editor.stickyScroll.defaultModel":{type:"string",enum:["outlineModel","foldingProviderModel","indentationModel"],default:pe.defaultModel,description:p.localize(56,null)},"editor.stickyScroll.scrollWithEditor":{type:"boolean",default:pe.scrollWithEditor,description:p.localize(57,null)}})}validate(pe){if(!pe||typeof pe!="object")return this.defaultValue;const be=pe;return{enabled:n(be.enabled,this.defaultValue.enabled),maxLineCount:u.clampedInt(be.maxLineCount,this.defaultValue.maxLineCount,1,20),defaultModel:o(be.defaultModel,this.defaultValue.defaultModel,["outlineModel","foldingProviderModel","indentationModel"]),scrollWithEditor:n(be.scrollWithEditor,this.defaultValue.scrollWithEditor)}}}class F extends b{constructor(){const pe={enabled:"on",fontSize:0,fontFamily:"",padding:!1};super(141,"inlayHints",pe,{"editor.inlayHints.enabled":{type:"string",default:pe.enabled,description:p.localize(58,null),enum:["on","onUnlessPressed","offUnlessPressed","off"],markdownEnumDescriptions:[p.localize(59,null),p.localize(60,null,D.isMacintosh?"Ctrl+Option":"Ctrl+Alt"),p.localize(61,null,D.isMacintosh?"Ctrl+Option":"Ctrl+Alt"),p.localize(62,null)]},"editor.inlayHints.fontSize":{type:"number",default:pe.fontSize,markdownDescription:p.localize(63,null,"`#editor.fontSize#`","`5`")},"editor.inlayHints.fontFamily":{type:"string",default:pe.fontFamily,markdownDescription:p.localize(64,null,"`#editor.fontFamily#`")},"editor.inlayHints.padding":{type:"boolean",default:pe.padding,description:p.localize(65,null)}})}validate(pe){if(!pe||typeof pe!="object")return this.defaultValue;const be=pe;return typeof be.enabled=="boolean"&&(be.enabled=be.enabled?"on":"off"),{enabled:o(be.enabled,this.defaultValue.enabled,["on","off","offUnlessPressed","onUnlessPressed"]),fontSize:u.clampedInt(be.fontSize,this.defaultValue.fontSize,0,100),fontFamily:l.string(be.fontFamily,this.defaultValue.fontFamily),padding:n(be.padding,this.defaultValue.padding)}}}class X extends b{constructor(){super(66,"lineDecorationsWidth",10)}validate(pe){return typeof pe=="string"&&/^\d+(\.\d+)?ch$/.test(pe)?-parseFloat(pe.substring(0,pe.length-2)):u.clampedInt(pe,this.defaultValue,0,1e3)}compute(pe,be,Re){return Re<0?u.clampedInt(-Re*pe.fontInfo.typicalHalfwidthCharacterWidth,this.defaultValue,0,1e3):Re}}class Q extends r{constructor(){super(67,"lineHeight",e.EDITOR_FONT_DEFAULTS.lineHeight,pe=>r.clamp(pe,0,150),{markdownDescription:p.localize(66,null)})}compute(pe,be,Re){return pe.fontInfo.lineHeight}}class Z extends b{constructor(){const pe={enabled:!0,size:"proportional",side:"right",showSlider:"mouseover",autohide:!1,renderCharacters:!0,maxColumn:120,scale:1,showRegionSectionHeaders:!0,showMarkSectionHeaders:!0,sectionHeaderFontSize:9};super(73,"minimap",pe,{"editor.minimap.enabled":{type:"boolean",default:pe.enabled,description:p.localize(67,null)},"editor.minimap.autohide":{type:"boolean",default:pe.autohide,description:p.localize(68,null)},"editor.minimap.size":{type:"string",enum:["proportional","fill","fit"],enumDescriptions:[p.localize(69,null),p.localize(70,null),p.localize(71,null)],default:pe.size,description:p.localize(72,null)},"editor.minimap.side":{type:"string",enum:["left","right"],default:pe.side,description:p.localize(73,null)},"editor.minimap.showSlider":{type:"string",enum:["always","mouseover"],default:pe.showSlider,description:p.localize(74,null)},"editor.minimap.scale":{type:"number",default:pe.scale,minimum:1,maximum:3,enum:[1,2,3],description:p.localize(75,null)},"editor.minimap.renderCharacters":{type:"boolean",default:pe.renderCharacters,description:p.localize(76,null)},"editor.minimap.maxColumn":{type:"number",default:pe.maxColumn,description:p.localize(77,null)},"editor.minimap.showRegionSectionHeaders":{type:"boolean",default:pe.showRegionSectionHeaders,description:p.localize(78,null)},"editor.minimap.showMarkSectionHeaders":{type:"boolean",default:pe.showMarkSectionHeaders,description:p.localize(79,null)},"editor.minimap.sectionHeaderFontSize":{type:"number",default:pe.sectionHeaderFontSize,description:p.localize(80,null)}})}validate(pe){var be;if(!pe||typeof pe!="object")return this.defaultValue;const Re=pe;return{enabled:n(Re.enabled,this.defaultValue.enabled),autohide:n(Re.autohide,this.defaultValue.autohide),size:o(Re.size,this.defaultValue.size,["proportional","fill","fit"]),side:o(Re.side,this.defaultValue.side,["right","left"]),showSlider:o(Re.showSlider,this.defaultValue.showSlider,["always","mouseover"]),renderCharacters:n(Re.renderCharacters,this.defaultValue.renderCharacters),scale:u.clampedInt(Re.scale,1,1,3),maxColumn:u.clampedInt(Re.maxColumn,this.defaultValue.maxColumn,1,1e4),showRegionSectionHeaders:n(Re.showRegionSectionHeaders,this.defaultValue.showRegionSectionHeaders),showMarkSectionHeaders:n(Re.showMarkSectionHeaders,this.defaultValue.showMarkSectionHeaders),sectionHeaderFontSize:r.clamp((be=Re.sectionHeaderFontSize)!==null&&be!==void 0?be:this.defaultValue.sectionHeaderFontSize,4,32)}}}function ae(Ne){return Ne==="ctrlCmd"?D.isMacintosh?"metaKey":"ctrlKey":"altKey"}class ue extends b{constructor(){super(84,"padding",{top:0,bottom:0},{"editor.padding.top":{type:"number",default:0,minimum:0,maximum:1e3,description:p.localize(81,null)},"editor.padding.bottom":{type:"number",default:0,minimum:0,maximum:1e3,description:p.localize(82,null)}})}validate(pe){if(!pe||typeof pe!="object")return this.defaultValue;const be=pe;return{top:u.clampedInt(be.top,0,0,1e3),bottom:u.clampedInt(be.bottom,0,0,1e3)}}}class ge extends b{constructor(){const pe={enabled:!0,cycle:!0};super(86,"parameterHints",pe,{"editor.parameterHints.enabled":{type:"boolean",default:pe.enabled,description:p.localize(83,null)},"editor.parameterHints.cycle":{type:"boolean",default:pe.cycle,description:p.localize(84,null)}})}validate(pe){if(!pe||typeof pe!="object")return this.defaultValue;const be=pe;return{enabled:n(be.enabled,this.defaultValue.enabled),cycle:n(be.cycle,this.defaultValue.cycle)}}}class fe extends i{constructor(){super(143)}compute(pe,be,Re){return pe.pixelRatio}}class re extends b{constructor(){const pe={other:"on",comments:"off",strings:"off"},be=[{type:"boolean"},{type:"string",enum:["on","inline","off"],enumDescriptions:[p.localize(85,null),p.localize(86,null),p.localize(87,null)]}];super(89,"quickSuggestions",pe,{type:"object",additionalProperties:!1,properties:{strings:{anyOf:be,default:pe.strings,description:p.localize(88,null)},comments:{anyOf:be,default:pe.comments,description:p.localize(89,null)},other:{anyOf:be,default:pe.other,description:p.localize(90,null)}},default:pe,markdownDescription:p.localize(91,null,"#editor.suggestOnTriggerCharacters#")}),this.defaultValue=pe}validate(pe){if(typeof pe=="boolean"){const st=pe?"on":"off";return{comments:st,strings:st,other:st}}if(!pe||typeof pe!="object")return this.defaultValue;const{other:be,comments:Re,strings:We}=pe,qe=["on","inline","off"];let je,Ze,Je;return typeof be=="boolean"?je=be?"on":"off":je=o(be,this.defaultValue.other,qe),typeof Re=="boolean"?Ze=Re?"on":"off":Ze=o(Re,this.defaultValue.comments,qe),typeof We=="boolean"?Je=We?"on":"off":Je=o(We,this.defaultValue.strings,qe),{other:je,comments:Ze,strings:Je}}}class de extends b{constructor(){super(68,"lineNumbers",{renderType:1,renderFn:null},{type:"string",enum:["off","on","relative","interval"],enumDescriptions:[p.localize(92,null),p.localize(93,null),p.localize(94,null),p.localize(95,null)],default:"on",description:p.localize(96,null)})}validate(pe){let be=this.defaultValue.renderType,Re=this.defaultValue.renderFn;return typeof pe<"u"&&(typeof pe=="function"?(be=4,Re=pe):pe==="interval"?be=3:pe==="relative"?be=2:pe==="on"?be=1:be=0),{renderType:be,renderFn:Re}}}function ee(Ne){const pe=Ne.get(98);return pe==="editable"?Ne.get(91):pe!=="on"}class W extends b{constructor(){const pe=[],be={type:"number",description:p.localize(97,null)};super(102,"rulers",pe,{type:"array",items:{anyOf:[be,{type:["object"],properties:{column:be,color:{type:"string",description:p.localize(98,null),format:"color-hex"}}}]},default:pe,description:p.localize(99,null)})}validate(pe){if(Array.isArray(pe)){const be=[];for(const Re of pe)if(typeof Re=="number")be.push({column:u.clampedInt(Re,0,0,1e4),color:null});else if(Re&&typeof Re=="object"){const We=Re;be.push({column:u.clampedInt(We.column,0,0,1e4),color:We.color})}return be.sort((Re,We)=>Re.column-We.column),be}return this.defaultValue}}class z extends b{constructor(){super(92,"readOnlyMessage",void 0)}validate(pe){return!pe||typeof pe!="object"?this.defaultValue:pe}}function Y(Ne,pe){if(typeof Ne!="string")return pe;switch(Ne){case"hidden":return 2;case"visible":return 3;default:return 1}}class j extends b{constructor(){const pe={vertical:1,horizontal:1,arrowSize:11,useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,horizontalScrollbarSize:12,horizontalSliderSize:12,verticalScrollbarSize:14,verticalSliderSize:14,handleMouseWheel:!0,alwaysConsumeMouseWheel:!0,scrollByPage:!1,ignoreHorizontalScrollbarInContentHeight:!1};super(103,"scrollbar",pe,{"editor.scrollbar.vertical":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[p.localize(100,null),p.localize(101,null),p.localize(102,null)],default:"auto",description:p.localize(103,null)},"editor.scrollbar.horizontal":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[p.localize(104,null),p.localize(105,null),p.localize(106,null)],default:"auto",description:p.localize(107,null)},"editor.scrollbar.verticalScrollbarSize":{type:"number",default:pe.verticalScrollbarSize,description:p.localize(108,null)},"editor.scrollbar.horizontalScrollbarSize":{type:"number",default:pe.horizontalScrollbarSize,description:p.localize(109,null)},"editor.scrollbar.scrollByPage":{type:"boolean",default:pe.scrollByPage,description:p.localize(110,null)},"editor.scrollbar.ignoreHorizontalScrollbarInContentHeight":{type:"boolean",default:pe.ignoreHorizontalScrollbarInContentHeight,description:p.localize(111,null)}})}validate(pe){if(!pe||typeof pe!="object")return this.defaultValue;const be=pe,Re=u.clampedInt(be.horizontalScrollbarSize,this.defaultValue.horizontalScrollbarSize,0,1e3),We=u.clampedInt(be.verticalScrollbarSize,this.defaultValue.verticalScrollbarSize,0,1e3);return{arrowSize:u.clampedInt(be.arrowSize,this.defaultValue.arrowSize,0,1e3),vertical:Y(be.vertical,this.defaultValue.vertical),horizontal:Y(be.horizontal,this.defaultValue.horizontal),useShadows:n(be.useShadows,this.defaultValue.useShadows),verticalHasArrows:n(be.verticalHasArrows,this.defaultValue.verticalHasArrows),horizontalHasArrows:n(be.horizontalHasArrows,this.defaultValue.horizontalHasArrows),handleMouseWheel:n(be.handleMouseWheel,this.defaultValue.handleMouseWheel),alwaysConsumeMouseWheel:n(be.alwaysConsumeMouseWheel,this.defaultValue.alwaysConsumeMouseWheel),horizontalScrollbarSize:Re,horizontalSliderSize:u.clampedInt(be.horizontalSliderSize,Re,0,1e3),verticalScrollbarSize:We,verticalSliderSize:u.clampedInt(be.verticalSliderSize,We,0,1e3),scrollByPage:n(be.scrollByPage,this.defaultValue.scrollByPage),ignoreHorizontalScrollbarInContentHeight:n(be.ignoreHorizontalScrollbarInContentHeight,this.defaultValue.ignoreHorizontalScrollbarInContentHeight)}}}e.inUntrustedWorkspace="inUntrustedWorkspace",e.unicodeHighlightConfigKeys={allowedCharacters:"editor.unicodeHighlight.allowedCharacters",invisibleCharacters:"editor.unicodeHighlight.invisibleCharacters",nonBasicASCII:"editor.unicodeHighlight.nonBasicASCII",ambiguousCharacters:"editor.unicodeHighlight.ambiguousCharacters",includeComments:"editor.unicodeHighlight.includeComments",includeStrings:"editor.unicodeHighlight.includeStrings",allowedLocales:"editor.unicodeHighlight.allowedLocales"};class G extends b{constructor(){const pe={nonBasicASCII:e.inUntrustedWorkspace,invisibleCharacters:!0,ambiguousCharacters:!0,includeComments:e.inUntrustedWorkspace,includeStrings:!0,allowedCharacters:{},allowedLocales:{_os:!0,_vscode:!0}};super(125,"unicodeHighlight",pe,{[e.unicodeHighlightConfigKeys.nonBasicASCII]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,e.inUntrustedWorkspace],default:pe.nonBasicASCII,description:p.localize(112,null)},[e.unicodeHighlightConfigKeys.invisibleCharacters]:{restricted:!0,type:"boolean",default:pe.invisibleCharacters,description:p.localize(113,null)},[e.unicodeHighlightConfigKeys.ambiguousCharacters]:{restricted:!0,type:"boolean",default:pe.ambiguousCharacters,description:p.localize(114,null)},[e.unicodeHighlightConfigKeys.includeComments]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,e.inUntrustedWorkspace],default:pe.includeComments,description:p.localize(115,null)},[e.unicodeHighlightConfigKeys.includeStrings]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,e.inUntrustedWorkspace],default:pe.includeStrings,description:p.localize(116,null)},[e.unicodeHighlightConfigKeys.allowedCharacters]:{restricted:!0,type:"object",default:pe.allowedCharacters,description:p.localize(117,null),additionalProperties:{type:"boolean"}},[e.unicodeHighlightConfigKeys.allowedLocales]:{restricted:!0,type:"object",additionalProperties:{type:"boolean"},default:pe.allowedLocales,description:p.localize(118,null)}})}applyUpdate(pe,be){let Re=!1;be.allowedCharacters&&pe&&(k.equals(pe.allowedCharacters,be.allowedCharacters)||(pe={...pe,allowedCharacters:be.allowedCharacters},Re=!0)),be.allowedLocales&&pe&&(k.equals(pe.allowedLocales,be.allowedLocales)||(pe={...pe,allowedLocales:be.allowedLocales},Re=!0));const We=super.applyUpdate(pe,be);return Re?new a(We.newValue,!0):We}validate(pe){if(!pe||typeof pe!="object")return this.defaultValue;const be=pe;return{nonBasicASCII:me(be.nonBasicASCII,e.inUntrustedWorkspace,[!0,!1,e.inUntrustedWorkspace]),invisibleCharacters:n(be.invisibleCharacters,this.defaultValue.invisibleCharacters),ambiguousCharacters:n(be.ambiguousCharacters,this.defaultValue.ambiguousCharacters),includeComments:me(be.includeComments,e.inUntrustedWorkspace,[!0,!1,e.inUntrustedWorkspace]),includeStrings:me(be.includeStrings,e.inUntrustedWorkspace,[!0,!1,e.inUntrustedWorkspace]),allowedCharacters:this.validateBooleanMap(pe.allowedCharacters,this.defaultValue.allowedCharacters),allowedLocales:this.validateBooleanMap(pe.allowedLocales,this.defaultValue.allowedLocales)}}validateBooleanMap(pe,be){if(typeof pe!="object"||!pe)return be;const Re={};for(const[We,qe]of Object.entries(pe))qe===!0&&(Re[We]=!0);return Re}}class oe extends b{constructor(){const pe={enabled:!0,mode:"subwordSmart",showToolbar:"onHover",suppressSuggestions:!1,keepOnBlur:!1,fontFamily:"default"};super(62,"inlineSuggest",pe,{"editor.inlineSuggest.enabled":{type:"boolean",default:pe.enabled,description:p.localize(119,null)},"editor.inlineSuggest.showToolbar":{type:"string",default:pe.showToolbar,enum:["always","onHover","never"],enumDescriptions:[p.localize(120,null),p.localize(121,null),p.localize(122,null)],description:p.localize(123,null)},"editor.inlineSuggest.suppressSuggestions":{type:"boolean",default:pe.suppressSuggestions,description:p.localize(124,null)},"editor.inlineSuggest.fontFamily":{type:"string",default:pe.fontFamily,description:p.localize(125,null)}})}validate(pe){if(!pe||typeof pe!="object")return this.defaultValue;const be=pe;return{enabled:n(be.enabled,this.defaultValue.enabled),mode:o(be.mode,this.defaultValue.mode,["prefix","subword","subwordSmart"]),showToolbar:o(be.showToolbar,this.defaultValue.showToolbar,["always","onHover","never"]),suppressSuggestions:n(be.suppressSuggestions,this.defaultValue.suppressSuggestions),keepOnBlur:n(be.keepOnBlur,this.defaultValue.keepOnBlur),fontFamily:l.string(be.fontFamily,this.defaultValue.fontFamily)}}}class ne extends b{constructor(){const pe={enabled:!1,showToolbar:"onHover",fontFamily:"default",keepOnBlur:!1,backgroundColoring:!1};super(63,"experimentalInlineEdit",pe,{"editor.experimentalInlineEdit.enabled":{type:"boolean",default:pe.enabled,description:p.localize(126,null)},"editor.experimentalInlineEdit.showToolbar":{type:"string",default:pe.showToolbar,enum:["always","onHover","never"],enumDescriptions:[p.localize(127,null),p.localize(128,null),p.localize(129,null)],description:p.localize(130,null)},"editor.experimentalInlineEdit.fontFamily":{type:"string",default:pe.fontFamily,description:p.localize(131,null)},"editor.experimentalInlineEdit.backgroundColoring":{type:"boolean",default:pe.backgroundColoring,description:p.localize(132,null)}})}validate(pe){if(!pe||typeof pe!="object")return this.defaultValue;const be=pe;return{enabled:n(be.enabled,this.defaultValue.enabled),showToolbar:o(be.showToolbar,this.defaultValue.showToolbar,["always","onHover","never"]),fontFamily:l.string(be.fontFamily,this.defaultValue.fontFamily),keepOnBlur:n(be.keepOnBlur,this.defaultValue.keepOnBlur),backgroundColoring:n(be.backgroundColoring,this.defaultValue.backgroundColoring)}}}class ce extends b{constructor(){const pe={enabled:L.EDITOR_MODEL_DEFAULTS.bracketPairColorizationOptions.enabled,independentColorPoolPerBracketType:L.EDITOR_MODEL_DEFAULTS.bracketPairColorizationOptions.independentColorPoolPerBracketType};super(15,"bracketPairColorization",pe,{"editor.bracketPairColorization.enabled":{type:"boolean",default:pe.enabled,markdownDescription:p.localize(133,null,"`#workbench.colorCustomizations#`")},"editor.bracketPairColorization.independentColorPoolPerBracketType":{type:"boolean",default:pe.independentColorPoolPerBracketType,description:p.localize(134,null)}})}validate(pe){if(!pe||typeof pe!="object")return this.defaultValue;const be=pe;return{enabled:n(be.enabled,this.defaultValue.enabled),independentColorPoolPerBracketType:n(be.independentColorPoolPerBracketType,this.defaultValue.independentColorPoolPerBracketType)}}}class le extends b{constructor(){const pe={bracketPairs:!1,bracketPairsHorizontal:"active",highlightActiveBracketPair:!0,indentation:!0,highlightActiveIndentation:!0};super(16,"guides",pe,{"editor.guides.bracketPairs":{type:["boolean","string"],enum:[!0,"active",!1],enumDescriptions:[p.localize(135,null),p.localize(136,null),p.localize(137,null)],default:pe.bracketPairs,description:p.localize(138,null)},"editor.guides.bracketPairsHorizontal":{type:["boolean","string"],enum:[!0,"active",!1],enumDescriptions:[p.localize(139,null),p.localize(140,null),p.localize(141,null)],default:pe.bracketPairsHorizontal,description:p.localize(142,null)},"editor.guides.highlightActiveBracketPair":{type:"boolean",default:pe.highlightActiveBracketPair,description:p.localize(143,null)},"editor.guides.indentation":{type:"boolean",default:pe.indentation,description:p.localize(144,null)},"editor.guides.highlightActiveIndentation":{type:["boolean","string"],enum:[!0,"always",!1],enumDescriptions:[p.localize(145,null),p.localize(146,null),p.localize(147,null)],default:pe.highlightActiveIndentation,description:p.localize(148,null)}})}validate(pe){if(!pe||typeof pe!="object")return this.defaultValue;const be=pe;return{bracketPairs:me(be.bracketPairs,this.defaultValue.bracketPairs,[!0,!1,"active"]),bracketPairsHorizontal:me(be.bracketPairsHorizontal,this.defaultValue.bracketPairsHorizontal,[!0,!1,"active"]),highlightActiveBracketPair:n(be.highlightActiveBracketPair,this.defaultValue.highlightActiveBracketPair),indentation:n(be.indentation,this.defaultValue.indentation),highlightActiveIndentation:me(be.highlightActiveIndentation,this.defaultValue.highlightActiveIndentation,[!0,!1,"always"])}}}function me(Ne,pe,be){const Re=be.indexOf(Ne);return Re===-1?pe:be[Re]}class ve extends b{constructor(){const pe={insertMode:"insert",filterGraceful:!0,snippetsPreventQuickSuggestions:!1,localityBonus:!1,shareSuggestSelections:!1,selectionMode:"always",showIcons:!0,showStatusBar:!1,preview:!1,previewMode:"subwordSmart",showInlineDetails:!0,showMethods:!0,showFunctions:!0,showConstructors:!0,showDeprecated:!0,matchOnWordStartOnly:!0,showFields:!0,showVariables:!0,showClasses:!0,showStructs:!0,showInterfaces:!0,showModules:!0,showProperties:!0,showEvents:!0,showOperators:!0,showUnits:!0,showValues:!0,showConstants:!0,showEnums:!0,showEnumMembers:!0,showKeywords:!0,showWords:!0,showColors:!0,showFiles:!0,showReferences:!0,showFolders:!0,showTypeParameters:!0,showSnippets:!0,showUsers:!0,showIssues:!0};super(118,"suggest",pe,{"editor.suggest.insertMode":{type:"string",enum:["insert","replace"],enumDescriptions:[p.localize(149,null),p.localize(150,null)],default:pe.insertMode,description:p.localize(151,null)},"editor.suggest.filterGraceful":{type:"boolean",default:pe.filterGraceful,description:p.localize(152,null)},"editor.suggest.localityBonus":{type:"boolean",default:pe.localityBonus,description:p.localize(153,null)},"editor.suggest.shareSuggestSelections":{type:"boolean",default:pe.shareSuggestSelections,markdownDescription:p.localize(154,null)},"editor.suggest.selectionMode":{type:"string",enum:["always","never","whenTriggerCharacter","whenQuickSuggestion"],enumDescriptions:[p.localize(155,null),p.localize(156,null),p.localize(157,null),p.localize(158,null)],default:pe.selectionMode,markdownDescription:p.localize(159,null)},"editor.suggest.snippetsPreventQuickSuggestions":{type:"boolean",default:pe.snippetsPreventQuickSuggestions,description:p.localize(160,null)},"editor.suggest.showIcons":{type:"boolean",default:pe.showIcons,description:p.localize(161,null)},"editor.suggest.showStatusBar":{type:"boolean",default:pe.showStatusBar,description:p.localize(162,null)},"editor.suggest.preview":{type:"boolean",default:pe.preview,description:p.localize(163,null)},"editor.suggest.showInlineDetails":{type:"boolean",default:pe.showInlineDetails,description:p.localize(164,null)},"editor.suggest.maxVisibleSuggestions":{type:"number",deprecationMessage:p.localize(165,null)},"editor.suggest.filteredTypes":{type:"object",deprecationMessage:p.localize(166,null)},"editor.suggest.showMethods":{type:"boolean",default:!0,markdownDescription:p.localize(167,null)},"editor.suggest.showFunctions":{type:"boolean",default:!0,markdownDescription:p.localize(168,null)},"editor.suggest.showConstructors":{type:"boolean",default:!0,markdownDescription:p.localize(169,null)},"editor.suggest.showDeprecated":{type:"boolean",default:!0,markdownDescription:p.localize(170,null)},"editor.suggest.matchOnWordStartOnly":{type:"boolean",default:!0,markdownDescription:p.localize(171,null)},"editor.suggest.showFields":{type:"boolean",default:!0,markdownDescription:p.localize(172,null)},"editor.suggest.showVariables":{type:"boolean",default:!0,markdownDescription:p.localize(173,null)},"editor.suggest.showClasses":{type:"boolean",default:!0,markdownDescription:p.localize(174,null)},"editor.suggest.showStructs":{type:"boolean",default:!0,markdownDescription:p.localize(175,null)},"editor.suggest.showInterfaces":{type:"boolean",default:!0,markdownDescription:p.localize(176,null)},"editor.suggest.showModules":{type:"boolean",default:!0,markdownDescription:p.localize(177,null)},"editor.suggest.showProperties":{type:"boolean",default:!0,markdownDescription:p.localize(178,null)},"editor.suggest.showEvents":{type:"boolean",default:!0,markdownDescription:p.localize(179,null)},"editor.suggest.showOperators":{type:"boolean",default:!0,markdownDescription:p.localize(180,null)},"editor.suggest.showUnits":{type:"boolean",default:!0,markdownDescription:p.localize(181,null)},"editor.suggest.showValues":{type:"boolean",default:!0,markdownDescription:p.localize(182,null)},"editor.suggest.showConstants":{type:"boolean",default:!0,markdownDescription:p.localize(183,null)},"editor.suggest.showEnums":{type:"boolean",default:!0,markdownDescription:p.localize(184,null)},"editor.suggest.showEnumMembers":{type:"boolean",default:!0,markdownDescription:p.localize(185,null)},"editor.suggest.showKeywords":{type:"boolean",default:!0,markdownDescription:p.localize(186,null)},"editor.suggest.showWords":{type:"boolean",default:!0,markdownDescription:p.localize(187,null)},"editor.suggest.showColors":{type:"boolean",default:!0,markdownDescription:p.localize(188,null)},"editor.suggest.showFiles":{type:"boolean",default:!0,markdownDescription:p.localize(189,null)},"editor.suggest.showReferences":{type:"boolean",default:!0,markdownDescription:p.localize(190,null)},"editor.suggest.showCustomcolors":{type:"boolean",default:!0,markdownDescription:p.localize(191,null)},"editor.suggest.showFolders":{type:"boolean",default:!0,markdownDescription:p.localize(192,null)},"editor.suggest.showTypeParameters":{type:"boolean",default:!0,markdownDescription:p.localize(193,null)},"editor.suggest.showSnippets":{type:"boolean",default:!0,markdownDescription:p.localize(194,null)},"editor.suggest.showUsers":{type:"boolean",default:!0,markdownDescription:p.localize(195,null)},"editor.suggest.showIssues":{type:"boolean",default:!0,markdownDescription:p.localize(196,null)}})}validate(pe){if(!pe||typeof pe!="object")return this.defaultValue;const be=pe;return{insertMode:o(be.insertMode,this.defaultValue.insertMode,["insert","replace"]),filterGraceful:n(be.filterGraceful,this.defaultValue.filterGraceful),snippetsPreventQuickSuggestions:n(be.snippetsPreventQuickSuggestions,this.defaultValue.filterGraceful),localityBonus:n(be.localityBonus,this.defaultValue.localityBonus),shareSuggestSelections:n(be.shareSuggestSelections,this.defaultValue.shareSuggestSelections),selectionMode:o(be.selectionMode,this.defaultValue.selectionMode,["always","never","whenQuickSuggestion","whenTriggerCharacter"]),showIcons:n(be.showIcons,this.defaultValue.showIcons),showStatusBar:n(be.showStatusBar,this.defaultValue.showStatusBar),preview:n(be.preview,this.defaultValue.preview),previewMode:o(be.previewMode,this.defaultValue.previewMode,["prefix","subword","subwordSmart"]),showInlineDetails:n(be.showInlineDetails,this.defaultValue.showInlineDetails),showMethods:n(be.showMethods,this.defaultValue.showMethods),showFunctions:n(be.showFunctions,this.defaultValue.showFunctions),showConstructors:n(be.showConstructors,this.defaultValue.showConstructors),showDeprecated:n(be.showDeprecated,this.defaultValue.showDeprecated),matchOnWordStartOnly:n(be.matchOnWordStartOnly,this.defaultValue.matchOnWordStartOnly),showFields:n(be.showFields,this.defaultValue.showFields),showVariables:n(be.showVariables,this.defaultValue.showVariables),showClasses:n(be.showClasses,this.defaultValue.showClasses),showStructs:n(be.showStructs,this.defaultValue.showStructs),showInterfaces:n(be.showInterfaces,this.defaultValue.showInterfaces),showModules:n(be.showModules,this.defaultValue.showModules),showProperties:n(be.showProperties,this.defaultValue.showProperties),showEvents:n(be.showEvents,this.defaultValue.showEvents),showOperators:n(be.showOperators,this.defaultValue.showOperators),showUnits:n(be.showUnits,this.defaultValue.showUnits),showValues:n(be.showValues,this.defaultValue.showValues),showConstants:n(be.showConstants,this.defaultValue.showConstants),showEnums:n(be.showEnums,this.defaultValue.showEnums),showEnumMembers:n(be.showEnumMembers,this.defaultValue.showEnumMembers),showKeywords:n(be.showKeywords,this.defaultValue.showKeywords),showWords:n(be.showWords,this.defaultValue.showWords),showColors:n(be.showColors,this.defaultValue.showColors),showFiles:n(be.showFiles,this.defaultValue.showFiles),showReferences:n(be.showReferences,this.defaultValue.showReferences),showFolders:n(be.showFolders,this.defaultValue.showFolders),showTypeParameters:n(be.showTypeParameters,this.defaultValue.showTypeParameters),showSnippets:n(be.showSnippets,this.defaultValue.showSnippets),showUsers:n(be.showUsers,this.defaultValue.showUsers),showIssues:n(be.showIssues,this.defaultValue.showIssues)}}}class Ce extends b{constructor(){super(113,"smartSelect",{selectLeadingAndTrailingWhitespace:!0,selectSubwords:!0},{"editor.smartSelect.selectLeadingAndTrailingWhitespace":{description:p.localize(197,null),default:!0,type:"boolean"},"editor.smartSelect.selectSubwords":{description:p.localize(198,null),default:!0,type:"boolean"}})}validate(pe){return!pe||typeof pe!="object"?this.defaultValue:{selectLeadingAndTrailingWhitespace:n(pe.selectLeadingAndTrailingWhitespace,this.defaultValue.selectLeadingAndTrailingWhitespace),selectSubwords:n(pe.selectSubwords,this.defaultValue.selectSubwords)}}}class Se extends b{constructor(){const pe=[];super(130,"wordSegmenterLocales",pe,{anyOf:[{description:p.localize(199,null),type:"string"},{description:p.localize(200,null),type:"array",items:{type:"string"}}]})}validate(pe){if(typeof pe=="string"&&(pe=[pe]),Array.isArray(pe)){const be=[];for(const Re of pe)if(typeof Re=="string")try{Intl.Segmenter.supportedLocalesOf(Re).length>0&&be.push(Re)}catch{}return be}return this.defaultValue}}class _e extends b{constructor(){super(138,"wrappingIndent",1,{"editor.wrappingIndent":{type:"string",enum:["none","same","indent","deepIndent"],enumDescriptions:[p.localize(201,null),p.localize(202,null),p.localize(203,null),p.localize(204,null)],description:p.localize(205,null),default:"same"}})}validate(pe){switch(pe){case"none":return 0;case"same":return 1;case"indent":return 2;case"deepIndent":return 3}return 1}compute(pe,be,Re){return be.get(2)===2?0:Re}}class Le extends i{constructor(){super(146)}compute(pe,be,Re){const We=be.get(145);return{isDominatedByLongLines:pe.isDominatedByLongLines,isWordWrapMinified:We.isWordWrapMinified,isViewportWrapping:We.isViewportWrapping,wrappingColumn:We.wrappingColumn}}}class ke extends b{constructor(){const pe={enabled:!0,showDropSelector:"afterDrop"};super(36,"dropIntoEditor",pe,{"editor.dropIntoEditor.enabled":{type:"boolean",default:pe.enabled,markdownDescription:p.localize(206,null)},"editor.dropIntoEditor.showDropSelector":{type:"string",markdownDescription:p.localize(207,null),enum:["afterDrop","never"],enumDescriptions:[p.localize(208,null),p.localize(209,null)],default:"afterDrop"}})}validate(pe){if(!pe||typeof pe!="object")return this.defaultValue;const be=pe;return{enabled:n(be.enabled,this.defaultValue.enabled),showDropSelector:o(be.showDropSelector,this.defaultValue.showDropSelector,["afterDrop","never"])}}}class Ae extends b{constructor(){const pe={enabled:!0,showPasteSelector:"afterPaste"};super(85,"pasteAs",pe,{"editor.pasteAs.enabled":{type:"boolean",default:pe.enabled,markdownDescription:p.localize(210,null)},"editor.pasteAs.showPasteSelector":{type:"string",markdownDescription:p.localize(211,null),enum:["afterPaste","never"],enumDescriptions:[p.localize(212,null),p.localize(213,null)],default:"afterPaste"}})}validate(pe){if(!pe||typeof pe!="object")return this.defaultValue;const be=pe;return{enabled:n(be.enabled,this.defaultValue.enabled),showPasteSelector:o(be.showPasteSelector,this.defaultValue.showPasteSelector,["afterPaste","never"])}}}const xe="Consolas, 'Courier New', monospace",He="Menlo, Monaco, 'Courier New', monospace",Be="'Droid Sans Mono', 'monospace', monospace";e.EDITOR_FONT_DEFAULTS={fontFamily:D.isMacintosh?He:D.isLinux?Be:xe,fontWeight:"normal",fontSize:D.isMacintosh?12:14,lineHeight:0,letterSpacing:0},e.editorOptionsRegistry=[];function Ee(Ne){return e.editorOptionsRegistry[Ne.id]=Ne,Ne}e.EditorOptions={acceptSuggestionOnCommitCharacter:Ee(new h(0,"acceptSuggestionOnCommitCharacter",!0,{markdownDescription:p.localize(214,null)})),acceptSuggestionOnEnter:Ee(new g(1,"acceptSuggestionOnEnter","on",["on","smart","off"],{markdownEnumDescriptions:["",p.localize(215,null),""],markdownDescription:p.localize(216,null)})),accessibilitySupport:Ee(new _),accessibilityPageSize:Ee(new u(3,"accessibilityPageSize",10,1,1073741824,{description:p.localize(217,null),tags:["accessibility"]})),ariaLabel:Ee(new l(4,"ariaLabel",p.localize(218,null))),ariaRequired:Ee(new h(5,"ariaRequired",!1,void 0)),screenReaderAnnounceInlineSuggestion:Ee(new h(8,"screenReaderAnnounceInlineSuggestion",!0,{description:p.localize(219,null),tags:["accessibility"]})),autoClosingBrackets:Ee(new g(6,"autoClosingBrackets","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",p.localize(220,null),p.localize(221,null),""],description:p.localize(222,null)})),autoClosingComments:Ee(new g(7,"autoClosingComments","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",p.localize(223,null),p.localize(224,null),""],description:p.localize(225,null)})),autoClosingDelete:Ee(new g(9,"autoClosingDelete","auto",["always","auto","never"],{enumDescriptions:["",p.localize(226,null),""],description:p.localize(227,null)})),autoClosingOvertype:Ee(new g(10,"autoClosingOvertype","auto",["always","auto","never"],{enumDescriptions:["",p.localize(228,null),""],description:p.localize(229,null)})),autoClosingQuotes:Ee(new g(11,"autoClosingQuotes","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",p.localize(230,null),p.localize(231,null),""],description:p.localize(232,null)})),autoIndent:Ee(new c(12,"autoIndent",4,"full",["none","keep","brackets","advanced","full"],f,{enumDescriptions:[p.localize(233,null),p.localize(234,null),p.localize(235,null),p.localize(236,null),p.localize(237,null)],description:p.localize(238,null)})),automaticLayout:Ee(new h(13,"automaticLayout",!1)),autoSurround:Ee(new g(14,"autoSurround","languageDefined",["languageDefined","quotes","brackets","never"],{enumDescriptions:[p.localize(239,null),p.localize(240,null),p.localize(241,null),""],description:p.localize(242,null)})),bracketPairColorization:Ee(new ce),bracketPairGuides:Ee(new le),stickyTabStops:Ee(new h(116,"stickyTabStops",!1,{description:p.localize(243,null)})),codeLens:Ee(new h(17,"codeLens",!0,{description:p.localize(244,null)})),codeLensFontFamily:Ee(new l(18,"codeLensFontFamily","",{description:p.localize(245,null)})),codeLensFontSize:Ee(new u(19,"codeLensFontSize",0,0,100,{type:"number",default:0,minimum:0,maximum:100,markdownDescription:p.localize(246,null)})),colorDecorators:Ee(new h(20,"colorDecorators",!0,{description:p.localize(247,null)})),colorDecoratorActivatedOn:Ee(new g(148,"colorDecoratorsActivatedOn","clickAndHover",["clickAndHover","hover","click"],{enumDescriptions:[p.localize(248,null),p.localize(249,null),p.localize(250,null)],description:p.localize(251,null)})),colorDecoratorsLimit:Ee(new u(21,"colorDecoratorsLimit",500,1,1e6,{markdownDescription:p.localize(252,null)})),columnSelection:Ee(new h(22,"columnSelection",!1,{description:p.localize(253,null)})),comments:Ee(new S),contextmenu:Ee(new h(24,"contextmenu",!0)),copyWithSyntaxHighlighting:Ee(new h(25,"copyWithSyntaxHighlighting",!0,{description:p.localize(254,null)})),cursorBlinking:Ee(new c(26,"cursorBlinking",1,"blink",["blink","smooth","phase","expand","solid"],I,{description:p.localize(255,null)})),cursorSmoothCaretAnimation:Ee(new g(27,"cursorSmoothCaretAnimation","off",["off","explicit","on"],{enumDescriptions:[p.localize(256,null),p.localize(257,null),p.localize(258,null)],description:p.localize(259,null)})),cursorStyle:Ee(new c(28,"cursorStyle",E.Line,"line",["line","block","underline","line-thin","block-outline","underline-thin"],T,{description:p.localize(260,null)})),cursorSurroundingLines:Ee(new u(29,"cursorSurroundingLines",0,0,1073741824,{description:p.localize(261,null)})),cursorSurroundingLinesStyle:Ee(new g(30,"cursorSurroundingLinesStyle","default",["default","all"],{enumDescriptions:[p.localize(262,null),p.localize(263,null)],markdownDescription:p.localize(264,null)})),cursorWidth:Ee(new u(31,"cursorWidth",0,0,1073741824,{markdownDescription:p.localize(265,null)})),disableLayerHinting:Ee(new h(32,"disableLayerHinting",!1)),disableMonospaceOptimizations:Ee(new h(33,"disableMonospaceOptimizations",!1)),domReadOnly:Ee(new h(34,"domReadOnly",!1)),dragAndDrop:Ee(new h(35,"dragAndDrop",!0,{description:p.localize(266,null)})),emptySelectionClipboard:Ee(new A),dropIntoEditor:Ee(new ke),stickyScroll:Ee(new se),experimentalWhitespaceRendering:Ee(new g(38,"experimentalWhitespaceRendering","svg",["svg","font","off"],{enumDescriptions:[p.localize(267,null),p.localize(268,null),p.localize(269,null)],description:p.localize(270,null)})),extraEditorClassName:Ee(new l(39,"extraEditorClassName","")),fastScrollSensitivity:Ee(new r(40,"fastScrollSensitivity",5,Ne=>Ne<=0?5:Ne,{markdownDescription:p.localize(271,null)})),find:Ee(new O),fixedOverflowWidgets:Ee(new h(42,"fixedOverflowWidgets",!1)),folding:Ee(new h(43,"folding",!0,{description:p.localize(272,null)})),foldingStrategy:Ee(new g(44,"foldingStrategy","auto",["auto","indentation"],{enumDescriptions:[p.localize(273,null),p.localize(274,null)],description:p.localize(275,null)})),foldingHighlight:Ee(new h(45,"foldingHighlight",!0,{description:p.localize(276,null)})),foldingImportsByDefault:Ee(new h(46,"foldingImportsByDefault",!1,{description:p.localize(277,null)})),foldingMaximumRegions:Ee(new u(47,"foldingMaximumRegions",5e3,10,65e3,{description:p.localize(278,null)})),unfoldOnClickAfterEndOfLine:Ee(new h(48,"unfoldOnClickAfterEndOfLine",!1,{description:p.localize(279,null)})),fontFamily:Ee(new l(49,"fontFamily",e.EDITOR_FONT_DEFAULTS.fontFamily,{description:p.localize(280,null)})),fontInfo:Ee(new x),fontLigatures2:Ee(new M),fontSize:Ee(new R),fontWeight:Ee(new B),fontVariations:Ee(new P),formatOnPaste:Ee(new h(55,"formatOnPaste",!1,{description:p.localize(281,null)})),formatOnType:Ee(new h(56,"formatOnType",!1,{description:p.localize(282,null)})),glyphMargin:Ee(new h(57,"glyphMargin",!0,{description:p.localize(283,null)})),gotoLocation:Ee(new H),hideCursorInOverviewRuler:Ee(new h(59,"hideCursorInOverviewRuler",!1,{description:p.localize(284,null)})),hover:Ee(new V),inDiffEditor:Ee(new h(61,"inDiffEditor",!1)),letterSpacing:Ee(new r(64,"letterSpacing",e.EDITOR_FONT_DEFAULTS.letterSpacing,Ne=>r.clamp(Ne,-5,20),{description:p.localize(285,null)})),lightbulb:Ee(new $),lineDecorationsWidth:Ee(new X),lineHeight:Ee(new Q),lineNumbers:Ee(new de),lineNumbersMinChars:Ee(new u(69,"lineNumbersMinChars",5,1,300)),linkedEditing:Ee(new h(70,"linkedEditing",!1,{description:p.localize(286,null)})),links:Ee(new h(71,"links",!0,{description:p.localize(287,null)})),matchBrackets:Ee(new g(72,"matchBrackets","always",["always","near","never"],{description:p.localize(288,null)})),minimap:Ee(new Z),mouseStyle:Ee(new g(74,"mouseStyle","text",["text","default","copy"])),mouseWheelScrollSensitivity:Ee(new r(75,"mouseWheelScrollSensitivity",1,Ne=>Ne===0?1:Ne,{markdownDescription:p.localize(289,null)})),mouseWheelZoom:Ee(new h(76,"mouseWheelZoom",!1,{markdownDescription:D.isMacintosh?p.localize(290,null):p.localize(291,null)})),multiCursorMergeOverlapping:Ee(new h(77,"multiCursorMergeOverlapping",!0,{description:p.localize(292,null)})),multiCursorModifier:Ee(new c(78,"multiCursorModifier","altKey","alt",["ctrlCmd","alt"],ae,{markdownEnumDescriptions:[p.localize(293,null),p.localize(294,null)],markdownDescription:p.localize(295,null)})),multiCursorPaste:Ee(new g(79,"multiCursorPaste","spread",["spread","full"],{markdownEnumDescriptions:[p.localize(296,null),p.localize(297,null)],markdownDescription:p.localize(298,null)})),multiCursorLimit:Ee(new u(80,"multiCursorLimit",1e4,1,1e5,{markdownDescription:p.localize(299,null)})),occurrencesHighlight:Ee(new g(81,"occurrencesHighlight","singleFile",["off","singleFile","multiFile"],{markdownEnumDescriptions:[p.localize(300,null),p.localize(301,null),p.localize(302,null)],markdownDescription:p.localize(303,null)})),overviewRulerBorder:Ee(new h(82,"overviewRulerBorder",!0,{description:p.localize(304,null)})),overviewRulerLanes:Ee(new u(83,"overviewRulerLanes",3,0,3)),padding:Ee(new ue),pasteAs:Ee(new Ae),parameterHints:Ee(new ge),peekWidgetDefaultFocus:Ee(new g(87,"peekWidgetDefaultFocus","tree",["tree","editor"],{enumDescriptions:[p.localize(305,null),p.localize(306,null)],description:p.localize(307,null)})),definitionLinkOpensInPeek:Ee(new h(88,"definitionLinkOpensInPeek",!1,{description:p.localize(308,null)})),quickSuggestions:Ee(new re),quickSuggestionsDelay:Ee(new u(90,"quickSuggestionsDelay",10,0,1073741824,{description:p.localize(309,null)})),readOnly:Ee(new h(91,"readOnly",!1)),readOnlyMessage:Ee(new z),renameOnType:Ee(new h(93,"renameOnType",!1,{description:p.localize(310,null),markdownDeprecationMessage:p.localize(311,null)})),renderControlCharacters:Ee(new h(94,"renderControlCharacters",!0,{description:p.localize(312,null),restricted:!0})),renderFinalNewline:Ee(new g(95,"renderFinalNewline",D.isLinux?"dimmed":"on",["off","on","dimmed"],{description:p.localize(313,null)})),renderLineHighlight:Ee(new g(96,"renderLineHighlight","line",["none","gutter","line","all"],{enumDescriptions:["","","",p.localize(314,null)],description:p.localize(315,null)})),renderLineHighlightOnlyWhenFocus:Ee(new h(97,"renderLineHighlightOnlyWhenFocus",!1,{description:p.localize(316,null)})),renderValidationDecorations:Ee(new g(98,"renderValidationDecorations","editable",["editable","on","off"])),renderWhitespace:Ee(new g(99,"renderWhitespace","selection",["none","boundary","selection","trailing","all"],{enumDescriptions:["",p.localize(317,null),p.localize(318,null),p.localize(319,null),""],description:p.localize(320,null)})),revealHorizontalRightPadding:Ee(new u(100,"revealHorizontalRightPadding",15,0,1e3)),roundedSelection:Ee(new h(101,"roundedSelection",!0,{description:p.localize(321,null)})),rulers:Ee(new W),scrollbar:Ee(new j),scrollBeyondLastColumn:Ee(new u(104,"scrollBeyondLastColumn",4,0,1073741824,{description:p.localize(322,null)})),scrollBeyondLastLine:Ee(new h(105,"scrollBeyondLastLine",!0,{description:p.localize(323,null)})),scrollPredominantAxis:Ee(new h(106,"scrollPredominantAxis",!0,{description:p.localize(324,null)})),selectionClipboard:Ee(new h(107,"selectionClipboard",!0,{description:p.localize(325,null),included:D.isLinux})),selectionHighlight:Ee(new h(108,"selectionHighlight",!0,{description:p.localize(326,null)})),selectOnLineNumbers:Ee(new h(109,"selectOnLineNumbers",!0)),showFoldingControls:Ee(new g(110,"showFoldingControls","mouseover",["always","never","mouseover"],{enumDescriptions:[p.localize(327,null),p.localize(328,null),p.localize(329,null)],description:p.localize(330,null)})),showUnused:Ee(new h(111,"showUnused",!0,{description:p.localize(331,null)})),showDeprecated:Ee(new h(140,"showDeprecated",!0,{description:p.localize(332,null)})),inlayHints:Ee(new F),snippetSuggestions:Ee(new g(112,"snippetSuggestions","inline",["top","bottom","inline","none"],{enumDescriptions:[p.localize(333,null),p.localize(334,null),p.localize(335,null),p.localize(336,null)],description:p.localize(337,null)})),smartSelect:Ee(new Ce),smoothScrolling:Ee(new h(114,"smoothScrolling",!1,{description:p.localize(338,null)})),stopRenderingLineAfter:Ee(new u(117,"stopRenderingLineAfter",1e4,-1,1073741824)),suggest:Ee(new ve),inlineSuggest:Ee(new oe),inlineEdit:Ee(new ne),inlineCompletionsAccessibilityVerbose:Ee(new h(149,"inlineCompletionsAccessibilityVerbose",!1,{description:p.localize(339,null)})),suggestFontSize:Ee(new u(119,"suggestFontSize",0,0,1e3,{markdownDescription:p.localize(340,null,"`0`","`#editor.fontSize#`")})),suggestLineHeight:Ee(new u(120,"suggestLineHeight",0,0,1e3,{markdownDescription:p.localize(341,null,"`0`","`#editor.lineHeight#`")})),suggestOnTriggerCharacters:Ee(new h(121,"suggestOnTriggerCharacters",!0,{description:p.localize(342,null)})),suggestSelection:Ee(new g(122,"suggestSelection","first",["first","recentlyUsed","recentlyUsedByPrefix"],{markdownEnumDescriptions:[p.localize(343,null),p.localize(344,null),p.localize(345,null)],description:p.localize(346,null)})),tabCompletion:Ee(new g(123,"tabCompletion","off",["on","off","onlySnippets"],{enumDescriptions:[p.localize(347,null),p.localize(348,null),p.localize(349,null)],description:p.localize(350,null)})),tabIndex:Ee(new u(124,"tabIndex",0,-1,1073741824)),unicodeHighlight:Ee(new G),unusualLineTerminators:Ee(new g(126,"unusualLineTerminators","prompt",["auto","off","prompt"],{enumDescriptions:[p.localize(351,null),p.localize(352,null),p.localize(353,null)],description:p.localize(354,null)})),useShadowDOM:Ee(new h(127,"useShadowDOM",!0)),useTabStops:Ee(new h(128,"useTabStops",!0,{description:p.localize(355,null)})),wordBreak:Ee(new g(129,"wordBreak","normal",["normal","keepAll"],{markdownEnumDescriptions:[p.localize(356,null),p.localize(357,null)],description:p.localize(358,null)})),wordSegmenterLocales:Ee(new Se),wordSeparators:Ee(new l(131,"wordSeparators",y.USUAL_WORD_SEPARATORS,{description:p.localize(359,null)})),wordWrap:Ee(new g(132,"wordWrap","off",["off","on","wordWrapColumn","bounded"],{markdownEnumDescriptions:[p.localize(360,null),p.localize(361,null),p.localize(362,null),p.localize(363,null)],description:p.localize(364,null)})),wordWrapBreakAfterCharacters:Ee(new l(133,"wordWrapBreakAfterCharacters"," 	})]?|/&.,;\xA2\xB0\u2032\u2033\u2030\u2103\u3001\u3002\uFF61\uFF64\uFFE0\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF01\uFF05\u30FB\uFF65\u309D\u309E\u30FD\u30FE\u30FC\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u3095\u3096\u31F0\u31F1\u31F2\u31F3\u31F4\u31F5\u31F6\u31F7\u31F8\u31F9\u31FA\u31FB\u31FC\u31FD\u31FE\u31FF\u3005\u303B\uFF67\uFF68\uFF69\uFF6A\uFF6B\uFF6C\uFF6D\uFF6E\uFF6F\uFF70\u201D\u3009\u300B\u300D\u300F\u3011\u3015\uFF09\uFF3D\uFF5D\uFF63")),wordWrapBreakBeforeCharacters:Ee(new l(134,"wordWrapBreakBeforeCharacters","([{\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B\uFF62\xA3\xA5\uFF04\uFFE1\uFFE5+\uFF0B")),wordWrapColumn:Ee(new u(135,"wordWrapColumn",80,1,1073741824,{markdownDescription:p.localize(365,null)})),wordWrapOverride1:Ee(new g(136,"wordWrapOverride1","inherit",["off","on","inherit"])),wordWrapOverride2:Ee(new g(137,"wordWrapOverride2","inherit",["off","on","inherit"])),editorClassName:Ee(new N),defaultColorDecorators:Ee(new h(147,"defaultColorDecorators",!1,{markdownDescription:p.localize(366,null)})),pixelRatio:Ee(new fe),tabFocusMode:Ee(new h(144,"tabFocusMode",!1,{markdownDescription:p.localize(367,null)})),layoutInfo:Ee(new q),wrappingInfo:Ee(new Le),wrappingIndent:Ee(new _e),wrappingStrategy:Ee(new K)}}),define(te[665],ie([1,0,6,40,11,70,38,9,5,215]),function(J,e,m,k,D,L,y,p,w,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewCursor=void 0;class b{constructor(i,t,n,h,v,u,d){this.top=i,this.left=t,this.paddingLeft=n,this.width=h,this.height=v,this.textContent=u,this.textContentClassName=d}}class a{constructor(i){this._context=i;const t=this._context.configuration.options,n=t.get(50);this._cursorStyle=t.get(28),this._lineHeight=t.get(67),this._typicalHalfwidthCharacterWidth=n.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(t.get(31),this._typicalHalfwidthCharacterWidth),this._isVisible=!0,this._domNode=(0,k.createFastDomNode)(document.createElement("div")),this._domNode.setClassName(`cursor ${C.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME}`),this._domNode.setHeight(this._lineHeight),this._domNode.setTop(0),this._domNode.setLeft(0),(0,L.applyFontInfo)(this._domNode,n),this._domNode.setDisplay("none"),this._position=new p.Position(1,1),this._lastRenderedContent="",this._renderData=null}getDomNode(){return this._domNode}getPosition(){return this._position}show(){this._isVisible||(this._domNode.setVisibility("inherit"),this._isVisible=!0)}hide(){this._isVisible&&(this._domNode.setVisibility("hidden"),this._isVisible=!1)}onConfigurationChanged(i){const t=this._context.configuration.options,n=t.get(50);return this._cursorStyle=t.get(28),this._lineHeight=t.get(67),this._typicalHalfwidthCharacterWidth=n.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(t.get(31),this._typicalHalfwidthCharacterWidth),(0,L.applyFontInfo)(this._domNode,n),!0}onCursorPositionChanged(i,t){return t?this._domNode.domNode.style.transitionProperty="none":this._domNode.domNode.style.transitionProperty="",this._position=i,!0}_getGraphemeAwarePosition(){const{lineNumber:i,column:t}=this._position,n=this._context.viewModel.getLineContent(i),[h,v]=D.getCharContainingOffset(n,t-1);return[new p.Position(i,h+1),n.substring(h,v)]}_prepareRender(i){let t="",n="";const[h,v]=this._getGraphemeAwarePosition();if(this._cursorStyle===y.TextEditorCursorStyle.Line||this._cursorStyle===y.TextEditorCursorStyle.LineThin){const c=i.visibleRangeForPosition(h);if(!c||c.outsideRenderedLine)return null;const f=m.getWindow(this._domNode.domNode);let _;this._cursorStyle===y.TextEditorCursorStyle.Line?(_=m.computeScreenAwareSize(f,this._lineCursorWidth>0?this._lineCursorWidth:2),_>2&&(t=v,n=this._getTokenClassName(h))):_=m.computeScreenAwareSize(f,1);let S=c.left,I=0;_>=2&&S>=1&&(I=1,S-=I);const E=i.getVerticalOffsetForLineNumber(h.lineNumber)-i.bigNumbersDelta;return new b(E,S,I,_,this._lineHeight,t,n)}const u=i.linesVisibleRangesForRange(new w.Range(h.lineNumber,h.column,h.lineNumber,h.column+v.length),!1);if(!u||u.length===0)return null;const d=u[0];if(d.outsideRenderedLine||d.ranges.length===0)return null;const r=d.ranges[0],l=v==="	"?this._typicalHalfwidthCharacterWidth:r.width<1?this._typicalHalfwidthCharacterWidth:r.width;this._cursorStyle===y.TextEditorCursorStyle.Block&&(t=v,n=this._getTokenClassName(h));let o=i.getVerticalOffsetForLineNumber(h.lineNumber)-i.bigNumbersDelta,g=this._lineHeight;return(this._cursorStyle===y.TextEditorCursorStyle.Underline||this._cursorStyle===y.TextEditorCursorStyle.UnderlineThin)&&(o+=this._lineHeight-2,g=2),new b(o,r.left,0,l,g,t,n)}_getTokenClassName(i){const t=this._context.viewModel.getViewLineData(i.lineNumber),n=t.tokens.findTokenIndexAtOffset(i.column-1);return t.tokens.getClassName(n)}prepareRender(i){this._renderData=this._prepareRender(i)}render(i){return this._renderData?(this._lastRenderedContent!==this._renderData.textContent&&(this._lastRenderedContent=this._renderData.textContent,this._domNode.domNode.textContent=this._lastRenderedContent),this._domNode.setClassName(`cursor ${C.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME} ${this._renderData.textContentClassName}`),this._domNode.setDisplay("block"),this._domNode.setTop(this._renderData.top),this._domNode.setLeft(this._renderData.left),this._domNode.setPaddingLeft(this._renderData.paddingLeft),this._domNode.setWidth(this._renderData.width),this._domNode.setLineHeight(this._renderData.height),this._domNode.setHeight(this._renderData.height),{domNode:this._domNode.domNode,position:this._position,contentLeft:this._renderData.left,height:this._renderData.height,width:2}):(this._domNode.setDisplay("none"),null)}}e.ViewCursor=a}),define(te[666],ie([1,0,32,296,38]),function(J,e,m,k,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffEditorOptions=void 0;class L{get editorOptions(){return this._options}constructor(w){this._diffEditorWidth=(0,m.observableValue)(this,0),this.couldShowInlineViewBecauseOfSize=(0,m.derived)(this,b=>this._options.read(b).renderSideBySide&&this._diffEditorWidth.read(b)<=this._options.read(b).renderSideBySideInlineBreakpoint),this.renderOverviewRuler=(0,m.derived)(this,b=>this._options.read(b).renderOverviewRuler),this.renderSideBySide=(0,m.derived)(this,b=>this._options.read(b).renderSideBySide&&!(this._options.read(b).useInlineViewWhenSpaceIsLimited&&this.couldShowInlineViewBecauseOfSize.read(b))),this.readOnly=(0,m.derived)(this,b=>this._options.read(b).readOnly),this.shouldRenderOldRevertArrows=(0,m.derived)(this,b=>!(!this._options.read(b).renderMarginRevertIcon||!this.renderSideBySide.read(b)||this.readOnly.read(b)||this.shouldRenderGutterMenu.read(b))),this.shouldRenderGutterMenu=(0,m.derived)(this,b=>this._options.read(b).renderGutterMenu),this.renderIndicators=(0,m.derived)(this,b=>this._options.read(b).renderIndicators),this.enableSplitViewResizing=(0,m.derived)(this,b=>this._options.read(b).enableSplitViewResizing),this.splitViewDefaultRatio=(0,m.derived)(this,b=>this._options.read(b).splitViewDefaultRatio),this.ignoreTrimWhitespace=(0,m.derived)(this,b=>this._options.read(b).ignoreTrimWhitespace),this.maxComputationTimeMs=(0,m.derived)(this,b=>this._options.read(b).maxComputationTime),this.showMoves=(0,m.derived)(this,b=>this._options.read(b).experimental.showMoves&&this.renderSideBySide.read(b)),this.isInEmbeddedEditor=(0,m.derived)(this,b=>this._options.read(b).isInEmbeddedEditor),this.diffWordWrap=(0,m.derived)(this,b=>this._options.read(b).diffWordWrap),this.originalEditable=(0,m.derived)(this,b=>this._options.read(b).originalEditable),this.diffCodeLens=(0,m.derived)(this,b=>this._options.read(b).diffCodeLens),this.accessibilityVerbose=(0,m.derived)(this,b=>this._options.read(b).accessibilityVerbose),this.diffAlgorithm=(0,m.derived)(this,b=>this._options.read(b).diffAlgorithm),this.showEmptyDecorations=(0,m.derived)(this,b=>this._options.read(b).experimental.showEmptyDecorations),this.onlyShowAccessibleDiffViewer=(0,m.derived)(this,b=>this._options.read(b).onlyShowAccessibleDiffViewer),this.hideUnchangedRegions=(0,m.derived)(this,b=>this._options.read(b).hideUnchangedRegions.enabled),this.hideUnchangedRegionsRevealLineCount=(0,m.derived)(this,b=>this._options.read(b).hideUnchangedRegions.revealLineCount),this.hideUnchangedRegionsContextLineCount=(0,m.derived)(this,b=>this._options.read(b).hideUnchangedRegions.contextLineCount),this.hideUnchangedRegionsMinimumLineCount=(0,m.derived)(this,b=>this._options.read(b).hideUnchangedRegions.minimumLineCount);const C={...w,...y(w,k.diffEditorDefaultOptions)};this._options=(0,m.observableValue)(this,C)}updateOptions(w){const C=y(w,this._options.get()),b={...this._options.get(),...w,...C};this._options.set(b,void 0,{changedOptions:w})}setWidth(w){this._diffEditorWidth.set(w,void 0)}}e.DiffEditorOptions=L;function y(p,w){var C,b,a,s,i,t,n,h;return{enableSplitViewResizing:(0,D.boolean)(p.enableSplitViewResizing,w.enableSplitViewResizing),splitViewDefaultRatio:(0,D.clampedFloat)(p.splitViewDefaultRatio,.5,.1,.9),renderSideBySide:(0,D.boolean)(p.renderSideBySide,w.renderSideBySide),renderMarginRevertIcon:(0,D.boolean)(p.renderMarginRevertIcon,w.renderMarginRevertIcon),maxComputationTime:(0,D.clampedInt)(p.maxComputationTime,w.maxComputationTime,0,1073741824),maxFileSize:(0,D.clampedInt)(p.maxFileSize,w.maxFileSize,0,1073741824),ignoreTrimWhitespace:(0,D.boolean)(p.ignoreTrimWhitespace,w.ignoreTrimWhitespace),renderIndicators:(0,D.boolean)(p.renderIndicators,w.renderIndicators),originalEditable:(0,D.boolean)(p.originalEditable,w.originalEditable),diffCodeLens:(0,D.boolean)(p.diffCodeLens,w.diffCodeLens),renderOverviewRuler:(0,D.boolean)(p.renderOverviewRuler,w.renderOverviewRuler),diffWordWrap:(0,D.stringSet)(p.diffWordWrap,w.diffWordWrap,["off","on","inherit"]),diffAlgorithm:(0,D.stringSet)(p.diffAlgorithm,w.diffAlgorithm,["legacy","advanced"],{smart:"legacy",experimental:"advanced"}),accessibilityVerbose:(0,D.boolean)(p.accessibilityVerbose,w.accessibilityVerbose),experimental:{showMoves:(0,D.boolean)((C=p.experimental)===null||C===void 0?void 0:C.showMoves,w.experimental.showMoves),showEmptyDecorations:(0,D.boolean)((b=p.experimental)===null||b===void 0?void 0:b.showEmptyDecorations,w.experimental.showEmptyDecorations)},hideUnchangedRegions:{enabled:(0,D.boolean)((s=(a=p.hideUnchangedRegions)===null||a===void 0?void 0:a.enabled)!==null&&s!==void 0?s:(i=p.experimental)===null||i===void 0?void 0:i.collapseUnchangedRegions,w.hideUnchangedRegions.enabled),contextLineCount:(0,D.clampedInt)((t=p.hideUnchangedRegions)===null||t===void 0?void 0:t.contextLineCount,w.hideUnchangedRegions.contextLineCount,0,1073741824),minimumLineCount:(0,D.clampedInt)((n=p.hideUnchangedRegions)===null||n===void 0?void 0:n.minimumLineCount,w.hideUnchangedRegions.minimumLineCount,0,1073741824),revealLineCount:(0,D.clampedInt)((h=p.hideUnchangedRegions)===null||h===void 0?void 0:h.revealLineCount,w.hideUnchangedRegions.revealLineCount,0,1073741824)},isInEmbeddedEditor:(0,D.boolean)(p.isInEmbeddedEditor,w.isInEmbeddedEditor),onlyShowAccessibleDiffViewer:(0,D.boolean)(p.onlyShowAccessibleDiffViewer,w.onlyShowAccessibleDiffViewer),renderSideBySideInlineBreakpoint:(0,D.clampedInt)(p.renderSideBySideInlineBreakpoint,w.renderSideBySideInlineBreakpoint,0,1073741824),useInlineViewWhenSpaceIsLimited:(0,D.boolean)(p.useInlineViewWhenSpaceIsLimited,w.useInlineViewWhenSpaceIsLimited),renderGutterMenu:(0,D.boolean)(p.renderGutterMenu,w.renderGutterMenu)}}}),define(te[251],ie([1,0,17,38,158]),function(J,e,m,k,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FontInfo=e.SERIALIZED_FONT_INFO_VERSION=e.BareFontInfo=void 0;const L=m.isMacintosh?1.5:1.35,y=8;class p{static createFromValidatedSettings(b,a,s){const i=b.get(49),t=b.get(53),n=b.get(52),h=b.get(51),v=b.get(54),u=b.get(67),d=b.get(64);return p._create(i,t,n,h,v,u,d,a,s)}static _create(b,a,s,i,t,n,h,v,u){n===0?n=L*s:n<y&&(n=n*s),n=Math.round(n),n<y&&(n=y);const d=1+(u?0:D.EditorZoom.getZoomLevel()*.1);return s*=d,n*=d,t===k.EditorFontVariations.TRANSLATE&&(a==="normal"||a==="bold"?t=k.EditorFontVariations.OFF:(t=`'wght' ${parseInt(a,10)}`,a="normal")),new p({pixelRatio:v,fontFamily:b,fontWeight:a,fontSize:s,fontFeatureSettings:i,fontVariationSettings:t,lineHeight:n,letterSpacing:h})}constructor(b){this._bareFontInfoBrand=void 0,this.pixelRatio=b.pixelRatio,this.fontFamily=String(b.fontFamily),this.fontWeight=String(b.fontWeight),this.fontSize=b.fontSize,this.fontFeatureSettings=b.fontFeatureSettings,this.fontVariationSettings=b.fontVariationSettings,this.lineHeight=b.lineHeight|0,this.letterSpacing=b.letterSpacing}getId(){return`${this.pixelRatio}-${this.fontFamily}-${this.fontWeight}-${this.fontSize}-${this.fontFeatureSettings}-${this.fontVariationSettings}-${this.lineHeight}-${this.letterSpacing}`}getMassagedFontFamily(){const b=k.EDITOR_FONT_DEFAULTS.fontFamily,a=p._wrapInQuotes(this.fontFamily);return b&&this.fontFamily!==b?`${a}, ${b}`:a}static _wrapInQuotes(b){return/[,"']/.test(b)?b:/[+ ]/.test(b)?`"${b}"`:b}}e.BareFontInfo=p,e.SERIALIZED_FONT_INFO_VERSION=2;class w extends p{constructor(b,a){super(b),this._editorStylingBrand=void 0,this.version=e.SERIALIZED_FONT_INFO_VERSION,this.isTrusted=a,this.isMonospace=b.isMonospace,this.typicalHalfwidthCharacterWidth=b.typicalHalfwidthCharacterWidth,this.typicalFullwidthCharacterWidth=b.typicalFullwidthCharacterWidth,this.canUseHalfwidthRightwardsArrow=b.canUseHalfwidthRightwardsArrow,this.spaceWidth=b.spaceWidth,this.middotWidth=b.middotWidth,this.wsmiddotWidth=b.wsmiddotWidth,this.maxDigitWidth=b.maxDigitWidth}equals(b){return this.fontFamily===b.fontFamily&&this.fontWeight===b.fontWeight&&this.fontSize===b.fontSize&&this.fontFeatureSettings===b.fontFeatureSettings&&this.fontVariationSettings===b.fontVariationSettings&&this.lineHeight===b.lineHeight&&this.letterSpacing===b.letterSpacing&&this.typicalHalfwidthCharacterWidth===b.typicalHalfwidthCharacterWidth&&this.typicalFullwidthCharacterWidth===b.typicalFullwidthCharacterWidth&&this.canUseHalfwidthRightwardsArrow===b.canUseHalfwidthRightwardsArrow&&this.spaceWidth===b.spaceWidth&&this.middotWidth===b.middotWidth&&this.wsmiddotWidth===b.wsmiddotWidth&&this.maxDigitWidth===b.maxDigitWidth}}e.FontInfo=w}),define(te[352],ie([1,0,6,240,7,2,514,38,251]),function(J,e,m,k,D,L,y,p,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FontMeasurements=e.FontMeasurementsImpl=void 0;class C extends L.Disposable{constructor(){super(...arguments),this._cache=new Map,this._evictUntrustedReadingsTimeout=-1,this._onDidChange=this._register(new D.Emitter),this.onDidChange=this._onDidChange.event}dispose(){this._evictUntrustedReadingsTimeout!==-1&&(clearTimeout(this._evictUntrustedReadingsTimeout),this._evictUntrustedReadingsTimeout=-1),super.dispose()}clearAllFontInfos(){this._cache.clear(),this._onDidChange.fire()}_ensureCache(s){const i=(0,m.getWindowId)(s);let t=this._cache.get(i);return t||(t=new b,this._cache.set(i,t)),t}_writeToCache(s,i,t){this._ensureCache(s).put(i,t),!t.isTrusted&&this._evictUntrustedReadingsTimeout===-1&&(this._evictUntrustedReadingsTimeout=s.setTimeout(()=>{this._evictUntrustedReadingsTimeout=-1,this._evictUntrustedReadings(s)},5e3))}_evictUntrustedReadings(s){const i=this._ensureCache(s),t=i.getValues();let n=!1;for(const h of t)h.isTrusted||(n=!0,i.remove(h));n&&this._onDidChange.fire()}readFontInfo(s,i){const t=this._ensureCache(s);if(!t.has(i)){let n=this._actualReadFontInfo(s,i);(n.typicalHalfwidthCharacterWidth<=2||n.typicalFullwidthCharacterWidth<=2||n.spaceWidth<=2||n.maxDigitWidth<=2)&&(n=new w.FontInfo({pixelRatio:k.PixelRatio.getInstance(s).value,fontFamily:n.fontFamily,fontWeight:n.fontWeight,fontSize:n.fontSize,fontFeatureSettings:n.fontFeatureSettings,fontVariationSettings:n.fontVariationSettings,lineHeight:n.lineHeight,letterSpacing:n.letterSpacing,isMonospace:n.isMonospace,typicalHalfwidthCharacterWidth:Math.max(n.typicalHalfwidthCharacterWidth,5),typicalFullwidthCharacterWidth:Math.max(n.typicalFullwidthCharacterWidth,5),canUseHalfwidthRightwardsArrow:n.canUseHalfwidthRightwardsArrow,spaceWidth:Math.max(n.spaceWidth,5),middotWidth:Math.max(n.middotWidth,5),wsmiddotWidth:Math.max(n.wsmiddotWidth,5),maxDigitWidth:Math.max(n.maxDigitWidth,5)},!1)),this._writeToCache(s,i,n)}return t.get(i)}_createRequest(s,i,t,n){const h=new y.CharWidthRequest(s,i);return t.push(h),n?.push(h),h}_actualReadFontInfo(s,i){const t=[],n=[],h=this._createRequest("n",0,t,n),v=this._createRequest("\uFF4D",0,t,null),u=this._createRequest(" ",0,t,n),d=this._createRequest("0",0,t,n),r=this._createRequest("1",0,t,n),l=this._createRequest("2",0,t,n),o=this._createRequest("3",0,t,n),g=this._createRequest("4",0,t,n),c=this._createRequest("5",0,t,n),f=this._createRequest("6",0,t,n),_=this._createRequest("7",0,t,n),S=this._createRequest("8",0,t,n),I=this._createRequest("9",0,t,n),E=this._createRequest("\u2192",0,t,n),T=this._createRequest("\uFFEB",0,t,null),N=this._createRequest("\xB7",0,t,n),A=this._createRequest("\u2E31",0,t,null),O="|/-_ilm%";for(let B=0,H=O.length;B<H;B++)this._createRequest(O.charAt(B),0,t,n),this._createRequest(O.charAt(B),1,t,n),this._createRequest(O.charAt(B),2,t,n);(0,y.readCharWidths)(s,i,t);const M=Math.max(d.width,r.width,l.width,o.width,g.width,c.width,f.width,_.width,S.width,I.width);let P=i.fontFeatureSettings===p.EditorFontLigatures.OFF;const x=n[0].width;for(let B=1,H=n.length;P&&B<H;B++){const V=x-n[B].width;if(V<-.001||V>.001){P=!1;break}}let R=!0;return P&&T.width!==x&&(R=!1),T.width>E.width&&(R=!1),new w.FontInfo({pixelRatio:k.PixelRatio.getInstance(s).value,fontFamily:i.fontFamily,fontWeight:i.fontWeight,fontSize:i.fontSize,fontFeatureSettings:i.fontFeatureSettings,fontVariationSettings:i.fontVariationSettings,lineHeight:i.lineHeight,letterSpacing:i.letterSpacing,isMonospace:P,typicalHalfwidthCharacterWidth:h.width,typicalFullwidthCharacterWidth:v.width,canUseHalfwidthRightwardsArrow:R,spaceWidth:u.width,middotWidth:N.width,wsmiddotWidth:A.width,maxDigitWidth:M},!0)}}e.FontMeasurementsImpl=C;class b{constructor(){this._keys=Object.create(null),this._values=Object.create(null)}has(s){const i=s.getId();return!!this._values[i]}get(s){const i=s.getId();return this._values[i]}put(s,i){const t=s.getId();this._keys[t]=s,this._values[t]=i}remove(s){const i=s.getId();delete this._keys[i],delete this._values[i]}getValues(){return Object.keys(this._keys).map(s=>this._values[s])}}e.FontMeasurements=new C}),define(te[353],ie([1,0,9,5,90,38]),function(J,e,m,k,D,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewModelDecorations=void 0,e.isModelDecorationVisible=p,e.isModelDecorationInComment=w,e.isModelDecorationInString=C;class y{constructor(s,i,t,n,h){this.editorId=s,this.model=i,this.configuration=t,this._linesCollection=n,this._coordinatesConverter=h,this._decorationsCache=Object.create(null),this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}_clearCachedModelDecorationsResolver(){this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}dispose(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}reset(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onModelDecorationsChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onLineMappingChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}_getOrCreateViewModelDecoration(s){const i=s.id;let t=this._decorationsCache[i];if(!t){const n=s.range,h=s.options;let v;if(h.isWholeLine){const u=this._coordinatesConverter.convertModelPositionToViewPosition(new m.Position(n.startLineNumber,1),0,!1,!0),d=this._coordinatesConverter.convertModelPositionToViewPosition(new m.Position(n.endLineNumber,this.model.getLineMaxColumn(n.endLineNumber)),1);v=new k.Range(u.lineNumber,u.column,d.lineNumber,d.column)}else v=this._coordinatesConverter.convertModelRangeToViewRange(n,1);t=new D.ViewModelDecoration(v,h),this._decorationsCache[i]=t}return t}getMinimapDecorationsInRange(s){return this._getDecorationsInRange(s,!0,!1).decorations}getDecorationsViewportData(s){let i=this._cachedModelDecorationsResolver!==null;return i=i&&s.equalsRange(this._cachedModelDecorationsResolverViewRange),i||(this._cachedModelDecorationsResolver=this._getDecorationsInRange(s,!1,!1),this._cachedModelDecorationsResolverViewRange=s),this._cachedModelDecorationsResolver}getInlineDecorationsOnLine(s,i=!1,t=!1){const n=new k.Range(s,this._linesCollection.getViewLineMinColumn(s),s,this._linesCollection.getViewLineMaxColumn(s));return this._getDecorationsInRange(n,i,t).inlineDecorations[0]}_getDecorationsInRange(s,i,t){const n=this._linesCollection.getDecorationsInRange(s,this.editorId,(0,L.filterValidationDecorations)(this.configuration.options),i,t),h=s.startLineNumber,v=s.endLineNumber,u=[];let d=0;const r=[];for(let l=h;l<=v;l++)r[l-h]=[];for(let l=0,o=n.length;l<o;l++){const g=n[l],c=g.options;if(!p(this.model,g))continue;const f=this._getOrCreateViewModelDecoration(g),_=f.range;if(u[d++]=f,c.inlineClassName){const S=new D.InlineDecoration(_,c.inlineClassName,c.inlineClassNameAffectsLetterSpacing?3:0),I=Math.max(h,_.startLineNumber),E=Math.min(v,_.endLineNumber);for(let T=I;T<=E;T++)r[T-h].push(S)}if(c.beforeContentClassName&&h<=_.startLineNumber&&_.startLineNumber<=v){const S=new D.InlineDecoration(new k.Range(_.startLineNumber,_.startColumn,_.startLineNumber,_.startColumn),c.beforeContentClassName,1);r[_.startLineNumber-h].push(S)}if(c.afterContentClassName&&h<=_.endLineNumber&&_.endLineNumber<=v){const S=new D.InlineDecoration(new k.Range(_.endLineNumber,_.endColumn,_.endLineNumber,_.endColumn),c.afterContentClassName,2);r[_.endLineNumber-h].push(S)}}return{decorations:u,inlineDecorations:r}}}e.ViewModelDecorations=y;function p(a,s){return!(s.options.hideInCommentTokens&&w(a,s)||s.options.hideInStringTokens&&C(a,s))}function w(a,s){return b(a,s.range,i=>i===1)}function C(a,s){return b(a,s.range,i=>i===2)}function b(a,s,i){for(let t=s.startLineNumber;t<=s.endLineNumber;t++){const n=a.tokenization.getLineTokens(t),h=t===s.startLineNumber,v=t===s.endLineNumber;let u=h?n.findTokenIndexAtOffset(s.startColumn-1):0;for(;u<n.getCount()&&!(v&&n.getStartOffset(u)>s.endColumn-1);){if(!i(n.getStandardTokenType(u)))return!1;u++}}return!0}}),define(te[667],ie([3,4]),function(J,e){return J.create("vs/editor/common/core/editorColorRegistry",e)}),define(te[668],ie([3,4]),function(J,e){return J.create("vs/editor/common/editorContextKeys",e)}),define(te[669],ie([3,4]),function(J,e){return J.create("vs/editor/common/languages",e)}),define(te[29],ie([1,0,26,22,5,556,669]),function(J,e,m,k,D,L,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlineEditTriggerKind=e.TokenizationRegistry=e.LazyTokenizationSupport=e.InlayHintKind=e.Command=e.NewSymbolNameTag=e.FoldingRangeKind=e.TextEdit=e.SymbolKinds=e.symbolKindNames=e.DocumentHighlightKind=e.SignatureHelpTriggerKind=e.DocumentPasteTriggerKind=e.SelectedSuggestionInfo=e.InlineCompletionTriggerKind=e.CompletionItemKinds=e.EncodedTokenizationResult=e.TokenizationResult=e.Token=void 0,e.isLocationLink=h,e.getAriaLabelForSymbol=v;class p{constructor(S,I,E){this.offset=S,this.type=I,this.language=E,this._tokenBrand=void 0}toString(){return"("+this.offset+", "+this.type+")"}}e.Token=p;class w{constructor(S,I){this.tokens=S,this.endState=I,this._tokenizationResultBrand=void 0}}e.TokenizationResult=w;class C{constructor(S,I){this.tokens=S,this.endState=I,this._encodedTokenizationResultBrand=void 0}}e.EncodedTokenizationResult=C;var b;(function(_){const S=new Map;S.set(0,m.Codicon.symbolMethod),S.set(1,m.Codicon.symbolFunction),S.set(2,m.Codicon.symbolConstructor),S.set(3,m.Codicon.symbolField),S.set(4,m.Codicon.symbolVariable),S.set(5,m.Codicon.symbolClass),S.set(6,m.Codicon.symbolStruct),S.set(7,m.Codicon.symbolInterface),S.set(8,m.Codicon.symbolModule),S.set(9,m.Codicon.symbolProperty),S.set(10,m.Codicon.symbolEvent),S.set(11,m.Codicon.symbolOperator),S.set(12,m.Codicon.symbolUnit),S.set(13,m.Codicon.symbolValue),S.set(15,m.Codicon.symbolEnum),S.set(14,m.Codicon.symbolConstant),S.set(15,m.Codicon.symbolEnum),S.set(16,m.Codicon.symbolEnumMember),S.set(17,m.Codicon.symbolKeyword),S.set(27,m.Codicon.symbolSnippet),S.set(18,m.Codicon.symbolText),S.set(19,m.Codicon.symbolColor),S.set(20,m.Codicon.symbolFile),S.set(21,m.Codicon.symbolReference),S.set(22,m.Codicon.symbolCustomColor),S.set(23,m.Codicon.symbolFolder),S.set(24,m.Codicon.symbolTypeParameter),S.set(25,m.Codicon.account),S.set(26,m.Codicon.issues);function I(N){let A=S.get(N);return A||(console.info("No codicon found for CompletionItemKind "+N),A=m.Codicon.symbolProperty),A}_.toIcon=I;const E=new Map;E.set("method",0),E.set("function",1),E.set("constructor",2),E.set("field",3),E.set("variable",4),E.set("class",5),E.set("struct",6),E.set("interface",7),E.set("module",8),E.set("property",9),E.set("event",10),E.set("operator",11),E.set("unit",12),E.set("value",13),E.set("constant",14),E.set("enum",15),E.set("enum-member",16),E.set("enumMember",16),E.set("keyword",17),E.set("snippet",27),E.set("text",18),E.set("color",19),E.set("file",20),E.set("reference",21),E.set("customcolor",22),E.set("folder",23),E.set("type-parameter",24),E.set("typeParameter",24),E.set("account",25),E.set("issue",26);function T(N,A){let O=E.get(N);return typeof O>"u"&&!A&&(O=9),O}_.fromString=T})(b||(e.CompletionItemKinds=b={}));var a;(function(_){_[_.Automatic=0]="Automatic",_[_.Explicit=1]="Explicit"})(a||(e.InlineCompletionTriggerKind=a={}));class s{constructor(S,I,E,T){this.range=S,this.text=I,this.completionKind=E,this.isSnippetText=T}equals(S){return D.Range.lift(this.range).equalsRange(S.range)&&this.text===S.text&&this.completionKind===S.completionKind&&this.isSnippetText===S.isSnippetText}}e.SelectedSuggestionInfo=s;var i;(function(_){_[_.Automatic=0]="Automatic",_[_.PasteAs=1]="PasteAs"})(i||(e.DocumentPasteTriggerKind=i={}));var t;(function(_){_[_.Invoke=1]="Invoke",_[_.TriggerCharacter=2]="TriggerCharacter",_[_.ContentChange=3]="ContentChange"})(t||(e.SignatureHelpTriggerKind=t={}));var n;(function(_){_[_.Text=0]="Text",_[_.Read=1]="Read",_[_.Write=2]="Write"})(n||(e.DocumentHighlightKind=n={}));function h(_){return _&&k.URI.isUri(_.uri)&&D.Range.isIRange(_.range)&&(D.Range.isIRange(_.originSelectionRange)||D.Range.isIRange(_.targetSelectionRange))}e.symbolKindNames={17:(0,y.localize)(0,null),16:(0,y.localize)(1,null),4:(0,y.localize)(2,null),13:(0,y.localize)(3,null),8:(0,y.localize)(4,null),9:(0,y.localize)(5,null),21:(0,y.localize)(6,null),23:(0,y.localize)(7,null),7:(0,y.localize)(8,null),0:(0,y.localize)(9,null),11:(0,y.localize)(10,null),10:(0,y.localize)(11,null),19:(0,y.localize)(12,null),5:(0,y.localize)(13,null),1:(0,y.localize)(14,null),2:(0,y.localize)(15,null),20:(0,y.localize)(16,null),15:(0,y.localize)(17,null),18:(0,y.localize)(18,null),24:(0,y.localize)(19,null),3:(0,y.localize)(20,null),6:(0,y.localize)(21,null),14:(0,y.localize)(22,null),22:(0,y.localize)(23,null),25:(0,y.localize)(24,null),12:(0,y.localize)(25,null)};function v(_,S){return(0,y.localize)(26,null,_,e.symbolKindNames[S])}var u;(function(_){const S=new Map;S.set(0,m.Codicon.symbolFile),S.set(1,m.Codicon.symbolModule),S.set(2,m.Codicon.symbolNamespace),S.set(3,m.Codicon.symbolPackage),S.set(4,m.Codicon.symbolClass),S.set(5,m.Codicon.symbolMethod),S.set(6,m.Codicon.symbolProperty),S.set(7,m.Codicon.symbolField),S.set(8,m.Codicon.symbolConstructor),S.set(9,m.Codicon.symbolEnum),S.set(10,m.Codicon.symbolInterface),S.set(11,m.Codicon.symbolFunction),S.set(12,m.Codicon.symbolVariable),S.set(13,m.Codicon.symbolConstant),S.set(14,m.Codicon.symbolString),S.set(15,m.Codicon.symbolNumber),S.set(16,m.Codicon.symbolBoolean),S.set(17,m.Codicon.symbolArray),S.set(18,m.Codicon.symbolObject),S.set(19,m.Codicon.symbolKey),S.set(20,m.Codicon.symbolNull),S.set(21,m.Codicon.symbolEnumMember),S.set(22,m.Codicon.symbolStruct),S.set(23,m.Codicon.symbolEvent),S.set(24,m.Codicon.symbolOperator),S.set(25,m.Codicon.symbolTypeParameter);function I(E){let T=S.get(E);return T||(console.info("No codicon found for SymbolKind "+E),T=m.Codicon.symbolProperty),T}_.toIcon=I})(u||(e.SymbolKinds=u={}));class d{}e.TextEdit=d;class r{static fromValue(S){switch(S){case"comment":return r.Comment;case"imports":return r.Imports;case"region":return r.Region}return new r(S)}constructor(S){this.value=S}}e.FoldingRangeKind=r,r.Comment=new r("comment"),r.Imports=new r("imports"),r.Region=new r("region");var l;(function(_){_[_.AIGenerated=1]="AIGenerated"})(l||(e.NewSymbolNameTag=l={}));var o;(function(_){function S(I){return!I||typeof I!="object"?!1:typeof I.id=="string"&&typeof I.title=="string"}_.is=S})(o||(e.Command=o={}));var g;(function(_){_[_.Type=1]="Type",_[_.Parameter=2]="Parameter"})(g||(e.InlayHintKind=g={}));class c{constructor(S){this.createSupport=S,this._tokenizationSupport=null}dispose(){this._tokenizationSupport&&this._tokenizationSupport.then(S=>{S&&S.dispose()})}get tokenizationSupport(){return this._tokenizationSupport||(this._tokenizationSupport=this.createSupport()),this._tokenizationSupport}}e.LazyTokenizationSupport=c,e.TokenizationRegistry=new L.TokenizationRegistry;var f;(function(_){_[_.Invoke=0]="Invoke",_[_.Automatic=1]="Automatic"})(f||(e.InlineEditTriggerKind=f={}))}),define(te[168],ie([1,0,29]),function(J,e,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NullState=void 0,e.nullTokenize=k,e.nullTokenizeEncoded=D,e.NullState=new class{clone(){return this}equals(L){return this===L}};function k(L,y){return new m.TokenizationResult([new m.Token(0,"",L)],y)}function D(L,y){const p=new Uint32Array(2);return p[0]=0,p[1]=(L<<0|0|0|32768|2<<24)>>>0,new m.EncodedTokenizationResult(p,y===null?e.NullState:y)}}),define(te[354],ie([1,0,11,102,29,168]),function(J,e,m,k,D,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.tokenizeToString=p,e.tokenizeLineToHTML=w,e._tokenizeToString=C;const y={getInitialState:()=>L.NullState,tokenizeEncoded:(b,a,s)=>(0,L.nullTokenizeEncoded)(0,s)};async function p(b,a,s){if(!s)return C(a,b.languageIdCodec,y);const i=await D.TokenizationRegistry.getOrCreate(s);return C(a,b.languageIdCodec,i||y)}function w(b,a,s,i,t,n,h){let v="<div>",u=i,d=0,r=!0;for(let l=0,o=a.getCount();l<o;l++){const g=a.getEndOffset(l);if(g<=i)continue;let c="";for(;u<g&&u<t;u++){const f=b.charCodeAt(u);switch(f){case 9:{let _=n-(u+d)%n;for(d+=_-1;_>0;)h&&r?(c+="&#160;",r=!1):(c+=" ",r=!0),_--;break}case 60:c+="&lt;",r=!1;break;case 62:c+="&gt;",r=!1;break;case 38:c+="&amp;",r=!1;break;case 0:c+="&#00;",r=!1;break;case 65279:case 8232:case 8233:case 133:c+="\uFFFD",r=!1;break;case 13:c+="&#8203",r=!1;break;case 32:h&&r?(c+="&#160;",r=!1):(c+=" ",r=!0);break;default:c+=String.fromCharCode(f),r=!1}}if(v+=`<span style="${a.getInlineStyle(l,s)}">${c}</span>`,g>t||u>=t)break}return v+="</div>",v}function C(b,a,s){let i='<div class="monaco-tokenized-source">';const t=m.splitLines(b);let n=s.getInitialState();for(let h=0,v=t.length;h<v;h++){const u=t[h];h>0&&(i+="<br/>");const d=s.tokenizeEncoded(u,!0,n);k.LineTokens.convertToEndOffset(d.tokens,u.length);const l=new k.LineTokens(d.tokens,u,a).inflate();let o=0;for(let g=0,c=l.getCount();g<c;g++){const f=l.getClassName(g),_=l.getEndOffset(g);i+=`<span class="${f}">${m.escape(u.substring(o,_))}</span>`,o=_}n=d.endState}return i+="</div>",i}}),define(te[670],ie([1,0,15,12,17,63,139,60,64,168,547,316,102]),function(J,e,m,k,D,L,y,p,w,C,b,a,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultBackgroundTokenizer=e.RangePriorityQueueImpl=e.TokenizationStateStore=e.TrackingTokenizationStateStore=e.TokenizerWithStateStoreAndTextModel=e.TokenizerWithStateStore=void 0;class i{constructor(l,o){this.tokenizationSupport=o,this.initialState=this.tokenizationSupport.getInitialState(),this.store=new n(l)}getStartState(l){return this.store.getStartState(l,this.initialState)}getFirstInvalidLine(){return this.store.getFirstInvalidLine(this.initialState)}}e.TokenizerWithStateStore=i;class t extends i{constructor(l,o,g,c){super(l,o),this._textModel=g,this._languageIdCodec=c}updateTokensUntilLine(l,o){const g=this._textModel.getLanguageId();for(;;){const c=this.getFirstInvalidLine();if(!c||c.lineNumber>o)break;const f=this._textModel.getLineContent(c.lineNumber),_=u(this._languageIdCodec,g,this.tokenizationSupport,f,!0,c.startState);l.add(c.lineNumber,_.tokens),this.store.setEndState(c.lineNumber,_.endState)}}getTokenTypeIfInsertingCharacter(l,o){const g=this.getStartState(l.lineNumber);if(!g)return 0;const c=this._textModel.getLanguageId(),f=this._textModel.getLineContent(l.lineNumber),_=f.substring(0,l.column-1)+o+f.substring(l.column-1),S=u(this._languageIdCodec,c,this.tokenizationSupport,_,!0,g),I=new s.LineTokens(S.tokens,_,this._languageIdCodec);if(I.getCount()===0)return 0;const E=I.findTokenIndexAtOffset(l.column-1);return I.getStandardTokenType(E)}tokenizeLineWithEdit(l,o,g){const c=l.lineNumber,f=l.column,_=this.getStartState(c);if(!_)return null;const S=this._textModel.getLineContent(c),I=S.substring(0,f-1)+g+S.substring(f-1+o),E=this._textModel.getLanguageIdAtPosition(c,0),T=u(this._languageIdCodec,E,this.tokenizationSupport,I,!0,_);return new s.LineTokens(T.tokens,I,this._languageIdCodec)}hasAccurateTokensForLine(l){const o=this.store.getFirstInvalidEndStateLineNumberOrMax();return l<o}isCheapToTokenize(l){const o=this.store.getFirstInvalidEndStateLineNumberOrMax();return l<o||l===o&&this._textModel.getLineLength(l)<2048}tokenizeHeuristically(l,o,g){if(g<=this.store.getFirstInvalidEndStateLineNumberOrMax())return{heuristicTokens:!1};if(o<=this.store.getFirstInvalidEndStateLineNumberOrMax())return this.updateTokensUntilLine(l,g),{heuristicTokens:!1};let c=this.guessStartState(o);const f=this._textModel.getLanguageId();for(let _=o;_<=g;_++){const S=this._textModel.getLineContent(_),I=u(this._languageIdCodec,f,this.tokenizationSupport,S,!0,c);l.add(_,I.tokens),c=I.endState}return{heuristicTokens:!0}}guessStartState(l){let o=this._textModel.getLineFirstNonWhitespaceColumn(l);const g=[];let c=null;for(let S=l-1;o>1&&S>=1;S--){const I=this._textModel.getLineFirstNonWhitespaceColumn(S);if(I!==0&&I<o&&(g.push(this._textModel.getLineContent(S)),o=I,c=this.getStartState(S),c))break}c||(c=this.tokenizationSupport.getInitialState()),g.reverse();const f=this._textModel.getLanguageId();let _=c;for(const S of g)_=u(this._languageIdCodec,f,this.tokenizationSupport,S,!1,_).endState;return _}}e.TokenizerWithStateStoreAndTextModel=t;class n{constructor(l){this.lineCount=l,this._tokenizationStateStore=new h,this._invalidEndStatesLineNumbers=new v,this._invalidEndStatesLineNumbers.addRange(new w.OffsetRange(1,l+1))}getEndState(l){return this._tokenizationStateStore.getEndState(l)}setEndState(l,o){if(!o)throw new k.BugIndicatingError("Cannot set null/undefined state");this._invalidEndStatesLineNumbers.delete(l);const g=this._tokenizationStateStore.setEndState(l,o);return g&&l<this.lineCount&&this._invalidEndStatesLineNumbers.addRange(new w.OffsetRange(l+1,l+2)),g}acceptChange(l,o){this.lineCount+=o-l.length,this._tokenizationStateStore.acceptChange(l,o),this._invalidEndStatesLineNumbers.addRangeAndResize(new w.OffsetRange(l.startLineNumber,l.endLineNumberExclusive),o)}acceptChanges(l){for(const o of l){const[g]=(0,y.countEOL)(o.text);this.acceptChange(new p.LineRange(o.range.startLineNumber,o.range.endLineNumber+1),g+1)}}invalidateEndStateRange(l){this._invalidEndStatesLineNumbers.addRange(new w.OffsetRange(l.startLineNumber,l.endLineNumberExclusive))}getFirstInvalidEndStateLineNumber(){return this._invalidEndStatesLineNumbers.min}getFirstInvalidEndStateLineNumberOrMax(){return this.getFirstInvalidEndStateLineNumber()||Number.MAX_SAFE_INTEGER}allStatesValid(){return this._invalidEndStatesLineNumbers.min===null}getStartState(l,o){return l===1?o:this.getEndState(l-1)}getFirstInvalidLine(l){const o=this.getFirstInvalidEndStateLineNumber();if(o===null)return null;const g=this.getStartState(o,l);if(!g)throw new k.BugIndicatingError("Start state must be defined");return{lineNumber:o,startState:g}}}e.TrackingTokenizationStateStore=n;class h{constructor(){this._lineEndStates=new b.FixedArray(null)}getEndState(l){return this._lineEndStates.get(l)}setEndState(l,o){const g=this._lineEndStates.get(l);return g&&g.equals(o)?!1:(this._lineEndStates.set(l,o),!0)}acceptChange(l,o){let g=l.length;o>0&&g>0&&(g--,o--),this._lineEndStates.replace(l.startLineNumber,g,o)}}e.TokenizationStateStore=h;class v{constructor(){this._ranges=[]}get min(){return this._ranges.length===0?null:this._ranges[0].start}delete(l){const o=this._ranges.findIndex(g=>g.contains(l));if(o!==-1){const g=this._ranges[o];g.start===l?g.endExclusive===l+1?this._ranges.splice(o,1):this._ranges[o]=new w.OffsetRange(l+1,g.endExclusive):g.endExclusive===l+1?this._ranges[o]=new w.OffsetRange(g.start,l):this._ranges.splice(o,1,new w.OffsetRange(g.start,l),new w.OffsetRange(l+1,g.endExclusive))}}addRange(l){w.OffsetRange.addRange(l,this._ranges)}addRangeAndResize(l,o){let g=0;for(;!(g>=this._ranges.length||l.start<=this._ranges[g].endExclusive);)g++;let c=g;for(;!(c>=this._ranges.length||l.endExclusive<this._ranges[c].start);)c++;const f=o-l.length;for(let _=c;_<this._ranges.length;_++)this._ranges[_]=this._ranges[_].delta(f);if(g===c){const _=new w.OffsetRange(l.start,l.start+o);_.isEmpty||this._ranges.splice(g,0,_)}else{const _=Math.min(l.start,this._ranges[g].start),S=Math.max(l.endExclusive,this._ranges[c-1].endExclusive),I=new w.OffsetRange(_,S+f);I.isEmpty?this._ranges.splice(g,c-g):this._ranges.splice(g,c-g,I)}}toString(){return this._ranges.map(l=>l.toString()).join(" + ")}}e.RangePriorityQueueImpl=v;function u(r,l,o,g,c,f){let _=null;if(o)try{_=o.tokenizeEncoded(g,c,f.clone())}catch(S){(0,k.onUnexpectedError)(S)}return _||(_=(0,C.nullTokenizeEncoded)(r.encodeLanguageId(l),f)),s.LineTokens.convertToEndOffset(_.tokens,g.length),_}class d{constructor(l,o){this._tokenizerWithStateStore=l,this._backgroundTokenStore=o,this._isDisposed=!1,this._isScheduled=!1}dispose(){this._isDisposed=!0}handleChanges(){this._beginBackgroundTokenization()}_beginBackgroundTokenization(){this._isScheduled||!this._tokenizerWithStateStore._textModel.isAttachedToEditor()||!this._hasLinesToTokenize()||(this._isScheduled=!0,(0,m.runWhenGlobalIdle)(l=>{this._isScheduled=!1,this._backgroundTokenizeWithDeadline(l)}))}_backgroundTokenizeWithDeadline(l){const o=Date.now()+l.timeRemaining(),g=()=>{this._isDisposed||!this._tokenizerWithStateStore._textModel.isAttachedToEditor()||!this._hasLinesToTokenize()||(this._backgroundTokenizeForAtLeast1ms(),Date.now()<o?(0,D.setTimeout0)(g):this._beginBackgroundTokenization())};g()}_backgroundTokenizeForAtLeast1ms(){const l=this._tokenizerWithStateStore._textModel.getLineCount(),o=new a.ContiguousMultilineTokensBuilder,g=L.StopWatch.create(!1);do if(g.elapsed()>1||this._tokenizeOneInvalidLine(o)>=l)break;while(this._hasLinesToTokenize());this._backgroundTokenStore.setTokens(o.finalize()),this.checkFinished()}_hasLinesToTokenize(){return this._tokenizerWithStateStore?!this._tokenizerWithStateStore.store.allStatesValid():!1}_tokenizeOneInvalidLine(l){var o;const g=(o=this._tokenizerWithStateStore)===null||o===void 0?void 0:o.getFirstInvalidLine();return g?(this._tokenizerWithStateStore.updateTokensUntilLine(l,g.lineNumber),g.lineNumber):this._tokenizerWithStateStore._textModel.getLineCount()+1}checkFinished(){this._isDisposed||this._tokenizerWithStateStore.store.allStatesValid()&&this._backgroundTokenStore.backgroundTokenizationFinished()}requestTokens(l,o){this._tokenizerWithStateStore.store.invalidateEndStateRange(new p.LineRange(l,o))}}e.DefaultBackgroundTokenizer=d}),define(te[671],ie([1,0,13,15,12,7,2,139,60,9,160,29,310,670,316,559,561]),function(J,e,m,k,D,L,y,p,w,C,b,a,s,i,t,n,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TokenizationTextModelPart=void 0;class v extends s.TextModelPart{constructor(l,o,g,c,f,_){super(),this._languageService=l,this._languageConfigurationService=o,this._textModel=g,this._bracketPairsTextModelPart=c,this._languageId=f,this._attachedViews=_,this._semanticTokens=new h.SparseTokensStore(this._languageService.languageIdCodec),this._onDidChangeLanguage=this._register(new L.Emitter),this.onDidChangeLanguage=this._onDidChangeLanguage.event,this._onDidChangeLanguageConfiguration=this._register(new L.Emitter),this.onDidChangeLanguageConfiguration=this._onDidChangeLanguageConfiguration.event,this._onDidChangeTokens=this._register(new L.Emitter),this.onDidChangeTokens=this._onDidChangeTokens.event,this.grammarTokens=this._register(new u(this._languageService.languageIdCodec,this._textModel,()=>this._languageId,this._attachedViews)),this._register(this._languageConfigurationService.onDidChange(S=>{S.affects(this._languageId)&&this._onDidChangeLanguageConfiguration.fire({})})),this._register(this.grammarTokens.onDidChangeTokens(S=>{this._emitModelTokensChangedEvent(S)})),this._register(this.grammarTokens.onDidChangeBackgroundTokenizationState(S=>{this._bracketPairsTextModelPart.handleDidChangeBackgroundTokenizationState()}))}handleDidChangeContent(l){if(l.isFlush)this._semanticTokens.flush();else if(!l.isEolChange)for(const o of l.changes){const[g,c,f]=(0,p.countEOL)(o.text);this._semanticTokens.acceptEdit(o.range,g,c,f,o.text.length>0?o.text.charCodeAt(0):0)}this.grammarTokens.handleDidChangeContent(l)}handleDidChangeAttached(){this.grammarTokens.handleDidChangeAttached()}getLineTokens(l){this.validateLineNumber(l);const o=this.grammarTokens.getLineTokens(l);return this._semanticTokens.addSparseTokens(l,o)}_emitModelTokensChangedEvent(l){this._textModel._isDisposing()||(this._bracketPairsTextModelPart.handleDidChangeTokens(l),this._onDidChangeTokens.fire(l))}validateLineNumber(l){if(l<1||l>this._textModel.getLineCount())throw new D.BugIndicatingError("Illegal value for lineNumber")}get hasTokens(){return this.grammarTokens.hasTokens}resetTokenization(){this.grammarTokens.resetTokenization()}get backgroundTokenizationState(){return this.grammarTokens.backgroundTokenizationState}forceTokenization(l){this.validateLineNumber(l),this.grammarTokens.forceTokenization(l)}hasAccurateTokensForLine(l){return this.validateLineNumber(l),this.grammarTokens.hasAccurateTokensForLine(l)}isCheapToTokenize(l){return this.validateLineNumber(l),this.grammarTokens.isCheapToTokenize(l)}tokenizeIfCheap(l){this.validateLineNumber(l),this.grammarTokens.tokenizeIfCheap(l)}getTokenTypeIfInsertingCharacter(l,o,g){return this.grammarTokens.getTokenTypeIfInsertingCharacter(l,o,g)}tokenizeLineWithEdit(l,o,g){return this.grammarTokens.tokenizeLineWithEdit(l,o,g)}setSemanticTokens(l,o){this._semanticTokens.set(l,o),this._emitModelTokensChangedEvent({semanticTokensApplied:l!==null,ranges:[{fromLineNumber:1,toLineNumber:this._textModel.getLineCount()}]})}hasCompleteSemanticTokens(){return this._semanticTokens.isComplete()}hasSomeSemanticTokens(){return!this._semanticTokens.isEmpty()}setPartialSemanticTokens(l,o){if(this.hasCompleteSemanticTokens())return;const g=this._textModel.validateRange(this._semanticTokens.setPartial(l,o));this._emitModelTokensChangedEvent({semanticTokensApplied:!0,ranges:[{fromLineNumber:g.startLineNumber,toLineNumber:g.endLineNumber}]})}getWordAtPosition(l){this.assertNotDisposed();const o=this._textModel.validatePosition(l),g=this._textModel.getLineContent(o.lineNumber),c=this.getLineTokens(o.lineNumber),f=c.findTokenIndexAtOffset(o.column-1),[_,S]=v._findLanguageBoundaries(c,f),I=(0,b.getWordAtText)(o.column,this.getLanguageConfiguration(c.getLanguageId(f)).getWordDefinition(),g.substring(_,S),_);if(I&&I.startColumn<=l.column&&l.column<=I.endColumn)return I;if(f>0&&_===o.column-1){const[E,T]=v._findLanguageBoundaries(c,f-1),N=(0,b.getWordAtText)(o.column,this.getLanguageConfiguration(c.getLanguageId(f-1)).getWordDefinition(),g.substring(E,T),E);if(N&&N.startColumn<=l.column&&l.column<=N.endColumn)return N}return null}getLanguageConfiguration(l){return this._languageConfigurationService.getLanguageConfiguration(l)}static _findLanguageBoundaries(l,o){const g=l.getLanguageId(o);let c=0;for(let _=o;_>=0&&l.getLanguageId(_)===g;_--)c=l.getStartOffset(_);let f=l.getLineContent().length;for(let _=o,S=l.getCount();_<S&&l.getLanguageId(_)===g;_++)f=l.getEndOffset(_);return[c,f]}getWordUntilPosition(l){const o=this.getWordAtPosition(l);return o?{word:o.word.substr(0,l.column-o.startColumn),startColumn:o.startColumn,endColumn:l.column}:{word:"",startColumn:l.column,endColumn:l.column}}getLanguageId(){return this._languageId}getLanguageIdAtPosition(l,o){const g=this._textModel.validatePosition(new C.Position(l,o)),c=this.getLineTokens(g.lineNumber);return c.getLanguageId(c.findTokenIndexAtOffset(g.column-1))}setLanguageId(l,o="api"){if(this._languageId===l)return;const g={oldLanguage:this._languageId,newLanguage:l,source:o};this._languageId=l,this._bracketPairsTextModelPart.handleDidChangeLanguage(g),this.grammarTokens.resetTokenization(),this._onDidChangeLanguage.fire(g),this._onDidChangeLanguageConfiguration.fire({})}}e.TokenizationTextModelPart=v;class u extends y.Disposable{get backgroundTokenizationState(){return this._backgroundTokenizationState}constructor(l,o,g,c){super(),this._languageIdCodec=l,this._textModel=o,this.getLanguageId=g,this._tokenizer=null,this._defaultBackgroundTokenizer=null,this._backgroundTokenizer=this._register(new y.MutableDisposable),this._tokens=new n.ContiguousTokensStore(this._languageIdCodec),this._debugBackgroundTokenizer=this._register(new y.MutableDisposable),this._backgroundTokenizationState=1,this._onDidChangeBackgroundTokenizationState=this._register(new L.Emitter),this.onDidChangeBackgroundTokenizationState=this._onDidChangeBackgroundTokenizationState.event,this._onDidChangeTokens=this._register(new L.Emitter),this.onDidChangeTokens=this._onDidChangeTokens.event,this._attachedViewStates=this._register(new y.DisposableMap),this._register(a.TokenizationRegistry.onDidChange(f=>{const _=this.getLanguageId();f.changedLanguages.indexOf(_)!==-1&&this.resetTokenization()})),this.resetTokenization(),this._register(c.onDidChangeVisibleRanges(({view:f,state:_})=>{if(_){let S=this._attachedViewStates.get(f);S||(S=new d(()=>this.refreshRanges(S.lineRanges)),this._attachedViewStates.set(f,S)),S.handleStateChange(_)}else this._attachedViewStates.deleteAndDispose(f)}))}resetTokenization(l=!0){var o;this._tokens.flush(),(o=this._debugBackgroundTokens)===null||o===void 0||o.flush(),this._debugBackgroundStates&&(this._debugBackgroundStates=new i.TrackingTokenizationStateStore(this._textModel.getLineCount())),l&&this._onDidChangeTokens.fire({semanticTokensApplied:!1,ranges:[{fromLineNumber:1,toLineNumber:this._textModel.getLineCount()}]});const g=()=>{if(this._textModel.isTooLargeForTokenization())return[null,null];const _=a.TokenizationRegistry.get(this.getLanguageId());if(!_)return[null,null];let S;try{S=_.getInitialState()}catch(I){return(0,D.onUnexpectedError)(I),[null,null]}return[_,S]},[c,f]=g();if(c&&f?this._tokenizer=new i.TokenizerWithStateStoreAndTextModel(this._textModel.getLineCount(),c,this._textModel,this._languageIdCodec):this._tokenizer=null,this._backgroundTokenizer.clear(),this._defaultBackgroundTokenizer=null,this._tokenizer){const _={setTokens:S=>{this.setTokens(S)},backgroundTokenizationFinished:()=>{if(this._backgroundTokenizationState===2)return;const S=2;this._backgroundTokenizationState=S,this._onDidChangeBackgroundTokenizationState.fire()},setEndState:(S,I)=>{var E;if(!this._tokenizer)return;const T=this._tokenizer.store.getFirstInvalidEndStateLineNumber();T!==null&&S>=T&&((E=this._tokenizer)===null||E===void 0||E.store.setEndState(S,I))}};c&&c.createBackgroundTokenizer&&!c.backgroundTokenizerShouldOnlyVerifyTokens&&(this._backgroundTokenizer.value=c.createBackgroundTokenizer(this._textModel,_)),!this._backgroundTokenizer.value&&!this._textModel.isTooLargeForTokenization()&&(this._backgroundTokenizer.value=this._defaultBackgroundTokenizer=new i.DefaultBackgroundTokenizer(this._tokenizer,_),this._defaultBackgroundTokenizer.handleChanges()),c?.backgroundTokenizerShouldOnlyVerifyTokens&&c.createBackgroundTokenizer?(this._debugBackgroundTokens=new n.ContiguousTokensStore(this._languageIdCodec),this._debugBackgroundStates=new i.TrackingTokenizationStateStore(this._textModel.getLineCount()),this._debugBackgroundTokenizer.clear(),this._debugBackgroundTokenizer.value=c.createBackgroundTokenizer(this._textModel,{setTokens:S=>{var I;(I=this._debugBackgroundTokens)===null||I===void 0||I.setMultilineTokens(S,this._textModel)},backgroundTokenizationFinished(){},setEndState:(S,I)=>{var E;(E=this._debugBackgroundStates)===null||E===void 0||E.setEndState(S,I)}})):(this._debugBackgroundTokens=void 0,this._debugBackgroundStates=void 0,this._debugBackgroundTokenizer.value=void 0)}this.refreshAllVisibleLineTokens()}handleDidChangeAttached(){var l;(l=this._defaultBackgroundTokenizer)===null||l===void 0||l.handleChanges()}handleDidChangeContent(l){var o,g,c;if(l.isFlush)this.resetTokenization(!1);else if(!l.isEolChange){for(const f of l.changes){const[_,S]=(0,p.countEOL)(f.text);this._tokens.acceptEdit(f.range,_,S),(o=this._debugBackgroundTokens)===null||o===void 0||o.acceptEdit(f.range,_,S)}(g=this._debugBackgroundStates)===null||g===void 0||g.acceptChanges(l.changes),this._tokenizer&&this._tokenizer.store.acceptChanges(l.changes),(c=this._defaultBackgroundTokenizer)===null||c===void 0||c.handleChanges()}}setTokens(l){const{changes:o}=this._tokens.setMultilineTokens(l,this._textModel);return o.length>0&&this._onDidChangeTokens.fire({semanticTokensApplied:!1,ranges:o}),{changes:o}}refreshAllVisibleLineTokens(){const l=w.LineRange.joinMany([...this._attachedViewStates].map(([o,g])=>g.lineRanges));this.refreshRanges(l)}refreshRanges(l){for(const o of l)this.refreshRange(o.startLineNumber,o.endLineNumberExclusive-1)}refreshRange(l,o){var g,c;if(!this._tokenizer)return;l=Math.max(1,Math.min(this._textModel.getLineCount(),l)),o=Math.min(this._textModel.getLineCount(),o);const f=new t.ContiguousMultilineTokensBuilder,{heuristicTokens:_}=this._tokenizer.tokenizeHeuristically(f,l,o),S=this.setTokens(f.finalize());if(_)for(const I of S.changes)(g=this._backgroundTokenizer.value)===null||g===void 0||g.requestTokens(I.fromLineNumber,I.toLineNumber+1);(c=this._defaultBackgroundTokenizer)===null||c===void 0||c.checkFinished()}forceTokenization(l){var o,g;const c=new t.ContiguousMultilineTokensBuilder;(o=this._tokenizer)===null||o===void 0||o.updateTokensUntilLine(c,l),this.setTokens(c.finalize()),(g=this._defaultBackgroundTokenizer)===null||g===void 0||g.checkFinished()}hasAccurateTokensForLine(l){return this._tokenizer?this._tokenizer.hasAccurateTokensForLine(l):!0}isCheapToTokenize(l){return this._tokenizer?this._tokenizer.isCheapToTokenize(l):!0}tokenizeIfCheap(l){this.isCheapToTokenize(l)&&this.forceTokenization(l)}getLineTokens(l){var o;const g=this._textModel.getLineContent(l),c=this._tokens.getTokens(this._textModel.getLanguageId(),l-1,g);if(this._debugBackgroundTokens&&this._debugBackgroundStates&&this._tokenizer&&this._debugBackgroundStates.getFirstInvalidEndStateLineNumberOrMax()>l&&this._tokenizer.store.getFirstInvalidEndStateLineNumberOrMax()>l){const f=this._debugBackgroundTokens.getTokens(this._textModel.getLanguageId(),l-1,g);!c.equals(f)&&(!((o=this._debugBackgroundTokenizer.value)===null||o===void 0)&&o.reportMismatchingTokens)&&this._debugBackgroundTokenizer.value.reportMismatchingTokens(l)}return c}getTokenTypeIfInsertingCharacter(l,o,g){if(!this._tokenizer)return 0;const c=this._textModel.validatePosition(new C.Position(l,o));return this.forceTokenization(c.lineNumber),this._tokenizer.getTokenTypeIfInsertingCharacter(c,g)}tokenizeLineWithEdit(l,o,g){if(!this._tokenizer)return null;const c=this._textModel.validatePosition(l);return this.forceTokenization(c.lineNumber),this._tokenizer.tokenizeLineWithEdit(c,o,g)}get hasTokens(){return this._tokens.hasTokens}}class d extends y.Disposable{get lineRanges(){return this._lineRanges}constructor(l){super(),this._refreshTokens=l,this.runner=this._register(new k.RunOnceScheduler(()=>this.update(),50)),this._computedLineRanges=[],this._lineRanges=[]}update(){(0,m.equals)(this._computedLineRanges,this._lineRanges,(l,o)=>l.equals(o))||(this._computedLineRanges=this._lineRanges,this._refreshTokens())}handleStateChange(l){this._lineRanges=l.visibleLineRanges,l.stabilized?(this.runner.cancel(),this.update()):this.runner.schedule()}}}),define(te[355],ie([1,0,20,7,68,22,9,5,24,29,227]),function(J,e,m,k,D,L,y,p,w,C,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.KeyMod=void 0,e.createMonacoBaseAPI=s;class a{static chord(t,n){return(0,D.KeyChord)(t,n)}}e.KeyMod=a,a.CtrlCmd=2048,a.Shift=1024,a.Alt=512,a.WinCtrl=256;function s(){return{editor:void 0,languages:void 0,CancellationTokenSource:m.CancellationTokenSource,Emitter:k.Emitter,KeyCode:b.KeyCode,KeyMod:a,Position:y.Position,Range:p.Range,Selection:w.Selection,SelectionDirection:b.SelectionDirection,MarkerSeverity:b.MarkerSeverity,MarkerTag:b.MarkerTag,Uri:L.URI,Token:C.Token}}}),define(te[672],ie([1,0,182,22,9,5,551,160,534,540,355,63,314,531,55,533,553]),function(J,e,m,k,D,L,y,p,w,C,b,a,s,i,t,n,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorSimpleWorker=void 0,e.create=d;class v extends y.MirrorTextModel{get uri(){return this._uri}get eol(){return this._eol}getValue(){return this.getText()}findMatches(l){const o=[];for(let g=0;g<this._lines.length;g++){const c=this._lines[g],f=this.offsetAt(new D.Position(g+1,1)),_=c.matchAll(l);for(const S of _)(S.index||S.index===0)&&(S.index=S.index+f),o.push(S)}return o}getLinesContent(){return this._lines.slice(0)}getLineCount(){return this._lines.length}getLineContent(l){return this._lines[l-1]}getWordAtPosition(l,o){const g=(0,p.getWordAtText)(l.column,(0,p.ensureValidWordDefinition)(o),this._lines[l.lineNumber-1],0);return g?new L.Range(l.lineNumber,g.startColumn,l.lineNumber,g.endColumn):null}words(l){const o=this._lines,g=this._wordenize.bind(this);let c=0,f="",_=0,S=[];return{*[Symbol.iterator](){for(;;)if(_<S.length){const I=f.substring(S[_].start,S[_].end);_+=1,yield I}else if(c<o.length)f=o[c],S=g(f,l),_=0,c+=1;else break}}}getLineWords(l,o){const g=this._lines[l-1],c=this._wordenize(g,o),f=[];for(const _ of c)f.push({word:g.substring(_.start,_.end),startColumn:_.start+1,endColumn:_.end+1});return f}_wordenize(l,o){const g=[];let c;for(o.lastIndex=0;(c=o.exec(l))&&c[0].length!==0;)g.push({start:c.index,end:c.index+c[0].length});return g}getValueInRange(l){if(l=this._validateRange(l),l.startLineNumber===l.endLineNumber)return this._lines[l.startLineNumber-1].substring(l.startColumn-1,l.endColumn-1);const o=this._eol,g=l.startLineNumber-1,c=l.endLineNumber-1,f=[];f.push(this._lines[g].substring(l.startColumn-1));for(let _=g+1;_<c;_++)f.push(this._lines[_]);return f.push(this._lines[c].substring(0,l.endColumn-1)),f.join(o)}offsetAt(l){return l=this._validatePosition(l),this._ensureLineStarts(),this._lineStarts.getPrefixSum(l.lineNumber-2)+(l.column-1)}positionAt(l){l=Math.floor(l),l=Math.max(0,l),this._ensureLineStarts();const o=this._lineStarts.getIndexOf(l),g=this._lines[o.index].length;return{lineNumber:1+o.index,column:1+Math.min(o.remainder,g)}}_validateRange(l){const o=this._validatePosition({lineNumber:l.startLineNumber,column:l.startColumn}),g=this._validatePosition({lineNumber:l.endLineNumber,column:l.endColumn});return o.lineNumber!==l.startLineNumber||o.column!==l.startColumn||g.lineNumber!==l.endLineNumber||g.column!==l.endColumn?{startLineNumber:o.lineNumber,startColumn:o.column,endLineNumber:g.lineNumber,endColumn:g.column}:l}_validatePosition(l){if(!D.Position.isIPosition(l))throw new Error("bad position");let{lineNumber:o,column:g}=l,c=!1;if(o<1)o=1,g=1,c=!0;else if(o>this._lines.length)o=this._lines.length,g=this._lines[o-1].length+1,c=!0;else{const f=this._lines[o-1].length+1;g<1?(g=1,c=!0):g>f&&(g=f,c=!0)}return c?{lineNumber:o,column:g}:l}}class u{constructor(l,o){this._host=l,this._models=Object.create(null),this._foreignModuleFactory=o,this._foreignModule=null}dispose(){this._models=Object.create(null)}_getModel(l){return this._models[l]}_getModels(){const l=[];return Object.keys(this._models).forEach(o=>l.push(this._models[o])),l}acceptNewModel(l){this._models[l.url]=new v(k.URI.parse(l.url),l.lines,l.EOL,l.versionId)}acceptModelChanged(l,o){if(!this._models[l])return;this._models[l].onEvents(o)}acceptRemovedModel(l){this._models[l]&&delete this._models[l]}async computeUnicodeHighlights(l,o,g){const c=this._getModel(l);return c?s.UnicodeTextModelHighlighter.computeUnicodeHighlights(c,o,g):{ranges:[],hasMore:!1,ambiguousCharacterCount:0,invisibleCharacterCount:0,nonBasicAsciiCharacterCount:0}}async findSectionHeaders(l,o){const g=this._getModel(l);return g?(0,h.findSectionHeaders)(g,o):[]}async computeDiff(l,o,g,c){const f=this._getModel(l),_=this._getModel(o);return!f||!_?null:u.computeDiff(f,_,g,c)}static computeDiff(l,o,g,c){const f=c==="advanced"?i.linesDiffComputers.getDefault():i.linesDiffComputers.getLegacy(),_=l.getLinesContent(),S=o.getLinesContent(),I=f.computeDiff(_,S,g),E=I.changes.length>0?!1:this._modelsAreIdentical(l,o);function T(N){return N.map(A=>{var O;return[A.original.startLineNumber,A.original.endLineNumberExclusive,A.modified.startLineNumber,A.modified.endLineNumberExclusive,(O=A.innerChanges)===null||O===void 0?void 0:O.map(M=>[M.originalRange.startLineNumber,M.originalRange.startColumn,M.originalRange.endLineNumber,M.originalRange.endColumn,M.modifiedRange.startLineNumber,M.modifiedRange.startColumn,M.modifiedRange.endLineNumber,M.modifiedRange.endColumn])]})}return{identical:E,quitEarly:I.hitTimeout,changes:T(I.changes),moves:I.moves.map(N=>[N.lineRangeMapping.original.startLineNumber,N.lineRangeMapping.original.endLineNumberExclusive,N.lineRangeMapping.modified.startLineNumber,N.lineRangeMapping.modified.endLineNumberExclusive,T(N.changes)])}}static _modelsAreIdentical(l,o){const g=l.getLineCount(),c=o.getLineCount();if(g!==c)return!1;for(let f=1;f<=g;f++){const _=l.getLineContent(f),S=o.getLineContent(f);if(_!==S)return!1}return!0}async computeMoreMinimalEdits(l,o,g){const c=this._getModel(l);if(!c)return o;const f=[];let _;o=o.slice(0).sort((I,E)=>{if(I.range&&E.range)return L.Range.compareRangesUsingStarts(I.range,E.range);const T=I.range?0:1,N=E.range?0:1;return T-N});let S=0;for(let I=1;I<o.length;I++)L.Range.getEndPosition(o[S].range).equals(L.Range.getStartPosition(o[I].range))?(o[S].range=L.Range.fromPositions(L.Range.getStartPosition(o[S].range),L.Range.getEndPosition(o[I].range)),o[S].text+=o[I].text):(S++,o[S]=o[I]);o.length=S+1;for(let{range:I,text:E,eol:T}of o){if(typeof T=="number"&&(_=T),L.Range.isEmpty(I)&&!E)continue;const N=c.getValueInRange(I);if(E=E.replace(/\r\n|\n|\r/g,c.eol),N===E)continue;if(Math.max(E.length,N.length)>u._diffLimit){f.push({range:I,text:E});continue}const A=(0,m.stringDiff)(N,E,g),O=c.offsetAt(L.Range.lift(I).getStartPosition());for(const M of A){const P=c.positionAt(O+M.originalStart),x=c.positionAt(O+M.originalStart+M.originalLength),R={text:E.substr(M.modifiedStart,M.modifiedLength),range:{startLineNumber:P.lineNumber,startColumn:P.column,endLineNumber:x.lineNumber,endColumn:x.column}};c.getValueInRange(R.range)!==R.text&&f.push(R)}}return typeof _=="number"&&f.push({eol:_,text:"",range:{startLineNumber:0,startColumn:0,endLineNumber:0,endColumn:0}}),f}async computeLinks(l){const o=this._getModel(l);return o?(0,w.computeLinks)(o):null}async computeDefaultDocumentColors(l){const o=this._getModel(l);return o?(0,n.computeDefaultDocumentColors)(o):null}async textualSuggest(l,o,g,c){const f=new a.StopWatch,_=new RegExp(g,c),S=new Set;e:for(const I of l){const E=this._getModel(I);if(E){for(const T of E.words(_))if(!(T===o||!isNaN(Number(T)))&&(S.add(T),S.size>u._suggestionsLimit))break e}}return{words:Array.from(S),duration:f.elapsed()}}async computeWordRanges(l,o,g,c){const f=this._getModel(l);if(!f)return Object.create(null);const _=new RegExp(g,c),S=Object.create(null);for(let I=o.startLineNumber;I<o.endLineNumber;I++){const E=f.getLineWords(I,_);for(const T of E){if(!isNaN(Number(T.word)))continue;let N=S[T.word];N||(N=[],S[T.word]=N),N.push({startLineNumber:I,startColumn:T.startColumn,endLineNumber:I,endColumn:T.endColumn})}}return S}async navigateValueSet(l,o,g,c,f){const _=this._getModel(l);if(!_)return null;const S=new RegExp(c,f);o.startColumn===o.endColumn&&(o={startLineNumber:o.startLineNumber,startColumn:o.startColumn,endLineNumber:o.endLineNumber,endColumn:o.endColumn+1});const I=_.getValueInRange(o),E=_.getWordAtPosition({lineNumber:o.startLineNumber,column:o.startColumn},S);if(!E)return null;const T=_.getValueInRange(E);return C.BasicInplaceReplace.INSTANCE.navigateValueSet(o,I,E,T,g)}loadForeignModule(l,o,g){const c=(S,I)=>this._host.fhr(S,I),_={host:(0,t.createProxyObject)(g,c),getMirrorModels:()=>this._getModels()};return this._foreignModuleFactory?(this._foreignModule=this._foreignModuleFactory(_,o),Promise.resolve((0,t.getAllMethodNames)(this._foreignModule))):new Promise((S,I)=>{J([l],E=>{this._foreignModule=E.create(_,o),S((0,t.getAllMethodNames)(this._foreignModule))},I)})}fmr(l,o){if(!this._foreignModule||typeof this._foreignModule[l]!="function")return Promise.reject(new Error("Missing requestHandler or method: "+l));try{return Promise.resolve(this._foreignModule[l].apply(this._foreignModule,o))}catch(g){return Promise.reject(g)}}}e.EditorSimpleWorker=u,u._diffLimit=1e5,u._suggestionsLimit=1e4;function d(r){return new u(r,null)}typeof importScripts=="function"&&(globalThis.monaco=(0,b.createMonacoBaseAPI)())}),define(te[356],ie([1,0,7,2,299,29]),function(J,e,m,k,D,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MinimapTokensColorTracker=void 0;class y extends k.Disposable{static getInstance(){return this._INSTANCE||(this._INSTANCE=(0,k.markAsSingleton)(new y)),this._INSTANCE}constructor(){super(),this._onDidChange=new m.Emitter,this.onDidChange=this._onDidChange.event,this._updateColorMap(),this._register(L.TokenizationRegistry.onDidChange(w=>{w.changedColorMap&&this._updateColorMap()}))}_updateColorMap(){const w=L.TokenizationRegistry.getColorMap();if(!w){this._colors=[D.RGBA8.Empty],this._backgroundIsLight=!0;return}this._colors=[D.RGBA8.Empty];for(let b=1;b<w.length;b++){const a=w[b].rgba;this._colors[b]=new D.RGBA8(a.r,a.g,a.b,Math.round(a.a*255))}const C=w[2].getRelativeLuminance();this._backgroundIsLight=C>=.5,this._onDidChange.fire(void 0)}getColor(w){return(w<1||w>=this._colors.length)&&(w=2),this._colors[w]}backgroundIsLight(){return this._backgroundIsLight}}e.MinimapTokensColorTracker=y,y._INSTANCE=null}),define(te[673],ie([3,4]),function(J,e){return J.create("vs/editor/common/languages/modesRegistry",e)}),define(te[674],ie([3,4]),function(J,e){return J.create("vs/editor/common/model/editStack",e)}),define(te[357],ie([1,0,674,12,24,22,346,154,50]),function(J,e,m,k,D,L,y,p,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditStack=e.MultiModelEditStackElement=e.SingleModelEditStackElement=e.SingleModelEditStackData=void 0,e.isEditStackElement=t;function C(h){return h.toString()}class b{static create(v,u){const d=v.getAlternativeVersionId(),r=i(v);return new b(d,d,r,r,u,u,[])}constructor(v,u,d,r,l,o,g){this.beforeVersionId=v,this.afterVersionId=u,this.beforeEOL=d,this.afterEOL=r,this.beforeCursorState=l,this.afterCursorState=o,this.changes=g}append(v,u,d,r,l){u.length>0&&(this.changes=(0,y.compressConsecutiveTextChanges)(this.changes,u)),this.afterEOL=d,this.afterVersionId=r,this.afterCursorState=l}static _writeSelectionsSize(v){return 4+4*4*(v?v.length:0)}static _writeSelections(v,u,d){if(p.writeUInt32BE(v,u?u.length:0,d),d+=4,u)for(const r of u)p.writeUInt32BE(v,r.selectionStartLineNumber,d),d+=4,p.writeUInt32BE(v,r.selectionStartColumn,d),d+=4,p.writeUInt32BE(v,r.positionLineNumber,d),d+=4,p.writeUInt32BE(v,r.positionColumn,d),d+=4;return d}static _readSelections(v,u,d){const r=p.readUInt32BE(v,u);u+=4;for(let l=0;l<r;l++){const o=p.readUInt32BE(v,u);u+=4;const g=p.readUInt32BE(v,u);u+=4;const c=p.readUInt32BE(v,u);u+=4;const f=p.readUInt32BE(v,u);u+=4,d.push(new D.Selection(o,g,c,f))}return u}serialize(){let v=10+b._writeSelectionsSize(this.beforeCursorState)+b._writeSelectionsSize(this.afterCursorState)+4;for(const r of this.changes)v+=r.writeSize();const u=new Uint8Array(v);let d=0;p.writeUInt32BE(u,this.beforeVersionId,d),d+=4,p.writeUInt32BE(u,this.afterVersionId,d),d+=4,p.writeUInt8(u,this.beforeEOL,d),d+=1,p.writeUInt8(u,this.afterEOL,d),d+=1,d=b._writeSelections(u,this.beforeCursorState,d),d=b._writeSelections(u,this.afterCursorState,d),p.writeUInt32BE(u,this.changes.length,d),d+=4;for(const r of this.changes)d=r.write(u,d);return u.buffer}static deserialize(v){const u=new Uint8Array(v);let d=0;const r=p.readUInt32BE(u,d);d+=4;const l=p.readUInt32BE(u,d);d+=4;const o=p.readUInt8(u,d);d+=1;const g=p.readUInt8(u,d);d+=1;const c=[];d=b._readSelections(u,d,c);const f=[];d=b._readSelections(u,d,f);const _=p.readUInt32BE(u,d);d+=4;const S=[];for(let I=0;I<_;I++)d=y.TextChange.read(u,d,S);return new b(r,l,o,g,c,f,S)}}e.SingleModelEditStackData=b;class a{get type(){return 0}get resource(){return L.URI.isUri(this.model)?this.model:this.model.uri}constructor(v,u,d,r){this.label=v,this.code=u,this.model=d,this._data=b.create(d,r)}toString(){return(this._data instanceof b?this._data:b.deserialize(this._data)).changes.map(u=>u.toString()).join(", ")}matchesResource(v){return(L.URI.isUri(this.model)?this.model:this.model.uri).toString()===v.toString()}setModel(v){this.model=v}canAppend(v){return this.model===v&&this._data instanceof b}append(v,u,d,r,l){this._data instanceof b&&this._data.append(v,u,d,r,l)}close(){this._data instanceof b&&(this._data=this._data.serialize())}open(){this._data instanceof b||(this._data=b.deserialize(this._data))}undo(){if(L.URI.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof b&&(this._data=this._data.serialize());const v=b.deserialize(this._data);this.model._applyUndo(v.changes,v.beforeEOL,v.beforeVersionId,v.beforeCursorState)}redo(){if(L.URI.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof b&&(this._data=this._data.serialize());const v=b.deserialize(this._data);this.model._applyRedo(v.changes,v.afterEOL,v.afterVersionId,v.afterCursorState)}heapSize(){return this._data instanceof b&&(this._data=this._data.serialize()),this._data.byteLength+168}}e.SingleModelEditStackElement=a;class s{get resources(){return this._editStackElementsArr.map(v=>v.resource)}constructor(v,u,d){this.label=v,this.code=u,this.type=1,this._isOpen=!0,this._editStackElementsArr=d.slice(0),this._editStackElementsMap=new Map;for(const r of this._editStackElementsArr){const l=C(r.resource);this._editStackElementsMap.set(l,r)}this._delegate=null}prepareUndoRedo(){if(this._delegate)return this._delegate.prepareUndoRedo(this)}matchesResource(v){const u=C(v);return this._editStackElementsMap.has(u)}setModel(v){const u=C(L.URI.isUri(v)?v:v.uri);this._editStackElementsMap.has(u)&&this._editStackElementsMap.get(u).setModel(v)}canAppend(v){if(!this._isOpen)return!1;const u=C(v.uri);return this._editStackElementsMap.has(u)?this._editStackElementsMap.get(u).canAppend(v):!1}append(v,u,d,r,l){const o=C(v.uri);this._editStackElementsMap.get(o).append(v,u,d,r,l)}close(){this._isOpen=!1}open(){}undo(){this._isOpen=!1;for(const v of this._editStackElementsArr)v.undo()}redo(){for(const v of this._editStackElementsArr)v.redo()}heapSize(v){const u=C(v);return this._editStackElementsMap.has(u)?this._editStackElementsMap.get(u).heapSize():0}split(){return this._editStackElementsArr}toString(){const v=[];for(const u of this._editStackElementsArr)v.push(`${(0,w.basename)(u.resource)}: ${u}`);return`{${v.join(", ")}}`}}e.MultiModelEditStackElement=s;function i(h){return h.getEOL()===`
`?0:1}function t(h){return h?h instanceof a||h instanceof s:!1}class n{constructor(v,u){this._model=v,this._undoRedoService=u}pushStackElement(){const v=this._undoRedoService.getLastElement(this._model.uri);t(v)&&v.close()}popStackElement(){const v=this._undoRedoService.getLastElement(this._model.uri);t(v)&&v.open()}clear(){this._undoRedoService.removeElements(this._model.uri)}_getOrCreateEditStackElement(v,u){const d=this._undoRedoService.getLastElement(this._model.uri);if(t(d)&&d.canAppend(this._model))return d;const r=new a(m.localize(0,null),"undoredo.textBufferEdit",this._model,v);return this._undoRedoService.pushElement(r,u),r}pushEOL(v){const u=this._getOrCreateEditStackElement(null,void 0);this._model.setEOL(v),u.append(this._model,[],i(this._model),this._model.getAlternativeVersionId(),null)}pushEditOperation(v,u,d,r){const l=this._getOrCreateEditStackElement(v,r),o=this._model.applyEdits(u,!0),g=n._computeCursorState(d,o),c=o.map((f,_)=>({index:_,textChange:f.textChange}));return c.sort((f,_)=>f.textChange.oldPosition===_.textChange.oldPosition?f.index-_.index:f.textChange.oldPosition-_.textChange.oldPosition),l.append(this._model,c.map(f=>f.textChange),i(this._model),this._model.getAlternativeVersionId(),g),g}static _computeCursorState(v,u){try{return v?v(u):null}catch(d){return(0,k.onUnexpectedError)(d),null}}}e.EditStack=n}),define(te[675],ie([3,4]),function(J,e){return J.create("vs/editor/common/standaloneStrings",e)}),define(te[103],ie([1,0,675]),function(J,e,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandaloneServicesNLS=e.ToggleHighContrastNLS=e.StandaloneCodeEditorNLS=e.QuickOutlineNLS=e.QuickCommandNLS=e.QuickHelpNLS=e.GoToLineNLS=e.InspectTokensNLS=void 0;var k;(function(a){a.inspectTokensAction=m.localize(0,null)})(k||(e.InspectTokensNLS=k={}));var D;(function(a){a.gotoLineActionLabel=m.localize(1,null)})(D||(e.GoToLineNLS=D={}));var L;(function(a){a.helpQuickAccessActionLabel=m.localize(2,null)})(L||(e.QuickHelpNLS=L={}));var y;(function(a){a.quickCommandActionLabel=m.localize(3,null),a.quickCommandHelp=m.localize(4,null)})(y||(e.QuickCommandNLS=y={}));var p;(function(a){a.quickOutlineActionLabel=m.localize(5,null),a.quickOutlineByCategoryActionLabel=m.localize(6,null)})(p||(e.QuickOutlineNLS=p={}));var w;(function(a){a.editorViewAccessibleLabel=m.localize(7,null),a.accessibilityHelpMessage=m.localize(8,null)})(w||(e.StandaloneCodeEditorNLS=w={}));var C;(function(a){a.toggleHighContrast=m.localize(9,null)})(C||(e.ToggleHighContrastNLS=C={}));var b;(function(a){a.bulkEditServiceSummary=m.localize(10,null)})(b||(e.StandaloneServicesNLS=b={}))}),define(te[676],ie([3,4]),function(J,e){return J.create("vs/editor/common/viewLayout/viewLineRenderer",e)}),define(te[129],ie([1,0,676,11,110,145,569]),function(J,e,m,k,D,L,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RenderLineOutput2=e.RenderLineOutput=e.CharacterMapping=e.DomPosition=e.RenderLineInput=e.LineRange=void 0,e.renderViewLine=s,e.renderViewLine2=t;class p{constructor(S,I){this.startOffset=S,this.endOffset=I}equals(S){return this.startOffset===S.startOffset&&this.endOffset===S.endOffset}}e.LineRange=p;class w{constructor(S,I,E,T,N,A,O,M,P,x,R,B,H,V,q,K,U,$,se){this.useMonospaceOptimizations=S,this.canUseHalfwidthRightwardsArrow=I,this.lineContent=E,this.continuesWithWrappedLine=T,this.isBasicASCII=N,this.containsRTL=A,this.fauxIndentLength=O,this.lineTokens=M,this.lineDecorations=P.sort(L.LineDecoration.compare),this.tabSize=x,this.startVisibleColumn=R,this.spaceWidth=B,this.stopRenderingLineAfter=q,this.renderWhitespace=K==="all"?4:K==="boundary"?1:K==="selection"?2:K==="trailing"?3:0,this.renderControlCharacters=U,this.fontLigatures=$,this.selectionsOnLine=se&&se.sort((Q,Z)=>Q.startOffset<Z.startOffset?-1:1);const F=Math.abs(V-B),X=Math.abs(H-B);F<X?(this.renderSpaceWidth=V,this.renderSpaceCharCode=11825):(this.renderSpaceWidth=H,this.renderSpaceCharCode=183)}sameSelection(S){if(this.selectionsOnLine===null)return S===null;if(S===null||S.length!==this.selectionsOnLine.length)return!1;for(let I=0;I<this.selectionsOnLine.length;I++)if(!this.selectionsOnLine[I].equals(S[I]))return!1;return!0}equals(S){return this.useMonospaceOptimizations===S.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===S.canUseHalfwidthRightwardsArrow&&this.lineContent===S.lineContent&&this.continuesWithWrappedLine===S.continuesWithWrappedLine&&this.isBasicASCII===S.isBasicASCII&&this.containsRTL===S.containsRTL&&this.fauxIndentLength===S.fauxIndentLength&&this.tabSize===S.tabSize&&this.startVisibleColumn===S.startVisibleColumn&&this.spaceWidth===S.spaceWidth&&this.renderSpaceWidth===S.renderSpaceWidth&&this.renderSpaceCharCode===S.renderSpaceCharCode&&this.stopRenderingLineAfter===S.stopRenderingLineAfter&&this.renderWhitespace===S.renderWhitespace&&this.renderControlCharacters===S.renderControlCharacters&&this.fontLigatures===S.fontLigatures&&L.LineDecoration.equalsArr(this.lineDecorations,S.lineDecorations)&&this.lineTokens.equals(S.lineTokens)&&this.sameSelection(S.selectionsOnLine)}}e.RenderLineInput=w;class C{constructor(S,I){this.partIndex=S,this.charIndex=I}}e.DomPosition=C;class b{static getPartIndex(S){return(S&4294901760)>>>16}static getCharIndex(S){return(S&65535)>>>0}constructor(S,I){this.length=S,this._data=new Uint32Array(this.length),this._horizontalOffset=new Uint32Array(this.length)}setColumnInfo(S,I,E,T){const N=(I<<16|E<<0)>>>0;this._data[S-1]=N,this._horizontalOffset[S-1]=T}getHorizontalOffset(S){return this._horizontalOffset.length===0?0:this._horizontalOffset[S-1]}charOffsetToPartData(S){return this.length===0?0:S<0?this._data[0]:S>=this.length?this._data[this.length-1]:this._data[S]}getDomPosition(S){const I=this.charOffsetToPartData(S-1),E=b.getPartIndex(I),T=b.getCharIndex(I);return new C(E,T)}getColumn(S,I){return this.partDataToCharOffset(S.partIndex,I,S.charIndex)+1}partDataToCharOffset(S,I,E){if(this.length===0)return 0;const T=(S<<16|E<<0)>>>0;let N=0,A=this.length-1;for(;N+1<A;){const q=N+A>>>1,K=this._data[q];if(K===T)return q;K>T?A=q:N=q}if(N===A)return N;const O=this._data[N],M=this._data[A];if(O===T)return N;if(M===T)return A;const P=b.getPartIndex(O),x=b.getCharIndex(O),R=b.getPartIndex(M);let B;P!==R?B=I:B=b.getCharIndex(M);const H=E-x,V=B-E;return H<=V?N:A}}e.CharacterMapping=b;class a{constructor(S,I,E){this._renderLineOutputBrand=void 0,this.characterMapping=S,this.containsRTL=I,this.containsForeignElements=E}}e.RenderLineOutput=a;function s(_,S){if(_.lineContent.length===0){if(_.lineDecorations.length>0){S.appendString("<span>");let I=0,E=0,T=0;for(const A of _.lineDecorations)(A.type===1||A.type===2)&&(S.appendString('<span class="'),S.appendString(A.className),S.appendString('"></span>'),A.type===1&&(T|=1,I++),A.type===2&&(T|=2,E++));S.appendString("</span>");const N=new b(1,I+E);return N.setColumnInfo(1,I,0,0),new a(N,!1,T)}return S.appendString("<span><span></span></span>"),new a(new b(0,0),!1,0)}return g(h(_),S)}class i{constructor(S,I,E,T){this.characterMapping=S,this.html=I,this.containsRTL=E,this.containsForeignElements=T}}e.RenderLineOutput2=i;function t(_){const S=new D.StringBuilder(1e4),I=s(_,S);return new i(I.characterMapping,S.build(),I.containsRTL,I.containsForeignElements)}class n{constructor(S,I,E,T,N,A,O,M,P,x,R,B,H,V,q,K){this.fontIsMonospace=S,this.canUseHalfwidthRightwardsArrow=I,this.lineContent=E,this.len=T,this.isOverflowing=N,this.overflowingCharCount=A,this.parts=O,this.containsForeignElements=M,this.fauxIndentLength=P,this.tabSize=x,this.startVisibleColumn=R,this.containsRTL=B,this.spaceWidth=H,this.renderSpaceCharCode=V,this.renderWhitespace=q,this.renderControlCharacters=K}}function h(_){const S=_.lineContent;let I,E,T;_.stopRenderingLineAfter!==-1&&_.stopRenderingLineAfter<S.length?(I=!0,E=S.length-_.stopRenderingLineAfter,T=_.stopRenderingLineAfter):(I=!1,E=0,T=S.length);let N=v(S,_.containsRTL,_.lineTokens,_.fauxIndentLength,T);_.renderControlCharacters&&!_.isBasicASCII&&(N=r(S,N)),(_.renderWhitespace===4||_.renderWhitespace===1||_.renderWhitespace===2&&_.selectionsOnLine||_.renderWhitespace===3&&!_.continuesWithWrappedLine)&&(N=l(_,S,T,N));let A=0;if(_.lineDecorations.length>0){for(let O=0,M=_.lineDecorations.length;O<M;O++){const P=_.lineDecorations[O];P.type===3||P.type===1?A|=1:P.type===2&&(A|=2)}N=o(S,T,N,_.lineDecorations)}return _.containsRTL||(N=u(S,N,!_.isBasicASCII||_.fontLigatures)),new n(_.useMonospaceOptimizations,_.canUseHalfwidthRightwardsArrow,S,T,I,E,N,A,_.fauxIndentLength,_.tabSize,_.startVisibleColumn,_.containsRTL,_.spaceWidth,_.renderSpaceCharCode,_.renderWhitespace,_.renderControlCharacters)}function v(_,S,I,E,T){const N=[];let A=0;E>0&&(N[A++]=new y.LinePart(E,"",0,!1));let O=E;for(let M=0,P=I.getCount();M<P;M++){const x=I.getEndOffset(M);if(x<=E)continue;const R=I.getClassName(M);if(x>=T){const H=S?k.containsRTL(_.substring(O,T)):!1;N[A++]=new y.LinePart(T,R,0,H);break}const B=S?k.containsRTL(_.substring(O,x)):!1;N[A++]=new y.LinePart(x,R,0,B),O=x}return N}function u(_,S,I){let E=0;const T=[];let N=0;if(I)for(let A=0,O=S.length;A<O;A++){const M=S[A],P=M.endIndex;if(E+50<P){const x=M.type,R=M.metadata,B=M.containsRTL;let H=-1,V=E;for(let q=E;q<P;q++)_.charCodeAt(q)===32&&(H=q),H!==-1&&q-V>=50&&(T[N++]=new y.LinePart(H+1,x,R,B),V=H+1,H=-1);V!==P&&(T[N++]=new y.LinePart(P,x,R,B))}else T[N++]=M;E=P}else for(let A=0,O=S.length;A<O;A++){const M=S[A],P=M.endIndex,x=P-E;if(x>50){const R=M.type,B=M.metadata,H=M.containsRTL,V=Math.ceil(x/50);for(let q=1;q<V;q++){const K=E+q*50;T[N++]=new y.LinePart(K,R,B,H)}T[N++]=new y.LinePart(P,R,B,H)}else T[N++]=M;E=P}return T}function d(_){return _<32?_!==9:_===127||_>=8234&&_<=8238||_>=8294&&_<=8297||_>=8206&&_<=8207||_===1564}function r(_,S){const I=[];let E=new y.LinePart(0,"",0,!1),T=0;for(const N of S){const A=N.endIndex;for(;T<A;T++){const O=_.charCodeAt(T);d(O)&&(T>E.endIndex&&(E=new y.LinePart(T,N.type,N.metadata,N.containsRTL),I.push(E)),E=new y.LinePart(T+1,"mtkcontrol",N.metadata,!1),I.push(E))}T>E.endIndex&&(E=new y.LinePart(A,N.type,N.metadata,N.containsRTL),I.push(E))}return I}function l(_,S,I,E){const T=_.continuesWithWrappedLine,N=_.fauxIndentLength,A=_.tabSize,O=_.startVisibleColumn,M=_.useMonospaceOptimizations,P=_.selectionsOnLine,x=_.renderWhitespace===1,R=_.renderWhitespace===3,B=_.renderSpaceWidth!==_.spaceWidth,H=[];let V=0,q=0,K=E[q].type,U=E[q].containsRTL,$=E[q].endIndex;const se=E.length;let F=!1,X=k.firstNonWhitespaceIndex(S),Q;X===-1?(F=!0,X=I,Q=I):Q=k.lastNonWhitespaceIndex(S);let Z=!1,ae=0,ue=P&&P[ae],ge=O%A;for(let re=N;re<I;re++){const de=S.charCodeAt(re);ue&&re>=ue.endOffset&&(ae++,ue=P&&P[ae]);let ee;if(re<X||re>Q)ee=!0;else if(de===9)ee=!0;else if(de===32)if(x)if(Z)ee=!0;else{const W=re+1<I?S.charCodeAt(re+1):0;ee=W===32||W===9}else ee=!0;else ee=!1;if(ee&&P&&(ee=!!ue&&ue.startOffset<=re&&ue.endOffset>re),ee&&R&&(ee=F||re>Q),ee&&U&&re>=X&&re<=Q&&(ee=!1),Z){if(!ee||!M&&ge>=A){if(B){const W=V>0?H[V-1].endIndex:N;for(let z=W+1;z<=re;z++)H[V++]=new y.LinePart(z,"mtkw",1,!1)}else H[V++]=new y.LinePart(re,"mtkw",1,!1);ge=ge%A}}else(re===$||ee&&re>N)&&(H[V++]=new y.LinePart(re,K,0,U),ge=ge%A);for(de===9?ge=A:k.isFullWidthCharacter(de)?ge+=2:ge++,Z=ee;re===$&&(q++,q<se);)K=E[q].type,U=E[q].containsRTL,$=E[q].endIndex}let fe=!1;if(Z)if(T&&x){const re=I>0?S.charCodeAt(I-1):0,de=I>1?S.charCodeAt(I-2):0;re===32&&de!==32&&de!==9||(fe=!0)}else fe=!0;if(fe)if(B){const re=V>0?H[V-1].endIndex:N;for(let de=re+1;de<=I;de++)H[V++]=new y.LinePart(de,"mtkw",1,!1)}else H[V++]=new y.LinePart(I,"mtkw",1,!1);else H[V++]=new y.LinePart(I,K,0,U);return H}function o(_,S,I,E){E.sort(L.LineDecoration.compare);const T=L.LineDecorationsNormalizer.normalize(_,E),N=T.length;let A=0;const O=[];let M=0,P=0;for(let R=0,B=I.length;R<B;R++){const H=I[R],V=H.endIndex,q=H.type,K=H.metadata,U=H.containsRTL;for(;A<N&&T[A].startOffset<V;){const $=T[A];if($.startOffset>P&&(P=$.startOffset,O[M++]=new y.LinePart(P,q,K,U)),$.endOffset+1<=V)P=$.endOffset+1,O[M++]=new y.LinePart(P,q+" "+$.className,K|$.metadata,U),A++;else{P=V,O[M++]=new y.LinePart(P,q+" "+$.className,K|$.metadata,U);break}}V>P&&(P=V,O[M++]=new y.LinePart(P,q,K,U))}const x=I[I.length-1].endIndex;if(A<N&&T[A].startOffset===x)for(;A<N&&T[A].startOffset===x;){const R=T[A];O[M++]=new y.LinePart(P,R.className,R.metadata,!1),A++}return O}function g(_,S){const I=_.fontIsMonospace,E=_.canUseHalfwidthRightwardsArrow,T=_.containsForeignElements,N=_.lineContent,A=_.len,O=_.isOverflowing,M=_.overflowingCharCount,P=_.parts,x=_.fauxIndentLength,R=_.tabSize,B=_.startVisibleColumn,H=_.containsRTL,V=_.spaceWidth,q=_.renderSpaceCharCode,K=_.renderWhitespace,U=_.renderControlCharacters,$=new b(A+1,P.length);let se=!1,F=0,X=B,Q=0,Z=0,ae=0;H?S.appendString('<span dir="ltr">'):S.appendString("<span>");for(let ue=0,ge=P.length;ue<ge;ue++){const fe=P[ue],re=fe.endIndex,de=fe.type,ee=fe.containsRTL,W=K!==0&&fe.isWhitespace(),z=W&&!I&&(de==="mtkw"||!T),Y=F===re&&fe.isPseudoAfter();if(Q=0,S.appendString("<span "),ee&&S.appendString('style="unicode-bidi:isolate" '),S.appendString('class="'),S.appendString(z?"mtkz":de),S.appendASCIICharCode(34),W){let j=0;{let G=F,oe=X;for(;G<re;G++){const ce=(N.charCodeAt(G)===9?R-oe%R:1)|0;j+=ce,G>=x&&(oe+=ce)}}for(z&&(S.appendString(' style="width:'),S.appendString(String(V*j)),S.appendString('px"')),S.appendASCIICharCode(62);F<re;F++){$.setColumnInfo(F+1,ue-ae,Q,Z),ae=0;const G=N.charCodeAt(F);let oe,ne;if(G===9){oe=R-X%R|0,ne=oe,!E||ne>1?S.appendCharCode(8594):S.appendCharCode(65515);for(let ce=2;ce<=ne;ce++)S.appendCharCode(160)}else oe=2,ne=1,S.appendCharCode(q),S.appendCharCode(8204);Q+=oe,Z+=ne,F>=x&&(X+=ne)}}else for(S.appendASCIICharCode(62);F<re;F++){$.setColumnInfo(F+1,ue-ae,Q,Z),ae=0;const j=N.charCodeAt(F);let G=1,oe=1;switch(j){case 9:G=R-X%R,oe=G;for(let ne=1;ne<=G;ne++)S.appendCharCode(160);break;case 32:S.appendCharCode(160);break;case 60:S.appendString("&lt;");break;case 62:S.appendString("&gt;");break;case 38:S.appendString("&amp;");break;case 0:U?S.appendCharCode(9216):S.appendString("&#00;");break;case 65279:case 8232:case 8233:case 133:S.appendCharCode(65533);break;default:k.isFullWidthCharacter(j)&&oe++,U&&j<32?S.appendCharCode(9216+j):U&&j===127?S.appendCharCode(9249):U&&d(j)?(S.appendString("[U+"),S.appendString(c(j)),S.appendString("]"),G=8,oe=G):S.appendCharCode(j)}Q+=G,Z+=oe,F>=x&&(X+=oe)}Y?ae++:ae=0,F>=A&&!se&&fe.isPseudoAfter()&&(se=!0,$.setColumnInfo(F+1,ue,Q,Z)),S.appendString("</span>")}return se||$.setColumnInfo(A+1,P.length-1,Q,Z),O&&(S.appendString('<span class="mtkoverflow">'),S.appendString(m.localize(0,null,f(M))),S.appendString("</span>")),S.appendString("</span>"),new a($,H,T)}function c(_){return _.toString(16).toUpperCase().padStart(4,"0")}function f(_){return _<1024?m.localize(1,null,_):_<1024*1024?`${(_/1024).toFixed(1)} KB`:`${(_/1024/1024).toFixed(1)} MB`}}),define(te[677],ie([1,0,98,70,38,110,145,129,90]),function(J,e,m,k,D,L,y,p,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RenderOptions=e.LineSource=void 0,e.renderLines=b;const C=(0,m.createTrustedTypesPolicy)("diffEditorWidget",{createHTML:t=>t});function b(t,n,h,v){(0,k.applyFontInfo)(v,n.fontInfo);const u=h.length>0,d=new L.StringBuilder(1e4);let r=0,l=0;const o=[];for(let _=0;_<t.lineTokens.length;_++){const S=_+1,I=t.lineTokens[_],E=t.lineBreakData[_],T=y.LineDecoration.filter(h,S,1,Number.MAX_SAFE_INTEGER);if(E){let N=0;for(const A of E.breakOffsets){const O=I.sliceAndInflate(N,A,0);r=Math.max(r,i(l,O,y.LineDecoration.extractWrapped(T,N,A),u,t.mightContainNonBasicASCII,t.mightContainRTL,n,d)),l++,N=A}o.push(E.breakOffsets.length)}else o.push(1),r=Math.max(r,i(l,I,T,u,t.mightContainNonBasicASCII,t.mightContainRTL,n,d)),l++}r+=n.scrollBeyondLastColumn;const g=d.build(),c=C?C.createHTML(g):g;v.innerHTML=c;const f=r*n.typicalHalfwidthCharacterWidth;return{heightInLines:l,minWidthInPx:f,viewLineCounts:o}}class a{constructor(n,h,v,u){this.lineTokens=n,this.lineBreakData=h,this.mightContainNonBasicASCII=v,this.mightContainRTL=u}}e.LineSource=a;class s{static fromEditor(n){var h;const v=n.getOptions(),u=v.get(50),d=v.get(145);return new s(((h=n.getModel())===null||h===void 0?void 0:h.getOptions().tabSize)||0,u,v.get(33),u.typicalHalfwidthCharacterWidth,v.get(104),v.get(67),d.decorationsWidth,v.get(117),v.get(99),v.get(94),v.get(51))}constructor(n,h,v,u,d,r,l,o,g,c,f){this.tabSize=n,this.fontInfo=h,this.disableMonospaceOptimizations=v,this.typicalHalfwidthCharacterWidth=u,this.scrollBeyondLastColumn=d,this.lineHeight=r,this.lineDecorationsWidth=l,this.stopRenderingLineAfter=o,this.renderWhitespace=g,this.renderControlCharacters=c,this.fontLigatures=f}}e.RenderOptions=s;function i(t,n,h,v,u,d,r,l){l.appendString('<div class="view-line'),v||l.appendString(" char-delete"),l.appendString('" style="top:'),l.appendString(String(t*r.lineHeight)),l.appendString('px;width:1000000px;">');const o=n.getLineContent(),g=w.ViewLineRenderingData.isBasicASCII(o,u),c=w.ViewLineRenderingData.containsRTL(o,g,d),f=(0,p.renderViewLine)(new p.RenderLineInput(r.fontInfo.isMonospace&&!r.disableMonospaceOptimizations,r.fontInfo.canUseHalfwidthRightwardsArrow,o,!1,g,c,0,n,h,r.tabSize,0,r.fontInfo.spaceWidth,r.fontInfo.middotWidth,r.fontInfo.wsmiddotWidth,r.stopRenderingLineAfter,r.renderWhitespace,r.renderControlCharacters,r.fontLigatures!==D.EditorFontLigatures.OFF,null),l);return l.appendString("</div>"),f.characterMapping.getHorizontalOffset(f.characterMapping.length)}}),define(te[678],ie([3,4]),function(J,e){return J.create("vs/editor/contrib/anchorSelect/browser/anchorSelect",e)}),define(te[679],ie([3,4]),function(J,e){return J.create("vs/editor/contrib/bracketMatching/browser/bracketMatching",e)}),define(te[680],ie([3,4]),function(J,e){return J.create("vs/editor/contrib/caretOperations/browser/caretOperations",e)}),define(te[681],ie([3,4]),function(J,e){return J.create("vs/editor/contrib/caretOperations/browser/transpose",e)}),define(te[682],ie([3,4]),function(J,e){return J.create("vs/editor/contrib/clipboard/browser/clipboard",e)}),define(te[683],ie([3,4]),function(J,e){return J.create("vs/editor/contrib/codeAction/browser/codeAction",e)}),define(te[684],ie([3,4]),function(J,e){return J.create("vs/editor/contrib/codeAction/browser/codeActionCommands",e)}),define(te[685],ie([3,4]),function(J,e){return J.create("vs/editor/contrib/codeAction/browser/codeActionContributions",e)}),define(te[686],ie([3,4]),function(J,e){return J.create("vs/editor/contrib/codeAction/browser/codeActionController",e)}),define(te[687],ie([3,4]),function(J,e){return J.create("vs/editor/contrib/codeAction/browser/codeActionMenu",e)}),define(te[688],ie([3,4]),function(J,e){return J.create("vs/editor/contrib/codeAction/browser/lightBulbWidget",e)}),define(te[689],ie([3,4]),function(J,e){return J.create("vs/editor/contrib/codelens/browser/codelensController",e)}),define(te[690],ie([3,4]),function(J,e){return J.create("vs/editor/contrib/colorPicker/browser/colorPickerWidget",e)}),define(te[691],ie([3,4]),function(J,e){return J.create("vs/editor/contrib/colorPicker/browser/standaloneColorPickerActions",e)}),define(te[692],ie([3,4]),function(J,e){return J.create("vs/editor/contrib/comment/browser/comment",e)}),define(te[693],ie([3,4]),function(J,e){return J.create("vs/editor/contrib/contextmenu/browser/contextmenu",e)}),define(te[694],ie([3,4]),function(J,e){return J.create("vs/editor/contrib/cursorUndo/browser/cursorUndo",e)}),define(te[695],ie([3,4]),function(J,e){return J.create("vs/editor/contrib/dropOrPasteInto/browser/copyPasteContribution",e)}),define(te[696],ie([3,4]),function(J,e){return J.create("vs/editor/contrib/dropOrPasteInto/browser/copyPasteController",e)}),define(te[697],ie([3,4]),function(J,e){return J.create("vs/editor/contrib/dropOrPasteInto/browser/defaultProviders",e)}),define(te[698],ie([3,4]),function(J,e){return J.create("vs/editor/contrib/dropOrPasteInto/browser/dropIntoEditorContribution",e)}),define(te[699],ie([3,4]),function(J,e){return J.create("vs/editor/contrib/dropOrPasteInto/browser/dropIntoEditorController",e)}),define(te[700],ie([3,4]),function(J,e){return J.create("vs/editor/contrib/editorState/browser/keybindingCancellation",e)}),define(te[701],ie([3,4]),function(J,e){return J.create("vs/editor/contrib/find/browser/findController",e)}),define(te[702],ie([3,4]),function(J,e){return J.create("vs/editor/contrib/find/browser/findWidget",e)}),define(te[703],ie([3,4]),function(J,e){return J.create("vs/editor/contrib/folding/browser/folding",e)}),define(te[704],ie([3,4]),function(J,e){return J.create("vs/editor/contrib/folding/browser/foldingDecorations",e)}),define(te[705],ie([3,4]),function(J,e){return J.create("vs/editor/contrib/fontZoom/browser/fontZoom",e)}),define(te[706],ie([3,4]),function(J,e){return J.create("vs/editor/contrib/format/browser/formatActions",e)}),define(te[707],ie([3,4]),function(J,e){return J.create("vs/editor/contrib/gotoError/browser/gotoError",e)}),define(te[708],ie([3,4]),function(J,e){return J.create("vs/editor/contrib/gotoError/browser/gotoErrorWidget",e)}),define(te[709],ie([3,4]),function(J,e){return J.create("vs/editor/contrib/gotoSymbol/browser/goToCommands",e)}),define(te[710],ie([3,4]),function(J,e){return J.create("vs/editor/contrib/gotoSymbol/browser/link/goToDefinitionAtPosition",e)}),define(te[711],ie([3,4]),function(J,e){return J.create("vs/editor/contrib/gotoSymbol/browser/peek/referencesController",e)}),define(te[712],ie([3,4]),function(J,e){return J.create("vs/editor/contrib/gotoSymbol/browser/peek/referencesTree",e)}),define(te[713],ie([3,4]),function(J,e){return J.create("vs/editor/contrib/gotoSymbol/browser/peek/referencesWidget",e)}),define(te[714],ie([3,4]),function(J,e){return J.create("vs/editor/contrib/gotoSymbol/browser/referencesModel",e)}),define(te[169],ie([1,0,12,7,178,2,47,50,11,5,714]),function(J,e,m,k,D,L,y,p,w,C,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReferencesModel=e.FileReferences=e.FilePreview=e.OneReference=void 0;class a{constructor(h,v,u,d){this.isProviderFirst=h,this.parent=v,this.link=u,this._rangeCallback=d,this.id=D.defaultGenerator.nextId()}get uri(){return this.link.uri}get range(){var h,v;return(v=(h=this._range)!==null&&h!==void 0?h:this.link.targetSelectionRange)!==null&&v!==void 0?v:this.link.range}set range(h){this._range=h,this._rangeCallback(this)}get ariaMessage(){var h;const v=(h=this.parent.getPreview(this))===null||h===void 0?void 0:h.preview(this.range);return v?(0,b.localize)(1,null,v.value,(0,p.basename)(this.uri),this.range.startLineNumber,this.range.startColumn):(0,b.localize)(0,null,(0,p.basename)(this.uri),this.range.startLineNumber,this.range.startColumn)}}e.OneReference=a;class s{constructor(h){this._modelReference=h}dispose(){this._modelReference.dispose()}preview(h,v=8){const u=this._modelReference.object.textEditorModel;if(!u)return;const{startLineNumber:d,startColumn:r,endLineNumber:l,endColumn:o}=h,g=u.getWordUntilPosition({lineNumber:d,column:r-v}),c=new C.Range(d,g.startColumn,d,r),f=new C.Range(l,o,l,1073741824),_=u.getValueInRange(c).replace(/^\s+/,""),S=u.getValueInRange(h),I=u.getValueInRange(f).replace(/\s+$/,"");return{value:_+S+I,highlight:{start:_.length,end:_.length+S.length}}}}e.FilePreview=s;class i{constructor(h,v){this.parent=h,this.uri=v,this.children=[],this._previews=new y.ResourceMap}dispose(){(0,L.dispose)(this._previews.values()),this._previews.clear()}getPreview(h){return this._previews.get(h.uri)}get ariaMessage(){const h=this.children.length;return h===1?(0,b.localize)(2,null,(0,p.basename)(this.uri),this.uri.fsPath):(0,b.localize)(3,null,h,(0,p.basename)(this.uri),this.uri.fsPath)}async resolve(h){if(this._previews.size!==0)return this;for(const v of this.children)if(!this._previews.has(v.uri))try{const u=await h.createModelReference(v.uri);this._previews.set(v.uri,new s(u))}catch(u){(0,m.onUnexpectedError)(u)}return this}}e.FileReferences=i;class t{constructor(h,v){this.groups=[],this.references=[],this._onDidChangeReferenceRange=new k.Emitter,this.onDidChangeReferenceRange=this._onDidChangeReferenceRange.event,this._links=h,this._title=v;const[u]=h;h.sort(t._compareReferences);let d;for(const r of h)if((!d||!p.extUri.isEqual(d.uri,r.uri,!0))&&(d=new i(this,r.uri),this.groups.push(d)),d.children.length===0||t._compareReferences(r,d.children[d.children.length-1])!==0){const l=new a(u===r,d,r,o=>this._onDidChangeReferenceRange.fire(o));this.references.push(l),d.children.push(l)}}dispose(){(0,L.dispose)(this.groups),this._onDidChangeReferenceRange.dispose(),this.groups.length=0}clone(){return new t(this._links,this._title)}get title(){return this._title}get isEmpty(){return this.groups.length===0}get ariaMessage(){return this.isEmpty?(0,b.localize)(4,null):this.references.length===1?(0,b.localize)(5,null,this.references[0].uri.fsPath):this.groups.length===1?(0,b.localize)(6,null,this.references.length,this.groups[0].uri.fsPath):(0,b.localize)(7,null,this.references.length,this.groups.length)}nextOrPreviousReference(h,v){const{parent:u}=h;let d=u.children.indexOf(h);const r=u.children.length,l=u.parent.groups.length;return l===1||v&&d+1<r||!v&&d>0?(v?d=(d+1)%r:d=(d+r-1)%r,u.children[d]):(d=u.parent.groups.indexOf(u),v?(d=(d+1)%l,u.parent.groups[d].children[0]):(d=(d+l-1)%l,u.parent.groups[d].children[u.parent.groups[d].children.length-1]))}nearestReference(h,v){const u=this.references.map((d,r)=>({idx:r,prefixLen:w.commonPrefixLength(d.uri.toString(),h.toString()),offsetDist:Math.abs(d.range.startLineNumber-v.lineNumber)*100+Math.abs(d.range.startColumn-v.column)})).sort((d,r)=>d.prefixLen>r.prefixLen?-1:d.prefixLen<r.prefixLen?1:d.offsetDist<r.offsetDist?-1:d.offsetDist>r.offsetDist?1:0)[0];if(u)return this.references[u.idx]}referenceAt(h,v){for(const u of this.references)if(u.uri.toString()===h.toString()&&C.Range.containsPosition(u.range,v))return u}firstReference(){for(const h of this.references)if(h.isProviderFirst)return h;return this.references[0]}static _compareReferences(h,v){return p.extUri.compare(h.uri,v.uri)||C.Range.compareRangesUsingStarts(h.range,v.range)}}e.ReferencesModel=t}),define(te[715],ie([3,4]),function(J,e){return J.create("vs/editor/contrib/gotoSymbol/browser/symbolNavigation",e)}),define(te[716],ie([3,4]),function(J,e){return J.create("vs/editor/contrib/hover/browser/hover",e)}),define(te[717],ie([3,4]),function(J,e){return J.create("vs/editor/contrib/hover/browser/markdownHoverParticipant",e)}),define(te[718],ie([3,4]),function(J,e){return J.create("vs/editor/contrib/hover/browser/markerHoverParticipant",e)}),define(te[719],ie([3,4]),function(J,e){return J.create("vs/editor/contrib/inPlaceReplace/browser/inPlaceReplace",e)}),define(te[720],ie([3,4]),function(J,e){return J.create("vs/editor/contrib/indentation/browser/indentation",e)}),define(te[721],ie([3,4]),function(J,e){return J.create("vs/editor/contrib/inlayHints/browser/inlayHintsHover",e)}),define(te[722],ie([3,4]),function(J,e){return J.create("vs/editor/contrib/inlineCompletions/browser/commands",e)}),define(te[723],ie([3,4]),function(J,e){return J.create("vs/editor/contrib/inlineCompletions/browser/hoverParticipant",e)}),define(te[724],ie([3,4]),function(J,e){return J.create("vs/editor/contrib/inlineCompletions/browser/inlineCompletionContextKeys",e)}),define(te[725],ie([3,4]),function(J,e){return J.create("vs/editor/contrib/inlineCompletions/browser/inlineCompletionsController",e)}),define(te[726],ie([3,4]),function(J,e){return J.create("vs/editor/contrib/inlineCompletions/browser/inlineCompletionsHintsWidget",e)}),define(te[727],ie([3,4]),function(J,e){return J.create("vs/editor/contrib/lineSelection/browser/lineSelection",e)}),define(te[728],ie([3,4]),function(J,e){return J.create("vs/editor/contrib/linesOperations/browser/linesOperations",e)}),define(te[729],ie([3,4]),function(J,e){return J.create("vs/editor/contrib/linkedEditing/browser/linkedEditing",e)}),define(te[730],ie([3,4]),function(J,e){return J.create("vs/editor/contrib/links/browser/links",e)}),define(te[731],ie([3,4]),function(J,e){return J.create("vs/editor/contrib/message/browser/messageController",e)}),define(te[732],ie([3,4]),function(J,e){return J.create("vs/editor/contrib/multicursor/browser/multicursor",e)}),define(te[733],ie([3,4]),function(J,e){return J.create("vs/editor/contrib/parameterHints/browser/parameterHints",e)}),define(te[734],ie([3,4]),function(J,e){return J.create("vs/editor/contrib/parameterHints/browser/parameterHintsWidget",e)}),define(te[735],ie([3,4]),function(J,e){return J.create("vs/editor/contrib/peekView/browser/peekView",e)}),define(te[736],ie([3,4]),function(J,e){return J.create("vs/editor/contrib/quickAccess/browser/gotoLineQuickAccess",e)}),define(te[737],ie([3,4]),function(J,e){return J.create("vs/editor/contrib/quickAccess/browser/gotoSymbolQuickAccess",e)}),define(te[738],ie([3,4]),function(J,e){return J.create("vs/editor/contrib/readOnlyMessage/browser/contribution",e)}),define(te[739],ie([3,4]),function(J,e){return J.create("vs/editor/contrib/rename/browser/rename",e)}),define(te[740],ie([3,4]),function(J,e){return J.create("vs/editor/contrib/rename/browser/renameInputField",e)}),define(te[741],ie([3,4]),function(J,e){return J.create("vs/editor/contrib/smartSelect/browser/smartSelect",e)}),define(te[742],ie([3,4]),function(J,e){return J.create("vs/editor/contrib/snippet/browser/snippetController2",e)}),define(te[743],ie([3,4]),function(J,e){return J.create("vs/editor/contrib/snippet/browser/snippetVariables",e)}),define(te[744],ie([3,4]),function(J,e){return J.create("vs/editor/contrib/stickyScroll/browser/stickyScrollActions",e)}),define(te[745],ie([3,4]),function(J,e){return J.create("vs/editor/contrib/suggest/browser/suggest",e)}),define(te[746],ie([3,4]),function(J,e){return J.create("vs/editor/contrib/suggest/browser/suggestController",e)}),define(te[747],ie([3,4]),function(J,e){return J.create("vs/editor/contrib/suggest/browser/suggestWidget",e)}),define(te[748],ie([3,4]),function(J,e){return J.create("vs/editor/contrib/suggest/browser/suggestWidgetDetails",e)}),define(te[749],ie([3,4]),function(J,e){return J.create("vs/editor/contrib/suggest/browser/suggestWidgetRenderer",e)}),define(te[750],ie([3,4]),function(J,e){return J.create("vs/editor/contrib/suggest/browser/suggestWidgetStatus",e)}),define(te[751],ie([3,4]),function(J,e){return J.create("vs/editor/contrib/symbolIcons/browser/symbolIcons",e)}),define(te[752],ie([3,4]),function(J,e){return J.create("vs/editor/contrib/toggleTabFocusMode/browser/toggleTabFocusMode",e)}),define(te[753],ie([3,4]),function(J,e){return J.create("vs/editor/contrib/tokenization/browser/tokenization",e)}),define(te[754],ie([3,4]),function(J,e){return J.create("vs/editor/contrib/unicodeHighlighter/browser/unicodeHighlighter",e)}),define(te[755],ie([3,4]),function(J,e){return J.create("vs/editor/contrib/unusualLineTerminators/browser/unusualLineTerminators",e)}),define(te[756],ie([3,4]),function(J,e){return J.create("vs/editor/contrib/wordHighlighter/browser/highlightDecorations",e)}),define(te[757],ie([3,4]),function(J,e){return J.create("vs/editor/contrib/wordHighlighter/browser/wordHighlighter",e)}),define(te[758],ie([3,4]),function(J,e){return J.create("vs/editor/contrib/wordOperations/browser/wordOperations",e)}),define(te[759],ie([3,4]),function(J,e){return J.create("vs/platform/accessibilitySignal/browser/accessibilitySignalService",e)}),define(te[760],ie([3,4]),function(J,e){return J.create("vs/platform/action/common/actionCommonCategories",e)}),define(te[761],ie([3,4]),function(J,e){return J.create("vs/platform/actionWidget/browser/actionList",e)}),define(te[762],ie([3,4]),function(J,e){return J.create("vs/platform/actionWidget/browser/actionWidget",e)}),define(te[763],ie([3,4]),function(J,e){return J.create("vs/platform/actions/browser/menuEntryActionViewItem",e)}),define(te[764],ie([3,4]),function(J,e){return J.create("vs/platform/actions/browser/toolbar",e)}),define(te[765],ie([3,4]),function(J,e){return J.create("vs/platform/actions/common/menuService",e)}),define(te[766],ie([3,4]),function(J,e){return J.create("vs/platform/configuration/common/configurationRegistry",e)}),define(te[767],ie([3,4]),function(J,e){return J.create("vs/platform/contextkey/browser/contextKeyService",e)}),define(te[768],ie([3,4]),function(J,e){return J.create("vs/platform/contextkey/common/contextkey",e)}),define(te[769],ie([3,4]),function(J,e){return J.create("vs/platform/contextkey/common/contextkeys",e)}),define(te[770],ie([3,4]),function(J,e){return J.create("vs/platform/contextkey/common/scanner",e)}),define(te[771],ie([3,4]),function(J,e){return J.create("vs/platform/history/browser/contextScopedHistoryWidget",e)}),define(te[772],ie([3,4]),function(J,e){return J.create("vs/platform/keybinding/common/abstractKeybindingService",e)}),define(te[773],ie([3,4]),function(J,e){return J.create("vs/platform/list/browser/listService",e)}),define(te[774],ie([3,4]),function(J,e){return J.create("vs/platform/markers/common/markers",e)}),define(te[775],ie([3,4]),function(J,e){return J.create("vs/platform/quickinput/browser/commandsQuickAccess",e)}),define(te[776],ie([3,4]),function(J,e){return J.create("vs/platform/quickinput/browser/helpQuickAccess",e)}),define(te[777],ie([3,4]),function(J,e){return J.create("vs/platform/quickinput/browser/quickInput",e)}),define(te[778],ie([3,4]),function(J,e){return J.create("vs/platform/quickinput/browser/quickInputController",e)}),define(te[779],ie([3,4]),function(J,e){return J.create("vs/platform/quickinput/browser/quickInputTree",e)}),define(te[780],ie([3,4]),function(J,e){return J.create("vs/platform/quickinput/browser/quickInputUtils",e)}),define(te[781],ie([3,4]),function(J,e){return J.create("vs/platform/theme/common/colors/baseColors",e)}),define(te[782],ie([3,4]),function(J,e){return J.create("vs/platform/theme/common/colors/chartsColors",e)}),define(te[783],ie([3,4]),function(J,e){return J.create("vs/platform/theme/common/colors/editorColors",e)}),define(te[784],ie([3,4]),function(J,e){return J.create("vs/platform/theme/common/colors/inputColors",e)}),define(te[785],ie([3,4]),function(J,e){return J.create("vs/platform/theme/common/colors/listColors",e)}),define(te[786],ie([3,4]),function(J,e){return J.create("vs/platform/theme/common/colors/menuColors",e)}),define(te[787],ie([3,4]),function(J,e){return J.create("vs/platform/theme/common/colors/minimapColors",e)}),define(te[788],ie([3,4]),function(J,e){return J.create("vs/platform/theme/common/colors/miscColors",e)}),define(te[789],ie([3,4]),function(J,e){return J.create("vs/platform/theme/common/colors/quickpickColors",e)}),define(te[790],ie([3,4]),function(J,e){return J.create("vs/platform/theme/common/colors/searchColors",e)}),define(te[791],ie([3,4]),function(J,e){return J.create("vs/platform/theme/common/iconRegistry",e)}),define(te[792],ie([3,4]),function(J,e){return J.create("vs/platform/undoRedo/common/undoRedoService",e)}),define(te[793],ie([3,4]),function(J,e){return J.create("vs/platform/workspace/common/workspace",e)}),define(te[794],ie([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isICommandActionToggleInfo=m;function m(k){return k?k.condition!==void 0:!1}}),define(te[795],ie([1,0,760]),function(J,e,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Categories=void 0,e.Categories=Object.freeze({View:(0,m.localize2)(0,"View"),Help:(0,m.localize2)(1,"Help"),Test:(0,m.localize2)(2,"Test"),File:(0,m.localize2)(3,"File"),Preferences:(0,m.localize2)(4,"Preferences"),Developer:(0,m.localize2)(5,"Developer")})}),define(te[796],ie([1,0,12,770]),function(J,e,m,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Scanner=void 0;function D(...w){switch(w.length){case 1:return(0,k.localize)(0,null,w[0]);case 2:return(0,k.localize)(1,null,w[0],w[1]);case 3:return(0,k.localize)(2,null,w[0],w[1],w[2]);default:return}}const L=(0,k.localize)(3,null),y=(0,k.localize)(4,null);class p{constructor(){this._input="",this._start=0,this._current=0,this._tokens=[],this._errors=[],this.stringRe=/[a-zA-Z0-9_<>\-\./\\:\*\?\+\[\]\^,#@;"%\$\p{L}-]+/uy}static getLexeme(C){switch(C.type){case 0:return"(";case 1:return")";case 2:return"!";case 3:return C.isTripleEq?"===":"==";case 4:return C.isTripleEq?"!==":"!=";case 5:return"<";case 6:return"<=";case 7:return">=";case 8:return">=";case 9:return"=~";case 10:return C.lexeme;case 11:return"true";case 12:return"false";case 13:return"in";case 14:return"not";case 15:return"&&";case 16:return"||";case 17:return C.lexeme;case 18:return C.lexeme;case 19:return C.lexeme;case 20:return"EOF";default:throw(0,m.illegalState)(`unhandled token type: ${JSON.stringify(C)}; have you forgotten to add a case?`)}}reset(C){return this._input=C,this._start=0,this._current=0,this._tokens=[],this._errors=[],this}scan(){for(;!this._isAtEnd();)switch(this._start=this._current,this._advance()){case 40:this._addToken(0);break;case 41:this._addToken(1);break;case 33:if(this._match(61)){const b=this._match(61);this._tokens.push({type:4,offset:this._start,isTripleEq:b})}else this._addToken(2);break;case 39:this._quotedString();break;case 47:this._regex();break;case 61:if(this._match(61)){const b=this._match(61);this._tokens.push({type:3,offset:this._start,isTripleEq:b})}else this._match(126)?this._addToken(9):this._error(D("==","=~"));break;case 60:this._addToken(this._match(61)?6:5);break;case 62:this._addToken(this._match(61)?8:7);break;case 38:this._match(38)?this._addToken(15):this._error(D("&&"));break;case 124:this._match(124)?this._addToken(16):this._error(D("||"));break;case 32:case 13:case 9:case 10:case 160:break;default:this._string()}return this._start=this._current,this._addToken(20),Array.from(this._tokens)}_match(C){return this._isAtEnd()||this._input.charCodeAt(this._current)!==C?!1:(this._current++,!0)}_advance(){return this._input.charCodeAt(this._current++)}_peek(){return this._isAtEnd()?0:this._input.charCodeAt(this._current)}_addToken(C){this._tokens.push({type:C,offset:this._start})}_error(C){const b=this._start,a=this._input.substring(this._start,this._current),s={type:19,offset:this._start,lexeme:a};this._errors.push({offset:b,lexeme:a,additionalInfo:C}),this._tokens.push(s)}_string(){this.stringRe.lastIndex=this._start;const C=this.stringRe.exec(this._input);if(C){this._current=this._start+C[0].length;const b=this._input.substring(this._start,this._current),a=p._keywords.get(b);a?this._addToken(a):this._tokens.push({type:17,lexeme:b,offset:this._start})}}_quotedString(){for(;this._peek()!==39&&!this._isAtEnd();)this._advance();if(this._isAtEnd()){this._error(L);return}this._advance(),this._tokens.push({type:18,lexeme:this._input.substring(this._start+1,this._current-1),offset:this._start+1})}_regex(){let C=this._current,b=!1,a=!1;for(;;){if(C>=this._input.length){this._current=C,this._error(y);return}const i=this._input.charCodeAt(C);if(b)b=!1;else if(i===47&&!a){C++;break}else i===91?a=!0:i===92?b=!0:i===93&&(a=!1);C++}for(;C<this._input.length&&p._regexFlags.has(this._input.charCodeAt(C));)C++;this._current=C;const s=this._input.substring(this._start,this._current);this._tokens.push({type:10,lexeme:s,offset:this._start})}_isAtEnd(){return this._current>=this._input.length}}e.Scanner=p,p._regexFlags=new Set(["i","g","s","m","y","u"].map(w=>w.charCodeAt(0))),p._keywords=new Map([["not",14],["in",13],["false",12],["true",11]])}),define(te[797],ie([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorOpenSource=void 0;var m;(function(k){k[k.API=0]="API",k[k.USER=1]="USER"})(m||(e.EditorOpenSource=m={}))}),define(te[798],ie([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtensionIdentifierSet=e.ExtensionIdentifier=void 0;class m{constructor(L){this.value=L,this._lower=L.toLowerCase()}static toKey(L){return typeof L=="string"?L.toLowerCase():L._lower}}e.ExtensionIdentifier=m;class k{constructor(L){if(this._set=new Set,L)for(const y of L)this.add(y)}add(L){this._set.add(m.toKey(L))}has(L){return this._set.has(m.toKey(L))}}e.ExtensionIdentifierSet=k}),define(te[358],ie([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FileKind=void 0;var m;(function(k){k[k.FILE=0]="FILE",k[k.FOLDER=1]="FOLDER",k[k.ROOT_FOLDER=2]="ROOT_FOLDER"})(m||(e.FileKind=m={}))}),define(te[799],ie([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.showHistoryKeybindingHint=m;function m(k){var D,L;return((D=k.lookupKeybinding("history.showPrevious"))===null||D===void 0?void 0:D.getElectronAccelerator())==="Up"&&((L=k.lookupKeybinding("history.showNext"))===null||L===void 0?void 0:L.getElectronAccelerator())==="Down"}}),define(te[252],ie([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SyncDescriptor=void 0;class m{constructor(D,L=[],y=!1){this.ctor=D,this.staticArguments=L,this.supportsDelayedInstantiation=y}}e.SyncDescriptor=m}),define(te[46],ie([1,0,252]),function(J,e,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.registerSingleton=D,e.getSingletonServiceDescriptors=L;const k=[];function D(y,p,w){p instanceof m.SyncDescriptor||(p=new m.SyncDescriptor(p,[],!!w)),k.push([y,p])}function L(){return k}}),define(te[800],ie([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Graph=e.Node=void 0;class m{constructor(L,y){this.key=L,this.data=y,this.incoming=new Map,this.outgoing=new Map}}e.Node=m;class k{constructor(L){this._hashFn=L,this._nodes=new Map}roots(){const L=[];for(const y of this._nodes.values())y.outgoing.size===0&&L.push(y);return L}insertEdge(L,y){const p=this.lookupOrInsertNode(L),w=this.lookupOrInsertNode(y);p.outgoing.set(w.key,w),w.incoming.set(p.key,p)}removeNode(L){const y=this._hashFn(L);this._nodes.delete(y);for(const p of this._nodes.values())p.outgoing.delete(y),p.incoming.delete(y)}lookupOrInsertNode(L){const y=this._hashFn(L);let p=this._nodes.get(y);return p||(p=new m(y,L),this._nodes.set(y,p)),p}isEmpty(){return this._nodes.size===0}toString(){const L=[];for(const[y,p]of this._nodes)L.push(`${y}
	(-> incoming)[${[...p.incoming.keys()].join(", ")}]
	(outgoing ->)[${[...p.outgoing.keys()].join(",")}]
`);return L.join(`
`)}findCycleSlow(){for(const[L,y]of this._nodes){const p=new Set([L]),w=this._findCycle(y,p);if(w)return w}}_findCycle(L,y){for(const[p,w]of L.outgoing){if(y.has(p))return[...y,p].join(" -> ");y.add(p);const C=this._findCycle(w,y);if(C)return C;y.delete(p)}}}e.Graph=k}),define(te[8],ie([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IInstantiationService=e._util=void 0,e.createDecorator=D;var m;(function(L){L.serviceIds=new Map,L.DI_TARGET="$di$target",L.DI_DEPENDENCIES="$di$dependencies";function y(p){return p[L.DI_DEPENDENCIES]||[]}L.getServiceDependencies=y})(m||(e._util=m={})),e.IInstantiationService=D("instantiationService");function k(L,y,p){y[m.DI_TARGET]===y?y[m.DI_DEPENDENCIES].push({id:L,index:p}):(y[m.DI_DEPENDENCIES]=[{id:L,index:p}],y[m.DI_TARGET]=y)}function D(L){if(m.serviceIds.has(L))return m.serviceIds.get(L);const y=function(p,w,C){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");k(y,p,C)};return y.toString=()=>L,m.serviceIds.set(L,y),y}}),define(te[147],ie([1,0,8,22,21]),function(J,e,m,k,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ResourceFileEdit=e.ResourceTextEdit=e.ResourceEdit=e.IBulkEditService=void 0,e.IBulkEditService=(0,m.createDecorator)("IWorkspaceEditService");class L{constructor(C){this.metadata=C}static convert(C){return C.edits.map(b=>{if(y.is(b))return y.lift(b);if(p.is(b))return p.lift(b);throw new Error("Unsupported edit")})}}e.ResourceEdit=L;class y extends L{static is(C){return C instanceof y?!0:(0,D.isObject)(C)&&k.URI.isUri(C.resource)&&(0,D.isObject)(C.textEdit)}static lift(C){return C instanceof y?C:new y(C.resource,C.textEdit,C.versionId,C.metadata)}constructor(C,b,a=void 0,s){super(s),this.resource=C,this.textEdit=b,this.versionId=a}}e.ResourceTextEdit=y;class p extends L{static is(C){return C instanceof p?!0:(0,D.isObject)(C)&&(!!C.newResource||!!C.oldResource)}static lift(C){return C instanceof p?C:new p(C.oldResource,C.newResource,C.options,C.metadata)}constructor(C,b,a={},s){super(s),this.oldResource=C,this.newResource=b,this.options=a}}e.ResourceFileEdit=p}),define(te[36],ie([1,0,8]),function(J,e,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ICodeEditorService=void 0,e.ICodeEditorService=(0,m.createDecorator)("codeEditorService")});var he=this&&this.__param||function(J,e){return function(m,k){e(m,k,J)}};define(te[359],ie([1,0,6,108,26,57,2,32,180,30,21,82,60,9,5,29,657,8]),function(J,e,m,k,D,L,y,p,w,C,b,a,s,i,t,n,h,v){"use strict";var u;Object.defineProperty(e,"__esModule",{value:!0}),e.HideUnchangedRegionsFeature=void 0;let d=u=class extends y.Disposable{static setBreadcrumbsSourceFactory(o){this._breadcrumbsSourceFactory.set(o,void 0)}get isUpdatingHiddenAreas(){return this._isUpdatingHiddenAreas}constructor(o,g,c,f){super(),this._editors=o,this._diffModel=g,this._options=c,this._instantiationService=f,this._modifiedOutlineSource=(0,w.derivedDisposable)(this,E=>{const T=this._editors.modifiedModel.read(E),N=u._breadcrumbsSourceFactory.read(E);return!T||!N?void 0:N(T,this._instantiationService)}),this._isUpdatingHiddenAreas=!1,this._register(this._editors.original.onDidChangeCursorPosition(E=>{if(E.reason===1)return;const T=this._diffModel.get();(0,p.transaction)(N=>{for(const A of this._editors.original.getSelections()||[])T?.ensureOriginalLineIsVisible(A.getStartPosition().lineNumber,0,N),T?.ensureOriginalLineIsVisible(A.getEndPosition().lineNumber,0,N)})})),this._register(this._editors.modified.onDidChangeCursorPosition(E=>{if(E.reason===1)return;const T=this._diffModel.get();(0,p.transaction)(N=>{for(const A of this._editors.modified.getSelections()||[])T?.ensureModifiedLineIsVisible(A.getStartPosition().lineNumber,0,N),T?.ensureModifiedLineIsVisible(A.getEndPosition().lineNumber,0,N)})}));const _=this._diffModel.map((E,T)=>{var N,A;const O=(N=E?.unchangedRegions.read(T))!==null&&N!==void 0?N:[];return O.length===1&&O[0].modifiedLineNumber===1&&O[0].lineCount===((A=this._editors.modifiedModel.read(T))===null||A===void 0?void 0:A.getLineCount())?[]:O});this.viewZones=(0,p.derivedWithStore)(this,(E,T)=>{const N=this._modifiedOutlineSource.read(E);if(!N)return{origViewZones:[],modViewZones:[]};const A=[],O=[],M=this._options.renderSideBySide.read(E),P=_.read(E);for(const x of P)if(!x.shouldHideControls(E)){{const R=(0,p.derived)(this,H=>x.getHiddenOriginalRange(H).startLineNumber-1),B=new a.PlaceholderViewZone(R,24);A.push(B),T.add(new r(this._editors.original,B,x,x.originalUnchangedRange,!M,N,H=>this._diffModel.get().ensureModifiedLineIsVisible(H,2,void 0),this._options))}{const R=(0,p.derived)(this,H=>x.getHiddenModifiedRange(H).startLineNumber-1),B=new a.PlaceholderViewZone(R,24);O.push(B),T.add(new r(this._editors.modified,B,x,x.modifiedUnchangedRange,!1,N,H=>this._diffModel.get().ensureModifiedLineIsVisible(H,2,void 0),this._options))}}return{origViewZones:A,modViewZones:O}});const S={description:"unchanged lines",className:"diff-unchanged-lines",isWholeLine:!0},I={description:"Fold Unchanged",glyphMarginHoverMessage:new L.MarkdownString(void 0,{isTrusted:!0,supportThemeIcons:!0}).appendMarkdown((0,h.localize)(0,null)),glyphMarginClassName:"fold-unchanged "+C.ThemeIcon.asClassName(D.Codicon.fold),zIndex:10001};this._register((0,a.applyObservableDecorations)(this._editors.original,(0,p.derived)(this,E=>{const T=_.read(E),N=T.map(A=>({range:A.originalUnchangedRange.toInclusiveRange(),options:S}));for(const A of T)A.shouldHideControls(E)&&N.push({range:t.Range.fromPositions(new i.Position(A.originalLineNumber,1)),options:I});return N}))),this._register((0,a.applyObservableDecorations)(this._editors.modified,(0,p.derived)(this,E=>{const T=_.read(E),N=T.map(A=>({range:A.modifiedUnchangedRange.toInclusiveRange(),options:S}));for(const A of T)A.shouldHideControls(E)&&N.push({range:s.LineRange.ofLength(A.modifiedLineNumber,1).toInclusiveRange(),options:I});return N}))),this._register((0,p.autorun)(E=>{const T=_.read(E);this._isUpdatingHiddenAreas=!0;try{this._editors.original.setHiddenAreas(T.map(N=>N.getHiddenOriginalRange(E).toInclusiveRange()).filter(b.isDefined)),this._editors.modified.setHiddenAreas(T.map(N=>N.getHiddenModifiedRange(E).toInclusiveRange()).filter(b.isDefined))}finally{this._isUpdatingHiddenAreas=!1}})),this._register(this._editors.modified.onMouseUp(E=>{var T;if(!E.event.rightButton&&E.target.position&&(!((T=E.target.element)===null||T===void 0)&&T.className.includes("fold-unchanged"))){const N=E.target.position.lineNumber,A=this._diffModel.get();if(!A)return;const O=A.unchangedRegions.get().find(M=>M.modifiedUnchangedRange.includes(N));if(!O)return;O.collapseAll(void 0),E.event.stopPropagation(),E.event.preventDefault()}})),this._register(this._editors.original.onMouseUp(E=>{var T;if(!E.event.rightButton&&E.target.position&&(!((T=E.target.element)===null||T===void 0)&&T.className.includes("fold-unchanged"))){const N=E.target.position.lineNumber,A=this._diffModel.get();if(!A)return;const O=A.unchangedRegions.get().find(M=>M.originalUnchangedRange.includes(N));if(!O)return;O.collapseAll(void 0),E.event.stopPropagation(),E.event.preventDefault()}}))}};e.HideUnchangedRegionsFeature=d,d._breadcrumbsSourceFactory=(0,p.observableValue)("breadcrumbsSourceFactory",void 0),e.HideUnchangedRegionsFeature=d=u=Ie([he(3,v.IInstantiationService)],d);class r extends a.ViewZoneOverlayWidget{constructor(o,g,c,f,_,S,I,E){const T=(0,m.h)("div.diff-hidden-lines-widget");super(o,g,T.root),this._editor=o,this._unchangedRegion=c,this._unchangedRegionRange=f,this._hide=_,this._modifiedOutlineSource=S,this._revealModifiedHiddenLine=I,this._options=E,this._nodes=(0,m.h)("div.diff-hidden-lines",[(0,m.h)("div.top@top",{title:(0,h.localize)(1,null)}),(0,m.h)("div.center@content",{style:{display:"flex"}},[(0,m.h)("div@first",{style:{display:"flex",justifyContent:"center",alignItems:"center",flexShrink:"0"}},[(0,m.$)("a",{title:(0,h.localize)(2,null),role:"button",onclick:()=>{this._unchangedRegion.showAll(void 0)}},...(0,k.renderLabelWithIcons)("$(unfold)"))]),(0,m.h)("div@others",{style:{display:"flex",justifyContent:"center",alignItems:"center"}})]),(0,m.h)("div.bottom@bottom",{title:(0,h.localize)(3,null),role:"button"})]),T.root.appendChild(this._nodes.root);const N=(0,p.observableFromEvent)(this._editor.onDidLayoutChange,()=>this._editor.getLayoutInfo());this._hide?(0,m.reset)(this._nodes.first):this._register((0,a.applyStyle)(this._nodes.first,{width:N.map(O=>O.contentLeft)})),this._register((0,p.autorun)(O=>{const M=this._unchangedRegion.visibleLineCountTop.read(O)+this._unchangedRegion.visibleLineCountBottom.read(O)===this._unchangedRegion.lineCount;this._nodes.bottom.classList.toggle("canMoveTop",!M),this._nodes.bottom.classList.toggle("canMoveBottom",this._unchangedRegion.visibleLineCountBottom.read(O)>0),this._nodes.top.classList.toggle("canMoveTop",this._unchangedRegion.visibleLineCountTop.read(O)>0),this._nodes.top.classList.toggle("canMoveBottom",!M);const P=this._unchangedRegion.isDragged.read(O),x=this._editor.getDomNode();x&&(x.classList.toggle("draggingUnchangedRegion",!!P),P==="top"?(x.classList.toggle("canMoveTop",this._unchangedRegion.visibleLineCountTop.read(O)>0),x.classList.toggle("canMoveBottom",!M)):P==="bottom"?(x.classList.toggle("canMoveTop",!M),x.classList.toggle("canMoveBottom",this._unchangedRegion.visibleLineCountBottom.read(O)>0)):(x.classList.toggle("canMoveTop",!1),x.classList.toggle("canMoveBottom",!1)))}));const A=this._editor;this._register((0,m.addDisposableListener)(this._nodes.top,"mousedown",O=>{if(O.button!==0)return;this._nodes.top.classList.toggle("dragging",!0),this._nodes.root.classList.toggle("dragging",!0),O.preventDefault();const M=O.clientY;let P=!1;const x=this._unchangedRegion.visibleLineCountTop.get();this._unchangedRegion.isDragged.set("top",void 0);const R=(0,m.getWindow)(this._nodes.top),B=(0,m.addDisposableListener)(R,"mousemove",V=>{const K=V.clientY-M;P=P||Math.abs(K)>2;const U=Math.round(K/A.getOption(67)),$=Math.max(0,Math.min(x+U,this._unchangedRegion.getMaxVisibleLineCountTop()));this._unchangedRegion.visibleLineCountTop.set($,void 0)}),H=(0,m.addDisposableListener)(R,"mouseup",V=>{P||this._unchangedRegion.showMoreAbove(this._options.hideUnchangedRegionsRevealLineCount.get(),void 0),this._nodes.top.classList.toggle("dragging",!1),this._nodes.root.classList.toggle("dragging",!1),this._unchangedRegion.isDragged.set(void 0,void 0),B.dispose(),H.dispose()})})),this._register((0,m.addDisposableListener)(this._nodes.bottom,"mousedown",O=>{if(O.button!==0)return;this._nodes.bottom.classList.toggle("dragging",!0),this._nodes.root.classList.toggle("dragging",!0),O.preventDefault();const M=O.clientY;let P=!1;const x=this._unchangedRegion.visibleLineCountBottom.get();this._unchangedRegion.isDragged.set("bottom",void 0);const R=(0,m.getWindow)(this._nodes.bottom),B=(0,m.addDisposableListener)(R,"mousemove",V=>{const K=V.clientY-M;P=P||Math.abs(K)>2;const U=Math.round(K/A.getOption(67)),$=Math.max(0,Math.min(x-U,this._unchangedRegion.getMaxVisibleLineCountBottom())),se=this._unchangedRegionRange.endLineNumberExclusive>A.getModel().getLineCount()?A.getContentHeight():A.getTopForLineNumber(this._unchangedRegionRange.endLineNumberExclusive);this._unchangedRegion.visibleLineCountBottom.set($,void 0);const F=this._unchangedRegionRange.endLineNumberExclusive>A.getModel().getLineCount()?A.getContentHeight():A.getTopForLineNumber(this._unchangedRegionRange.endLineNumberExclusive);A.setScrollTop(A.getScrollTop()+(F-se))}),H=(0,m.addDisposableListener)(R,"mouseup",V=>{if(this._unchangedRegion.isDragged.set(void 0,void 0),!P){const q=A.getTopForLineNumber(this._unchangedRegionRange.endLineNumberExclusive);this._unchangedRegion.showMoreBelow(this._options.hideUnchangedRegionsRevealLineCount.get(),void 0);const K=A.getTopForLineNumber(this._unchangedRegionRange.endLineNumberExclusive);A.setScrollTop(A.getScrollTop()+(K-q))}this._nodes.bottom.classList.toggle("dragging",!1),this._nodes.root.classList.toggle("dragging",!1),B.dispose(),H.dispose()})})),this._register((0,p.autorun)(O=>{const M=[];if(!this._hide){const P=c.getHiddenModifiedRange(O).length,x=(0,h.localize)(4,null,P),R=(0,m.$)("span",{title:(0,h.localize)(5,null)},x);R.addEventListener("dblclick",V=>{V.button===0&&(V.preventDefault(),this._unchangedRegion.showAll(void 0))}),M.push(R);const B=this._unchangedRegion.getHiddenModifiedRange(O),H=this._modifiedOutlineSource.getBreadcrumbItems(B,O);if(H.length>0){M.push((0,m.$)("span",void 0,"\xA0\xA0|\xA0\xA0"));for(let V=0;V<H.length;V++){const q=H[V],K=n.SymbolKinds.toIcon(q.kind),U=(0,m.h)("div.breadcrumb-item",{style:{display:"flex",alignItems:"center"}},[(0,k.renderIcon)(K),"\xA0",q.name,...V===H.length-1?[]:[(0,k.renderIcon)(D.Codicon.chevronRight)]]).root;M.push(U),U.onclick=()=>{this._revealModifiedHiddenLine(q.startLineNumber)}}}}(0,m.reset)(this._nodes.others,...M)}))}}}),define(te[42],ie([1,0,8]),function(J,e,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ILanguageService=void 0,e.ILanguageService=(0,m.createDecorator)("languageService")}),define(te[111],ie([1,0,8]),function(J,e,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IEditorWorkerService=void 0,e.IEditorWorkerService=(0,m.createDecorator)("editorWorkerService")}),define(te[18],ie([1,0,8]),function(J,e,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ILanguageFeaturesService=void 0,e.ILanguageFeaturesService=(0,m.createDecorator)("ILanguageFeaturesService")}),define(te[801],ie([1,0,639,18,46]),function(J,e,m,k,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LanguageFeaturesService=void 0;class L{constructor(){this.referenceProvider=new m.LanguageFeatureRegistry(this._score.bind(this)),this.renameProvider=new m.LanguageFeatureRegistry(this._score.bind(this)),this.newSymbolNamesProvider=new m.LanguageFeatureRegistry(this._score.bind(this)),this.codeActionProvider=new m.LanguageFeatureRegistry(this._score.bind(this)),this.definitionProvider=new m.LanguageFeatureRegistry(this._score.bind(this)),this.typeDefinitionProvider=new m.LanguageFeatureRegistry(this._score.bind(this)),this.declarationProvider=new m.LanguageFeatureRegistry(this._score.bind(this)),this.implementationProvider=new m.LanguageFeatureRegistry(this._score.bind(this)),this.documentSymbolProvider=new m.LanguageFeatureRegistry(this._score.bind(this)),this.inlayHintsProvider=new m.LanguageFeatureRegistry(this._score.bind(this)),this.colorProvider=new m.LanguageFeatureRegistry(this._score.bind(this)),this.codeLensProvider=new m.LanguageFeatureRegistry(this._score.bind(this)),this.documentFormattingEditProvider=new m.LanguageFeatureRegistry(this._score.bind(this)),this.documentRangeFormattingEditProvider=new m.LanguageFeatureRegistry(this._score.bind(this)),this.onTypeFormattingEditProvider=new m.LanguageFeatureRegistry(this._score.bind(this)),this.signatureHelpProvider=new m.LanguageFeatureRegistry(this._score.bind(this)),this.hoverProvider=new m.LanguageFeatureRegistry(this._score.bind(this)),this.documentHighlightProvider=new m.LanguageFeatureRegistry(this._score.bind(this)),this.multiDocumentHighlightProvider=new m.LanguageFeatureRegistry(this._score.bind(this)),this.selectionRangeProvider=new m.LanguageFeatureRegistry(this._score.bind(this)),this.foldingRangeProvider=new m.LanguageFeatureRegistry(this._score.bind(this)),this.linkProvider=new m.LanguageFeatureRegistry(this._score.bind(this)),this.inlineCompletionsProvider=new m.LanguageFeatureRegistry(this._score.bind(this)),this.inlineEditProvider=new m.LanguageFeatureRegistry(this._score.bind(this)),this.completionProvider=new m.LanguageFeatureRegistry(this._score.bind(this)),this.linkedEditingRangeProvider=new m.LanguageFeatureRegistry(this._score.bind(this)),this.documentRangeSemanticTokensProvider=new m.LanguageFeatureRegistry(this._score.bind(this)),this.documentSemanticTokensProvider=new m.LanguageFeatureRegistry(this._score.bind(this)),this.documentOnDropEditProvider=new m.LanguageFeatureRegistry(this._score.bind(this)),this.documentPasteEditProvider=new m.LanguageFeatureRegistry(this._score.bind(this))}_score(p){var w;return(w=this._notebookTypeResolver)===null||w===void 0?void 0:w.call(this,p)}}e.LanguageFeaturesService=L,(0,D.registerSingleton)(k.ILanguageFeaturesService,L,1)}),define(te[253],ie([1,0,8]),function(J,e,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IMarkerDecorationsService=void 0,e.IMarkerDecorationsService=(0,m.createDecorator)("markerDecorationsService")}),define(te[53],ie([1,0,8]),function(J,e,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IModelService=void 0,e.IModelService=(0,m.createDecorator)("modelService")}),define(te[73],ie([1,0,8]),function(J,e,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ITextModelService=void 0,e.ITextModelService=(0,m.createDecorator)("textModelService")}),define(te[254],ie([1,0,8]),function(J,e,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ISemanticTokensStylingService=void 0,e.ISemanticTokensStylingService=(0,m.createDecorator)("semanticTokensStylingService")}),define(te[200],ie([1,0,8]),function(J,e,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ITextResourcePropertiesService=e.ITextResourceConfigurationService=void 0,e.ITextResourceConfigurationService=(0,m.createDecorator)("textResourceConfigurationService"),e.ITextResourcePropertiesService=(0,m.createDecorator)("textResourcePropertiesService")}),define(te[802],ie([1,0,46,8,313]),function(J,e,m,k,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ITreeViewsDnDService=void 0,e.ITreeViewsDnDService=(0,k.createDecorator)("treeViewsDndService"),(0,m.registerSingleton)(e.ITreeViewsDnDService,D.TreeViewsDnDService,1)}),define(te[255],ie([1,0,147,128]),function(J,e,m,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createCombinedWorkspaceEdit=D,e.sortEditsByYieldTo=L;function D(y,p,w){var C,b,a,s;return(typeof w.insertText=="string"?w.insertText==="":w.insertText.snippet==="")?{edits:(b=(C=w.additionalEdit)===null||C===void 0?void 0:C.edits)!==null&&b!==void 0?b:[]}:{edits:[...p.map(i=>new m.ResourceTextEdit(y,{range:i,text:typeof w.insertText=="string"?k.SnippetParser.escape(w.insertText)+"$0":w.insertText.snippet,insertAsSnippet:!0})),...(s=(a=w.additionalEdit)===null||a===void 0?void 0:a.edits)!==null&&s!==void 0?s:[]]}}function L(y){var p;function w(i,t){return"mimeType"in i?i.mimeType===t.handledMimeType:!!t.kind&&i.kind.contains(t.kind)}const C=new Map;for(const i of y)for(const t of(p=i.yieldTo)!==null&&p!==void 0?p:[])for(const n of y)if(n!==i&&w(t,n)){let h=C.get(i);h||(h=[],C.set(i,h)),h.push(n)}if(!C.size)return Array.from(y);const b=new Set,a=[];function s(i){if(!i.length)return[];const t=i[0];if(a.includes(t))return console.warn("Yield to cycle detected",t),i;if(b.has(t))return s(i.slice(1));let n=[];const h=C.get(t);return h&&(a.push(t),n=s(h),a.pop()),b.add(t),[...n,t,...s(i.slice(1))]}return s(Array.from(y))}}),define(te[360],ie([1,0,98,7,2,32,11,70,38,9,5,110,42,43,102,145,129,195,196,488]),function(J,e,m,k,D,L,y,p,w,C,b,a,s,i,t,n,h,v,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ttPolicy=e.AdditionalLinesWidget=e.GhostTextWidget=e.GHOST_TEXT_DESCRIPTION=void 0,e.GHOST_TEXT_DESCRIPTION="ghost-text";let d=class extends D.Disposable{constructor(g,c,f){super(),this.editor=g,this.model=c,this.languageService=f,this.isDisposed=(0,L.observableValue)(this,!1),this.currentTextModel=(0,L.observableFromEvent)(this.editor.onDidChangeModel,()=>this.editor.getModel()),this.uiState=(0,L.derived)(this,_=>{if(this.isDisposed.read(_))return;const S=this.currentTextModel.read(_);if(S!==this.model.targetTextModel.read(_))return;const I=this.model.ghostText.read(_);if(!I)return;const E=I instanceof v.GhostTextReplacement?I.columnRange:void 0,T=[],N=[];function A(R,B){if(N.length>0){const H=N[N.length-1];B&&H.decorations.push(new n.LineDecoration(H.content.length+1,H.content.length+1+R[0].length,B,0)),H.content+=R[0],R=R.slice(1)}for(const H of R)N.push({content:H,decorations:B?[new n.LineDecoration(1,H.length+1,B,0)]:[]})}const O=S.getLineContent(I.lineNumber);let M,P=0;for(const R of I.parts){let B=R.lines;M===void 0?(T.push({column:R.column,text:B[0],preview:R.preview}),B=B.slice(1)):A([O.substring(P,R.column-1)],void 0),B.length>0&&(A(B,e.GHOST_TEXT_DESCRIPTION),M===void 0&&R.column<=O.length&&(M=R.column)),P=R.column-1}M!==void 0&&A([O.substring(P)],void 0);const x=M!==void 0?new u.ColumnRange(M,O.length+1):void 0;return{replacedRange:E,inlineTexts:T,additionalLines:N,hiddenRange:x,lineNumber:I.lineNumber,additionalReservedLineCount:this.model.minReservedLineCount.read(_),targetTextModel:S}}),this.decorations=(0,L.derived)(this,_=>{const S=this.uiState.read(_);if(!S)return[];const I=[];S.replacedRange&&I.push({range:S.replacedRange.toRange(S.lineNumber),options:{inlineClassName:"inline-completion-text-to-replace",description:"GhostTextReplacement"}}),S.hiddenRange&&I.push({range:S.hiddenRange.toRange(S.lineNumber),options:{inlineClassName:"ghost-text-hidden",description:"ghost-text-hidden"}});for(const E of S.inlineTexts)I.push({range:b.Range.fromPositions(new C.Position(S.lineNumber,E.column)),options:{description:e.GHOST_TEXT_DESCRIPTION,after:{content:E.text,inlineClassName:E.preview?"ghost-text-decoration-preview":"ghost-text-decoration",cursorStops:i.InjectedTextCursorStops.Left},showIfCollapsed:!0}});return I}),this.additionalLinesWidget=this._register(new r(this.editor,this.languageService.languageIdCodec,(0,L.derived)(_=>{const S=this.uiState.read(_);return S?{lineNumber:S.lineNumber,additionalLines:S.additionalLines,minReservedLineCount:S.additionalReservedLineCount,targetTextModel:S.targetTextModel}:void 0}))),this._register((0,D.toDisposable)(()=>{this.isDisposed.set(!0,void 0)})),this._register((0,u.applyObservableDecorations)(this.editor,this.decorations))}ownsViewZone(g){return this.additionalLinesWidget.viewZoneId===g}};e.GhostTextWidget=d,e.GhostTextWidget=d=Ie([he(2,s.ILanguageService)],d);class r extends D.Disposable{get viewZoneId(){return this._viewZoneId}constructor(g,c,f){super(),this.editor=g,this.languageIdCodec=c,this.lines=f,this._viewZoneId=void 0,this.editorOptionsChanged=(0,L.observableSignalFromEvent)("editorOptionChanged",k.Event.filter(this.editor.onDidChangeConfiguration,_=>_.hasChanged(33)||_.hasChanged(117)||_.hasChanged(99)||_.hasChanged(94)||_.hasChanged(51)||_.hasChanged(50)||_.hasChanged(67))),this._register((0,L.autorun)(_=>{const S=this.lines.read(_);this.editorOptionsChanged.read(_),S?this.updateLines(S.lineNumber,S.additionalLines,S.minReservedLineCount):this.clear()}))}dispose(){super.dispose(),this.clear()}clear(){this.editor.changeViewZones(g=>{this._viewZoneId&&(g.removeZone(this._viewZoneId),this._viewZoneId=void 0)})}updateLines(g,c,f){const _=this.editor.getModel();if(!_)return;const{tabSize:S}=_.getOptions();this.editor.changeViewZones(I=>{this._viewZoneId&&(I.removeZone(this._viewZoneId),this._viewZoneId=void 0);const E=Math.max(c.length,f);if(E>0){const T=document.createElement("div");l(T,S,c,this.editor.getOptions(),this.languageIdCodec),this._viewZoneId=I.addZone({afterLineNumber:g,heightInLines:E,domNode:T,afterColumnAffinity:1})}})}}e.AdditionalLinesWidget=r;function l(o,g,c,f,_){const S=f.get(33),I=f.get(117),E="none",T=f.get(94),N=f.get(51),A=f.get(50),O=f.get(67),M=new a.StringBuilder(1e4);M.appendString('<div class="suggest-preview-text">');for(let R=0,B=c.length;R<B;R++){const H=c[R],V=H.content;M.appendString('<div class="view-line'),M.appendString('" style="top:'),M.appendString(String(R*O)),M.appendString('px;width:1000000px;">');const q=y.isBasicASCII(V),K=y.containsRTL(V),U=t.LineTokens.createEmpty(V,_);(0,h.renderViewLine)(new h.RenderLineInput(A.isMonospace&&!S,A.canUseHalfwidthRightwardsArrow,V,!1,q,K,0,U,H.decorations,g,0,A.spaceWidth,A.middotWidth,A.wsmiddotWidth,I,E,T,N!==w.EditorFontLigatures.OFF,null),M),M.appendString("</div>")}M.appendString("</div>"),(0,p.applyFontInfo)(o,A);const P=M.build(),x=e.ttPolicy?e.ttPolicy.createHTML(P):P;o.innerHTML=x}e.ttPolicy=(0,m.createTrustedTypesPolicy)("editorGhostText",{createHTML:o=>o})}),define(te[803],ie([1,0,2,32,9,5,42,43,145,360,196,490]),function(J,e,m,k,D,L,y,p,w,C,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GhostTextWidget=e.INLINE_EDIT_DESCRIPTION=void 0,e.INLINE_EDIT_DESCRIPTION="inline-edit";let a=class extends m.Disposable{constructor(i,t,n){super(),this.editor=i,this.model=t,this.languageService=n,this.isDisposed=(0,k.observableValue)(this,!1),this.currentTextModel=(0,k.observableFromEvent)(this.editor.onDidChangeModel,()=>this.editor.getModel()),this.uiState=(0,k.derived)(this,h=>{var v;if(this.isDisposed.read(h))return;const u=this.currentTextModel.read(h);if(u!==this.model.targetTextModel.read(h))return;const d=this.model.ghostText.read(h);if(!d)return;let r=(v=this.model.range)===null||v===void 0?void 0:v.read(h);r&&r.startLineNumber===r.endLineNumber&&r.startColumn===r.endColumn&&(r=void 0);const l=(r?r.startLineNumber===r.endLineNumber:!0)&&d.parts.length===1&&d.parts[0].lines.length===1,o=d.parts.length===1&&d.parts[0].lines.every(N=>N.length===0),g=[],c=[];function f(N,A){if(c.length>0){const O=c[c.length-1];A&&O.decorations.push(new w.LineDecoration(O.content.length+1,O.content.length+1+N[0].length,A,0)),O.content+=N[0],N=N.slice(1)}for(const O of N)c.push({content:O,decorations:A?[new w.LineDecoration(1,O.length+1,A,0)]:[]})}const _=u.getLineContent(d.lineNumber);let S,I=0;if(!o){for(const N of d.parts){let A=N.lines;r&&!l&&(f(A,e.INLINE_EDIT_DESCRIPTION),A=[]),S===void 0?(g.push({column:N.column,text:A[0],preview:N.preview}),A=A.slice(1)):f([_.substring(I,N.column-1)],void 0),A.length>0&&(f(A,e.INLINE_EDIT_DESCRIPTION),S===void 0&&N.column<=_.length&&(S=N.column)),I=N.column-1}S!==void 0&&f([_.substring(I)],void 0)}const E=S!==void 0?new b.ColumnRange(S,_.length+1):void 0,T=l||!r?d.lineNumber:r.endLineNumber-1;return{inlineTexts:g,additionalLines:c,hiddenRange:E,lineNumber:T,additionalReservedLineCount:this.model.minReservedLineCount.read(h),targetTextModel:u,range:r,isSingleLine:l,isPureRemove:o,backgroundColoring:this.model.backgroundColoring.read(h)}}),this.decorations=(0,k.derived)(this,h=>{const v=this.uiState.read(h);if(!v)return[];const u=[];if(v.hiddenRange&&u.push({range:v.hiddenRange.toRange(v.lineNumber),options:{inlineClassName:"inline-edit-hidden",description:"inline-edit-hidden"}}),v.range){const d=[];if(v.isSingleLine)d.push(v.range);else if(v.isPureRemove){const l=v.range.endLineNumber-v.range.startLineNumber;for(let o=0;o<l;o++){const g=v.range.startLineNumber+o,c=v.targetTextModel.getLineFirstNonWhitespaceColumn(g),f=v.targetTextModel.getLineLastNonWhitespaceColumn(g),_=new L.Range(g,c,g,f);d.push(_)}}else{const l=v.range.endLineNumber-v.range.startLineNumber;for(let o=0;o<l;o++){const g=v.range.startLineNumber+o,c=v.targetTextModel.getLineFirstNonWhitespaceColumn(g),f=v.targetTextModel.getLineLastNonWhitespaceColumn(g),_=new L.Range(g,c,g,f);d.push(_)}}const r=v.backgroundColoring?"inline-edit-remove backgroundColoring":"inline-edit-remove";for(const l of d)u.push({range:l,options:{inlineClassName:r,description:"inline-edit-remove"}})}for(const d of v.inlineTexts)u.push({range:L.Range.fromPositions(new D.Position(v.lineNumber,d.column)),options:{description:e.INLINE_EDIT_DESCRIPTION,after:{content:d.text,inlineClassName:d.preview?"inline-edit-decoration-preview":"inline-edit-decoration",cursorStops:p.InjectedTextCursorStops.Left},showIfCollapsed:!0}});return u}),this.additionalLinesWidget=this._register(new C.AdditionalLinesWidget(this.editor,this.languageService.languageIdCodec,(0,k.derived)(h=>{const v=this.uiState.read(h);return v&&!v.isPureRemove?{lineNumber:v.lineNumber,additionalLines:v.additionalLines,minReservedLineCount:v.additionalReservedLineCount,targetTextModel:v.targetTextModel}:void 0}))),this._register((0,m.toDisposable)(()=>{this.isDisposed.set(!0,void 0)})),this._register((0,b.applyObservableDecorations)(this.editor,this.decorations))}ownsViewZone(i){return this.additionalLinesWidget.viewZoneId===i}};e.GhostTextWidget=a,e.GhostTextWidget=a=Ie([he(2,y.ILanguageService)],a)}),define(te[148],ie([1,0,8]),function(J,e,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IStandaloneThemeService=void 0,e.IStandaloneThemeService=(0,m.createDecorator)("themeService")}),define(te[130],ie([1,0,8,759]),function(J,e,m,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AccessibilitySignal=e.SoundSource=e.Sound=e.IAccessibilitySignalService=void 0,e.IAccessibilitySignalService=(0,m.createDecorator)("accessibilitySignalService");class D{static register(w){return new D(w.fileName)}constructor(w){this.fileName=w}}e.Sound=D,D.error=D.register({fileName:"error.mp3"}),D.warning=D.register({fileName:"warning.mp3"}),D.foldedArea=D.register({fileName:"foldedAreas.mp3"}),D.break=D.register({fileName:"break.mp3"}),D.quickFixes=D.register({fileName:"quickFixes.mp3"}),D.taskCompleted=D.register({fileName:"taskCompleted.mp3"}),D.taskFailed=D.register({fileName:"taskFailed.mp3"}),D.terminalBell=D.register({fileName:"terminalBell.mp3"}),D.diffLineInserted=D.register({fileName:"diffLineInserted.mp3"}),D.diffLineDeleted=D.register({fileName:"diffLineDeleted.mp3"}),D.diffLineModified=D.register({fileName:"diffLineModified.mp3"}),D.chatRequestSent=D.register({fileName:"chatRequestSent.mp3"}),D.chatResponsePending=D.register({fileName:"chatResponsePending.mp3"}),D.chatResponseReceived1=D.register({fileName:"chatResponseReceived1.mp3"}),D.chatResponseReceived2=D.register({fileName:"chatResponseReceived2.mp3"}),D.chatResponseReceived3=D.register({fileName:"chatResponseReceived3.mp3"}),D.chatResponseReceived4=D.register({fileName:"chatResponseReceived4.mp3"}),D.clear=D.register({fileName:"clear.mp3"}),D.save=D.register({fileName:"save.mp3"}),D.format=D.register({fileName:"format.mp3"}),D.voiceRecordingStarted=D.register({fileName:"voiceRecordingStarted.mp3"}),D.voiceRecordingStopped=D.register({fileName:"voiceRecordingStopped.mp3"});class L{constructor(w){this.randomOneOf=w}}e.SoundSource=L;class y{static register(w){const C=new L("randomOneOf"in w.sound?w.sound.randomOneOf:[w.sound]),b=new y(C,w.name,w.legacySoundSettingsKey,w.settingsKey,w.legacyAnnouncementSettingsKey,w.announcementMessage);return y._signals.add(b),b}constructor(w,C,b,a,s,i){this.sound=w,this.name=C,this.legacySoundSettingsKey=b,this.settingsKey=a,this.legacyAnnouncementSettingsKey=s,this.announcementMessage=i}}e.AccessibilitySignal=y,y._signals=new Set,y.error=y.register({name:(0,k.localize)(0,null),sound:D.error,legacySoundSettingsKey:"audioCues.lineHasError",legacyAnnouncementSettingsKey:"accessibility.alert.error",announcementMessage:(0,k.localize)(1,null),settingsKey:"accessibility.signals.lineHasError"}),y.warning=y.register({name:(0,k.localize)(2,null),sound:D.warning,legacySoundSettingsKey:"audioCues.lineHasWarning",legacyAnnouncementSettingsKey:"accessibility.alert.warning",announcementMessage:(0,k.localize)(3,null),settingsKey:"accessibility.signals.lineHasWarning"}),y.foldedArea=y.register({name:(0,k.localize)(4,null),sound:D.foldedArea,legacySoundSettingsKey:"audioCues.lineHasFoldedArea",legacyAnnouncementSettingsKey:"accessibility.alert.foldedArea",announcementMessage:(0,k.localize)(5,null),settingsKey:"accessibility.signals.lineHasFoldedArea"}),y.break=y.register({name:(0,k.localize)(6,null),sound:D.break,legacySoundSettingsKey:"audioCues.lineHasBreakpoint",legacyAnnouncementSettingsKey:"accessibility.alert.breakpoint",announcementMessage:(0,k.localize)(7,null),settingsKey:"accessibility.signals.lineHasBreakpoint"}),y.inlineSuggestion=y.register({name:(0,k.localize)(8,null),sound:D.quickFixes,legacySoundSettingsKey:"audioCues.lineHasInlineSuggestion",settingsKey:"accessibility.signals.lineHasInlineSuggestion"}),y.terminalQuickFix=y.register({name:(0,k.localize)(9,null),sound:D.quickFixes,legacySoundSettingsKey:"audioCues.terminalQuickFix",legacyAnnouncementSettingsKey:"accessibility.alert.terminalQuickFix",announcementMessage:(0,k.localize)(10,null),settingsKey:"accessibility.signals.terminalQuickFix"}),y.onDebugBreak=y.register({name:(0,k.localize)(11,null),sound:D.break,legacySoundSettingsKey:"audioCues.onDebugBreak",legacyAnnouncementSettingsKey:"accessibility.alert.onDebugBreak",announcementMessage:(0,k.localize)(12,null),settingsKey:"accessibility.signals.onDebugBreak"}),y.noInlayHints=y.register({name:(0,k.localize)(13,null),sound:D.error,legacySoundSettingsKey:"audioCues.noInlayHints",legacyAnnouncementSettingsKey:"accessibility.alert.noInlayHints",announcementMessage:(0,k.localize)(14,null),settingsKey:"accessibility.signals.noInlayHints"}),y.taskCompleted=y.register({name:(0,k.localize)(15,null),sound:D.taskCompleted,legacySoundSettingsKey:"audioCues.taskCompleted",legacyAnnouncementSettingsKey:"accessibility.alert.taskCompleted",announcementMessage:(0,k.localize)(16,null),settingsKey:"accessibility.signals.taskCompleted"}),y.taskFailed=y.register({name:(0,k.localize)(17,null),sound:D.taskFailed,legacySoundSettingsKey:"audioCues.taskFailed",legacyAnnouncementSettingsKey:"accessibility.alert.taskFailed",announcementMessage:(0,k.localize)(18,null),settingsKey:"accessibility.signals.taskFailed"}),y.terminalCommandFailed=y.register({name:(0,k.localize)(19,null),sound:D.error,legacySoundSettingsKey:"audioCues.terminalCommandFailed",legacyAnnouncementSettingsKey:"accessibility.alert.terminalCommandFailed",announcementMessage:(0,k.localize)(20,null),settingsKey:"accessibility.signals.terminalCommandFailed"}),y.terminalBell=y.register({name:(0,k.localize)(21,null),sound:D.terminalBell,legacySoundSettingsKey:"audioCues.terminalBell",legacyAnnouncementSettingsKey:"accessibility.alert.terminalBell",announcementMessage:(0,k.localize)(22,null),settingsKey:"accessibility.signals.terminalBell"}),y.notebookCellCompleted=y.register({name:(0,k.localize)(23,null),sound:D.taskCompleted,legacySoundSettingsKey:"audioCues.notebookCellCompleted",legacyAnnouncementSettingsKey:"accessibility.alert.notebookCellCompleted",announcementMessage:(0,k.localize)(24,null),settingsKey:"accessibility.signals.notebookCellCompleted"}),y.notebookCellFailed=y.register({name:(0,k.localize)(25,null),sound:D.taskFailed,legacySoundSettingsKey:"audioCues.notebookCellFailed",legacyAnnouncementSettingsKey:"accessibility.alert.notebookCellFailed",announcementMessage:(0,k.localize)(26,null),settingsKey:"accessibility.signals.notebookCellFailed"}),y.diffLineInserted=y.register({name:(0,k.localize)(27,null),sound:D.diffLineInserted,legacySoundSettingsKey:"audioCues.diffLineInserted",settingsKey:"accessibility.signals.diffLineInserted"}),y.diffLineDeleted=y.register({name:(0,k.localize)(28,null),sound:D.diffLineDeleted,legacySoundSettingsKey:"audioCues.diffLineDeleted",settingsKey:"accessibility.signals.diffLineDeleted"}),y.diffLineModified=y.register({name:(0,k.localize)(29,null),sound:D.diffLineModified,legacySoundSettingsKey:"audioCues.diffLineModified",settingsKey:"accessibility.signals.diffLineModified"}),y.chatRequestSent=y.register({name:(0,k.localize)(30,null),sound:D.chatRequestSent,legacySoundSettingsKey:"audioCues.chatRequestSent",legacyAnnouncementSettingsKey:"accessibility.alert.chatRequestSent",announcementMessage:(0,k.localize)(31,null),settingsKey:"accessibility.signals.chatRequestSent"}),y.chatResponseReceived=y.register({name:(0,k.localize)(32,null),legacySoundSettingsKey:"audioCues.chatResponseReceived",sound:{randomOneOf:[D.chatResponseReceived1,D.chatResponseReceived2,D.chatResponseReceived3,D.chatResponseReceived4]},settingsKey:"accessibility.signals.chatResponseReceived"}),y.chatResponsePending=y.register({name:(0,k.localize)(33,null),sound:D.chatResponsePending,legacySoundSettingsKey:"audioCues.chatResponsePending",legacyAnnouncementSettingsKey:"accessibility.alert.chatResponsePending",announcementMessage:(0,k.localize)(34,null),settingsKey:"accessibility.signals.chatResponsePending"}),y.clear=y.register({name:(0,k.localize)(35,null),sound:D.clear,legacySoundSettingsKey:"audioCues.clear",legacyAnnouncementSettingsKey:"accessibility.alert.clear",announcementMessage:(0,k.localize)(36,null),settingsKey:"accessibility.signals.clear"}),y.save=y.register({name:(0,k.localize)(37,null),sound:D.save,legacySoundSettingsKey:"audioCues.save",legacyAnnouncementSettingsKey:"accessibility.alert.save",announcementMessage:(0,k.localize)(38,null),settingsKey:"accessibility.signals.save"}),y.format=y.register({name:(0,k.localize)(39,null),sound:D.format,legacySoundSettingsKey:"audioCues.format",legacyAnnouncementSettingsKey:"accessibility.alert.format",announcementMessage:(0,k.localize)(40,null),settingsKey:"accessibility.signals.format"}),y.voiceRecordingStarted=y.register({name:(0,k.localize)(41,null),sound:D.voiceRecordingStarted,legacySoundSettingsKey:"audioCues.voiceRecordingStarted",settingsKey:"accessibility.signals.voiceRecordingStarted"}),y.voiceRecordingStopped=y.register({name:(0,k.localize)(42,null),sound:D.voiceRecordingStopped,legacySoundSettingsKey:"audioCues.voiceRecordingStopped",settingsKey:"accessibility.signals.voiceRecordingStopped"})}),define(te[112],ie([1,0,8]),function(J,e,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IClipboardService=void 0,e.IClipboardService=(0,m.createDecorator)("clipboardService")}),define(te[27],ie([1,0,7,54,2,69,21,8]),function(J,e,m,k,D,L,y,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CommandsRegistry=e.ICommandService=void 0,e.ICommandService=(0,p.createDecorator)("commandService"),e.CommandsRegistry=new class{constructor(){this._commands=new Map,this._onDidRegisterCommand=new m.Emitter,this.onDidRegisterCommand=this._onDidRegisterCommand.event}registerCommand(w,C){if(!w)throw new Error("invalid command");if(typeof w=="string"){if(!C)throw new Error("invalid command");return this.registerCommand({id:w,handler:C})}if(w.metadata&&Array.isArray(w.metadata.args)){const t=[];for(const h of w.metadata.args)t.push(h.constraint);const n=w.handler;w.handler=function(h,...v){return(0,y.validateConstraints)(v,t),n(h,...v)}}const{id:b}=w;let a=this._commands.get(b);a||(a=new L.LinkedList,this._commands.set(b,a));const s=a.unshift(w),i=(0,D.toDisposable)(()=>{s();const t=this._commands.get(b);t?.isEmpty()&&this._commands.delete(b)});return this._onDidRegisterCommand.fire(b),i}registerCommandAlias(w,C){return e.CommandsRegistry.registerCommand(w,(b,...a)=>b.get(e.ICommandService).executeCommand(C,...a))}getCommand(w){const C=this._commands.get(w);if(!(!C||C.isEmpty()))return k.Iterable.first(C)}getCommands(){const w=new Map;for(const C of this._commands.keys()){const b=this.getCommand(C);b&&w.set(C,b)}return w}},e.CommandsRegistry.registerCommand("noop",()=>{})}),define(te[361],ie([1,0,20,12,2,21,22,53,27,18]),function(J,e,m,k,D,L,y,p,w,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeLensModel=void 0,e.getCodeLensModel=a;class b{constructor(){this.lenses=[],this._disposables=new D.DisposableStore}dispose(){this._disposables.dispose()}get isDisposed(){return this._disposables.isDisposed}add(i,t){this._disposables.add(i);for(const n of i.lenses)this.lenses.push({symbol:n,provider:t})}}e.CodeLensModel=b;async function a(s,i,t){const n=s.ordered(i),h=new Map,v=new b,u=n.map(async(d,r)=>{h.set(d,r);try{const l=await Promise.resolve(d.provideCodeLenses(i,t));l&&v.add(l,d)}catch(l){(0,k.onUnexpectedExternalError)(l)}});return await Promise.all(u),v.lenses=v.lenses.sort((d,r)=>d.symbol.range.startLineNumber<r.symbol.range.startLineNumber?-1:d.symbol.range.startLineNumber>r.symbol.range.startLineNumber?1:h.get(d.provider)<h.get(r.provider)?-1:h.get(d.provider)>h.get(r.provider)?1:d.symbol.range.startColumn<r.symbol.range.startColumn?-1:d.symbol.range.startColumn>r.symbol.range.startColumn?1:0),v}w.CommandsRegistry.registerCommand("_executeCodeLensProvider",function(s,...i){let[t,n]=i;(0,L.assertType)(y.URI.isUri(t)),(0,L.assertType)(typeof n=="number"||!n);const{codeLensProvider:h}=s.get(C.ILanguageFeaturesService),v=s.get(p.IModelService).getModel(t);if(!v)throw(0,k.illegalArgument)();const u=[],d=new D.DisposableStore;return a(h,v,m.CancellationToken.None).then(r=>{d.add(r);const l=[];for(const o of r.lenses)n==null||o.symbol.command?u.push(o.symbol):n-- >0&&o.provider.resolveCodeLens&&l.push(Promise.resolve(o.provider.resolveCodeLens(v,o.symbol,m.CancellationToken.None)).then(g=>u.push(g||o.symbol)));return Promise.all(l)}).then(()=>u).finally(()=>{setTimeout(()=>d.dispose(),100)})})}),define(te[804],ie([1,0,13,20,12,2,21,22,5,53,27,18]),function(J,e,m,k,D,L,y,p,w,C,b,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinksList=e.Link=void 0,e.getLinks=t;class s{constructor(h,v){this._link=h,this._provider=v}toJSON(){return{range:this.range,url:this.url,tooltip:this.tooltip}}get range(){return this._link.range}get url(){return this._link.url}get tooltip(){return this._link.tooltip}async resolve(h){return this._link.url?this._link.url:typeof this._provider.resolveLink=="function"?Promise.resolve(this._provider.resolveLink(this._link,h)).then(v=>(this._link=v||this._link,this._link.url?this.resolve(h):Promise.reject(new Error("missing")))):Promise.reject(new Error("missing"))}}e.Link=s;class i{constructor(h){this._disposables=new L.DisposableStore;let v=[];for(const[u,d]of h){const r=u.links.map(l=>new s(l,d));v=i._union(v,r),(0,L.isDisposable)(u)&&this._disposables.add(u)}this.links=v}dispose(){this._disposables.dispose(),this.links.length=0}static _union(h,v){const u=[];let d,r,l,o;for(d=0,l=0,r=h.length,o=v.length;d<r&&l<o;){const g=h[d],c=v[l];if(w.Range.areIntersectingOrTouching(g.range,c.range)){d++;continue}w.Range.compareRangesUsingStarts(g.range,c.range)<0?(u.push(g),d++):(u.push(c),l++)}for(;d<r;d++)u.push(h[d]);for(;l<o;l++)u.push(v[l]);return u}}e.LinksList=i;function t(n,h,v){const u=[],d=n.ordered(h).reverse().map((r,l)=>Promise.resolve(r.provideLinks(h,v)).then(o=>{o&&(u[l]=[o,r])},D.onUnexpectedExternalError));return Promise.all(d).then(()=>{const r=new i((0,m.coalesce)(u));return v.isCancellationRequested?(r.dispose(),new i([])):r})}b.CommandsRegistry.registerCommand("_executeLinkProvider",async(n,...h)=>{let[v,u]=h;(0,y.assertType)(v instanceof p.URI),typeof u!="number"&&(u=0);const{linkProvider:d}=n.get(a.ILanguageFeaturesService),r=n.get(C.IModelService).getModel(v);if(!r)return[];const l=await t(d,r,k.CancellationToken.None);if(!l)return[];for(let g=0;g<Math.min(u,l.links.length);g++)await l.links[g].resolve(k.CancellationToken.None);const o=l.links.slice(0);return l.dispose(),o})}),define(te[362],ie([1,0,20,12,22,53,27,21,643,5,18]),function(J,e,m,k,D,L,y,p,w,C,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DocumentSemanticTokensResult=void 0,e.isSemanticTokens=a,e.isSemanticTokensEdits=s,e.hasDocumentSemanticTokensProvider=t,e.getDocumentSemanticTokens=h,e.hasDocumentRangeSemanticTokensProvider=d,e.getDocumentRangeSemanticTokens=l;function a(o){return o&&!!o.data}function s(o){return o&&Array.isArray(o.edits)}class i{constructor(g,c,f){this.provider=g,this.tokens=c,this.error=f}}e.DocumentSemanticTokensResult=i;function t(o,g){return o.has(g)}function n(o,g){const c=o.orderedGroups(g);return c.length>0?c[0]:[]}async function h(o,g,c,f,_){const S=n(o,g),I=await Promise.all(S.map(async E=>{let T,N=null;try{T=await E.provideDocumentSemanticTokens(g,E===c?f:null,_)}catch(A){N=A,T=null}return(!T||!a(T)&&!s(T))&&(T=null),new i(E,T,N)}));for(const E of I){if(E.error)throw E.error;if(E.tokens)return E}return I.length>0?I[0]:null}function v(o,g){const c=o.orderedGroups(g);return c.length>0?c[0]:null}class u{constructor(g,c){this.provider=g,this.tokens=c}}function d(o,g){return o.has(g)}function r(o,g){const c=o.orderedGroups(g);return c.length>0?c[0]:[]}async function l(o,g,c,f){const _=r(o,g),S=await Promise.all(_.map(async I=>{let E;try{E=await I.provideDocumentRangeSemanticTokens(g,c,f)}catch(T){(0,k.onUnexpectedExternalError)(T),E=null}return(!E||!a(E))&&(E=null),new u(I,E)}));for(const I of S)if(I.tokens)return I;return S.length>0?S[0]:null}y.CommandsRegistry.registerCommand("_provideDocumentSemanticTokensLegend",async(o,...g)=>{const[c]=g;(0,p.assertType)(c instanceof D.URI);const f=o.get(L.IModelService).getModel(c);if(!f)return;const{documentSemanticTokensProvider:_}=o.get(b.ILanguageFeaturesService),S=v(_,f);return S?S[0].getLegend():o.get(y.ICommandService).executeCommand("_provideDocumentRangeSemanticTokensLegend",c)}),y.CommandsRegistry.registerCommand("_provideDocumentSemanticTokens",async(o,...g)=>{const[c]=g;(0,p.assertType)(c instanceof D.URI);const f=o.get(L.IModelService).getModel(c);if(!f)return;const{documentSemanticTokensProvider:_}=o.get(b.ILanguageFeaturesService);if(!t(_,f))return o.get(y.ICommandService).executeCommand("_provideDocumentRangeSemanticTokens",c,f.getFullModelRange());const S=await h(_,f,null,null,m.CancellationToken.None);if(!S)return;const{provider:I,tokens:E}=S;if(!E||!a(E))return;const T=(0,w.encodeSemanticTokensDto)({id:0,type:"full",data:E.data});return E.resultId&&I.releaseDocumentSemanticTokens(E.resultId),T}),y.CommandsRegistry.registerCommand("_provideDocumentRangeSemanticTokensLegend",async(o,...g)=>{const[c,f]=g;(0,p.assertType)(c instanceof D.URI);const _=o.get(L.IModelService).getModel(c);if(!_)return;const{documentRangeSemanticTokensProvider:S}=o.get(b.ILanguageFeaturesService),I=r(S,_);if(I.length===0)return;if(I.length===1)return I[0].getLegend();if(!f||!C.Range.isIRange(f))return console.warn("provideDocumentRangeSemanticTokensLegend might be out-of-sync with provideDocumentRangeSemanticTokens unless a range argument is passed in"),I[0].getLegend();const E=await l(S,_,C.Range.lift(f),m.CancellationToken.None);if(E)return E.provider.getLegend()}),y.CommandsRegistry.registerCommand("_provideDocumentRangeSemanticTokens",async(o,...g)=>{const[c,f]=g;(0,p.assertType)(c instanceof D.URI),(0,p.assertType)(C.Range.isIRange(f));const _=o.get(L.IModelService).getModel(c);if(!_)return;const{documentRangeSemanticTokensProvider:S}=o.get(b.ILanguageFeaturesService),I=await l(S,_,C.Range.lift(f),m.CancellationToken.None);if(!(!I||!I.tokens))return(0,w.encodeSemanticTokensDto)({id:0,type:"full",data:I.tokens.data})})}),define(te[25],ie([1,0,8]),function(J,e,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IConfigurationService=void 0,e.toValuesTree=k,e.addToValueTree=D,e.removeFromValueTree=L,e.getConfigurationValue=p,e.getLanguageTagSettingPlainKey=w,e.IConfigurationService=(0,m.createDecorator)("configurationService");function k(C,b){const a=Object.create(null);for(const s in C)D(a,s,C[s],b);return a}function D(C,b,a,s){const i=b.split("."),t=i.pop();let n=C;for(let h=0;h<i.length;h++){const v=i[h];let u=n[v];switch(typeof u){case"undefined":u=n[v]=Object.create(null);break;case"object":break;default:s(`Ignoring ${b} as ${i.slice(0,h+1).join(".")} is ${JSON.stringify(u)}`);return}n=u}if(typeof n=="object"&&n!==null)try{n[t]=a}catch{s(`Ignoring ${b} as ${i.join(".")} is ${JSON.stringify(n)}`)}else s(`Ignoring ${b} as ${i.join(".")} is ${JSON.stringify(n)}`)}function L(C,b){const a=b.split(".");y(C,a)}function y(C,b){const a=b.shift();if(b.length===0){delete C[a];return}if(Object.keys(C).indexOf(a)!==-1){const s=C[a];typeof s=="object"&&!Array.isArray(s)&&(y(s,b),Object.keys(s).length===0&&delete C[a])}}function p(C,b,a){function s(n,h){let v=n;for(const u of h){if(typeof v!="object"||v===null)return;v=v[u]}return v}const i=b.split("."),t=s(C,i);return typeof t>"u"?a:t}function w(C){return C.replace(/[\[\]]/g,"")}}),define(te[363],ie([1,0,2,29,168,330,25]),function(J,e,m,k,D,L,y){"use strict";var p;Object.defineProperty(e,"__esModule",{value:!0}),e.MonarchTokenizer=void 0;const w=5;class C{static create(d,r){return this._INSTANCE.create(d,r)}constructor(d){this._maxCacheDepth=d,this._entries=Object.create(null)}create(d,r){if(d!==null&&d.depth>=this._maxCacheDepth)return new b(d,r);let l=b.getStackElementId(d);l.length>0&&(l+="|"),l+=r;let o=this._entries[l];return o||(o=new b(d,r),this._entries[l]=o,o)}}C._INSTANCE=new C(w);class b{constructor(d,r){this.parent=d,this.state=r,this.depth=(this.parent?this.parent.depth:0)+1}static getStackElementId(d){let r="";for(;d!==null;)r.length>0&&(r+="|"),r+=d.state,d=d.parent;return r}static _equals(d,r){for(;d!==null&&r!==null;){if(d===r)return!0;if(d.state!==r.state)return!1;d=d.parent,r=r.parent}return d===null&&r===null}equals(d){return b._equals(this,d)}push(d){return C.create(this,d)}pop(){return this.parent}popall(){let d=this;for(;d.parent;)d=d.parent;return d}switchTo(d){return C.create(this.parent,d)}}class a{constructor(d,r){this.languageId=d,this.state=r}equals(d){return this.languageId===d.languageId&&this.state.equals(d.state)}clone(){return this.state.clone()===this.state?this:new a(this.languageId,this.state)}}class s{static create(d,r){return this._INSTANCE.create(d,r)}constructor(d){this._maxCacheDepth=d,this._entries=Object.create(null)}create(d,r){if(r!==null)return new i(d,r);if(d!==null&&d.depth>=this._maxCacheDepth)return new i(d,r);const l=b.getStackElementId(d);let o=this._entries[l];return o||(o=new i(d,null),this._entries[l]=o,o)}}s._INSTANCE=new s(w);class i{constructor(d,r){this.stack=d,this.embeddedLanguageData=r}clone(){return(this.embeddedLanguageData?this.embeddedLanguageData.clone():null)===this.embeddedLanguageData?this:s.create(this.stack,this.embeddedLanguageData)}equals(d){return!(d instanceof i)||!this.stack.equals(d.stack)?!1:this.embeddedLanguageData===null&&d.embeddedLanguageData===null?!0:this.embeddedLanguageData===null||d.embeddedLanguageData===null?!1:this.embeddedLanguageData.equals(d.embeddedLanguageData)}}class t{constructor(){this._tokens=[],this._languageId=null,this._lastTokenType=null,this._lastTokenLanguage=null}enterLanguage(d){this._languageId=d}emit(d,r){this._lastTokenType===r&&this._lastTokenLanguage===this._languageId||(this._lastTokenType=r,this._lastTokenLanguage=this._languageId,this._tokens.push(new k.Token(d,r,this._languageId)))}nestedLanguageTokenize(d,r,l,o){const g=l.languageId,c=l.state,f=k.TokenizationRegistry.get(g);if(!f)return this.enterLanguage(g),this.emit(o,""),c;const _=f.tokenize(d,r,c);if(o!==0)for(const S of _.tokens)this._tokens.push(new k.Token(S.offset+o,S.type,S.language));else this._tokens=this._tokens.concat(_.tokens);return this._lastTokenType=null,this._lastTokenLanguage=null,this._languageId=null,_.endState}finalize(d){return new k.TokenizationResult(this._tokens,d)}}class n{constructor(d,r){this._languageService=d,this._theme=r,this._prependTokens=null,this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0}enterLanguage(d){this._currentLanguageId=this._languageService.languageIdCodec.encodeLanguageId(d)}emit(d,r){const l=this._theme.match(this._currentLanguageId,r)|1024;this._lastTokenMetadata!==l&&(this._lastTokenMetadata=l,this._tokens.push(d),this._tokens.push(l))}static _merge(d,r,l){const o=d!==null?d.length:0,g=r.length,c=l!==null?l.length:0;if(o===0&&g===0&&c===0)return new Uint32Array(0);if(o===0&&g===0)return l;if(g===0&&c===0)return d;const f=new Uint32Array(o+g+c);d!==null&&f.set(d);for(let _=0;_<g;_++)f[o+_]=r[_];return l!==null&&f.set(l,o+g),f}nestedLanguageTokenize(d,r,l,o){const g=l.languageId,c=l.state,f=k.TokenizationRegistry.get(g);if(!f)return this.enterLanguage(g),this.emit(o,""),c;const _=f.tokenizeEncoded(d,r,c);if(o!==0)for(let S=0,I=_.tokens.length;S<I;S+=2)_.tokens[S]+=o;return this._prependTokens=n._merge(this._prependTokens,this._tokens,_.tokens),this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0,_.endState}finalize(d){return new k.EncodedTokenizationResult(n._merge(this._prependTokens,this._tokens,null),d)}}let h=p=class extends m.Disposable{constructor(d,r,l,o,g){super(),this._configurationService=g,this._languageService=d,this._standaloneThemeService=r,this._languageId=l,this._lexer=o,this._embeddedLanguages=Object.create(null),this.embeddedLoaded=Promise.resolve(void 0);let c=!1;this._register(k.TokenizationRegistry.onDidChange(f=>{if(c)return;let _=!1;for(let S=0,I=f.changedLanguages.length;S<I;S++){const E=f.changedLanguages[S];if(this._embeddedLanguages[E]){_=!0;break}}_&&(c=!0,k.TokenizationRegistry.handleChange([this._languageId]),c=!1)})),this._maxTokenizationLineLength=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:this._languageId}),this._register(this._configurationService.onDidChangeConfiguration(f=>{f.affectsConfiguration("editor.maxTokenizationLineLength")&&(this._maxTokenizationLineLength=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:this._languageId}))}))}getLoadStatus(){const d=[];for(const r in this._embeddedLanguages){const l=k.TokenizationRegistry.get(r);if(l){if(l instanceof p){const o=l.getLoadStatus();o.loaded===!1&&d.push(o.promise)}continue}k.TokenizationRegistry.isResolved(r)||d.push(k.TokenizationRegistry.getOrCreate(r))}return d.length===0?{loaded:!0}:{loaded:!1,promise:Promise.all(d).then(r=>{})}}getInitialState(){const d=C.create(null,this._lexer.start);return s.create(d,null)}tokenize(d,r,l){if(d.length>=this._maxTokenizationLineLength)return(0,D.nullTokenize)(this._languageId,l);const o=new t,g=this._tokenize(d,r,l,o);return o.finalize(g)}tokenizeEncoded(d,r,l){if(d.length>=this._maxTokenizationLineLength)return(0,D.nullTokenizeEncoded)(this._languageService.languageIdCodec.encodeLanguageId(this._languageId),l);const o=new n(this._languageService,this._standaloneThemeService.getColorTheme().tokenTheme),g=this._tokenize(d,r,l,o);return o.finalize(g)}_tokenize(d,r,l,o){return l.embeddedLanguageData?this._nestedTokenize(d,r,l,0,o):this._myTokenize(d,r,l,0,o)}_findLeavingNestedLanguageOffset(d,r){let l=this._lexer.tokenizer[r.stack.state];if(!l&&(l=L.findRules(this._lexer,r.stack.state),!l))throw L.createError(this._lexer,"tokenizer state is not defined: "+r.stack.state);let o=-1,g=!1;for(const c of l){if(!L.isIAction(c.action)||c.action.nextEmbedded!=="@pop")continue;g=!0;let f=c.resolveRegex(r.stack.state);const _=f.source;if(_.substr(0,4)==="^(?:"&&_.substr(_.length-1,1)===")"){const I=(f.ignoreCase?"i":"")+(f.unicode?"u":"");f=new RegExp(_.substr(4,_.length-5),I)}const S=d.search(f);S===-1||S!==0&&c.matchOnlyAtLineStart||(o===-1||S<o)&&(o=S)}if(!g)throw L.createError(this._lexer,'no rule containing nextEmbedded: "@pop" in tokenizer embedded state: '+r.stack.state);return o}_nestedTokenize(d,r,l,o,g){const c=this._findLeavingNestedLanguageOffset(d,l);if(c===-1){const S=g.nestedLanguageTokenize(d,r,l.embeddedLanguageData,o);return s.create(l.stack,new a(l.embeddedLanguageData.languageId,S))}const f=d.substring(0,c);f.length>0&&g.nestedLanguageTokenize(f,!1,l.embeddedLanguageData,o);const _=d.substring(c);return this._myTokenize(_,r,l,o+c,g)}_safeRuleName(d){return d?d.name:"(unknown)"}_myTokenize(d,r,l,o,g){g.enterLanguage(this._languageId);const c=d.length,f=r&&this._lexer.includeLF?d+`
`:d,_=f.length;let S=l.embeddedLanguageData,I=l.stack,E=0,T=null,N=!0;for(;N||E<_;){const A=E,O=I.depth,M=T?T.groups.length:0,P=I.state;let x=null,R=null,B=null,H=null,V=null;if(T){x=T.matches;const U=T.groups.shift();R=U.matched,B=U.action,H=T.rule,T.groups.length===0&&(T=null)}else{if(!N&&E>=_)break;N=!1;let U=this._lexer.tokenizer[P];if(!U&&(U=L.findRules(this._lexer,P),!U))throw L.createError(this._lexer,"tokenizer state is not defined: "+P);const $=f.substr(E);for(const se of U)if((E===0||!se.matchOnlyAtLineStart)&&(x=$.match(se.resolveRegex(P)),x)){R=x[0],B=se.action;break}}if(x||(x=[""],R=""),B||(E<_&&(x=[f.charAt(E)],R=x[0]),B=this._lexer.defaultToken),R===null)break;for(E+=R.length;L.isFuzzyAction(B)&&L.isIAction(B)&&B.test;)B=B.test(R,x,P,E===_);let q=null;if(typeof B=="string"||Array.isArray(B))q=B;else if(B.group)q=B.group;else if(B.token!==null&&B.token!==void 0){if(B.tokenSubst?q=L.substituteMatches(this._lexer,B.token,R,x,P):q=B.token,B.nextEmbedded)if(B.nextEmbedded==="@pop"){if(!S)throw L.createError(this._lexer,"cannot pop embedded language if not inside one");S=null}else{if(S)throw L.createError(this._lexer,"cannot enter embedded language from within an embedded language");V=L.substituteMatches(this._lexer,B.nextEmbedded,R,x,P)}if(B.goBack&&(E=Math.max(0,E-B.goBack)),B.switchTo&&typeof B.switchTo=="string"){let U=L.substituteMatches(this._lexer,B.switchTo,R,x,P);if(U[0]==="@"&&(U=U.substr(1)),L.findRules(this._lexer,U))I=I.switchTo(U);else throw L.createError(this._lexer,"trying to switch to a state '"+U+"' that is undefined in rule: "+this._safeRuleName(H))}else{if(B.transform&&typeof B.transform=="function")throw L.createError(this._lexer,"action.transform not supported");if(B.next)if(B.next==="@push"){if(I.depth>=this._lexer.maxStack)throw L.createError(this._lexer,"maximum tokenizer stack size reached: ["+I.state+","+I.parent.state+",...]");I=I.push(P)}else if(B.next==="@pop"){if(I.depth<=1)throw L.createError(this._lexer,"trying to pop an empty stack in rule: "+this._safeRuleName(H));I=I.pop()}else if(B.next==="@popall")I=I.popall();else{let U=L.substituteMatches(this._lexer,B.next,R,x,P);if(U[0]==="@"&&(U=U.substr(1)),L.findRules(this._lexer,U))I=I.push(U);else throw L.createError(this._lexer,"trying to set a next state '"+U+"' that is undefined in rule: "+this._safeRuleName(H))}}B.log&&typeof B.log=="string"&&L.log(this._lexer,this._lexer.languageId+": "+L.substituteMatches(this._lexer,B.log,R,x,P))}if(q===null)throw L.createError(this._lexer,"lexer rule has no well-defined action in rule: "+this._safeRuleName(H));const K=U=>{const $=this._languageService.getLanguageIdByLanguageName(U)||this._languageService.getLanguageIdByMimeType(U)||U,se=this._getNestedEmbeddedLanguageData($);if(E<_){const F=d.substr(E);return this._nestedTokenize(F,r,s.create(I,se),o+E,g)}else return s.create(I,se)};if(Array.isArray(q)){if(T&&T.groups.length>0)throw L.createError(this._lexer,"groups cannot be nested: "+this._safeRuleName(H));if(x.length!==q.length+1)throw L.createError(this._lexer,"matched number of groups does not match the number of actions in rule: "+this._safeRuleName(H));let U=0;for(let $=1;$<x.length;$++)U+=x[$].length;if(U!==R.length)throw L.createError(this._lexer,"with groups, all characters should be matched in consecutive groups in rule: "+this._safeRuleName(H));T={rule:H,matches:x,groups:[]};for(let $=0;$<q.length;$++)T.groups[$]={action:q[$],matched:x[$+1]};E-=R.length;continue}else{if(q==="@rematch"&&(E-=R.length,R="",x=null,q="",V!==null))return K(V);if(R.length===0){if(_===0||O!==I.depth||P!==I.state||(T?T.groups.length:0)!==M)continue;throw L.createError(this._lexer,"no progress in tokenizer in rule: "+this._safeRuleName(H))}let U=null;if(L.isString(q)&&q.indexOf("@brackets")===0){const $=q.substr(9),se=v(this._lexer,R);if(!se)throw L.createError(this._lexer,"@brackets token returned but no bracket defined as: "+R);U=L.sanitize(se.token+$)}else{const $=q===""?"":q+this._lexer.tokenPostfix;U=L.sanitize($)}A<c&&g.emit(A+o,U)}if(V!==null)return K(V)}return s.create(I,S)}_getNestedEmbeddedLanguageData(d){if(!this._languageService.isRegisteredLanguageId(d))return new a(d,D.NullState);d!==this._languageId&&(this._languageService.requestBasicLanguageFeatures(d),k.TokenizationRegistry.getOrCreate(d),this._embeddedLanguages[d]=!0);const r=k.TokenizationRegistry.get(d);return r?new a(d,r.getInitialState()):new a(d,D.NullState)}};e.MonarchTokenizer=h,e.MonarchTokenizer=h=p=Ie([he(4,y.IConfigurationService)],h);function v(u,d){if(!d)return null;d=L.fixCase(u,d);const r=u.brackets;for(const l of r){if(l.open===d)return{token:l.token,bracketType:1};if(l.close===d)return{token:l.token,bracketType:-1}}return null}}),define(te[805],ie([1,0,98,11,29,102,129,90,363]),function(J,e,m,k,D,L,y,p,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Colorizer=void 0;const C=(0,m.createTrustedTypesPolicy)("standaloneColorizer",{createHTML:t=>t});class b{static colorizeElement(n,h,v,u){u=u||{};const d=u.theme||"vs",r=u.mimeType||v.getAttribute("lang")||v.getAttribute("data-lang");if(!r)return console.error("Mode not detected"),Promise.resolve();const l=h.getLanguageIdByMimeType(r)||r;n.setTheme(d);const o=v.firstChild?v.firstChild.nodeValue:"";v.className+=" "+d;const g=c=>{var f;const _=(f=C?.createHTML(c))!==null&&f!==void 0?f:c;v.innerHTML=_};return this.colorize(h,o||"",l,u).then(g,c=>console.error(c))}static async colorize(n,h,v,u){const d=n.languageIdCodec;let r=4;u&&typeof u.tabSize=="number"&&(r=u.tabSize),k.startsWithUTF8BOM(h)&&(h=h.substr(1));const l=k.splitLines(h);if(!n.isRegisteredLanguageId(v))return s(l,r,d);const o=await D.TokenizationRegistry.getOrCreate(v);return o?a(l,r,o,d):s(l,r,d)}static colorizeLine(n,h,v,u,d=4){const r=p.ViewLineRenderingData.isBasicASCII(n,h),l=p.ViewLineRenderingData.containsRTL(n,r,v);return(0,y.renderViewLine2)(new y.RenderLineInput(!1,!0,n,!1,r,l,0,u,[],d,0,0,0,0,-1,"none",!1,!1,null)).html}static colorizeModelLine(n,h,v=4){const u=n.getLineContent(h);n.tokenization.forceTokenization(h);const r=n.tokenization.getLineTokens(h).inflate();return this.colorizeLine(u,n.mightContainNonBasicASCII(),n.mightContainRTL(),r,v)}}e.Colorizer=b;function a(t,n,h,v){return new Promise((u,d)=>{const r=()=>{const l=i(t,n,h,v);if(h instanceof w.MonarchTokenizer){const o=h.getLoadStatus();if(o.loaded===!1){o.promise.then(r,d);return}}u(l)};r()})}function s(t,n,h){let v=[];const d=new Uint32Array(2);d[0]=0,d[1]=33587200;for(let r=0,l=t.length;r<l;r++){const o=t[r];d[0]=o.length;const g=new L.LineTokens(d,o,h),c=p.ViewLineRenderingData.isBasicASCII(o,!0),f=p.ViewLineRenderingData.containsRTL(o,c,!0),_=(0,y.renderViewLine2)(new y.RenderLineInput(!1,!0,o,!1,c,f,0,g,[],n,0,0,0,0,-1,"none",!1,!1,null));v=v.concat(_.html),v.push("<br/>")}return v.join("")}function i(t,n,h,v){let u=[],d=h.getInitialState();for(let r=0,l=t.length;r<l;r++){const o=t[r],g=h.tokenizeEncoded(o,!0,d);L.LineTokens.convertToEndOffset(g.tokens,o.length);const c=new L.LineTokens(g.tokens,o,v),f=p.ViewLineRenderingData.isBasicASCII(o,!0),_=p.ViewLineRenderingData.containsRTL(o,f,!0),S=(0,y.renderViewLine2)(new y.RenderLineInput(!1,!0,o,!1,f,_,0,c.inflate(),[],n,0,0,0,0,-1,"none",!1,!1,null));u=u.concat(S.html),u.push("<br/>"),d=g.endState}return u.join("")}}),define(te[14],ie([1,0,17,11,796,8,768]),function(J,e,m,k,D,L,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IContextKeyService=e.RawContextKey=e.ContextKeyOrExpr=e.ContextKeyAndExpr=e.ContextKeyNotRegexExpr=e.ContextKeyRegexExpr=e.ContextKeySmallerEqualsExpr=e.ContextKeySmallerExpr=e.ContextKeyGreaterEqualsExpr=e.ContextKeyGreaterExpr=e.ContextKeyNotExpr=e.ContextKeyNotEqualsExpr=e.ContextKeyNotInExpr=e.ContextKeyInExpr=e.ContextKeyEqualsExpr=e.ContextKeyDefinedExpr=e.ContextKeyTrueExpr=e.ContextKeyFalseExpr=e.ContextKeyExpr=e.Parser=void 0,e.expressionsAreEqualWithConstantSubstitution=r,e.implies=U;const p=new Map;p.set("false",!1),p.set("true",!0),p.set("isMac",m.isMacintosh),p.set("isLinux",m.isLinux),p.set("isWindows",m.isWindows),p.set("isWeb",m.isWeb),p.set("isMacNative",m.isMacintosh&&!m.isWeb),p.set("isEdge",m.isEdge),p.set("isFirefox",m.isFirefox),p.set("isChrome",m.isChrome),p.set("isSafari",m.isSafari);const w=Object.prototype.hasOwnProperty,C={regexParsingWithErrorRecovery:!0},b=(0,y.localize)(0,null),a=(0,y.localize)(1,null),s=(0,y.localize)(2,null),i=(0,y.localize)(3,null),t=(0,y.localize)(4,null),n=(0,y.localize)(5,null),h=(0,y.localize)(6,null),v=(0,y.localize)(7,null);class u{constructor(X=C){this._config=X,this._scanner=new D.Scanner,this._tokens=[],this._current=0,this._parsingErrors=[],this._flagsGYRe=/g|y/g}parse(X){if(X===""){this._parsingErrors.push({message:b,offset:0,lexeme:"",additionalInfo:a});return}this._tokens=this._scanner.reset(X).scan(),this._current=0,this._parsingErrors=[];try{const Q=this._expr();if(!this._isAtEnd()){const Z=this._peek(),ae=Z.type===17?n:void 0;throw this._parsingErrors.push({message:t,offset:Z.offset,lexeme:D.Scanner.getLexeme(Z),additionalInfo:ae}),u._parseError}return Q}catch(Q){if(Q!==u._parseError)throw Q;return}}_expr(){return this._or()}_or(){const X=[this._and()];for(;this._matchOne(16);){const Q=this._and();X.push(Q)}return X.length===1?X[0]:d.or(...X)}_and(){const X=[this._term()];for(;this._matchOne(15);){const Q=this._term();X.push(Q)}return X.length===1?X[0]:d.and(...X)}_term(){if(this._matchOne(2)){const X=this._peek();switch(X.type){case 11:return this._advance(),o.INSTANCE;case 12:return this._advance(),g.INSTANCE;case 0:{this._advance();const Q=this._expr();return this._consume(1,i),Q?.negate()}case 17:return this._advance(),E.create(X.lexeme);default:throw this._errExpectedButGot("KEY | true | false | '(' expression ')'",X)}}return this._primary()}_primary(){const X=this._peek();switch(X.type){case 11:return this._advance(),d.true();case 12:return this._advance(),d.false();case 0:{this._advance();const Q=this._expr();return this._consume(1,i),Q}case 17:{const Q=X.lexeme;if(this._advance(),this._matchOne(9)){const ae=this._peek();if(!this._config.regexParsingWithErrorRecovery){if(this._advance(),ae.type!==10)throw this._errExpectedButGot("REGEX",ae);const ue=ae.lexeme,ge=ue.lastIndexOf("/"),fe=ge===ue.length-1?void 0:this._removeFlagsGY(ue.substring(ge+1));let re;try{re=new RegExp(ue.substring(1,ge),fe)}catch{throw this._errExpectedButGot("REGEX",ae)}return P.create(Q,re)}switch(ae.type){case 10:case 19:{const ue=[ae.lexeme];this._advance();let ge=this._peek(),fe=0;for(let z=0;z<ae.lexeme.length;z++)ae.lexeme.charCodeAt(z)===40?fe++:ae.lexeme.charCodeAt(z)===41&&fe--;for(;!this._isAtEnd()&&ge.type!==15&&ge.type!==16;){switch(ge.type){case 0:fe++;break;case 1:fe--;break;case 10:case 18:for(let z=0;z<ge.lexeme.length;z++)ge.lexeme.charCodeAt(z)===40?fe++:ae.lexeme.charCodeAt(z)===41&&fe--}if(fe<0)break;ue.push(D.Scanner.getLexeme(ge)),this._advance(),ge=this._peek()}const re=ue.join(""),de=re.lastIndexOf("/"),ee=de===re.length-1?void 0:this._removeFlagsGY(re.substring(de+1));let W;try{W=new RegExp(re.substring(1,de),ee)}catch{throw this._errExpectedButGot("REGEX",ae)}return d.regex(Q,W)}case 18:{const ue=ae.lexeme;this._advance();let ge=null;if(!(0,k.isFalsyOrWhitespace)(ue)){const fe=ue.indexOf("/"),re=ue.lastIndexOf("/");if(fe!==re&&fe>=0){const de=ue.slice(fe+1,re),ee=ue[re+1]==="i"?"i":"";try{ge=new RegExp(de,ee)}catch{throw this._errExpectedButGot("REGEX",ae)}}}if(ge===null)throw this._errExpectedButGot("REGEX",ae);return P.create(Q,ge)}default:throw this._errExpectedButGot("REGEX",this._peek())}}if(this._matchOne(14)){this._consume(13,s);const ae=this._value();return d.notIn(Q,ae)}switch(this._peek().type){case 3:{this._advance();const ae=this._value();if(this._previous().type===18)return d.equals(Q,ae);switch(ae){case"true":return d.has(Q);case"false":return d.not(Q);default:return d.equals(Q,ae)}}case 4:{this._advance();const ae=this._value();if(this._previous().type===18)return d.notEquals(Q,ae);switch(ae){case"true":return d.not(Q);case"false":return d.has(Q);default:return d.notEquals(Q,ae)}}case 5:return this._advance(),O.create(Q,this._value());case 6:return this._advance(),M.create(Q,this._value());case 7:return this._advance(),N.create(Q,this._value());case 8:return this._advance(),A.create(Q,this._value());case 13:return this._advance(),d.in(Q,this._value());default:return d.has(Q)}}case 20:throw this._parsingErrors.push({message:h,offset:X.offset,lexeme:"",additionalInfo:v}),u._parseError;default:throw this._errExpectedButGot(`true | false | KEY 
	| KEY '=~' REGEX 
	| KEY ('==' | '!=' | '<' | '<=' | '>' | '>=' | 'in' | 'not' 'in') value`,this._peek())}}_value(){const X=this._peek();switch(X.type){case 17:case 18:return this._advance(),X.lexeme;case 11:return this._advance(),"true";case 12:return this._advance(),"false";case 13:return this._advance(),"in";default:return""}}_removeFlagsGY(X){return X.replaceAll(this._flagsGYRe,"")}_previous(){return this._tokens[this._current-1]}_matchOne(X){return this._check(X)?(this._advance(),!0):!1}_advance(){return this._isAtEnd()||this._current++,this._previous()}_consume(X,Q){if(this._check(X))return this._advance();throw this._errExpectedButGot(Q,this._peek())}_errExpectedButGot(X,Q,Z){const ae=(0,y.localize)(8,null,X,D.Scanner.getLexeme(Q)),ue=Q.offset,ge=D.Scanner.getLexeme(Q);return this._parsingErrors.push({message:ae,offset:ue,lexeme:ge,additionalInfo:Z}),u._parseError}_check(X){return this._peek().type===X}_peek(){return this._tokens[this._current]}_isAtEnd(){return this._peek().type===20}}e.Parser=u,u._parseError=new Error;class d{static false(){return o.INSTANCE}static true(){return g.INSTANCE}static has(X){return c.create(X)}static equals(X,Q){return f.create(X,Q)}static notEquals(X,Q){return I.create(X,Q)}static regex(X,Q){return P.create(X,Q)}static in(X,Q){return _.create(X,Q)}static notIn(X,Q){return S.create(X,Q)}static not(X){return E.create(X)}static and(...X){return B.create(X,null,!0)}static or(...X){return H.create(X,null,!0)}static deserialize(X){return X==null?void 0:this._parser.parse(X)}}e.ContextKeyExpr=d,d._parser=new u({regexParsingWithErrorRecovery:!1});function r(F,X){const Q=F?F.substituteConstants():void 0,Z=X?X.substituteConstants():void 0;return!Q&&!Z?!0:!Q||!Z?!1:Q.equals(Z)}function l(F,X){return F.cmp(X)}class o{constructor(){this.type=0}cmp(X){return this.type-X.type}equals(X){return X.type===this.type}substituteConstants(){return this}evaluate(X){return!1}serialize(){return"false"}keys(){return[]}negate(){return g.INSTANCE}}e.ContextKeyFalseExpr=o,o.INSTANCE=new o;class g{constructor(){this.type=1}cmp(X){return this.type-X.type}equals(X){return X.type===this.type}substituteConstants(){return this}evaluate(X){return!0}serialize(){return"true"}keys(){return[]}negate(){return o.INSTANCE}}e.ContextKeyTrueExpr=g,g.INSTANCE=new g;class c{static create(X,Q=null){const Z=p.get(X);return typeof Z=="boolean"?Z?g.INSTANCE:o.INSTANCE:new c(X,Q)}constructor(X,Q){this.key=X,this.negated=Q,this.type=2}cmp(X){return X.type!==this.type?this.type-X.type:q(this.key,X.key)}equals(X){return X.type===this.type?this.key===X.key:!1}substituteConstants(){const X=p.get(this.key);return typeof X=="boolean"?X?g.INSTANCE:o.INSTANCE:this}evaluate(X){return!!X.getValue(this.key)}serialize(){return this.key}keys(){return[this.key]}negate(){return this.negated||(this.negated=E.create(this.key,this)),this.negated}}e.ContextKeyDefinedExpr=c;class f{static create(X,Q,Z=null){if(typeof Q=="boolean")return Q?c.create(X,Z):E.create(X,Z);const ae=p.get(X);return typeof ae=="boolean"?Q===(ae?"true":"false")?g.INSTANCE:o.INSTANCE:new f(X,Q,Z)}constructor(X,Q,Z){this.key=X,this.value=Q,this.negated=Z,this.type=4}cmp(X){return X.type!==this.type?this.type-X.type:K(this.key,this.value,X.key,X.value)}equals(X){return X.type===this.type?this.key===X.key&&this.value===X.value:!1}substituteConstants(){const X=p.get(this.key);if(typeof X=="boolean"){const Q=X?"true":"false";return this.value===Q?g.INSTANCE:o.INSTANCE}return this}evaluate(X){return X.getValue(this.key)==this.value}serialize(){return`${this.key} == '${this.value}'`}keys(){return[this.key]}negate(){return this.negated||(this.negated=I.create(this.key,this.value,this)),this.negated}}e.ContextKeyEqualsExpr=f;class _{static create(X,Q){return new _(X,Q)}constructor(X,Q){this.key=X,this.valueKey=Q,this.type=10,this.negated=null}cmp(X){return X.type!==this.type?this.type-X.type:K(this.key,this.valueKey,X.key,X.valueKey)}equals(X){return X.type===this.type?this.key===X.key&&this.valueKey===X.valueKey:!1}substituteConstants(){return this}evaluate(X){const Q=X.getValue(this.valueKey),Z=X.getValue(this.key);return Array.isArray(Q)?Q.includes(Z):typeof Z=="string"&&typeof Q=="object"&&Q!==null?w.call(Q,Z):!1}serialize(){return`${this.key} in '${this.valueKey}'`}keys(){return[this.key,this.valueKey]}negate(){return this.negated||(this.negated=S.create(this.key,this.valueKey)),this.negated}}e.ContextKeyInExpr=_;class S{static create(X,Q){return new S(X,Q)}constructor(X,Q){this.key=X,this.valueKey=Q,this.type=11,this._negated=_.create(X,Q)}cmp(X){return X.type!==this.type?this.type-X.type:this._negated.cmp(X._negated)}equals(X){return X.type===this.type?this._negated.equals(X._negated):!1}substituteConstants(){return this}evaluate(X){return!this._negated.evaluate(X)}serialize(){return`${this.key} not in '${this.valueKey}'`}keys(){return this._negated.keys()}negate(){return this._negated}}e.ContextKeyNotInExpr=S;class I{static create(X,Q,Z=null){if(typeof Q=="boolean")return Q?E.create(X,Z):c.create(X,Z);const ae=p.get(X);return typeof ae=="boolean"?Q===(ae?"true":"false")?o.INSTANCE:g.INSTANCE:new I(X,Q,Z)}constructor(X,Q,Z){this.key=X,this.value=Q,this.negated=Z,this.type=5}cmp(X){return X.type!==this.type?this.type-X.type:K(this.key,this.value,X.key,X.value)}equals(X){return X.type===this.type?this.key===X.key&&this.value===X.value:!1}substituteConstants(){const X=p.get(this.key);if(typeof X=="boolean"){const Q=X?"true":"false";return this.value===Q?o.INSTANCE:g.INSTANCE}return this}evaluate(X){return X.getValue(this.key)!=this.value}serialize(){return`${this.key} != '${this.value}'`}keys(){return[this.key]}negate(){return this.negated||(this.negated=f.create(this.key,this.value,this)),this.negated}}e.ContextKeyNotEqualsExpr=I;class E{static create(X,Q=null){const Z=p.get(X);return typeof Z=="boolean"?Z?o.INSTANCE:g.INSTANCE:new E(X,Q)}constructor(X,Q){this.key=X,this.negated=Q,this.type=3}cmp(X){return X.type!==this.type?this.type-X.type:q(this.key,X.key)}equals(X){return X.type===this.type?this.key===X.key:!1}substituteConstants(){const X=p.get(this.key);return typeof X=="boolean"?X?o.INSTANCE:g.INSTANCE:this}evaluate(X){return!X.getValue(this.key)}serialize(){return`!${this.key}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=c.create(this.key,this)),this.negated}}e.ContextKeyNotExpr=E;function T(F,X){if(typeof F=="string"){const Q=parseFloat(F);isNaN(Q)||(F=Q)}return typeof F=="string"||typeof F=="number"?X(F):o.INSTANCE}class N{static create(X,Q,Z=null){return T(Q,ae=>new N(X,ae,Z))}constructor(X,Q,Z){this.key=X,this.value=Q,this.negated=Z,this.type=12}cmp(X){return X.type!==this.type?this.type-X.type:K(this.key,this.value,X.key,X.value)}equals(X){return X.type===this.type?this.key===X.key&&this.value===X.value:!1}substituteConstants(){return this}evaluate(X){return typeof this.value=="string"?!1:parseFloat(X.getValue(this.key))>this.value}serialize(){return`${this.key} > ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=M.create(this.key,this.value,this)),this.negated}}e.ContextKeyGreaterExpr=N;class A{static create(X,Q,Z=null){return T(Q,ae=>new A(X,ae,Z))}constructor(X,Q,Z){this.key=X,this.value=Q,this.negated=Z,this.type=13}cmp(X){return X.type!==this.type?this.type-X.type:K(this.key,this.value,X.key,X.value)}equals(X){return X.type===this.type?this.key===X.key&&this.value===X.value:!1}substituteConstants(){return this}evaluate(X){return typeof this.value=="string"?!1:parseFloat(X.getValue(this.key))>=this.value}serialize(){return`${this.key} >= ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=O.create(this.key,this.value,this)),this.negated}}e.ContextKeyGreaterEqualsExpr=A;class O{static create(X,Q,Z=null){return T(Q,ae=>new O(X,ae,Z))}constructor(X,Q,Z){this.key=X,this.value=Q,this.negated=Z,this.type=14}cmp(X){return X.type!==this.type?this.type-X.type:K(this.key,this.value,X.key,X.value)}equals(X){return X.type===this.type?this.key===X.key&&this.value===X.value:!1}substituteConstants(){return this}evaluate(X){return typeof this.value=="string"?!1:parseFloat(X.getValue(this.key))<this.value}serialize(){return`${this.key} < ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=A.create(this.key,this.value,this)),this.negated}}e.ContextKeySmallerExpr=O;class M{static create(X,Q,Z=null){return T(Q,ae=>new M(X,ae,Z))}constructor(X,Q,Z){this.key=X,this.value=Q,this.negated=Z,this.type=15}cmp(X){return X.type!==this.type?this.type-X.type:K(this.key,this.value,X.key,X.value)}equals(X){return X.type===this.type?this.key===X.key&&this.value===X.value:!1}substituteConstants(){return this}evaluate(X){return typeof this.value=="string"?!1:parseFloat(X.getValue(this.key))<=this.value}serialize(){return`${this.key} <= ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=N.create(this.key,this.value,this)),this.negated}}e.ContextKeySmallerEqualsExpr=M;class P{static create(X,Q){return new P(X,Q)}constructor(X,Q){this.key=X,this.regexp=Q,this.type=7,this.negated=null}cmp(X){if(X.type!==this.type)return this.type-X.type;if(this.key<X.key)return-1;if(this.key>X.key)return 1;const Q=this.regexp?this.regexp.source:"",Z=X.regexp?X.regexp.source:"";return Q<Z?-1:Q>Z?1:0}equals(X){if(X.type===this.type){const Q=this.regexp?this.regexp.source:"",Z=X.regexp?X.regexp.source:"";return this.key===X.key&&Q===Z}return!1}substituteConstants(){return this}evaluate(X){const Q=X.getValue(this.key);return this.regexp?this.regexp.test(Q):!1}serialize(){const X=this.regexp?`/${this.regexp.source}/${this.regexp.flags}`:"/invalid/";return`${this.key} =~ ${X}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=x.create(this)),this.negated}}e.ContextKeyRegexExpr=P;class x{static create(X){return new x(X)}constructor(X){this._actual=X,this.type=8}cmp(X){return X.type!==this.type?this.type-X.type:this._actual.cmp(X._actual)}equals(X){return X.type===this.type?this._actual.equals(X._actual):!1}substituteConstants(){return this}evaluate(X){return!this._actual.evaluate(X)}serialize(){return`!(${this._actual.serialize()})`}keys(){return this._actual.keys()}negate(){return this._actual}}e.ContextKeyNotRegexExpr=x;function R(F){let X=null;for(let Q=0,Z=F.length;Q<Z;Q++){const ae=F[Q].substituteConstants();if(F[Q]!==ae&&X===null){X=[];for(let ue=0;ue<Q;ue++)X[ue]=F[ue]}X!==null&&(X[Q]=ae)}return X===null?F:X}class B{static create(X,Q,Z){return B._normalizeArr(X,Q,Z)}constructor(X,Q){this.expr=X,this.negated=Q,this.type=6}cmp(X){if(X.type!==this.type)return this.type-X.type;if(this.expr.length<X.expr.length)return-1;if(this.expr.length>X.expr.length)return 1;for(let Q=0,Z=this.expr.length;Q<Z;Q++){const ae=l(this.expr[Q],X.expr[Q]);if(ae!==0)return ae}return 0}equals(X){if(X.type===this.type){if(this.expr.length!==X.expr.length)return!1;for(let Q=0,Z=this.expr.length;Q<Z;Q++)if(!this.expr[Q].equals(X.expr[Q]))return!1;return!0}return!1}substituteConstants(){const X=R(this.expr);return X===this.expr?this:B.create(X,this.negated,!1)}evaluate(X){for(let Q=0,Z=this.expr.length;Q<Z;Q++)if(!this.expr[Q].evaluate(X))return!1;return!0}static _normalizeArr(X,Q,Z){const ae=[];let ue=!1;for(const ge of X)if(ge){if(ge.type===1){ue=!0;continue}if(ge.type===0)return o.INSTANCE;if(ge.type===6){ae.push(...ge.expr);continue}ae.push(ge)}if(ae.length===0&&ue)return g.INSTANCE;if(ae.length!==0){if(ae.length===1)return ae[0];ae.sort(l);for(let ge=1;ge<ae.length;ge++)ae[ge-1].equals(ae[ge])&&(ae.splice(ge,1),ge--);if(ae.length===1)return ae[0];for(;ae.length>1;){const ge=ae[ae.length-1];if(ge.type!==9)break;ae.pop();const fe=ae.pop(),re=ae.length===0,de=H.create(ge.expr.map(ee=>B.create([ee,fe],null,Z)),null,re);de&&(ae.push(de),ae.sort(l))}if(ae.length===1)return ae[0];if(Z){for(let ge=0;ge<ae.length;ge++)for(let fe=ge+1;fe<ae.length;fe++)if(ae[ge].negate().equals(ae[fe]))return o.INSTANCE;if(ae.length===1)return ae[0]}return new B(ae,Q)}}serialize(){return this.expr.map(X=>X.serialize()).join(" && ")}keys(){const X=[];for(const Q of this.expr)X.push(...Q.keys());return X}negate(){if(!this.negated){const X=[];for(const Q of this.expr)X.push(Q.negate());this.negated=H.create(X,this,!0)}return this.negated}}e.ContextKeyAndExpr=B;class H{static create(X,Q,Z){return H._normalizeArr(X,Q,Z)}constructor(X,Q){this.expr=X,this.negated=Q,this.type=9}cmp(X){if(X.type!==this.type)return this.type-X.type;if(this.expr.length<X.expr.length)return-1;if(this.expr.length>X.expr.length)return 1;for(let Q=0,Z=this.expr.length;Q<Z;Q++){const ae=l(this.expr[Q],X.expr[Q]);if(ae!==0)return ae}return 0}equals(X){if(X.type===this.type){if(this.expr.length!==X.expr.length)return!1;for(let Q=0,Z=this.expr.length;Q<Z;Q++)if(!this.expr[Q].equals(X.expr[Q]))return!1;return!0}return!1}substituteConstants(){const X=R(this.expr);return X===this.expr?this:H.create(X,this.negated,!1)}evaluate(X){for(let Q=0,Z=this.expr.length;Q<Z;Q++)if(this.expr[Q].evaluate(X))return!0;return!1}static _normalizeArr(X,Q,Z){let ae=[],ue=!1;if(X){for(let ge=0,fe=X.length;ge<fe;ge++){const re=X[ge];if(re){if(re.type===0){ue=!0;continue}if(re.type===1)return g.INSTANCE;if(re.type===9){ae=ae.concat(re.expr);continue}ae.push(re)}}if(ae.length===0&&ue)return o.INSTANCE;ae.sort(l)}if(ae.length!==0){if(ae.length===1)return ae[0];for(let ge=1;ge<ae.length;ge++)ae[ge-1].equals(ae[ge])&&(ae.splice(ge,1),ge--);if(ae.length===1)return ae[0];if(Z){for(let ge=0;ge<ae.length;ge++)for(let fe=ge+1;fe<ae.length;fe++)if(ae[ge].negate().equals(ae[fe]))return g.INSTANCE;if(ae.length===1)return ae[0]}return new H(ae,Q)}}serialize(){return this.expr.map(X=>X.serialize()).join(" || ")}keys(){const X=[];for(const Q of this.expr)X.push(...Q.keys());return X}negate(){if(!this.negated){const X=[];for(const Q of this.expr)X.push(Q.negate());for(;X.length>1;){const Q=X.shift(),Z=X.shift(),ae=[];for(const ue of se(Q))for(const ge of se(Z))ae.push(B.create([ue,ge],null,!1));X.unshift(H.create(ae,null,!1))}this.negated=H.create(X,this,!0)}return this.negated}}e.ContextKeyOrExpr=H;class V extends c{static all(){return V._info.values()}constructor(X,Q,Z){super(X,null),this._defaultValue=Q,typeof Z=="object"?V._info.push({...Z,key:X}):Z!==!0&&V._info.push({key:X,description:Z,type:Q!=null?typeof Q:void 0})}bindTo(X){return X.createKey(this.key,this._defaultValue)}getValue(X){return X.getContextKeyValue(this.key)}toNegated(){return this.negate()}isEqualTo(X){return f.create(this.key,X)}}e.RawContextKey=V,V._info=[],e.IContextKeyService=(0,L.createDecorator)("contextKeyService");function q(F,X){return F<X?-1:F>X?1:0}function K(F,X,Q,Z){return F<Q?-1:F>Q?1:X<Z?-1:X>Z?1:0}function U(F,X){if(F.type===0||X.type===1)return!0;if(F.type===9)return X.type===9?$(F.expr,X.expr):!1;if(X.type===9){for(const Q of X.expr)if(U(F,Q))return!0;return!1}if(F.type===6){if(X.type===6)return $(X.expr,F.expr);for(const Q of F.expr)if(U(Q,X))return!0;return!1}return F.equals(X)}function $(F,X){let Q=0,Z=0;for(;Q<F.length&&Z<X.length;){const ae=F[Q].cmp(X[Z]);if(ae<0)return!1;ae===0&&Q++,Z++}return Q===F.length}function se(F){return F.type===9?F.expr:[F]}}),define(te[19],ie([1,0,668,14]),function(J,e,m,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorContextKeys=void 0;var D;(function(L){L.editorSimpleInput=new k.RawContextKey("editorSimpleInput",!1,!0),L.editorTextFocus=new k.RawContextKey("editorTextFocus",!1,m.localize(0,null)),L.focus=new k.RawContextKey("editorFocus",!1,m.localize(1,null)),L.textInputFocus=new k.RawContextKey("textInputFocus",!1,m.localize(2,null)),L.readOnly=new k.RawContextKey("editorReadonly",!1,m.localize(3,null)),L.inDiffEditor=new k.RawContextKey("inDiffEditor",!1,m.localize(4,null)),L.isEmbeddedDiffEditor=new k.RawContextKey("isEmbeddedDiffEditor",!1,m.localize(5,null)),L.inMultiDiffEditor=new k.RawContextKey("inMultiDiffEditor",!1,m.localize(6,null)),L.multiDiffEditorAllCollapsed=new k.RawContextKey("multiDiffEditorAllCollapsed",void 0,m.localize(7,null)),L.hasChanges=new k.RawContextKey("diffEditorHasChanges",!1,m.localize(8,null)),L.comparingMovedCode=new k.RawContextKey("comparingMovedCode",!1,m.localize(9,null)),L.accessibleDiffViewerVisible=new k.RawContextKey("accessibleDiffViewerVisible",!1,m.localize(10,null)),L.diffEditorRenderSideBySideInlineBreakpointReached=new k.RawContextKey("diffEditorRenderSideBySideInlineBreakpointReached",!1,m.localize(11,null)),L.diffEditorInlineMode=new k.RawContextKey("diffEditorInlineMode",!1,m.localize(12,null)),L.diffEditorOriginalWritable=new k.RawContextKey("diffEditorOriginalWritable",!1,m.localize(13,null)),L.diffEditorModifiedWritable=new k.RawContextKey("diffEditorModifiedWritable",!1,m.localize(14,null)),L.diffEditorOriginalUri=new k.RawContextKey("diffEditorOriginalUri","",m.localize(15,null)),L.diffEditorModifiedUri=new k.RawContextKey("diffEditorModifiedUri","",m.localize(16,null)),L.columnSelection=new k.RawContextKey("editorColumnSelection",!1,m.localize(17,null)),L.writable=L.readOnly.toNegated(),L.hasNonEmptySelection=new k.RawContextKey("editorHasSelection",!1,m.localize(18,null)),L.hasOnlyEmptySelection=L.hasNonEmptySelection.toNegated(),L.hasMultipleSelections=new k.RawContextKey("editorHasMultipleSelections",!1,m.localize(19,null)),L.hasSingleSelection=L.hasMultipleSelections.toNegated(),L.tabMovesFocus=new k.RawContextKey("editorTabMovesFocus",!1,m.localize(20,null)),L.tabDoesNotMoveFocus=L.tabMovesFocus.toNegated(),L.isInEmbeddedEditor=new k.RawContextKey("isInEmbeddedEditor",!1,!0),L.canUndo=new k.RawContextKey("canUndo",!1,!0),L.canRedo=new k.RawContextKey("canRedo",!1,!0),L.hoverVisible=new k.RawContextKey("editorHoverVisible",!1,m.localize(21,null)),L.hoverFocused=new k.RawContextKey("editorHoverFocused",!1,m.localize(22,null)),L.stickyScrollFocused=new k.RawContextKey("stickyScrollFocused",!1,m.localize(23,null)),L.stickyScrollVisible=new k.RawContextKey("stickyScrollVisible",!1,m.localize(24,null)),L.standaloneColorPickerVisible=new k.RawContextKey("standaloneColorPickerVisible",!1,m.localize(25,null)),L.standaloneColorPickerFocused=new k.RawContextKey("standaloneColorPickerFocused",!1,m.localize(26,null)),L.inCompositeEditor=new k.RawContextKey("inCompositeEditor",void 0,m.localize(27,null)),L.notInCompositeEditor=L.inCompositeEditor.toNegated(),L.languageId=new k.RawContextKey("editorLangId","",m.localize(28,null)),L.hasCompletionItemProvider=new k.RawContextKey("editorHasCompletionItemProvider",!1,m.localize(29,null)),L.hasCodeActionsProvider=new k.RawContextKey("editorHasCodeActionsProvider",!1,m.localize(30,null)),L.hasCodeLensProvider=new k.RawContextKey("editorHasCodeLensProvider",!1,m.localize(31,null)),L.hasDefinitionProvider=new k.RawContextKey("editorHasDefinitionProvider",!1,m.localize(32,null)),L.hasDeclarationProvider=new k.RawContextKey("editorHasDeclarationProvider",!1,m.localize(33,null)),L.hasImplementationProvider=new k.RawContextKey("editorHasImplementationProvider",!1,m.localize(34,null)),L.hasTypeDefinitionProvider=new k.RawContextKey("editorHasTypeDefinitionProvider",!1,m.localize(35,null)),L.hasHoverProvider=new k.RawContextKey("editorHasHoverProvider",!1,m.localize(36,null)),L.hasDocumentHighlightProvider=new k.RawContextKey("editorHasDocumentHighlightProvider",!1,m.localize(37,null)),L.hasDocumentSymbolProvider=new k.RawContextKey("editorHasDocumentSymbolProvider",!1,m.localize(38,null)),L.hasReferenceProvider=new k.RawContextKey("editorHasReferenceProvider",!1,m.localize(39,null)),L.hasRenameProvider=new k.RawContextKey("editorHasRenameProvider",!1,m.localize(40,null)),L.hasSignatureHelpProvider=new k.RawContextKey("editorHasSignatureHelpProvider",!1,m.localize(41,null)),L.hasInlayHintsProvider=new k.RawContextKey("editorHasInlayHintsProvider",!1,m.localize(42,null)),L.hasDocumentFormattingProvider=new k.RawContextKey("editorHasDocumentFormattingProvider",!1,m.localize(43,null)),L.hasDocumentSelectionFormattingProvider=new k.RawContextKey("editorHasDocumentSelectionFormattingProvider",!1,m.localize(44,null)),L.hasMultipleDocumentFormattingProvider=new k.RawContextKey("editorHasMultipleDocumentFormattingProvider",!1,m.localize(45,null)),L.hasMultipleDocumentSelectionFormattingProvider=new k.RawContextKey("editorHasMultipleDocumentSelectionFormattingProvider",!1,m.localize(46,null))})(D||(e.EditorContextKeys=D={}))}),define(te[256],ie([1,0,32,11,89,14,2,724]),function(J,e,m,k,D,L,y,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlineCompletionContextKeys=void 0;class w extends y.Disposable{constructor(b,a){super(),this.contextKeyService=b,this.model=a,this.inlineCompletionVisible=w.inlineSuggestionVisible.bindTo(this.contextKeyService),this.inlineCompletionSuggestsIndentation=w.inlineSuggestionHasIndentation.bindTo(this.contextKeyService),this.inlineCompletionSuggestsIndentationLessThanTabSize=w.inlineSuggestionHasIndentationLessThanTabSize.bindTo(this.contextKeyService),this.suppressSuggestions=w.suppressSuggestions.bindTo(this.contextKeyService),this._register((0,m.autorun)(s=>{const i=this.model.read(s),t=i?.state.read(s),n=!!t?.inlineCompletion&&t?.primaryGhostText!==void 0&&!t?.primaryGhostText.isEmpty();this.inlineCompletionVisible.set(n),t?.primaryGhostText&&t?.inlineCompletion&&this.suppressSuggestions.set(t.inlineCompletion.inlineCompletion.source.inlineCompletions.suppressSuggestions)})),this._register((0,m.autorun)(s=>{const i=this.model.read(s);let t=!1,n=!0;const h=i?.primaryGhostText.read(s);if(i?.selectedSuggestItem&&h&&h.parts.length>0){const{column:v,lines:u}=h.parts[0],d=u[0],r=i.textModel.getLineIndentColumn(h.lineNumber);if(v<=r){let o=(0,k.firstNonWhitespaceIndex)(d);o===-1&&(o=d.length-1),t=o>0;const g=i.textModel.getOptions().tabSize;n=D.CursorColumns.visibleColumnFromColumn(d,o+1,g)<g}}this.inlineCompletionSuggestsIndentation.set(t),this.inlineCompletionSuggestsIndentationLessThanTabSize.set(n)}))}}e.InlineCompletionContextKeys=w,w.inlineSuggestionVisible=new L.RawContextKey("inlineSuggestionVisible",!1,(0,p.localize)(0,null)),w.inlineSuggestionHasIndentation=new L.RawContextKey("inlineSuggestionHasIndentation",!1,(0,p.localize)(1,null)),w.inlineSuggestionHasIndentationLessThanTabSize=new L.RawContextKey("inlineSuggestionHasIndentationLessThanTabSize",!0,(0,p.localize)(2,null)),w.suppressSuggestions=new L.RawContextKey("inlineSuggestionSuppressSuggestions",void 0,(0,p.localize)(3,null))}),define(te[257],ie([1,0,20,12,21,22,9,29,18,73,27,14]),function(J,e,m,k,D,L,y,p,w,C,b,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Context=void 0,e.provideSignatureHelp=s,e.Context={Visible:new a.RawContextKey("parameterHintsVisible",!1),MultipleSignatures:new a.RawContextKey("parameterHintsMultipleSignatures",!1)};async function s(i,t,n,h,v){const u=i.ordered(t);for(const d of u)try{const r=await d.provideSignatureHelp(t,n,v,h);if(r)return r}catch(r){(0,k.onUnexpectedExternalError)(r)}}b.CommandsRegistry.registerCommand("_executeSignatureHelpProvider",async(i,...t)=>{const[n,h,v]=t;(0,D.assertType)(L.URI.isUri(n)),(0,D.assertType)(y.Position.isIPosition(h)),(0,D.assertType)(typeof v=="string"||!v);const u=i.get(w.ILanguageFeaturesService),d=await i.get(C.ITextModelService).createModelReference(n);try{const r=await s(u.signatureHelpProvider,d.object.textEditorModel,y.Position.lift(h),{triggerKind:p.SignatureHelpTriggerKind.Invoke,isRetrigger:!1,triggerCharacter:v},m.CancellationToken.None);return r?(setTimeout(()=>r.dispose(),0),r.value):void 0}finally{d.dispose()}})}),define(te[806],ie([1,0,15,12,7,2,138,29,257]),function(J,e,m,k,D,L,y,p,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ParameterHintsModel=void 0;var C;(function(s){s.Default={type:0};class i{constructor(h,v){this.request=h,this.previouslyActiveHints=v,this.type=2}}s.Pending=i;class t{constructor(h){this.hints=h,this.type=1}}s.Active=t})(C||(C={}));class b extends L.Disposable{constructor(i,t,n=b.DEFAULT_DELAY){super(),this._onChangedHints=this._register(new D.Emitter),this.onChangedHints=this._onChangedHints.event,this.triggerOnType=!1,this._state=C.Default,this._pendingTriggers=[],this._lastSignatureHelpResult=this._register(new L.MutableDisposable),this.triggerChars=new y.CharacterSet,this.retriggerChars=new y.CharacterSet,this.triggerId=0,this.editor=i,this.providers=t,this.throttledDelayer=new m.Delayer(n),this._register(this.editor.onDidBlurEditorWidget(()=>this.cancel())),this._register(this.editor.onDidChangeConfiguration(()=>this.onEditorConfigurationChange())),this._register(this.editor.onDidChangeModel(h=>this.onModelChanged())),this._register(this.editor.onDidChangeModelLanguage(h=>this.onModelChanged())),this._register(this.editor.onDidChangeCursorSelection(h=>this.onCursorChange(h))),this._register(this.editor.onDidChangeModelContent(h=>this.onModelContentChange())),this._register(this.providers.onDidChange(this.onModelChanged,this)),this._register(this.editor.onDidType(h=>this.onDidType(h))),this.onEditorConfigurationChange(),this.onModelChanged()}get state(){return this._state}set state(i){this._state.type===2&&this._state.request.cancel(),this._state=i}cancel(i=!1){this.state=C.Default,this.throttledDelayer.cancel(),i||this._onChangedHints.fire(void 0)}trigger(i,t){const n=this.editor.getModel();if(!n||!this.providers.has(n))return;const h=++this.triggerId;this._pendingTriggers.push(i),this.throttledDelayer.trigger(()=>this.doTrigger(h),t).catch(k.onUnexpectedError)}next(){if(this.state.type!==1)return;const i=this.state.hints.signatures.length,t=this.state.hints.activeSignature,n=t%i===i-1,h=this.editor.getOption(86).cycle;if((i<2||n)&&!h){this.cancel();return}this.updateActiveSignature(n&&h?0:t+1)}previous(){if(this.state.type!==1)return;const i=this.state.hints.signatures.length,t=this.state.hints.activeSignature,n=t===0,h=this.editor.getOption(86).cycle;if((i<2||n)&&!h){this.cancel();return}this.updateActiveSignature(n&&h?i-1:t-1)}updateActiveSignature(i){this.state.type===1&&(this.state=new C.Active({...this.state.hints,activeSignature:i}),this._onChangedHints.fire(this.state.hints))}async doTrigger(i){const t=this.state.type===1||this.state.type===2,n=this.getLastActiveHints();if(this.cancel(!0),this._pendingTriggers.length===0)return!1;const h=this._pendingTriggers.reduce(a);this._pendingTriggers=[];const v={triggerKind:h.triggerKind,triggerCharacter:h.triggerCharacter,isRetrigger:t,activeSignatureHelp:n};if(!this.editor.hasModel())return!1;const u=this.editor.getModel(),d=this.editor.getPosition();this.state=new C.Pending((0,m.createCancelablePromise)(r=>(0,w.provideSignatureHelp)(this.providers,u,d,v,r)),n);try{const r=await this.state.request;return i!==this.triggerId?(r?.dispose(),!1):!r||!r.value.signatures||r.value.signatures.length===0?(r?.dispose(),this._lastSignatureHelpResult.clear(),this.cancel(),!1):(this.state=new C.Active(r.value),this._lastSignatureHelpResult.value=r,this._onChangedHints.fire(this.state.hints),!0)}catch(r){return i===this.triggerId&&(this.state=C.Default),(0,k.onUnexpectedError)(r),!1}}getLastActiveHints(){switch(this.state.type){case 1:return this.state.hints;case 2:return this.state.previouslyActiveHints;default:return}}get isTriggered(){return this.state.type===1||this.state.type===2||this.throttledDelayer.isTriggered()}onModelChanged(){this.cancel(),this.triggerChars.clear(),this.retriggerChars.clear();const i=this.editor.getModel();if(i)for(const t of this.providers.ordered(i)){for(const n of t.signatureHelpTriggerCharacters||[])if(n.length){const h=n.charCodeAt(0);this.triggerChars.add(h),this.retriggerChars.add(h)}for(const n of t.signatureHelpRetriggerCharacters||[])n.length&&this.retriggerChars.add(n.charCodeAt(0))}}onDidType(i){if(!this.triggerOnType)return;const t=i.length-1,n=i.charCodeAt(t);(this.triggerChars.has(n)||this.isTriggered&&this.retriggerChars.has(n))&&this.trigger({triggerKind:p.SignatureHelpTriggerKind.TriggerCharacter,triggerCharacter:i.charAt(t)})}onCursorChange(i){i.source==="mouse"?this.cancel():this.isTriggered&&this.trigger({triggerKind:p.SignatureHelpTriggerKind.ContentChange})}onModelContentChange(){this.isTriggered&&this.trigger({triggerKind:p.SignatureHelpTriggerKind.ContentChange})}onEditorConfigurationChange(){this.triggerOnType=this.editor.getOption(86).enabled,this.triggerOnType||this.cancel()}dispose(){this.cancel(!0),super.dispose()}}e.ParameterHintsModel=b,b.DEFAULT_DELAY=120;function a(s,i){switch(i.triggerKind){case p.SignatureHelpTriggerKind.Invoke:return i;case p.SignatureHelpTriggerKind.ContentChange:return s;case p.SignatureHelpTriggerKind.TriggerCharacter:default:return i}}}),define(te[807],ie([1,0,14]),function(J,e,m){"use strict";var k;Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestAlternatives=void 0;let D=k=class{constructor(y,p){this._editor=y,this._index=0,this._ckOtherSuggestions=k.OtherSuggestions.bindTo(p)}dispose(){this.reset()}reset(){var y;this._ckOtherSuggestions.reset(),(y=this._listener)===null||y===void 0||y.dispose(),this._model=void 0,this._acceptNext=void 0,this._ignore=!1}set({model:y,index:p},w){if(y.items.length===0){this.reset();return}if(k._moveIndex(!0,y,p)===p){this.reset();return}this._acceptNext=w,this._model=y,this._index=p,this._listener=this._editor.onDidChangeCursorPosition(()=>{this._ignore||this.reset()}),this._ckOtherSuggestions.set(!0)}static _moveIndex(y,p,w){let C=w;for(let b=p.items.length;b>0&&(C=(C+p.items.length+(y?1:-1))%p.items.length,!(C===w||!p.items[C].completion.additionalTextEdits));b--);return C}next(){this._move(!0)}prev(){this._move(!1)}_move(y){if(this._model)try{this._ignore=!0,this._index=k._moveIndex(y,this._model,this._index),this._acceptNext({index:this._index,item:this._model.items[this._index],model:this._model})}finally{this._ignore=!1}}};e.SuggestAlternatives=D,D.OtherSuggestions=new m.RawContextKey("hasOtherSuggestions",!1),e.SuggestAlternatives=D=k=Ie([he(1,m.IContextKeyService)],D)}),define(te[808],ie([1,0,14]),function(J,e,m){"use strict";var k;Object.defineProperty(e,"__esModule",{value:!0}),e.WordContextKey=void 0;let D=k=class{constructor(y,p){this._editor=y,this._enabled=!1,this._ckAtEnd=k.AtEnd.bindTo(p),this._configListener=this._editor.onDidChangeConfiguration(w=>w.hasChanged(123)&&this._update()),this._update()}dispose(){var y;this._configListener.dispose(),(y=this._selectionListener)===null||y===void 0||y.dispose(),this._ckAtEnd.reset()}_update(){const y=this._editor.getOption(123)==="on";if(this._enabled!==y)if(this._enabled=y,this._enabled){const p=()=>{if(!this._editor.hasModel()){this._ckAtEnd.set(!1);return}const w=this._editor.getModel(),C=this._editor.getSelection(),b=w.getWordAtPosition(C.getStartPosition());if(!b){this._ckAtEnd.set(!1);return}this._ckAtEnd.set(b.endColumn===C.getStartPosition().column)};this._selectionListener=this._editor.onDidChangeCursorSelection(p),p()}else this._selectionListener&&(this._ckAtEnd.reset(),this._selectionListener.dispose(),this._selectionListener=void 0)}};e.WordContextKey=D,D.AtEnd=new m.RawContextKey("atEndOfWord",!1),e.WordContextKey=D=k=Ie([he(1,m.IContextKeyService)],D)}),define(te[74],ie([1,0,14,8]),function(J,e,m,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CONTEXT_ACCESSIBILITY_MODE_ENABLED=e.IAccessibilityService=void 0,e.IAccessibilityService=(0,k.createDecorator)("accessibilityService"),e.CONTEXT_ACCESSIBILITY_MODE_ENABLED=new m.RawContextKey("accessibilityModeEnabled",!1)}),define(te[809],ie([1,0,62,13,7,2,55,17,345,352,515,218,38,158,251,74,6,240]),function(J,e,m,k,D,L,y,p,w,C,b,a,s,i,t,n,h,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ComputedEditorOptions=e.EditorConfiguration=void 0;let u=class extends L.Disposable{constructor(_,S,I,E){super(),this._accessibilityService=E,this._onDidChange=this._register(new D.Emitter),this.onDidChange=this._onDidChange.event,this._onDidChangeFast=this._register(new D.Emitter),this.onDidChangeFast=this._onDidChangeFast.event,this._isDominatedByLongLines=!1,this._viewLineCount=1,this._lineNumbersDigitCount=1,this._reservedHeight=0,this._glyphMarginDecorationLaneCount=1,this._computeOptionsMemory=new s.ComputeOptionsMemory,this.isSimpleWidget=_,this._containerObserver=this._register(new w.ElementSizeObserver(I,S.dimension)),this._targetWindowId=(0,h.getWindow)(I).vscodeWindowId,this._rawOptions=c(S),this._validatedOptions=g.validateOptions(this._rawOptions),this.options=this._computeOptions(),this.options.get(13)&&this._containerObserver.startObserving(),this._register(i.EditorZoom.onDidChangeZoomLevel(()=>this._recomputeOptions())),this._register(a.TabFocus.onDidChangeTabFocus(()=>this._recomputeOptions())),this._register(this._containerObserver.onDidChange(()=>this._recomputeOptions())),this._register(C.FontMeasurements.onDidChange(()=>this._recomputeOptions())),this._register(v.PixelRatio.getInstance((0,h.getWindow)(I)).onDidChange(()=>this._recomputeOptions())),this._register(this._accessibilityService.onDidChangeScreenReaderOptimized(()=>this._recomputeOptions()))}_recomputeOptions(){const _=this._computeOptions(),S=g.checkEquals(this.options,_);S!==null&&(this.options=_,this._onDidChangeFast.fire(S),this._onDidChange.fire(S))}_computeOptions(){const _=this._readEnvConfiguration(),S=t.BareFontInfo.createFromValidatedSettings(this._validatedOptions,_.pixelRatio,this.isSimpleWidget),I=this._readFontInfo(S),E={memory:this._computeOptionsMemory,outerWidth:_.outerWidth,outerHeight:_.outerHeight-this._reservedHeight,fontInfo:I,extraEditorClassName:_.extraEditorClassName,isDominatedByLongLines:this._isDominatedByLongLines,viewLineCount:this._viewLineCount,lineNumbersDigitCount:this._lineNumbersDigitCount,emptySelectionClipboard:_.emptySelectionClipboard,pixelRatio:_.pixelRatio,tabFocusMode:a.TabFocus.getTabFocusMode(),accessibilitySupport:_.accessibilitySupport,glyphMarginDecorationLaneCount:this._glyphMarginDecorationLaneCount};return g.computeOptions(this._validatedOptions,E)}_readEnvConfiguration(){return{extraEditorClassName:r(),outerWidth:this._containerObserver.getWidth(),outerHeight:this._containerObserver.getHeight(),emptySelectionClipboard:m.isWebKit||m.isFirefox,pixelRatio:v.PixelRatio.getInstance((0,h.getWindowById)(this._targetWindowId,!0).window).value,accessibilitySupport:this._accessibilityService.isScreenReaderOptimized()?2:this._accessibilityService.getAccessibilitySupport()}}_readFontInfo(_){return C.FontMeasurements.readFontInfo((0,h.getWindowById)(this._targetWindowId,!0).window,_)}getRawOptions(){return this._rawOptions}updateOptions(_){const S=c(_);g.applyUpdate(this._rawOptions,S)&&(this._validatedOptions=g.validateOptions(this._rawOptions),this._recomputeOptions())}observeContainer(_){this._containerObserver.observe(_)}setIsDominatedByLongLines(_){this._isDominatedByLongLines!==_&&(this._isDominatedByLongLines=_,this._recomputeOptions())}setModelLineCount(_){const S=d(_);this._lineNumbersDigitCount!==S&&(this._lineNumbersDigitCount=S,this._recomputeOptions())}setViewLineCount(_){this._viewLineCount!==_&&(this._viewLineCount=_,this._recomputeOptions())}setReservedHeight(_){this._reservedHeight!==_&&(this._reservedHeight=_,this._recomputeOptions())}setGlyphMarginDecorationLaneCount(_){this._glyphMarginDecorationLaneCount!==_&&(this._glyphMarginDecorationLaneCount=_,this._recomputeOptions())}};e.EditorConfiguration=u,e.EditorConfiguration=u=Ie([he(3,n.IAccessibilityService)],u);function d(f){let _=0;for(;f;)f=Math.floor(f/10),_++;return _||1}function r(){let f="";return!m.isSafari&&!m.isWebkitWebView&&(f+="no-user-select "),m.isSafari&&(f+="no-minimap-shadow ",f+="enable-user-select "),p.isMacintosh&&(f+="mac "),f}class l{constructor(){this._values=[]}_read(_){return this._values[_]}get(_){return this._values[_]}_write(_,S){this._values[_]=S}}class o{constructor(){this._values=[]}_read(_){if(_>=this._values.length)throw new Error("Cannot read uninitialized value");return this._values[_]}get(_){return this._read(_)}_write(_,S){this._values[_]=S}}e.ComputedEditorOptions=o;class g{static validateOptions(_){const S=new l;for(const I of s.editorOptionsRegistry){const E=I.name==="_never_"?void 0:_[I.name];S._write(I.id,I.validate(E))}return S}static computeOptions(_,S){const I=new o;for(const E of s.editorOptionsRegistry)I._write(E.id,E.compute(S,I,_._read(E.id)));return I}static _deepEquals(_,S){if(typeof _!="object"||typeof S!="object"||!_||!S)return _===S;if(Array.isArray(_)||Array.isArray(S))return Array.isArray(_)&&Array.isArray(S)?k.equals(_,S):!1;if(Object.keys(_).length!==Object.keys(S).length)return!1;for(const I in _)if(!g._deepEquals(_[I],S[I]))return!1;return!0}static checkEquals(_,S){const I=[];let E=!1;for(const T of s.editorOptionsRegistry){const N=!g._deepEquals(_._read(T.id),S._read(T.id));I[T.id]=N,N&&(E=!0)}return E?new s.ConfigurationChangedEvent(I):null}static applyUpdate(_,S){let I=!1;for(const E of s.editorOptionsRegistry)if(S.hasOwnProperty(E.name)){const T=E.applyUpdate(_[E.name],S[E.name]);_[E.name]=T.newValue,I=I||T.didChange}return I}}function c(f){const _=y.deepClone(f);return(0,b.migrateOptions)(_),_}}),define(te[810],ie([1,0,7,54,2,55,214,22,767,27,25,14]),function(J,e,m,k,D,L,y,p,w,C,b,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextKeyService=e.AbstractContextKeyService=e.Context=void 0,e.setContext=f;const s="data-keybinding-context";class i{constructor(I,E){this._id=I,this._parent=E,this._value=Object.create(null),this._value._contextId=I}get value(){return{...this._value}}setValue(I,E){return this._value[I]!==E?(this._value[I]=E,!0):!1}removeValue(I){return I in this._value?(delete this._value[I],!0):!1}getValue(I){const E=this._value[I];return typeof E>"u"&&this._parent?this._parent.getValue(I):E}}e.Context=i;class t extends i{constructor(){super(-1,null)}setValue(I,E){return!1}removeValue(I){return!1}getValue(I){}}t.INSTANCE=new t;class n extends i{constructor(I,E,T){super(I,null),this._configurationService=E,this._values=y.TernarySearchTree.forConfigKeys(),this._listener=this._configurationService.onDidChangeConfiguration(N=>{if(N.source===7){const A=Array.from(this._values,([O])=>O);this._values.clear(),T.fire(new u(A))}else{const A=[];for(const O of N.affectedKeys){const M=`config.${O}`,P=this._values.findSuperstr(M);P!==void 0&&(A.push(...k.Iterable.map(P,([x])=>x)),this._values.deleteSuperstr(M)),this._values.has(M)&&(A.push(M),this._values.delete(M))}T.fire(new u(A))}})}dispose(){this._listener.dispose()}getValue(I){if(I.indexOf(n._keyPrefix)!==0)return super.getValue(I);if(this._values.has(I))return this._values.get(I);const E=I.substr(n._keyPrefix.length),T=this._configurationService.getValue(E);let N;switch(typeof T){case"number":case"boolean":case"string":N=T;break;default:Array.isArray(T)?N=JSON.stringify(T):N=T}return this._values.set(I,N),N}setValue(I,E){return super.setValue(I,E)}removeValue(I){return super.removeValue(I)}}n._keyPrefix="config.";class h{constructor(I,E,T){this._service=I,this._key=E,this._defaultValue=T,this.reset()}set(I){this._service.setContext(this._key,I)}reset(){typeof this._defaultValue>"u"?this._service.removeContext(this._key):this._service.setContext(this._key,this._defaultValue)}get(){return this._service.getContextKeyValue(this._key)}}class v{constructor(I){this.key=I}affectsSome(I){return I.has(this.key)}allKeysContainedIn(I){return this.affectsSome(I)}}class u{constructor(I){this.keys=I}affectsSome(I){for(const E of this.keys)if(I.has(E))return!0;return!1}allKeysContainedIn(I){return this.keys.every(E=>I.has(E))}}class d{constructor(I){this.events=I}affectsSome(I){for(const E of this.events)if(E.affectsSome(I))return!0;return!1}allKeysContainedIn(I){return this.events.every(E=>E.allKeysContainedIn(I))}}function r(S,I){return S.allKeysContainedIn(new Set(Object.keys(I)))}class l extends D.Disposable{constructor(I){super(),this._onDidChangeContext=this._register(new m.PauseableEmitter({merge:E=>new d(E)})),this.onDidChangeContext=this._onDidChangeContext.event,this._isDisposed=!1,this._myContextId=I}createKey(I,E){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new h(this,I,E)}bufferChangeEvents(I){this._onDidChangeContext.pause();try{I()}finally{this._onDidChangeContext.resume()}}createScoped(I){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new g(this,I)}contextMatchesRules(I){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");const E=this.getContextValuesContainer(this._myContextId);return I?I.evaluate(E):!0}getContextKeyValue(I){if(!this._isDisposed)return this.getContextValuesContainer(this._myContextId).getValue(I)}setContext(I,E){if(this._isDisposed)return;const T=this.getContextValuesContainer(this._myContextId);T&&T.setValue(I,E)&&this._onDidChangeContext.fire(new v(I))}removeContext(I){this._isDisposed||this.getContextValuesContainer(this._myContextId).removeValue(I)&&this._onDidChangeContext.fire(new v(I))}getContext(I){return this._isDisposed?t.INSTANCE:this.getContextValuesContainer(c(I))}dispose(){super.dispose(),this._isDisposed=!0}}e.AbstractContextKeyService=l;let o=class extends l{constructor(I){super(0),this._contexts=new Map,this._lastContextId=0;const E=this._register(new n(this._myContextId,I,this._onDidChangeContext));this._contexts.set(this._myContextId,E)}getContextValuesContainer(I){return this._isDisposed?t.INSTANCE:this._contexts.get(I)||t.INSTANCE}createChildContext(I=this._myContextId){if(this._isDisposed)throw new Error("ContextKeyService has been disposed");const E=++this._lastContextId;return this._contexts.set(E,new i(E,this.getContextValuesContainer(I))),E}disposeContext(I){this._isDisposed||this._contexts.delete(I)}};e.ContextKeyService=o,e.ContextKeyService=o=Ie([he(0,b.IConfigurationService)],o);class g extends l{constructor(I,E){if(super(I.createChildContext()),this._parentChangeListener=this._register(new D.MutableDisposable),this._parent=I,this._updateParentChangeListener(),this._domNode=E,this._domNode.hasAttribute(s)){let T="";this._domNode.classList&&(T=Array.from(this._domNode.classList.values()).join(", ")),console.error(`Element already has context attribute${T?": "+T:""}`)}this._domNode.setAttribute(s,String(this._myContextId))}_updateParentChangeListener(){this._parentChangeListener.value=this._parent.onDidChangeContext(I=>{const T=this._parent.getContextValuesContainer(this._myContextId).value;r(I,T)||this._onDidChangeContext.fire(I)})}dispose(){this._isDisposed||(this._parent.disposeContext(this._myContextId),this._domNode.removeAttribute(s),super.dispose())}getContextValuesContainer(I){return this._isDisposed?t.INSTANCE:this._parent.getContextValuesContainer(I)}createChildContext(I=this._myContextId){if(this._isDisposed)throw new Error("ScopedContextKeyService has been disposed");return this._parent.createChildContext(I)}disposeContext(I){this._isDisposed||this._parent.disposeContext(I)}}function c(S){for(;S;){if(S.hasAttribute(s)){const I=S.getAttribute(s);return I?parseInt(I,10):NaN}S=S.parentElement}return 0}function f(S,I,E){S.get(a.IContextKeyService).createKey(String(I),_(E))}function _(S){return(0,L.cloneAndChange)(S,I=>{if(typeof I=="object"&&I.$mid===1)return p.URI.revive(I).toString();if(I instanceof p.URI)return I.toString()})}C.CommandsRegistry.registerCommand("_setContext",f),C.CommandsRegistry.registerCommand({id:"getContextKeyInfo",handler(){return[...a.RawContextKey.all()].sort((S,I)=>S.key.localeCompare(I.key))},metadata:{description:(0,w.localize)(0,null),args:[]}}),C.CommandsRegistry.registerCommand("_generateContextKeyInfo",function(){const S=[],I=new Set;for(const E of a.RawContextKey.all())I.has(E.key)||(I.add(E.key),S.push(E));S.sort((E,T)=>E.key.localeCompare(T.key)),console.log(JSON.stringify(S,void 0,2))})}),define(te[201],ie([1,0,17,769,14]),function(J,e,m,k,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InputFocusedContext=e.InputFocusedContextKey=e.ProductQualityContext=e.IsDevelopmentContext=e.IsMobileContext=e.IsIOSContext=e.IsMacNativeContext=e.IsWebContext=e.IsWindowsContext=e.IsLinuxContext=e.IsMacContext=void 0,e.IsMacContext=new D.RawContextKey("isMac",m.isMacintosh,(0,k.localize)(0,null)),e.IsLinuxContext=new D.RawContextKey("isLinux",m.isLinux,(0,k.localize)(1,null)),e.IsWindowsContext=new D.RawContextKey("isWindows",m.isWindows,(0,k.localize)(2,null)),e.IsWebContext=new D.RawContextKey("isWeb",m.isWeb,(0,k.localize)(3,null)),e.IsMacNativeContext=new D.RawContextKey("isMacNative",m.isMacintosh&&!m.isWeb,(0,k.localize)(4,null)),e.IsIOSContext=new D.RawContextKey("isIOS",m.isIOS,(0,k.localize)(5,null)),e.IsMobileContext=new D.RawContextKey("isMobile",m.isMobile,(0,k.localize)(6,null)),e.IsDevelopmentContext=new D.RawContextKey("isDevelopment",!1,!0),e.ProductQualityContext=new D.RawContextKey("productQualityType","",(0,k.localize)(7,null)),e.InputFocusedContextKey="inputFocus",e.InputFocusedContext=new D.RawContextKey(e.InputFocusedContextKey,!1,(0,k.localize)(8,null))}),define(te[58],ie([1,0,8]),function(J,e,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IContextMenuService=e.IContextViewService=void 0,e.IContextViewService=(0,m.createDecorator)("contextViewService"),e.IContextMenuService=(0,m.createDecorator)("contextMenuService")}),define(te[170],ie([1,0,8]),function(J,e,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IDialogService=void 0,e.IDialogService=(0,m.createDecorator)("dialogService")}),define(te[258],ie([1,0,8]),function(J,e,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IEnvironmentService=void 0,e.IEnvironmentService=(0,m.createDecorator)("environmentService")}),define(te[202],ie([1,0,8,2,25,6]),function(J,e,m,k,D,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.nativeHoverDelegate=e.WorkbenchHoverDelegate=e.IHoverService=void 0,e.IHoverService=(0,m.createDecorator)("hoverService");let y=class extends k.Disposable{get delay(){return this.isInstantlyHovering()?0:this._delay}constructor(w,C,b={},a,s){super(),this.placement=w,this.instantHover=C,this.overrideOptions=b,this.configurationService=a,this.hoverService=s,this.lastHoverHideTime=0,this.timeLimit=200,this.hoverDisposables=this._register(new k.DisposableStore),this._delay=this.configurationService.getValue("workbench.hover.delay"),this._register(this.configurationService.onDidChangeConfiguration(i=>{i.affectsConfiguration("workbench.hover.delay")&&(this._delay=this.configurationService.getValue("workbench.hover.delay"))}))}showHover(w,C){const b=typeof this.overrideOptions=="function"?this.overrideOptions(w,C):this.overrideOptions;this.hoverDisposables.clear();const a=w.target instanceof HTMLElement?[w.target]:w.target.targetElements;for(const i of a)this.hoverDisposables.add((0,L.addStandardDisposableListener)(i,"keydown",t=>{t.equals(9)&&this.hoverService.hideHover()}));const s=w.content instanceof HTMLElement?void 0:w.content.toString();return this.hoverService.showHover({...w,...b,persistence:{hideOnKeyDown:!0,...b.persistence},id:s,appearance:{...w.appearance,compact:!0,skipFadeInAnimation:this.isInstantlyHovering(),...b.appearance}},C)}isInstantlyHovering(){return this.instantHover&&Date.now()-this.lastHoverHideTime<this.timeLimit}onDidHideHover(){this.hoverDisposables.clear(),this.instantHover&&(this.lastHoverHideTime=Date.now())}};e.WorkbenchHoverDelegate=y,e.WorkbenchHoverDelegate=y=Ie([he(3,D.IConfigurationService),he(4,e.IHoverService)],y),e.nativeHoverDelegate={showHover:function(){throw new Error("Native hover function not implemented.")},delay:0,showNativeHover:!0}}),define(te[171],ie([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ServiceCollection=void 0;class m{constructor(...D){this._entries=new Map;for(const[L,y]of D)this.set(L,y)}set(D,L){const y=this._entries.get(D);return this._entries.set(D,L),y}get(D){return this._entries.get(D)}}e.ServiceCollection=m}),define(te[811],ie([1,0,15,12,2,252,800,8,171,69]),function(J,e,m,k,D,L,y,p,w,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Trace=e.InstantiationService=void 0;const b=!1;class a extends Error{constructor(n){var h;super("cyclic dependency between services"),this.message=(h=n.findCycleSlow())!==null&&h!==void 0?h:`UNABLE to detect cycle, dumping graph: 
${n.toString()}`}}class s{constructor(n=new w.ServiceCollection,h=!1,v,u=b){var d;this._services=n,this._strict=h,this._parent=v,this._enableTracing=u,this._activeInstantiations=new Set,this._services.set(p.IInstantiationService,this),this._globalGraph=u?(d=v?._globalGraph)!==null&&d!==void 0?d:new y.Graph(r=>r):void 0}createChild(n){return new s(n,this._strict,this,this._enableTracing)}invokeFunction(n,...h){const v=i.traceInvocation(this._enableTracing,n);let u=!1;try{return n({get:r=>{if(u)throw(0,k.illegalState)("service accessor is only valid during the invocation of its target method");const l=this._getOrCreateServiceInstance(r,v);if(!l)throw new Error(`[invokeFunction] unknown service '${r}'`);return l}},...h)}finally{u=!0,v.stop()}}createInstance(n,...h){let v,u;return n instanceof L.SyncDescriptor?(v=i.traceCreation(this._enableTracing,n.ctor),u=this._createInstance(n.ctor,n.staticArguments.concat(h),v)):(v=i.traceCreation(this._enableTracing,n),u=this._createInstance(n,h,v)),v.stop(),u}_createInstance(n,h=[],v){const u=p._util.getServiceDependencies(n).sort((l,o)=>l.index-o.index),d=[];for(const l of u){const o=this._getOrCreateServiceInstance(l.id,v);o||this._throwIfStrict(`[createInstance] ${n.name} depends on UNKNOWN service ${l.id}.`,!1),d.push(o)}const r=u.length>0?u[0].index:h.length;if(h.length!==r){console.trace(`[createInstance] First service dependency of ${n.name} at position ${r+1} conflicts with ${h.length} static arguments`);const l=r-h.length;l>0?h=h.concat(new Array(l)):h=h.slice(0,r)}return Reflect.construct(n,h.concat(d))}_setServiceInstance(n,h){if(this._services.get(n)instanceof L.SyncDescriptor)this._services.set(n,h);else if(this._parent)this._parent._setServiceInstance(n,h);else throw new Error("illegalState - setting UNKNOWN service instance")}_getServiceInstanceOrDescriptor(n){const h=this._services.get(n);return!h&&this._parent?this._parent._getServiceInstanceOrDescriptor(n):h}_getOrCreateServiceInstance(n,h){this._globalGraph&&this._globalGraphImplicitDependency&&this._globalGraph.insertEdge(this._globalGraphImplicitDependency,String(n));const v=this._getServiceInstanceOrDescriptor(n);return v instanceof L.SyncDescriptor?this._safeCreateAndCacheServiceInstance(n,v,h.branch(n,!0)):(h.branch(n,!1),v)}_safeCreateAndCacheServiceInstance(n,h,v){if(this._activeInstantiations.has(n))throw new Error(`illegal state - RECURSIVELY instantiating service '${n}'`);this._activeInstantiations.add(n);try{return this._createAndCacheServiceInstance(n,h,v)}finally{this._activeInstantiations.delete(n)}}_createAndCacheServiceInstance(n,h,v){var u;const d=new y.Graph(o=>o.id.toString());let r=0;const l=[{id:n,desc:h,_trace:v}];for(;l.length;){const o=l.pop();if(d.lookupOrInsertNode(o),r++>1e3)throw new a(d);for(const g of p._util.getServiceDependencies(o.desc.ctor)){const c=this._getServiceInstanceOrDescriptor(g.id);if(c||this._throwIfStrict(`[createInstance] ${n} depends on ${g.id} which is NOT registered.`,!0),(u=this._globalGraph)===null||u===void 0||u.insertEdge(String(o.id),String(g.id)),c instanceof L.SyncDescriptor){const f={id:g.id,desc:c,_trace:o._trace.branch(g.id,!0)};d.insertEdge(o,f),l.push(f)}}}for(;;){const o=d.roots();if(o.length===0){if(!d.isEmpty())throw new a(d);break}for(const{data:g}of o){if(this._getServiceInstanceOrDescriptor(g.id)instanceof L.SyncDescriptor){const f=this._createServiceInstanceWithOwner(g.id,g.desc.ctor,g.desc.staticArguments,g.desc.supportsDelayedInstantiation,g._trace);this._setServiceInstance(g.id,f)}d.removeNode(g)}}return this._getServiceInstanceOrDescriptor(n)}_createServiceInstanceWithOwner(n,h,v=[],u,d){if(this._services.get(n)instanceof L.SyncDescriptor)return this._createServiceInstance(n,h,v,u,d);if(this._parent)return this._parent._createServiceInstanceWithOwner(n,h,v,u,d);throw new Error(`illegalState - creating UNKNOWN service instance ${h.name}`)}_createServiceInstance(n,h,v=[],u,d){if(u){const r=new s(void 0,this._strict,this,this._enableTracing);r._globalGraphImplicitDependency=String(n);const l=new Map,o=new m.GlobalIdleValue(()=>{const g=r._createInstance(h,v,d);for(const[c,f]of l){const _=g[c];if(typeof _=="function")for(const S of f)S.disposable=_.apply(g,S.listener)}return l.clear(),g});return new Proxy(Object.create(null),{get(g,c){if(!o.isInitialized&&typeof c=="string"&&(c.startsWith("onDid")||c.startsWith("onWill"))){let S=l.get(c);return S||(S=new C.LinkedList,l.set(c,S)),(E,T,N)=>{if(o.isInitialized)return o.value[c](E,T,N);{const A={listener:[E,T,N],disposable:void 0},O=S.push(A);return(0,D.toDisposable)(()=>{var P;O(),(P=A.disposable)===null||P===void 0||P.dispose()})}}}if(c in g)return g[c];const f=o.value;let _=f[c];return typeof _!="function"||(_=_.bind(f),g[c]=_),_},set(g,c,f){return o.value[c]=f,!0},getPrototypeOf(g){return h.prototype}})}else return this._createInstance(h,v,d)}_throwIfStrict(n,h){if(h&&console.warn(n),this._strict)throw new Error(n)}}e.InstantiationService=s;class i{static traceInvocation(n,h){return n?new i(2,h.name||new Error().stack.split(`
`).slice(3,4).join(`
`)):i._None}static traceCreation(n,h){return n?new i(1,h.name):i._None}constructor(n,h){this.type=n,this.name=h,this._start=Date.now(),this._dep=[]}branch(n,h){const v=new i(3,n.toString());return this._dep.push([n,h,v]),v}stop(){const n=Date.now()-this._start;i._totals+=n;let h=!1;function v(d,r){const l=[],o=new Array(d+1).join("	");for(const[g,c,f]of r._dep)if(c&&f){h=!0,l.push(`${o}CREATES -> ${g}`);const _=v(d+1,f);_&&l.push(_)}else l.push(`${o}uses -> ${g}`);return l.join(`
`)}const u=[`${this.type===1?"CREATE":"CALL"} ${this.name}`,`${v(1,this)}`,`DONE, took ${n.toFixed(2)}ms (grand total ${i._totals.toFixed(2)}ms)`];(n>2||h)&&i.all.add(u.join(`
`))}}e.Trace=i,i.all=new Set,i._None=new class extends i{constructor(){super(0,null)}stop(){}branch(){return this}},i._totals=0}),define(te[812],ie([1,0,12,234,133]),function(J,e,m,k,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BaseResolvedKeybinding=void 0;class L extends D.ResolvedKeybinding{constructor(p,w){if(super(),w.length===0)throw(0,m.illegalArgument)("chords");this._os=p,this._chords=w}getLabel(){return k.UILabelProvider.toLabel(this._os,this._chords,p=>this._getLabel(p))}getAriaLabel(){return k.AriaLabelProvider.toLabel(this._os,this._chords,p=>this._getAriaLabel(p))}getElectronAccelerator(){return this._chords.length>1||this._chords[0].isDuplicateModifierCase()?null:k.ElectronAcceleratorLabelProvider.toLabel(this._os,this._chords,p=>this._getElectronAccelerator(p))}getUserSettingsLabel(){return k.UserSettingsLabelProvider.toLabel(this._os,this._chords,p=>this._getUserSettingsLabel(p))}hasMultipleChords(){return this._chords.length>1}getChords(){return this._chords.map(p=>this._getChord(p))}_getChord(p){return new D.ResolvedChord(p.ctrlKey,p.shiftKey,p.altKey,p.metaKey,this._getLabel(p),this._getAriaLabel(p))}getDispatchChords(){return this._chords.map(p=>this._getChordDispatch(p))}getSingleModifierDispatchChords(){return this._chords.map(p=>this._getSingleModifierChordDispatch(p))}}e.BaseResolvedKeybinding=L}),define(te[35],ie([1,0,8]),function(J,e,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IKeybindingService=void 0,e.IKeybindingService=(0,m.createDecorator)("keybindingService")}),define(te[364],ie([1,0,6,245,41,7,2,147,255,14,58,8,35,479]),function(J,e,m,k,D,L,y,p,w,C,b,a,s){"use strict";var i;Object.defineProperty(e,"__esModule",{value:!0}),e.PostEditWidgetManager=void 0;let t=i=class extends y.Disposable{constructor(v,u,d,r,l,o,g,c,f,_){super(),this.typeId=v,this.editor=u,this.showCommand=r,this.range=l,this.edits=o,this.onSelectNewEdit=g,this._contextMenuService=c,this._keybindingService=_,this.allowEditorOverflow=!0,this.suppressMouseDown=!0,this.create(),this.visibleContext=d.bindTo(f),this.visibleContext.set(!0),this._register((0,y.toDisposable)(()=>this.visibleContext.reset())),this.editor.addContentWidget(this),this.editor.layoutContentWidget(this),this._register((0,y.toDisposable)(()=>this.editor.removeContentWidget(this))),this._register(this.editor.onDidChangeCursorPosition(S=>{l.containsPosition(S.position)||this.dispose()})),this._register(L.Event.runAndSubscribe(_.onDidUpdateKeybindings,()=>{this._updateButtonTitle()}))}_updateButtonTitle(){var v;const u=(v=this._keybindingService.lookupKeybinding(this.showCommand.id))===null||v===void 0?void 0:v.getLabel();this.button.element.title=this.showCommand.label+(u?` (${u})`:"")}create(){this.domNode=m.$(".post-edit-widget"),this.button=this._register(new k.Button(this.domNode,{supportIcons:!0})),this.button.label="$(insert)",this._register(m.addDisposableListener(this.domNode,m.EventType.CLICK,()=>this.showSelector()))}getId(){return i.baseId+"."+this.typeId}getDomNode(){return this.domNode}getPosition(){return{position:this.range.getEndPosition(),preference:[2]}}showSelector(){this._contextMenuService.showContextMenu({getAnchor:()=>{const v=m.getDomNodePagePosition(this.button.element);return{x:v.left+v.width,y:v.top+v.height}},getActions:()=>this.edits.allEdits.map((v,u)=>(0,D.toAction)({id:"",label:v.title,checked:u===this.edits.activeEditIndex,run:()=>{if(u!==this.edits.activeEditIndex)return this.onSelectNewEdit(u)}}))})}};t.baseId="editor.widget.postEditWidget",t=i=Ie([he(7,b.IContextMenuService),he(8,C.IContextKeyService),he(9,s.IKeybindingService)],t);let n=class extends y.Disposable{constructor(v,u,d,r,l,o){super(),this._id=v,this._editor=u,this._visibleContext=d,this._showCommand=r,this._instantiationService=l,this._bulkEditService=o,this._currentWidget=this._register(new y.MutableDisposable),this._register(L.Event.any(u.onDidChangeModel,u.onDidChangeModelContent)(()=>this.clear()))}async applyEditAndShowIfNeeded(v,u,d,r,l){const o=this._editor.getModel();if(!o||!v.length)return;const g=u.allEdits.at(u.activeEditIndex);if(!g)return;const c=await r(g,l),f=(0,w.createCombinedWorkspaceEdit)(o.uri,v,c),_=v[0],S=o.deltaDecorations([],[{range:_,options:{description:"paste-line-suffix",stickiness:0}}]);let I,E;try{I=await this._bulkEditService.apply(f,{editor:this._editor,token:l}),E=o.getDecorationRange(S[0])}finally{o.deltaDecorations(S,[])}d&&I.isApplied&&u.allEdits.length>1&&this.show(E??_,u,async T=>{const N=this._editor.getModel();N&&(await N.undo(),this.applyEditAndShowIfNeeded(v,{activeEditIndex:T,allEdits:u.allEdits},d,r,l))})}show(v,u,d){this.clear(),this._editor.hasModel()&&(this._currentWidget.value=this._instantiationService.createInstance(t,this._id,this._editor,this._visibleContext,this._showCommand,v,u,d))}clear(){this._currentWidget.clear()}tryShowSelector(){var v;(v=this._currentWidget.value)===null||v===void 0||v.showSelector()}};e.PostEditWidgetManager=n,e.PostEditWidgetManager=n=Ie([he(4,a.IInstantiationService),he(5,p.IBulkEditService)],n)}),define(te[365],ie([1,0,14]),function(J,e,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.KeybindingResolver=e.NoMatchingKb=void 0,e.NoMatchingKb={kind:0};const k={kind:1};function D(w,C,b){return{kind:2,commandId:w,commandArgs:C,isBubble:b}}class L{constructor(C,b,a){var s;this._log=a,this._defaultKeybindings=C,this._defaultBoundCommands=new Map;for(const i of C){const t=i.command;t&&t.charAt(0)!=="-"&&this._defaultBoundCommands.set(t,!0)}this._map=new Map,this._lookupMap=new Map,this._keybindings=L.handleRemovals([].concat(C).concat(b));for(let i=0,t=this._keybindings.length;i<t;i++){const n=this._keybindings[i];if(n.chords.length===0)continue;const h=(s=n.when)===null||s===void 0?void 0:s.substituteConstants();h&&h.type===0||this._addKeyPress(n.chords[0],n)}}static _isTargetedForRemoval(C,b,a){if(b){for(let s=0;s<b.length;s++)if(b[s]!==C.chords[s])return!1}return!(a&&a.type!==1&&(!C.when||!(0,m.expressionsAreEqualWithConstantSubstitution)(a,C.when)))}static handleRemovals(C){const b=new Map;for(let s=0,i=C.length;s<i;s++){const t=C[s];if(t.command&&t.command.charAt(0)==="-"){const n=t.command.substring(1);b.has(n)?b.get(n).push(t):b.set(n,[t])}}if(b.size===0)return C;const a=[];for(let s=0,i=C.length;s<i;s++){const t=C[s];if(!t.command||t.command.length===0){a.push(t);continue}if(t.command.charAt(0)==="-")continue;const n=b.get(t.command);if(!n||!t.isDefault){a.push(t);continue}let h=!1;for(const v of n){const u=v.when;if(this._isTargetedForRemoval(t,v.chords,u)){h=!0;break}}if(!h){a.push(t);continue}}return a}_addKeyPress(C,b){const a=this._map.get(C);if(typeof a>"u"){this._map.set(C,[b]),this._addToLookupMap(b);return}for(let s=a.length-1;s>=0;s--){const i=a[s];if(i.command===b.command)continue;let t=!0;for(let n=1;n<i.chords.length&&n<b.chords.length;n++)if(i.chords[n]!==b.chords[n]){t=!1;break}t&&L.whenIsEntirelyIncluded(i.when,b.when)&&this._removeFromLookupMap(i)}a.push(b),this._addToLookupMap(b)}_addToLookupMap(C){if(!C.command)return;let b=this._lookupMap.get(C.command);typeof b>"u"?(b=[C],this._lookupMap.set(C.command,b)):b.push(C)}_removeFromLookupMap(C){if(!C.command)return;const b=this._lookupMap.get(C.command);if(!(typeof b>"u")){for(let a=0,s=b.length;a<s;a++)if(b[a]===C){b.splice(a,1);return}}}static whenIsEntirelyIncluded(C,b){return!b||b.type===1?!0:!C||C.type===1?!1:(0,m.implies)(C,b)}getKeybindings(){return this._keybindings}lookupPrimaryKeybinding(C,b){const a=this._lookupMap.get(C);if(typeof a>"u"||a.length===0)return null;if(a.length===1)return a[0];for(let s=a.length-1;s>=0;s--){const i=a[s];if(b.contextMatchesRules(i.when))return i}return a[a.length-1]}resolve(C,b,a){const s=[...b,a];this._log(`| Resolving ${s}`);const i=this._map.get(s[0]);if(i===void 0)return this._log("\\ No keybinding entries."),e.NoMatchingKb;let t=null;if(s.length<2)t=i;else{t=[];for(let h=0,v=i.length;h<v;h++){const u=i[h];if(s.length>u.chords.length)continue;let d=!0;for(let r=1;r<s.length;r++)if(u.chords[r]!==s[r]){d=!1;break}d&&t.push(u)}}const n=this._findCommand(C,t);return n?s.length<n.chords.length?(this._log(`\\ From ${t.length} keybinding entries, awaiting ${n.chords.length-s.length} more chord(s), when: ${y(n.when)}, source: ${p(n)}.`),k):(this._log(`\\ From ${t.length} keybinding entries, matched ${n.command}, when: ${y(n.when)}, source: ${p(n)}.`),D(n.command,n.commandArgs,n.bubble)):(this._log(`\\ From ${t.length} keybinding entries, no when clauses matched the context.`),e.NoMatchingKb)}_findCommand(C,b){for(let a=b.length-1;a>=0;a--){const s=b[a];if(L._contextMatchesRules(C,s.when))return s}return null}static _contextMatchesRules(C,b){return b?b.evaluate(C):!0}}e.KeybindingResolver=L;function y(w){return w?`${w.serialize()}`:"no when condition"}function p(w){return w.extensionId?w.isBuiltinExtension?`built-in extension ${w.extensionId}`:`user extension ${w.extensionId}`:w.isDefault?"built-in":"user"}}),define(te[813],ie([1,0,15,12,7,288,2,772,365]),function(J,e,m,k,D,L,y,p,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractKeybindingService=void 0;const C=/^(cursor|delete|undo|redo|tab|editor\.action\.clipboard)/;class b extends y.Disposable{get onDidUpdateKeybindings(){return this._onDidUpdateKeybindings?this._onDidUpdateKeybindings.event:D.Event.None}get inChordMode(){return this._currentChords.length>0}constructor(i,t,n,h,v){super(),this._contextKeyService=i,this._commandService=t,this._telemetryService=n,this._notificationService=h,this._logService=v,this._onDidUpdateKeybindings=this._register(new D.Emitter),this._currentChords=[],this._currentChordChecker=new m.IntervalTimer,this._currentChordStatusMessage=null,this._ignoreSingleModifiers=a.EMPTY,this._currentSingleModifier=null,this._currentSingleModifierClearTimeout=new m.TimeoutTimer,this._currentlyDispatchingCommandId=null,this._logging=!1}dispose(){super.dispose()}_log(i){this._logging&&this._logService.info(`[KeybindingService]: ${i}`)}getKeybindings(){return this._getResolver().getKeybindings()}lookupKeybinding(i,t){const n=this._getResolver().lookupPrimaryKeybinding(i,t||this._contextKeyService);if(n)return n.resolvedKeybinding}dispatchEvent(i,t){return this._dispatch(i,t)}softDispatch(i,t){this._log("/ Soft dispatching keyboard event");const n=this.resolveKeyboardEvent(i);if(n.hasMultipleChords())return console.warn("keyboard event should not be mapped to multiple chords"),w.NoMatchingKb;const[h]=n.getDispatchChords();if(h===null)return this._log("\\ Keyboard event cannot be dispatched"),w.NoMatchingKb;const v=this._contextKeyService.getContext(t),u=this._currentChords.map(({keypress:d})=>d);return this._getResolver().resolve(v,u,h)}_scheduleLeaveChordMode(){const i=Date.now();this._currentChordChecker.cancelAndSet(()=>{if(!this._documentHasFocus()){this._leaveChordMode();return}Date.now()-i>5e3&&this._leaveChordMode()},500)}_expectAnotherChord(i,t){switch(this._currentChords.push({keypress:i,label:t}),this._currentChords.length){case 0:throw(0,k.illegalState)("impossible");case 1:this._currentChordStatusMessage=this._notificationService.status(p.localize(0,null,t));break;default:{const n=this._currentChords.map(({label:h})=>h).join(", ");this._currentChordStatusMessage=this._notificationService.status(p.localize(1,null,n))}}this._scheduleLeaveChordMode(),L.IME.enabled&&L.IME.disable()}_leaveChordMode(){this._currentChordStatusMessage&&(this._currentChordStatusMessage.dispose(),this._currentChordStatusMessage=null),this._currentChordChecker.cancel(),this._currentChords=[],L.IME.enable()}_dispatch(i,t){return this._doDispatch(this.resolveKeyboardEvent(i),t,!1)}_singleModifierDispatch(i,t){const n=this.resolveKeyboardEvent(i),[h]=n.getSingleModifierDispatchChords();if(h)return this._ignoreSingleModifiers.has(h)?(this._log(`+ Ignoring single modifier ${h} due to it being pressed together with other keys.`),this._ignoreSingleModifiers=a.EMPTY,this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1):(this._ignoreSingleModifiers=a.EMPTY,this._currentSingleModifier===null?(this._log(`+ Storing single modifier for possible chord ${h}.`),this._currentSingleModifier=h,this._currentSingleModifierClearTimeout.cancelAndSet(()=>{this._log("+ Clearing single modifier due to 300ms elapsed."),this._currentSingleModifier=null},300),!1):h===this._currentSingleModifier?(this._log(`/ Dispatching single modifier chord ${h} ${h}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,this._doDispatch(n,t,!0)):(this._log(`+ Clearing single modifier due to modifier mismatch: ${this._currentSingleModifier} ${h}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1));const[v]=n.getChords();return this._ignoreSingleModifiers=new a(v),this._currentSingleModifier!==null&&this._log("+ Clearing single modifier due to other key up."),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1}_doDispatch(i,t,n=!1){var h;let v=!1;if(i.hasMultipleChords())return console.warn("Unexpected keyboard event mapped to multiple chords"),!1;let u=null,d=null;if(n){const[g]=i.getSingleModifierDispatchChords();u=g,d=g?[g]:[]}else[u]=i.getDispatchChords(),d=this._currentChords.map(({keypress:g})=>g);if(u===null)return this._log("\\ Keyboard event cannot be dispatched in keydown phase."),v;const r=this._contextKeyService.getContext(t),l=i.getLabel(),o=this._getResolver().resolve(r,d,u);switch(o.kind){case 0:{if(this._logService.trace("KeybindingService#dispatch",l,"[ No matching keybinding ]"),this.inChordMode){const g=this._currentChords.map(({label:c})=>c).join(", ");this._log(`+ Leaving multi-chord mode: Nothing bound to "${g}, ${l}".`),this._notificationService.status(p.localize(2,null,g,l),{hideAfter:10*1e3}),this._leaveChordMode(),v=!0}return v}case 1:return this._logService.trace("KeybindingService#dispatch",l,"[ Several keybindings match - more chords needed ]"),v=!0,this._expectAnotherChord(u,l),this._log(this._currentChords.length===1?"+ Entering multi-chord mode...":"+ Continuing multi-chord mode..."),v;case 2:{if(this._logService.trace("KeybindingService#dispatch",l,`[ Will dispatch command ${o.commandId} ]`),o.commandId===null||o.commandId===""){if(this.inChordMode){const g=this._currentChords.map(({label:c})=>c).join(", ");this._log(`+ Leaving chord mode: Nothing bound to "${g}, ${l}".`),this._notificationService.status(p.localize(3,null,g,l),{hideAfter:10*1e3}),this._leaveChordMode(),v=!0}}else{this.inChordMode&&this._leaveChordMode(),o.isBubble||(v=!0),this._log(`+ Invoking command ${o.commandId}.`),this._currentlyDispatchingCommandId=o.commandId;try{typeof o.commandArgs>"u"?this._commandService.executeCommand(o.commandId).then(void 0,g=>this._notificationService.warn(g)):this._commandService.executeCommand(o.commandId,o.commandArgs).then(void 0,g=>this._notificationService.warn(g))}finally{this._currentlyDispatchingCommandId=null}C.test(o.commandId)||this._telemetryService.publicLog2("workbenchActionExecuted",{id:o.commandId,from:"keybinding",detail:(h=i.getUserSettingsLabel())!==null&&h!==void 0?h:void 0})}return v}}}mightProducePrintableCharacter(i){return i.ctrlKey||i.metaKey?!1:i.keyCode>=31&&i.keyCode<=56||i.keyCode>=21&&i.keyCode<=30}}e.AbstractKeybindingService=b;class a{constructor(i){this._ctrlKey=i?i.ctrlKey:!1,this._shiftKey=i?i.shiftKey:!1,this._altKey=i?i.altKey:!1,this._metaKey=i?i.metaKey:!1}has(i){switch(i){case"ctrl":return this._ctrlKey;case"shift":return this._shiftKey;case"alt":return this._altKey;case"meta":return this._metaKey}}}a.EMPTY=new a(null)}),define(te[366],ie([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ResolvedKeybindingItem=void 0,e.toEmptyArrayIfContainsNull=k;class m{constructor(L,y,p,w,C,b,a){this._resolvedKeybindingItemBrand=void 0,this.resolvedKeybinding=L,this.chords=L?k(L.getDispatchChords()):[],L&&this.chords.length===0&&(this.chords=k(L.getSingleModifierDispatchChords())),this.bubble=y?y.charCodeAt(0)===94:!1,this.command=this.bubble?y.substr(1):y,this.commandArgs=p,this.when=w,this.isDefault=C,this.extensionId=b,this.isBuiltinExtension=a}}e.ResolvedKeybindingItem=m;function k(D){const L=[];for(let y=0,p=D.length;y<p;y++){const w=D[y];if(!w)return[];L.push(w)}return L}}),define(te[814],ie([1,0,68,133,812,366]),function(J,e,m,k,D,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.USLayoutResolvedKeybinding=void 0;class y extends D.BaseResolvedKeybinding{constructor(w,C){super(C,w)}_keyCodeToUILabel(w){if(this._os===2)switch(w){case 15:return"\u2190";case 16:return"\u2191";case 17:return"\u2192";case 18:return"\u2193"}return m.KeyCodeUtils.toString(w)}_getLabel(w){return w.isDuplicateModifierCase()?"":this._keyCodeToUILabel(w.keyCode)}_getAriaLabel(w){return w.isDuplicateModifierCase()?"":m.KeyCodeUtils.toString(w.keyCode)}_getElectronAccelerator(w){return m.KeyCodeUtils.toElectronAccelerator(w.keyCode)}_getUserSettingsLabel(w){if(w.isDuplicateModifierCase())return"";const C=m.KeyCodeUtils.toUserSettingsUS(w.keyCode);return C&&C.toLowerCase()}_getChordDispatch(w){return y.getDispatchStr(w)}static getDispatchStr(w){if(w.isModifierKey())return null;let C="";return w.ctrlKey&&(C+="ctrl+"),w.shiftKey&&(C+="shift+"),w.altKey&&(C+="alt+"),w.metaKey&&(C+="meta+"),C+=m.KeyCodeUtils.toString(w.keyCode),C}_getSingleModifierChordDispatch(w){return w.keyCode===5&&!w.shiftKey&&!w.altKey&&!w.metaKey?"ctrl":w.keyCode===4&&!w.ctrlKey&&!w.altKey&&!w.metaKey?"shift":w.keyCode===6&&!w.ctrlKey&&!w.shiftKey&&!w.metaKey?"alt":w.keyCode===57&&!w.ctrlKey&&!w.shiftKey&&!w.altKey?"meta":null}static _scanCodeToKeyCode(w){const C=m.IMMUTABLE_CODE_TO_KEY_CODE[w];if(C!==-1)return C;switch(w){case 10:return 31;case 11:return 32;case 12:return 33;case 13:return 34;case 14:return 35;case 15:return 36;case 16:return 37;case 17:return 38;case 18:return 39;case 19:return 40;case 20:return 41;case 21:return 42;case 22:return 43;case 23:return 44;case 24:return 45;case 25:return 46;case 26:return 47;case 27:return 48;case 28:return 49;case 29:return 50;case 30:return 51;case 31:return 52;case 32:return 53;case 33:return 54;case 34:return 55;case 35:return 56;case 36:return 22;case 37:return 23;case 38:return 24;case 39:return 25;case 40:return 26;case 41:return 27;case 42:return 28;case 43:return 29;case 44:return 30;case 45:return 21;case 51:return 88;case 52:return 86;case 53:return 92;case 54:return 94;case 55:return 93;case 56:return 0;case 57:return 85;case 58:return 95;case 59:return 91;case 60:return 87;case 61:return 89;case 62:return 90;case 106:return 97}return 0}static _toKeyCodeChord(w){if(!w)return null;if(w instanceof k.KeyCodeChord)return w;const C=this._scanCodeToKeyCode(w.scanCode);return C===0?null:new k.KeyCodeChord(w.ctrlKey,w.shiftKey,w.altKey,w.metaKey,C)}static resolveKeybinding(w,C){const b=(0,L.toEmptyArrayIfContainsNull)(w.chords.map(a=>this._toKeyCodeChord(a)));return b.length>0?[new y(b,C)]:[]}}e.USLayoutResolvedKeybinding=y}),define(te[172],ie([1,0,8]),function(J,e,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ILabelService=void 0,e.ILabelService=(0,m.createDecorator)("labelService")}),define(te[113],ie([1,0,8]),function(J,e,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ILayoutService=void 0,e.ILayoutService=(0,m.createDecorator)("layoutService")}),define(te[367],ie([1,0,6,52,13,7,36,46,113]),function(J,e,m,k,D,L,y,p,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorScopedLayoutService=void 0;let C=class{get mainContainer(){var s,i;return(i=(s=(0,D.firstOrDefault)(this._codeEditorService.listCodeEditors()))===null||s===void 0?void 0:s.getContainerDomNode())!==null&&i!==void 0?i:k.mainWindow.document.body}get activeContainer(){var s,i;const t=(s=this._codeEditorService.getFocusedCodeEditor())!==null&&s!==void 0?s:this._codeEditorService.getActiveCodeEditor();return(i=t?.getContainerDomNode())!==null&&i!==void 0?i:this.mainContainer}get mainContainerDimension(){return m.getClientArea(this.mainContainer)}get activeContainerDimension(){return m.getClientArea(this.activeContainer)}get containers(){return(0,D.coalesce)(this._codeEditorService.listCodeEditors().map(s=>s.getContainerDomNode()))}getContainer(){return this.activeContainer}whenContainerStylesLoaded(){}focus(){var s;(s=this._codeEditorService.getFocusedCodeEditor())===null||s===void 0||s.focus()}constructor(s){this._codeEditorService=s,this.onDidLayoutMainContainer=L.Event.None,this.onDidLayoutActiveContainer=L.Event.None,this.onDidLayoutContainer=L.Event.None,this.onDidChangeActiveContainer=L.Event.None,this.onDidAddContainer=L.Event.None,this.mainContainerOffset={top:0,quickPickTop:0},this.activeContainerOffset={top:0,quickPickTop:0}}};C=Ie([he(0,y.ICodeEditorService)],C);let b=class extends C{get mainContainer(){return this._container}constructor(s,i){super(i),this._container=s}};e.EditorScopedLayoutService=b,e.EditorScopedLayoutService=b=Ie([he(1,y.ICodeEditorService)],b),(0,p.registerSingleton)(w.ILayoutService,C,1)}),define(te[815],ie([1,0,6,52,7,2,74,25,14,113]),function(J,e,m,k,D,L,y,p,w,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AccessibilityService=void 0;let b=class extends L.Disposable{constructor(s,i,t){super(),this._contextKeyService=s,this._layoutService=i,this._configurationService=t,this._accessibilitySupport=0,this._onDidChangeScreenReaderOptimized=new D.Emitter,this._onDidChangeReducedMotion=new D.Emitter,this._accessibilityModeEnabledContext=y.CONTEXT_ACCESSIBILITY_MODE_ENABLED.bindTo(this._contextKeyService);const n=()=>this._accessibilityModeEnabledContext.set(this.isScreenReaderOptimized());this._register(this._configurationService.onDidChangeConfiguration(v=>{v.affectsConfiguration("editor.accessibilitySupport")&&(n(),this._onDidChangeScreenReaderOptimized.fire()),v.affectsConfiguration("workbench.reduceMotion")&&(this._configMotionReduced=this._configurationService.getValue("workbench.reduceMotion"),this._onDidChangeReducedMotion.fire())})),n(),this._register(this.onDidChangeScreenReaderOptimized(()=>n()));const h=k.mainWindow.matchMedia("(prefers-reduced-motion: reduce)");this._systemMotionReduced=h.matches,this._configMotionReduced=this._configurationService.getValue("workbench.reduceMotion"),this.initReducedMotionListeners(h)}initReducedMotionListeners(s){this._register((0,m.addDisposableListener)(s,"change",()=>{this._systemMotionReduced=s.matches,this._configMotionReduced==="auto"&&this._onDidChangeReducedMotion.fire()}));const i=()=>{const t=this.isMotionReduced();this._layoutService.mainContainer.classList.toggle("reduce-motion",t),this._layoutService.mainContainer.classList.toggle("enable-motion",!t)};i(),this._register(this.onDidChangeReducedMotion(()=>i()))}get onDidChangeScreenReaderOptimized(){return this._onDidChangeScreenReaderOptimized.event}isScreenReaderOptimized(){const s=this._configurationService.getValue("editor.accessibilitySupport");return s==="on"||s==="auto"&&this._accessibilitySupport===2}get onDidChangeReducedMotion(){return this._onDidChangeReducedMotion.event}isMotionReduced(){const s=this._configMotionReduced;return s==="on"||s==="auto"&&this._systemMotionReduced}getAccessibilitySupport(){return this._accessibilitySupport}};e.AccessibilityService=b,e.AccessibilityService=b=Ie([he(0,w.IContextKeyService),he(1,C.ILayoutService),he(2,p.IConfigurationService)],b)}),define(te[368],ie([1,0,336,2,113,6]),function(J,e,m,k,D,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextViewService=e.ContextViewHandler=void 0;let y=class extends k.Disposable{constructor(C){super(),this.layoutService=C,this.currentViewDisposable=this._register(new k.MutableDisposable),this.contextView=this._register(new m.ContextView(this.layoutService.mainContainer,1)),this.layout(),this._register(C.onDidLayoutContainer(()=>this.layout()))}showContextView(C,b,a){let s;b?b===this.layoutService.getContainer((0,L.getWindow)(b))?s=1:a?s=3:s=2:s=1,this.contextView.setContainer(b??this.layoutService.activeContainer,s),this.contextView.show(C);const i=(0,k.toDisposable)(()=>{this.currentViewDisposable===i&&this.hideContextView()});return this.currentViewDisposable.value=i,i}layout(){this.contextView.layout()}hideContextView(C){this.contextView.hide(C)}};e.ContextViewHandler=y,e.ContextViewHandler=y=Ie([he(0,D.ILayoutService)],y);class p extends y{getContextViewElement(){return this.contextView.getViewElement()}}e.ContextViewService=p}),define(te[61],ie([1,0,7,2,14,8]),function(J,e,m,k,D,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CONTEXT_LOG_LEVEL=e.MultiplexLogger=e.ConsoleLogger=e.AbstractLogger=e.DEFAULT_LOG_LEVEL=e.LogLevel=e.ILogService=void 0,e.LogLevelToString=b,e.ILogService=(0,L.createDecorator)("logService");var y;(function(a){a[a.Off=0]="Off",a[a.Trace=1]="Trace",a[a.Debug=2]="Debug",a[a.Info=3]="Info",a[a.Warning=4]="Warning",a[a.Error=5]="Error"})(y||(e.LogLevel=y={})),e.DEFAULT_LOG_LEVEL=y.Info;class p extends k.Disposable{constructor(){super(...arguments),this.level=e.DEFAULT_LOG_LEVEL,this._onDidChangeLogLevel=this._register(new m.Emitter),this.onDidChangeLogLevel=this._onDidChangeLogLevel.event}setLevel(s){this.level!==s&&(this.level=s,this._onDidChangeLogLevel.fire(this.level))}getLevel(){return this.level}checkLogLevel(s){return this.level!==y.Off&&this.level<=s}}e.AbstractLogger=p;class w extends p{constructor(s=e.DEFAULT_LOG_LEVEL,i=!0){super(),this.useColors=i,this.setLevel(s)}trace(s,...i){this.checkLogLevel(y.Trace)&&(this.useColors?console.log("%cTRACE","color: #888",s,...i):console.log(s,...i))}debug(s,...i){this.checkLogLevel(y.Debug)&&(this.useColors?console.log("%cDEBUG","background: #eee; color: #888",s,...i):console.log(s,...i))}info(s,...i){this.checkLogLevel(y.Info)&&(this.useColors?console.log("%c INFO","color: #33f",s,...i):console.log(s,...i))}warn(s,...i){this.checkLogLevel(y.Warning)&&(this.useColors?console.log("%c WARN","color: #993",s,...i):console.log(s,...i))}error(s,...i){this.checkLogLevel(y.Error)&&(this.useColors?console.log("%c  ERR","color: #f33",s,...i):console.error(s,...i))}}e.ConsoleLogger=w;class C extends p{constructor(s){super(),this.loggers=s,s.length&&this.setLevel(s[0].getLevel())}setLevel(s){for(const i of this.loggers)i.setLevel(s);super.setLevel(s)}trace(s,...i){for(const t of this.loggers)t.trace(s,...i)}debug(s,...i){for(const t of this.loggers)t.debug(s,...i)}info(s,...i){for(const t of this.loggers)t.info(s,...i)}warn(s,...i){for(const t of this.loggers)t.warn(s,...i)}error(s,...i){for(const t of this.loggers)t.error(s,...i)}dispose(){for(const s of this.loggers)s.dispose();super.dispose()}}e.MultiplexLogger=C;function b(a){switch(a){case y.Trace:return"trace";case y.Debug:return"debug";case y.Info:return"info";case y.Warning:return"warn";case y.Error:return"error";case y.Off:return"off"}}e.CONTEXT_LOG_LEVEL=new D.RawContextKey("logLevel",b(y.Info))}),define(te[203],ie([1,0,62,6,88,48,283,15,7,2,120,11,298,24,74,61]),function(J,e,m,k,D,L,y,p,w,C,b,a,s,i,t,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextAreaWrapper=e.ClipboardEventUtils=e.TextAreaInput=e.InMemoryClipboardMetadataManager=e.CopyOptions=e.TextAreaSyntethicEvents=void 0;var h;(function(l){l.Tap="-monaco-textarea-synthetic-tap"})(h||(e.TextAreaSyntethicEvents=h={})),e.CopyOptions={forceCopyWithSyntaxHighlighting:!1};class v{constructor(){this._lastState=null}set(o,g){this._lastState={lastCopiedValue:o,data:g}}get(o){return this._lastState&&this._lastState.lastCopiedValue===o?this._lastState.data:(this._lastState=null,null)}}e.InMemoryClipboardMetadataManager=v,v.INSTANCE=new v;class u{constructor(){this._lastTypeTextLength=0}handleCompositionUpdate(o){o=o||"";const g={text:o,replacePrevCharCnt:this._lastTypeTextLength,replaceNextCharCnt:0,positionDelta:0};return this._lastTypeTextLength=o.length,g}}let d=class extends C.Disposable{get textAreaState(){return this._textAreaState}constructor(o,g,c,f,_,S){super(),this._host=o,this._textArea=g,this._OS=c,this._browser=f,this._accessibilityService=_,this._logService=S,this._onFocus=this._register(new w.Emitter),this.onFocus=this._onFocus.event,this._onBlur=this._register(new w.Emitter),this.onBlur=this._onBlur.event,this._onKeyDown=this._register(new w.Emitter),this.onKeyDown=this._onKeyDown.event,this._onKeyUp=this._register(new w.Emitter),this.onKeyUp=this._onKeyUp.event,this._onCut=this._register(new w.Emitter),this.onCut=this._onCut.event,this._onPaste=this._register(new w.Emitter),this.onPaste=this._onPaste.event,this._onType=this._register(new w.Emitter),this.onType=this._onType.event,this._onCompositionStart=this._register(new w.Emitter),this.onCompositionStart=this._onCompositionStart.event,this._onCompositionUpdate=this._register(new w.Emitter),this.onCompositionUpdate=this._onCompositionUpdate.event,this._onCompositionEnd=this._register(new w.Emitter),this.onCompositionEnd=this._onCompositionEnd.event,this._onSelectionChangeRequest=this._register(new w.Emitter),this.onSelectionChangeRequest=this._onSelectionChangeRequest.event,this._asyncFocusGainWriteScreenReaderContent=this._register(new C.MutableDisposable),this._asyncTriggerCut=this._register(new p.RunOnceScheduler(()=>this._onCut.fire(),0)),this._textAreaState=s.TextAreaState.EMPTY,this._selectionChangeListener=null,this._accessibilityService.isScreenReaderOptimized()&&this.writeNativeTextAreaContent("ctor"),this._register(w.Event.runAndSubscribe(this._accessibilityService.onDidChangeScreenReaderOptimized,()=>{this._accessibilityService.isScreenReaderOptimized()&&!this._asyncFocusGainWriteScreenReaderContent.value?this._asyncFocusGainWriteScreenReaderContent.value=this._register(new p.RunOnceScheduler(()=>this.writeNativeTextAreaContent("asyncFocusGain"),0)):this._asyncFocusGainWriteScreenReaderContent.clear()})),this._hasFocus=!1,this._currentComposition=null;let I=null;this._register(this._textArea.onKeyDown(E=>{const T=new L.StandardKeyboardEvent(E);(T.keyCode===114||this._currentComposition&&T.keyCode===1)&&T.stopPropagation(),T.equals(9)&&T.preventDefault(),I=T,this._onKeyDown.fire(T)})),this._register(this._textArea.onKeyUp(E=>{const T=new L.StandardKeyboardEvent(E);this._onKeyUp.fire(T)})),this._register(this._textArea.onCompositionStart(E=>{s._debugComposition&&console.log("[compositionstart]",E);const T=new u;if(this._currentComposition){this._currentComposition=T;return}if(this._currentComposition=T,this._OS===2&&I&&I.equals(114)&&this._textAreaState.selectionStart===this._textAreaState.selectionEnd&&this._textAreaState.selectionStart>0&&this._textAreaState.value.substr(this._textAreaState.selectionStart-1,1)===E.data&&(I.code==="ArrowRight"||I.code==="ArrowLeft")){s._debugComposition&&console.log("[compositionstart] Handling long press case on macOS + arrow key",E),T.handleCompositionUpdate("x"),this._onCompositionStart.fire({data:E.data});return}if(this._browser.isAndroid){this._onCompositionStart.fire({data:E.data});return}this._onCompositionStart.fire({data:E.data})})),this._register(this._textArea.onCompositionUpdate(E=>{s._debugComposition&&console.log("[compositionupdate]",E);const T=this._currentComposition;if(!T)return;if(this._browser.isAndroid){const A=s.TextAreaState.readFromTextArea(this._textArea,this._textAreaState),O=s.TextAreaState.deduceAndroidCompositionInput(this._textAreaState,A);this._textAreaState=A,this._onType.fire(O),this._onCompositionUpdate.fire(E);return}const N=T.handleCompositionUpdate(E.data);this._textAreaState=s.TextAreaState.readFromTextArea(this._textArea,this._textAreaState),this._onType.fire(N),this._onCompositionUpdate.fire(E)})),this._register(this._textArea.onCompositionEnd(E=>{s._debugComposition&&console.log("[compositionend]",E);const T=this._currentComposition;if(!T)return;if(this._currentComposition=null,this._browser.isAndroid){const A=s.TextAreaState.readFromTextArea(this._textArea,this._textAreaState),O=s.TextAreaState.deduceAndroidCompositionInput(this._textAreaState,A);this._textAreaState=A,this._onType.fire(O),this._onCompositionEnd.fire();return}const N=T.handleCompositionUpdate(E.data);this._textAreaState=s.TextAreaState.readFromTextArea(this._textArea,this._textAreaState),this._onType.fire(N),this._onCompositionEnd.fire()})),this._register(this._textArea.onInput(E=>{if(s._debugComposition&&console.log("[input]",E),this._textArea.setIgnoreSelectionChangeTime("received input event"),this._currentComposition)return;const T=s.TextAreaState.readFromTextArea(this._textArea,this._textAreaState),N=s.TextAreaState.deduceInput(this._textAreaState,T,this._OS===2);N.replacePrevCharCnt===0&&N.text.length===1&&(a.isHighSurrogate(N.text.charCodeAt(0))||N.text.charCodeAt(0)===127)||(this._textAreaState=T,(N.text!==""||N.replacePrevCharCnt!==0||N.replaceNextCharCnt!==0||N.positionDelta!==0)&&this._onType.fire(N))})),this._register(this._textArea.onCut(E=>{this._textArea.setIgnoreSelectionChangeTime("received cut event"),this._ensureClipboardGetsEditorSelection(E),this._asyncTriggerCut.schedule()})),this._register(this._textArea.onCopy(E=>{this._ensureClipboardGetsEditorSelection(E)})),this._register(this._textArea.onPaste(E=>{if(this._textArea.setIgnoreSelectionChangeTime("received paste event"),E.preventDefault(),!E.clipboardData)return;let[T,N]=e.ClipboardEventUtils.getTextData(E.clipboardData);T&&(N=N||v.INSTANCE.get(T),this._onPaste.fire({text:T,metadata:N}))})),this._register(this._textArea.onFocus(()=>{const E=this._hasFocus;this._setHasFocus(!0),this._accessibilityService.isScreenReaderOptimized()&&this._browser.isSafari&&!E&&this._hasFocus&&(this._asyncFocusGainWriteScreenReaderContent.value||(this._asyncFocusGainWriteScreenReaderContent.value=new p.RunOnceScheduler(()=>this.writeNativeTextAreaContent("asyncFocusGain"),0)),this._asyncFocusGainWriteScreenReaderContent.value.schedule())})),this._register(this._textArea.onBlur(()=>{this._currentComposition&&(this._currentComposition=null,this.writeNativeTextAreaContent("blurWithoutCompositionEnd"),this._onCompositionEnd.fire()),this._setHasFocus(!1)})),this._register(this._textArea.onSyntheticTap(()=>{this._browser.isAndroid&&this._currentComposition&&(this._currentComposition=null,this.writeNativeTextAreaContent("tapWithoutCompositionEnd"),this._onCompositionEnd.fire())}))}_installSelectionChangeListener(){let o=0;return k.addDisposableListener(this._textArea.ownerDocument,"selectionchange",g=>{if(y.inputLatency.onSelectionChange(),!this._hasFocus||this._currentComposition||!this._browser.isChrome)return;const c=Date.now(),f=c-o;if(o=c,f<5)return;const _=c-this._textArea.getIgnoreSelectionChangeTime();if(this._textArea.resetSelectionChangeTime(),_<100||!this._textAreaState.selection)return;const S=this._textArea.getValue();if(this._textAreaState.value!==S)return;const I=this._textArea.getSelectionStart(),E=this._textArea.getSelectionEnd();if(this._textAreaState.selectionStart===I&&this._textAreaState.selectionEnd===E)return;const T=this._textAreaState.deduceEditorPosition(I),N=this._host.deduceModelPosition(T[0],T[1],T[2]),A=this._textAreaState.deduceEditorPosition(E),O=this._host.deduceModelPosition(A[0],A[1],A[2]),M=new i.Selection(N.lineNumber,N.column,O.lineNumber,O.column);this._onSelectionChangeRequest.fire(M)})}dispose(){super.dispose(),this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null)}focusTextArea(){this._setHasFocus(!0),this.refreshFocusState()}isFocused(){return this._hasFocus}refreshFocusState(){this._setHasFocus(this._textArea.hasFocus())}_setHasFocus(o){this._hasFocus!==o&&(this._hasFocus=o,this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null),this._hasFocus&&(this._selectionChangeListener=this._installSelectionChangeListener()),this._hasFocus&&this.writeNativeTextAreaContent("focusgain"),this._hasFocus?this._onFocus.fire():this._onBlur.fire())}_setAndWriteTextAreaState(o,g){this._hasFocus||(g=g.collapseSelection()),g.writeToTextArea(o,this._textArea,this._hasFocus),this._textAreaState=g}writeNativeTextAreaContent(o){!this._accessibilityService.isScreenReaderOptimized()&&o==="render"||this._currentComposition||(this._logService.trace(`writeTextAreaState(reason: ${o})`),this._setAndWriteTextAreaState(o,this._host.getScreenReaderContent()))}_ensureClipboardGetsEditorSelection(o){const g=this._host.getDataToCopy(),c={version:1,isFromEmptySelection:g.isFromEmptySelection,multicursorText:g.multicursorText,mode:g.mode};v.INSTANCE.set(this._browser.isFirefox?g.text.replace(/\r\n/g,`
`):g.text,c),o.preventDefault(),o.clipboardData&&e.ClipboardEventUtils.setTextData(o.clipboardData,g.text,g.html,c)}};e.TextAreaInput=d,e.TextAreaInput=d=Ie([he(4,t.IAccessibilityService),he(5,n.ILogService)],d),e.ClipboardEventUtils={getTextData(l){const o=l.getData(b.Mimes.text);let g=null;const c=l.getData("vscode-editor-data");if(typeof c=="string")try{g=JSON.parse(c),g.version!==1&&(g=null)}catch{}return o.length===0&&g===null&&l.files.length>0?[Array.prototype.slice.call(l.files,0).map(_=>_.name).join(`
`),null]:[o,g]},setTextData(l,o,g,c){l.setData(b.Mimes.text,o),typeof g=="string"&&l.setData("text/html",g),l.setData("vscode-editor-data",JSON.stringify(c))}};class r extends C.Disposable{get ownerDocument(){return this._actual.ownerDocument}constructor(o){super(),this._actual=o,this.onKeyDown=this._register(new D.DomEmitter(this._actual,"keydown")).event,this.onKeyUp=this._register(new D.DomEmitter(this._actual,"keyup")).event,this.onCompositionStart=this._register(new D.DomEmitter(this._actual,"compositionstart")).event,this.onCompositionUpdate=this._register(new D.DomEmitter(this._actual,"compositionupdate")).event,this.onCompositionEnd=this._register(new D.DomEmitter(this._actual,"compositionend")).event,this.onBeforeInput=this._register(new D.DomEmitter(this._actual,"beforeinput")).event,this.onInput=this._register(new D.DomEmitter(this._actual,"input")).event,this.onCut=this._register(new D.DomEmitter(this._actual,"cut")).event,this.onCopy=this._register(new D.DomEmitter(this._actual,"copy")).event,this.onPaste=this._register(new D.DomEmitter(this._actual,"paste")).event,this.onFocus=this._register(new D.DomEmitter(this._actual,"focus")).event,this.onBlur=this._register(new D.DomEmitter(this._actual,"blur")).event,this._onSyntheticTap=this._register(new w.Emitter),this.onSyntheticTap=this._onSyntheticTap.event,this._ignoreSelectionChangeTime=0,this._register(this.onKeyDown(()=>y.inputLatency.onKeyDown())),this._register(this.onBeforeInput(()=>y.inputLatency.onBeforeInput())),this._register(this.onInput(()=>y.inputLatency.onInput())),this._register(this.onKeyUp(()=>y.inputLatency.onKeyUp())),this._register(k.addDisposableListener(this._actual,h.Tap,()=>this._onSyntheticTap.fire()))}hasFocus(){const o=k.getShadowRoot(this._actual);return o?o.activeElement===this._actual:this._actual.isConnected?k.getActiveElement()===this._actual:!1}setIgnoreSelectionChangeTime(o){this._ignoreSelectionChangeTime=Date.now()}getIgnoreSelectionChangeTime(){return this._ignoreSelectionChangeTime}resetSelectionChangeTime(){this._ignoreSelectionChangeTime=0}getValue(){return this._actual.value}setValue(o,g){const c=this._actual;c.value!==g&&(this.setIgnoreSelectionChangeTime("setValue"),c.value=g)}getSelectionStart(){return this._actual.selectionDirection==="backward"?this._actual.selectionEnd:this._actual.selectionStart}getSelectionEnd(){return this._actual.selectionDirection==="backward"?this._actual.selectionStart:this._actual.selectionEnd}setSelectionRange(o,g,c){const f=this._actual;let _=null;const S=k.getShadowRoot(f);S?_=S.activeElement:_=k.getActiveElement();const I=k.getWindow(_),E=_===f,T=f.selectionStart,N=f.selectionEnd;if(E&&T===g&&N===c){m.isFirefox&&I.parent!==I&&f.focus();return}if(E){this.setIgnoreSelectionChangeTime("setSelectionRange"),f.setSelectionRange(g,c),m.isFirefox&&I.parent!==I&&f.focus();return}try{const A=k.saveParentsScrollTop(f);this.setIgnoreSelectionChangeTime("setSelectionRange"),f.focus(),f.setSelectionRange(g,c),k.restoreParentsScrollTop(f,A)}catch{}}}e.TextAreaWrapper=r}),define(te[83],ie([1,0,121,47,134,258,46,8,61,49]),function(J,e,m,k,D,L,y,p,w,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LanguageFeatureDebounceService=e.ILanguageFeatureDebounceService=void 0,e.ILanguageFeatureDebounceService=(0,p.createDecorator)("ILanguageFeatureDebounceService");var b;(function(t){const n=new WeakMap;let h=0;function v(u){let d=n.get(u);return d===void 0&&(d=++h,n.set(u,d)),d}t.of=v})(b||(b={}));class a{constructor(n){this._default=n}get(n){return this._default}update(n,h){return this._default}default(){return this._default}}class s{constructor(n,h,v,u,d,r){this._logService=n,this._name=h,this._registry=v,this._default=u,this._min=d,this._max=r,this._cache=new k.LRUCache(50,.7)}_key(n){return n.id+this._registry.all(n).reduce((h,v)=>(0,m.doHash)(b.of(v),h),0)}get(n){const h=this._key(n),v=this._cache.get(h);return v?(0,D.clamp)(v.value,this._min,this._max):this.default()}update(n,h){const v=this._key(n);let u=this._cache.get(v);u||(u=new D.SlidingWindowAverage(6),this._cache.set(v,u));const d=(0,D.clamp)(u.update(h),this._min,this._max);return(0,C.matchesScheme)(n.uri,"output")||this._logService.trace(`[DEBOUNCE: ${this._name}] for ${n.uri.toString()} is ${d}ms`),d}_overall(){const n=new D.MovingAverage;for(const[,h]of this._cache)n.update(h.value);return n.value}default(){const n=this._overall()|0||this._default;return(0,D.clamp)(n,this._min,this._max)}}let i=class{constructor(n,h){this._logService=n,this._data=new Map,this._isDev=h.isExtensionDevelopment||!h.isBuilt}for(n,h,v){var u,d,r;const l=(u=v?.min)!==null&&u!==void 0?u:50,o=(d=v?.max)!==null&&d!==void 0?d:l**2,g=(r=v?.key)!==null&&r!==void 0?r:void 0,c=`${b.of(n)},${l}${g?","+g:""}`;let f=this._data.get(c);return f||(this._isDev?f=new s(this._logService,h,n,this._overallAverage()|0||l*1.5,l,o):(this._logService.debug(`[DEBOUNCE: ${h}] is disabled in developed mode`),f=new a(l*1.5)),this._data.set(c,f)),f}_overallAverage(){const n=new D.MovingAverage;for(const h of this._data.values())n.update(h.default());return n.value}};e.LanguageFeatureDebounceService=i,e.LanguageFeatureDebounceService=i=Ie([he(0,w.ILogService),he(1,L.IEnvironmentService)],i),(0,y.registerSingleton)(e.ILanguageFeatureDebounceService,i,1)}),define(te[173],ie([1,0,13,20,12,54,47,9,5,83,8,46,53,2,18]),function(J,e,m,k,D,L,y,p,w,C,b,a,s,i,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OutlineModelService=e.IOutlineModelService=e.OutlineModel=e.OutlineGroup=e.OutlineElement=e.TreeElement=void 0;class n{remove(){var l;(l=this.parent)===null||l===void 0||l.children.delete(this.id)}static findId(l,o){let g;typeof l=="string"?g=`${o.id}/${l}`:(g=`${o.id}/${l.name}`,o.children.get(g)!==void 0&&(g=`${o.id}/${l.name}_${l.range.startLineNumber}_${l.range.startColumn}`));let c=g;for(let f=0;o.children.get(c)!==void 0;f++)c=`${g}_${f}`;return c}static empty(l){return l.children.size===0}}e.TreeElement=n;class h extends n{constructor(l,o,g){super(),this.id=l,this.parent=o,this.symbol=g,this.children=new Map}}e.OutlineElement=h;class v extends n{constructor(l,o,g,c){super(),this.id=l,this.parent=o,this.label=g,this.order=c,this.children=new Map}}e.OutlineGroup=v;class u extends n{static create(l,o,g){const c=new k.CancellationTokenSource(g),f=new u(o.uri),_=l.ordered(o),S=_.map((E,T)=>{var N;const A=n.findId(`provider_${T}`,f),O=new v(A,f,(N=E.displayName)!==null&&N!==void 0?N:"Unknown Outline Provider",T);return Promise.resolve(E.provideDocumentSymbols(o,c.token)).then(M=>{for(const P of M||[])u._makeOutlineElement(P,O);return O},M=>((0,D.onUnexpectedExternalError)(M),O)).then(M=>{n.empty(M)?M.remove():f._groups.set(A,M)})}),I=l.onDidChange(()=>{const E=l.ordered(o);(0,m.equals)(E,_)||c.cancel()});return Promise.all(S).then(()=>c.token.isCancellationRequested&&!g.isCancellationRequested?u.create(l,o,g):f._compact()).finally(()=>{c.dispose(),I.dispose(),c.dispose()})}static _makeOutlineElement(l,o){const g=n.findId(l,o),c=new h(g,o,l);if(l.children)for(const f of l.children)u._makeOutlineElement(f,c);o.children.set(c.id,c)}constructor(l){super(),this.uri=l,this.id="root",this.parent=void 0,this._groups=new Map,this.children=new Map,this.id="root",this.parent=void 0}_compact(){let l=0;for(const[o,g]of this._groups)g.children.size===0?this._groups.delete(o):l+=1;if(l!==1)this.children=this._groups;else{const o=L.Iterable.first(this._groups.values());for(const[,g]of o.children)g.parent=this,this.children.set(g.id,g)}return this}getTopLevelSymbols(){const l=[];for(const o of this.children.values())o instanceof h?l.push(o.symbol):l.push(...L.Iterable.map(o.children.values(),g=>g.symbol));return l.sort((o,g)=>w.Range.compareRangesUsingStarts(o.range,g.range))}asListOfDocumentSymbols(){const l=this.getTopLevelSymbols(),o=[];return u._flattenDocumentSymbols(o,l,""),o.sort((g,c)=>p.Position.compare(w.Range.getStartPosition(g.range),w.Range.getStartPosition(c.range))||p.Position.compare(w.Range.getEndPosition(c.range),w.Range.getEndPosition(g.range)))}static _flattenDocumentSymbols(l,o,g){for(const c of o)l.push({kind:c.kind,tags:c.tags,name:c.name,detail:c.detail,containerName:c.containerName||g,range:c.range,selectionRange:c.selectionRange,children:void 0}),c.children&&u._flattenDocumentSymbols(l,c.children,c.name)}}e.OutlineModel=u,e.IOutlineModelService=(0,b.createDecorator)("IOutlineModelService");let d=class{constructor(l,o,g){this._languageFeaturesService=l,this._disposables=new i.DisposableStore,this._cache=new y.LRUCache(10,.7),this._debounceInformation=o.for(l.documentSymbolProvider,"DocumentSymbols",{min:350}),this._disposables.add(g.onModelRemoved(c=>{this._cache.delete(c.id)}))}dispose(){this._disposables.dispose()}async getOrCreate(l,o){const g=this._languageFeaturesService.documentSymbolProvider,c=g.ordered(l);let f=this._cache.get(l.id);if(!f||f.versionId!==l.getVersionId()||!(0,m.equals)(f.provider,c)){const S=new k.CancellationTokenSource;f={versionId:l.getVersionId(),provider:c,promiseCnt:0,source:S,promise:u.create(g,l,S.token),model:void 0},this._cache.set(l.id,f);const I=Date.now();f.promise.then(E=>{f.model=E,this._debounceInformation.update(l,Date.now()-I)}).catch(E=>{this._cache.delete(l.id)})}if(f.model)return f.model;f.promiseCnt+=1;const _=o.onCancellationRequested(()=>{--f.promiseCnt===0&&(f.source.cancel(),this._cache.delete(l.id))});try{return await f.promise}finally{_.dispose()}}};e.OutlineModelService=d,e.OutlineModelService=d=Ie([he(0,t.ILanguageFeaturesService),he(1,C.ILanguageFeatureDebounceService),he(2,s.IModelService)],d),(0,a.registerSingleton)(e.IOutlineModelService,d,1)}),define(te[816],ie([1,0,13,32,359,82,18,173,2,7]),function(J,e,m,k,D,L,y,p,w,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0});let b=class extends w.Disposable{constructor(s,i,t){super(),this._textModel=s,this._languageFeaturesService=i,this._outlineModelService=t,this._currentModel=(0,k.observableValue)(this,void 0);const n=(0,k.observableSignalFromEvent)("documentSymbolProvider.onDidChange",this._languageFeaturesService.documentSymbolProvider.onDidChange),h=(0,k.observableSignalFromEvent)("_textModel.onDidChangeContent",C.Event.debounce(v=>this._textModel.onDidChangeContent(v),()=>{},100));this._register((0,k.autorunWithStore)(async(v,u)=>{n.read(v),h.read(v);const d=u.add(new L.DisposableCancellationTokenSource),r=await this._outlineModelService.getOrCreate(this._textModel,d.token);u.isDisposed||this._currentModel.set(r,void 0)}))}getBreadcrumbItems(s,i){const t=this._currentModel.read(i);if(!t)return[];const n=t.asListOfDocumentSymbols().filter(h=>s.contains(h.range.startLineNumber)&&!s.contains(h.range.endLineNumber));return n.sort((0,m.reverseOrder)((0,m.compareBy)(h=>h.range.endLineNumber-h.range.startLineNumber,m.numberComparator))),n.map(h=>({name:h.name,kind:h.kind,startLineNumber:h.range.startLineNumber}))}};b=Ie([he(1,y.ILanguageFeaturesService),he(2,p.IOutlineModelService)],b),D.HideUnchangedRegionsFeature.setBreadcrumbsSourceFactory((a,s)=>s.createInstance(b,a))}),define(te[817],ie([1,0,20,21,22,73,173,27]),function(J,e,m,k,D,L,y,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),p.CommandsRegistry.registerCommand("_executeDocumentSymbolProvider",async function(w,...C){const[b]=C;(0,k.assertType)(D.URI.isUri(b));const a=w.get(y.IOutlineModelService),i=await w.get(L.ITextModelService).createModelReference(b);try{return(await a.getOrCreate(i.object.textEditorModel,m.CancellationToken.None)).getTopLevelSymbols()}finally{i.dispose()}})}),define(te[818],ie([1,0,62,6,52,15,7,121,2,113,61]),function(J,e,m,k,D,L,y,p,w,C,b){"use strict";var a;Object.defineProperty(e,"__esModule",{value:!0}),e.BrowserClipboardService=void 0;let s=a=class extends w.Disposable{constructor(t,n){super(),this.layoutService=t,this.logService=n,this.mapTextToType=new Map,this.findText="",this.resources=[],this.resourcesStateHash=void 0,(m.isSafari||m.isWebkitWebView)&&this.installWebKitWriteTextWorkaround(),this._register(y.Event.runAndSubscribe(k.onDidRegisterWindow,({window:h,disposables:v})=>{v.add((0,k.addDisposableListener)(h.document,"copy",()=>this.clearResources()))},{window:D.mainWindow,disposables:this._store}))}installWebKitWriteTextWorkaround(){const t=()=>{const n=new L.DeferredPromise;this.webKitPendingClipboardWritePromise&&!this.webKitPendingClipboardWritePromise.isSettled&&this.webKitPendingClipboardWritePromise.cancel(),this.webKitPendingClipboardWritePromise=n,navigator.clipboard.write([new ClipboardItem({"text/plain":n.p})]).catch(async h=>{(!(h instanceof Error)||h.name!=="NotAllowedError"||!n.isRejected)&&this.logService.error(h)})};this._register(y.Event.runAndSubscribe(this.layoutService.onDidAddContainer,({container:n,disposables:h})=>{h.add((0,k.addDisposableListener)(n,"click",t)),h.add((0,k.addDisposableListener)(n,"keydown",t))},{container:this.layoutService.mainContainer,disposables:this._store}))}async writeText(t,n){if(this.writeResources([]),n){this.mapTextToType.set(n,t);return}if(this.webKitPendingClipboardWritePromise)return this.webKitPendingClipboardWritePromise.complete(t);try{return await navigator.clipboard.writeText(t)}catch(h){console.error(h)}this.fallbackWriteText(t)}fallbackWriteText(t){const n=(0,k.getActiveDocument)(),h=n.activeElement,v=n.body.appendChild((0,k.$)("textarea",{"aria-hidden":!0}));v.style.height="1px",v.style.width="1px",v.style.position="absolute",v.value=t,v.focus(),v.select(),n.execCommand("copy"),h instanceof HTMLElement&&h.focus(),n.body.removeChild(v)}async readText(t){if(t)return this.mapTextToType.get(t)||"";try{return await navigator.clipboard.readText()}catch(n){console.error(n)}return""}async readFindText(){return this.findText}async writeFindText(t){this.findText=t}async writeResources(t){t.length===0?this.clearResources():(this.resources=t,this.resourcesStateHash=await this.computeResourcesStateHash())}async readResources(){const t=await this.computeResourcesStateHash();return this.resourcesStateHash!==t&&this.clearResources(),this.resources}async computeResourcesStateHash(){if(this.resources.length===0)return;const t=await this.readText();return(0,p.hash)(t.substring(0,a.MAX_RESOURCE_STATE_SOURCE_LENGTH))}clearResources(){this.resources=[],this.resourcesStateHash=void 0}};e.BrowserClipboardService=s,s.MAX_RESOURCE_STATE_SOURCE_LENGTH=1e3,e.BrowserClipboardService=s=a=Ie([he(0,C.ILayoutService),he(1,b.ILogService)],s)}),define(te[819],ie([1,0,2,61]),function(J,e,m,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LogService=void 0;class D extends m.Disposable{constructor(y,p=[]){super(),this.logger=new k.MultiplexLogger([y,...p]),this._register(y.onDidChangeLogLevel(w=>this.setLevel(w)))}get onDidChangeLogLevel(){return this.logger.onDidChangeLogLevel}setLevel(y){this.logger.setLevel(y)}getLevel(){return this.logger.getLevel()}trace(y,...p){this.logger.trace(y,...p)}debug(y,...p){this.logger.debug(y,...p)}info(y,...p){this.logger.info(y,...p)}warn(y,...p){this.logger.warn(y,...p)}error(y,...p){this.logger.error(y,...p)}}e.LogService=D}),define(te[104],ie([1,0,107,774,8]),function(J,e,m,k,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IMarkerService=e.IMarkerData=e.MarkerSeverity=void 0;var L;(function(p){p[p.Hint=1]="Hint",p[p.Info=2]="Info",p[p.Warning=4]="Warning",p[p.Error=8]="Error"})(L||(e.MarkerSeverity=L={})),function(p){function w(i,t){return t-i}p.compare=w;const C=Object.create(null);C[p.Error]=(0,k.localize)(0,null),C[p.Warning]=(0,k.localize)(1,null),C[p.Info]=(0,k.localize)(2,null);function b(i){return C[i]||""}p.toString=b;function a(i){switch(i){case m.default.Error:return p.Error;case m.default.Warning:return p.Warning;case m.default.Info:return p.Info;case m.default.Ignore:return p.Hint}}p.fromSeverity=a;function s(i){switch(i){case p.Error:return m.default.Error;case p.Warning:return m.default.Warning;case p.Info:return m.default.Info;case p.Hint:return m.default.Ignore}}p.toSeverity=s}(L||(e.MarkerSeverity=L={}));var y;(function(p){const w="";function C(a){return b(a,!0)}p.makeKey=C;function b(a,s){const i=[w];return a.source?i.push(a.source.replace("\xA6","\\\xA6")):i.push(w),a.code?typeof a.code=="string"?i.push(a.code.replace("\xA6","\\\xA6")):i.push(a.code.value.replace("\xA6","\\\xA6")):i.push(w),a.severity!==void 0&&a.severity!==null?i.push(L.toString(a.severity)):i.push(w),a.message&&s?i.push(a.message.replace("\xA6","\\\xA6")):i.push(w),a.startLineNumber!==void 0&&a.startLineNumber!==null?i.push(a.startLineNumber.toString()):i.push(w),a.startColumn!==void 0&&a.startColumn!==null?i.push(a.startColumn.toString()):i.push(w),a.endLineNumber!==void 0&&a.endLineNumber!==null?i.push(a.endLineNumber.toString()):i.push(w),a.endColumn!==void 0&&a.endColumn!==null?i.push(a.endColumn.toString()):i.push(w),i.push(w),i.join("\xA6")}p.makeKeyOptionalMessage=b})(y||(e.IMarkerData=y={})),e.IMarkerService=(0,D.createDecorator)("markerService")}),define(te[820],ie([1,0,13,7,2,69,11,22,5,46,8,104,25]),function(J,e,m,k,D,L,y,p,w,C,b,a,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IMarkerNavigationService=e.MarkerList=e.MarkerCoordinate=void 0;class i{constructor(v,u,d){this.marker=v,this.index=u,this.total=d}}e.MarkerCoordinate=i;let t=class{constructor(v,u,d){this._markerService=u,this._configService=d,this._onDidChange=new k.Emitter,this.onDidChange=this._onDidChange.event,this._dispoables=new D.DisposableStore,this._markers=[],this._nextIdx=-1,p.URI.isUri(v)?this._resourceFilter=g=>g.toString()===v.toString():v&&(this._resourceFilter=v);const r=this._configService.getValue("problems.sortOrder"),l=(g,c)=>{let f=(0,y.compare)(g.resource.toString(),c.resource.toString());return f===0&&(r==="position"?f=w.Range.compareRangesUsingStarts(g,c)||a.MarkerSeverity.compare(g.severity,c.severity):f=a.MarkerSeverity.compare(g.severity,c.severity)||w.Range.compareRangesUsingStarts(g,c)),f},o=()=>{this._markers=this._markerService.read({resource:p.URI.isUri(v)?v:void 0,severities:a.MarkerSeverity.Error|a.MarkerSeverity.Warning|a.MarkerSeverity.Info}),typeof v=="function"&&(this._markers=this._markers.filter(g=>this._resourceFilter(g.resource))),this._markers.sort(l)};o(),this._dispoables.add(u.onMarkerChanged(g=>{(!this._resourceFilter||g.some(c=>this._resourceFilter(c)))&&(o(),this._nextIdx=-1,this._onDidChange.fire())}))}dispose(){this._dispoables.dispose(),this._onDidChange.dispose()}matches(v){return!this._resourceFilter&&!v?!0:!this._resourceFilter||!v?!1:this._resourceFilter(v)}get selected(){const v=this._markers[this._nextIdx];return v&&new i(v,this._nextIdx+1,this._markers.length)}_initIdx(v,u,d){let r=!1,l=this._markers.findIndex(o=>o.resource.toString()===v.uri.toString());l<0&&(l=(0,m.binarySearch)(this._markers,{resource:v.uri},(o,g)=>(0,y.compare)(o.resource.toString(),g.resource.toString())),l<0&&(l=~l));for(let o=l;o<this._markers.length;o++){let g=w.Range.lift(this._markers[o]);if(g.isEmpty()){const c=v.getWordAtPosition(g.getStartPosition());c&&(g=new w.Range(g.startLineNumber,c.startColumn,g.startLineNumber,c.endColumn))}if(u&&(g.containsPosition(u)||u.isBeforeOrEqual(g.getStartPosition()))){this._nextIdx=o,r=!0;break}if(this._markers[o].resource.toString()!==v.uri.toString())break}r||(this._nextIdx=d?0:this._markers.length-1),this._nextIdx<0&&(this._nextIdx=this._markers.length-1)}resetIndex(){this._nextIdx=-1}move(v,u,d){if(this._markers.length===0)return!1;const r=this._nextIdx;return this._nextIdx===-1?this._initIdx(u,d,v):v?this._nextIdx=(this._nextIdx+1)%this._markers.length:v||(this._nextIdx=(this._nextIdx-1+this._markers.length)%this._markers.length),r!==this._nextIdx}find(v,u){let d=this._markers.findIndex(r=>r.resource.toString()===v.toString());if(!(d<0)){for(;d<this._markers.length;d++)if(w.Range.containsPosition(this._markers[d],u))return new i(this._markers[d],d+1,this._markers.length)}}};e.MarkerList=t,e.MarkerList=t=Ie([he(1,a.IMarkerService),he(2,s.IConfigurationService)],t),e.IMarkerNavigationService=(0,b.createDecorator)("IMarkerNavigationService");let n=class{constructor(v,u){this._markerService=v,this._configService=u,this._provider=new L.LinkedList}getMarkerList(v){for(const u of this._provider){const d=u.getMarkerList(v);if(d)return d}return new t(v,this._markerService,this._configService)}};n=Ie([he(0,a.IMarkerService),he(1,s.IConfigurationService)],n),(0,C.registerSingleton)(e.IMarkerNavigationService,n,1)}),define(te[821],ie([1,0,13,7,54,47,49,22,104]),function(J,e,m,k,D,L,y,p,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarkerService=e.unsupportedSchemas=void 0,e.unsupportedSchemas=new Set([y.Schemas.inMemory,y.Schemas.vscodeSourceControl,y.Schemas.walkThrough,y.Schemas.walkThroughSnippet,y.Schemas.vscodeChatCodeBlock]);class C{constructor(){this._byResource=new L.ResourceMap,this._byOwner=new Map}set(i,t,n){let h=this._byResource.get(i);h||(h=new Map,this._byResource.set(i,h)),h.set(t,n);let v=this._byOwner.get(t);v||(v=new L.ResourceMap,this._byOwner.set(t,v)),v.set(i,n)}get(i,t){const n=this._byResource.get(i);return n?.get(t)}delete(i,t){let n=!1,h=!1;const v=this._byResource.get(i);v&&(n=v.delete(t));const u=this._byOwner.get(t);if(u&&(h=u.delete(i)),n!==h)throw new Error("illegal state");return n&&h}values(i){var t,n,h,v;return typeof i=="string"?(n=(t=this._byOwner.get(i))===null||t===void 0?void 0:t.values())!==null&&n!==void 0?n:D.Iterable.empty():p.URI.isUri(i)?(v=(h=this._byResource.get(i))===null||h===void 0?void 0:h.values())!==null&&v!==void 0?v:D.Iterable.empty():D.Iterable.map(D.Iterable.concat(...this._byOwner.values()),u=>u[1])}}class b{constructor(i){this.errors=0,this.infos=0,this.warnings=0,this.unknowns=0,this._data=new L.ResourceMap,this._service=i,this._subscription=i.onMarkerChanged(this._update,this)}dispose(){this._subscription.dispose()}_update(i){for(const t of i){const n=this._data.get(t);n&&this._substract(n);const h=this._resourceStats(t);this._add(h),this._data.set(t,h)}}_resourceStats(i){const t={errors:0,warnings:0,infos:0,unknowns:0};if(e.unsupportedSchemas.has(i.scheme))return t;for(const{severity:n}of this._service.read({resource:i}))n===w.MarkerSeverity.Error?t.errors+=1:n===w.MarkerSeverity.Warning?t.warnings+=1:n===w.MarkerSeverity.Info?t.infos+=1:t.unknowns+=1;return t}_substract(i){this.errors-=i.errors,this.warnings-=i.warnings,this.infos-=i.infos,this.unknowns-=i.unknowns}_add(i){this.errors+=i.errors,this.warnings+=i.warnings,this.infos+=i.infos,this.unknowns+=i.unknowns}}class a{constructor(){this._onMarkerChanged=new k.DebounceEmitter({delay:0,merge:a._merge}),this.onMarkerChanged=this._onMarkerChanged.event,this._data=new C,this._stats=new b(this)}dispose(){this._stats.dispose(),this._onMarkerChanged.dispose()}remove(i,t){for(const n of t||[])this.changeOne(i,n,[])}changeOne(i,t,n){if((0,m.isFalsyOrEmpty)(n))this._data.delete(t,i)&&this._onMarkerChanged.fire([t]);else{const h=[];for(const v of n){const u=a._toMarker(i,t,v);u&&h.push(u)}this._data.set(t,i,h),this._onMarkerChanged.fire([t])}}static _toMarker(i,t,n){let{code:h,severity:v,message:u,source:d,startLineNumber:r,startColumn:l,endLineNumber:o,endColumn:g,relatedInformation:c,tags:f}=n;if(u)return r=r>0?r:1,l=l>0?l:1,o=o>=r?o:r,g=g>0?g:l,{resource:t,owner:i,code:h,severity:v,message:u,source:d,startLineNumber:r,startColumn:l,endLineNumber:o,endColumn:g,relatedInformation:c,tags:f}}changeAll(i,t){const n=[],h=this._data.values(i);if(h)for(const v of h){const u=D.Iterable.first(v);u&&(n.push(u.resource),this._data.delete(u.resource,i))}if((0,m.isNonEmptyArray)(t)){const v=new L.ResourceMap;for(const{resource:u,marker:d}of t){const r=a._toMarker(i,u,d);if(!r)continue;const l=v.get(u);l?l.push(r):(v.set(u,[r]),n.push(u))}for(const[u,d]of v)this._data.set(u,i,d)}n.length>0&&this._onMarkerChanged.fire(n)}read(i=Object.create(null)){let{owner:t,resource:n,severities:h,take:v}=i;if((!v||v<0)&&(v=-1),t&&n){const u=this._data.get(n,t);if(u){const d=[];for(const r of u)if(a._accept(r,h)){const l=d.push(r);if(v>0&&l===v)break}return d}else return[]}else if(!t&&!n){const u=[];for(const d of this._data.values())for(const r of d)if(a._accept(r,h)){const l=u.push(r);if(v>0&&l===v)return u}return u}else{const u=this._data.values(n??t),d=[];for(const r of u)for(const l of r)if(a._accept(l,h)){const o=d.push(l);if(v>0&&o===v)return d}return d}}static _accept(i,t){return t===void 0||(t&i.severity)===i.severity}static _merge(i){const t=new L.ResourceMap;for(const n of i)for(const h of n)t.set(h,!0);return Array.from(t.keys())}}e.MarkerService=a}),define(te[51],ie([1,0,107,8]),function(J,e,m,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NoOpNotification=e.INotificationService=e.Severity=void 0,e.Severity=m.default,e.INotificationService=(0,k.createDecorator)("notificationService");class D{}e.NoOpNotification=D}),define(te[59],ie([1,0,8]),function(J,e,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IOpenerService=void 0,e.extractSelection=k,e.IOpenerService=(0,m.createDecorator)("openerService");function k(D){let L;const y=/^L?(\d+)(?:,(\d+))?(-L?(\d+)(?:,(\d+))?)?/.exec(D.fragment);return y&&(L={startLineNumber:parseInt(y[1]),startColumn:y[2]?parseInt(y[2]):1,endLineNumber:y[4]?parseInt(y[4]):void 0,endColumn:y[4]?y[5]?parseInt(y[5]):1:void 0},D=D.with({fragment:""})),{selection:L,uri:D}}}),define(te[822],ie([1,0,6,52,20,69,47,239,49,50,22,36,27,797,59]),function(J,e,m,k,D,L,y,p,w,C,b,a,s,i,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OpenerService=void 0;let n=class{constructor(d){this._commandService=d}async open(d,r){if(!(0,w.matchesScheme)(d,w.Schemas.command))return!1;if(!r?.allowCommands||(typeof d=="string"&&(d=b.URI.parse(d)),Array.isArray(r.allowCommands)&&!r.allowCommands.includes(d.path)))return!0;let l=[];try{l=(0,p.parse)(decodeURIComponent(d.query))}catch{try{l=(0,p.parse)(d.query)}catch{}}return Array.isArray(l)||(l=[l]),await this._commandService.executeCommand(d.path,...l),!0}};n=Ie([he(0,s.ICommandService)],n);let h=class{constructor(d){this._editorService=d}async open(d,r){typeof d=="string"&&(d=b.URI.parse(d));const{selection:l,uri:o}=(0,t.extractSelection)(d);return d=o,d.scheme===w.Schemas.file&&(d=(0,C.normalizePath)(d)),await this._editorService.openCodeEditor({resource:d,options:{selection:l,source:r?.fromUserGesture?i.EditorOpenSource.USER:i.EditorOpenSource.API,...r?.editorOptions}},this._editorService.getFocusedCodeEditor(),r?.openToSide),!0}};h=Ie([he(0,a.ICodeEditorService)],h);let v=class{constructor(d,r){this._openers=new L.LinkedList,this._validators=new L.LinkedList,this._resolvers=new L.LinkedList,this._resolvedUriTargets=new y.ResourceMap(l=>l.with({path:null,fragment:null,query:null}).toString()),this._externalOpeners=new L.LinkedList,this._defaultExternalOpener={openExternal:async l=>((0,w.matchesSomeScheme)(l,w.Schemas.http,w.Schemas.https)?m.windowOpenNoOpener(l):k.mainWindow.location.href=l,!0)},this._openers.push({open:async(l,o)=>o?.openExternal||(0,w.matchesSomeScheme)(l,w.Schemas.mailto,w.Schemas.http,w.Schemas.https,w.Schemas.vsls)?(await this._doOpenExternal(l,o),!0):!1}),this._openers.push(new n(r)),this._openers.push(new h(d))}registerOpener(d){return{dispose:this._openers.unshift(d)}}async open(d,r){var l;const o=typeof d=="string"?b.URI.parse(d):d,g=(l=this._resolvedUriTargets.get(o))!==null&&l!==void 0?l:d;for(const c of this._validators)if(!await c.shouldOpen(g,r))return!1;for(const c of this._openers)if(await c.open(d,r))return!0;return!1}async resolveExternalUri(d,r){for(const l of this._resolvers)try{const o=await l.resolveExternalUri(d,r);if(o)return this._resolvedUriTargets.has(o.resolved)||this._resolvedUriTargets.set(o.resolved,d),o}catch{}throw new Error("Could not resolve external URI: "+d.toString())}async _doOpenExternal(d,r){const l=typeof d=="string"?b.URI.parse(d):d;let o;try{o=(await this.resolveExternalUri(l,r)).resolved}catch{o=l}let g;if(typeof d=="string"&&l.toString()===o.toString()?g=d:g=encodeURI(o.toString(!0)),r?.allowContributedOpeners){const c=typeof r?.allowContributedOpeners=="string"?r?.allowContributedOpeners:void 0;for(const f of this._externalOpeners)if(await f.openExternal(g,{sourceUri:l,preferredOpenerId:c},D.CancellationToken.None))return!0}return this._defaultExternalOpener.openExternal(g,{sourceUri:l},D.CancellationToken.None)}dispose(){this._validators.clear()}};e.OpenerService=v,e.OpenerService=v=Ie([he(0,a.ICodeEditorService),he(1,s.ICommandService)],v)}),define(te[823],ie([1,0,6,88,48,67,7,2,59,80,44,512]),function(J,e,m,k,D,L,y,p,w,C,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Link=void 0;let a=class extends p.Disposable{get enabled(){return this._enabled}set enabled(i){i?(this.el.setAttribute("aria-disabled","false"),this.el.tabIndex=0,this.el.style.pointerEvents="auto",this.el.style.opacity="1",this.el.style.cursor="pointer",this._enabled=!1):(this.el.setAttribute("aria-disabled","true"),this.el.tabIndex=-1,this.el.style.pointerEvents="none",this.el.style.opacity="0.4",this.el.style.cursor="default",this._enabled=!0),this._enabled=i}constructor(i,t,n={},h){var v;super(),this._link=t,this._enabled=!0,this.el=(0,m.append)(i,(0,m.$)("a.monaco-link",{tabIndex:(v=t.tabIndex)!==null&&v!==void 0?v:0,href:t.href},t.label)),this.setTooltip(t.title),this.el.setAttribute("role","button");const u=this._register(new k.DomEmitter(this.el,"click")),d=this._register(new k.DomEmitter(this.el,"keypress")),r=y.Event.chain(d.event,g=>g.map(c=>new D.StandardKeyboardEvent(c)).filter(c=>c.keyCode===3)),l=this._register(new k.DomEmitter(this.el,L.EventType.Tap)).event;this._register(L.Gesture.addTarget(this.el));const o=y.Event.any(u.event,r,l);this._register(o(g=>{this.enabled&&(m.EventHelper.stop(g,!0),n?.opener?n.opener(this._link.href):h.open(this._link.href,{allowCommands:!0}))})),this.enabled=!0}setTooltip(i){!this.hover&&i?this.hover=this._register((0,C.setupCustomHover)((0,b.getDefaultHoverDelegate)("mouse"),this.el,i)):this.hover&&this.hover.update(i)}};e.Link=a,e.Link=a=Ie([he(3,w.IOpenerService)],a)}),define(te[91],ie([1,0,8]),function(J,e,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IEditorProgressService=e.Progress=e.emptyProgressRunner=e.IProgressService=void 0,e.IProgressService=(0,m.createDecorator)("progressService"),e.emptyProgressRunner=Object.freeze({total(){},worked(){},done(){}});class k{constructor(L){this.callback=L}report(L){this._value=L,this.callback(this._value)}}e.Progress=k,k.None=Object.freeze({report(){}}),e.IEditorProgressService=(0,m.createDecorator)("editorProgressService")}),define(te[824],ie([1,0,15,20,2,21]),function(J,e,m,k,D,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PickerQuickAccessProvider=e.TriggerAction=void 0;var y;(function(b){b[b.NO_ACTION=0]="NO_ACTION",b[b.CLOSE_PICKER=1]="CLOSE_PICKER",b[b.REFRESH_PICKER=2]="REFRESH_PICKER",b[b.REMOVE_ITEM=3]="REMOVE_ITEM"})(y||(e.TriggerAction=y={}));function p(b){const a=b;return Array.isArray(a.items)}function w(b){const a=b;return!!a.picks&&a.additionalPicks instanceof Promise}class C extends D.Disposable{constructor(a,s){super(),this.prefix=a,this.options=s}provide(a,s,i){var t;const n=new D.DisposableStore;a.canAcceptInBackground=!!(!((t=this.options)===null||t===void 0)&&t.canAcceptInBackground),a.matchOnLabel=a.matchOnDescription=a.matchOnDetail=a.sortByLabel=!1;let h;const v=n.add(new D.MutableDisposable),u=async()=>{var r;const l=v.value=new D.DisposableStore;h?.dispose(!0),a.busy=!1,h=new k.CancellationTokenSource(s);const o=h.token;let g=a.value.substring(this.prefix.length);!((r=this.options)===null||r===void 0)&&r.shouldSkipTrimPickFilter||(g=g.trim());const c=this._getPicks(g,l,o,i),f=(S,I)=>{var E;let T,N;if(p(S)?(T=S.items,N=S.active):T=S,T.length===0){if(I)return!1;(g.length>0||a.hideInput)&&(!((E=this.options)===null||E===void 0)&&E.noResultsPick)&&((0,L.isFunction)(this.options.noResultsPick)?T=[this.options.noResultsPick(g)]:T=[this.options.noResultsPick])}return a.items=T,N&&(a.activeItems=[N]),!0},_=async S=>{let I=!1,E=!1;await Promise.all([(async()=>{typeof S.mergeDelay=="number"&&(await(0,m.timeout)(S.mergeDelay),o.isCancellationRequested)||E||(I=f(S.picks,!0))})(),(async()=>{a.busy=!0;try{const T=await S.additionalPicks;if(o.isCancellationRequested)return;let N,A;p(S.picks)?(N=S.picks.items,A=S.picks.active):N=S.picks;let O,M;if(p(T)?(O=T.items,M=T.active):O=T,O.length>0||!I){let P;if(!A&&!M){const x=a.activeItems[0];x&&N.indexOf(x)!==-1&&(P=x)}f({items:[...N,...O],active:A||M||P})}}finally{o.isCancellationRequested||(a.busy=!1),E=!0}})()])};if(c!==null)if(w(c))await _(c);else if(!(c instanceof Promise))f(c);else{a.busy=!0;try{const S=await c;if(o.isCancellationRequested)return;w(S)?await _(S):f(S)}finally{o.isCancellationRequested||(a.busy=!1)}}};n.add(a.onDidChangeValue(()=>u())),u(),n.add(a.onDidAccept(r=>{const[l]=a.selectedItems;typeof l?.accept=="function"&&(r.inBackground||a.hide(),l.accept(a.keyMods,r))}));const d=async(r,l)=>{var o,g;if(typeof l.trigger!="function")return;const c=(g=(o=l.buttons)===null||o===void 0?void 0:o.indexOf(r))!==null&&g!==void 0?g:-1;if(c>=0){const f=l.trigger(c,a.keyMods),_=typeof f=="number"?f:await f;if(s.isCancellationRequested)return;switch(_){case y.NO_ACTION:break;case y.CLOSE_PICKER:a.hide();break;case y.REFRESH_PICKER:u();break;case y.REMOVE_ITEM:{const S=a.items.indexOf(l);if(S!==-1){const I=a.items.slice(),E=I.splice(S,1),T=a.activeItems.filter(A=>A!==E[0]),N=a.keepScrollPosition;a.keepScrollPosition=!0,a.items=I,T&&(a.activeItems=T),a.keepScrollPosition=N}break}}}};return n.add(a.onDidTriggerItemButton(({button:r,item:l})=>d(r,l))),n.add(a.onDidTriggerSeparatorButton(({button:r,separator:l})=>d(r,l))),n}}e.PickerQuickAccessProvider=C}),define(te[825],ie([1,0,6,248,2,107,217]),function(J,e,m,k,D,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickInputBox=void 0;const y=m.$;class p extends D.Disposable{constructor(C,b,a){super(),this.parent=C,this.onKeyDown=i=>m.addStandardDisposableListener(this.findInput.inputBox.inputElement,m.EventType.KEY_DOWN,i),this.onDidChange=i=>this.findInput.onDidChange(i),this.container=m.append(this.parent,y(".quick-input-box")),this.findInput=this._register(new k.FindInput(this.container,void 0,{label:"",inputBoxStyles:b,toggleStyles:a}));const s=this.findInput.inputBox.inputElement;s.role="combobox",s.ariaHasPopup="menu",s.ariaAutoComplete="list",s.ariaExpanded="true"}get value(){return this.findInput.getValue()}set value(C){this.findInput.setValue(C)}select(C=null){this.findInput.inputBox.select(C)}isSelectionAtEnd(){return this.findInput.inputBox.isSelectionAtEnd()}get placeholder(){return this.findInput.inputBox.inputElement.getAttribute("placeholder")||""}set placeholder(C){this.findInput.inputBox.setPlaceHolder(C)}get password(){return this.findInput.inputBox.inputElement.type==="password"}set password(C){this.findInput.inputBox.inputElement.type=C?"password":"text"}set enabled(C){this.findInput.inputBox.inputElement.toggleAttribute("readonly",!C)}set toggles(C){this.findInput.setAdditionalToggles(C)}setAttribute(C,b){this.findInput.inputBox.inputElement.setAttribute(C,b)}showDecoration(C){C===L.default.Ignore?this.findInput.clearMessage():this.findInput.showMessage({type:C===L.default.Info?1:C===L.default.Warning?2:3,content:""})}stylesForType(C){return this.findInput.inputBox.stylesForType(C===L.default.Info?1:C===L.default.Warning?2:3)}setFocus(){this.findInput.focus()}layout(){this.findInput.inputBox.layout()}}e.QuickInputBox=p}),define(te[369],ie([1,0,6,88,7,48,67,108,178,419,780,217]),function(J,e,m,k,D,L,y,p,w,C,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.quickInputButtonToAction=t,e.renderQuickInputDescription=n;const a={},s=new w.IdGenerator("quick-input-button-icon-");function i(h){if(!h)return;let v;const u=h.dark.toString();return a[u]?v=a[u]:(v=s.nextId(),m.createCSSRule(`.${v}, .hc-light .${v}`,`background-image: ${m.asCSSUrl(h.light||h.dark)}`),m.createCSSRule(`.vs-dark .${v}, .hc-black .${v}`,`background-image: ${m.asCSSUrl(h.dark)}`),a[u]=v),v}function t(h,v,u){let d=h.iconClass||i(h.iconPath);return h.alwaysVisible&&(d=d?`${d} always-visible`:"always-visible"),{id:v,label:"",tooltip:h.tooltip||"",class:d,enabled:!0,run:u}}function n(h,v,u){m.reset(v);const d=(0,C.parseLinkedText)(h);let r=0;for(const l of d.nodes)if(typeof l=="string")v.append(...(0,p.renderLabelWithIcons)(l));else{let o=l.title;!o&&l.href.startsWith("command:")?o=(0,b.localize)(0,null,l.href.substring(8)):o||(o=l.href);const g=m.$("a",{href:l.href,title:o,tabIndex:r++},l.label);g.style.textDecoration="underline";const c=E=>{m.isEventLike(E)&&m.EventHelper.stop(E,!0),u.callback(l.href)},f=u.disposables.add(new k.DomEmitter(g,m.EventType.CLICK)).event,_=u.disposables.add(new k.DomEmitter(g,m.EventType.KEY_DOWN)).event,S=D.Event.chain(_,E=>E.filter(T=>{const N=new L.StandardKeyboardEvent(T);return N.equals(10)||N.equals(3)}));u.disposables.add(y.Gesture.addTarget(g));const I=u.disposables.add(new k.DomEmitter(g,y.EventType.Tap)).event;D.Event.any(f,I,S)(c,null,u.disposables),v.appendChild(g)}}}),define(te[75],ie([1,0,8]),function(J,e,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IQuickInputService=e.quickPickItemScorerAccessor=e.QuickPickItemScorerAccessor=e.ItemActivation=e.QuickInputHideReason=e.NO_KEY_MODS=void 0,e.NO_KEY_MODS={ctrlCmd:!1,alt:!1};var k;(function(y){y[y.Blur=1]="Blur",y[y.Gesture=2]="Gesture",y[y.Other=3]="Other"})(k||(e.QuickInputHideReason=k={}));var D;(function(y){y[y.NONE=0]="NONE",y[y.FIRST=1]="FIRST",y[y.SECOND=2]="SECOND",y[y.LAST=3]="LAST"})(D||(e.ItemActivation=D={}));class L{constructor(p){this.options=p}}e.QuickPickItemScorerAccessor=L,e.quickPickItemScorerAccessor=new L,e.IQuickInputService=(0,m.createDecorator)("quickInputService")}),define(te[39],ie([1,0,87,21]),function(J,e,m,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Registry=void 0;class D{constructor(){this.data=new Map}add(y,p){m.ok(k.isString(y)),m.ok(k.isObject(p)),m.ok(!this.data.has(y),"There is already an extension with this id"),this.data.set(y,p)}as(y){return this.data.get(y)||null}}e.Registry=new D}),define(te[370],ie([1,0,39]),function(J,e,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LocalSelectionTransfer=e.Extensions=e.CodeDataTransfers=void 0,e.CodeDataTransfers={EDITORS:"CodeEditors",FILES:"CodeFiles"};class k{}e.Extensions={DragAndDropContribution:"workbench.contributions.dragAndDrop"},m.Registry.add(e.Extensions.DragAndDropContribution,new k);class D{constructor(){}static getInstance(){return D.INSTANCE}hasData(y){return y&&y===this.proto}getData(y){if(this.hasData(y))return this.data}}e.LocalSelectionTransfer=D,D.INSTANCE=new D}),define(te[371],ie([1,0,213,186,120,22,370]),function(J,e,m,k,D,L,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toVSDataTransfer=p,e.toExternalVSDataTransfer=b;function p(a){const s=new k.VSDataTransfer;for(const i of a.items){const t=i.type;if(i.kind==="string"){const n=new Promise(h=>i.getAsString(h));s.append(t,(0,k.createStringDataTransferItem)(n))}else if(i.kind==="file"){const n=i.getAsFile();n&&s.append(t,w(n))}}return s}function w(a){const s=a.path?L.URI.parse(a.path):void 0;return(0,k.createFileDataTransferItem)(a.name,s,async()=>new Uint8Array(await a.arrayBuffer()))}const C=Object.freeze([y.CodeDataTransfers.EDITORS,y.CodeDataTransfers.FILES,m.DataTransfers.RESOURCES,m.DataTransfers.INTERNAL_URI_LIST]);function b(a,s=!1){const i=p(a),t=i.get(m.DataTransfers.INTERNAL_URI_LIST);if(t)i.replace(D.Mimes.uriList,t);else if(s||!i.has(D.Mimes.uriList)){const n=[];for(const h of a.items){const v=h.getAsFile();if(v){const u=v.path;try{u?n.push(L.URI.file(u).toString()):n.push(L.URI.parse(v.name,!0).toString())}catch{}}}n.length&&i.replace(D.Mimes.uriList,(0,k.createStringDataTransferItem)(k.UriList.create(n)))}for(const n of C)i.delete(n);return i}}),define(te[259],ie([1,0,7,39]),function(J,e,m,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Extensions=void 0,e.Extensions={JSONContribution:"base.contributions.json"};function D(p){return p.length>0&&p.charAt(p.length-1)==="#"?p.substring(0,p.length-1):p}class L{constructor(){this._onDidChangeSchema=new m.Emitter,this.schemasById={}}registerSchema(w,C){this.schemasById[D(w)]=C,this._onDidChangeSchema.fire(w)}notifySchemaChanged(w){this._onDidChangeSchema.fire(w)}}const y=new L;k.Registry.add(e.Extensions.JSONContribution,y)}),define(te[105],ie([1,0,13,7,21,766,25,259,39]),function(J,e,m,k,D,L,y,p,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OVERRIDE_PROPERTY_REGEX=e.OVERRIDE_PROPERTY_PATTERN=e.resourceLanguageSettingsSchemaId=e.resourceSettings=e.windowSettings=e.machineOverridableSettings=e.machineSettings=e.applicationSettings=e.allSettings=e.Extensions=void 0,e.overrideIdentifiersFromKey=i,e.getDefaultValue=t,e.validateProperty=h,e.Extensions={Configuration:"base.contributions.configuration"},e.allSettings={properties:{},patternProperties:{}},e.applicationSettings={properties:{},patternProperties:{}},e.machineSettings={properties:{},patternProperties:{}},e.machineOverridableSettings={properties:{},patternProperties:{}},e.windowSettings={properties:{},patternProperties:{}},e.resourceSettings={properties:{},patternProperties:{}},e.resourceLanguageSettingsSchemaId="vscode://schemas/settings/resourceLanguage";const C=w.Registry.as(p.Extensions.JSONContribution);class b{constructor(){this.overrideIdentifiers=new Set,this._onDidSchemaChange=new k.Emitter,this._onDidUpdateConfiguration=new k.Emitter,this.configurationDefaultsOverrides=new Map,this.defaultLanguageConfigurationOverridesNode={id:"defaultOverrides",title:L.localize(0,null),properties:{}},this.configurationContributors=[this.defaultLanguageConfigurationOverridesNode],this.resourceLanguageSettingsSchema={properties:{},patternProperties:{},additionalProperties:!0,allowTrailingCommas:!0,allowComments:!0},this.configurationProperties={},this.policyConfigurations=new Map,this.excludedConfigurationProperties={},C.registerSchema(e.resourceLanguageSettingsSchemaId,this.resourceLanguageSettingsSchema),this.registerOverridePropertyPatternKey()}registerConfiguration(u,d=!0){this.registerConfigurations([u],d)}registerConfigurations(u,d=!0){const r=new Set;this.doRegisterConfigurations(u,d,r),C.registerSchema(e.resourceLanguageSettingsSchemaId,this.resourceLanguageSettingsSchema),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:r})}registerDefaultConfigurations(u){const d=new Set;this.doRegisterDefaultConfigurations(u,d),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:d,defaultsOverrides:!0})}doRegisterDefaultConfigurations(u,d){var r;const l=[];for(const{overrides:o,source:g}of u)for(const c in o)if(d.add(c),e.OVERRIDE_PROPERTY_REGEX.test(c)){const f=this.configurationDefaultsOverrides.get(c),_=(r=f?.valuesSources)!==null&&r!==void 0?r:new Map;if(g)for(const T of Object.keys(o[c]))_.set(T,g);const S={...f?.value||{},...o[c]};this.configurationDefaultsOverrides.set(c,{source:g,value:S,valuesSources:_});const I=(0,y.getLanguageTagSettingPlainKey)(c),E={type:"object",default:S,description:L.localize(1,null,I),$ref:e.resourceLanguageSettingsSchemaId,defaultDefaultValue:S,source:D.isString(g)?void 0:g,defaultValueSource:g};l.push(...i(c)),this.configurationProperties[c]=E,this.defaultLanguageConfigurationOverridesNode.properties[c]=E}else{this.configurationDefaultsOverrides.set(c,{value:o[c],source:g});const f=this.configurationProperties[c];f&&(this.updatePropertyDefaultValue(c,f),this.updateSchema(c,f))}this.doRegisterOverrideIdentifiers(l)}registerOverrideIdentifiers(u){this.doRegisterOverrideIdentifiers(u),this._onDidSchemaChange.fire()}doRegisterOverrideIdentifiers(u){for(const d of u)this.overrideIdentifiers.add(d);this.updateOverridePropertyPatternKey()}doRegisterConfigurations(u,d,r){u.forEach(l=>{this.validateAndRegisterProperties(l,d,l.extensionInfo,l.restrictedProperties,void 0,r),this.configurationContributors.push(l),this.registerJSONConfiguration(l)})}validateAndRegisterProperties(u,d=!0,r,l,o=3,g){var c;o=D.isUndefinedOrNull(u.scope)?o:u.scope;const f=u.properties;if(f)for(const S in f){const I=f[S];if(d&&h(S,I)){delete f[S];continue}if(I.source=r,I.defaultDefaultValue=f[S].default,this.updatePropertyDefaultValue(S,I),e.OVERRIDE_PROPERTY_REGEX.test(S)?I.scope=void 0:(I.scope=D.isUndefinedOrNull(I.scope)?o:I.scope,I.restricted=D.isUndefinedOrNull(I.restricted)?!!l?.includes(S):I.restricted),f[S].hasOwnProperty("included")&&!f[S].included){this.excludedConfigurationProperties[S]=f[S],delete f[S];continue}else this.configurationProperties[S]=f[S],!((c=f[S].policy)===null||c===void 0)&&c.name&&this.policyConfigurations.set(f[S].policy.name,S);!f[S].deprecationMessage&&f[S].markdownDeprecationMessage&&(f[S].deprecationMessage=f[S].markdownDeprecationMessage),g.add(S)}const _=u.allOf;if(_)for(const S of _)this.validateAndRegisterProperties(S,d,r,l,o,g)}getConfigurationProperties(){return this.configurationProperties}getPolicyConfigurations(){return this.policyConfigurations}registerJSONConfiguration(u){const d=r=>{const l=r.properties;if(l)for(const g in l)this.updateSchema(g,l[g]);const o=r.allOf;o?.forEach(d)};d(u)}updateSchema(u,d){switch(e.allSettings.properties[u]=d,d.scope){case 1:e.applicationSettings.properties[u]=d;break;case 2:e.machineSettings.properties[u]=d;break;case 6:e.machineOverridableSettings.properties[u]=d;break;case 3:e.windowSettings.properties[u]=d;break;case 4:e.resourceSettings.properties[u]=d;break;case 5:e.resourceSettings.properties[u]=d,this.resourceLanguageSettingsSchema.properties[u]=d;break}}updateOverridePropertyPatternKey(){for(const u of this.overrideIdentifiers.values()){const d=`[${u}]`,r={type:"object",description:L.localize(2,null),errorMessage:L.localize(3,null),$ref:e.resourceLanguageSettingsSchemaId};this.updatePropertyDefaultValue(d,r),e.allSettings.properties[d]=r,e.applicationSettings.properties[d]=r,e.machineSettings.properties[d]=r,e.machineOverridableSettings.properties[d]=r,e.windowSettings.properties[d]=r,e.resourceSettings.properties[d]=r}}registerOverridePropertyPatternKey(){const u={type:"object",description:L.localize(4,null),errorMessage:L.localize(5,null),$ref:e.resourceLanguageSettingsSchemaId};e.allSettings.patternProperties[e.OVERRIDE_PROPERTY_PATTERN]=u,e.applicationSettings.patternProperties[e.OVERRIDE_PROPERTY_PATTERN]=u,e.machineSettings.patternProperties[e.OVERRIDE_PROPERTY_PATTERN]=u,e.machineOverridableSettings.patternProperties[e.OVERRIDE_PROPERTY_PATTERN]=u,e.windowSettings.patternProperties[e.OVERRIDE_PROPERTY_PATTERN]=u,e.resourceSettings.patternProperties[e.OVERRIDE_PROPERTY_PATTERN]=u,this._onDidSchemaChange.fire()}updatePropertyDefaultValue(u,d){const r=this.configurationDefaultsOverrides.get(u);let l=r?.value,o=r?.source;D.isUndefined(l)&&(l=d.defaultDefaultValue,o=void 0),D.isUndefined(l)&&(l=t(d.type)),d.default=l,d.defaultValueSource=o}}const a="\\[([^\\]]+)\\]",s=new RegExp(a,"g");e.OVERRIDE_PROPERTY_PATTERN=`^(${a})+$`,e.OVERRIDE_PROPERTY_REGEX=new RegExp(e.OVERRIDE_PROPERTY_PATTERN);function i(v){const u=[];if(e.OVERRIDE_PROPERTY_REGEX.test(v)){let d=s.exec(v);for(;d?.length;){const r=d[1].trim();r&&u.push(r),d=s.exec(v)}}return(0,m.distinct)(u)}function t(v){switch(Array.isArray(v)?v[0]:v){case"boolean":return!1;case"integer":case"number":return 0;case"string":return"";case"array":return[];case"object":return{};default:return null}}const n=new b;w.Registry.add(e.Extensions.Configuration,n);function h(v,u){var d,r,l,o;return v.trim()?e.OVERRIDE_PROPERTY_REGEX.test(v)?L.localize(7,null,v):n.getConfigurationProperties()[v]!==void 0?L.localize(8,null,v):!((d=u.policy)===null||d===void 0)&&d.name&&n.getPolicyConfigurations().get((r=u.policy)===null||r===void 0?void 0:r.name)!==void 0?L.localize(9,null,v,(l=u.policy)===null||l===void 0?void 0:l.name,n.getPolicyConfigurations().get((o=u.policy)===null||o===void 0?void 0:o.name)):null:L.localize(6,null)}}),define(te[260],ie([1,0,296,38,188,663,105,39]),function(J,e,m,k,D,L,y,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.editorConfigurationBaseNode=void 0,e.isEditorConfigurationKey=s,e.isDiffEditorConfigurationKey=i,e.editorConfigurationBaseNode=Object.freeze({id:"editor",order:5,type:"object",title:L.localize(0,null),scope:5});const w={...e.editorConfigurationBaseNode,properties:{"editor.tabSize":{type:"number",default:D.EDITOR_MODEL_DEFAULTS.tabSize,minimum:1,markdownDescription:L.localize(1,null,"`#editor.detectIndentation#`")},"editor.indentSize":{anyOf:[{type:"string",enum:["tabSize"]},{type:"number",minimum:1}],default:"tabSize",markdownDescription:L.localize(2,null)},"editor.insertSpaces":{type:"boolean",default:D.EDITOR_MODEL_DEFAULTS.insertSpaces,markdownDescription:L.localize(3,null,"`#editor.detectIndentation#`")},"editor.detectIndentation":{type:"boolean",default:D.EDITOR_MODEL_DEFAULTS.detectIndentation,markdownDescription:L.localize(4,null,"`#editor.tabSize#`","`#editor.insertSpaces#`")},"editor.trimAutoWhitespace":{type:"boolean",default:D.EDITOR_MODEL_DEFAULTS.trimAutoWhitespace,description:L.localize(5,null)},"editor.largeFileOptimizations":{type:"boolean",default:D.EDITOR_MODEL_DEFAULTS.largeFileOptimizations,description:L.localize(6,null)},"editor.wordBasedSuggestions":{enum:["off","currentDocument","matchingDocuments","allDocuments"],default:"matchingDocuments",enumDescriptions:[L.localize(7,null),L.localize(8,null),L.localize(9,null),L.localize(10,null)],description:L.localize(11,null)},"editor.semanticHighlighting.enabled":{enum:[!0,!1,"configuredByTheme"],enumDescriptions:[L.localize(12,null),L.localize(13,null),L.localize(14,null)],default:"configuredByTheme",description:L.localize(15,null)},"editor.stablePeek":{type:"boolean",default:!1,markdownDescription:L.localize(16,null)},"editor.maxTokenizationLineLength":{type:"integer",default:2e4,description:L.localize(17,null)},"editor.experimental.asyncTokenization":{type:"boolean",default:!1,description:L.localize(18,null),tags:["experimental"]},"editor.experimental.asyncTokenizationLogging":{type:"boolean",default:!1,description:L.localize(19,null)},"editor.experimental.asyncTokenizationVerification":{type:"boolean",default:!1,description:L.localize(20,null),tags:["experimental"]},"editor.language.brackets":{type:["array","null"],default:null,description:L.localize(21,null),items:{type:"array",items:[{type:"string",description:L.localize(22,null)},{type:"string",description:L.localize(23,null)}]}},"editor.language.colorizedBracketPairs":{type:["array","null"],default:null,description:L.localize(24,null),items:{type:"array",items:[{type:"string",description:L.localize(25,null)},{type:"string",description:L.localize(26,null)}]}},"diffEditor.maxComputationTime":{type:"number",default:m.diffEditorDefaultOptions.maxComputationTime,description:L.localize(27,null)},"diffEditor.maxFileSize":{type:"number",default:m.diffEditorDefaultOptions.maxFileSize,description:L.localize(28,null)},"diffEditor.renderSideBySide":{type:"boolean",default:m.diffEditorDefaultOptions.renderSideBySide,description:L.localize(29,null)},"diffEditor.renderSideBySideInlineBreakpoint":{type:"number",default:m.diffEditorDefaultOptions.renderSideBySideInlineBreakpoint,description:L.localize(30,null)},"diffEditor.useInlineViewWhenSpaceIsLimited":{type:"boolean",default:m.diffEditorDefaultOptions.useInlineViewWhenSpaceIsLimited,description:L.localize(31,null)},"diffEditor.renderMarginRevertIcon":{type:"boolean",default:m.diffEditorDefaultOptions.renderMarginRevertIcon,description:L.localize(32,null)},"diffEditor.renderGutterMenu":{type:"boolean",default:m.diffEditorDefaultOptions.renderGutterMenu,description:L.localize(33,null)},"diffEditor.ignoreTrimWhitespace":{type:"boolean",default:m.diffEditorDefaultOptions.ignoreTrimWhitespace,description:L.localize(34,null)},"diffEditor.renderIndicators":{type:"boolean",default:m.diffEditorDefaultOptions.renderIndicators,description:L.localize(35,null)},"diffEditor.codeLens":{type:"boolean",default:m.diffEditorDefaultOptions.diffCodeLens,description:L.localize(36,null)},"diffEditor.wordWrap":{type:"string",enum:["off","on","inherit"],default:m.diffEditorDefaultOptions.diffWordWrap,markdownEnumDescriptions:[L.localize(37,null),L.localize(38,null),L.localize(39,null,"`#editor.wordWrap#`")]},"diffEditor.diffAlgorithm":{type:"string",enum:["legacy","advanced"],default:m.diffEditorDefaultOptions.diffAlgorithm,markdownEnumDescriptions:[L.localize(40,null),L.localize(41,null)],tags:["experimental"]},"diffEditor.hideUnchangedRegions.enabled":{type:"boolean",default:m.diffEditorDefaultOptions.hideUnchangedRegions.enabled,markdownDescription:L.localize(42,null)},"diffEditor.hideUnchangedRegions.revealLineCount":{type:"integer",default:m.diffEditorDefaultOptions.hideUnchangedRegions.revealLineCount,markdownDescription:L.localize(43,null),minimum:1},"diffEditor.hideUnchangedRegions.minimumLineCount":{type:"integer",default:m.diffEditorDefaultOptions.hideUnchangedRegions.minimumLineCount,markdownDescription:L.localize(44,null),minimum:1},"diffEditor.hideUnchangedRegions.contextLineCount":{type:"integer",default:m.diffEditorDefaultOptions.hideUnchangedRegions.contextLineCount,markdownDescription:L.localize(45,null),minimum:1},"diffEditor.experimental.showMoves":{type:"boolean",default:m.diffEditorDefaultOptions.experimental.showMoves,markdownDescription:L.localize(46,null)},"diffEditor.experimental.showEmptyDecorations":{type:"boolean",default:m.diffEditorDefaultOptions.experimental.showEmptyDecorations,description:L.localize(47,null)}}};function C(n){return typeof n.type<"u"||typeof n.anyOf<"u"}for(const n of k.editorOptionsRegistry){const h=n.schema;if(typeof h<"u")if(C(h))w.properties[`editor.${n.name}`]=h;else for(const v in h)Object.hasOwnProperty.call(h,v)&&(w.properties[v]=h[v])}let b=null;function a(){return b===null&&(b=Object.create(null),Object.keys(w.properties).forEach(n=>{b[n]=!0})),b}function s(n){return a()[`editor.${n}`]||!1}function i(n){return a()[`diffEditor.${n}`]||!1}p.Registry.as(y.Extensions.Configuration).registerConfiguration(w)}),define(te[84],ie([1,0,673,7,39,120,105]),function(J,e,m,k,D,L,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PLAINTEXT_EXTENSION=e.PLAINTEXT_LANGUAGE_ID=e.ModesRegistry=e.EditorModesRegistry=e.Extensions=void 0,e.Extensions={ModesRegistry:"editor.modesRegistry"};class p{constructor(){this._onDidChangeLanguages=new k.Emitter,this.onDidChangeLanguages=this._onDidChangeLanguages.event,this._languages=[]}registerLanguage(C){return this._languages.push(C),this._onDidChangeLanguages.fire(void 0),{dispose:()=>{for(let b=0,a=this._languages.length;b<a;b++)if(this._languages[b]===C){this._languages.splice(b,1);return}}}}getLanguages(){return this._languages}}e.EditorModesRegistry=p,e.ModesRegistry=new p,D.Registry.add(e.Extensions.ModesRegistry,e.ModesRegistry),e.PLAINTEXT_LANGUAGE_ID="plaintext",e.PLAINTEXT_EXTENSION=".txt",e.ModesRegistry.registerLanguage({id:e.PLAINTEXT_LANGUAGE_ID,extensions:[e.PLAINTEXT_EXTENSION],aliases:[m.localize(0,null),"text"],mimetypes:[L.Mimes.text]}),D.Registry.as(y.Extensions.Configuration).registerDefaultConfigurations([{overrides:{"[plaintext]":{"editor.unicodeHighlight.ambiguousCharacters":!1,"editor.unicodeHighlight.invisibleCharacters":!1}}}])}),define(te[114],ie([1,0,197,98,12,7,2,70,42,84,354,59,472]),function(J,e,m,k,D,L,y,p,w,C,b,a){"use strict";var s;Object.defineProperty(e,"__esModule",{value:!0}),e.MarkdownRenderer=void 0,e.openLinkFromMarkdown=t;let i=s=class{constructor(v,u,d){this._options=v,this._languageService=u,this._openerService=d,this._onDidRenderAsync=new L.Emitter,this.onDidRenderAsync=this._onDidRenderAsync.event}dispose(){this._onDidRenderAsync.dispose()}render(v,u,d){if(!v)return{element:document.createElement("span"),dispose:()=>{}};const r=new y.DisposableStore,l=r.add((0,m.renderMarkdown)(v,{...this._getRenderOptions(v,r),...u},d));return l.element.classList.add("rendered-markdown"),{element:l.element,dispose:()=>r.dispose()}}_getRenderOptions(v,u){return{codeBlockRenderer:async(d,r)=>{var l,o,g;let c;d?c=this._languageService.getLanguageIdByLanguageName(d):this._options.editor&&(c=(l=this._options.editor.getModel())===null||l===void 0?void 0:l.getLanguageId()),c||(c=C.PLAINTEXT_LANGUAGE_ID);const f=await(0,b.tokenizeToString)(this._languageService,r,c),_=document.createElement("span");if(_.innerHTML=(g=(o=s._ttpTokenizer)===null||o===void 0?void 0:o.createHTML(f))!==null&&g!==void 0?g:f,this._options.editor){const S=this._options.editor.getOption(50);(0,p.applyFontInfo)(_,S)}else this._options.codeBlockFontFamily&&(_.style.fontFamily=this._options.codeBlockFontFamily);return this._options.codeBlockFontSize!==void 0&&(_.style.fontSize=this._options.codeBlockFontSize),_},asyncRenderCallback:()=>this._onDidRenderAsync.fire(),actionHandler:{callback:d=>t(this._openerService,d,v.isTrusted),disposables:u}}}};e.MarkdownRenderer=i,i._ttpTokenizer=(0,k.createTrustedTypesPolicy)("tokenizeToString",{createHTML(h){return h}}),e.MarkdownRenderer=i=s=Ie([he(1,w.ILanguageService),he(2,a.IOpenerService)],i);async function t(h,v,u){try{return await h.open(v,{fromUserGesture:!0,allowContributedOpeners:!0,allowCommands:n(u)})}catch(d){return(0,D.onUnexpectedError)(d),!1}}function n(h){return h===!0?!0:h&&Array.isArray(h.enabledCommands)?h.enabledCommands:!1}}),define(te[826],ie([1,0,2,7,6,35,25,38,243,78,59,8,114,57,649,17,74,45,451]),function(J,e,m,k,D,L,y,p,w,C,b,a,s,i,t,n,h,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HoverWidget=void 0;const u=D.$;let d=class extends C.Widget{get _targetWindow(){return D.getWindow(this._target.targetElements[0])}get _targetDocumentElement(){return D.getWindow(this._target.targetElements[0]).document.documentElement}get isDisposed(){return this._isDisposed}get isMouseIn(){return this._lockMouseTracker.isMouseIn}get domNode(){return this._hover.containerDomNode}get onDispose(){return this._onDispose.event}get onRequestLayout(){return this._onRequestLayout.event}get anchor(){return this._hoverPosition===2?0:1}get x(){return this._x}get y(){return this._y}get isLocked(){return this._isLocked}set isLocked(g){this._isLocked!==g&&(this._isLocked=g,this._hoverContainer.classList.toggle("locked",this._isLocked))}constructor(g,c,f,_,S,I){var E,T,N,A,O,M,P,x;super(),this._keybindingService=c,this._configurationService=f,this._openerService=_,this._instantiationService=S,this._accessibilityService=I,this._messageListeners=new m.DisposableStore,this._isDisposed=!1,this._forcePosition=!1,this._x=0,this._y=0,this._isLocked=!1,this._enableFocusTraps=!1,this._addedFocusTrap=!1,this._onDispose=this._register(new k.Emitter),this._onRequestLayout=this._register(new k.Emitter),this._linkHandler=g.linkHandler||(K=>(0,s.openLinkFromMarkdown)(this._openerService,K,(0,i.isMarkdownString)(g.content)?g.content.isTrusted:void 0)),this._target="targetElements"in g.target?g.target:new l(g.target),this._hoverPointer=!((E=g.appearance)===null||E===void 0)&&E.showPointer?u("div.workbench-hover-pointer"):void 0,this._hover=this._register(new w.HoverWidget),this._hover.containerDomNode.classList.add("workbench-hover","fadeIn"),!((T=g.appearance)===null||T===void 0)&&T.compact&&this._hover.containerDomNode.classList.add("workbench-hover","compact"),!((N=g.appearance)===null||N===void 0)&&N.skipFadeInAnimation&&this._hover.containerDomNode.classList.add("skip-fade-in"),g.additionalClasses&&this._hover.containerDomNode.classList.add(...g.additionalClasses),!((A=g.position)===null||A===void 0)&&A.forcePosition&&(this._forcePosition=!0),g.trapFocus&&(this._enableFocusTraps=!0),this._hoverPosition=(M=(O=g.position)===null||O===void 0?void 0:O.hoverPosition)!==null&&M!==void 0?M:3,this.onmousedown(this._hover.containerDomNode,K=>K.stopPropagation()),this.onkeydown(this._hover.containerDomNode,K=>{K.equals(9)&&this.dispose()}),this._register(D.addDisposableListener(this._targetWindow,"blur",()=>this.dispose()));const R=u("div.hover-row.markdown-hover"),B=u("div.hover-contents");if(typeof g.content=="string")B.textContent=g.content,B.style.whiteSpace="pre-wrap";else if(g.content instanceof HTMLElement)B.appendChild(g.content),B.classList.add("html-hover-contents");else{const K=g.content,U=this._instantiationService.createInstance(s.MarkdownRenderer,{codeBlockFontFamily:this._configurationService.getValue("editor").fontFamily||p.EDITOR_FONT_DEFAULTS.fontFamily}),{element:$}=U.render(K,{actionHandler:{callback:se=>this._linkHandler(se),disposables:this._messageListeners},asyncRenderCallback:()=>{B.classList.add("code-hover-contents"),this.layout(),this._onRequestLayout.fire()}});B.appendChild($)}if(R.appendChild(B),this._hover.contentsDomNode.appendChild(R),g.actions&&g.actions.length>0){const K=u("div.hover-row.status-bar"),U=u("div.actions");g.actions.forEach($=>{const se=this._keybindingService.lookupKeybinding($.commandId),F=se?se.getLabel():null;w.HoverAction.render(U,{label:$.label,commandId:$.commandId,run:X=>{$.run(X),this.dispose()},iconClass:$.iconClass},F)}),K.appendChild(U),this._hover.containerDomNode.appendChild(K)}this._hoverContainer=u("div.workbench-hover-container"),this._hoverPointer&&this._hoverContainer.appendChild(this._hoverPointer),this._hoverContainer.appendChild(this._hover.containerDomNode);let H;if(g.actions&&g.actions.length>0?H=!1:((P=g.persistence)===null||P===void 0?void 0:P.hideOnHover)===void 0?H=typeof g.content=="string"||(0,i.isMarkdownString)(g.content)&&!g.content.value.includes("](")&&!g.content.value.includes("</a>"):H=g.persistence.hideOnHover,H&&(!((x=g.appearance)===null||x===void 0)&&x.showHoverHint)){const K=u("div.hover-row.status-bar"),U=u("div.info");U.textContent=(0,t.localize)(0,null,n.isMacintosh?"Option":"Alt"),K.appendChild(U),this._hover.containerDomNode.appendChild(K)}const V=[...this._target.targetElements];H||V.push(this._hoverContainer);const q=this._register(new r(V));if(this._register(q.onMouseOut(()=>{this._isLocked||this.dispose()})),H){const K=[...this._target.targetElements,this._hoverContainer];this._lockMouseTracker=this._register(new r(K)),this._register(this._lockMouseTracker.onMouseOut(()=>{this._isLocked||this.dispose()}))}else this._lockMouseTracker=q}addFocusTrap(){if(!this._enableFocusTraps||this._addedFocusTrap)return;this._addedFocusTrap=!0;const g=this._hover.containerDomNode,c=this.findLastFocusableChild(this._hover.containerDomNode);if(c){const f=D.prepend(this._hoverContainer,u("div")),_=D.append(this._hoverContainer,u("div"));f.tabIndex=0,_.tabIndex=0,this._register(D.addDisposableListener(_,"focus",S=>{g.focus(),S.preventDefault()})),this._register(D.addDisposableListener(f,"focus",S=>{c.focus(),S.preventDefault()}))}}findLastFocusableChild(g){if(g.hasChildNodes())for(let c=0;c<g.childNodes.length;c++){const f=g.childNodes.item(g.childNodes.length-c-1);if(f.nodeType===f.ELEMENT_NODE){const S=f;if(typeof S.tabIndex=="number"&&S.tabIndex>=0)return S}const _=this.findLastFocusableChild(f);if(_)return _}}render(g){var c;g.appendChild(this._hoverContainer);const _=this._hoverContainer.contains(this._hoverContainer.ownerDocument.activeElement)&&(0,w.getHoverAccessibleViewHint)(this._configurationService.getValue("accessibility.verbosity.hover")===!0&&this._accessibilityService.isScreenReaderOptimized(),(c=this._keybindingService.lookupKeybinding("editor.action.accessibleView"))===null||c===void 0?void 0:c.getAriaLabel());_&&(0,v.status)(_),this.layout(),this.addFocusTrap()}layout(){this._hover.containerDomNode.classList.remove("right-aligned"),this._hover.contentsDomNode.style.maxHeight="";const g=A=>{const O=D.getDomNodeZoomLevel(A),M=A.getBoundingClientRect();return{top:M.top*O,bottom:M.bottom*O,right:M.right*O,left:M.left*O}},c=this._target.targetElements.map(A=>g(A)),{top:f,right:_,bottom:S,left:I}=c[0],E=_-I,T=S-f,N={top:f,right:_,bottom:S,left:I,width:E,height:T,center:{x:I+E/2,y:f+T/2}};if(this.adjustHorizontalHoverPosition(N),this.adjustVerticalHoverPosition(N),this.adjustHoverMaxHeight(N),this._hoverContainer.style.padding="",this._hoverContainer.style.margin="",this._hoverPointer){switch(this._hoverPosition){case 1:N.left+=3,N.right+=3,this._hoverContainer.style.paddingLeft="3px",this._hoverContainer.style.marginLeft="-3px";break;case 0:N.left-=3,N.right-=3,this._hoverContainer.style.paddingRight="3px",this._hoverContainer.style.marginRight="-3px";break;case 2:N.top+=3,N.bottom+=3,this._hoverContainer.style.paddingTop="3px",this._hoverContainer.style.marginTop="-3px";break;case 3:N.top-=3,N.bottom-=3,this._hoverContainer.style.paddingBottom="3px",this._hoverContainer.style.marginBottom="-3px";break}N.center.x=N.left+E/2,N.center.y=N.top+T/2}this.computeXCordinate(N),this.computeYCordinate(N),this._hoverPointer&&(this._hoverPointer.classList.remove("top"),this._hoverPointer.classList.remove("left"),this._hoverPointer.classList.remove("right"),this._hoverPointer.classList.remove("bottom"),this.setHoverPointerPosition(N)),this._hover.onContentsChanged()}computeXCordinate(g){const c=this._hover.containerDomNode.clientWidth+2;this._target.x!==void 0?this._x=this._target.x:this._hoverPosition===1?this._x=g.right:this._hoverPosition===0?this._x=g.left-c:(this._hoverPointer?this._x=g.center.x-this._hover.containerDomNode.clientWidth/2:this._x=g.left,this._x+c>=this._targetDocumentElement.clientWidth&&(this._hover.containerDomNode.classList.add("right-aligned"),this._x=Math.max(this._targetDocumentElement.clientWidth-c-2,this._targetDocumentElement.clientLeft))),this._x<this._targetDocumentElement.clientLeft&&(this._x=g.left+2)}computeYCordinate(g){this._target.y!==void 0?this._y=this._target.y:this._hoverPosition===3?this._y=g.top:this._hoverPosition===2?this._y=g.bottom-2:this._hoverPointer?this._y=g.center.y+this._hover.containerDomNode.clientHeight/2:this._y=g.bottom,this._y>this._targetWindow.innerHeight&&(this._y=g.bottom)}adjustHorizontalHoverPosition(g){if(this._target.x!==void 0)return;const c=this._hoverPointer?3:0;if(this._forcePosition){const f=c+2;this._hoverPosition===1?this._hover.containerDomNode.style.maxWidth=`${this._targetDocumentElement.clientWidth-g.right-f}px`:this._hoverPosition===0&&(this._hover.containerDomNode.style.maxWidth=`${g.left-f}px`);return}this._hoverPosition===1?this._targetDocumentElement.clientWidth-g.right<this._hover.containerDomNode.clientWidth+c&&(g.left>=this._hover.containerDomNode.clientWidth+c?this._hoverPosition=0:this._hoverPosition=2):this._hoverPosition===0&&(g.left<this._hover.containerDomNode.clientWidth+c&&(this._targetDocumentElement.clientWidth-g.right>=this._hover.containerDomNode.clientWidth+c?this._hoverPosition=1:this._hoverPosition=2),g.left-this._hover.containerDomNode.clientWidth-c<=this._targetDocumentElement.clientLeft&&(this._hoverPosition=1))}adjustVerticalHoverPosition(g){if(this._target.y!==void 0||this._forcePosition)return;const c=this._hoverPointer?3:0;this._hoverPosition===3?g.top-this._hover.containerDomNode.clientHeight-c<0&&(this._hoverPosition=2):this._hoverPosition===2&&g.bottom+this._hover.containerDomNode.clientHeight+c>this._targetWindow.innerHeight&&(this._hoverPosition=3)}adjustHoverMaxHeight(g){let c=this._targetWindow.innerHeight/2;if(this._forcePosition){const f=(this._hoverPointer?3:0)+2;this._hoverPosition===3?c=Math.min(c,g.top-f):this._hoverPosition===2&&(c=Math.min(c,this._targetWindow.innerHeight-g.bottom-f))}if(this._hover.containerDomNode.style.maxHeight=`${c}px`,this._hover.contentsDomNode.clientHeight<this._hover.contentsDomNode.scrollHeight){const f=`${this._hover.scrollbar.options.verticalScrollbarSize}px`;this._hover.contentsDomNode.style.paddingRight!==f&&(this._hover.contentsDomNode.style.paddingRight=f)}}setHoverPointerPosition(g){if(this._hoverPointer)switch(this._hoverPosition){case 0:case 1:{this._hoverPointer.classList.add(this._hoverPosition===0?"right":"left");const c=this._hover.containerDomNode.clientHeight;c>g.height?this._hoverPointer.style.top=`${g.center.y-(this._y-c)-3}px`:this._hoverPointer.style.top=`${Math.round(c/2)-3}px`;break}case 3:case 2:{this._hoverPointer.classList.add(this._hoverPosition===3?"bottom":"top");const c=this._hover.containerDomNode.clientWidth;let f=Math.round(c/2)-3;const _=this._x+f;(_<g.left||_>g.right)&&(f=g.center.x-this._x-3),this._hoverPointer.style.left=`${f}px`;break}}}focus(){this._hover.containerDomNode.focus()}dispose(){this._isDisposed||(this._onDispose.fire(),this._hoverContainer.remove(),this._messageListeners.dispose(),this._target.dispose(),super.dispose()),this._isDisposed=!0}};e.HoverWidget=d,e.HoverWidget=d=Ie([he(1,L.IKeybindingService),he(2,y.IConfigurationService),he(3,b.IOpenerService),he(4,a.IInstantiationService),he(5,h.IAccessibilityService)],d);class r extends C.Widget{get onMouseOut(){return this._onMouseOut.event}get isMouseIn(){return this._isMouseIn}constructor(g){super(),this._elements=g,this._isMouseIn=!0,this._onMouseOut=this._register(new k.Emitter),this._elements.forEach(c=>this.onmouseover(c,()=>this._onTargetMouseOver(c))),this._elements.forEach(c=>this.onmouseleave(c,()=>this._onTargetMouseLeave(c)))}_onTargetMouseOver(g){this._isMouseIn=!0,this._clearEvaluateMouseStateTimeout(g)}_onTargetMouseLeave(g){this._isMouseIn=!1,this._evaluateMouseState(g)}_evaluateMouseState(g){this._clearEvaluateMouseStateTimeout(g),this._mouseTimeout=D.getWindow(g).setTimeout(()=>this._fireIfMouseOutside(),0)}_clearEvaluateMouseStateTimeout(g){this._mouseTimeout&&(D.getWindow(g).clearTimeout(this._mouseTimeout),this._mouseTimeout=void 0)}_fireIfMouseOutside(){this._isMouseIn||this._onMouseOut.fire()}}class l{constructor(g){this._element=g,this.targetElements=[this._element]}dispose(){}}}),define(te[33],ie([1,0,7,2,11,160,124,143,538,640,539,542,250,8,25,42,46,84,541]),function(J,e,m,k,D,L,y,p,w,C,b,a,s,i,t,n,h,v,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ResolvedLanguageConfiguration=e.LanguageConfigurationRegistry=e.LanguageConfigurationChangeEvent=e.LanguageConfigurationService=e.ILanguageConfigurationService=e.LanguageConfigurationServiceChangeEvent=void 0,e.getIndentationAtPosition=f,e.getScopedLineTokens=_;class d{constructor(M){this.languageId=M}affects(M){return this.languageId?this.languageId===M:!0}}e.LanguageConfigurationServiceChangeEvent=d,e.ILanguageConfigurationService=(0,i.createDecorator)("languageConfigurationService");let r=class extends k.Disposable{constructor(M,P){super(),this.configurationService=M,this.languageService=P,this._registry=this._register(new N),this.onDidChangeEmitter=this._register(new m.Emitter),this.onDidChange=this.onDidChangeEmitter.event,this.configurations=new Map;const x=new Set(Object.values(o));this._register(this.configurationService.onDidChangeConfiguration(R=>{const B=R.change.keys.some(V=>x.has(V)),H=R.change.overrides.filter(([V,q])=>q.some(K=>x.has(K))).map(([V])=>V);if(B)this.configurations.clear(),this.onDidChangeEmitter.fire(new d(void 0));else for(const V of H)this.languageService.isRegisteredLanguageId(V)&&(this.configurations.delete(V),this.onDidChangeEmitter.fire(new d(V)))})),this._register(this._registry.onDidChange(R=>{this.configurations.delete(R.languageId),this.onDidChangeEmitter.fire(new d(R.languageId))}))}register(M,P,x){return this._registry.register(M,P,x)}getLanguageConfiguration(M){let P=this.configurations.get(M);return P||(P=l(M,this._registry,this.configurationService,this.languageService),this.configurations.set(M,P)),P}};e.LanguageConfigurationService=r,e.LanguageConfigurationService=r=Ie([he(0,t.IConfigurationService),he(1,n.ILanguageService)],r);function l(O,M,P,x){let R=M.getLanguageConfiguration(O);if(!R){if(!x.isRegisteredLanguageId(O))return new A(O,{});R=new A(O,{})}const B=g(R.languageId,P),H=I([R.underlyingConfig,B]);return new A(R.languageId,H)}const o={brackets:"editor.language.brackets",colorizedBracketPairs:"editor.language.colorizedBracketPairs"};function g(O,M){const P=M.getValue(o.brackets,{overrideIdentifier:O}),x=M.getValue(o.colorizedBracketPairs,{overrideIdentifier:O});return{brackets:c(P),colorizedBracketPairs:c(x)}}function c(O){if(Array.isArray(O))return O.map(M=>{if(!(!Array.isArray(M)||M.length!==2))return[M[0],M[1]]}).filter(M=>!!M)}function f(O,M,P){const x=O.getLineContent(M);let R=D.getLeadingWhitespace(x);return R.length>P-1&&(R=R.substring(0,P-1)),R}function _(O,M,P){O.tokenization.forceTokenization(M);const x=O.tokenization.getLineTokens(M),R=typeof P>"u"?O.getLineMaxColumn(M)-1:P-1;return(0,p.createScopedLineTokens)(x,R)}class S{constructor(M){this.languageId=M,this._resolved=null,this._entries=[],this._order=0,this._resolved=null}register(M,P){const x=new E(M,P,++this._order);return this._entries.push(x),this._resolved=null,(0,k.toDisposable)(()=>{for(let R=0;R<this._entries.length;R++)if(this._entries[R]===x){this._entries.splice(R,1),this._resolved=null;break}})}getResolvedConfiguration(){if(!this._resolved){const M=this._resolve();M&&(this._resolved=new A(this.languageId,M))}return this._resolved}_resolve(){return this._entries.length===0?null:(this._entries.sort(E.cmp),I(this._entries.map(M=>M.configuration)))}}function I(O){let M={comments:void 0,brackets:void 0,wordPattern:void 0,indentationRules:void 0,onEnterRules:void 0,autoClosingPairs:void 0,surroundingPairs:void 0,autoCloseBefore:void 0,folding:void 0,colorizedBracketPairs:void 0,__electricCharacterSupport:void 0};for(const P of O)M={comments:P.comments||M.comments,brackets:P.brackets||M.brackets,wordPattern:P.wordPattern||M.wordPattern,indentationRules:P.indentationRules||M.indentationRules,onEnterRules:P.onEnterRules||M.onEnterRules,autoClosingPairs:P.autoClosingPairs||M.autoClosingPairs,surroundingPairs:P.surroundingPairs||M.surroundingPairs,autoCloseBefore:P.autoCloseBefore||M.autoCloseBefore,folding:P.folding||M.folding,colorizedBracketPairs:P.colorizedBracketPairs||M.colorizedBracketPairs,__electricCharacterSupport:P.__electricCharacterSupport||M.__electricCharacterSupport};return M}class E{constructor(M,P,x){this.configuration=M,this.priority=P,this.order=x}static cmp(M,P){return M.priority===P.priority?M.order-P.order:M.priority-P.priority}}class T{constructor(M){this.languageId=M}}e.LanguageConfigurationChangeEvent=T;class N extends k.Disposable{constructor(){super(),this._entries=new Map,this._onDidChange=this._register(new m.Emitter),this.onDidChange=this._onDidChange.event,this._register(this.register(v.PLAINTEXT_LANGUAGE_ID,{brackets:[["(",")"],["[","]"],["{","}"]],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:"<",close:">"},{open:'"',close:'"'},{open:"'",close:"'"},{open:"`",close:"`"}],colorizedBracketPairs:[],folding:{offSide:!0}},0))}register(M,P,x=0){let R=this._entries.get(M);R||(R=new S(M),this._entries.set(M,R));const B=R.register(P,x);return this._onDidChange.fire(new T(M)),(0,k.toDisposable)(()=>{B.dispose(),this._onDidChange.fire(new T(M))})}getLanguageConfiguration(M){const P=this._entries.get(M);return P?.getResolvedConfiguration()||null}}e.LanguageConfigurationRegistry=N;class A{constructor(M,P){this.languageId=M,this.underlyingConfig=P,this._brackets=null,this._electricCharacter=null,this._onEnterSupport=this.underlyingConfig.brackets||this.underlyingConfig.indentationRules||this.underlyingConfig.onEnterRules?new a.OnEnterSupport(this.underlyingConfig):null,this.comments=A._handleComments(this.underlyingConfig),this.characterPair=new w.CharacterPairSupport(this.underlyingConfig),this.wordDefinition=this.underlyingConfig.wordPattern||L.DEFAULT_WORD_REGEXP,this.indentationRules=this.underlyingConfig.indentationRules,this.underlyingConfig.indentationRules?this.indentRulesSupport=new b.IndentRulesSupport(this.underlyingConfig.indentationRules):this.indentRulesSupport=null,this.foldingRules=this.underlyingConfig.folding||{},this.bracketsNew=new u.LanguageBracketsConfiguration(M,this.underlyingConfig)}getWordDefinition(){return(0,L.ensureValidWordDefinition)(this.wordDefinition)}get brackets(){return!this._brackets&&this.underlyingConfig.brackets&&(this._brackets=new s.RichEditBrackets(this.languageId,this.underlyingConfig.brackets)),this._brackets}get electricCharacter(){return this._electricCharacter||(this._electricCharacter=new C.BracketElectricCharacterSupport(this.brackets)),this._electricCharacter}onEnter(M,P,x,R){return this._onEnterSupport?this._onEnterSupport.onEnter(M,P,x,R):null}getAutoClosingPairs(){return new y.AutoClosingPairs(this.characterPair.getAutoClosingPairs())}getAutoCloseBeforeSet(M){return this.characterPair.getAutoCloseBeforeSet(M)}getSurroundingPairs(){return this.characterPair.getSurroundingPairs()}static _handleComments(M){const P=M.comments;if(!P)return null;const x={};if(P.lineComment&&(x.lineCommentToken=P.lineComment),P.blockComment){const[R,B]=P.blockComment;x.blockCommentStartToken=R,x.blockCommentEndToken=B}return x}}e.ResolvedLanguageConfiguration=A,(0,h.registerSingleton)(e.ILanguageConfigurationService,r,1)}),define(te[261],ie([1,0,15,2,344,630,5,33,672,53,200,13,61,63,12,18,221,100,60,52,6]),function(J,e,m,k,D,L,y,p,w,C,b,a,s,i,t,n,h,v,u,d,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorWorkerClient=e.EditorWorkerHost=e.EditorWorkerService=void 0;const l=60*1e3,o=5*60*1e3;function g(N,A){const O=N.getModel(A);return!(!O||O.isTooLargeForSyncing())}let c=class extends k.Disposable{constructor(A,O,M,P,x){super(),this._modelService=A,this._workerManager=this._register(new _(this._modelService,P)),this._logService=M,this._register(x.linkProvider.register({language:"*",hasAccessToAllModels:!0},{provideLinks:(R,B)=>g(this._modelService,R.uri)?this._workerManager.withWorker().then(H=>H.computeLinks(R.uri)).then(H=>H&&{links:H}):Promise.resolve({links:[]})})),this._register(x.completionProvider.register("*",new f(this._workerManager,O,this._modelService,P)))}dispose(){super.dispose()}canComputeUnicodeHighlights(A){return g(this._modelService,A)}computedUnicodeHighlights(A,O,M){return this._workerManager.withWorker().then(P=>P.computedUnicodeHighlights(A,O,M))}async computeDiff(A,O,M,P){const x=await this._workerManager.withWorker().then(H=>H.computeDiff(A,O,M,P));if(!x)return null;return{identical:x.identical,quitEarly:x.quitEarly,changes:B(x.changes),moves:x.moves.map(H=>new h.MovedText(new v.LineRangeMapping(new u.LineRange(H[0],H[1]),new u.LineRange(H[2],H[3])),B(H[4])))};function B(H){return H.map(V=>{var q;return new v.DetailedLineRangeMapping(new u.LineRange(V[0],V[1]),new u.LineRange(V[2],V[3]),(q=V[4])===null||q===void 0?void 0:q.map(K=>new v.RangeMapping(new y.Range(K[0],K[1],K[2],K[3]),new y.Range(K[4],K[5],K[6],K[7]))))})}}computeMoreMinimalEdits(A,O,M=!1){if((0,a.isNonEmptyArray)(O)){if(!g(this._modelService,A))return Promise.resolve(O);const P=i.StopWatch.create(),x=this._workerManager.withWorker().then(R=>R.computeMoreMinimalEdits(A,O,M));return x.finally(()=>this._logService.trace("FORMAT#computeMoreMinimalEdits",A.toString(!0),P.elapsed())),Promise.race([x,(0,m.timeout)(1e3).then(()=>O)])}else return Promise.resolve(void 0)}canNavigateValueSet(A){return g(this._modelService,A)}navigateValueSet(A,O,M){return this._workerManager.withWorker().then(P=>P.navigateValueSet(A,O,M))}canComputeWordRanges(A){return g(this._modelService,A)}computeWordRanges(A,O){return this._workerManager.withWorker().then(M=>M.computeWordRanges(A,O))}findSectionHeaders(A,O){return this._workerManager.withWorker().then(M=>M.findSectionHeaders(A,O))}};e.EditorWorkerService=c,e.EditorWorkerService=c=Ie([he(0,C.IModelService),he(1,b.ITextResourceConfigurationService),he(2,s.ILogService),he(3,p.ILanguageConfigurationService),he(4,n.ILanguageFeaturesService)],c);class f{constructor(A,O,M,P){this.languageConfigurationService=P,this._debugDisplayName="wordbasedCompletions",this._workerManager=A,this._configurationService=O,this._modelService=M}async provideCompletionItems(A,O){const M=this._configurationService.getValue(A.uri,O,"editor");if(M.wordBasedSuggestions==="off")return;const P=[];if(M.wordBasedSuggestions==="currentDocument")g(this._modelService,A.uri)&&P.push(A.uri);else for(const K of this._modelService.getModels())g(this._modelService,K.uri)&&(K===A?P.unshift(K.uri):(M.wordBasedSuggestions==="allDocuments"||K.getLanguageId()===A.getLanguageId())&&P.push(K.uri));if(P.length===0)return;const x=this.languageConfigurationService.getLanguageConfiguration(A.getLanguageId()).getWordDefinition(),R=A.getWordAtPosition(O),B=R?new y.Range(O.lineNumber,R.startColumn,O.lineNumber,R.endColumn):y.Range.fromPositions(O),H=B.setEndPosition(O.lineNumber,O.column),q=await(await this._workerManager.withWorker()).textualSuggest(P,R?.word,x);if(q)return{duration:q.duration,suggestions:q.words.map(K=>({kind:18,label:K,insertText:K,range:{insert:H,replace:B}}))}}}class _ extends k.Disposable{constructor(A,O){super(),this.languageConfigurationService=O,this._modelService=A,this._editorWorkerClient=null,this._lastWorkerUsedTime=new Date().getTime(),this._register(new r.WindowIntervalTimer).cancelAndSet(()=>this._checkStopIdleWorker(),Math.round(o/2),d.mainWindow),this._register(this._modelService.onModelRemoved(P=>this._checkStopEmptyWorker()))}dispose(){this._editorWorkerClient&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null),super.dispose()}_checkStopEmptyWorker(){if(!this._editorWorkerClient)return;this._modelService.getModels().length===0&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}_checkStopIdleWorker(){if(!this._editorWorkerClient)return;new Date().getTime()-this._lastWorkerUsedTime>o&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}withWorker(){return this._lastWorkerUsedTime=new Date().getTime(),this._editorWorkerClient||(this._editorWorkerClient=new T(this._modelService,!1,"editorWorkerService",this.languageConfigurationService)),Promise.resolve(this._editorWorkerClient)}}class S extends k.Disposable{constructor(A,O,M){if(super(),this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),this._proxy=A,this._modelService=O,!M){const P=new m.IntervalTimer;P.cancelAndSet(()=>this._checkStopModelSync(),Math.round(l/2)),this._register(P)}}dispose(){for(const A in this._syncedModels)(0,k.dispose)(this._syncedModels[A]);this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),super.dispose()}ensureSyncedResources(A,O){for(const M of A){const P=M.toString();this._syncedModels[P]||this._beginModelSync(M,O),this._syncedModels[P]&&(this._syncedModelsLastUsedTime[P]=new Date().getTime())}}_checkStopModelSync(){const A=new Date().getTime(),O=[];for(const M in this._syncedModelsLastUsedTime)A-this._syncedModelsLastUsedTime[M]>l&&O.push(M);for(const M of O)this._stopModelSync(M)}_beginModelSync(A,O){const M=this._modelService.getModel(A);if(!M||!O&&M.isTooLargeForSyncing())return;const P=A.toString();this._proxy.acceptNewModel({url:M.uri.toString(),lines:M.getLinesContent(),EOL:M.getEOL(),versionId:M.getVersionId()});const x=new k.DisposableStore;x.add(M.onDidChangeContent(R=>{this._proxy.acceptModelChanged(P.toString(),R)})),x.add(M.onWillDispose(()=>{this._stopModelSync(P)})),x.add((0,k.toDisposable)(()=>{this._proxy.acceptRemovedModel(P)})),this._syncedModels[P]=x}_stopModelSync(A){const O=this._syncedModels[A];delete this._syncedModels[A],delete this._syncedModelsLastUsedTime[A],(0,k.dispose)(O)}}class I{constructor(A){this._instance=A,this._proxyObj=Promise.resolve(this._instance)}dispose(){this._instance.dispose()}getProxyObject(){return this._proxyObj}}class E{constructor(A){this._workerClient=A}fhr(A,O){return this._workerClient.fhr(A,O)}}e.EditorWorkerHost=E;class T extends k.Disposable{constructor(A,O,M,P){super(),this.languageConfigurationService=P,this._disposed=!1,this._modelService=A,this._keepIdleModels=O,this._workerFactory=new L.DefaultWorkerFactory(M),this._worker=null,this._modelManager=null}fhr(A,O){throw new Error("Not implemented!")}_getOrCreateWorker(){if(!this._worker)try{this._worker=this._register(new D.SimpleWorkerClient(this._workerFactory,"vs/editor/common/services/editorSimpleWorker",new E(this)))}catch(A){(0,D.logOnceWebWorkerWarning)(A),this._worker=new I(new w.EditorSimpleWorker(new E(this),null))}return this._worker}_getProxy(){return this._getOrCreateWorker().getProxyObject().then(void 0,A=>((0,D.logOnceWebWorkerWarning)(A),this._worker=new I(new w.EditorSimpleWorker(new E(this),null)),this._getOrCreateWorker().getProxyObject()))}_getOrCreateModelManager(A){return this._modelManager||(this._modelManager=this._register(new S(A,this._modelService,this._keepIdleModels))),this._modelManager}async _withSyncedResources(A,O=!1){return this._disposed?Promise.reject((0,t.canceled)()):this._getProxy().then(M=>(this._getOrCreateModelManager(M).ensureSyncedResources(A,O),M))}computedUnicodeHighlights(A,O,M){return this._withSyncedResources([A]).then(P=>P.computeUnicodeHighlights(A.toString(),O,M))}computeDiff(A,O,M,P){return this._withSyncedResources([A,O],!0).then(x=>x.computeDiff(A.toString(),O.toString(),M,P))}computeMoreMinimalEdits(A,O,M){return this._withSyncedResources([A]).then(P=>P.computeMoreMinimalEdits(A.toString(),O,M))}computeLinks(A){return this._withSyncedResources([A]).then(O=>O.computeLinks(A.toString()))}computeDefaultDocumentColors(A){return this._withSyncedResources([A]).then(O=>O.computeDefaultDocumentColors(A.toString()))}async textualSuggest(A,O,M){const P=await this._withSyncedResources(A),x=M.source,R=M.flags;return P.textualSuggest(A.map(B=>B.toString()),O,x,R)}computeWordRanges(A,O){return this._withSyncedResources([A]).then(M=>{const P=this._modelService.getModel(A);if(!P)return Promise.resolve(null);const x=this.languageConfigurationService.getLanguageConfiguration(P.getLanguageId()).getWordDefinition(),R=x.source,B=x.flags;return M.computeWordRanges(A.toString(),O,R,B)})}navigateValueSet(A,O,M){return this._withSyncedResources([A]).then(P=>{const x=this._modelService.getModel(A);if(!x)return null;const R=this.languageConfigurationService.getLanguageConfiguration(x.getLanguageId()).getWordDefinition(),B=R.source,H=R.flags;return P.navigateValueSet(A.toString(),O,M,B,H)})}findSectionHeaders(A,O){return this._withSyncedResources([A]).then(M=>M.findSectionHeaders(A.toString(),O))}dispose(){super.dispose(),this._disposed=!0}}e.EditorWorkerClient=T}),define(te[827],ie([1,0,55,261]),function(J,e,m,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createWebWorker=D;function D(y,p,w){return new L(y,p,w)}class L extends k.EditorWorkerClient{constructor(p,w,C){super(p,C.keepIdleModels||!1,C.label,w),this._foreignModuleId=C.moduleId,this._foreignModuleCreateData=C.createData||null,this._foreignModuleHost=C.host||null,this._foreignProxy=null}fhr(p,w){if(!this._foreignModuleHost||typeof this._foreignModuleHost[p]!="function")return Promise.reject(new Error("Missing method "+p+" or missing main thread foreign host."));try{return Promise.resolve(this._foreignModuleHost[p].apply(this._foreignModuleHost,w))}catch(C){return Promise.reject(C)}}_getForeignProxy(){return this._foreignProxy||(this._foreignProxy=this._getProxy().then(p=>{const w=this._foreignModuleHost?(0,m.getAllMethodNames)(this._foreignModuleHost):[];return p.loadForeignModule(this._foreignModuleId,this._foreignModuleCreateData,w).then(C=>{this._foreignModuleCreateData=null;const b=(i,t)=>p.fmr(i,t),a=(i,t)=>function(){const n=Array.prototype.slice.call(arguments,0);return t(i,n)},s={};for(const i of C)s[i]=a(i,b);return s})})),this._foreignProxy}getProxy(){return this._getForeignProxy()}withSyncedResources(p){return this._withSyncedResources(p).then(w=>this.getProxy())}}}),define(te[262],ie([1,0,11,124,143,33]),function(J,e,m,k,D,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getInheritIndentForLine=p,e.getGoodIndentForLine=w,e.getIndentForEnter=C,e.getIndentActionForType=b,e.getIndentMetadata=a;function y(s,i,t){const n=s.tokenization.getLanguageIdAtPosition(i,0);if(i>1){let h,v=-1;for(h=i-1;h>=1;h--){if(s.tokenization.getLanguageIdAtPosition(h,0)!==n)return v;const u=s.getLineContent(h);if(t.shouldIgnore(u)||/^\s+$/.test(u)||u===""){v=h;continue}return h}}return-1}function p(s,i,t,n=!0,h){if(s<4)return null;const v=h.getLanguageConfiguration(i.tokenization.getLanguageId()).indentRulesSupport;if(!v)return null;if(t<=1)return{indentation:"",action:null};for(let r=t-1;r>0&&i.getLineContent(r)==="";r--)if(r===1)return{indentation:"",action:null};const u=y(i,t,v);if(u<0)return null;if(u<1)return{indentation:"",action:null};const d=i.getLineContent(u);if(v.shouldIncrease(d)||v.shouldIndentNextLine(d))return{indentation:m.getLeadingWhitespace(d),action:k.IndentAction.Indent,line:u};if(v.shouldDecrease(d))return{indentation:m.getLeadingWhitespace(d),action:null,line:u};{if(u===1)return{indentation:m.getLeadingWhitespace(i.getLineContent(u)),action:null,line:u};const r=u-1,l=v.getIndentMetadata(i.getLineContent(r));if(!(l&3)&&l&4){let o=0;for(let g=r-1;g>0;g--)if(!v.shouldIndentNextLine(i.getLineContent(g))){o=g;break}return{indentation:m.getLeadingWhitespace(i.getLineContent(o+1)),action:null,line:o+1}}if(n)return{indentation:m.getLeadingWhitespace(i.getLineContent(u)),action:null,line:u};for(let o=u;o>0;o--){const g=i.getLineContent(o);if(v.shouldIncrease(g))return{indentation:m.getLeadingWhitespace(g),action:k.IndentAction.Indent,line:o};if(v.shouldIndentNextLine(g)){let c=0;for(let f=o-1;f>0;f--)if(!v.shouldIndentNextLine(i.getLineContent(o))){c=f;break}return{indentation:m.getLeadingWhitespace(i.getLineContent(c+1)),action:null,line:c+1}}else if(v.shouldDecrease(g))return{indentation:m.getLeadingWhitespace(g),action:null,line:o}}return{indentation:m.getLeadingWhitespace(i.getLineContent(1)),action:null,line:1}}}function w(s,i,t,n,h,v){if(s<4)return null;const u=v.getLanguageConfiguration(t);if(!u)return null;const d=v.getLanguageConfiguration(t).indentRulesSupport;if(!d)return null;const r=p(s,i,n,void 0,v),l=i.getLineContent(n);if(r){const o=r.line;if(o!==void 0){let g=!0;for(let c=o;c<n-1;c++)if(!/^\s*$/.test(i.getLineContent(c))){g=!1;break}if(g){const c=u.onEnter(s,"",i.getLineContent(o),"");if(c){let f=m.getLeadingWhitespace(i.getLineContent(o));return c.removeText&&(f=f.substring(0,f.length-c.removeText)),c.indentAction===k.IndentAction.Indent||c.indentAction===k.IndentAction.IndentOutdent?f=h.shiftIndent(f):c.indentAction===k.IndentAction.Outdent&&(f=h.unshiftIndent(f)),d.shouldDecrease(l)&&(f=h.unshiftIndent(f)),c.appendText&&(f+=c.appendText),m.getLeadingWhitespace(f)}}}return d.shouldDecrease(l)?r.action===k.IndentAction.Indent?r.indentation:h.unshiftIndent(r.indentation):r.action===k.IndentAction.Indent?h.shiftIndent(r.indentation):r.indentation}return null}function C(s,i,t,n,h){if(s<4)return null;i.tokenization.forceTokenization(t.startLineNumber);const v=i.tokenization.getLineTokens(t.startLineNumber),u=(0,D.createScopedLineTokens)(v,t.startColumn-1),d=u.getLineContent();let r=!1,l;u.firstCharOffset>0&&v.getLanguageId(0)!==u.languageId?(r=!0,l=d.substr(0,t.startColumn-1-u.firstCharOffset)):l=v.getLineContent().substring(0,t.startColumn-1);let o;t.isEmpty()?o=d.substr(t.startColumn-1-u.firstCharOffset):o=(0,L.getScopedLineTokens)(i,t.endLineNumber,t.endColumn).getLineContent().substr(t.endColumn-1-u.firstCharOffset);const g=h.getLanguageConfiguration(u.languageId).indentRulesSupport;if(!g)return null;const c=l,f=m.getLeadingWhitespace(l),_={tokenization:{getLineTokens:T=>i.tokenization.getLineTokens(T),getLanguageId:()=>i.getLanguageId(),getLanguageIdAtPosition:(T,N)=>i.getLanguageIdAtPosition(T,N)},getLineContent:T=>T===t.startLineNumber?c:i.getLineContent(T)},S=m.getLeadingWhitespace(v.getLineContent()),I=p(s,_,t.startLineNumber+1,void 0,h);if(!I){const T=r?S:f;return{beforeEnter:T,afterEnter:T}}let E=r?S:I.indentation;return I.action===k.IndentAction.Indent&&(E=n.shiftIndent(E)),g.shouldDecrease(o)&&(E=n.unshiftIndent(E)),{beforeEnter:r?S:f,afterEnter:E}}function b(s,i,t,n,h,v){if(s<4)return null;const u=(0,L.getScopedLineTokens)(i,t.startLineNumber,t.startColumn);if(u.firstCharOffset)return null;const d=v.getLanguageConfiguration(u.languageId).indentRulesSupport;if(!d)return null;const r=u.getLineContent(),l=r.substr(0,t.startColumn-1-u.firstCharOffset);let o;if(t.isEmpty()?o=r.substr(t.startColumn-1-u.firstCharOffset):o=(0,L.getScopedLineTokens)(i,t.endLineNumber,t.endColumn).getLineContent().substr(t.endColumn-1-u.firstCharOffset),!d.shouldDecrease(l+o)&&d.shouldDecrease(l+n+o)){const g=p(s,i,t.startLineNumber,!1,v);if(!g)return null;let c=g.indentation;return g.action!==k.IndentAction.Indent&&(c=h.unshiftIndent(c)),c}return null}function a(s,i,t){const n=t.getLanguageConfiguration(s.getLanguageId()).indentRulesSupport;return!n||i<1||i>s.getLineCount()?null:n.getIndentMetadata(s.getLineContent(i))}}),define(te[263],ie([1,0,124,33]),function(J,e,m,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getEnterAction=D;function D(L,y,p,w){const C=(0,k.getScopedLineTokens)(y,p.startLineNumber,p.startColumn),b=w.getLanguageConfiguration(C.languageId);if(!b)return null;const a=C.getLineContent(),s=a.substr(0,p.startColumn-1-C.firstCharOffset);let i;p.isEmpty()?i=a.substr(p.startColumn-1-C.firstCharOffset):i=(0,k.getScopedLineTokens)(y,p.endLineNumber,p.endColumn).getLineContent().substr(p.endColumn-1-C.firstCharOffset);let t="";if(p.startLineNumber>1&&C.firstCharOffset===0){const r=(0,k.getScopedLineTokens)(y,p.startLineNumber-1);r.languageId===C.languageId&&(t=r.getLineContent())}const n=b.onEnter(L,t,s,i);if(!n)return null;const h=n.indentAction;let v=n.appendText;const u=n.removeText||0;v?h===m.IndentAction.Indent&&(v="	"+v):h===m.IndentAction.Indent||h===m.IndentAction.IndentOutdent?v="	":v="";let d=(0,k.getIndentationAtPosition)(y,p.startLineNumber,p.startColumn);return u&&(d=d.substring(0,d.length-u)),{indentAction:h,appendText:v,removeText:u,indentation:d}}}),define(te[264],ie([1,0,11,89,5,24,263,33]),function(J,e,m,k,D,L,y,p){"use strict";var w;Object.defineProperty(e,"__esModule",{value:!0}),e.ShiftCommand=void 0;const C=Object.create(null);function b(s,i){if(i<=0)return"";C[s]||(C[s]=["",s]);const t=C[s];for(let n=t.length;n<=i;n++)t[n]=t[n-1]+s;return t[i]}let a=w=class{static unshiftIndent(i,t,n,h,v){const u=k.CursorColumns.visibleColumnFromColumn(i,t,n);if(v){const d=b(" ",h),l=k.CursorColumns.prevIndentTabStop(u,h)/h;return b(d,l)}else{const d="	",l=k.CursorColumns.prevRenderTabStop(u,n)/n;return b(d,l)}}static shiftIndent(i,t,n,h,v){const u=k.CursorColumns.visibleColumnFromColumn(i,t,n);if(v){const d=b(" ",h),l=k.CursorColumns.nextIndentTabStop(u,h)/h;return b(d,l)}else{const d="	",l=k.CursorColumns.nextRenderTabStop(u,n)/n;return b(d,l)}}constructor(i,t,n){this._languageConfigurationService=n,this._opts=t,this._selection=i,this._selectionId=null,this._useLastEditRangeForCursorEndPosition=!1,this._selectionStartColumnStaysPut=!1}_addEditOperation(i,t,n){this._useLastEditRangeForCursorEndPosition?i.addTrackedEditOperation(t,n):i.addEditOperation(t,n)}getEditOperations(i,t){const n=this._selection.startLineNumber;let h=this._selection.endLineNumber;this._selection.endColumn===1&&n!==h&&(h=h-1);const{tabSize:v,indentSize:u,insertSpaces:d}=this._opts,r=n===h;if(this._opts.useTabStops){this._selection.isEmpty()&&/^\s*$/.test(i.getLineContent(n))&&(this._useLastEditRangeForCursorEndPosition=!0);let l=0,o=0;for(let g=n;g<=h;g++,l=o){o=0;const c=i.getLineContent(g);let f=m.firstNonWhitespaceIndex(c);if(this._opts.isUnshift&&(c.length===0||f===0)||!r&&!this._opts.isUnshift&&c.length===0)continue;if(f===-1&&(f=c.length),g>1&&k.CursorColumns.visibleColumnFromColumn(c,f+1,v)%u!==0&&i.tokenization.isCheapToTokenize(g-1)){const I=(0,y.getEnterAction)(this._opts.autoIndent,i,new D.Range(g-1,i.getLineMaxColumn(g-1),g-1,i.getLineMaxColumn(g-1)),this._languageConfigurationService);if(I){if(o=l,I.appendText)for(let E=0,T=I.appendText.length;E<T&&o<u&&I.appendText.charCodeAt(E)===32;E++)o++;I.removeText&&(o=Math.max(0,o-I.removeText));for(let E=0;E<o&&!(f===0||c.charCodeAt(f-1)!==32);E++)f--}}if(this._opts.isUnshift&&f===0)continue;let _;this._opts.isUnshift?_=w.unshiftIndent(c,f+1,v,u,d):_=w.shiftIndent(c,f+1,v,u,d),this._addEditOperation(t,new D.Range(g,1,g,f+1),_),g===n&&!this._selection.isEmpty()&&(this._selectionStartColumnStaysPut=this._selection.startColumn<=f+1)}}else{!this._opts.isUnshift&&this._selection.isEmpty()&&i.getLineLength(n)===0&&(this._useLastEditRangeForCursorEndPosition=!0);const l=d?b(" ",u):"	";for(let o=n;o<=h;o++){const g=i.getLineContent(o);let c=m.firstNonWhitespaceIndex(g);if(!(this._opts.isUnshift&&(g.length===0||c===0))&&!(!r&&!this._opts.isUnshift&&g.length===0)&&(c===-1&&(c=g.length),!(this._opts.isUnshift&&c===0)))if(this._opts.isUnshift){c=Math.min(c,u);for(let f=0;f<c;f++)if(g.charCodeAt(f)===9){c=f+1;break}this._addEditOperation(t,new D.Range(o,1,o,c+1),"")}else this._addEditOperation(t,new D.Range(o,1,o,1),l),o===n&&!this._selection.isEmpty()&&(this._selectionStartColumnStaysPut=this._selection.startColumn===1)}}this._selectionId=t.trackSelection(this._selection)}computeCursorState(i,t){if(this._useLastEditRangeForCursorEndPosition){const h=t.getInverseEditOperations()[0];return new L.Selection(h.range.endLineNumber,h.range.endColumn,h.range.endLineNumber,h.range.endColumn)}const n=t.getTrackedSelection(this._selectionId);if(this._selectionStartColumnStaysPut){const h=this._selection.startColumn;return n.startColumn<=h?n:n.getDirection()===0?new L.Selection(n.startLineNumber,h,n.endLineNumber,n.endColumn):new L.Selection(n.endLineNumber,n.endColumn,n.startLineNumber,h)}return n}};e.ShiftCommand=a,e.ShiftCommand=a=w=Ie([he(2,p.ILanguageConfigurationService)],a)}),define(te[265],ie([1,0,12,11,140,264,524,77,159,5,9,124,33,143,262,263]),function(J,e,m,k,D,L,y,p,w,C,b,a,s,i,t,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompositionOutcome=e.TypeWithAutoClosingCommand=e.TypeOperations=void 0;class h{static indent(c,f,_){if(f===null||_===null)return[];const S=[];for(let I=0,E=_.length;I<E;I++)S[I]=new L.ShiftCommand(_[I],{isUnshift:!1,tabSize:c.tabSize,indentSize:c.indentSize,insertSpaces:c.insertSpaces,useTabStops:c.useTabStops,autoIndent:c.autoIndent},c.languageConfigurationService);return S}static outdent(c,f,_){const S=[];for(let I=0,E=_.length;I<E;I++)S[I]=new L.ShiftCommand(_[I],{isUnshift:!0,tabSize:c.tabSize,indentSize:c.indentSize,insertSpaces:c.insertSpaces,useTabStops:c.useTabStops,autoIndent:c.autoIndent},c.languageConfigurationService);return S}static shiftIndent(c,f,_){return _=_||1,L.ShiftCommand.shiftIndent(f,f.length+_,c.tabSize,c.indentSize,c.insertSpaces)}static unshiftIndent(c,f,_){return _=_||1,L.ShiftCommand.unshiftIndent(f,f.length+_,c.tabSize,c.indentSize,c.insertSpaces)}static _distributedPaste(c,f,_,S){const I=[];for(let E=0,T=_.length;E<T;E++)I[E]=new D.ReplaceCommand(_[E],S[E]);return new p.EditOperationResult(0,I,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _simplePaste(c,f,_,S,I){const E=[];for(let T=0,N=_.length;T<N;T++){const A=_[T],O=A.getPosition();if(I&&!A.isEmpty()&&(I=!1),I&&S.indexOf(`
`)!==S.length-1&&(I=!1),I){const M=new C.Range(O.lineNumber,1,O.lineNumber,1);E[T]=new D.ReplaceCommandThatPreservesSelection(M,S,A,!0)}else E[T]=new D.ReplaceCommand(A,S)}return new p.EditOperationResult(0,E,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _distributePasteToCursors(c,f,_,S,I){if(S||f.length===1)return null;if(I&&I.length===f.length)return I;if(c.multiCursorPaste==="spread"){_.charCodeAt(_.length-1)===10&&(_=_.substr(0,_.length-1)),_.charCodeAt(_.length-1)===13&&(_=_.substr(0,_.length-1));const E=k.splitLines(_);if(E.length===f.length)return E}return null}static paste(c,f,_,S,I,E){const T=this._distributePasteToCursors(c,_,S,I,E);return T?(_=_.sort(C.Range.compareRangesUsingStarts),this._distributedPaste(c,f,_,T)):this._simplePaste(c,f,_,S,I)}static _goodIndentForLine(c,f,_){let S=null,I="";const E=(0,t.getInheritIndentForLine)(c.autoIndent,f,_,!1,c.languageConfigurationService);if(E)S=E.action,I=E.indentation;else if(_>1){let T;for(T=_-1;T>=1;T--){const O=f.getLineContent(T);if(k.lastNonWhitespaceIndex(O)>=0)break}if(T<1)return null;const N=f.getLineMaxColumn(T),A=(0,n.getEnterAction)(c.autoIndent,f,new C.Range(T,N,T,N),c.languageConfigurationService);A&&(I=A.indentation+A.appendText)}return S&&(S===a.IndentAction.Indent&&(I=h.shiftIndent(c,I)),S===a.IndentAction.Outdent&&(I=h.unshiftIndent(c,I)),I=c.normalizeIndentation(I)),I||null}static _replaceJumpToNextIndent(c,f,_,S){let I="";const E=_.getStartPosition();if(c.insertSpaces){const T=c.visibleColumnFromColumn(f,E),N=c.indentSize,A=N-T%N;for(let O=0;O<A;O++)I+=" "}else I="	";return new D.ReplaceCommand(_,I,S)}static tab(c,f,_){const S=[];for(let I=0,E=_.length;I<E;I++){const T=_[I];if(T.isEmpty()){const N=f.getLineContent(T.startLineNumber);if(/^\s*$/.test(N)&&f.tokenization.isCheapToTokenize(T.startLineNumber)){let A=this._goodIndentForLine(c,f,T.startLineNumber);A=A||"	";const O=c.normalizeIndentation(A);if(!N.startsWith(O)){S[I]=new D.ReplaceCommand(new C.Range(T.startLineNumber,1,T.startLineNumber,N.length+1),O,!0);continue}}S[I]=this._replaceJumpToNextIndent(c,f,T,!0)}else{if(T.startLineNumber===T.endLineNumber){const N=f.getLineMaxColumn(T.startLineNumber);if(T.startColumn!==1||T.endColumn!==N){S[I]=this._replaceJumpToNextIndent(c,f,T,!1);continue}}S[I]=new L.ShiftCommand(T,{isUnshift:!1,tabSize:c.tabSize,indentSize:c.indentSize,insertSpaces:c.insertSpaces,useTabStops:c.useTabStops,autoIndent:c.autoIndent},c.languageConfigurationService)}}return S}static compositionType(c,f,_,S,I,E,T,N){const A=S.map(O=>this._compositionType(_,O,I,E,T,N));return new p.EditOperationResult(4,A,{shouldPushStackElementBefore:r(c,4),shouldPushStackElementAfter:!1})}static _compositionType(c,f,_,S,I,E){if(!f.isEmpty())return null;const T=f.getPosition(),N=Math.max(1,T.column-S),A=Math.min(c.getLineMaxColumn(T.lineNumber),T.column+I),O=new C.Range(T.lineNumber,N,T.lineNumber,A);return c.getValueInRange(O)===_&&E===0?null:new D.ReplaceCommandWithOffsetCursorState(O,_,0,E)}static _typeCommand(c,f,_){return _?new D.ReplaceCommandWithoutChangingPosition(c,f,!0):new D.ReplaceCommand(c,f,!0)}static _enter(c,f,_,S){if(c.autoIndent===0)return h._typeCommand(S,`
`,_);if(!f.tokenization.isCheapToTokenize(S.getStartPosition().lineNumber)||c.autoIndent===1){const N=f.getLineContent(S.startLineNumber),A=k.getLeadingWhitespace(N).substring(0,S.startColumn-1);return h._typeCommand(S,`
`+c.normalizeIndentation(A),_)}const I=(0,n.getEnterAction)(c.autoIndent,f,S,c.languageConfigurationService);if(I){if(I.indentAction===a.IndentAction.None)return h._typeCommand(S,`
`+c.normalizeIndentation(I.indentation+I.appendText),_);if(I.indentAction===a.IndentAction.Indent)return h._typeCommand(S,`
`+c.normalizeIndentation(I.indentation+I.appendText),_);if(I.indentAction===a.IndentAction.IndentOutdent){const N=c.normalizeIndentation(I.indentation),A=c.normalizeIndentation(I.indentation+I.appendText),O=`
`+A+`
`+N;return _?new D.ReplaceCommandWithoutChangingPosition(S,O,!0):new D.ReplaceCommandWithOffsetCursorState(S,O,-1,A.length-N.length,!0)}else if(I.indentAction===a.IndentAction.Outdent){const N=h.unshiftIndent(c,I.indentation);return h._typeCommand(S,`
`+c.normalizeIndentation(N+I.appendText),_)}}const E=f.getLineContent(S.startLineNumber),T=k.getLeadingWhitespace(E).substring(0,S.startColumn-1);if(c.autoIndent>=4){const N=(0,t.getIndentForEnter)(c.autoIndent,f,S,{unshiftIndent:A=>h.unshiftIndent(c,A),shiftIndent:A=>h.shiftIndent(c,A),normalizeIndentation:A=>c.normalizeIndentation(A)},c.languageConfigurationService);if(N){let A=c.visibleColumnFromColumn(f,S.getEndPosition());const O=S.endColumn,M=f.getLineContent(S.endLineNumber),P=k.firstNonWhitespaceIndex(M);if(P>=0?S=S.setEndPosition(S.endLineNumber,Math.max(S.endColumn,P+1)):S=S.setEndPosition(S.endLineNumber,f.getLineMaxColumn(S.endLineNumber)),_)return new D.ReplaceCommandWithoutChangingPosition(S,`
`+c.normalizeIndentation(N.afterEnter),!0);{let x=0;return O<=P+1&&(c.insertSpaces||(A=Math.ceil(A/c.indentSize)),x=Math.min(A+1-c.normalizeIndentation(N.afterEnter).length-1,0)),new D.ReplaceCommandWithOffsetCursorState(S,`
`+c.normalizeIndentation(N.afterEnter),0,x,!0)}}}return h._typeCommand(S,`
`+c.normalizeIndentation(T),_)}static _isAutoIndentType(c,f,_){if(c.autoIndent<4)return!1;for(let S=0,I=_.length;S<I;S++)if(!f.tokenization.isCheapToTokenize(_[S].getEndPosition().lineNumber))return!1;return!0}static _runAutoIndentType(c,f,_,S){const I=(0,s.getIndentationAtPosition)(f,_.startLineNumber,_.startColumn),E=(0,t.getIndentActionForType)(c.autoIndent,f,_,S,{shiftIndent:T=>h.shiftIndent(c,T),unshiftIndent:T=>h.unshiftIndent(c,T)},c.languageConfigurationService);if(E===null)return null;if(E!==c.normalizeIndentation(I)){const T=f.getLineFirstNonWhitespaceColumn(_.startLineNumber);return T===0?h._typeCommand(new C.Range(_.startLineNumber,1,_.endLineNumber,_.endColumn),c.normalizeIndentation(E)+S,!1):h._typeCommand(new C.Range(_.startLineNumber,1,_.endLineNumber,_.endColumn),c.normalizeIndentation(E)+f.getLineContent(_.startLineNumber).substring(T-1,_.startColumn-1)+S,!1)}return null}static _isAutoClosingOvertype(c,f,_,S,I){if(c.autoClosingOvertype==="never"||!c.autoClosingPairs.autoClosingPairsCloseSingleChar.has(I))return!1;for(let E=0,T=_.length;E<T;E++){const N=_[E];if(!N.isEmpty())return!1;const A=N.getPosition(),O=f.getLineContent(A.lineNumber);if(O.charAt(A.column-1)!==I)return!1;const P=(0,p.isQuote)(I);if((A.column>2?O.charCodeAt(A.column-2):0)===92&&P)return!1;if(c.autoClosingOvertype==="auto"){let R=!1;for(let B=0,H=S.length;B<H;B++){const V=S[B];if(A.lineNumber===V.startLineNumber&&A.column===V.startColumn){R=!0;break}}if(!R)return!1}}return!0}static _runAutoClosingOvertype(c,f,_,S,I){const E=[];for(let T=0,N=S.length;T<N;T++){const O=S[T].getPosition(),M=new C.Range(O.lineNumber,O.column,O.lineNumber,O.column+1);E[T]=new D.ReplaceCommand(M,I)}return new p.EditOperationResult(4,E,{shouldPushStackElementBefore:r(c,4),shouldPushStackElementAfter:!1})}static _isBeforeClosingBrace(c,f){const _=f.charAt(0),S=c.autoClosingPairs.autoClosingPairsOpenByStart.get(_)||[],I=c.autoClosingPairs.autoClosingPairsCloseByStart.get(_)||[],E=S.some(N=>f.startsWith(N.open)),T=I.some(N=>f.startsWith(N.close));return!E&&T}static _findAutoClosingPairOpen(c,f,_,S){const I=c.autoClosingPairs.autoClosingPairsOpenByEnd.get(S);if(!I)return null;let E=null;for(const T of I)if(E===null||T.open.length>E.open.length){let N=!0;for(const A of _)if(f.getValueInRange(new C.Range(A.lineNumber,A.column-T.open.length+1,A.lineNumber,A.column))+S!==T.open){N=!1;break}N&&(E=T)}return E}static _findContainedAutoClosingPair(c,f){if(f.open.length<=1)return null;const _=f.close.charAt(f.close.length-1),S=c.autoClosingPairs.autoClosingPairsCloseByEnd.get(_)||[];let I=null;for(const E of S)E.open!==f.open&&f.open.includes(E.open)&&f.close.endsWith(E.close)&&(!I||E.open.length>I.open.length)&&(I=E);return I}static _getAutoClosingPairClose(c,f,_,S,I){for(const R of _)if(!R.isEmpty())return null;const E=_.map(R=>{const B=R.getPosition();return I?{lineNumber:B.lineNumber,beforeColumn:B.column-S.length,afterColumn:B.column}:{lineNumber:B.lineNumber,beforeColumn:B.column,afterColumn:B.column}}),T=this._findAutoClosingPairOpen(c,f,E.map(R=>new b.Position(R.lineNumber,R.beforeColumn)),S);if(!T)return null;let N,A;if((0,p.isQuote)(S)?(N=c.autoClosingQuotes,A=c.shouldAutoCloseBefore.quote):(c.blockCommentStartToken?T.open.includes(c.blockCommentStartToken):!1)?(N=c.autoClosingComments,A=c.shouldAutoCloseBefore.comment):(N=c.autoClosingBrackets,A=c.shouldAutoCloseBefore.bracket),N==="never")return null;const M=this._findContainedAutoClosingPair(c,T),P=M?M.close:"";let x=!0;for(const R of E){const{lineNumber:B,beforeColumn:H,afterColumn:V}=R,q=f.getLineContent(B),K=q.substring(0,H-1),U=q.substring(V-1);if(U.startsWith(P)||(x=!1),U.length>0){const X=U.charAt(0);if(!h._isBeforeClosingBrace(c,U)&&!A(X))return null}if(T.open.length===1&&(S==="'"||S==='"')&&N!=="always"){const X=(0,w.getMapForWordSeparators)(c.wordSeparators,[]);if(K.length>0){const Q=K.charCodeAt(K.length-1);if(X.get(Q)===0)return null}}if(!f.tokenization.isCheapToTokenize(B))return null;f.tokenization.forceTokenization(B);const $=f.tokenization.getLineTokens(B),se=(0,i.createScopedLineTokens)($,H-1);if(!T.shouldAutoClose(se,H-se.firstCharOffset))return null;const F=T.findNeutralCharacter();if(F){const X=f.tokenization.getTokenTypeIfInsertingCharacter(B,H,F);if(!T.isOK(X))return null}}return x?T.close.substring(0,T.close.length-P.length):T.close}static _runAutoClosingOpenCharType(c,f,_,S,I,E,T){const N=[];for(let A=0,O=S.length;A<O;A++){const M=S[A];N[A]=new v(M,I,!E,T)}return new p.EditOperationResult(4,N,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}static _shouldSurroundChar(c,f){return(0,p.isQuote)(f)?c.autoSurround==="quotes"||c.autoSurround==="languageDefined":c.autoSurround==="brackets"||c.autoSurround==="languageDefined"}static _isSurroundSelectionType(c,f,_,S){if(!h._shouldSurroundChar(c,S)||!c.surroundingPairs.hasOwnProperty(S))return!1;const I=(0,p.isQuote)(S);for(const E of _){if(E.isEmpty())return!1;let T=!0;for(let N=E.startLineNumber;N<=E.endLineNumber;N++){const A=f.getLineContent(N),O=N===E.startLineNumber?E.startColumn-1:0,M=N===E.endLineNumber?E.endColumn-1:A.length,P=A.substring(O,M);if(/[^ \t]/.test(P)){T=!1;break}}if(T)return!1;if(I&&E.startLineNumber===E.endLineNumber&&E.startColumn+1===E.endColumn){const N=f.getValueInRange(E);if((0,p.isQuote)(N))return!1}}return!0}static _runSurroundSelectionType(c,f,_,S,I){const E=[];for(let T=0,N=S.length;T<N;T++){const A=S[T],O=f.surroundingPairs[I];E[T]=new y.SurroundSelectionCommand(A,I,O)}return new p.EditOperationResult(0,E,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _isTypeInterceptorElectricChar(c,f,_){return!!(_.length===1&&f.tokenization.isCheapToTokenize(_[0].getEndPosition().lineNumber))}static _typeInterceptorElectricChar(c,f,_,S,I){if(!f.electricChars.hasOwnProperty(I)||!S.isEmpty())return null;const E=S.getPosition();_.tokenization.forceTokenization(E.lineNumber);const T=_.tokenization.getLineTokens(E.lineNumber);let N;try{N=f.onElectricCharacter(I,T,E.column)}catch(A){return(0,m.onUnexpectedError)(A),null}if(!N)return null;if(N.matchOpenBracket){const A=(T.getLineContent()+I).lastIndexOf(N.matchOpenBracket)+1,O=_.bracketPairs.findMatchingBracketUp(N.matchOpenBracket,{lineNumber:E.lineNumber,column:A},500);if(O){if(O.startLineNumber===E.lineNumber)return null;const M=_.getLineContent(O.startLineNumber),P=k.getLeadingWhitespace(M),x=f.normalizeIndentation(P),R=_.getLineContent(E.lineNumber),B=_.getLineFirstNonWhitespaceColumn(E.lineNumber)||E.column,H=R.substring(B-1,E.column-1),V=x+H+I,q=new C.Range(E.lineNumber,1,E.lineNumber,E.column),K=new D.ReplaceCommand(q,V);return new p.EditOperationResult(d(V,c),[K],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!0})}}return null}static compositionEndWithInterceptors(c,f,_,S,I,E){if(!S)return null;let T=null;for(const M of S)if(T===null)T=M.insertedText;else if(T!==M.insertedText)return null;if(!T||T.length!==1)return null;const N=T;let A=!1;for(const M of S)if(M.deletedText.length!==0){A=!0;break}if(A){if(!h._shouldSurroundChar(f,N)||!f.surroundingPairs.hasOwnProperty(N))return null;const M=(0,p.isQuote)(N);for(const R of S)if(R.deletedSelectionStart!==0||R.deletedSelectionEnd!==R.deletedText.length||/^[ \t]+$/.test(R.deletedText)||M&&(0,p.isQuote)(R.deletedText))return null;const P=[];for(const R of I){if(!R.isEmpty())return null;P.push(R.getPosition())}if(P.length!==S.length)return null;const x=[];for(let R=0,B=P.length;R<B;R++)x.push(new y.CompositionSurroundSelectionCommand(P[R],S[R].deletedText,f.surroundingPairs[N]));return new p.EditOperationResult(4,x,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(this._isAutoClosingOvertype(f,_,I,E,N)){const M=I.map(P=>new D.ReplaceCommand(new C.Range(P.positionLineNumber,P.positionColumn,P.positionLineNumber,P.positionColumn+1),"",!1));return new p.EditOperationResult(4,M,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}const O=this._getAutoClosingPairClose(f,_,I,N,!0);return O!==null?this._runAutoClosingOpenCharType(c,f,_,I,N,!0,O):null}static typeWithInterceptors(c,f,_,S,I,E,T){if(!c&&T===`
`){const O=[];for(let M=0,P=I.length;M<P;M++)O[M]=h._enter(_,S,!1,I[M]);return new p.EditOperationResult(4,O,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(!c&&this._isAutoIndentType(_,S,I)){const O=[];let M=!1;for(let P=0,x=I.length;P<x;P++)if(O[P]=this._runAutoIndentType(_,S,I[P],T),!O[P]){M=!0;break}if(!M)return new p.EditOperationResult(4,O,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(this._isAutoClosingOvertype(_,S,I,E,T))return this._runAutoClosingOvertype(f,_,S,I,T);if(!c){const O=this._getAutoClosingPairClose(_,S,I,T,!1);if(O)return this._runAutoClosingOpenCharType(f,_,S,I,T,!1,O)}if(!c&&this._isSurroundSelectionType(_,S,I,T))return this._runSurroundSelectionType(f,_,S,I,T);if(!c&&this._isTypeInterceptorElectricChar(_,S,I)){const O=this._typeInterceptorElectricChar(f,_,S,I[0],T);if(O)return O}const N=[];for(let O=0,M=I.length;O<M;O++)N[O]=new D.ReplaceCommand(I[O],T);const A=d(T,f);return new p.EditOperationResult(A,N,{shouldPushStackElementBefore:r(f,A),shouldPushStackElementAfter:!1})}static typeWithoutInterceptors(c,f,_,S,I){const E=[];for(let N=0,A=S.length;N<A;N++)E[N]=new D.ReplaceCommand(S[N],I);const T=d(I,c);return new p.EditOperationResult(T,E,{shouldPushStackElementBefore:r(c,T),shouldPushStackElementAfter:!1})}static lineInsertBefore(c,f,_){if(f===null||_===null)return[];const S=[];for(let I=0,E=_.length;I<E;I++){let T=_[I].positionLineNumber;if(T===1)S[I]=new D.ReplaceCommandWithoutChangingPosition(new C.Range(1,1,1,1),`
`);else{T--;const N=f.getLineMaxColumn(T);S[I]=this._enter(c,f,!1,new C.Range(T,N,T,N))}}return S}static lineInsertAfter(c,f,_){if(f===null||_===null)return[];const S=[];for(let I=0,E=_.length;I<E;I++){const T=_[I].positionLineNumber,N=f.getLineMaxColumn(T);S[I]=this._enter(c,f,!1,new C.Range(T,N,T,N))}return S}static lineBreakInsert(c,f,_){const S=[];for(let I=0,E=_.length;I<E;I++)S[I]=this._enter(c,f,!0,_[I]);return S}}e.TypeOperations=h;class v extends D.ReplaceCommandWithOffsetCursorState{constructor(c,f,_,S){super(c,(_?f:"")+S,0,-S.length),this._openCharacter=f,this._closeCharacter=S,this.closeCharacterRange=null,this.enclosingRange=null}computeCursorState(c,f){const S=f.getInverseEditOperations()[0].range;return this.closeCharacterRange=new C.Range(S.startLineNumber,S.endColumn-this._closeCharacter.length,S.endLineNumber,S.endColumn),this.enclosingRange=new C.Range(S.startLineNumber,S.endColumn-this._openCharacter.length-this._closeCharacter.length,S.endLineNumber,S.endColumn),super.computeCursorState(c,f)}}e.TypeWithAutoClosingCommand=v;class u{constructor(c,f,_,S,I,E){this.deletedText=c,this.deletedSelectionStart=f,this.deletedSelectionEnd=_,this.insertedText=S,this.insertedSelectionStart=I,this.insertedSelectionEnd=E}}e.CompositionOutcome=u;function d(g,c){return g===" "?c===5||c===6?6:5:4}function r(g,c){return o(g)&&!o(c)?!0:g===5?!1:l(g)!==l(c)}function l(g){return g===6||g===5?"space":g}function o(g){return g===4||g===5||g===6}}),define(te[828],ie([1,0,12,11,537,77,526,223,265,5,24,125,230,2,231]),function(J,e,m,k,D,L,y,p,w,C,b,a,s,i,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorsController=void 0;class n extends i.Disposable{constructor(o,g,c,f){super(),this._model=o,this._knownModelVersionId=this._model.getVersionId(),this._viewModel=g,this._coordinatesConverter=c,this.context=new y.CursorContext(this._model,this._viewModel,this._coordinatesConverter,f),this._cursors=new D.CursorCollection(this.context),this._hasFocus=!1,this._isHandling=!1,this._compositionState=null,this._columnSelectData=null,this._autoClosedActions=[],this._prevEditOperationType=0}dispose(){this._cursors.dispose(),this._autoClosedActions=(0,i.dispose)(this._autoClosedActions),super.dispose()}updateConfiguration(o){this.context=new y.CursorContext(this._model,this._viewModel,this._coordinatesConverter,o),this._cursors.updateContext(this.context)}onLineMappingChanged(o){this._knownModelVersionId===this._model.getVersionId()&&this.setStates(o,"viewModel",0,this.getCursorStates())}setHasFocus(o){this._hasFocus=o}_validateAutoClosedActions(){if(this._autoClosedActions.length>0){const o=this._cursors.getSelections();for(let g=0;g<this._autoClosedActions.length;g++){const c=this._autoClosedActions[g];c.isValid(o)||(c.dispose(),this._autoClosedActions.splice(g,1),g--)}}}getPrimaryCursorState(){return this._cursors.getPrimaryCursor()}getLastAddedCursorIndex(){return this._cursors.getLastAddedCursorIndex()}getCursorStates(){return this._cursors.getAll()}setStates(o,g,c,f){let _=!1;const S=this.context.cursorConfig.multiCursorLimit;f!==null&&f.length>S&&(f=f.slice(0,S),_=!0);const I=h.from(this._model,this);return this._cursors.setStates(f),this._cursors.normalize(),this._columnSelectData=null,this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(o,g,c,I,_)}setCursorColumnSelectData(o){this._columnSelectData=o}revealPrimary(o,g,c,f,_,S){const I=this._cursors.getViewPositions();let E=null,T=null;I.length>1?T=this._cursors.getViewSelections():E=C.Range.fromPositions(I[0],I[0]),o.emitViewEvent(new s.ViewRevealRangeRequestEvent(g,c,E,T,f,_,S))}saveState(){const o=[],g=this._cursors.getSelections();for(let c=0,f=g.length;c<f;c++){const _=g[c];o.push({inSelectionMode:!_.isEmpty(),selectionStart:{lineNumber:_.selectionStartLineNumber,column:_.selectionStartColumn},position:{lineNumber:_.positionLineNumber,column:_.positionColumn}})}return o}restoreState(o,g){const c=[];for(let f=0,_=g.length;f<_;f++){const S=g[f];let I=1,E=1;S.position&&S.position.lineNumber&&(I=S.position.lineNumber),S.position&&S.position.column&&(E=S.position.column);let T=I,N=E;S.selectionStart&&S.selectionStart.lineNumber&&(T=S.selectionStart.lineNumber),S.selectionStart&&S.selectionStart.column&&(N=S.selectionStart.column),c.push({selectionStartLineNumber:T,selectionStartColumn:N,positionLineNumber:I,positionColumn:E})}this.setStates(o,"restoreState",0,L.CursorState.fromModelSelections(c)),this.revealPrimary(o,"restoreState",!1,0,!0,1)}onModelContentChanged(o,g){if(g instanceof a.ModelInjectedTextChangedEvent){if(this._isHandling)return;this._isHandling=!0;try{this.setStates(o,"modelChange",0,this.getCursorStates())}finally{this._isHandling=!1}}else{const c=g.rawContentChangedEvent;if(this._knownModelVersionId=c.versionId,this._isHandling)return;const f=c.containsEvent(1);if(this._prevEditOperationType=0,f)this._cursors.dispose(),this._cursors=new D.CursorCollection(this.context),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(o,"model",1,null,!1);else if(this._hasFocus&&c.resultingSelection&&c.resultingSelection.length>0){const _=L.CursorState.fromModelSelections(c.resultingSelection);this.setStates(o,"modelChange",c.isUndoing?5:c.isRedoing?6:2,_)&&this.revealPrimary(o,"modelChange",!1,0,!0,0)}else{const _=this._cursors.readSelectionFromMarkers();this.setStates(o,"modelChange",2,L.CursorState.fromModelSelections(_))}}}getSelection(){return this._cursors.getPrimaryCursor().modelState.selection}getTopMostViewPosition(){return this._cursors.getTopMostViewPosition()}getBottomMostViewPosition(){return this._cursors.getBottomMostViewPosition()}getCursorColumnSelectData(){if(this._columnSelectData)return this._columnSelectData;const o=this._cursors.getPrimaryCursor(),g=o.viewState.selectionStart.getStartPosition(),c=o.viewState.position;return{isReal:!1,fromViewLineNumber:g.lineNumber,fromViewVisualColumn:this.context.cursorConfig.visibleColumnFromColumn(this._viewModel,g),toViewLineNumber:c.lineNumber,toViewVisualColumn:this.context.cursorConfig.visibleColumnFromColumn(this._viewModel,c)}}getSelections(){return this._cursors.getSelections()}setSelections(o,g,c,f){this.setStates(o,g,f,L.CursorState.fromModelSelections(c))}getPrevEditOperationType(){return this._prevEditOperationType}setPrevEditOperationType(o){this._prevEditOperationType=o}_pushAutoClosedAction(o,g){const c=[],f=[];for(let I=0,E=o.length;I<E;I++)c.push({range:o[I],options:{description:"auto-closed-character",inlineClassName:"auto-closed-character",stickiness:1}}),f.push({range:g[I],options:{description:"auto-closed-enclosing",stickiness:1}});const _=this._model.deltaDecorations([],c),S=this._model.deltaDecorations([],f);this._autoClosedActions.push(new v(this._model,_,S))}_executeEditOperation(o){if(!o)return;o.shouldPushStackElementBefore&&this._model.pushStackElement();const g=u.executeCommands(this._model,this._cursors.getSelections(),o.commands);if(g){this._interpretCommandResult(g);const c=[],f=[];for(let _=0;_<o.commands.length;_++){const S=o.commands[_];S instanceof w.TypeWithAutoClosingCommand&&S.enclosingRange&&S.closeCharacterRange&&(c.push(S.closeCharacterRange),f.push(S.enclosingRange))}c.length>0&&this._pushAutoClosedAction(c,f),this._prevEditOperationType=o.type}o.shouldPushStackElementAfter&&this._model.pushStackElement()}_interpretCommandResult(o){(!o||o.length===0)&&(o=this._cursors.readSelectionFromMarkers()),this._columnSelectData=null,this._cursors.setSelections(o),this._cursors.normalize()}_emitStateChangedIfNecessary(o,g,c,f,_){const S=h.from(this._model,this);if(S.equals(f))return!1;const I=this._cursors.getSelections(),E=this._cursors.getViewSelections();if(o.emitViewEvent(new s.ViewCursorStateChangedEvent(E,I,c)),!f||f.cursorState.length!==S.cursorState.length||S.cursorState.some((T,N)=>!T.modelState.equals(f.cursorState[N].modelState))){const T=f?f.cursorState.map(A=>A.modelState.selection):null,N=f?f.modelVersionId:0;o.emitOutgoingEvent(new t.CursorStateChangedEvent(T,I,N,S.modelVersionId,g||"keyboard",c,_))}return!0}_findAutoClosingPairs(o){if(!o.length)return null;const g=[];for(let c=0,f=o.length;c<f;c++){const _=o[c];if(!_.text||_.text.indexOf(`
`)>=0)return null;const S=_.text.match(/([)\]}>'"`])([^)\]}>'"`]*)$/);if(!S)return null;const I=S[1],E=this.context.cursorConfig.autoClosingPairs.autoClosingPairsCloseSingleChar.get(I);if(!E||E.length!==1)return null;const T=E[0].open,N=_.text.length-S[2].length-1,A=_.text.lastIndexOf(T,N-1);if(A===-1)return null;g.push([A,N])}return g}executeEdits(o,g,c,f){let _=null;g==="snippet"&&(_=this._findAutoClosingPairs(c)),_&&(c[0]._isTracked=!0);const S=[],I=[],E=this._model.pushEditOperations(this.getSelections(),c,T=>{if(_)for(let A=0,O=_.length;A<O;A++){const[M,P]=_[A],x=T[A],R=x.range.startLineNumber,B=x.range.startColumn-1+M,H=x.range.startColumn-1+P;S.push(new C.Range(R,H+1,R,H+2)),I.push(new C.Range(R,B+1,R,H+2))}const N=f(T);return N&&(this._isHandling=!0),N});E&&(this._isHandling=!1,this.setSelections(o,g,E,0)),S.length>0&&this._pushAutoClosedAction(S,I)}_executeEdit(o,g,c,f=0){if(this.context.cursorConfig.readOnly)return;const _=h.from(this._model,this);this._cursors.stopTrackingSelections(),this._isHandling=!0;try{this._cursors.ensureValidState(),o()}catch(S){(0,m.onUnexpectedError)(S)}this._isHandling=!1,this._cursors.startTrackingSelections(),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(g,c,f,_,!1)&&this.revealPrimary(g,c,!1,0,!0,0)}getAutoClosedCharacters(){return v.getAllAutoClosedCharacters(this._autoClosedActions)}startComposition(o){this._compositionState=new r(this._model,this.getSelections())}endComposition(o,g){const c=this._compositionState?this._compositionState.deduceOutcome(this._model,this.getSelections()):null;this._compositionState=null,this._executeEdit(()=>{g==="keyboard"&&this._executeEditOperation(w.TypeOperations.compositionEndWithInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,c,this.getSelections(),this.getAutoClosedCharacters()))},o,g)}type(o,g,c){this._executeEdit(()=>{if(c==="keyboard"){const f=g.length;let _=0;for(;_<f;){const S=k.nextCharLength(g,_),I=g.substr(_,S);this._executeEditOperation(w.TypeOperations.typeWithInterceptors(!!this._compositionState,this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),this.getAutoClosedCharacters(),I)),_+=S}}else this._executeEditOperation(w.TypeOperations.typeWithoutInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),g))},o,c)}compositionType(o,g,c,f,_,S){if(g.length===0&&c===0&&f===0){if(_!==0){const I=this.getSelections().map(E=>{const T=E.getPosition();return new b.Selection(T.lineNumber,T.column+_,T.lineNumber,T.column+_)});this.setSelections(o,S,I,0)}return}this._executeEdit(()=>{this._executeEditOperation(w.TypeOperations.compositionType(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),g,c,f,_))},o,S)}paste(o,g,c,f,_){this._executeEdit(()=>{this._executeEditOperation(w.TypeOperations.paste(this.context.cursorConfig,this._model,this.getSelections(),g,c,f||[]))},o,_,4)}cut(o,g){this._executeEdit(()=>{this._executeEditOperation(p.DeleteOperations.cut(this.context.cursorConfig,this._model,this.getSelections()))},o,g)}executeCommand(o,g,c){this._executeEdit(()=>{this._cursors.killSecondaryCursors(),this._executeEditOperation(new L.EditOperationResult(0,[g],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},o,c)}executeCommands(o,g,c){this._executeEdit(()=>{this._executeEditOperation(new L.EditOperationResult(0,g,{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},o,c)}}e.CursorsController=n;class h{static from(o,g){return new h(o.getVersionId(),g.getCursorStates())}constructor(o,g){this.modelVersionId=o,this.cursorState=g}equals(o){if(!o||this.modelVersionId!==o.modelVersionId||this.cursorState.length!==o.cursorState.length)return!1;for(let g=0,c=this.cursorState.length;g<c;g++)if(!this.cursorState[g].equals(o.cursorState[g]))return!1;return!0}}class v{static getAllAutoClosedCharacters(o){let g=[];for(const c of o)g=g.concat(c.getAutoClosedCharactersRanges());return g}constructor(o,g,c){this._model=o,this._autoClosedCharactersDecorations=g,this._autoClosedEnclosingDecorations=c}dispose(){this._autoClosedCharactersDecorations=this._model.deltaDecorations(this._autoClosedCharactersDecorations,[]),this._autoClosedEnclosingDecorations=this._model.deltaDecorations(this._autoClosedEnclosingDecorations,[])}getAutoClosedCharactersRanges(){const o=[];for(let g=0;g<this._autoClosedCharactersDecorations.length;g++){const c=this._model.getDecorationRange(this._autoClosedCharactersDecorations[g]);c&&o.push(c)}return o}isValid(o){const g=[];for(let c=0;c<this._autoClosedEnclosingDecorations.length;c++){const f=this._model.getDecorationRange(this._autoClosedEnclosingDecorations[c]);if(f&&(g.push(f),f.startLineNumber!==f.endLineNumber))return!1}g.sort(C.Range.compareRangesUsingStarts),o.sort(C.Range.compareRangesUsingStarts);for(let c=0;c<o.length;c++)if(c>=g.length||!g[c].strictContainsRange(o[c]))return!1;return!0}}class u{static executeCommands(o,g,c){const f={model:o,selectionsBefore:g,trackedRanges:[],trackedRangesDirection:[]},_=this._innerExecuteCommands(f,c);for(let S=0,I=f.trackedRanges.length;S<I;S++)f.model._setTrackedRange(f.trackedRanges[S],null,0);return _}static _innerExecuteCommands(o,g){if(this._arrayIsEmpty(g))return null;const c=this._getEditOperations(o,g);if(c.operations.length===0)return null;const f=c.operations,_=this._getLoserCursorMap(f);if(_.hasOwnProperty("0"))return console.warn("Ignoring commands"),null;const S=[];for(let T=0,N=f.length;T<N;T++)_.hasOwnProperty(f[T].identifier.major.toString())||S.push(f[T]);c.hadTrackedEditOperation&&S.length>0&&(S[0]._isTracked=!0);let I=o.model.pushEditOperations(o.selectionsBefore,S,T=>{const N=[];for(let M=0;M<o.selectionsBefore.length;M++)N[M]=[];for(const M of T)M.identifier&&N[M.identifier.major].push(M);const A=(M,P)=>M.identifier.minor-P.identifier.minor,O=[];for(let M=0;M<o.selectionsBefore.length;M++)N[M].length>0?(N[M].sort(A),O[M]=g[M].computeCursorState(o.model,{getInverseEditOperations:()=>N[M],getTrackedSelection:P=>{const x=parseInt(P,10),R=o.model._getTrackedRange(o.trackedRanges[x]);return o.trackedRangesDirection[x]===0?new b.Selection(R.startLineNumber,R.startColumn,R.endLineNumber,R.endColumn):new b.Selection(R.endLineNumber,R.endColumn,R.startLineNumber,R.startColumn)}})):O[M]=o.selectionsBefore[M];return O});I||(I=o.selectionsBefore);const E=[];for(const T in _)_.hasOwnProperty(T)&&E.push(parseInt(T,10));E.sort((T,N)=>N-T);for(const T of E)I.splice(T,1);return I}static _arrayIsEmpty(o){for(let g=0,c=o.length;g<c;g++)if(o[g])return!1;return!0}static _getEditOperations(o,g){let c=[],f=!1;for(let _=0,S=g.length;_<S;_++){const I=g[_];if(I){const E=this._getEditOperationsFromCommand(o,_,I);c=c.concat(E.operations),f=f||E.hadTrackedEditOperation}}return{operations:c,hadTrackedEditOperation:f}}static _getEditOperationsFromCommand(o,g,c){const f=[];let _=0;const S=(A,O,M=!1)=>{C.Range.isEmpty(A)&&O===""||f.push({identifier:{major:g,minor:_++},range:A,text:O,forceMoveMarkers:M,isAutoWhitespaceEdit:c.insertsAutoWhitespace})};let I=!1;const N={addEditOperation:S,addTrackedEditOperation:(A,O,M)=>{I=!0,S(A,O,M)},trackSelection:(A,O)=>{const M=b.Selection.liftSelection(A);let P;if(M.isEmpty())if(typeof O=="boolean")O?P=2:P=3;else{const B=o.model.getLineMaxColumn(M.startLineNumber);M.startColumn===B?P=2:P=3}else P=1;const x=o.trackedRanges.length,R=o.model._setTrackedRange(null,M,P);return o.trackedRanges[x]=R,o.trackedRangesDirection[x]=M.getDirection(),x.toString()}};try{c.getEditOperations(o.model,N)}catch(A){return(0,m.onUnexpectedError)(A),{operations:[],hadTrackedEditOperation:!1}}return{operations:f,hadTrackedEditOperation:I}}static _getLoserCursorMap(o){o=o.slice(0),o.sort((c,f)=>-C.Range.compareRangesUsingEnds(c.range,f.range));const g={};for(let c=1;c<o.length;c++){const f=o[c-1],_=o[c];if(C.Range.getStartPosition(f.range).isBefore(C.Range.getEndPosition(_.range))){let S;f.identifier.major>_.identifier.major?S=f.identifier.major:S=_.identifier.major,g[S.toString()]=!0;for(let I=0;I<o.length;I++)o[I].identifier.major===S&&(o.splice(I,1),I<c&&c--,I--);c>0&&c--}}return g}}class d{constructor(o,g,c){this.text=o,this.startSelection=g,this.endSelection=c}}class r{static _capture(o,g){const c=[];for(const f of g){if(f.startLineNumber!==f.endLineNumber)return null;c.push(new d(o.getLineContent(f.startLineNumber),f.startColumn-1,f.endColumn-1))}return c}constructor(o,g){this._original=r._capture(o,g)}deduceOutcome(o,g){if(!this._original)return null;const c=r._capture(o,g);if(!c||this._original.length!==c.length)return null;const f=[];for(let _=0,S=this._original.length;_<S;_++)f.push(r._deduceOutcome(this._original[_],c[_]));return f}static _deduceOutcome(o,g){const c=Math.min(o.startSelection,g.startSelection,k.commonPrefixLength(o.text,g.text)),f=Math.min(o.text.length-o.endSelection,g.text.length-g.endSelection,k.commonSuffixLength(o.text,g.text)),_=o.text.substring(c,o.text.length-f),S=g.text.substring(c,g.text.length-f);return new w.CompositionOutcome(_,o.startSelection-c,o.endSelection-c,S,g.startSelection-c,g.endSelection-c)}}}),define(te[829],ie([1,0,49,50,84,358]),function(J,e,m,k,D,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getIconClasses=p;const y=/(?:\/|^)(?:([^\/]+)\/)?([^\/]+)$/;function p(b,a,s,i,t){if(t)return[`codicon-${t.id}`,"predefined-file-icon"];const n=i===L.FileKind.ROOT_FOLDER?["rootfolder-icon"]:i===L.FileKind.FOLDER?["folder-icon"]:["file-icon"];if(s){let h;if(s.scheme===m.Schemas.data)h=k.DataUri.parseMetaData(s).get(k.DataUri.META_DATA_LABEL);else{const v=s.path.match(y);v?(h=C(v[2].toLowerCase()),v[1]&&n.push(`${C(v[1].toLowerCase())}-name-dir-icon`)):h=C(s.authority.toLowerCase())}if(i===L.FileKind.ROOT_FOLDER)n.push(`${h}-root-name-folder-icon`);else if(i===L.FileKind.FOLDER)n.push(`${h}-name-folder-icon`);else{if(h){if(n.push(`${h}-name-file-icon`),n.push("name-file-icon"),h.length<=255){const u=h.split(".");for(let d=1;d<u.length;d++)n.push(`${u.slice(d).join(".")}-ext-file-icon`)}n.push("ext-file-icon")}const v=w(b,a,s);v&&n.push(`${C(v)}-lang-file-icon`)}}return n}function w(b,a,s){if(!s)return null;let i=null;if(s.scheme===m.Schemas.data){const n=k.DataUri.parseMetaData(s).get(k.DataUri.META_DATA_MIME);n&&(i=a.getLanguageIdByMimeType(n))}else{const t=b.getModel(s);t&&(i=t.getLanguageId())}return i&&i!==D.PLAINTEXT_LANGUAGE_ID?i:a.guessLanguageIdByFilepathOrFirstLine(s)}function C(b){return b.replace(/[\11\12\14\15\40]/g,"/")}}),define(te[830],ie([1,0,333,120,49,96,50,11,84]),function(J,e,m,k,D,L,y,p,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.registerPlatformLanguageAssociation=s,e.clearPlatformLanguageAssociations=n,e.getLanguageIds=h;let C=[],b=[],a=[];function s(r,l=!1){i(r,!1,l)}function i(r,l,o){const g=t(r,l);C.push(g),g.userConfigured?a.push(g):b.push(g),o&&!g.userConfigured&&C.forEach(c=>{c.mime===g.mime||c.userConfigured||(g.extension&&c.extension===g.extension&&console.warn(`Overwriting extension <<${g.extension}>> to now point to mime <<${g.mime}>>`),g.filename&&c.filename===g.filename&&console.warn(`Overwriting filename <<${g.filename}>> to now point to mime <<${g.mime}>>`),g.filepattern&&c.filepattern===g.filepattern&&console.warn(`Overwriting filepattern <<${g.filepattern}>> to now point to mime <<${g.mime}>>`),g.firstline&&c.firstline===g.firstline&&console.warn(`Overwriting firstline <<${g.firstline}>> to now point to mime <<${g.mime}>>`))})}function t(r,l){return{id:r.id,mime:r.mime,filename:r.filename,extension:r.extension,filepattern:r.filepattern,firstline:r.firstline,userConfigured:l,filenameLowercase:r.filename?r.filename.toLowerCase():void 0,extensionLowercase:r.extension?r.extension.toLowerCase():void 0,filepatternLowercase:r.filepattern?(0,m.parse)(r.filepattern.toLowerCase()):void 0,filepatternOnPath:r.filepattern?r.filepattern.indexOf(L.posix.sep)>=0:!1}}function n(){C=C.filter(r=>r.userConfigured),b=[]}function h(r,l){return v(r,l).map(o=>o.id)}function v(r,l){let o;if(r)switch(r.scheme){case D.Schemas.file:o=r.fsPath;break;case D.Schemas.data:{o=y.DataUri.parseMetaData(r).get(y.DataUri.META_DATA_LABEL);break}case D.Schemas.vscodeNotebookCell:o=void 0;break;default:o=r.path}if(!o)return[{id:"unknown",mime:k.Mimes.unknown}];o=o.toLowerCase();const g=(0,L.basename)(o),c=u(o,g,a);if(c)return[c,{id:w.PLAINTEXT_LANGUAGE_ID,mime:k.Mimes.text}];const f=u(o,g,b);if(f)return[f,{id:w.PLAINTEXT_LANGUAGE_ID,mime:k.Mimes.text}];if(l){const _=d(l);if(_)return[_,{id:w.PLAINTEXT_LANGUAGE_ID,mime:k.Mimes.text}]}return[{id:"unknown",mime:k.Mimes.unknown}]}function u(r,l,o){var g;let c,f,_;for(let S=o.length-1;S>=0;S--){const I=o[S];if(l===I.filenameLowercase){c=I;break}if(I.filepattern&&(!f||I.filepattern.length>f.filepattern.length)){const E=I.filepatternOnPath?r:l;!((g=I.filepatternLowercase)===null||g===void 0)&&g.call(I,E)&&(f=I)}I.extension&&(!_||I.extension.length>_.extension.length)&&l.endsWith(I.extensionLowercase)&&(_=I)}if(c)return c;if(f)return f;if(_)return _}function d(r){if((0,p.startsWithUTF8BOM)(r)&&(r=r.substr(1)),r.length>0)for(let l=C.length-1;l>=0;l--){const o=C[l];if(!o.firstline)continue;const g=r.match(o.firstline);if(g&&g.length>0)return o}}}),define(te[831],ie([1,0,7,2,11,830,84,105,39]),function(J,e,m,k,D,L,y,p,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LanguagesRegistry=e.LanguageIdCodec=void 0;const C=Object.prototype.hasOwnProperty,b="vs.editor.nullLanguage";class a{constructor(){this._languageIdToLanguage=[],this._languageToLanguageId=new Map,this._register(b,0),this._register(y.PLAINTEXT_LANGUAGE_ID,1),this._nextLanguageId=2}_register(t,n){this._languageIdToLanguage[n]=t,this._languageToLanguageId.set(t,n)}register(t){if(this._languageToLanguageId.has(t))return;const n=this._nextLanguageId++;this._register(t,n)}encodeLanguageId(t){return this._languageToLanguageId.get(t)||0}decodeLanguageId(t){return this._languageIdToLanguage[t]||b}}e.LanguageIdCodec=a;class s extends k.Disposable{constructor(t=!0,n=!1){super(),this._onDidChange=this._register(new m.Emitter),this.onDidChange=this._onDidChange.event,s.instanceCount++,this._warnOnOverwrite=n,this.languageIdCodec=new a,this._dynamicLanguages=[],this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},t&&(this._initializeFromRegistry(),this._register(y.ModesRegistry.onDidChangeLanguages(h=>{this._initializeFromRegistry()})))}dispose(){s.instanceCount--,super.dispose()}_initializeFromRegistry(){this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},(0,L.clearPlatformLanguageAssociations)();const t=[].concat(y.ModesRegistry.getLanguages()).concat(this._dynamicLanguages);this._registerLanguages(t)}_registerLanguages(t){for(const n of t)this._registerLanguage(n);this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},Object.keys(this._languages).forEach(n=>{const h=this._languages[n];h.name&&(this._nameMap[h.name]=h.identifier),h.aliases.forEach(v=>{this._lowercaseNameMap[v.toLowerCase()]=h.identifier}),h.mimetypes.forEach(v=>{this._mimeTypesMap[v]=h.identifier})}),w.Registry.as(p.Extensions.Configuration).registerOverrideIdentifiers(this.getRegisteredLanguageIds()),this._onDidChange.fire()}_registerLanguage(t){const n=t.id;let h;C.call(this._languages,n)?h=this._languages[n]:(this.languageIdCodec.register(n),h={identifier:n,name:null,mimetypes:[],aliases:[],extensions:[],filenames:[],configurationFiles:[],icons:[]},this._languages[n]=h),this._mergeLanguage(h,t)}_mergeLanguage(t,n){const h=n.id;let v=null;if(Array.isArray(n.mimetypes)&&n.mimetypes.length>0&&(t.mimetypes.push(...n.mimetypes),v=n.mimetypes[0]),v||(v=`text/x-${h}`,t.mimetypes.push(v)),Array.isArray(n.extensions)){n.configuration?t.extensions=n.extensions.concat(t.extensions):t.extensions=t.extensions.concat(n.extensions);for(const r of n.extensions)(0,L.registerPlatformLanguageAssociation)({id:h,mime:v,extension:r},this._warnOnOverwrite)}if(Array.isArray(n.filenames))for(const r of n.filenames)(0,L.registerPlatformLanguageAssociation)({id:h,mime:v,filename:r},this._warnOnOverwrite),t.filenames.push(r);if(Array.isArray(n.filenamePatterns))for(const r of n.filenamePatterns)(0,L.registerPlatformLanguageAssociation)({id:h,mime:v,filepattern:r},this._warnOnOverwrite);if(typeof n.firstLine=="string"&&n.firstLine.length>0){let r=n.firstLine;r.charAt(0)!=="^"&&(r="^"+r);try{const l=new RegExp(r);(0,D.regExpLeadsToEndlessLoop)(l)||(0,L.registerPlatformLanguageAssociation)({id:h,mime:v,firstline:l},this._warnOnOverwrite)}catch(l){console.warn(`[${n.id}]: Invalid regular expression \`${r}\`: `,l)}}t.aliases.push(h);let u=null;if(typeof n.aliases<"u"&&Array.isArray(n.aliases)&&(n.aliases.length===0?u=[null]:u=n.aliases),u!==null)for(const r of u)!r||r.length===0||t.aliases.push(r);const d=u!==null&&u.length>0;if(!(d&&u[0]===null)){const r=(d?u[0]:null)||h;(d||!t.name)&&(t.name=r)}n.configuration&&t.configurationFiles.push(n.configuration),n.icon&&t.icons.push(n.icon)}isRegisteredLanguageId(t){return t?C.call(this._languages,t):!1}getRegisteredLanguageIds(){return Object.keys(this._languages)}getLanguageIdByLanguageName(t){const n=t.toLowerCase();return C.call(this._lowercaseNameMap,n)?this._lowercaseNameMap[n]:null}getLanguageIdByMimeType(t){return t&&C.call(this._mimeTypesMap,t)?this._mimeTypesMap[t]:null}guessLanguageIdByFilepathOrFirstLine(t,n){return!t&&!n?[]:(0,L.getLanguageIds)(t,n)}}e.LanguagesRegistry=s,s.instanceCount=0}),define(te[832],ie([1,0,7,2,831,13,29,84]),function(J,e,m,k,D,L,y,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LanguageService=void 0;class w extends k.Disposable{constructor(a=!1){super(),this._onDidRequestBasicLanguageFeatures=this._register(new m.Emitter),this.onDidRequestBasicLanguageFeatures=this._onDidRequestBasicLanguageFeatures.event,this._onDidRequestRichLanguageFeatures=this._register(new m.Emitter),this.onDidRequestRichLanguageFeatures=this._onDidRequestRichLanguageFeatures.event,this._onDidChange=this._register(new m.Emitter({leakWarningThreshold:200})),this.onDidChange=this._onDidChange.event,this._requestedBasicLanguages=new Set,this._requestedRichLanguages=new Set,w.instanceCount++,this._registry=this._register(new D.LanguagesRegistry(!0,a)),this.languageIdCodec=this._registry.languageIdCodec,this._register(this._registry.onDidChange(()=>this._onDidChange.fire()))}dispose(){w.instanceCount--,super.dispose()}isRegisteredLanguageId(a){return this._registry.isRegisteredLanguageId(a)}getLanguageIdByLanguageName(a){return this._registry.getLanguageIdByLanguageName(a)}getLanguageIdByMimeType(a){return this._registry.getLanguageIdByMimeType(a)}guessLanguageIdByFilepathOrFirstLine(a,s){const i=this._registry.guessLanguageIdByFilepathOrFirstLine(a,s);return(0,L.firstOrDefault)(i,null)}createById(a){return new C(this.onDidChange,()=>this._createAndGetLanguageIdentifier(a))}createByFilepathOrFirstLine(a,s){return new C(this.onDidChange,()=>{const i=this.guessLanguageIdByFilepathOrFirstLine(a,s);return this._createAndGetLanguageIdentifier(i)})}_createAndGetLanguageIdentifier(a){return(!a||!this.isRegisteredLanguageId(a))&&(a=p.PLAINTEXT_LANGUAGE_ID),a}requestBasicLanguageFeatures(a){this._requestedBasicLanguages.has(a)||(this._requestedBasicLanguages.add(a),this._onDidRequestBasicLanguageFeatures.fire(a))}requestRichLanguageFeatures(a){this._requestedRichLanguages.has(a)||(this._requestedRichLanguages.add(a),this.requestBasicLanguageFeatures(a),y.TokenizationRegistry.getOrCreate(a),this._onDidRequestRichLanguageFeatures.fire(a))}}e.LanguageService=w,w.instanceCount=0;class C{constructor(a,s){this._onDidChangeLanguages=a,this._selector=s,this._listener=null,this._emitter=null,this.languageId=this._selector()}_dispose(){this._listener&&(this._listener.dispose(),this._listener=null),this._emitter&&(this._emitter.dispose(),this._emitter=null)}get onDidChange(){return this._listener||(this._listener=this._onDidChangeLanguages(()=>this._evaluate())),this._emitter||(this._emitter=new m.Emitter({onDidRemoveLastListener:()=>{this._dispose()}})),this._emitter.event}_evaluate(){var a;const s=this._selector();s!==this.languageId&&(this.languageId=s,(a=this._emitter)===null||a===void 0||a.fire(this.languageId))}}}),define(te[372],ie([1,0,34,261,53,33,2,18,141]),function(J,e,m,k,D,L,y,p,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultDocumentColorProvider=void 0;class C{constructor(s,i){this._editorWorkerClient=new k.EditorWorkerClient(s,!1,"editorWorkerService",i)}async provideDocumentColors(s,i){return this._editorWorkerClient.computeDefaultDocumentColors(s.uri)}provideColorPresentations(s,i,t){const n=i.range,h=i.color,v=h.alpha,u=new m.Color(new m.RGBA(Math.round(255*h.red),Math.round(255*h.green),Math.round(255*h.blue),v)),d=v?m.Color.Format.CSS.formatRGB(u):m.Color.Format.CSS.formatRGBA(u),r=v?m.Color.Format.CSS.formatHSL(u):m.Color.Format.CSS.formatHSLA(u),l=v?m.Color.Format.CSS.formatHex(u):m.Color.Format.CSS.formatHexA(u),o=[];return o.push({label:d,textEdit:{range:n,text:d}}),o.push({label:r,textEdit:{range:n,text:r}}),o.push({label:l,textEdit:{range:n,text:l}}),o}}e.DefaultDocumentColorProvider=C;let b=class extends y.Disposable{constructor(s,i,t){super(),this._register(t.colorProvider.register("*",new C(s,i)))}};b=Ie([he(0,D.IModelService),he(1,L.ILanguageConfigurationService),he(2,p.ILanguageFeaturesService)],b),(0,w.registerEditorFeature)(b)}),define(te[373],ie([1,0,20,12,22,5,53,27,18,372,25]),function(J,e,m,k,D,L,y,p,w,C,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getColors=a,e.getColorPresentations=s;async function a(u,d,r,l=!0){return h(new i,u,d,r,l)}function s(u,d,r,l){return Promise.resolve(r.provideColorPresentations(u,d,l))}class i{constructor(){}async compute(d,r,l,o){const g=await d.provideDocumentColors(r,l);if(Array.isArray(g))for(const c of g)o.push({colorInfo:c,provider:d});return Array.isArray(g)}}class t{constructor(){}async compute(d,r,l,o){const g=await d.provideDocumentColors(r,l);if(Array.isArray(g))for(const c of g)o.push({range:c.range,color:[c.color.red,c.color.green,c.color.blue,c.color.alpha]});return Array.isArray(g)}}class n{constructor(d){this.colorInfo=d}async compute(d,r,l,o){const g=await d.provideColorPresentations(r,this.colorInfo,m.CancellationToken.None);return Array.isArray(g)&&o.push(...g),Array.isArray(g)}}async function h(u,d,r,l,o){let g=!1,c;const f=[],_=d.ordered(r);for(let S=_.length-1;S>=0;S--){const I=_[S];if(I instanceof C.DefaultDocumentColorProvider)c=I;else try{await u.compute(I,r,l,f)&&(g=!0)}catch(E){(0,k.onUnexpectedExternalError)(E)}}return g?f:c&&o?(await u.compute(c,r,l,f),f):[]}function v(u,d){const{colorProvider:r}=u.get(w.ILanguageFeaturesService),l=u.get(y.IModelService).getModel(d);if(!l)throw(0,k.illegalArgument)();const o=u.get(b.IConfigurationService).getValue("editor.defaultColorDecorators",{resource:d});return{model:l,colorProviderRegistry:r,isDefaultColorDecoratorsEnabled:o}}p.CommandsRegistry.registerCommand("_executeDocumentColorProvider",function(u,...d){const[r]=d;if(!(r instanceof D.URI))throw(0,k.illegalArgument)();const{model:l,colorProviderRegistry:o,isDefaultColorDecoratorsEnabled:g}=v(u,r);return h(new t,o,l,m.CancellationToken.None,g)}),p.CommandsRegistry.registerCommand("_executeColorPresentationProvider",function(u,...d){const[r,l]=d,{uri:o,range:g}=l;if(!(o instanceof D.URI)||!Array.isArray(r)||r.length!==4||!L.Range.isIRange(g))throw(0,k.illegalArgument)();const{model:c,colorProviderRegistry:f,isDefaultColorDecoratorsEnabled:_}=v(u,o),[S,I,E,T]=r;return h(new n({range:g,color:{red:S,green:I,blue:E,alpha:T}}),f,c,m.CancellationToken.None,_)})}),define(te[833],ie([1,0,6,13,57,2,114,349,243,43]),function(J,e,m,k,D,L,y,p,w,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarginHoverWidget=void 0;const b=m.$;class a extends L.Disposable{constructor(t,n,h){super(),this._renderDisposeables=this._register(new L.DisposableStore),this._editor=t,this._isVisible=!1,this._messages=[],this._hover=this._register(new w.HoverWidget),this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible),this._markdownRenderer=this._register(new y.MarkdownRenderer({editor:this._editor},n,h)),this._computer=new s(this._editor),this._hoverOperation=this._register(new p.HoverOperation(this._editor,this._computer)),this._register(this._hoverOperation.onResult(v=>{this._withResult(v.value)})),this._register(this._editor.onDidChangeModelDecorations(()=>this._onModelDecorationsChanged())),this._register(this._editor.onDidChangeConfiguration(v=>{v.hasChanged(50)&&this._updateFont()})),this._editor.addOverlayWidget(this)}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return a.ID}getDomNode(){return this._hover.containerDomNode}getPosition(){return null}_updateFont(){Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code")).forEach(n=>this._editor.applyFontInfo(n))}_onModelDecorationsChanged(){this._isVisible&&(this._hoverOperation.cancel(),this._hoverOperation.start(0))}startShowingAt(t,n){this._computer.lineNumber===t&&this._computer.lane===n||(this._hoverOperation.cancel(),this.hide(),this._computer.lineNumber=t,this._computer.lane=n,this._hoverOperation.start(0))}hide(){this._computer.lineNumber=-1,this._hoverOperation.cancel(),this._isVisible&&(this._isVisible=!1,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible))}_withResult(t){this._messages=t,this._messages.length>0?this._renderMessages(this._computer.lineNumber,this._messages):this.hide()}_renderMessages(t,n){this._renderDisposeables.clear();const h=document.createDocumentFragment();for(const v of n){const u=b("div.hover-row.markdown-hover"),d=m.append(u,b("div.hover-contents")),r=this._renderDisposeables.add(this._markdownRenderer.render(v.value));d.appendChild(r.element),h.appendChild(u)}this._updateContents(h),this._showAt(t)}_updateContents(t){this._hover.contentsDomNode.textContent="",this._hover.contentsDomNode.appendChild(t),this._updateFont()}_showAt(t){this._isVisible||(this._isVisible=!0,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible));const n=this._editor.getLayoutInfo(),h=this._editor.getTopForLineNumber(t),v=this._editor.getScrollTop(),u=this._editor.getOption(67),d=this._hover.containerDomNode.clientHeight,r=h-v-(d-u)/2,l=n.glyphMarginLeft+n.glyphMarginWidth+(this._computer.lane==="lineNo"?n.lineNumbersWidth:0);this._hover.containerDomNode.style.left=`${l}px`,this._hover.containerDomNode.style.top=`${Math.max(Math.round(r),0)}px`}}e.MarginHoverWidget=a,a.ID="editor.contrib.modesGlyphHoverWidget";class s{get lineNumber(){return this._lineNumber}set lineNumber(t){this._lineNumber=t}get lane(){return this._laneOrLine}set lane(t){this._laneOrLine=t}constructor(t){this._editor=t,this._lineNumber=-1,this._laneOrLine=C.GlyphMarginLane.Center}computeSync(){var t,n;const h=r=>({value:r}),v=this._editor.getLineDecorations(this._lineNumber),u=[],d=this._laneOrLine==="lineNo";if(!v)return u;for(const r of v){const l=(n=(t=r.options.glyphMargin)===null||t===void 0?void 0:t.position)!==null&&n!==void 0?n:C.GlyphMarginLane.Center;if(!d&&l!==this._laneOrLine)continue;const o=d?r.options.lineNumberHoverMessage:r.options.glyphMarginHoverMessage;!o||(0,D.isEmptyMarkdownString)(o)||u.push(...(0,k.asArray)(o).map(h))}return u}}}),define(te[834],ie([1,0,20,76,2,32,9,29,33,18,645,123,233]),function(J,e,m,k,D,L,y,p,w,C,b,a,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlineCompletionWithUpdatedRange=e.UpToDateInlineCompletions=e.InlineCompletionsSource=void 0;let i=class extends D.Disposable{constructor(o,g,c,f,_){super(),this.textModel=o,this.versionId=g,this._debounceValue=c,this.languageFeaturesService=f,this.languageConfigurationService=_,this._updateOperation=this._register(new D.MutableDisposable),this.inlineCompletions=(0,L.disposableObservableValue)("inlineCompletions",void 0),this.suggestWidgetInlineCompletions=(0,L.disposableObservableValue)("suggestWidgetInlineCompletions",void 0),this._register(this.textModel.onDidChangeContent(()=>{this._updateOperation.clear()}))}fetch(o,g,c){var f,_;const S=new n(o,g,this.textModel.getVersionId()),I=g.selectedSuggestionInfo?this.suggestWidgetInlineCompletions:this.inlineCompletions;if(!((f=this._updateOperation.value)===null||f===void 0)&&f.request.satisfies(S))return this._updateOperation.value.promise;if(!((_=I.get())===null||_===void 0)&&_.request.satisfies(S))return Promise.resolve(!0);const E=!!this._updateOperation.value;this._updateOperation.clear();const T=new m.CancellationTokenSource,N=(async()=>{if((E||g.triggerKind===p.InlineCompletionTriggerKind.Automatic)&&await t(this._debounceValue.get(this.textModel),T.token),T.token.isCancellationRequested||this.textModel.getVersionId()!==S.versionId)return!1;const M=new Date,P=await(0,b.provideInlineCompletions)(this.languageFeaturesService.inlineCompletionsProvider,o,this.textModel,g,T.token,this.languageConfigurationService);if(T.token.isCancellationRequested||this.textModel.getVersionId()!==S.versionId)return!1;const x=new Date;this._debounceValue.update(this.textModel,x.getTime()-M.getTime());const R=new u(P,S,this.textModel,this.versionId);if(c){const B=c.toInlineCompletion(void 0);c.canBeReused(this.textModel,o)&&!P.has(B)&&R.prepend(c.inlineCompletion,B.range,!0)}return this._updateOperation.clear(),(0,L.transaction)(B=>{I.set(R,B)}),!0})(),A=new v(S,T,N);return this._updateOperation.value=A,N}clear(o){this._updateOperation.clear(),this.inlineCompletions.set(void 0,o),this.suggestWidgetInlineCompletions.set(void 0,o)}clearSuggestWidgetInlineCompletions(o){var g;!((g=this._updateOperation.value)===null||g===void 0)&&g.request.context.selectedSuggestionInfo&&this._updateOperation.clear(),this.suggestWidgetInlineCompletions.set(void 0,o)}cancelUpdate(){this._updateOperation.clear()}};e.InlineCompletionsSource=i,e.InlineCompletionsSource=i=Ie([he(3,C.ILanguageFeaturesService),he(4,w.ILanguageConfigurationService)],i);function t(l,o){return new Promise(g=>{let c;const f=setTimeout(()=>{c&&c.dispose(),g()},l);o&&(c=o.onCancellationRequested(()=>{clearTimeout(f),c&&c.dispose(),g()}))})}class n{constructor(o,g,c){this.position=o,this.context=g,this.versionId=c}satisfies(o){return this.position.equals(o.position)&&h(this.context.selectedSuggestionInfo,o.context.selectedSuggestionInfo,(g,c)=>g.equals(c))&&(o.context.triggerKind===p.InlineCompletionTriggerKind.Automatic||this.context.triggerKind===p.InlineCompletionTriggerKind.Explicit)&&this.versionId===o.versionId}}function h(l,o,g){return!l||!o?l===o:g(l,o)}class v{constructor(o,g,c){this.request=o,this.cancellationTokenSource=g,this.promise=c}dispose(){this.cancellationTokenSource.cancel()}}class u{get inlineCompletions(){return this._inlineCompletions}constructor(o,g,c,f){this.inlineCompletionProviderResult=o,this.request=g,this.textModel=c,this.versionId=f,this._refCount=1,this._prependedInlineCompletionItems=[],this._rangeVersionIdValue=0,this._rangeVersionId=(0,L.derived)(this,S=>{this.versionId.read(S);let I=!1;for(const E of this._inlineCompletions)I=I||E._updateRange(this.textModel);return I&&this._rangeVersionIdValue++,this._rangeVersionIdValue});const _=c.deltaDecorations([],o.completions.map(S=>({range:S.range,options:{description:"inline-completion-tracking-range"}})));this._inlineCompletions=o.completions.map((S,I)=>new d(S,_[I],this._rangeVersionId))}clone(){return this._refCount++,this}dispose(){if(this._refCount--,this._refCount===0){setTimeout(()=>{this.textModel.isDisposed()||this.textModel.deltaDecorations(this._inlineCompletions.map(o=>o.decorationId),[])},0),this.inlineCompletionProviderResult.dispose();for(const o of this._prependedInlineCompletionItems)o.source.removeRef()}}prepend(o,g,c){c&&o.source.addRef();const f=this.textModel.deltaDecorations([],[{range:g,options:{description:"inline-completion-tracking-range"}}])[0];this._inlineCompletions.unshift(new d(o,f,this._rangeVersionId,g)),this._prependedInlineCompletionItems.push(o)}}e.UpToDateInlineCompletions=u;class d{get forwardStable(){var o;return(o=this.inlineCompletion.source.inlineCompletions.enableForwardStability)!==null&&o!==void 0?o:!1}constructor(o,g,c,f){this.inlineCompletion=o,this.decorationId=g,this.rangeVersion=c,this.semanticId=JSON.stringify([this.inlineCompletion.filterText,this.inlineCompletion.insertText,this.inlineCompletion.range.getStartPosition().toString()]),this._isValid=!0,this._updatedRange=f??o.range}toInlineCompletion(o){return this.inlineCompletion.withRange(this._getUpdatedRange(o))}toSingleTextEdit(o){return new a.SingleTextEdit(this._getUpdatedRange(o),this.inlineCompletion.insertText)}isVisible(o,g,c){const f=(0,s.singleTextRemoveCommonPrefix)(this._toFilterTextReplacement(c),o);if(!this._isValid||!this.inlineCompletion.range.getStartPosition().equals(this._getUpdatedRange(c).getStartPosition())||g.lineNumber!==f.range.startLineNumber)return!1;const _=o.getValueInRange(f.range,1),S=f.text,I=Math.max(0,g.column-f.range.startColumn);let E=S.substring(0,I),T=S.substring(I),N=_.substring(0,I),A=_.substring(I);const O=o.getLineIndentColumn(f.range.startLineNumber);return f.range.startColumn<=O&&(N=N.trimStart(),N.length===0&&(A=A.trimStart()),E=E.trimStart(),E.length===0&&(T=T.trimStart())),E.startsWith(N)&&!!(0,k.matchesSubString)(A,T)}canBeReused(o,g){return this._isValid&&this._getUpdatedRange(void 0).containsPosition(g)&&this.isVisible(o,g,void 0)&&!this._isSmallerThanOriginal(void 0)}_toFilterTextReplacement(o){return new a.SingleTextEdit(this._getUpdatedRange(o),this.inlineCompletion.filterText)}_isSmallerThanOriginal(o){return r(this._getUpdatedRange(o)).isBefore(r(this.inlineCompletion.range))}_getUpdatedRange(o){return this.rangeVersion.read(o),this._updatedRange}_updateRange(o){const g=o.getDecorationRange(this.decorationId);return g?this._updatedRange.equalsRange(g)?!1:(this._updatedRange=g,!0):(this._isValid=!1,!0)}}e.InlineCompletionWithUpdatedRange=d;function r(l){return l.startLineNumber===l.endLineNumber?new y.Position(1,1+l.endColumn-l.startColumn):new y.Position(1+l.endLineNumber-l.startLineNumber,l.endColumn)}}),define(te[835],ie([1,0,11,264,5,24,124,33,324,262,263]),function(J,e,m,k,D,L,y,p,w,C,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MoveLinesCommand=void 0;let a=class{constructor(i,t,n,h){this._languageConfigurationService=h,this._selection=i,this._isMovingDown=t,this._autoIndent=n,this._selectionId=null,this._moveEndLineSelectionShrink=!1}getEditOperations(i,t){const n=i.getLineCount();if(this._isMovingDown&&this._selection.endLineNumber===n){this._selectionId=t.trackSelection(this._selection);return}if(!this._isMovingDown&&this._selection.startLineNumber===1){this._selectionId=t.trackSelection(this._selection);return}this._moveEndPositionDown=!1;let h=this._selection;h.startLineNumber<h.endLineNumber&&h.endColumn===1&&(this._moveEndPositionDown=!0,h=h.setEndPosition(h.endLineNumber-1,i.getLineMaxColumn(h.endLineNumber-1)));const{tabSize:v,indentSize:u,insertSpaces:d}=i.getOptions(),r=this.buildIndentConverter(v,u,d),l={tokenization:{getLineTokens:o=>i.tokenization.getLineTokens(o),getLanguageId:()=>i.getLanguageId(),getLanguageIdAtPosition:(o,g)=>i.getLanguageIdAtPosition(o,g)},getLineContent:null};if(h.startLineNumber===h.endLineNumber&&i.getLineMaxColumn(h.startLineNumber)===1){const o=h.startLineNumber,g=this._isMovingDown?o+1:o-1;i.getLineMaxColumn(g)===1?t.addEditOperation(new D.Range(1,1,1,1),null):(t.addEditOperation(new D.Range(o,1,o,1),i.getLineContent(g)),t.addEditOperation(new D.Range(g,1,g,i.getLineMaxColumn(g)),null)),h=new L.Selection(g,1,g,1)}else{let o,g;if(this._isMovingDown){o=h.endLineNumber+1,g=i.getLineContent(o),t.addEditOperation(new D.Range(o-1,i.getLineMaxColumn(o-1),o,i.getLineMaxColumn(o)),null);let c=g;if(this.shouldAutoIndent(i,h)){const f=this.matchEnterRule(i,r,v,o,h.startLineNumber-1);if(f!==null){const S=m.getLeadingWhitespace(i.getLineContent(o)),I=f+w.getSpaceCnt(S,v);c=w.generateIndent(I,v,d)+this.trimStart(g)}else{l.getLineContent=I=>I===h.startLineNumber?i.getLineContent(o):i.getLineContent(I);const S=(0,C.getGoodIndentForLine)(this._autoIndent,l,i.getLanguageIdAtPosition(o,1),h.startLineNumber,r,this._languageConfigurationService);if(S!==null){const I=m.getLeadingWhitespace(i.getLineContent(o)),E=w.getSpaceCnt(S,v),T=w.getSpaceCnt(I,v);E!==T&&(c=w.generateIndent(E,v,d)+this.trimStart(g))}}t.addEditOperation(new D.Range(h.startLineNumber,1,h.startLineNumber,1),c+`
`);const _=this.matchEnterRuleMovingDown(i,r,v,h.startLineNumber,o,c);if(_!==null)_!==0&&this.getIndentEditsOfMovingBlock(i,t,h,v,d,_);else{l.getLineContent=I=>I===h.startLineNumber?c:I>=h.startLineNumber+1&&I<=h.endLineNumber+1?i.getLineContent(I-1):i.getLineContent(I);const S=(0,C.getGoodIndentForLine)(this._autoIndent,l,i.getLanguageIdAtPosition(o,1),h.startLineNumber+1,r,this._languageConfigurationService);if(S!==null){const I=m.getLeadingWhitespace(i.getLineContent(h.startLineNumber)),E=w.getSpaceCnt(S,v),T=w.getSpaceCnt(I,v);if(E!==T){const N=E-T;this.getIndentEditsOfMovingBlock(i,t,h,v,d,N)}}}}else t.addEditOperation(new D.Range(h.startLineNumber,1,h.startLineNumber,1),c+`
`)}else if(o=h.startLineNumber-1,g=i.getLineContent(o),t.addEditOperation(new D.Range(o,1,o+1,1),null),t.addEditOperation(new D.Range(h.endLineNumber,i.getLineMaxColumn(h.endLineNumber),h.endLineNumber,i.getLineMaxColumn(h.endLineNumber)),`
`+g),this.shouldAutoIndent(i,h)){l.getLineContent=f=>f===o?i.getLineContent(h.startLineNumber):i.getLineContent(f);const c=this.matchEnterRule(i,r,v,h.startLineNumber,h.startLineNumber-2);if(c!==null)c!==0&&this.getIndentEditsOfMovingBlock(i,t,h,v,d,c);else{const f=(0,C.getGoodIndentForLine)(this._autoIndent,l,i.getLanguageIdAtPosition(h.startLineNumber,1),o,r,this._languageConfigurationService);if(f!==null){const _=m.getLeadingWhitespace(i.getLineContent(h.startLineNumber)),S=w.getSpaceCnt(f,v),I=w.getSpaceCnt(_,v);if(S!==I){const E=S-I;this.getIndentEditsOfMovingBlock(i,t,h,v,d,E)}}}}}this._selectionId=t.trackSelection(h)}buildIndentConverter(i,t,n){return{shiftIndent:h=>k.ShiftCommand.shiftIndent(h,h.length+1,i,t,n),unshiftIndent:h=>k.ShiftCommand.unshiftIndent(h,h.length+1,i,t,n)}}parseEnterResult(i,t,n,h,v){if(v){let u=v.indentation;v.indentAction===y.IndentAction.None||v.indentAction===y.IndentAction.Indent?u=v.indentation+v.appendText:v.indentAction===y.IndentAction.IndentOutdent?u=v.indentation:v.indentAction===y.IndentAction.Outdent&&(u=t.unshiftIndent(v.indentation)+v.appendText);const d=i.getLineContent(h);if(this.trimStart(d).indexOf(this.trimStart(u))>=0){const r=m.getLeadingWhitespace(i.getLineContent(h));let l=m.getLeadingWhitespace(u);const o=(0,C.getIndentMetadata)(i,h,this._languageConfigurationService);o!==null&&o&2&&(l=t.unshiftIndent(l));const g=w.getSpaceCnt(l,n),c=w.getSpaceCnt(r,n);return g-c}}return null}matchEnterRuleMovingDown(i,t,n,h,v,u){if(m.lastNonWhitespaceIndex(u)>=0){const d=i.getLineMaxColumn(v),r=(0,b.getEnterAction)(this._autoIndent,i,new D.Range(v,d,v,d),this._languageConfigurationService);return this.parseEnterResult(i,t,n,h,r)}else{let d=h-1;for(;d>=1;){const o=i.getLineContent(d);if(m.lastNonWhitespaceIndex(o)>=0)break;d--}if(d<1||h>i.getLineCount())return null;const r=i.getLineMaxColumn(d),l=(0,b.getEnterAction)(this._autoIndent,i,new D.Range(d,r,d,r),this._languageConfigurationService);return this.parseEnterResult(i,t,n,h,l)}}matchEnterRule(i,t,n,h,v,u){let d=v;for(;d>=1;){let o;if(d===v&&u!==void 0?o=u:o=i.getLineContent(d),m.lastNonWhitespaceIndex(o)>=0)break;d--}if(d<1||h>i.getLineCount())return null;const r=i.getLineMaxColumn(d),l=(0,b.getEnterAction)(this._autoIndent,i,new D.Range(d,r,d,r),this._languageConfigurationService);return this.parseEnterResult(i,t,n,h,l)}trimStart(i){return i.replace(/^\s+/,"")}shouldAutoIndent(i,t){if(this._autoIndent<4||!i.tokenization.isCheapToTokenize(t.startLineNumber))return!1;const n=i.getLanguageIdAtPosition(t.startLineNumber,1),h=i.getLanguageIdAtPosition(t.endLineNumber,1);return!(n!==h||this._languageConfigurationService.getLanguageConfiguration(n).indentRulesSupport===null)}getIndentEditsOfMovingBlock(i,t,n,h,v,u){for(let d=n.startLineNumber;d<=n.endLineNumber;d++){const r=i.getLineContent(d),l=m.getLeadingWhitespace(r),g=w.getSpaceCnt(l,h)+u,c=w.generateIndent(g,h,v);c!==l&&(t.addEditOperation(new D.Range(d,1,d,l.length+1),c),d===n.endLineNumber&&n.endColumn<=l.length+1&&c===""&&(this._moveEndLineSelectionShrink=!0))}}computeCursorState(i,t){let n=t.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(n=n.setEndPosition(n.endLineNumber+1,1)),this._moveEndLineSelectionShrink&&n.startLineNumber<n.endLineNumber&&(n=n.setEndPosition(n.endLineNumber,2)),n}};e.MoveLinesCommand=a,e.MoveLinesCommand=a=Ie([he(3,p.ILanguageConfigurationService)],a)}),define(te[374],ie([1,0,6,79,26,30,7,57,2,114,241,748,8]),function(J,e,m,k,D,L,y,p,w,C,b,a,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestDetailsOverlay=e.SuggestDetailsWidget=void 0,e.canExpandCompletionItem=i;function i(h){return!!h&&!!(h.completion.documentation||h.completion.detail&&h.completion.detail!==h.completion.label)}let t=class{constructor(v,u){this._editor=v,this._onDidClose=new y.Emitter,this.onDidClose=this._onDidClose.event,this._onDidChangeContents=new y.Emitter,this.onDidChangeContents=this._onDidChangeContents.event,this._disposables=new w.DisposableStore,this._renderDisposeable=new w.DisposableStore,this._borderWidth=1,this._size=new m.Dimension(330,0),this.domNode=m.$(".suggest-details"),this.domNode.classList.add("no-docs"),this._markdownRenderer=u.createInstance(C.MarkdownRenderer,{editor:v}),this._body=m.$(".body"),this._scrollbar=new k.DomScrollableElement(this._body,{alwaysConsumeMouseWheel:!0}),m.append(this.domNode,this._scrollbar.getDomNode()),this._disposables.add(this._scrollbar),this._header=m.append(this._body,m.$(".header")),this._close=m.append(this._header,m.$("span"+L.ThemeIcon.asCSSSelector(D.Codicon.close))),this._close.title=a.localize(0,null),this._type=m.append(this._header,m.$("p.type")),this._docs=m.append(this._body,m.$("p.docs")),this._configureFont(),this._disposables.add(this._editor.onDidChangeConfiguration(d=>{d.hasChanged(50)&&this._configureFont()}))}dispose(){this._disposables.dispose(),this._renderDisposeable.dispose()}_configureFont(){const v=this._editor.getOptions(),u=v.get(50),d=u.getMassagedFontFamily(),r=v.get(119)||u.fontSize,l=v.get(120)||u.lineHeight,o=u.fontWeight,g=`${r}px`,c=`${l}px`;this.domNode.style.fontSize=g,this.domNode.style.lineHeight=`${l/r}`,this.domNode.style.fontWeight=o,this.domNode.style.fontFeatureSettings=u.fontFeatureSettings,this._type.style.fontFamily=d,this._close.style.height=c,this._close.style.width=c}getLayoutInfo(){const v=this._editor.getOption(120)||this._editor.getOption(50).lineHeight,u=this._borderWidth,d=u*2;return{lineHeight:v,borderWidth:u,borderHeight:d,verticalPadding:22,horizontalPadding:14}}renderLoading(){this._type.textContent=a.localize(1,null),this._docs.textContent="",this.domNode.classList.remove("no-docs","no-type"),this.layout(this.size.width,this.getLayoutInfo().lineHeight*2),this._onDidChangeContents.fire(this)}renderItem(v,u){var d,r;this._renderDisposeable.clear();let{detail:l,documentation:o}=v.completion;if(u){let g="";g+=`score: ${v.score[0]}
`,g+=`prefix: ${(d=v.word)!==null&&d!==void 0?d:"(no prefix)"}
`,g+=`word: ${v.completion.filterText?v.completion.filterText+" (filterText)":v.textLabel}
`,g+=`distance: ${v.distance} (localityBonus-setting)
`,g+=`index: ${v.idx}, based on ${v.completion.sortText&&`sortText: "${v.completion.sortText}"`||"label"}
`,g+=`commit_chars: ${(r=v.completion.commitCharacters)===null||r===void 0?void 0:r.join("")}
`,o=new p.MarkdownString().appendCodeblock("empty",g),l=`Provider: ${v.provider._debugDisplayName}`}if(!u&&!i(v)){this.clearContents();return}if(this.domNode.classList.remove("no-docs","no-type"),l){const g=l.length>1e5?`${l.substr(0,1e5)}\u2026`:l;this._type.textContent=g,this._type.title=g,m.show(this._type),this._type.classList.toggle("auto-wrap",!/\r?\n^\s+/gmi.test(g))}else m.clearNode(this._type),this._type.title="",m.hide(this._type),this.domNode.classList.add("no-type");if(m.clearNode(this._docs),typeof o=="string")this._docs.classList.remove("markdown-docs"),this._docs.textContent=o;else if(o){this._docs.classList.add("markdown-docs"),m.clearNode(this._docs);const g=this._markdownRenderer.render(o);this._docs.appendChild(g.element),this._renderDisposeable.add(g),this._renderDisposeable.add(this._markdownRenderer.onDidRenderAsync(()=>{this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}))}this.domNode.style.userSelect="text",this.domNode.tabIndex=-1,this._close.onmousedown=g=>{g.preventDefault(),g.stopPropagation()},this._close.onclick=g=>{g.preventDefault(),g.stopPropagation(),this._onDidClose.fire()},this._body.scrollTop=0,this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}clearContents(){this.domNode.classList.add("no-docs"),this._type.textContent="",this._docs.textContent=""}get isEmpty(){return this.domNode.classList.contains("no-docs")}get size(){return this._size}layout(v,u){const d=new m.Dimension(v,u);m.Dimension.equals(d,this._size)||(this._size=d,m.size(this.domNode,v,u)),this._scrollbar.scanDomNode()}scrollDown(v=8){this._body.scrollTop+=v}scrollUp(v=8){this._body.scrollTop-=v}scrollTop(){this._body.scrollTop=0}scrollBottom(){this._body.scrollTop=this._body.scrollHeight}pageDown(){this.scrollDown(80)}pageUp(){this.scrollUp(80)}set borderWidth(v){this._borderWidth=v}get borderWidth(){return this._borderWidth}};e.SuggestDetailsWidget=t,e.SuggestDetailsWidget=t=Ie([he(1,s.IInstantiationService)],t);class n{constructor(v,u){this.widget=v,this._editor=u,this.allowEditorOverflow=!0,this._disposables=new w.DisposableStore,this._added=!1,this._preferAlignAtTop=!0,this._resizable=new b.ResizableHTMLElement,this._resizable.domNode.classList.add("suggest-details-container"),this._resizable.domNode.appendChild(v.domNode),this._resizable.enableSashes(!1,!0,!0,!1);let d,r,l=0,o=0;this._disposables.add(this._resizable.onDidWillResize(()=>{d=this._topLeft,r=this._resizable.size})),this._disposables.add(this._resizable.onDidResize(g=>{if(d&&r){this.widget.layout(g.dimension.width,g.dimension.height);let c=!1;g.west&&(o=r.width-g.dimension.width,c=!0),g.north&&(l=r.height-g.dimension.height,c=!0),c&&this._applyTopLeft({top:d.top+l,left:d.left+o})}g.done&&(d=void 0,r=void 0,l=0,o=0,this._userSize=g.dimension)})),this._disposables.add(this.widget.onDidChangeContents(()=>{var g;this._anchorBox&&this._placeAtAnchor(this._anchorBox,(g=this._userSize)!==null&&g!==void 0?g:this.widget.size,this._preferAlignAtTop)}))}dispose(){this._resizable.dispose(),this._disposables.dispose(),this.hide()}getId(){return"suggest.details"}getDomNode(){return this._resizable.domNode}getPosition(){return this._topLeft?{preference:this._topLeft}:null}show(){this._added||(this._editor.addOverlayWidget(this),this._added=!0)}hide(v=!1){this._resizable.clearSashHoverState(),this._added&&(this._editor.removeOverlayWidget(this),this._added=!1,this._anchorBox=void 0,this._topLeft=void 0),v&&(this._userSize=void 0,this.widget.clearContents())}placeAtAnchor(v,u){var d;const r=v.getBoundingClientRect();this._anchorBox=r,this._preferAlignAtTop=u,this._placeAtAnchor(this._anchorBox,(d=this._userSize)!==null&&d!==void 0?d:this.widget.size,u)}_placeAtAnchor(v,u,d){var r;const l=m.getClientArea(this.getDomNode().ownerDocument.body),o=this.widget.getLayoutInfo(),g=new m.Dimension(220,2*o.lineHeight),c=v.top,f=function(){const B=l.width-(v.left+v.width+o.borderWidth+o.horizontalPadding),H=-o.borderWidth+v.left+v.width,V=new m.Dimension(B,l.height-v.top-o.borderHeight-o.verticalPadding),q=V.with(void 0,v.top+v.height-o.borderHeight-o.verticalPadding);return{top:c,left:H,fit:B-u.width,maxSizeTop:V,maxSizeBottom:q,minSize:g.with(Math.min(B,g.width))}}(),_=function(){const B=v.left-o.borderWidth-o.horizontalPadding,H=Math.max(o.horizontalPadding,v.left-u.width-o.borderWidth),V=new m.Dimension(B,l.height-v.top-o.borderHeight-o.verticalPadding),q=V.with(void 0,v.top+v.height-o.borderHeight-o.verticalPadding);return{top:c,left:H,fit:B-u.width,maxSizeTop:V,maxSizeBottom:q,minSize:g.with(Math.min(B,g.width))}}(),S=function(){const B=v.left,H=-o.borderWidth+v.top+v.height,V=new m.Dimension(v.width-o.borderHeight,l.height-v.top-v.height-o.verticalPadding);return{top:H,left:B,fit:V.height-u.height,maxSizeBottom:V,maxSizeTop:V,minSize:g.with(V.width)}}(),I=[f,_,S],E=(r=I.find(B=>B.fit>=0))!==null&&r!==void 0?r:I.sort((B,H)=>H.fit-B.fit)[0],T=v.top+v.height-o.borderHeight;let N,A=u.height;const O=Math.max(E.maxSizeTop.height,E.maxSizeBottom.height);A>O&&(A=O);let M;d?A<=E.maxSizeTop.height?(N=!0,M=E.maxSizeTop):(N=!1,M=E.maxSizeBottom):A<=E.maxSizeBottom.height?(N=!1,M=E.maxSizeBottom):(N=!0,M=E.maxSizeTop);let{top:P,left:x}=E;!N&&A>v.height&&(P=T-A);const R=this._editor.getDomNode();if(R){const B=R.getBoundingClientRect();P-=B.top,x-=B.left}this._applyTopLeft({left:x,top:P}),this._resizable.enableSashes(!N,E===f,N,E!==f),this._resizable.minSize=E.minSize,this._resizable.maxSize=M,this._resizable.layout(A,Math.min(M.width,u.width)),this.widget.layout(this._resizable.size.width,this._resizable.size.height)}_applyTopLeft(v){this._topLeft=v,this._editor.layoutOverlayWidget(this)}}e.SuggestDetailsOverlay=n}),define(te[375],ie([1,0,13,47,55,21,22,25,105,39]),function(J,e,m,k,D,L,y,p,w,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ConfigurationChangeEvent=e.Configuration=e.ConfigurationModelParser=e.ConfigurationModel=void 0;function b(h){return Object.isFrozen(h)?h:D.deepFreeze(h)}class a{constructor(v={},u=[],d=[],r){this._contents=v,this._keys=u,this._overrides=d,this.raw=r,this.overrideConfigurations=new Map}get rawConfiguration(){var v;if(!this._rawConfiguration)if(!((v=this.raw)===null||v===void 0)&&v.length){const u=this.raw.map(d=>{if(d instanceof a)return d;const r=new s("");return r.parseRaw(d),r.configurationModel});this._rawConfiguration=u.reduce((d,r)=>r===d?r:d.merge(r),u[0])}else this._rawConfiguration=this;return this._rawConfiguration}get contents(){return this._contents}get overrides(){return this._overrides}get keys(){return this._keys}isEmpty(){return this._keys.length===0&&Object.keys(this._contents).length===0&&this._overrides.length===0}getValue(v){return v?(0,p.getConfigurationValue)(this.contents,v):this.contents}inspect(v,u){const d=this;return{get value(){return b(d.rawConfiguration.getValue(v))},get override(){return u?b(d.rawConfiguration.getOverrideValue(v,u)):void 0},get merged(){return b(u?d.rawConfiguration.override(u).getValue(v):d.rawConfiguration.getValue(v))},get overrides(){const r=[];for(const{contents:l,identifiers:o,keys:g}of d.rawConfiguration.overrides){const c=new a(l,g).getValue(v);c!==void 0&&r.push({identifiers:o,value:c})}return r.length?b(r):void 0}}}getOverrideValue(v,u){const d=this.getContentsForOverrideIdentifer(u);return d?v?(0,p.getConfigurationValue)(d,v):d:void 0}override(v){let u=this.overrideConfigurations.get(v);return u||(u=this.createOverrideConfigurationModel(v),this.overrideConfigurations.set(v,u)),u}merge(...v){var u,d;const r=D.deepClone(this.contents),l=D.deepClone(this.overrides),o=[...this.keys],g=!((u=this.raw)===null||u===void 0)&&u.length?[...this.raw]:[this];for(const c of v)if(g.push(...!((d=c.raw)===null||d===void 0)&&d.length?c.raw:[c]),!c.isEmpty()){this.mergeContents(r,c.contents);for(const f of c.overrides){const[_]=l.filter(S=>m.equals(S.identifiers,f.identifiers));_?(this.mergeContents(_.contents,f.contents),_.keys.push(...f.keys),_.keys=m.distinct(_.keys)):l.push(D.deepClone(f))}for(const f of c.keys)o.indexOf(f)===-1&&o.push(f)}return new a(r,o,l,g.every(c=>c instanceof a)?void 0:g)}createOverrideConfigurationModel(v){const u=this.getContentsForOverrideIdentifer(v);if(!u||typeof u!="object"||!Object.keys(u).length)return this;const d={};for(const r of m.distinct([...Object.keys(this.contents),...Object.keys(u)])){let l=this.contents[r];const o=u[r];o&&(typeof l=="object"&&typeof o=="object"?(l=D.deepClone(l),this.mergeContents(l,o)):l=o),d[r]=l}return new a(d,this.keys,this.overrides)}mergeContents(v,u){for(const d of Object.keys(u)){if(d in v&&L.isObject(v[d])&&L.isObject(u[d])){this.mergeContents(v[d],u[d]);continue}v[d]=D.deepClone(u[d])}}getContentsForOverrideIdentifer(v){let u=null,d=null;const r=l=>{l&&(d?this.mergeContents(d,l):d=D.deepClone(l))};for(const l of this.overrides)l.identifiers.length===1&&l.identifiers[0]===v?u=l.contents:l.identifiers.includes(v)&&r(l.contents);return r(u),d}toJSON(){return{contents:this.contents,overrides:this.overrides,keys:this.keys}}addValue(v,u){this.updateValue(v,u,!0)}setValue(v,u){this.updateValue(v,u,!1)}removeValue(v){const u=this.keys.indexOf(v);u!==-1&&(this.keys.splice(u,1),(0,p.removeFromValueTree)(this.contents,v),w.OVERRIDE_PROPERTY_REGEX.test(v)&&this.overrides.splice(this.overrides.findIndex(d=>m.equals(d.identifiers,(0,w.overrideIdentifiersFromKey)(v))),1))}updateValue(v,u,d){(0,p.addToValueTree)(this.contents,v,u,r=>console.error(r)),d=d||this.keys.indexOf(v)===-1,d&&this.keys.push(v),w.OVERRIDE_PROPERTY_REGEX.test(v)&&this.overrides.push({identifiers:(0,w.overrideIdentifiersFromKey)(v),keys:Object.keys(this.contents[v]),contents:(0,p.toValuesTree)(this.contents[v],r=>console.error(r))})}}e.ConfigurationModel=a;class s{constructor(v){this._name=v,this._raw=null,this._configurationModel=null,this._restrictedConfigurations=[]}get configurationModel(){return this._configurationModel||new a}parseRaw(v,u){this._raw=v;const{contents:d,keys:r,overrides:l,restricted:o,hasExcludedProperties:g}=this.doParseRaw(v,u);this._configurationModel=new a(d,r,l,g?[v]:void 0),this._restrictedConfigurations=o||[]}doParseRaw(v,u){const d=C.Registry.as(w.Extensions.Configuration).getConfigurationProperties(),r=this.filter(v,d,!0,u);v=r.raw;const l=(0,p.toValuesTree)(v,c=>console.error(`Conflict in settings file ${this._name}: ${c}`)),o=Object.keys(v),g=this.toOverrides(v,c=>console.error(`Conflict in settings file ${this._name}: ${c}`));return{contents:l,keys:o,overrides:g,restricted:r.restricted,hasExcludedProperties:r.hasExcludedProperties}}filter(v,u,d,r){var l,o,g;let c=!1;if(!r?.scopes&&!r?.skipRestricted&&!(!((l=r?.exclude)===null||l===void 0)&&l.length))return{raw:v,restricted:[],hasExcludedProperties:c};const f={},_=[];for(const S in v)if(w.OVERRIDE_PROPERTY_REGEX.test(S)&&d){const I=this.filter(v[S],u,!1,r);f[S]=I.raw,c=c||I.hasExcludedProperties,_.push(...I.restricted)}else{const I=u[S],E=I?typeof I.scope<"u"?I.scope:3:void 0;I?.restricted&&_.push(S),!(!((o=r.exclude)===null||o===void 0)&&o.includes(S))&&(!((g=r.include)===null||g===void 0)&&g.includes(S)||(E===void 0||r.scopes===void 0||r.scopes.includes(E))&&!(r.skipRestricted&&I?.restricted))?f[S]=v[S]:c=!0}return{raw:f,restricted:_,hasExcludedProperties:c}}toOverrides(v,u){const d=[];for(const r of Object.keys(v))if(w.OVERRIDE_PROPERTY_REGEX.test(r)){const l={};for(const o in v[r])l[o]=v[r][o];d.push({identifiers:(0,w.overrideIdentifiersFromKey)(r),keys:Object.keys(l),contents:(0,p.toValuesTree)(l,u)})}return d}}e.ConfigurationModelParser=s;class i{constructor(v,u,d,r,l,o,g,c,f,_,S,I,E){this.key=v,this.overrides=u,this._value=d,this.overrideIdentifiers=r,this.defaultConfiguration=l,this.policyConfiguration=o,this.applicationConfiguration=g,this.userConfiguration=c,this.localUserConfiguration=f,this.remoteUserConfiguration=_,this.workspaceConfiguration=S,this.folderConfigurationModel=I,this.memoryConfigurationModel=E}toInspectValue(v){return v?.value!==void 0||v?.override!==void 0||v?.overrides!==void 0?v:void 0}get userInspectValue(){return this._userInspectValue||(this._userInspectValue=this.userConfiguration.inspect(this.key,this.overrides.overrideIdentifier)),this._userInspectValue}get user(){return this.toInspectValue(this.userInspectValue)}}class t{constructor(v,u,d,r,l=new a,o=new a,g=new k.ResourceMap,c=new a,f=new k.ResourceMap){this._defaultConfiguration=v,this._policyConfiguration=u,this._applicationConfiguration=d,this._localUserConfiguration=r,this._remoteUserConfiguration=l,this._workspaceConfiguration=o,this._folderConfigurations=g,this._memoryConfiguration=c,this._memoryConfigurationByResource=f,this._workspaceConsolidatedConfiguration=null,this._foldersConsolidatedConfigurations=new k.ResourceMap,this._userConfiguration=null}getValue(v,u,d){return this.getConsolidatedConfigurationModel(v,u,d).getValue(v)}updateValue(v,u,d={}){let r;d.resource?(r=this._memoryConfigurationByResource.get(d.resource),r||(r=new a,this._memoryConfigurationByResource.set(d.resource,r))):r=this._memoryConfiguration,u===void 0?r.removeValue(v):r.setValue(v,u),d.resource||(this._workspaceConsolidatedConfiguration=null)}inspect(v,u,d){const r=this.getConsolidatedConfigurationModel(v,u,d),l=this.getFolderConfigurationModelForResource(u.resource,d),o=u.resource?this._memoryConfigurationByResource.get(u.resource)||this._memoryConfiguration:this._memoryConfiguration,g=new Set;for(const c of r.overrides)for(const f of c.identifiers)r.getOverrideValue(v,f)!==void 0&&g.add(f);return new i(v,u,r.getValue(v),g.size?[...g]:void 0,this._defaultConfiguration,this._policyConfiguration.isEmpty()?void 0:this._policyConfiguration,this.applicationConfiguration.isEmpty()?void 0:this.applicationConfiguration,this.userConfiguration,this.localUserConfiguration,this.remoteUserConfiguration,d?this._workspaceConfiguration:void 0,l||void 0,o)}get applicationConfiguration(){return this._applicationConfiguration}get userConfiguration(){return this._userConfiguration||(this._userConfiguration=this._remoteUserConfiguration.isEmpty()?this._localUserConfiguration:this._localUserConfiguration.merge(this._remoteUserConfiguration)),this._userConfiguration}get localUserConfiguration(){return this._localUserConfiguration}get remoteUserConfiguration(){return this._remoteUserConfiguration}getConsolidatedConfigurationModel(v,u,d){let r=this.getConsolidatedConfigurationModelForResource(u,d);return u.overrideIdentifier&&(r=r.override(u.overrideIdentifier)),!this._policyConfiguration.isEmpty()&&this._policyConfiguration.getValue(v)!==void 0&&(r=r.merge(this._policyConfiguration)),r}getConsolidatedConfigurationModelForResource({resource:v},u){let d=this.getWorkspaceConsolidatedConfiguration();if(u&&v){const r=u.getFolder(v);r&&(d=this.getFolderConsolidatedConfiguration(r.uri)||d);const l=this._memoryConfigurationByResource.get(v);l&&(d=d.merge(l))}return d}getWorkspaceConsolidatedConfiguration(){return this._workspaceConsolidatedConfiguration||(this._workspaceConsolidatedConfiguration=this._defaultConfiguration.merge(this.applicationConfiguration,this.userConfiguration,this._workspaceConfiguration,this._memoryConfiguration)),this._workspaceConsolidatedConfiguration}getFolderConsolidatedConfiguration(v){let u=this._foldersConsolidatedConfigurations.get(v);if(!u){const d=this.getWorkspaceConsolidatedConfiguration(),r=this._folderConfigurations.get(v);r?(u=d.merge(r),this._foldersConsolidatedConfigurations.set(v,u)):u=d}return u}getFolderConfigurationModelForResource(v,u){if(u&&v){const d=u.getFolder(v);if(d)return this._folderConfigurations.get(d.uri)}}toData(){return{defaults:{contents:this._defaultConfiguration.contents,overrides:this._defaultConfiguration.overrides,keys:this._defaultConfiguration.keys},policy:{contents:this._policyConfiguration.contents,overrides:this._policyConfiguration.overrides,keys:this._policyConfiguration.keys},application:{contents:this.applicationConfiguration.contents,overrides:this.applicationConfiguration.overrides,keys:this.applicationConfiguration.keys},user:{contents:this.userConfiguration.contents,overrides:this.userConfiguration.overrides,keys:this.userConfiguration.keys},workspace:{contents:this._workspaceConfiguration.contents,overrides:this._workspaceConfiguration.overrides,keys:this._workspaceConfiguration.keys},folders:[...this._folderConfigurations.keys()].reduce((v,u)=>{const{contents:d,overrides:r,keys:l}=this._folderConfigurations.get(u);return v.push([u,{contents:d,overrides:r,keys:l}]),v},[])}}static parse(v){const u=this.parseConfigurationModel(v.defaults),d=this.parseConfigurationModel(v.policy),r=this.parseConfigurationModel(v.application),l=this.parseConfigurationModel(v.user),o=this.parseConfigurationModel(v.workspace),g=v.folders.reduce((c,f)=>(c.set(y.URI.revive(f[0]),this.parseConfigurationModel(f[1])),c),new k.ResourceMap);return new t(u,d,r,l,new a,o,g,new a,new k.ResourceMap)}static parseConfigurationModel(v){return new a(v.contents,v.keys,v.overrides)}}e.Configuration=t;class n{constructor(v,u,d,r){this.change=v,this.previous=u,this.currentConfiguraiton=d,this.currentWorkspace=r,this._marker=`
`,this._markerCode1=this._marker.charCodeAt(0),this._markerCode2=46,this.affectedKeys=new Set,this._previousConfiguration=void 0;for(const l of v.keys)this.affectedKeys.add(l);for(const[,l]of v.overrides)for(const o of l)this.affectedKeys.add(o);this._affectsConfigStr=this._marker;for(const l of this.affectedKeys)this._affectsConfigStr+=l+this._marker}get previousConfiguration(){return!this._previousConfiguration&&this.previous&&(this._previousConfiguration=t.parse(this.previous.data)),this._previousConfiguration}affectsConfiguration(v,u){var d;const r=this._marker+v,l=this._affectsConfigStr.indexOf(r);if(l<0)return!1;const o=l+r.length;if(o>=this._affectsConfigStr.length)return!1;const g=this._affectsConfigStr.charCodeAt(o);if(g!==this._markerCode1&&g!==this._markerCode2)return!1;if(u){const c=this.previousConfiguration?this.previousConfiguration.getValue(v,u,(d=this.previous)===null||d===void 0?void 0:d.workspace):void 0,f=this.currentConfiguraiton.getValue(v,u,this.currentWorkspace);return!D.equals(c,f)}return!0}}e.ConfigurationChangeEvent=n}),define(te[836],ie([1,0,2,375,105,39]),function(J,e,m,k,D,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultConfiguration=void 0;class y extends m.Disposable{constructor(){super(...arguments),this._configurationModel=new k.ConfigurationModel}get configurationModel(){return this._configurationModel}reload(){return this.resetConfigurationModel(),this.configurationModel}getConfigurationDefaultOverrides(){return{}}resetConfigurationModel(){this._configurationModel=new k.ConfigurationModel;const w=L.Registry.as(D.Extensions.Configuration).getConfigurationProperties();this.updateConfigurationModel(Object.keys(w),w)}updateConfigurationModel(w,C){const b=this.getConfigurationDefaultOverrides();for(const a of w){const s=b[a],i=C[a];s!==void 0?this._configurationModel.addValue(a,s):i?this._configurationModel.addValue(a,i.default):this._configurationModel.removeValue(a)}}}e.DefaultConfiguration=y}),define(te[131],ie([1,0,133,17,27,39,2,69]),function(J,e,m,k,D,L,y,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Extensions=e.KeybindingsRegistry=void 0;class w{constructor(){this._coreKeybindings=new p.LinkedList,this._extensionKeybindings=[],this._cachedMergedKeybindings=null}static bindToCurrentPlatform(a){if(k.OS===1){if(a&&a.win)return a.win}else if(k.OS===2){if(a&&a.mac)return a.mac}else if(a&&a.linux)return a.linux;return a}registerKeybindingRule(a){const s=w.bindToCurrentPlatform(a),i=new y.DisposableStore;if(s&&s.primary){const t=(0,m.decodeKeybinding)(s.primary,k.OS);t&&i.add(this._registerDefaultKeybinding(t,a.id,a.args,a.weight,0,a.when))}if(s&&Array.isArray(s.secondary))for(let t=0,n=s.secondary.length;t<n;t++){const h=s.secondary[t],v=(0,m.decodeKeybinding)(h,k.OS);v&&i.add(this._registerDefaultKeybinding(v,a.id,a.args,a.weight,-t-1,a.when))}return i}registerCommandAndKeybindingRule(a){return(0,y.combinedDisposable)(this.registerKeybindingRule(a),D.CommandsRegistry.registerCommand(a))}_registerDefaultKeybinding(a,s,i,t,n,h){const v=this._coreKeybindings.push({keybinding:a,command:s,commandArgs:i,when:h,weight1:t,weight2:n,extensionId:null,isBuiltinExtension:!1});return this._cachedMergedKeybindings=null,(0,y.toDisposable)(()=>{v(),this._cachedMergedKeybindings=null})}getDefaultKeybindings(){return this._cachedMergedKeybindings||(this._cachedMergedKeybindings=Array.from(this._coreKeybindings).concat(this._extensionKeybindings),this._cachedMergedKeybindings.sort(C)),this._cachedMergedKeybindings.slice(0)}}e.KeybindingsRegistry=new w,e.Extensions={EditorModes:"platform.keybindingsRegistry"},L.Registry.add(e.Extensions.EditorModes,e.KeybindingsRegistry);function C(b,a){if(b.weight1!==a.weight1)return b.weight1-a.weight1;if(b.command&&a.command){if(b.command<a.command)return-1;if(b.command>a.command)return 1}return b.weight2-a.weight2}}),define(te[28],ie([1,0,41,30,7,2,69,27,14,8,131]),function(J,e,m,k,D,L,y,p,w,C,b){"use strict";var a;Object.defineProperty(e,"__esModule",{value:!0}),e.Action2=e.MenuItemAction=e.SubmenuItemAction=e.MenuRegistry=e.IMenuService=e.MenuId=void 0,e.isIMenuItem=s,e.isISubmenuItem=i,e.registerAction2=d;function s(r){return r.command!==void 0}function i(r){return r.submenu!==void 0}class t{constructor(l){if(t._instances.has(l))throw new TypeError(`MenuId with identifier '${l}' already exists. Use MenuId.for(ident) or a unique identifier`);t._instances.set(l,this),this.id=l}}e.MenuId=t,t._instances=new Map,t.CommandPalette=new t("CommandPalette"),t.DebugBreakpointsContext=new t("DebugBreakpointsContext"),t.DebugCallStackContext=new t("DebugCallStackContext"),t.DebugConsoleContext=new t("DebugConsoleContext"),t.DebugVariablesContext=new t("DebugVariablesContext"),t.NotebookVariablesContext=new t("NotebookVariablesContext"),t.DebugHoverContext=new t("DebugHoverContext"),t.DebugWatchContext=new t("DebugWatchContext"),t.DebugToolBar=new t("DebugToolBar"),t.DebugToolBarStop=new t("DebugToolBarStop"),t.EditorContext=new t("EditorContext"),t.SimpleEditorContext=new t("SimpleEditorContext"),t.EditorContent=new t("EditorContent"),t.EditorLineNumberContext=new t("EditorLineNumberContext"),t.EditorContextCopy=new t("EditorContextCopy"),t.EditorContextPeek=new t("EditorContextPeek"),t.EditorContextShare=new t("EditorContextShare"),t.EditorTitle=new t("EditorTitle"),t.EditorTitleRun=new t("EditorTitleRun"),t.EditorTitleContext=new t("EditorTitleContext"),t.EditorTitleContextShare=new t("EditorTitleContextShare"),t.EmptyEditorGroup=new t("EmptyEditorGroup"),t.EmptyEditorGroupContext=new t("EmptyEditorGroupContext"),t.EditorTabsBarContext=new t("EditorTabsBarContext"),t.EditorTabsBarShowTabsSubmenu=new t("EditorTabsBarShowTabsSubmenu"),t.EditorTabsBarShowTabsZenModeSubmenu=new t("EditorTabsBarShowTabsZenModeSubmenu"),t.EditorActionsPositionSubmenu=new t("EditorActionsPositionSubmenu"),t.ExplorerContext=new t("ExplorerContext"),t.ExplorerContextShare=new t("ExplorerContextShare"),t.ExtensionContext=new t("ExtensionContext"),t.GlobalActivity=new t("GlobalActivity"),t.CommandCenter=new t("CommandCenter"),t.CommandCenterCenter=new t("CommandCenterCenter"),t.LayoutControlMenuSubmenu=new t("LayoutControlMenuSubmenu"),t.LayoutControlMenu=new t("LayoutControlMenu"),t.MenubarMainMenu=new t("MenubarMainMenu"),t.MenubarAppearanceMenu=new t("MenubarAppearanceMenu"),t.MenubarDebugMenu=new t("MenubarDebugMenu"),t.MenubarEditMenu=new t("MenubarEditMenu"),t.MenubarCopy=new t("MenubarCopy"),t.MenubarFileMenu=new t("MenubarFileMenu"),t.MenubarGoMenu=new t("MenubarGoMenu"),t.MenubarHelpMenu=new t("MenubarHelpMenu"),t.MenubarLayoutMenu=new t("MenubarLayoutMenu"),t.MenubarNewBreakpointMenu=new t("MenubarNewBreakpointMenu"),t.PanelAlignmentMenu=new t("PanelAlignmentMenu"),t.PanelPositionMenu=new t("PanelPositionMenu"),t.ActivityBarPositionMenu=new t("ActivityBarPositionMenu"),t.MenubarPreferencesMenu=new t("MenubarPreferencesMenu"),t.MenubarRecentMenu=new t("MenubarRecentMenu"),t.MenubarSelectionMenu=new t("MenubarSelectionMenu"),t.MenubarShare=new t("MenubarShare"),t.MenubarSwitchEditorMenu=new t("MenubarSwitchEditorMenu"),t.MenubarSwitchGroupMenu=new t("MenubarSwitchGroupMenu"),t.MenubarTerminalMenu=new t("MenubarTerminalMenu"),t.MenubarViewMenu=new t("MenubarViewMenu"),t.MenubarHomeMenu=new t("MenubarHomeMenu"),t.OpenEditorsContext=new t("OpenEditorsContext"),t.OpenEditorsContextShare=new t("OpenEditorsContextShare"),t.ProblemsPanelContext=new t("ProblemsPanelContext"),t.SCMInputBox=new t("SCMInputBox"),t.SCMChangesSeparator=new t("SCMChangesSeparator"),t.SCMIncomingChanges=new t("SCMIncomingChanges"),t.SCMIncomingChangesContext=new t("SCMIncomingChangesContext"),t.SCMIncomingChangesSetting=new t("SCMIncomingChangesSetting"),t.SCMOutgoingChanges=new t("SCMOutgoingChanges"),t.SCMOutgoingChangesContext=new t("SCMOutgoingChangesContext"),t.SCMOutgoingChangesSetting=new t("SCMOutgoingChangesSetting"),t.SCMIncomingChangesAllChangesContext=new t("SCMIncomingChangesAllChangesContext"),t.SCMIncomingChangesHistoryItemContext=new t("SCMIncomingChangesHistoryItemContext"),t.SCMOutgoingChangesAllChangesContext=new t("SCMOutgoingChangesAllChangesContext"),t.SCMOutgoingChangesHistoryItemContext=new t("SCMOutgoingChangesHistoryItemContext"),t.SCMChangeContext=new t("SCMChangeContext"),t.SCMResourceContext=new t("SCMResourceContext"),t.SCMResourceContextShare=new t("SCMResourceContextShare"),t.SCMResourceFolderContext=new t("SCMResourceFolderContext"),t.SCMResourceGroupContext=new t("SCMResourceGroupContext"),t.SCMSourceControl=new t("SCMSourceControl"),t.SCMSourceControlInline=new t("SCMSourceControlInline"),t.SCMSourceControlTitle=new t("SCMSourceControlTitle"),t.SCMTitle=new t("SCMTitle"),t.SearchContext=new t("SearchContext"),t.SearchActionMenu=new t("SearchActionContext"),t.StatusBarWindowIndicatorMenu=new t("StatusBarWindowIndicatorMenu"),t.StatusBarRemoteIndicatorMenu=new t("StatusBarRemoteIndicatorMenu"),t.StickyScrollContext=new t("StickyScrollContext"),t.TestItem=new t("TestItem"),t.TestItemGutter=new t("TestItemGutter"),t.TestMessageContext=new t("TestMessageContext"),t.TestMessageContent=new t("TestMessageContent"),t.TestPeekElement=new t("TestPeekElement"),t.TestPeekTitle=new t("TestPeekTitle"),t.TouchBarContext=new t("TouchBarContext"),t.TitleBarContext=new t("TitleBarContext"),t.TitleBarTitleContext=new t("TitleBarTitleContext"),t.TunnelContext=new t("TunnelContext"),t.TunnelPrivacy=new t("TunnelPrivacy"),t.TunnelProtocol=new t("TunnelProtocol"),t.TunnelPortInline=new t("TunnelInline"),t.TunnelTitle=new t("TunnelTitle"),t.TunnelLocalAddressInline=new t("TunnelLocalAddressInline"),t.TunnelOriginInline=new t("TunnelOriginInline"),t.ViewItemContext=new t("ViewItemContext"),t.ViewContainerTitle=new t("ViewContainerTitle"),t.ViewContainerTitleContext=new t("ViewContainerTitleContext"),t.ViewTitle=new t("ViewTitle"),t.ViewTitleContext=new t("ViewTitleContext"),t.CommentEditorActions=new t("CommentEditorActions"),t.CommentThreadTitle=new t("CommentThreadTitle"),t.CommentThreadActions=new t("CommentThreadActions"),t.CommentThreadAdditionalActions=new t("CommentThreadAdditionalActions"),t.CommentThreadTitleContext=new t("CommentThreadTitleContext"),t.CommentThreadCommentContext=new t("CommentThreadCommentContext"),t.CommentTitle=new t("CommentTitle"),t.CommentActions=new t("CommentActions"),t.CommentsViewThreadActions=new t("CommentsViewThreadActions"),t.InteractiveToolbar=new t("InteractiveToolbar"),t.InteractiveCellTitle=new t("InteractiveCellTitle"),t.InteractiveCellDelete=new t("InteractiveCellDelete"),t.InteractiveCellExecute=new t("InteractiveCellExecute"),t.InteractiveInputExecute=new t("InteractiveInputExecute"),t.IssueReporter=new t("IssueReporter"),t.NotebookToolbar=new t("NotebookToolbar"),t.NotebookStickyScrollContext=new t("NotebookStickyScrollContext"),t.NotebookCellTitle=new t("NotebookCellTitle"),t.NotebookCellDelete=new t("NotebookCellDelete"),t.NotebookCellInsert=new t("NotebookCellInsert"),t.NotebookCellBetween=new t("NotebookCellBetween"),t.NotebookCellListTop=new t("NotebookCellTop"),t.NotebookCellExecute=new t("NotebookCellExecute"),t.NotebookCellExecuteGoTo=new t("NotebookCellExecuteGoTo"),t.NotebookCellExecutePrimary=new t("NotebookCellExecutePrimary"),t.NotebookDiffCellInputTitle=new t("NotebookDiffCellInputTitle"),t.NotebookDiffCellMetadataTitle=new t("NotebookDiffCellMetadataTitle"),t.NotebookDiffCellOutputsTitle=new t("NotebookDiffCellOutputsTitle"),t.NotebookOutputToolbar=new t("NotebookOutputToolbar"),t.NotebookOutlineFilter=new t("NotebookOutlineFilter"),t.NotebookOutlineActionMenu=new t("NotebookOutlineActionMenu"),t.NotebookEditorLayoutConfigure=new t("NotebookEditorLayoutConfigure"),t.NotebookKernelSource=new t("NotebookKernelSource"),t.BulkEditTitle=new t("BulkEditTitle"),t.BulkEditContext=new t("BulkEditContext"),t.TimelineItemContext=new t("TimelineItemContext"),t.TimelineTitle=new t("TimelineTitle"),t.TimelineTitleContext=new t("TimelineTitleContext"),t.TimelineFilterSubMenu=new t("TimelineFilterSubMenu"),t.AccountsContext=new t("AccountsContext"),t.SidebarTitle=new t("SidebarTitle"),t.PanelTitle=new t("PanelTitle"),t.AuxiliaryBarTitle=new t("AuxiliaryBarTitle"),t.AuxiliaryBarHeader=new t("AuxiliaryBarHeader"),t.TerminalInstanceContext=new t("TerminalInstanceContext"),t.TerminalEditorInstanceContext=new t("TerminalEditorInstanceContext"),t.TerminalNewDropdownContext=new t("TerminalNewDropdownContext"),t.TerminalTabContext=new t("TerminalTabContext"),t.TerminalTabEmptyAreaContext=new t("TerminalTabEmptyAreaContext"),t.TerminalStickyScrollContext=new t("TerminalStickyScrollContext"),t.WebviewContext=new t("WebviewContext"),t.InlineCompletionsActions=new t("InlineCompletionsActions"),t.InlineEditActions=new t("InlineEditActions"),t.NewFile=new t("NewFile"),t.MergeInput1Toolbar=new t("MergeToolbar1Toolbar"),t.MergeInput2Toolbar=new t("MergeToolbar2Toolbar"),t.MergeBaseToolbar=new t("MergeBaseToolbar"),t.MergeInputResultToolbar=new t("MergeToolbarResultToolbar"),t.InlineSuggestionToolbar=new t("InlineSuggestionToolbar"),t.InlineEditToolbar=new t("InlineEditToolbar"),t.ChatContext=new t("ChatContext"),t.ChatCodeBlock=new t("ChatCodeblock"),t.ChatMessageTitle=new t("ChatMessageTitle"),t.ChatExecute=new t("ChatExecute"),t.ChatInputSide=new t("ChatInputSide"),t.AccessibleView=new t("AccessibleView"),t.MultiDiffEditorFileToolbar=new t("MultiDiffEditorFileToolbar"),t.DiffEditorHunkToolbar=new t("DiffEditorHunkToolbar"),t.DiffEditorSelectionToolbar=new t("DiffEditorSelectionToolbar"),e.IMenuService=(0,C.createDecorator)("menuService");class n{static for(l){let o=this._all.get(l);return o||(o=new n(l),this._all.set(l,o)),o}static merge(l){const o=new Set;for(const g of l)g instanceof n&&o.add(g.id);return o}constructor(l){this.id=l,this.has=o=>o===l}}n._all=new Map,e.MenuRegistry=new class{constructor(){this._commands=new Map,this._menuItems=new Map,this._onDidChangeMenu=new D.MicrotaskEmitter({merge:n.merge}),this.onDidChangeMenu=this._onDidChangeMenu.event}addCommand(r){return this._commands.set(r.id,r),this._onDidChangeMenu.fire(n.for(t.CommandPalette)),(0,L.toDisposable)(()=>{this._commands.delete(r.id)&&this._onDidChangeMenu.fire(n.for(t.CommandPalette))})}getCommand(r){return this._commands.get(r)}getCommands(){const r=new Map;return this._commands.forEach((l,o)=>r.set(o,l)),r}appendMenuItem(r,l){let o=this._menuItems.get(r);o||(o=new y.LinkedList,this._menuItems.set(r,o));const g=o.push(l);return this._onDidChangeMenu.fire(n.for(r)),(0,L.toDisposable)(()=>{g(),this._onDidChangeMenu.fire(n.for(r))})}appendMenuItems(r){const l=new L.DisposableStore;for(const{id:o,item:g}of r)l.add(this.appendMenuItem(o,g));return l}getMenuItems(r){let l;return this._menuItems.has(r)?l=[...this._menuItems.get(r)]:l=[],r===t.CommandPalette&&this._appendImplicitItems(l),l}_appendImplicitItems(r){const l=new Set;for(const o of r)s(o)&&(l.add(o.command.id),o.alt&&l.add(o.alt.id));this._commands.forEach((o,g)=>{l.has(g)||r.push({command:o})})}};class h extends m.SubmenuAction{constructor(l,o,g){super(`submenuitem.${l.submenu.id}`,typeof l.title=="string"?l.title:l.title.value,g,"submenu"),this.item=l,this.hideActions=o}}e.SubmenuItemAction=h;let v=a=class{static label(l,o){return o?.renderShortTitle&&l.shortTitle?typeof l.shortTitle=="string"?l.shortTitle:l.shortTitle.value:typeof l.title=="string"?l.title:l.title.value}constructor(l,o,g,c,f,_){var S,I;this.hideActions=c,this._commandService=_,this.id=l.id,this.label=a.label(l,g),this.tooltip=(I=typeof l.tooltip=="string"?l.tooltip:(S=l.tooltip)===null||S===void 0?void 0:S.value)!==null&&I!==void 0?I:"",this.enabled=!l.precondition||f.contextMatchesRules(l.precondition),this.checked=void 0;let E;if(l.toggled){const T=l.toggled.condition?l.toggled:{condition:l.toggled};this.checked=f.contextMatchesRules(T.condition),this.checked&&T.tooltip&&(this.tooltip=typeof T.tooltip=="string"?T.tooltip:T.tooltip.value),this.checked&&k.ThemeIcon.isThemeIcon(T.icon)&&(E=T.icon),this.checked&&T.title&&(this.label=typeof T.title=="string"?T.title:T.title.value)}E||(E=k.ThemeIcon.isThemeIcon(l.icon)?l.icon:void 0),this.item=l,this.alt=o?new a(o,void 0,g,c,f,_):void 0,this._options=g,this.class=E&&k.ThemeIcon.asClassName(E)}run(...l){var o,g;let c=[];return!((o=this._options)===null||o===void 0)&&o.arg&&(c=[...c,this._options.arg]),!((g=this._options)===null||g===void 0)&&g.shouldForwardArgs&&(c=[...c,...l]),this._commandService.executeCommand(this.id,...c)}};e.MenuItemAction=v,e.MenuItemAction=v=a=Ie([he(4,w.IContextKeyService),he(5,p.ICommandService)],v);class u{constructor(l){this.desc=l}}e.Action2=u;function d(r){const l=new L.DisposableStore,o=new r,{f1:g,menu:c,keybinding:f,..._}=o.desc;if(p.CommandsRegistry.getCommand(_.id))throw new Error(`Cannot register two commands with the same id: ${_.id}`);if(l.add(p.CommandsRegistry.registerCommand({id:_.id,handler:(S,...I)=>o.run(S,...I),metadata:_.metadata})),Array.isArray(c))for(const S of c)l.add(e.MenuRegistry.appendMenuItem(S.id,{command:{..._,precondition:S.precondition===null?void 0:_.precondition},...S}));else c&&l.add(e.MenuRegistry.appendMenuItem(c.id,{command:{..._,precondition:c.precondition===null?void 0:_.precondition},...c}));if(g&&(l.add(e.MenuRegistry.appendMenuItem(t.CommandPalette,{command:_,when:_.precondition})),l.add(e.MenuRegistry.addCommand(_))),Array.isArray(f))for(const S of f)l.add(b.KeybindingsRegistry.registerKeybindingRule({...S,id:_.id,when:_.precondition?w.ContextKeyExpr.and(_.precondition,S.when):S.when}));else f&&l.add(b.KeybindingsRegistry.registerKeybindingRule({...f,id:_.id,when:_.precondition?w.ContextKeyExpr.and(_.precondition,f.when):f.when}));return l}}),define(te[837],ie([1,0,45,218,752,28]),function(J,e,m,k,D,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ToggleTabFocusModeAction=void 0;class y extends L.Action2{constructor(){super({id:y.ID,title:D.localize2(2,"Toggle Tab Key Moves Focus"),precondition:void 0,keybinding:{primary:2091,mac:{primary:1323},weight:100},f1:!0})}run(){const C=!k.TabFocus.getTabFocusMode();k.TabFocus.setTabFocusMode(C),C?(0,m.alert)(D.localize(0,null)):(0,m.alert)(D.localize(1,null))}}e.ToggleTabFocusModeAction=y,y.ID="editor.action.toggleTabFocusMode",(0,L.registerAction2)(y)}),define(te[376],ie([1,0,248,626,14,131,771,2,6]),function(J,e,m,k,D,L,y,p,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextScopedReplaceInput=e.ContextScopedFindInput=e.historyNavigationVisible=void 0,e.registerAndCreateHistoryNavigationContext=t,e.historyNavigationVisible=new D.RawContextKey("suggestWidgetVisible",!1,(0,y.localize)(0,null));const C="historyNavigationWidgetFocus",b="historyNavigationForwardsEnabled",a="historyNavigationBackwardsEnabled";let s;const i=[];function t(v,u){if(i.includes(u))throw new Error("Cannot register the same widget multiple times");i.push(u);const d=new p.DisposableStore,r=new D.RawContextKey(C,!1).bindTo(v),l=new D.RawContextKey(b,!0).bindTo(v),o=new D.RawContextKey(a,!0).bindTo(v),g=()=>{r.set(!0),s=u},c=()=>{r.set(!1),s===u&&(s=void 0)};return(0,w.isActiveElement)(u.element)&&g(),d.add(u.onDidFocus(()=>g())),d.add(u.onDidBlur(()=>c())),d.add((0,p.toDisposable)(()=>{i.splice(i.indexOf(u),1),c()})),{historyNavigationForwardsEnablement:l,historyNavigationBackwardsEnablement:o,dispose(){d.dispose()}}}let n=class extends m.FindInput{constructor(u,d,r,l){super(u,d,r);const o=this._register(l.createScoped(this.inputBox.element));this._register(t(o,this.inputBox))}};e.ContextScopedFindInput=n,e.ContextScopedFindInput=n=Ie([he(3,D.IContextKeyService)],n);let h=class extends k.ReplaceInput{constructor(u,d,r,l,o=!1){super(u,d,o,r);const g=this._register(l.createScoped(this.inputBox.element));this._register(t(g,this.inputBox))}};e.ContextScopedReplaceInput=h,e.ContextScopedReplaceInput=h=Ie([he(3,D.IContextKeyService)],h),L.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"history.showPrevious",weight:200,when:D.ContextKeyExpr.and(D.ContextKeyExpr.has(C),D.ContextKeyExpr.equals(a,!0),D.ContextKeyExpr.not("isComposing"),e.historyNavigationVisible.isEqualTo(!1)),primary:16,secondary:[528],handler:v=>{s?.showPreviousValue()}}),L.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"history.showNext",weight:200,when:D.ContextKeyExpr.and(D.ContextKeyExpr.has(C),D.ContextKeyExpr.equals(b,!0),D.ContextKeyExpr.not("isComposing"),e.historyNavigationVisible.isEqualTo(!1)),primary:18,secondary:[530],handler:v=>{s?.showNextValue()}})}),define(te[149],ie([1,0,20,12,76,2,63,21,22,9,5,73,128,745,28,27,14,18,376]),function(J,e,m,k,D,L,y,p,w,C,b,a,s,i,t,n,h,v,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickSuggestionsOptions=e.CompletionItemModel=e.CompletionOptions=e.CompletionItem=e.suggestWidgetStatusbarMenu=e.Context=void 0,e.getSnippetSuggestSupport=o,e.provideSuggestionItems=c,e.getSuggestionComparator=E,e.showSimpleSuggestions=T,e.Context={Visible:u.historyNavigationVisible,HasFocusedSuggestion:new h.RawContextKey("suggestWidgetHasFocusedSuggestion",!1,(0,i.localize)(0,null)),DetailsVisible:new h.RawContextKey("suggestWidgetDetailsVisible",!1,(0,i.localize)(1,null)),MultipleSuggestions:new h.RawContextKey("suggestWidgetMultipleSuggestions",!1,(0,i.localize)(2,null)),MakesTextEdit:new h.RawContextKey("suggestionMakesTextEdit",!0,(0,i.localize)(3,null)),AcceptSuggestionsOnEnter:new h.RawContextKey("acceptSuggestionOnEnter",!0,(0,i.localize)(4,null)),HasInsertAndReplaceRange:new h.RawContextKey("suggestionHasInsertAndReplaceRange",!1,(0,i.localize)(5,null)),InsertMode:new h.RawContextKey("suggestionInsertMode",void 0,{type:"string",description:(0,i.localize)(6,null)}),CanResolve:new h.RawContextKey("suggestionCanResolve",!1,(0,i.localize)(7,null))},e.suggestWidgetStatusbarMenu=new t.MenuId("suggestWidgetStatusBar");class d{constructor(O,M,P,x){var R;this.position=O,this.completion=M,this.container=P,this.provider=x,this.isInvalid=!1,this.score=D.FuzzyScore.Default,this.distance=0,this.textLabel=typeof M.label=="string"?M.label:(R=M.label)===null||R===void 0?void 0:R.label,this.labelLow=this.textLabel.toLowerCase(),this.isInvalid=!this.textLabel,this.sortTextLow=M.sortText&&M.sortText.toLowerCase(),this.filterTextLow=M.filterText&&M.filterText.toLowerCase(),this.extensionId=M.extensionId,b.Range.isIRange(M.range)?(this.editStart=new C.Position(M.range.startLineNumber,M.range.startColumn),this.editInsertEnd=new C.Position(M.range.endLineNumber,M.range.endColumn),this.editReplaceEnd=new C.Position(M.range.endLineNumber,M.range.endColumn),this.isInvalid=this.isInvalid||b.Range.spansMultipleLines(M.range)||M.range.startLineNumber!==O.lineNumber):(this.editStart=new C.Position(M.range.insert.startLineNumber,M.range.insert.startColumn),this.editInsertEnd=new C.Position(M.range.insert.endLineNumber,M.range.insert.endColumn),this.editReplaceEnd=new C.Position(M.range.replace.endLineNumber,M.range.replace.endColumn),this.isInvalid=this.isInvalid||b.Range.spansMultipleLines(M.range.insert)||b.Range.spansMultipleLines(M.range.replace)||M.range.insert.startLineNumber!==O.lineNumber||M.range.replace.startLineNumber!==O.lineNumber||M.range.insert.startColumn!==M.range.replace.startColumn),typeof x.resolveCompletionItem!="function"&&(this._resolveCache=Promise.resolve(),this._resolveDuration=0)}get isResolved(){return this._resolveDuration!==void 0}get resolveDuration(){return this._resolveDuration!==void 0?this._resolveDuration:-1}async resolve(O){if(!this._resolveCache){const M=O.onCancellationRequested(()=>{this._resolveCache=void 0,this._resolveDuration=void 0}),P=new y.StopWatch(!0);this._resolveCache=Promise.resolve(this.provider.resolveCompletionItem(this.completion,O)).then(x=>{Object.assign(this.completion,x),this._resolveDuration=P.elapsed()},x=>{(0,k.isCancellationError)(x)&&(this._resolveCache=void 0,this._resolveDuration=void 0)}).finally(()=>{M.dispose()})}return this._resolveCache}}e.CompletionItem=d;class r{constructor(O=2,M=new Set,P=new Set,x=new Map,R=!0){this.snippetSortOrder=O,this.kindFilter=M,this.providerFilter=P,this.providerItemsToReuse=x,this.showDeprecated=R}}e.CompletionOptions=r,r.default=new r;let l;function o(){return l}class g{constructor(O,M,P,x){this.items=O,this.needsClipboard=M,this.durations=P,this.disposable=x}}e.CompletionItemModel=g;async function c(A,O,M,P=r.default,x={triggerKind:0},R=m.CancellationToken.None){const B=new y.StopWatch;M=M.clone();const H=O.getWordAtPosition(M),V=H?new b.Range(M.lineNumber,H.startColumn,M.lineNumber,H.endColumn):b.Range.fromPositions(M),q={replace:V,insert:V.setEndPosition(M.lineNumber,M.column)},K=[],U=new L.DisposableStore,$=[];let se=!1;const F=(Q,Z,ae)=>{var ue,ge,fe;let re=!1;if(!Z)return re;for(const de of Z.suggestions)if(!P.kindFilter.has(de.kind)){if(!P.showDeprecated&&(!((ue=de?.tags)===null||ue===void 0)&&ue.includes(1)))continue;de.range||(de.range=q),de.sortText||(de.sortText=typeof de.label=="string"?de.label:de.label.label),!se&&de.insertTextRules&&de.insertTextRules&4&&(se=s.SnippetParser.guessNeedsClipboard(de.insertText)),K.push(new d(M,de,Z,Q)),re=!0}return(0,L.isDisposable)(Z)&&U.add(Z),$.push({providerName:(ge=Q._debugDisplayName)!==null&&ge!==void 0?ge:"unknown_provider",elapsedProvider:(fe=Z.duration)!==null&&fe!==void 0?fe:-1,elapsedOverall:ae.elapsed()}),re},X=(async()=>{if(!l||P.kindFilter.has(27))return;const Q=P.providerItemsToReuse.get(l);if(Q){Q.forEach(ue=>K.push(ue));return}if(P.providerFilter.size>0&&!P.providerFilter.has(l))return;const Z=new y.StopWatch,ae=await l.provideCompletionItems(O,M,x,R);F(l,ae,Z)})();for(const Q of A.orderedGroups(O)){let Z=!1;if(await Promise.all(Q.map(async ae=>{if(P.providerItemsToReuse.has(ae)){const ue=P.providerItemsToReuse.get(ae);ue.forEach(ge=>K.push(ge)),Z=Z||ue.length>0;return}if(!(P.providerFilter.size>0&&!P.providerFilter.has(ae)))try{const ue=new y.StopWatch,ge=await ae.provideCompletionItems(O,M,x,R);Z=F(ae,ge,ue)||Z}catch(ue){(0,k.onUnexpectedExternalError)(ue)}})),Z||R.isCancellationRequested)break}return await X,R.isCancellationRequested?(U.dispose(),Promise.reject(new k.CancellationError)):new g(K.sort(E(P.snippetSortOrder)),se,{entries:$,elapsed:B.elapsed()},U)}function f(A,O){if(A.sortTextLow&&O.sortTextLow){if(A.sortTextLow<O.sortTextLow)return-1;if(A.sortTextLow>O.sortTextLow)return 1}return A.textLabel<O.textLabel?-1:A.textLabel>O.textLabel?1:A.completion.kind-O.completion.kind}function _(A,O){if(A.completion.kind!==O.completion.kind){if(A.completion.kind===27)return-1;if(O.completion.kind===27)return 1}return f(A,O)}function S(A,O){if(A.completion.kind!==O.completion.kind){if(A.completion.kind===27)return 1;if(O.completion.kind===27)return-1}return f(A,O)}const I=new Map;I.set(0,_),I.set(2,S),I.set(1,f);function E(A){return I.get(A)}n.CommandsRegistry.registerCommand("_executeCompletionItemProvider",async(A,...O)=>{const[M,P,x,R]=O;(0,p.assertType)(w.URI.isUri(M)),(0,p.assertType)(C.Position.isIPosition(P)),(0,p.assertType)(typeof x=="string"||!x),(0,p.assertType)(typeof R=="number"||!R);const{completionProvider:B}=A.get(v.ILanguageFeaturesService),H=await A.get(a.ITextModelService).createModelReference(M);try{const V={incomplete:!1,suggestions:[]},q=[],K=H.object.textEditorModel.validatePosition(P),U=await c(B,H.object.textEditorModel,K,void 0,{triggerCharacter:x??void 0,triggerKind:x?1:0});for(const $ of U.items)q.length<(R??0)&&q.push($.resolve(m.CancellationToken.None)),V.incomplete=V.incomplete||$.container.incomplete,V.suggestions.push($.completion);try{return await Promise.all(q),V}finally{setTimeout(()=>U.disposable.dispose(),100)}}finally{H.dispose()}});function T(A,O){var M;(M=A.getContribution("editor.contrib.suggestController"))===null||M===void 0||M.triggerSuggest(new Set().add(O),void 0,!0)}class N{static isAllOff(O){return O.other==="off"&&O.comments==="off"&&O.strings==="off"}static isAllOn(O){return O.other==="on"&&O.comments==="on"&&O.strings==="on"}static valueFor(O,M){switch(M){case 1:return O.comments;case 2:return O.strings;default:return O.other}}}e.QuickSuggestionsOptions=N}),define(te[150],ie([1,0,13,2,39]),function(J,e,m,k,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickAccessRegistry=e.Extensions=e.DefaultQuickAccessFilterValue=void 0;var L;(function(p){p[p.PRESERVE=0]="PRESERVE",p[p.LAST=1]="LAST"})(L||(e.DefaultQuickAccessFilterValue=L={})),e.Extensions={Quickaccess:"workbench.contributions.quickaccess"};class y{constructor(){this.providers=[],this.defaultProvider=void 0}registerQuickAccessProvider(w){return w.prefix.length===0?this.defaultProvider=w:this.providers.push(w),this.providers.sort((C,b)=>b.prefix.length-C.prefix.length),(0,k.toDisposable)(()=>{this.providers.splice(this.providers.indexOf(w),1),this.defaultProvider===w&&(this.defaultProvider=void 0)})}getQuickAccessProviders(){return(0,m.coalesce)([this.defaultProvider,...this.providers])}getQuickAccessProvider(w){return w&&this.providers.find(b=>w.startsWith(b.prefix))||void 0||this.defaultProvider}}e.QuickAccessRegistry=y,D.Registry.add(e.Extensions.Quickaccess,new y)}),define(te[838],ie([1,0,776,39,2,35,150,75]),function(J,e,m,k,D,L,y,p){"use strict";var w;Object.defineProperty(e,"__esModule",{value:!0}),e.HelpQuickAccessProvider=void 0;let C=w=class{constructor(a,s){this.quickInputService=a,this.keybindingService=s,this.registry=k.Registry.as(y.Extensions.Quickaccess)}provide(a){const s=new D.DisposableStore;return s.add(a.onDidAccept(()=>{const[i]=a.selectedItems;i&&this.quickInputService.quickAccess.show(i.prefix,{preserveValue:!0})})),s.add(a.onDidChangeValue(i=>{const t=this.registry.getQuickAccessProvider(i.substr(w.PREFIX.length));t&&t.prefix&&t.prefix!==w.PREFIX&&this.quickInputService.quickAccess.show(t.prefix,{preserveValue:!0})})),a.items=this.getQuickAccessProviders().filter(i=>i.prefix!==w.PREFIX),s}getQuickAccessProviders(){return this.registry.getQuickAccessProviders().sort((s,i)=>s.prefix.localeCompare(i.prefix)).flatMap(s=>this.createPicks(s))}createPicks(a){return a.helpEntries.map(s=>{const i=s.prefix||a.prefix,t=i||"\u2026";return{prefix:i,label:t,keybinding:s.commandId?this.keybindingService.lookupKeybinding(s.commandId):void 0,ariaLabel:(0,m.localize)(0,null,t,s.description),description:s.description}})}};e.HelpQuickAccessProvider=C,C.PREFIX="?",e.HelpQuickAccessProvider=C=w=Ie([he(0,p.IQuickInputService),he(1,L.IKeybindingService)],C)}),define(te[839],ie([1,0,39,150,103,838]),function(J,e,m,k,D,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),m.Registry.as(k.Extensions.Quickaccess).registerQuickAccessProvider({ctor:L.HelpQuickAccessProvider,prefix:"",helpEntries:[{description:D.QuickHelpNLS.helpQuickAccessActionLabel}]})}),define(te[840],ie([1,0,15,20,7,2,8,150,75,39]),function(J,e,m,k,D,L,y,p,w,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickAccessController=void 0;let b=class extends L.Disposable{constructor(s,i){super(),this.quickInputService=s,this.instantiationService=i,this.registry=C.Registry.as(p.Extensions.Quickaccess),this.mapProviderToDescriptor=new Map,this.lastAcceptedPickerValues=new Map,this.visibleQuickAccess=void 0}show(s="",i){this.doShowOrPick(s,!1,i)}doShowOrPick(s,i,t){var n;const[h,v]=this.getOrInstantiateProvider(s),u=this.visibleQuickAccess,d=u?.descriptor;if(u&&v&&d===v){s!==v.prefix&&!t?.preserveValue&&(u.picker.value=s),this.adjustValueSelection(u.picker,v,t);return}if(v&&!t?.preserveValue){let c;if(u&&d&&d!==v){const f=u.value.substr(d.prefix.length);f&&(c=`${v.prefix}${f}`)}if(!c){const f=h?.defaultFilterValue;f===p.DefaultQuickAccessFilterValue.LAST?c=this.lastAcceptedPickerValues.get(v):typeof f=="string"&&(c=`${v.prefix}${f}`)}typeof c=="string"&&(s=c)}const r=new L.DisposableStore,l=r.add(this.quickInputService.createQuickPick());l.value=s,this.adjustValueSelection(l,v,t),l.placeholder=v?.placeholder,l.quickNavigate=t?.quickNavigateConfiguration,l.hideInput=!!l.quickNavigate&&!u,(typeof t?.itemActivation=="number"||t?.quickNavigateConfiguration)&&(l.itemActivation=(n=t?.itemActivation)!==null&&n!==void 0?n:w.ItemActivation.SECOND),l.contextKey=v?.contextKey,l.filterValue=c=>c.substring(v?v.prefix.length:0);let o;i&&(o=new m.DeferredPromise,r.add(D.Event.once(l.onWillAccept)(c=>{c.veto(),l.hide()}))),r.add(this.registerPickerListeners(l,h,v,s,t?.providerOptions));const g=r.add(new k.CancellationTokenSource);if(h&&r.add(h.provide(l,g.token,t?.providerOptions)),D.Event.once(l.onDidHide)(()=>{l.selectedItems.length===0&&g.cancel(),r.dispose(),o?.complete(l.selectedItems.slice(0))}),l.show(),i)return o?.p}adjustValueSelection(s,i,t){var n;let h;t?.preserveValue?h=[s.value.length,s.value.length]:h=[(n=i?.prefix.length)!==null&&n!==void 0?n:0,s.value.length],s.valueSelection=h}registerPickerListeners(s,i,t,n,h){const v=new L.DisposableStore,u=this.visibleQuickAccess={picker:s,descriptor:t,value:n};return v.add((0,L.toDisposable)(()=>{u===this.visibleQuickAccess&&(this.visibleQuickAccess=void 0)})),v.add(s.onDidChangeValue(d=>{const[r]=this.getOrInstantiateProvider(d);r!==i?this.show(d,{preserveValue:!0,providerOptions:h}):u.value=d})),t&&v.add(s.onDidAccept(()=>{this.lastAcceptedPickerValues.set(t,s.value)})),v}getOrInstantiateProvider(s){const i=this.registry.getQuickAccessProvider(s);if(!i)return[void 0,void 0];let t=this.mapProviderToDescriptor.get(i);return t||(t=this.instantiationService.createInstance(i.ctor),this.mapProviderToDescriptor.set(i,t)),[t,i]}};e.QuickAccessController=b,e.QuickAccessController=b=Ie([he(0,w.IQuickInputService),he(1,y.IInstantiationService)],b)}),define(te[841],ie([1,0,26,30,107,513]),function(J,e,m,k,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SeverityIcon=void 0;var L;(function(y){function p(w){switch(w){case D.default.Ignore:return"severity-ignore "+k.ThemeIcon.asClassName(m.Codicon.info);case D.default.Info:return k.ThemeIcon.asClassName(m.Codicon.info);case D.default.Warning:return k.ThemeIcon.asClassName(m.Codicon.warning);case D.default.Error:return k.ThemeIcon.asClassName(m.Codicon.error);default:return""}}y.className=p})(L||(e.SeverityIcon=L={}))}),define(te[97],ie([1,0,7,2,21,631,8]),function(J,e,m,k,D,L,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InMemoryStorageService=e.AbstractStorageService=e.WillSaveStateReason=e.IStorageService=e.TARGET_KEY=void 0,e.loadKeyTargets=w,e.TARGET_KEY="__$__targetStorageMarker",e.IStorageService=(0,y.createDecorator)("storageService");var p;(function(a){a[a.NONE=0]="NONE",a[a.SHUTDOWN=1]="SHUTDOWN"})(p||(e.WillSaveStateReason=p={}));function w(a){const s=a.get(e.TARGET_KEY);if(s)try{return JSON.parse(s)}catch{}return Object.create(null)}class C extends k.Disposable{constructor(s={flushInterval:C.DEFAULT_FLUSH_INTERVAL}){super(),this.options=s,this._onDidChangeValue=this._register(new m.PauseableEmitter),this._onDidChangeTarget=this._register(new m.PauseableEmitter),this._onWillSaveState=this._register(new m.Emitter),this.onWillSaveState=this._onWillSaveState.event,this._workspaceKeyTargets=void 0,this._profileKeyTargets=void 0,this._applicationKeyTargets=void 0}onDidChangeValue(s,i,t){return m.Event.filter(this._onDidChangeValue.event,n=>n.scope===s&&(i===void 0||n.key===i),t)}emitDidChangeValue(s,i){const{key:t,external:n}=i;if(t===e.TARGET_KEY){switch(s){case-1:this._applicationKeyTargets=void 0;break;case 0:this._profileKeyTargets=void 0;break;case 1:this._workspaceKeyTargets=void 0;break}this._onDidChangeTarget.fire({scope:s})}else this._onDidChangeValue.fire({scope:s,key:t,target:this.getKeyTargets(s)[t],external:n})}get(s,i,t){var n;return(n=this.getStorage(i))===null||n===void 0?void 0:n.get(s,t)}getBoolean(s,i,t){var n;return(n=this.getStorage(i))===null||n===void 0?void 0:n.getBoolean(s,t)}getNumber(s,i,t){var n;return(n=this.getStorage(i))===null||n===void 0?void 0:n.getNumber(s,t)}store(s,i,t,n,h=!1){if((0,D.isUndefinedOrNull)(i)){this.remove(s,t,h);return}this.withPausedEmitters(()=>{var v;this.updateKeyTarget(s,t,n),(v=this.getStorage(t))===null||v===void 0||v.set(s,i,h)})}remove(s,i,t=!1){this.withPausedEmitters(()=>{var n;this.updateKeyTarget(s,i,void 0),(n=this.getStorage(i))===null||n===void 0||n.delete(s,t)})}withPausedEmitters(s){this._onDidChangeValue.pause(),this._onDidChangeTarget.pause();try{s()}finally{this._onDidChangeValue.resume(),this._onDidChangeTarget.resume()}}updateKeyTarget(s,i,t,n=!1){var h,v;const u=this.getKeyTargets(i);typeof t=="number"?u[s]!==t&&(u[s]=t,(h=this.getStorage(i))===null||h===void 0||h.set(e.TARGET_KEY,JSON.stringify(u),n)):typeof u[s]=="number"&&(delete u[s],(v=this.getStorage(i))===null||v===void 0||v.set(e.TARGET_KEY,JSON.stringify(u),n))}get workspaceKeyTargets(){return this._workspaceKeyTargets||(this._workspaceKeyTargets=this.loadKeyTargets(1)),this._workspaceKeyTargets}get profileKeyTargets(){return this._profileKeyTargets||(this._profileKeyTargets=this.loadKeyTargets(0)),this._profileKeyTargets}get applicationKeyTargets(){return this._applicationKeyTargets||(this._applicationKeyTargets=this.loadKeyTargets(-1)),this._applicationKeyTargets}getKeyTargets(s){switch(s){case-1:return this.applicationKeyTargets;case 0:return this.profileKeyTargets;default:return this.workspaceKeyTargets}}loadKeyTargets(s){const i=this.getStorage(s);return i?w(i):Object.create(null)}}e.AbstractStorageService=C,C.DEFAULT_FLUSH_INTERVAL=60*1e3;class b extends C{constructor(){super(),this.applicationStorage=this._register(new L.Storage(new L.InMemoryStorageDatabase,{hint:L.StorageHint.STORAGE_IN_MEMORY})),this.profileStorage=this._register(new L.Storage(new L.InMemoryStorageDatabase,{hint:L.StorageHint.STORAGE_IN_MEMORY})),this.workspaceStorage=this._register(new L.Storage(new L.InMemoryStorageDatabase,{hint:L.StorageHint.STORAGE_IN_MEMORY})),this._register(this.workspaceStorage.onDidChangeStorage(s=>this.emitDidChangeValue(1,s))),this._register(this.profileStorage.onDidChangeStorage(s=>this.emitDidChangeValue(0,s))),this._register(this.applicationStorage.onDidChangeStorage(s=>this.emitDidChangeValue(-1,s)))}getStorage(s){switch(s){case-1:return this.applicationStorage;case 0:return this.profileStorage;default:return this.workspaceStorage}}}e.InMemoryStorageService=b}),define(te[842],ie([1,0,7,47,5,361,46,8,97,52,6]),function(J,e,m,k,D,L,y,p,w,C,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeLensCache=e.ICodeLensCache=void 0,e.ICodeLensCache=(0,p.createDecorator)("ICodeLensCache");class a{constructor(t,n){this.lineCount=t,this.data=n}}let s=class{constructor(t){this._fakeProvider=new class{provideCodeLenses(){throw new Error("not supported")}},this._cache=new k.LRUCache(20,.75);const n="codelens/cache";(0,b.runWhenWindowIdle)(C.mainWindow,()=>t.remove(n,1));const h="codelens/cache2",v=t.get(h,1,"{}");this._deserialize(v),m.Event.once(t.onWillSaveState)(u=>{u.reason===w.WillSaveStateReason.SHUTDOWN&&t.store(h,this._serialize(),1,1)})}put(t,n){const h=n.lenses.map(d=>{var r;return{range:d.symbol.range,command:d.symbol.command&&{id:"",title:(r=d.symbol.command)===null||r===void 0?void 0:r.title}}}),v=new L.CodeLensModel;v.add({lenses:h,dispose:()=>{}},this._fakeProvider);const u=new a(t.getLineCount(),v);this._cache.set(t.uri.toString(),u)}get(t){const n=this._cache.get(t.uri.toString());return n&&n.lineCount===t.getLineCount()?n.data:void 0}delete(t){this._cache.delete(t.uri.toString())}_serialize(){const t=Object.create(null);for(const[n,h]of this._cache){const v=new Set;for(const u of h.data.lenses)v.add(u.symbol.range.startLineNumber);t[n]={lineCount:h.lineCount,lines:[...v.values()]}}return JSON.stringify(t)}_deserialize(t){try{const n=JSON.parse(t);for(const h in n){const v=n[h],u=[];for(const r of v.lines)u.push({range:new D.Range(r,1,r,11)});const d=new L.CodeLensModel;d.add({lenses:u,dispose(){}},this._fakeProvider),this._cache.set(h,new a(v.lineCount,d))}}catch{}}};e.CodeLensCache=s,e.CodeLensCache=s=Ie([he(0,w.IStorageService)],s),(0,y.registerSingleton)(e.ICodeLensCache,s,1)}),define(te[377],ie([1,0,15,2,47,214,29,25,46,8,97]),function(J,e,m,k,D,L,y,p,w,C,b){"use strict";var a;Object.defineProperty(e,"__esModule",{value:!0}),e.ISuggestMemoryService=e.SuggestMemoryService=e.PrefixMemory=e.LRUMemory=e.NoMemory=e.Memory=void 0;class s{constructor(u){this.name=u}select(u,d,r){if(r.length===0)return 0;const l=r[0].score[0];for(let o=0;o<r.length;o++){const{score:g,completion:c}=r[o];if(g[0]!==l)break;if(c.preselect)return o}return 0}}e.Memory=s;class i extends s{constructor(){super("first")}memorize(u,d,r){}toJSON(){}fromJSON(){}}e.NoMemory=i;class t extends s{constructor(){super("recentlyUsed"),this._cache=new D.LRUCache(300,.66),this._seq=0}memorize(u,d,r){const l=`${u.getLanguageId()}/${r.textLabel}`;this._cache.set(l,{touch:this._seq++,type:r.completion.kind,insertText:r.completion.insertText})}select(u,d,r){if(r.length===0)return 0;const l=u.getLineContent(d.lineNumber).substr(d.column-10,d.column-1);if(/\s$/.test(l))return super.select(u,d,r);const o=r[0].score[0];let g=-1,c=-1,f=-1;for(let _=0;_<r.length&&r[_].score[0]===o;_++){const S=`${u.getLanguageId()}/${r[_].textLabel}`,I=this._cache.peek(S);if(I&&I.touch>f&&I.type===r[_].completion.kind&&I.insertText===r[_].completion.insertText&&(f=I.touch,c=_),r[_].completion.preselect&&g===-1)return g=_}return c!==-1?c:g!==-1?g:0}toJSON(){return this._cache.toJSON()}fromJSON(u){this._cache.clear();const d=0;for(const[r,l]of u)l.touch=d,l.type=typeof l.type=="number"?l.type:y.CompletionItemKinds.fromString(l.type),this._cache.set(r,l);this._seq=this._cache.size}}e.LRUMemory=t;class n extends s{constructor(){super("recentlyUsedByPrefix"),this._trie=L.TernarySearchTree.forStrings(),this._seq=0}memorize(u,d,r){const{word:l}=u.getWordUntilPosition(d),o=`${u.getLanguageId()}/${l}`;this._trie.set(o,{type:r.completion.kind,insertText:r.completion.insertText,touch:this._seq++})}select(u,d,r){const{word:l}=u.getWordUntilPosition(d);if(!l)return super.select(u,d,r);const o=`${u.getLanguageId()}/${l}`;let g=this._trie.get(o);if(g||(g=this._trie.findSubstr(o)),g)for(let c=0;c<r.length;c++){const{kind:f,insertText:_}=r[c].completion;if(f===g.type&&_===g.insertText)return c}return super.select(u,d,r)}toJSON(){const u=[];return this._trie.forEach((d,r)=>u.push([r,d])),u.sort((d,r)=>-(d[1].touch-r[1].touch)).forEach((d,r)=>d[1].touch=r),u.slice(0,200)}fromJSON(u){if(this._trie.clear(),u.length>0){this._seq=u[0][1].touch+1;for(const[d,r]of u)r.type=typeof r.type=="number"?r.type:y.CompletionItemKinds.fromString(r.type),this._trie.set(d,r)}}}e.PrefixMemory=n;let h=a=class{constructor(u,d){this._storageService=u,this._configService=d,this._disposables=new k.DisposableStore,this._persistSoon=new m.RunOnceScheduler(()=>this._saveState(),500),this._disposables.add(u.onWillSaveState(r=>{r.reason===b.WillSaveStateReason.SHUTDOWN&&this._saveState()}))}dispose(){this._disposables.dispose(),this._persistSoon.dispose()}memorize(u,d,r){this._withStrategy(u,d).memorize(u,d,r),this._persistSoon.schedule()}select(u,d,r){return this._withStrategy(u,d).select(u,d,r)}_withStrategy(u,d){var r;const l=this._configService.getValue("editor.suggestSelection",{overrideIdentifier:u.getLanguageIdAtPosition(d.lineNumber,d.column),resource:u.uri});if(((r=this._strategy)===null||r===void 0?void 0:r.name)!==l){this._saveState();const o=a._strategyCtors.get(l)||i;this._strategy=new o;try{const c=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,f=this._storageService.get(`${a._storagePrefix}/${l}`,c);f&&this._strategy.fromJSON(JSON.parse(f))}catch{}}return this._strategy}_saveState(){if(this._strategy){const d=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,r=JSON.stringify(this._strategy);this._storageService.store(`${a._storagePrefix}/${this._strategy.name}`,r,d,1)}}};e.SuggestMemoryService=h,h._strategyCtors=new Map([["recentlyUsedByPrefix",n],["recentlyUsed",t],["first",i]]),h._storagePrefix="suggest/memories",e.SuggestMemoryService=h=a=Ie([he(0,b.IStorageService),he(1,p.IConfigurationService)],h),e.ISuggestMemoryService=(0,C.createDecorator)("ISuggestMemories"),(0,w.registerSingleton)(e.ISuggestMemoryService,h,1)}),define(te[843],ie([1,0,15,7,2,28,27,14,41,97,13,765]),function(J,e,m,k,D,L,y,p,w,C,b,a){"use strict";var s,i;Object.defineProperty(e,"__esModule",{value:!0}),e.MenuService=void 0;let t=class{constructor(r,l){this._commandService=r,this._hiddenStates=new n(l)}createMenu(r,l,o){return new v(r,this._hiddenStates,{emitEventsForSubmenuChanges:!1,eventDebounceDelay:50,...o},this._commandService,l)}resetHiddenStates(r){this._hiddenStates.reset(r)}};e.MenuService=t,e.MenuService=t=Ie([he(0,y.ICommandService),he(1,C.IStorageService)],t);let n=s=class{constructor(r){this._storageService=r,this._disposables=new D.DisposableStore,this._onDidChange=new k.Emitter,this.onDidChange=this._onDidChange.event,this._ignoreChangeEvent=!1,this._hiddenByDefaultCache=new Map;try{const l=r.get(s._key,0,"{}");this._data=JSON.parse(l)}catch{this._data=Object.create(null)}this._disposables.add(r.onDidChangeValue(0,s._key,this._disposables)(()=>{if(!this._ignoreChangeEvent)try{const l=r.get(s._key,0,"{}");this._data=JSON.parse(l)}catch(l){console.log("FAILED to read storage after UPDATE",l)}this._onDidChange.fire()}))}dispose(){this._onDidChange.dispose(),this._disposables.dispose()}_isHiddenByDefault(r,l){var o;return(o=this._hiddenByDefaultCache.get(`${r.id}/${l}`))!==null&&o!==void 0?o:!1}setDefaultState(r,l,o){this._hiddenByDefaultCache.set(`${r.id}/${l}`,o)}isHidden(r,l){var o,g;const c=this._isHiddenByDefault(r,l),f=(g=(o=this._data[r.id])===null||o===void 0?void 0:o.includes(l))!==null&&g!==void 0?g:!1;return c?!f:f}updateHidden(r,l,o){this._isHiddenByDefault(r,l)&&(o=!o);const c=this._data[r.id];if(o)c?c.indexOf(l)<0&&c.push(l):this._data[r.id]=[l];else if(c){const f=c.indexOf(l);f>=0&&(0,b.removeFastWithoutKeepingOrder)(c,f),c.length===0&&delete this._data[r.id]}this._persist()}reset(r){if(r===void 0)this._data=Object.create(null),this._persist();else{for(const{id:l}of r)this._data[l]&&delete this._data[l];this._persist()}}_persist(){try{this._ignoreChangeEvent=!0;const r=JSON.stringify(this._data);this._storageService.store(s._key,r,0,0)}finally{this._ignoreChangeEvent=!1}}};n._key="menu.hiddenCommands",n=s=Ie([he(0,C.IStorageService)],n);let h=i=class{constructor(r,l,o,g,c){this._id=r,this._hiddenStates=l,this._collectContextKeysForSubmenus=o,this._commandService=g,this._contextKeyService=c,this._menuGroups=[],this._structureContextKeys=new Set,this._preconditionContextKeys=new Set,this._toggledContextKeys=new Set,this.refresh()}get structureContextKeys(){return this._structureContextKeys}get preconditionContextKeys(){return this._preconditionContextKeys}get toggledContextKeys(){return this._toggledContextKeys}refresh(){this._menuGroups.length=0,this._structureContextKeys.clear(),this._preconditionContextKeys.clear(),this._toggledContextKeys.clear();const r=L.MenuRegistry.getMenuItems(this._id);let l;r.sort(i._compareMenuItems);for(const o of r){const g=o.group||"";(!l||l[0]!==g)&&(l=[g,[]],this._menuGroups.push(l)),l[1].push(o),this._collectContextKeys(o)}}_collectContextKeys(r){if(i._fillInKbExprKeys(r.when,this._structureContextKeys),(0,L.isIMenuItem)(r)){if(r.command.precondition&&i._fillInKbExprKeys(r.command.precondition,this._preconditionContextKeys),r.command.toggled){const l=r.command.toggled.condition||r.command.toggled;i._fillInKbExprKeys(l,this._toggledContextKeys)}}else this._collectContextKeysForSubmenus&&L.MenuRegistry.getMenuItems(r.submenu).forEach(this._collectContextKeys,this)}createActionGroups(r){const l=[];for(const o of this._menuGroups){const[g,c]=o,f=[];for(const _ of c)if(this._contextKeyService.contextMatchesRules(_.when)){const S=(0,L.isIMenuItem)(_);S&&this._hiddenStates.setDefaultState(this._id,_.command.id,!!_.isHiddenByDefault);const I=u(this._id,S?_.command:_,this._hiddenStates);if(S)f.push(new L.MenuItemAction(_.command,_.alt,r,I,this._contextKeyService,this._commandService));else{const E=new i(_.submenu,this._hiddenStates,this._collectContextKeysForSubmenus,this._commandService,this._contextKeyService).createActionGroups(r),T=w.Separator.join(...E.map(N=>N[1]));T.length>0&&f.push(new L.SubmenuItemAction(_,I,T))}}f.length>0&&l.push([g,f])}return l}static _fillInKbExprKeys(r,l){if(r)for(const o of r.keys())l.add(o)}static _compareMenuItems(r,l){const o=r.group,g=l.group;if(o!==g){if(o){if(!g)return-1}else return 1;if(o==="navigation")return-1;if(g==="navigation")return 1;const _=o.localeCompare(g);if(_!==0)return _}const c=r.order||0,f=l.order||0;return c<f?-1:c>f?1:i._compareTitles((0,L.isIMenuItem)(r)?r.command.title:r.title,(0,L.isIMenuItem)(l)?l.command.title:l.title)}static _compareTitles(r,l){const o=typeof r=="string"?r:r.original,g=typeof l=="string"?l:l.original;return o.localeCompare(g)}};h=i=Ie([he(3,y.ICommandService),he(4,p.IContextKeyService)],h);let v=class{constructor(r,l,o,g,c){this._disposables=new D.DisposableStore,this._menuInfo=new h(r,l,o.emitEventsForSubmenuChanges,g,c);const f=new m.RunOnceScheduler(()=>{this._menuInfo.refresh(),this._onDidChange.fire({menu:this,isStructuralChange:!0,isEnablementChange:!0,isToggleChange:!0})},o.eventDebounceDelay);this._disposables.add(f),this._disposables.add(L.MenuRegistry.onDidChangeMenu(E=>{E.has(r)&&f.schedule()}));const _=this._disposables.add(new D.DisposableStore),S=E=>{let T=!1,N=!1,A=!1;for(const O of E)if(T=T||O.isStructuralChange,N=N||O.isEnablementChange,A=A||O.isToggleChange,T&&N&&A)break;return{menu:this,isStructuralChange:T,isEnablementChange:N,isToggleChange:A}},I=()=>{_.add(c.onDidChangeContext(E=>{const T=E.affectsSome(this._menuInfo.structureContextKeys),N=E.affectsSome(this._menuInfo.preconditionContextKeys),A=E.affectsSome(this._menuInfo.toggledContextKeys);(T||N||A)&&this._onDidChange.fire({menu:this,isStructuralChange:T,isEnablementChange:N,isToggleChange:A})})),_.add(l.onDidChange(E=>{this._onDidChange.fire({menu:this,isStructuralChange:!0,isEnablementChange:!1,isToggleChange:!1})}))};this._onDidChange=new k.DebounceEmitter({onWillAddFirstListener:I,onDidRemoveLastListener:_.clear.bind(_),delay:o.eventDebounceDelay,merge:S}),this.onDidChange=this._onDidChange.event}getActions(r){return this._menuInfo.createActionGroups(r)}dispose(){this._disposables.dispose(),this._onDidChange.dispose()}};v=Ie([he(3,y.ICommandService),he(4,p.IContextKeyService)],v);function u(d,r,l){const o=(0,L.isISubmenuItem)(r)?r.submenu.id:r.id,g=typeof r.title=="string"?r.title:r.title.value,c=(0,w.toAction)({id:`hide/${d.id}/${o}`,label:(0,a.localize)(0,null,g),run(){l.updateHidden(d,o,!0)}}),f=(0,w.toAction)({id:`toggle/${d.id}/${o}`,label:g,get checked(){return!l.isHidden(d,o)},run(){l.updateHidden(d,o,!!this.checked)}});return{hide:c,toggle:f,get isHidden(){return!f.checked}}}}),define(te[65],ie([1,0,8]),function(J,e,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ITelemetryService=void 0,e.ITelemetryService=(0,m.createDecorator)("telemetryService")}),define(te[16],ie([1,0,648,22,36,9,53,73,28,27,14,8,131,39,65,21,61,6]),function(J,e,m,k,D,L,y,p,w,C,b,a,s,i,t,n,h,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectAllCommand=e.RedoCommand=e.UndoCommand=e.EditorExtensionsRegistry=e.EditorAction2=e.MultiEditorAction=e.EditorAction=e.EditorCommand=e.ProxyCommand=e.MultiCommand=e.Command=void 0,e.registerModelAndPositionCommand=f,e.registerEditorCommand=_,e.registerEditorAction=S,e.registerMultiEditorAction=I,e.registerInstantiatedEditorAction=E,e.registerEditorContribution=T;class u{constructor(x){this.id=x.id,this.precondition=x.precondition,this._kbOpts=x.kbOpts,this._menuOpts=x.menuOpts,this.metadata=x.metadata}register(){if(Array.isArray(this._menuOpts)?this._menuOpts.forEach(this._registerMenuItem,this):this._menuOpts&&this._registerMenuItem(this._menuOpts),this._kbOpts){const x=Array.isArray(this._kbOpts)?this._kbOpts:[this._kbOpts];for(const R of x){let B=R.kbExpr;this.precondition&&(B?B=b.ContextKeyExpr.and(B,this.precondition):B=this.precondition);const H={id:this.id,weight:R.weight,args:R.args,when:B,primary:R.primary,secondary:R.secondary,win:R.win,linux:R.linux,mac:R.mac};s.KeybindingsRegistry.registerKeybindingRule(H)}}C.CommandsRegistry.registerCommand({id:this.id,handler:(x,R)=>this.runCommand(x,R),metadata:this.metadata})}_registerMenuItem(x){w.MenuRegistry.appendMenuItem(x.menuId,{group:x.group,command:{id:this.id,title:x.title,icon:x.icon,precondition:this.precondition},when:x.when,order:x.order})}}e.Command=u;class d extends u{constructor(){super(...arguments),this._implementations=[]}addImplementation(x,R,B,H){return this._implementations.push({priority:x,name:R,implementation:B,when:H}),this._implementations.sort((V,q)=>q.priority-V.priority),{dispose:()=>{for(let V=0;V<this._implementations.length;V++)if(this._implementations[V].implementation===B){this._implementations.splice(V,1);return}}}}runCommand(x,R){const B=x.get(h.ILogService),H=x.get(b.IContextKeyService);B.trace(`Executing Command '${this.id}' which has ${this._implementations.length} bound.`);for(const V of this._implementations){if(V.when){const K=H.getContext((0,v.getActiveElement)());if(!V.when.evaluate(K))continue}const q=V.implementation(x,R);if(q)return B.trace(`Command '${this.id}' was handled by '${V.name}'.`),typeof q=="boolean"?void 0:q}B.trace(`The Command '${this.id}' was not handled by any implementation.`)}}e.MultiCommand=d;class r extends u{constructor(x,R){super(R),this.command=x}runCommand(x,R){return this.command.runCommand(x,R)}}e.ProxyCommand=r;class l extends u{static bindToContribution(x){return class extends l{constructor(B){super(B),this._callback=B.handler}runEditorCommand(B,H,V){const q=x(H);q&&this._callback(q,V)}}}static runEditorCommand(x,R,B,H){const V=x.get(D.ICodeEditorService),q=V.getFocusedCodeEditor()||V.getActiveCodeEditor();if(q)return q.invokeWithinContext(K=>{if(K.get(b.IContextKeyService).contextMatchesRules(B??void 0))return H(K,q,R)})}runCommand(x,R){return l.runEditorCommand(x,R,this.precondition,(B,H,V)=>this.runEditorCommand(B,H,V))}}e.EditorCommand=l;class o extends l{static convertOptions(x){let R;Array.isArray(x.menuOpts)?R=x.menuOpts:x.menuOpts?R=[x.menuOpts]:R=[];function B(H){return H.menuId||(H.menuId=w.MenuId.EditorContext),H.title||(H.title=x.label),H.when=b.ContextKeyExpr.and(x.precondition,H.when),H}return Array.isArray(x.contextMenuOpts)?R.push(...x.contextMenuOpts.map(B)):x.contextMenuOpts&&R.push(B(x.contextMenuOpts)),x.menuOpts=R,x}constructor(x){super(o.convertOptions(x)),this.label=x.label,this.alias=x.alias}runEditorCommand(x,R,B){return this.reportTelemetry(x,R),this.run(x,R,B||{})}reportTelemetry(x,R){x.get(t.ITelemetryService).publicLog2("editorActionInvoked",{name:this.label,id:this.id})}}e.EditorAction=o;class g extends o{constructor(){super(...arguments),this._implementations=[]}addImplementation(x,R){return this._implementations.push([x,R]),this._implementations.sort((B,H)=>H[0]-B[0]),{dispose:()=>{for(let B=0;B<this._implementations.length;B++)if(this._implementations[B][1]===R){this._implementations.splice(B,1);return}}}}run(x,R,B){for(const H of this._implementations){const V=H[1](x,R,B);if(V)return typeof V=="boolean"?void 0:V}}}e.MultiEditorAction=g;class c extends w.Action2{run(x,...R){const B=x.get(D.ICodeEditorService),H=B.getFocusedCodeEditor()||B.getActiveCodeEditor();if(H)return H.invokeWithinContext(V=>{var q,K;const U=V.get(b.IContextKeyService),$=V.get(h.ILogService);if(!U.contextMatchesRules((q=this.desc.precondition)!==null&&q!==void 0?q:void 0)){$.debug("[EditorAction2] NOT running command because its precondition is FALSE",this.desc.id,(K=this.desc.precondition)===null||K===void 0?void 0:K.serialize());return}return this.runEditorCommand(V,H,...R)})}}e.EditorAction2=c;function f(P,x){C.CommandsRegistry.registerCommand(P,function(R,...B){const H=R.get(a.IInstantiationService),[V,q]=B;(0,n.assertType)(k.URI.isUri(V)),(0,n.assertType)(L.Position.isIPosition(q));const K=R.get(y.IModelService).getModel(V);if(K){const U=L.Position.lift(q);return H.invokeFunction(x,K,U,...B.slice(2))}return R.get(p.ITextModelService).createModelReference(V).then(U=>new Promise(($,se)=>{try{const F=H.invokeFunction(x,U.object.textEditorModel,L.Position.lift(q),B.slice(2));$(F)}catch(F){se(F)}}).finally(()=>{U.dispose()}))})}function _(P){return O.INSTANCE.registerEditorCommand(P),P}function S(P){const x=new P;return O.INSTANCE.registerEditorAction(x),x}function I(P){return O.INSTANCE.registerEditorAction(P),P}function E(P){O.INSTANCE.registerEditorAction(P)}function T(P,x,R){O.INSTANCE.registerEditorContribution(P,x,R)}var N;(function(P){function x(q){return O.INSTANCE.getEditorCommand(q)}P.getEditorCommand=x;function R(){return O.INSTANCE.getEditorActions()}P.getEditorActions=R;function B(){return O.INSTANCE.getEditorContributions()}P.getEditorContributions=B;function H(q){return O.INSTANCE.getEditorContributions().filter(K=>q.indexOf(K.id)>=0)}P.getSomeEditorContributions=H;function V(){return O.INSTANCE.getDiffEditorContributions()}P.getDiffEditorContributions=V})(N||(e.EditorExtensionsRegistry=N={}));const A={EditorCommonContributions:"editor.contributions"};class O{constructor(){this.editorContributions=[],this.diffEditorContributions=[],this.editorActions=[],this.editorCommands=Object.create(null)}registerEditorContribution(x,R,B){this.editorContributions.push({id:x,ctor:R,instantiation:B})}getEditorContributions(){return this.editorContributions.slice(0)}getDiffEditorContributions(){return this.diffEditorContributions.slice(0)}registerEditorAction(x){x.register(),this.editorActions.push(x)}getEditorActions(){return this.editorActions}registerEditorCommand(x){x.register(),this.editorCommands[x.id]=x}getEditorCommand(x){return this.editorCommands[x]||null}}O.INSTANCE=new O,i.Registry.add(A.EditorCommonContributions,O.INSTANCE);function M(P){return P.register(),P}e.UndoCommand=M(new d({id:"undo",precondition:void 0,kbOpts:{weight:0,primary:2104},menuOpts:[{menuId:w.MenuId.MenubarEditMenu,group:"1_do",title:m.localize(0,null),order:1},{menuId:w.MenuId.CommandPalette,group:"",title:m.localize(1,null),order:1}]})),M(new r(e.UndoCommand,{id:"default:undo",precondition:void 0})),e.RedoCommand=M(new d({id:"redo",precondition:void 0,kbOpts:{weight:0,primary:2103,secondary:[3128],mac:{primary:3128}},menuOpts:[{menuId:w.MenuId.MenubarEditMenu,group:"1_do",title:m.localize(2,null),order:2},{menuId:w.MenuId.CommandPalette,group:"",title:m.localize(3,null),order:1}]})),M(new r(e.RedoCommand,{id:"default:redo",precondition:void 0})),e.SelectAllCommand=M(new d({id:"editor.action.selectAll",precondition:void 0,kbOpts:{weight:0,kbExpr:null,primary:2079},menuOpts:[{menuId:w.MenuId.MenubarSelectionMenu,group:"1_basic",title:m.localize(4,null),order:1},{menuId:w.MenuId.CommandPalette,group:"",title:m.localize(5,null),order:1}]}))}),define(te[204],ie([1,0,647,62,21,45,16,36,535,77,223,224,265,9,5,19,14,131,6]),function(J,e,m,k,D,L,y,p,w,C,b,a,s,i,t,n,h,v,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CoreEditingCommands=e.CoreNavigationCommands=e.RevealLine_=e.EditorScroll_=e.CoreEditorCommand=void 0;const d=0;class r extends y.EditorCommand{runEditorCommand(A,O,M){const P=O._getViewModel();P&&this.runCoreEditorCommand(P,M||{})}}e.CoreEditorCommand=r;var l;(function(N){const A=function(M){if(!D.isObject(M))return!1;const P=M;return!(!D.isString(P.to)||!D.isUndefined(P.by)&&!D.isString(P.by)||!D.isUndefined(P.value)&&!D.isNumber(P.value)||!D.isUndefined(P.revealCursor)&&!D.isBoolean(P.revealCursor))};N.metadata={description:"Scroll editor in the given direction",args:[{name:"Editor scroll argument object",description:"Property-value pairs that can be passed through this argument:\n					* 'to': A mandatory direction value.\n						```\n						'up', 'down'\n						```\n					* 'by': Unit to move. Default is computed based on 'to' value.\n						```\n						'line', 'wrappedLine', 'page', 'halfPage', 'editor'\n						```\n					* 'value': Number of units to move. Default is '1'.\n					* 'revealCursor': If 'true' reveals the cursor if it is outside view port.\n				",constraint:A,schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["up","down"]},by:{type:"string",enum:["line","wrappedLine","page","halfPage","editor"]},value:{type:"number",default:1},revealCursor:{type:"boolean"}}}}]},N.RawDirection={Up:"up",Right:"right",Down:"down",Left:"left"},N.RawUnit={Line:"line",WrappedLine:"wrappedLine",Page:"page",HalfPage:"halfPage",Editor:"editor",Column:"column"};function O(M){let P;switch(M.to){case N.RawDirection.Up:P=1;break;case N.RawDirection.Right:P=2;break;case N.RawDirection.Down:P=3;break;case N.RawDirection.Left:P=4;break;default:return null}let x;switch(M.by){case N.RawUnit.Line:x=1;break;case N.RawUnit.WrappedLine:x=2;break;case N.RawUnit.Page:x=3;break;case N.RawUnit.HalfPage:x=4;break;case N.RawUnit.Editor:x=5;break;case N.RawUnit.Column:x=6;break;default:x=2}const R=Math.floor(M.value||1),B=!!M.revealCursor;return{direction:P,unit:x,value:R,revealCursor:B,select:!!M.select}}N.parse=O})(l||(e.EditorScroll_=l={}));var o;(function(N){const A=function(O){if(!D.isObject(O))return!1;const M=O;return!(!D.isNumber(M.lineNumber)&&!D.isString(M.lineNumber)||!D.isUndefined(M.at)&&!D.isString(M.at))};N.metadata={description:"Reveal the given line at the given logical position",args:[{name:"Reveal line argument object",description:"Property-value pairs that can be passed through this argument:\n					* 'lineNumber': A mandatory line number value.\n					* 'at': Logical position at which line has to be revealed.\n						```\n						'top', 'center', 'bottom'\n						```\n				",constraint:A,schema:{type:"object",required:["lineNumber"],properties:{lineNumber:{type:["number","string"]},at:{type:"string",enum:["top","center","bottom"]}}}}]},N.RawAtArgument={Top:"top",Center:"center",Bottom:"bottom"}})(o||(e.RevealLine_=o={}));class g{constructor(A){A.addImplementation(1e4,"code-editor",(O,M)=>{const P=O.get(p.ICodeEditorService).getFocusedCodeEditor();return P&&P.hasTextFocus()?this._runEditorCommand(O,P,M):!1}),A.addImplementation(1e3,"generic-dom-input-textarea",(O,M)=>{const P=(0,u.getActiveElement)();return P&&["input","textarea"].indexOf(P.tagName.toLowerCase())>=0?(this.runDOMCommand(P),!0):!1}),A.addImplementation(0,"generic-dom",(O,M)=>{const P=O.get(p.ICodeEditorService).getActiveCodeEditor();return P?(P.focus(),this._runEditorCommand(O,P,M)):!1})}_runEditorCommand(A,O,M){const P=this.runEditorCommand(A,O,M);return P||!0}}var c;(function(N){class A extends r{constructor(Z){super(Z),this._inSelectionMode=Z.inSelectionMode}runCoreEditorCommand(Z,ae){if(!ae.position)return;Z.model.pushStackElement(),Z.setCursorStates(ae.source,3,[a.CursorMoveCommands.moveTo(Z,Z.getPrimaryCursorState(),this._inSelectionMode,ae.position,ae.viewPosition)])&&ae.revealType!==2&&Z.revealPrimaryCursor(ae.source,!0,!0)}}N.MoveTo=(0,y.registerEditorCommand)(new A({id:"_moveTo",inSelectionMode:!1,precondition:void 0})),N.MoveToSelect=(0,y.registerEditorCommand)(new A({id:"_moveToSelect",inSelectionMode:!0,precondition:void 0}));class O extends r{runCoreEditorCommand(Z,ae){Z.model.pushStackElement();const ue=this._getColumnSelectResult(Z,Z.getPrimaryCursorState(),Z.getCursorColumnSelectData(),ae);ue!==null&&(Z.setCursorStates(ae.source,3,ue.viewStates.map(ge=>C.CursorState.fromViewState(ge))),Z.setCursorColumnSelectData({isReal:!0,fromViewLineNumber:ue.fromLineNumber,fromViewVisualColumn:ue.fromVisualColumn,toViewLineNumber:ue.toLineNumber,toViewVisualColumn:ue.toVisualColumn}),ue.reversed?Z.revealTopMostCursor(ae.source):Z.revealBottomMostCursor(ae.source))}}N.ColumnSelect=(0,y.registerEditorCommand)(new class extends O{constructor(){super({id:"columnSelect",precondition:void 0})}_getColumnSelectResult(Q,Z,ae,ue){if(typeof ue.position>"u"||typeof ue.viewPosition>"u"||typeof ue.mouseColumn>"u")return null;const ge=Q.model.validatePosition(ue.position),fe=Q.coordinatesConverter.validateViewPosition(new i.Position(ue.viewPosition.lineNumber,ue.viewPosition.column),ge),re=ue.doColumnSelect?ae.fromViewLineNumber:fe.lineNumber,de=ue.doColumnSelect?ae.fromViewVisualColumn:ue.mouseColumn-1;return w.ColumnSelection.columnSelect(Q.cursorConfig,Q,re,de,fe.lineNumber,ue.mouseColumn-1)}}),N.CursorColumnSelectLeft=(0,y.registerEditorCommand)(new class extends O{constructor(){super({id:"cursorColumnSelectLeft",precondition:void 0,kbOpts:{weight:d,kbExpr:n.EditorContextKeys.textInputFocus,primary:3599,linux:{primary:0}}})}_getColumnSelectResult(Q,Z,ae,ue){return w.ColumnSelection.columnSelectLeft(Q.cursorConfig,Q,ae)}}),N.CursorColumnSelectRight=(0,y.registerEditorCommand)(new class extends O{constructor(){super({id:"cursorColumnSelectRight",precondition:void 0,kbOpts:{weight:d,kbExpr:n.EditorContextKeys.textInputFocus,primary:3601,linux:{primary:0}}})}_getColumnSelectResult(Q,Z,ae,ue){return w.ColumnSelection.columnSelectRight(Q.cursorConfig,Q,ae)}});class M extends O{constructor(Z){super(Z),this._isPaged=Z.isPaged}_getColumnSelectResult(Z,ae,ue,ge){return w.ColumnSelection.columnSelectUp(Z.cursorConfig,Z,ue,this._isPaged)}}N.CursorColumnSelectUp=(0,y.registerEditorCommand)(new M({isPaged:!1,id:"cursorColumnSelectUp",precondition:void 0,kbOpts:{weight:d,kbExpr:n.EditorContextKeys.textInputFocus,primary:3600,linux:{primary:0}}})),N.CursorColumnSelectPageUp=(0,y.registerEditorCommand)(new M({isPaged:!0,id:"cursorColumnSelectPageUp",precondition:void 0,kbOpts:{weight:d,kbExpr:n.EditorContextKeys.textInputFocus,primary:3595,linux:{primary:0}}}));class P extends O{constructor(Z){super(Z),this._isPaged=Z.isPaged}_getColumnSelectResult(Z,ae,ue,ge){return w.ColumnSelection.columnSelectDown(Z.cursorConfig,Z,ue,this._isPaged)}}N.CursorColumnSelectDown=(0,y.registerEditorCommand)(new P({isPaged:!1,id:"cursorColumnSelectDown",precondition:void 0,kbOpts:{weight:d,kbExpr:n.EditorContextKeys.textInputFocus,primary:3602,linux:{primary:0}}})),N.CursorColumnSelectPageDown=(0,y.registerEditorCommand)(new P({isPaged:!0,id:"cursorColumnSelectPageDown",precondition:void 0,kbOpts:{weight:d,kbExpr:n.EditorContextKeys.textInputFocus,primary:3596,linux:{primary:0}}}));class x extends r{constructor(){super({id:"cursorMove",precondition:void 0,metadata:a.CursorMove.metadata})}runCoreEditorCommand(Z,ae){const ue=a.CursorMove.parse(ae);ue&&this._runCursorMove(Z,ae.source,ue)}_runCursorMove(Z,ae,ue){Z.model.pushStackElement(),Z.setCursorStates(ae,3,x._move(Z,Z.getCursorStates(),ue)),Z.revealPrimaryCursor(ae,!0)}static _move(Z,ae,ue){const ge=ue.select,fe=ue.value;switch(ue.direction){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:return a.CursorMoveCommands.simpleMove(Z,ae,ue.direction,ge,fe,ue.unit);case 11:case 13:case 12:case 14:return a.CursorMoveCommands.viewportMove(Z,ae,ue.direction,ge,fe);default:return null}}}N.CursorMoveImpl=x,N.CursorMove=(0,y.registerEditorCommand)(new x);class R extends r{constructor(Z){super(Z),this._staticArgs=Z.args}runCoreEditorCommand(Z,ae){let ue=this._staticArgs;this._staticArgs.value===-1&&(ue={direction:this._staticArgs.direction,unit:this._staticArgs.unit,select:this._staticArgs.select,value:ae.pageSize||Z.cursorConfig.pageSize}),Z.model.pushStackElement(),Z.setCursorStates(ae.source,3,a.CursorMoveCommands.simpleMove(Z,Z.getCursorStates(),ue.direction,ue.select,ue.value,ue.unit)),Z.revealPrimaryCursor(ae.source,!0)}}N.CursorLeft=(0,y.registerEditorCommand)(new R({args:{direction:0,unit:0,select:!1,value:1},id:"cursorLeft",precondition:void 0,kbOpts:{weight:d,kbExpr:n.EditorContextKeys.textInputFocus,primary:15,mac:{primary:15,secondary:[288]}}})),N.CursorLeftSelect=(0,y.registerEditorCommand)(new R({args:{direction:0,unit:0,select:!0,value:1},id:"cursorLeftSelect",precondition:void 0,kbOpts:{weight:d,kbExpr:n.EditorContextKeys.textInputFocus,primary:1039}})),N.CursorRight=(0,y.registerEditorCommand)(new R({args:{direction:1,unit:0,select:!1,value:1},id:"cursorRight",precondition:void 0,kbOpts:{weight:d,kbExpr:n.EditorContextKeys.textInputFocus,primary:17,mac:{primary:17,secondary:[292]}}})),N.CursorRightSelect=(0,y.registerEditorCommand)(new R({args:{direction:1,unit:0,select:!0,value:1},id:"cursorRightSelect",precondition:void 0,kbOpts:{weight:d,kbExpr:n.EditorContextKeys.textInputFocus,primary:1041}})),N.CursorUp=(0,y.registerEditorCommand)(new R({args:{direction:2,unit:2,select:!1,value:1},id:"cursorUp",precondition:void 0,kbOpts:{weight:d,kbExpr:n.EditorContextKeys.textInputFocus,primary:16,mac:{primary:16,secondary:[302]}}})),N.CursorUpSelect=(0,y.registerEditorCommand)(new R({args:{direction:2,unit:2,select:!0,value:1},id:"cursorUpSelect",precondition:void 0,kbOpts:{weight:d,kbExpr:n.EditorContextKeys.textInputFocus,primary:1040,secondary:[3088],mac:{primary:1040},linux:{primary:1040}}})),N.CursorPageUp=(0,y.registerEditorCommand)(new R({args:{direction:2,unit:2,select:!1,value:-1},id:"cursorPageUp",precondition:void 0,kbOpts:{weight:d,kbExpr:n.EditorContextKeys.textInputFocus,primary:11}})),N.CursorPageUpSelect=(0,y.registerEditorCommand)(new R({args:{direction:2,unit:2,select:!0,value:-1},id:"cursorPageUpSelect",precondition:void 0,kbOpts:{weight:d,kbExpr:n.EditorContextKeys.textInputFocus,primary:1035}})),N.CursorDown=(0,y.registerEditorCommand)(new R({args:{direction:3,unit:2,select:!1,value:1},id:"cursorDown",precondition:void 0,kbOpts:{weight:d,kbExpr:n.EditorContextKeys.textInputFocus,primary:18,mac:{primary:18,secondary:[300]}}})),N.CursorDownSelect=(0,y.registerEditorCommand)(new R({args:{direction:3,unit:2,select:!0,value:1},id:"cursorDownSelect",precondition:void 0,kbOpts:{weight:d,kbExpr:n.EditorContextKeys.textInputFocus,primary:1042,secondary:[3090],mac:{primary:1042},linux:{primary:1042}}})),N.CursorPageDown=(0,y.registerEditorCommand)(new R({args:{direction:3,unit:2,select:!1,value:-1},id:"cursorPageDown",precondition:void 0,kbOpts:{weight:d,kbExpr:n.EditorContextKeys.textInputFocus,primary:12}})),N.CursorPageDownSelect=(0,y.registerEditorCommand)(new R({args:{direction:3,unit:2,select:!0,value:-1},id:"cursorPageDownSelect",precondition:void 0,kbOpts:{weight:d,kbExpr:n.EditorContextKeys.textInputFocus,primary:1036}})),N.CreateCursor=(0,y.registerEditorCommand)(new class extends r{constructor(){super({id:"createCursor",precondition:void 0})}runCoreEditorCommand(Q,Z){if(!Z.position)return;let ae;Z.wholeLine?ae=a.CursorMoveCommands.line(Q,Q.getPrimaryCursorState(),!1,Z.position,Z.viewPosition):ae=a.CursorMoveCommands.moveTo(Q,Q.getPrimaryCursorState(),!1,Z.position,Z.viewPosition);const ue=Q.getCursorStates();if(ue.length>1){const ge=ae.modelState?ae.modelState.position:null,fe=ae.viewState?ae.viewState.position:null;for(let re=0,de=ue.length;re<de;re++){const ee=ue[re];if(!(ge&&!ee.modelState.selection.containsPosition(ge))&&!(fe&&!ee.viewState.selection.containsPosition(fe))){ue.splice(re,1),Q.model.pushStackElement(),Q.setCursorStates(Z.source,3,ue);return}}}ue.push(ae),Q.model.pushStackElement(),Q.setCursorStates(Z.source,3,ue)}}),N.LastCursorMoveToSelect=(0,y.registerEditorCommand)(new class extends r{constructor(){super({id:"_lastCursorMoveToSelect",precondition:void 0})}runCoreEditorCommand(Q,Z){if(!Z.position)return;const ae=Q.getLastAddedCursorIndex(),ue=Q.getCursorStates(),ge=ue.slice(0);ge[ae]=a.CursorMoveCommands.moveTo(Q,ue[ae],!0,Z.position,Z.viewPosition),Q.model.pushStackElement(),Q.setCursorStates(Z.source,3,ge)}});class B extends r{constructor(Z){super(Z),this._inSelectionMode=Z.inSelectionMode}runCoreEditorCommand(Z,ae){Z.model.pushStackElement(),Z.setCursorStates(ae.source,3,a.CursorMoveCommands.moveToBeginningOfLine(Z,Z.getCursorStates(),this._inSelectionMode)),Z.revealPrimaryCursor(ae.source,!0)}}N.CursorHome=(0,y.registerEditorCommand)(new B({inSelectionMode:!1,id:"cursorHome",precondition:void 0,kbOpts:{weight:d,kbExpr:n.EditorContextKeys.textInputFocus,primary:14,mac:{primary:14,secondary:[2063]}}})),N.CursorHomeSelect=(0,y.registerEditorCommand)(new B({inSelectionMode:!0,id:"cursorHomeSelect",precondition:void 0,kbOpts:{weight:d,kbExpr:n.EditorContextKeys.textInputFocus,primary:1038,mac:{primary:1038,secondary:[3087]}}}));class H extends r{constructor(Z){super(Z),this._inSelectionMode=Z.inSelectionMode}runCoreEditorCommand(Z,ae){Z.model.pushStackElement(),Z.setCursorStates(ae.source,3,this._exec(Z.getCursorStates())),Z.revealPrimaryCursor(ae.source,!0)}_exec(Z){const ae=[];for(let ue=0,ge=Z.length;ue<ge;ue++){const fe=Z[ue],re=fe.modelState.position.lineNumber;ae[ue]=C.CursorState.fromModelState(fe.modelState.move(this._inSelectionMode,re,1,0))}return ae}}N.CursorLineStart=(0,y.registerEditorCommand)(new H({inSelectionMode:!1,id:"cursorLineStart",precondition:void 0,kbOpts:{weight:d,kbExpr:n.EditorContextKeys.textInputFocus,primary:0,mac:{primary:287}}})),N.CursorLineStartSelect=(0,y.registerEditorCommand)(new H({inSelectionMode:!0,id:"cursorLineStartSelect",precondition:void 0,kbOpts:{weight:d,kbExpr:n.EditorContextKeys.textInputFocus,primary:0,mac:{primary:1311}}}));class V extends r{constructor(Z){super(Z),this._inSelectionMode=Z.inSelectionMode}runCoreEditorCommand(Z,ae){Z.model.pushStackElement(),Z.setCursorStates(ae.source,3,a.CursorMoveCommands.moveToEndOfLine(Z,Z.getCursorStates(),this._inSelectionMode,ae.sticky||!1)),Z.revealPrimaryCursor(ae.source,!0)}}N.CursorEnd=(0,y.registerEditorCommand)(new V({inSelectionMode:!1,id:"cursorEnd",precondition:void 0,kbOpts:{args:{sticky:!1},weight:d,kbExpr:n.EditorContextKeys.textInputFocus,primary:13,mac:{primary:13,secondary:[2065]}},metadata:{description:"Go to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:m.localize(0,null),type:"boolean",default:!1}}}}]}})),N.CursorEndSelect=(0,y.registerEditorCommand)(new V({inSelectionMode:!0,id:"cursorEndSelect",precondition:void 0,kbOpts:{args:{sticky:!1},weight:d,kbExpr:n.EditorContextKeys.textInputFocus,primary:1037,mac:{primary:1037,secondary:[3089]}},metadata:{description:"Select to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:m.localize(1,null),type:"boolean",default:!1}}}}]}}));class q extends r{constructor(Z){super(Z),this._inSelectionMode=Z.inSelectionMode}runCoreEditorCommand(Z,ae){Z.model.pushStackElement(),Z.setCursorStates(ae.source,3,this._exec(Z,Z.getCursorStates())),Z.revealPrimaryCursor(ae.source,!0)}_exec(Z,ae){const ue=[];for(let ge=0,fe=ae.length;ge<fe;ge++){const re=ae[ge],de=re.modelState.position.lineNumber,ee=Z.model.getLineMaxColumn(de);ue[ge]=C.CursorState.fromModelState(re.modelState.move(this._inSelectionMode,de,ee,0))}return ue}}N.CursorLineEnd=(0,y.registerEditorCommand)(new q({inSelectionMode:!1,id:"cursorLineEnd",precondition:void 0,kbOpts:{weight:d,kbExpr:n.EditorContextKeys.textInputFocus,primary:0,mac:{primary:291}}})),N.CursorLineEndSelect=(0,y.registerEditorCommand)(new q({inSelectionMode:!0,id:"cursorLineEndSelect",precondition:void 0,kbOpts:{weight:d,kbExpr:n.EditorContextKeys.textInputFocus,primary:0,mac:{primary:1315}}}));class K extends r{constructor(Z){super(Z),this._inSelectionMode=Z.inSelectionMode}runCoreEditorCommand(Z,ae){Z.model.pushStackElement(),Z.setCursorStates(ae.source,3,a.CursorMoveCommands.moveToBeginningOfBuffer(Z,Z.getCursorStates(),this._inSelectionMode)),Z.revealPrimaryCursor(ae.source,!0)}}N.CursorTop=(0,y.registerEditorCommand)(new K({inSelectionMode:!1,id:"cursorTop",precondition:void 0,kbOpts:{weight:d,kbExpr:n.EditorContextKeys.textInputFocus,primary:2062,mac:{primary:2064}}})),N.CursorTopSelect=(0,y.registerEditorCommand)(new K({inSelectionMode:!0,id:"cursorTopSelect",precondition:void 0,kbOpts:{weight:d,kbExpr:n.EditorContextKeys.textInputFocus,primary:3086,mac:{primary:3088}}}));class U extends r{constructor(Z){super(Z),this._inSelectionMode=Z.inSelectionMode}runCoreEditorCommand(Z,ae){Z.model.pushStackElement(),Z.setCursorStates(ae.source,3,a.CursorMoveCommands.moveToEndOfBuffer(Z,Z.getCursorStates(),this._inSelectionMode)),Z.revealPrimaryCursor(ae.source,!0)}}N.CursorBottom=(0,y.registerEditorCommand)(new U({inSelectionMode:!1,id:"cursorBottom",precondition:void 0,kbOpts:{weight:d,kbExpr:n.EditorContextKeys.textInputFocus,primary:2061,mac:{primary:2066}}})),N.CursorBottomSelect=(0,y.registerEditorCommand)(new U({inSelectionMode:!0,id:"cursorBottomSelect",precondition:void 0,kbOpts:{weight:d,kbExpr:n.EditorContextKeys.textInputFocus,primary:3085,mac:{primary:3090}}}));class $ extends r{constructor(){super({id:"editorScroll",precondition:void 0,metadata:l.metadata})}determineScrollMethod(Z){const ae=[6],ue=[1,2,3,4,5,6],ge=[4,2],fe=[1,3];return ae.includes(Z.unit)&&ge.includes(Z.direction)?this._runHorizontalEditorScroll.bind(this):ue.includes(Z.unit)&&fe.includes(Z.direction)?this._runVerticalEditorScroll.bind(this):null}runCoreEditorCommand(Z,ae){const ue=l.parse(ae);if(!ue)return;const ge=this.determineScrollMethod(ue);ge&&ge(Z,ae.source,ue)}_runVerticalEditorScroll(Z,ae,ue){const ge=this._computeDesiredScrollTop(Z,ue);if(ue.revealCursor){const fe=Z.getCompletelyVisibleViewRangeAtScrollTop(ge);Z.setCursorStates(ae,3,[a.CursorMoveCommands.findPositionInViewportIfOutside(Z,Z.getPrimaryCursorState(),fe,ue.select)])}Z.viewLayout.setScrollPosition({scrollTop:ge},0)}_computeDesiredScrollTop(Z,ae){if(ae.unit===1){const fe=Z.viewLayout.getFutureViewport(),re=Z.getCompletelyVisibleViewRangeAtScrollTop(fe.top),de=Z.coordinatesConverter.convertViewRangeToModelRange(re);let ee;ae.direction===1?ee=Math.max(1,de.startLineNumber-ae.value):ee=Math.min(Z.model.getLineCount(),de.startLineNumber+ae.value);const W=Z.coordinatesConverter.convertModelPositionToViewPosition(new i.Position(ee,1));return Z.viewLayout.getVerticalOffsetForLineNumber(W.lineNumber)}if(ae.unit===5){let fe=0;return ae.direction===3&&(fe=Z.model.getLineCount()-Z.cursorConfig.pageSize),Z.viewLayout.getVerticalOffsetForLineNumber(fe)}let ue;ae.unit===3?ue=Z.cursorConfig.pageSize*ae.value:ae.unit===4?ue=Math.round(Z.cursorConfig.pageSize/2)*ae.value:ue=ae.value;const ge=(ae.direction===1?-1:1)*ue;return Z.viewLayout.getCurrentScrollTop()+ge*Z.cursorConfig.lineHeight}_runHorizontalEditorScroll(Z,ae,ue){const ge=this._computeDesiredScrollLeft(Z,ue);Z.viewLayout.setScrollPosition({scrollLeft:ge},0)}_computeDesiredScrollLeft(Z,ae){const ue=(ae.direction===4?-1:1)*ae.value;return Z.viewLayout.getCurrentScrollLeft()+ue*Z.cursorConfig.typicalHalfwidthCharacterWidth}}N.EditorScrollImpl=$,N.EditorScroll=(0,y.registerEditorCommand)(new $),N.ScrollLineUp=(0,y.registerEditorCommand)(new class extends r{constructor(){super({id:"scrollLineUp",precondition:void 0,kbOpts:{weight:d,kbExpr:n.EditorContextKeys.textInputFocus,primary:2064,mac:{primary:267}}})}runCoreEditorCommand(Q,Z){N.EditorScroll.runCoreEditorCommand(Q,{to:l.RawDirection.Up,by:l.RawUnit.WrappedLine,value:1,revealCursor:!1,select:!1,source:Z.source})}}),N.ScrollPageUp=(0,y.registerEditorCommand)(new class extends r{constructor(){super({id:"scrollPageUp",precondition:void 0,kbOpts:{weight:d,kbExpr:n.EditorContextKeys.textInputFocus,primary:2059,win:{primary:523},linux:{primary:523}}})}runCoreEditorCommand(Q,Z){N.EditorScroll.runCoreEditorCommand(Q,{to:l.RawDirection.Up,by:l.RawUnit.Page,value:1,revealCursor:!1,select:!1,source:Z.source})}}),N.ScrollEditorTop=(0,y.registerEditorCommand)(new class extends r{constructor(){super({id:"scrollEditorTop",precondition:void 0,kbOpts:{weight:d,kbExpr:n.EditorContextKeys.textInputFocus}})}runCoreEditorCommand(Q,Z){N.EditorScroll.runCoreEditorCommand(Q,{to:l.RawDirection.Up,by:l.RawUnit.Editor,value:1,revealCursor:!1,select:!1,source:Z.source})}}),N.ScrollLineDown=(0,y.registerEditorCommand)(new class extends r{constructor(){super({id:"scrollLineDown",precondition:void 0,kbOpts:{weight:d,kbExpr:n.EditorContextKeys.textInputFocus,primary:2066,mac:{primary:268}}})}runCoreEditorCommand(Q,Z){N.EditorScroll.runCoreEditorCommand(Q,{to:l.RawDirection.Down,by:l.RawUnit.WrappedLine,value:1,revealCursor:!1,select:!1,source:Z.source})}}),N.ScrollPageDown=(0,y.registerEditorCommand)(new class extends r{constructor(){super({id:"scrollPageDown",precondition:void 0,kbOpts:{weight:d,kbExpr:n.EditorContextKeys.textInputFocus,primary:2060,win:{primary:524},linux:{primary:524}}})}runCoreEditorCommand(Q,Z){N.EditorScroll.runCoreEditorCommand(Q,{to:l.RawDirection.Down,by:l.RawUnit.Page,value:1,revealCursor:!1,select:!1,source:Z.source})}}),N.ScrollEditorBottom=(0,y.registerEditorCommand)(new class extends r{constructor(){super({id:"scrollEditorBottom",precondition:void 0,kbOpts:{weight:d,kbExpr:n.EditorContextKeys.textInputFocus}})}runCoreEditorCommand(Q,Z){N.EditorScroll.runCoreEditorCommand(Q,{to:l.RawDirection.Down,by:l.RawUnit.Editor,value:1,revealCursor:!1,select:!1,source:Z.source})}}),N.ScrollLeft=(0,y.registerEditorCommand)(new class extends r{constructor(){super({id:"scrollLeft",precondition:void 0,kbOpts:{weight:d,kbExpr:n.EditorContextKeys.textInputFocus}})}runCoreEditorCommand(Q,Z){N.EditorScroll.runCoreEditorCommand(Q,{to:l.RawDirection.Left,by:l.RawUnit.Column,value:2,revealCursor:!1,select:!1,source:Z.source})}}),N.ScrollRight=(0,y.registerEditorCommand)(new class extends r{constructor(){super({id:"scrollRight",precondition:void 0,kbOpts:{weight:d,kbExpr:n.EditorContextKeys.textInputFocus}})}runCoreEditorCommand(Q,Z){N.EditorScroll.runCoreEditorCommand(Q,{to:l.RawDirection.Right,by:l.RawUnit.Column,value:2,revealCursor:!1,select:!1,source:Z.source})}});class se extends r{constructor(Z){super(Z),this._inSelectionMode=Z.inSelectionMode}runCoreEditorCommand(Z,ae){ae.position&&(Z.model.pushStackElement(),Z.setCursorStates(ae.source,3,[a.CursorMoveCommands.word(Z,Z.getPrimaryCursorState(),this._inSelectionMode,ae.position)]),ae.revealType!==2&&Z.revealPrimaryCursor(ae.source,!0,!0))}}N.WordSelect=(0,y.registerEditorCommand)(new se({inSelectionMode:!1,id:"_wordSelect",precondition:void 0})),N.WordSelectDrag=(0,y.registerEditorCommand)(new se({inSelectionMode:!0,id:"_wordSelectDrag",precondition:void 0})),N.LastCursorWordSelect=(0,y.registerEditorCommand)(new class extends r{constructor(){super({id:"lastCursorWordSelect",precondition:void 0})}runCoreEditorCommand(Q,Z){if(!Z.position)return;const ae=Q.getLastAddedCursorIndex(),ue=Q.getCursorStates(),ge=ue.slice(0),fe=ue[ae];ge[ae]=a.CursorMoveCommands.word(Q,fe,fe.modelState.hasSelection(),Z.position),Q.model.pushStackElement(),Q.setCursorStates(Z.source,3,ge)}});class F extends r{constructor(Z){super(Z),this._inSelectionMode=Z.inSelectionMode}runCoreEditorCommand(Z,ae){ae.position&&(Z.model.pushStackElement(),Z.setCursorStates(ae.source,3,[a.CursorMoveCommands.line(Z,Z.getPrimaryCursorState(),this._inSelectionMode,ae.position,ae.viewPosition)]),ae.revealType!==2&&Z.revealPrimaryCursor(ae.source,!1,!0))}}N.LineSelect=(0,y.registerEditorCommand)(new F({inSelectionMode:!1,id:"_lineSelect",precondition:void 0})),N.LineSelectDrag=(0,y.registerEditorCommand)(new F({inSelectionMode:!0,id:"_lineSelectDrag",precondition:void 0}));class X extends r{constructor(Z){super(Z),this._inSelectionMode=Z.inSelectionMode}runCoreEditorCommand(Z,ae){if(!ae.position)return;const ue=Z.getLastAddedCursorIndex(),ge=Z.getCursorStates(),fe=ge.slice(0);fe[ue]=a.CursorMoveCommands.line(Z,ge[ue],this._inSelectionMode,ae.position,ae.viewPosition),Z.model.pushStackElement(),Z.setCursorStates(ae.source,3,fe)}}N.LastCursorLineSelect=(0,y.registerEditorCommand)(new X({inSelectionMode:!1,id:"lastCursorLineSelect",precondition:void 0})),N.LastCursorLineSelectDrag=(0,y.registerEditorCommand)(new X({inSelectionMode:!0,id:"lastCursorLineSelectDrag",precondition:void 0})),N.CancelSelection=(0,y.registerEditorCommand)(new class extends r{constructor(){super({id:"cancelSelection",precondition:n.EditorContextKeys.hasNonEmptySelection,kbOpts:{weight:d,kbExpr:n.EditorContextKeys.textInputFocus,primary:9,secondary:[1033]}})}runCoreEditorCommand(Q,Z){Q.model.pushStackElement(),Q.setCursorStates(Z.source,3,[a.CursorMoveCommands.cancelSelection(Q,Q.getPrimaryCursorState())]),Q.revealPrimaryCursor(Z.source,!0)}}),N.RemoveSecondaryCursors=(0,y.registerEditorCommand)(new class extends r{constructor(){super({id:"removeSecondaryCursors",precondition:n.EditorContextKeys.hasMultipleSelections,kbOpts:{weight:d+1,kbExpr:n.EditorContextKeys.textInputFocus,primary:9,secondary:[1033]}})}runCoreEditorCommand(Q,Z){Q.model.pushStackElement(),Q.setCursorStates(Z.source,3,[Q.getPrimaryCursorState()]),Q.revealPrimaryCursor(Z.source,!0),(0,L.status)(m.localize(2,null))}}),N.RevealLine=(0,y.registerEditorCommand)(new class extends r{constructor(){super({id:"revealLine",precondition:void 0,metadata:o.metadata})}runCoreEditorCommand(Q,Z){const ae=Z,ue=ae.lineNumber||0;let ge=typeof ue=="number"?ue+1:parseInt(ue)+1;ge<1&&(ge=1);const fe=Q.model.getLineCount();ge>fe&&(ge=fe);const re=new t.Range(ge,1,ge,Q.model.getLineMaxColumn(ge));let de=0;if(ae.at)switch(ae.at){case o.RawAtArgument.Top:de=3;break;case o.RawAtArgument.Center:de=1;break;case o.RawAtArgument.Bottom:de=4;break;default:break}const ee=Q.coordinatesConverter.convertModelRangeToViewRange(re);Q.revealRange(Z.source,!1,ee,de,0)}}),N.SelectAll=new class extends g{constructor(){super(y.SelectAllCommand)}runDOMCommand(Q){k.isFirefox&&(Q.focus(),Q.select()),Q.ownerDocument.execCommand("selectAll")}runEditorCommand(Q,Z,ae){const ue=Z._getViewModel();ue&&this.runCoreEditorCommand(ue,ae)}runCoreEditorCommand(Q,Z){Q.model.pushStackElement(),Q.setCursorStates("keyboard",3,[a.CursorMoveCommands.selectAll(Q,Q.getPrimaryCursorState())])}},N.SetSelection=(0,y.registerEditorCommand)(new class extends r{constructor(){super({id:"setSelection",precondition:void 0})}runCoreEditorCommand(Q,Z){Z.selection&&(Q.model.pushStackElement(),Q.setCursorStates(Z.source,3,[C.CursorState.fromModelSelection(Z.selection)]))}})})(c||(e.CoreNavigationCommands=c={}));const f=h.ContextKeyExpr.and(n.EditorContextKeys.textInputFocus,n.EditorContextKeys.columnSelection);function _(N,A){v.KeybindingsRegistry.registerKeybindingRule({id:N,primary:A,when:f,weight:d+1})}_(c.CursorColumnSelectLeft.id,1039),_(c.CursorColumnSelectRight.id,1041),_(c.CursorColumnSelectUp.id,1040),_(c.CursorColumnSelectPageUp.id,1035),_(c.CursorColumnSelectDown.id,1042),_(c.CursorColumnSelectPageDown.id,1036);function S(N){return N.register(),N}var I;(function(N){class A extends y.EditorCommand{runEditorCommand(M,P,x){const R=P._getViewModel();R&&this.runCoreEditingCommand(P,R,x||{})}}N.CoreEditingCommand=A,N.LineBreakInsert=(0,y.registerEditorCommand)(new class extends A{constructor(){super({id:"lineBreakInsert",precondition:n.EditorContextKeys.writable,kbOpts:{weight:d,kbExpr:n.EditorContextKeys.textInputFocus,primary:0,mac:{primary:301}}})}runCoreEditingCommand(O,M,P){O.pushUndoStop(),O.executeCommands(this.id,s.TypeOperations.lineBreakInsert(M.cursorConfig,M.model,M.getCursorStates().map(x=>x.modelState.selection)))}}),N.Outdent=(0,y.registerEditorCommand)(new class extends A{constructor(){super({id:"outdent",precondition:n.EditorContextKeys.writable,kbOpts:{weight:d,kbExpr:h.ContextKeyExpr.and(n.EditorContextKeys.editorTextFocus,n.EditorContextKeys.tabDoesNotMoveFocus),primary:1026}})}runCoreEditingCommand(O,M,P){O.pushUndoStop(),O.executeCommands(this.id,s.TypeOperations.outdent(M.cursorConfig,M.model,M.getCursorStates().map(x=>x.modelState.selection))),O.pushUndoStop()}}),N.Tab=(0,y.registerEditorCommand)(new class extends A{constructor(){super({id:"tab",precondition:n.EditorContextKeys.writable,kbOpts:{weight:d,kbExpr:h.ContextKeyExpr.and(n.EditorContextKeys.editorTextFocus,n.EditorContextKeys.tabDoesNotMoveFocus),primary:2}})}runCoreEditingCommand(O,M,P){O.pushUndoStop(),O.executeCommands(this.id,s.TypeOperations.tab(M.cursorConfig,M.model,M.getCursorStates().map(x=>x.modelState.selection))),O.pushUndoStop()}}),N.DeleteLeft=(0,y.registerEditorCommand)(new class extends A{constructor(){super({id:"deleteLeft",precondition:void 0,kbOpts:{weight:d,kbExpr:n.EditorContextKeys.textInputFocus,primary:1,secondary:[1025],mac:{primary:1,secondary:[1025,294,257]}}})}runCoreEditingCommand(O,M,P){const[x,R]=b.DeleteOperations.deleteLeft(M.getPrevEditOperationType(),M.cursorConfig,M.model,M.getCursorStates().map(B=>B.modelState.selection),M.getCursorAutoClosedCharacters());x&&O.pushUndoStop(),O.executeCommands(this.id,R),M.setPrevEditOperationType(2)}}),N.DeleteRight=(0,y.registerEditorCommand)(new class extends A{constructor(){super({id:"deleteRight",precondition:void 0,kbOpts:{weight:d,kbExpr:n.EditorContextKeys.textInputFocus,primary:20,mac:{primary:20,secondary:[290,276]}}})}runCoreEditingCommand(O,M,P){const[x,R]=b.DeleteOperations.deleteRight(M.getPrevEditOperationType(),M.cursorConfig,M.model,M.getCursorStates().map(B=>B.modelState.selection));x&&O.pushUndoStop(),O.executeCommands(this.id,R),M.setPrevEditOperationType(3)}}),N.Undo=new class extends g{constructor(){super(y.UndoCommand)}runDOMCommand(O){O.ownerDocument.execCommand("undo")}runEditorCommand(O,M,P){if(!(!M.hasModel()||M.getOption(91)===!0))return M.getModel().undo()}},N.Redo=new class extends g{constructor(){super(y.RedoCommand)}runDOMCommand(O){O.ownerDocument.execCommand("redo")}runEditorCommand(O,M,P){if(!(!M.hasModel()||M.getOption(91)===!0))return M.getModel().redo()}}})(I||(e.CoreEditingCommands=I={}));class E extends y.Command{constructor(A,O,M){super({id:A,precondition:void 0,metadata:M}),this._handlerId=O}runCommand(A,O){const M=A.get(p.ICodeEditorService).getFocusedCodeEditor();M&&M.trigger("keyboard",this._handlerId,O)}}function T(N,A){S(new E("default:"+N,N)),S(new E(N,N,A))}T("type",{description:"Type",args:[{name:"args",schema:{type:"object",required:["text"],properties:{text:{type:"string"}}}}]}),T("replacePreviousChar"),T("compositionType"),T("compositionStart"),T("compositionEnd"),T("paste"),T("cut")}),define(te[844],ie([1,0,253,16]),function(J,e,m,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarkerDecorationsContribution=void 0;let D=class{constructor(y,p){}dispose(){}};e.MarkerDecorationsContribution=D,D.ID="editor.contrib.markerDecorations",e.MarkerDecorationsContribution=D=Ie([he(1,m.IMarkerDecorationsService)],D),(0,k.registerEditorContribution)(D.ID,D,0)}),define(te[845],ie([1,0,204,9,17]),function(J,e,m,k,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewController=void 0;class L{constructor(p,w,C,b){this.configuration=p,this.viewModel=w,this.userInputEvents=C,this.commandDelegate=b}paste(p,w,C,b){this.commandDelegate.paste(p,w,C,b)}type(p){this.commandDelegate.type(p)}compositionType(p,w,C,b){this.commandDelegate.compositionType(p,w,C,b)}compositionStart(){this.commandDelegate.startComposition()}compositionEnd(){this.commandDelegate.endComposition()}cut(){this.commandDelegate.cut()}setSelection(p){m.CoreNavigationCommands.SetSelection.runCoreEditorCommand(this.viewModel,{source:"keyboard",selection:p})}_validateViewColumn(p){const w=this.viewModel.getLineMinColumn(p.lineNumber);return p.column<w?new k.Position(p.lineNumber,w):p}_hasMulticursorModifier(p){switch(this.configuration.options.get(78)){case"altKey":return p.altKey;case"ctrlKey":return p.ctrlKey;case"metaKey":return p.metaKey;default:return!1}}_hasNonMulticursorModifier(p){switch(this.configuration.options.get(78)){case"altKey":return p.ctrlKey||p.metaKey;case"ctrlKey":return p.altKey||p.metaKey;case"metaKey":return p.ctrlKey||p.altKey;default:return!1}}dispatchMouse(p){const w=this.configuration.options,C=D.isLinux&&w.get(107),b=w.get(22);p.middleButton&&!C?this._columnSelect(p.position,p.mouseColumn,p.inSelectionMode):p.startedOnLineNumbers?this._hasMulticursorModifier(p)?p.inSelectionMode?this._lastCursorLineSelect(p.position,p.revealType):this._createCursor(p.position,!0):p.inSelectionMode?this._lineSelectDrag(p.position,p.revealType):this._lineSelect(p.position,p.revealType):p.mouseDownCount>=4?this._selectAll():p.mouseDownCount===3?this._hasMulticursorModifier(p)?p.inSelectionMode?this._lastCursorLineSelectDrag(p.position,p.revealType):this._lastCursorLineSelect(p.position,p.revealType):p.inSelectionMode?this._lineSelectDrag(p.position,p.revealType):this._lineSelect(p.position,p.revealType):p.mouseDownCount===2?p.onInjectedText||(this._hasMulticursorModifier(p)?this._lastCursorWordSelect(p.position,p.revealType):p.inSelectionMode?this._wordSelectDrag(p.position,p.revealType):this._wordSelect(p.position,p.revealType)):this._hasMulticursorModifier(p)?this._hasNonMulticursorModifier(p)||(p.shiftKey?this._columnSelect(p.position,p.mouseColumn,!0):p.inSelectionMode?this._lastCursorMoveToSelect(p.position,p.revealType):this._createCursor(p.position,!1)):p.inSelectionMode?p.altKey?this._columnSelect(p.position,p.mouseColumn,!0):b?this._columnSelect(p.position,p.mouseColumn,!0):this._moveToSelect(p.position,p.revealType):this.moveTo(p.position,p.revealType)}_usualArgs(p,w){return p=this._validateViewColumn(p),{source:"mouse",position:this._convertViewToModelPosition(p),viewPosition:p,revealType:w}}moveTo(p,w){m.CoreNavigationCommands.MoveTo.runCoreEditorCommand(this.viewModel,this._usualArgs(p,w))}_moveToSelect(p,w){m.CoreNavigationCommands.MoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(p,w))}_columnSelect(p,w,C){p=this._validateViewColumn(p),m.CoreNavigationCommands.ColumnSelect.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(p),viewPosition:p,mouseColumn:w,doColumnSelect:C})}_createCursor(p,w){p=this._validateViewColumn(p),m.CoreNavigationCommands.CreateCursor.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(p),viewPosition:p,wholeLine:w})}_lastCursorMoveToSelect(p,w){m.CoreNavigationCommands.LastCursorMoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(p,w))}_wordSelect(p,w){m.CoreNavigationCommands.WordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(p,w))}_wordSelectDrag(p,w){m.CoreNavigationCommands.WordSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(p,w))}_lastCursorWordSelect(p,w){m.CoreNavigationCommands.LastCursorWordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(p,w))}_lineSelect(p,w){m.CoreNavigationCommands.LineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(p,w))}_lineSelectDrag(p,w){m.CoreNavigationCommands.LineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(p,w))}_lastCursorLineSelect(p,w){m.CoreNavigationCommands.LastCursorLineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(p,w))}_lastCursorLineSelectDrag(p,w){m.CoreNavigationCommands.LastCursorLineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(p,w))}_selectAll(){m.CoreNavigationCommands.SelectAll.runCoreEditorCommand(this.viewModel,{source:"mouse"})}_convertViewToModelPosition(p){return this.viewModel.coordinatesConverter.convertViewPositionToModelPosition(p)}emitKeyDown(p){this.userInputEvents.emitKeyDown(p)}emitKeyUp(p){this.userInputEvents.emitKeyUp(p)}emitContextMenu(p){this.userInputEvents.emitContextMenu(p)}emitMouseMove(p){this.userInputEvents.emitMouseMove(p)}emitMouseLeave(p){this.userInputEvents.emitMouseLeave(p)}emitMouseUp(p){this.userInputEvents.emitMouseUp(p)}emitMouseDown(p){this.userInputEvents.emitMouseDown(p)}emitMouseDrag(p){this.userInputEvents.emitMouseDrag(p)}emitMouseDrop(p){this.userInputEvents.emitMouseDrop(p)}emitMouseDropCanceled(){this.userInputEvents.emitMouseDropCanceled()}emitMouseWheel(p){this.userInputEvents.emitMouseWheel(p)}}e.ViewController=L}),define(te[846],ie([1,0,46,8,7,63,60,100,111,65]),function(J,e,m,k,D,L,y,p,w,C){"use strict";var b;Object.defineProperty(e,"__esModule",{value:!0}),e.WorkerBasedDocumentDiffProvider=e.WorkerBasedDiffProviderFactoryService=e.IDiffProviderFactoryService=void 0,e.IDiffProviderFactoryService=(0,k.createDecorator)("diffProviderFactoryService");let a=class{constructor(t){this.instantiationService=t}createDiffProvider(t){return this.instantiationService.createInstance(s,t)}};e.WorkerBasedDiffProviderFactoryService=a,e.WorkerBasedDiffProviderFactoryService=a=Ie([he(0,k.IInstantiationService)],a),(0,m.registerSingleton)(e.IDiffProviderFactoryService,a,1);let s=b=class{constructor(t,n,h){this.editorWorkerService=n,this.telemetryService=h,this.onDidChangeEventEmitter=new D.Emitter,this.onDidChange=this.onDidChangeEventEmitter.event,this.diffAlgorithm="advanced",this.diffAlgorithmOnDidChangeSubscription=void 0,this.setOptions(t)}dispose(){var t;(t=this.diffAlgorithmOnDidChangeSubscription)===null||t===void 0||t.dispose()}async computeDiff(t,n,h,v){var u,d;if(typeof this.diffAlgorithm!="string")return this.diffAlgorithm.computeDiff(t,n,h,v);if(t.getLineCount()===1&&t.getLineMaxColumn(1)===1)return n.getLineCount()===1&&n.getLineMaxColumn(1)===1?{changes:[],identical:!0,quitEarly:!1,moves:[]}:{changes:[new p.DetailedLineRangeMapping(new y.LineRange(1,2),new y.LineRange(1,n.getLineCount()+1),[new p.RangeMapping(t.getFullModelRange(),n.getFullModelRange())])],identical:!1,quitEarly:!1,moves:[]};const r=JSON.stringify([t.uri.toString(),n.uri.toString()]),l=JSON.stringify([t.id,n.id,t.getAlternativeVersionId(),n.getAlternativeVersionId(),JSON.stringify(h)]),o=b.diffCache.get(r);if(o&&o.context===l)return o.result;const g=L.StopWatch.create(),c=await this.editorWorkerService.computeDiff(t.uri,n.uri,h,this.diffAlgorithm),f=g.elapsed();if(this.telemetryService.publicLog2("diffEditor.computeDiff",{timeMs:f,timedOut:(u=c?.quitEarly)!==null&&u!==void 0?u:!0,detectedMoves:h.computeMoves?(d=c?.moves.length)!==null&&d!==void 0?d:0:-1}),v.isCancellationRequested)return{changes:[],identical:!1,quitEarly:!0,moves:[]};if(!c)throw new Error("no diff result available");return b.diffCache.size>10&&b.diffCache.delete(b.diffCache.keys().next().value),b.diffCache.set(r,{result:c,context:l}),c}setOptions(t){var n;let h=!1;t.diffAlgorithm&&this.diffAlgorithm!==t.diffAlgorithm&&((n=this.diffAlgorithmOnDidChangeSubscription)===null||n===void 0||n.dispose(),this.diffAlgorithmOnDidChangeSubscription=void 0,this.diffAlgorithm=t.diffAlgorithm,typeof t.diffAlgorithm!="string"&&(this.diffAlgorithmOnDidChangeSubscription=t.diffAlgorithm.onDidChange(()=>this.onDidChangeEventEmitter.fire())),h=!0),h&&this.onDidChangeEventEmitter.fire()}};e.WorkerBasedDocumentDiffProvider=s,s.diffCache=new Map,e.WorkerBasedDocumentDiffProvider=s=b=Ie([he(1,w.IEditorWorkerService),he(2,C.ITelemetryService)],s)}),define(te[378],ie([1,0,15,20,2,32,846,82,60,304,100,191,306,302,21,13,87]),function(J,e,m,k,D,L,y,p,w,C,b,a,s,i,t,n,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UnchangedRegion=e.DiffMapping=e.DiffState=e.DiffEditorViewModel=void 0;let v=class extends D.Disposable{setActiveMovedText(_){this._activeMovedText.set(_,void 0)}constructor(_,S,I){super(),this.model=_,this._options=S,this._diffProviderFactoryService=I,this._isDiffUpToDate=(0,L.observableValue)(this,!1),this.isDiffUpToDate=this._isDiffUpToDate,this._diff=(0,L.observableValue)(this,void 0),this.diff=this._diff,this._unchangedRegions=(0,L.observableValue)(this,void 0),this.unchangedRegions=(0,L.derived)(this,A=>{var O,M;return this._options.hideUnchangedRegions.read(A)?(M=(O=this._unchangedRegions.read(A))===null||O===void 0?void 0:O.regions)!==null&&M!==void 0?M:[]:((0,L.transaction)(P=>{var x;for(const R of((x=this._unchangedRegions.get())===null||x===void 0?void 0:x.regions)||[])R.collapseAll(P)}),[])}),this.movedTextToCompare=(0,L.observableValue)(this,void 0),this._activeMovedText=(0,L.observableValue)(this,void 0),this._hoveredMovedText=(0,L.observableValue)(this,void 0),this.activeMovedText=(0,L.derived)(this,A=>{var O,M;return(M=(O=this.movedTextToCompare.read(A))!==null&&O!==void 0?O:this._hoveredMovedText.read(A))!==null&&M!==void 0?M:this._activeMovedText.read(A)}),this._cancellationTokenSource=new k.CancellationTokenSource,this._diffProvider=(0,L.derived)(this,A=>{const O=this._diffProviderFactoryService.createDiffProvider({diffAlgorithm:this._options.diffAlgorithm.read(A)}),M=(0,L.observableSignalFromEvent)("onDidChange",O.onDidChange);return{diffProvider:O,onChangeSignal:M}}),this._register((0,D.toDisposable)(()=>this._cancellationTokenSource.cancel()));const E=(0,L.observableSignal)("contentChangedSignal"),T=this._register(new m.RunOnceScheduler(()=>E.trigger(void 0),200));this._register((0,L.autorun)(A=>{const O=this._unchangedRegions.read(A);if(!O||O.regions.some(H=>H.isDragged.read(A)))return;const M=O.originalDecorationIds.map(H=>_.original.getDecorationRange(H)).map(H=>H?w.LineRange.fromRangeInclusive(H):void 0),P=O.modifiedDecorationIds.map(H=>_.modified.getDecorationRange(H)).map(H=>H?w.LineRange.fromRangeInclusive(H):void 0),x=O.regions.map((H,V)=>!M[V]||!P[V]?void 0:new o(M[V].startLineNumber,P[V].startLineNumber,M[V].length,H.visibleLineCountTop.read(A),H.visibleLineCountBottom.read(A))).filter(t.isDefined),R=[];let B=!1;for(const H of(0,n.groupAdjacentBy)(x,(V,q)=>V.getHiddenModifiedRange(A).endLineNumberExclusive===q.getHiddenModifiedRange(A).startLineNumber))if(H.length>1){B=!0;const V=H.reduce((K,U)=>K+U.lineCount,0),q=new o(H[0].originalLineNumber,H[0].modifiedLineNumber,V,H[0].visibleLineCountTop.get(),H[H.length-1].visibleLineCountBottom.get());R.push(q)}else R.push(H[0]);if(B){const H=_.original.deltaDecorations(O.originalDecorationIds,R.map(q=>({range:q.originalUnchangedRange.toInclusiveRange(),options:{description:"unchanged"}}))),V=_.modified.deltaDecorations(O.modifiedDecorationIds,R.map(q=>({range:q.modifiedUnchangedRange.toInclusiveRange(),options:{description:"unchanged"}})));(0,L.transaction)(q=>{this._unchangedRegions.set({regions:R,originalDecorationIds:H,modifiedDecorationIds:V},q)})}}));const N=(A,O,M)=>{const P=o.fromDiffs(A.changes,_.original.getLineCount(),_.modified.getLineCount(),this._options.hideUnchangedRegionsMinimumLineCount.read(M),this._options.hideUnchangedRegionsContextLineCount.read(M));let x;const R=this._unchangedRegions.get();if(R){const q=R.originalDecorationIds.map(se=>_.original.getDecorationRange(se)).map(se=>se?w.LineRange.fromRangeInclusive(se):void 0),K=R.modifiedDecorationIds.map(se=>_.modified.getDecorationRange(se)).map(se=>se?w.LineRange.fromRangeInclusive(se):void 0);let $=(0,p.filterWithPrevious)(R.regions.map((se,F)=>{if(!q[F]||!K[F])return;const X=q[F].length;return new o(q[F].startLineNumber,K[F].startLineNumber,X,Math.min(se.visibleLineCountTop.get(),X),Math.min(se.visibleLineCountBottom.get(),X-se.visibleLineCountTop.get()))}).filter(t.isDefined),(se,F)=>!F||se.modifiedLineNumber>=F.modifiedLineNumber+F.lineCount&&se.originalLineNumber>=F.originalLineNumber+F.lineCount).map(se=>new b.LineRangeMapping(se.getHiddenOriginalRange(M),se.getHiddenModifiedRange(M)));$=b.LineRangeMapping.clip($,w.LineRange.ofLength(1,_.original.getLineCount()),w.LineRange.ofLength(1,_.modified.getLineCount())),x=b.LineRangeMapping.inverse($,_.original.getLineCount(),_.modified.getLineCount())}const B=[];if(x)for(const q of P){const K=x.filter(U=>U.original.intersectsStrict(q.originalUnchangedRange)&&U.modified.intersectsStrict(q.modifiedUnchangedRange));B.push(...q.setVisibleRanges(K,O))}else B.push(...P);const H=_.original.deltaDecorations(R?.originalDecorationIds||[],B.map(q=>({range:q.originalUnchangedRange.toInclusiveRange(),options:{description:"unchanged"}}))),V=_.modified.deltaDecorations(R?.modifiedDecorationIds||[],B.map(q=>({range:q.modifiedUnchangedRange.toInclusiveRange(),options:{description:"unchanged"}})));this._unchangedRegions.set({regions:B,originalDecorationIds:H,modifiedDecorationIds:V},O)};this._register(_.modified.onDidChangeContent(A=>{if(this._diff.get()){const M=a.TextEditInfo.fromModelContentChanges(A.changes),P=(this._lastDiff,_.original,_.modified,void 0);P&&(this._lastDiff=P,(0,L.transaction)(x=>{this._diff.set(r.fromDiffResult(this._lastDiff),x),N(P,x);const R=this.movedTextToCompare.get();this.movedTextToCompare.set(R?this._lastDiff.moves.find(B=>B.lineRangeMapping.modified.intersect(R.lineRangeMapping.modified)):void 0,x)}))}this._isDiffUpToDate.set(!1,void 0),T.schedule()})),this._register(_.original.onDidChangeContent(A=>{if(this._diff.get()){const M=a.TextEditInfo.fromModelContentChanges(A.changes),P=(this._lastDiff,_.original,_.modified,void 0);P&&(this._lastDiff=P,(0,L.transaction)(x=>{this._diff.set(r.fromDiffResult(this._lastDiff),x),N(P,x);const R=this.movedTextToCompare.get();this.movedTextToCompare.set(R?this._lastDiff.moves.find(B=>B.lineRangeMapping.modified.intersect(R.lineRangeMapping.modified)):void 0,x)}))}this._isDiffUpToDate.set(!1,void 0),T.schedule()})),this._register((0,L.autorunWithStore)(async(A,O)=>{var M,P;this._options.hideUnchangedRegionsMinimumLineCount.read(A),this._options.hideUnchangedRegionsContextLineCount.read(A),T.cancel(),E.read(A);const x=this._diffProvider.read(A);x.onChangeSignal.read(A),(0,p.readHotReloadableExport)(C.DefaultLinesDiffComputer,A),(0,p.readHotReloadableExport)(i.optimizeSequenceDiffs,A),this._isDiffUpToDate.set(!1,void 0);let R=[];O.add(_.original.onDidChangeContent(V=>{const q=a.TextEditInfo.fromModelContentChanges(V.changes);R=(0,s.combineTextEditInfos)(R,q)}));let B=[];O.add(_.modified.onDidChangeContent(V=>{const q=a.TextEditInfo.fromModelContentChanges(V.changes);B=(0,s.combineTextEditInfos)(B,q)}));let H=await x.diffProvider.computeDiff(_.original,_.modified,{ignoreTrimWhitespace:this._options.ignoreTrimWhitespace.read(A),maxComputationTimeMs:this._options.maxComputationTimeMs.read(A),computeMoves:this._options.showMoves.read(A)},this._cancellationTokenSource.token);this._cancellationTokenSource.token.isCancellationRequested||(H=u(H,_.original,_.modified),H=(M=(_.original,_.modified,void 0))!==null&&M!==void 0?M:H,H=(P=(_.original,_.modified,void 0))!==null&&P!==void 0?P:H,(0,L.transaction)(V=>{N(H,V),this._lastDiff=H;const q=r.fromDiffResult(H);this._diff.set(q,V),this._isDiffUpToDate.set(!0,V);const K=this.movedTextToCompare.get();this.movedTextToCompare.set(K?this._lastDiff.moves.find(U=>U.lineRangeMapping.modified.intersect(K.lineRangeMapping.modified)):void 0,V)}))}))}ensureModifiedLineIsVisible(_,S,I){var E,T;if(((E=this.diff.get())===null||E===void 0?void 0:E.mappings.length)===0)return;const N=((T=this._unchangedRegions.get())===null||T===void 0?void 0:T.regions)||[];for(const A of N)if(A.getHiddenModifiedRange(void 0).contains(_)){A.showModifiedLine(_,S,I);return}}ensureOriginalLineIsVisible(_,S,I){var E,T;if(((E=this.diff.get())===null||E===void 0?void 0:E.mappings.length)===0)return;const N=((T=this._unchangedRegions.get())===null||T===void 0?void 0:T.regions)||[];for(const A of N)if(A.getHiddenOriginalRange(void 0).contains(_)){A.showOriginalLine(_,S,I);return}}async waitForDiff(){await(0,L.waitForState)(this.isDiffUpToDate,_=>_)}serializeState(){const _=this._unchangedRegions.get();return{collapsedRegions:_?.regions.map(S=>({range:S.getHiddenModifiedRange(void 0).serialize()}))}}restoreSerializedState(_){var S;const I=(S=_.collapsedRegions)===null||S===void 0?void 0:S.map(T=>w.LineRange.deserialize(T.range)),E=this._unchangedRegions.get();!E||!I||(0,L.transaction)(T=>{for(const N of E.regions)for(const A of I)if(N.modifiedUnchangedRange.intersect(A)){N.setHiddenModifiedRange(A,T);break}})}};e.DiffEditorViewModel=v,e.DiffEditorViewModel=v=Ie([he(2,y.IDiffProviderFactoryService)],v);function u(f,_,S){return{changes:f.changes.map(I=>new b.DetailedLineRangeMapping(I.original,I.modified,I.innerChanges?I.innerChanges.map(E=>d(E,_,S)):void 0)),moves:f.moves,identical:f.identical,quitEarly:f.quitEarly}}function d(f,_,S){let I=f.originalRange,E=f.modifiedRange;return(I.endColumn!==1||E.endColumn!==1)&&I.endColumn===_.getLineMaxColumn(I.endLineNumber)&&E.endColumn===S.getLineMaxColumn(E.endLineNumber)&&I.endLineNumber<_.getLineCount()&&E.endLineNumber<S.getLineCount()&&(I=I.setEndPosition(I.endLineNumber+1,1),E=E.setEndPosition(E.endLineNumber+1,1)),new b.RangeMapping(I,E)}class r{static fromDiffResult(_){return new r(_.changes.map(S=>new l(S)),_.moves||[],_.identical,_.quitEarly)}constructor(_,S,I,E){this.mappings=_,this.movedTexts=S,this.identical=I,this.quitEarly=E}}e.DiffState=r;class l{constructor(_){this.lineRangeMapping=_}}e.DiffMapping=l;class o{static fromDiffs(_,S,I,E,T){const N=b.DetailedLineRangeMapping.inverse(_,S,I),A=[];for(const O of N){let M=O.original.startLineNumber,P=O.modified.startLineNumber,x=O.original.length;const R=M===1&&P===1,B=M+x===S+1&&P+x===I+1;(R||B)&&x>=T+E?(R&&!B&&(x-=T),B&&!R&&(M+=T,P+=T,x-=T),A.push(new o(M,P,x,0,0))):x>=T*2+E&&(M+=T,P+=T,x-=T*2,A.push(new o(M,P,x,0,0)))}return A}get originalUnchangedRange(){return w.LineRange.ofLength(this.originalLineNumber,this.lineCount)}get modifiedUnchangedRange(){return w.LineRange.ofLength(this.modifiedLineNumber,this.lineCount)}constructor(_,S,I,E,T){this.originalLineNumber=_,this.modifiedLineNumber=S,this.lineCount=I,this._visibleLineCountTop=(0,L.observableValue)(this,0),this.visibleLineCountTop=this._visibleLineCountTop,this._visibleLineCountBottom=(0,L.observableValue)(this,0),this.visibleLineCountBottom=this._visibleLineCountBottom,this._shouldHideControls=(0,L.derived)(this,O=>this.visibleLineCountTop.read(O)+this.visibleLineCountBottom.read(O)===this.lineCount&&!this.isDragged.read(O)),this.isDragged=(0,L.observableValue)(this,void 0);const N=Math.max(Math.min(E,this.lineCount),0),A=Math.max(Math.min(T,this.lineCount-E),0);(0,h.softAssert)(E===N),(0,h.softAssert)(T===A),this._visibleLineCountTop.set(N,void 0),this._visibleLineCountBottom.set(A,void 0)}setVisibleRanges(_,S){const I=[],E=new w.LineRangeSet(_.map(O=>O.modified)).subtractFrom(this.modifiedUnchangedRange);let T=this.originalLineNumber,N=this.modifiedLineNumber;const A=this.modifiedLineNumber+this.lineCount;if(E.ranges.length===0)this.showAll(S),I.push(this);else{let O=0;for(const M of E.ranges){const P=O===E.ranges.length-1;O++;const x=(P?A:M.endLineNumberExclusive)-N,R=new o(T,N,x,0,0);R.setHiddenModifiedRange(M,S),I.push(R),T=R.originalUnchangedRange.endLineNumberExclusive,N=R.modifiedUnchangedRange.endLineNumberExclusive}}return I}shouldHideControls(_){return this._shouldHideControls.read(_)}getHiddenOriginalRange(_){return w.LineRange.ofLength(this.originalLineNumber+this._visibleLineCountTop.read(_),this.lineCount-this._visibleLineCountTop.read(_)-this._visibleLineCountBottom.read(_))}getHiddenModifiedRange(_){return w.LineRange.ofLength(this.modifiedLineNumber+this._visibleLineCountTop.read(_),this.lineCount-this._visibleLineCountTop.read(_)-this._visibleLineCountBottom.read(_))}setHiddenModifiedRange(_,S){const I=_.startLineNumber-this.modifiedLineNumber,E=this.modifiedLineNumber+this.lineCount-_.endLineNumberExclusive;this.setState(I,E,S)}getMaxVisibleLineCountTop(){return this.lineCount-this._visibleLineCountBottom.get()}getMaxVisibleLineCountBottom(){return this.lineCount-this._visibleLineCountTop.get()}showMoreAbove(_=10,S){const I=this.getMaxVisibleLineCountTop();this._visibleLineCountTop.set(Math.min(this._visibleLineCountTop.get()+_,I),S)}showMoreBelow(_=10,S){const I=this.lineCount-this._visibleLineCountTop.get();this._visibleLineCountBottom.set(Math.min(this._visibleLineCountBottom.get()+_,I),S)}showAll(_){this._visibleLineCountBottom.set(this.lineCount-this._visibleLineCountTop.get(),_)}showModifiedLine(_,S,I){const E=_+1-(this.modifiedLineNumber+this._visibleLineCountTop.get()),T=this.modifiedLineNumber-this._visibleLineCountBottom.get()+this.lineCount-_;S===0&&E<T||S===1?this._visibleLineCountTop.set(this._visibleLineCountTop.get()+E,I):this._visibleLineCountBottom.set(this._visibleLineCountBottom.get()+T,I)}showOriginalLine(_,S,I){const E=_-this.originalLineNumber,T=this.originalLineNumber+this.lineCount-_;S===0&&E<T||S===1?this._visibleLineCountTop.set(Math.min(this._visibleLineCountTop.get()+T-E,this.getMaxVisibleLineCountTop()),I):this._visibleLineCountBottom.set(Math.min(this._visibleLineCountBottom.get()+E-T,this.getMaxVisibleLineCountBottom()),I)}collapseAll(_){this._visibleLineCountTop.set(0,_),this._visibleLineCountBottom.set(0,_)}setState(_,S,I){_=Math.max(Math.min(_,this.lineCount),0),S=Math.max(Math.min(S,this.lineCount-_),0),this._visibleLineCountTop.set(_,I),this._visibleLineCountBottom.set(S,I)}}e.UnchangedRegion=o;function g(f,_,S,I){}function c(f,_,S,I){}}),define(te[847],ie([1,0,45,57,68,16,24,19,678,14,474]),function(J,e,m,k,D,L,y,p,w,C){"use strict";var b;Object.defineProperty(e,"__esModule",{value:!0}),e.SelectionAnchorSet=void 0,e.SelectionAnchorSet=new C.RawContextKey("selectionAnchorSet",!1);let a=b=class{static get(v){return v.getContribution(b.ID)}constructor(v,u){this.editor=v,this.selectionAnchorSetContextKey=e.SelectionAnchorSet.bindTo(u),this.modelChangeListener=v.onDidChangeModel(()=>this.selectionAnchorSetContextKey.reset())}setSelectionAnchor(){if(this.editor.hasModel()){const v=this.editor.getPosition();this.editor.changeDecorations(u=>{this.decorationId&&u.removeDecoration(this.decorationId),this.decorationId=u.addDecoration(y.Selection.fromPositions(v,v),{description:"selection-anchor",stickiness:1,hoverMessage:new k.MarkdownString().appendText((0,w.localize)(0,null)),className:"selection-anchor"})}),this.selectionAnchorSetContextKey.set(!!this.decorationId),(0,m.alert)((0,w.localize)(1,null,v.lineNumber,v.column))}}goToSelectionAnchor(){if(this.editor.hasModel()&&this.decorationId){const v=this.editor.getModel().getDecorationRange(this.decorationId);v&&this.editor.setPosition(v.getStartPosition())}}selectFromAnchorToCursor(){if(this.editor.hasModel()&&this.decorationId){const v=this.editor.getModel().getDecorationRange(this.decorationId);if(v){const u=this.editor.getPosition();this.editor.setSelection(y.Selection.fromPositions(v.getStartPosition(),u)),this.cancelSelectionAnchor()}}}cancelSelectionAnchor(){if(this.decorationId){const v=this.decorationId;this.editor.changeDecorations(u=>{u.removeDecoration(v),this.decorationId=void 0}),this.selectionAnchorSetContextKey.set(!1)}}dispose(){this.cancelSelectionAnchor(),this.modelChangeListener.dispose()}};a.ID="editor.contrib.selectionAnchorController",a=b=Ie([he(1,C.IContextKeyService)],a);class s extends L.EditorAction{constructor(){super({id:"editor.action.setSelectionAnchor",label:(0,w.localize)(2,null),alias:"Set Selection Anchor",precondition:void 0,kbOpts:{kbExpr:p.EditorContextKeys.editorTextFocus,primary:(0,D.KeyChord)(2089,2080),weight:100}})}async run(v,u){var d;(d=a.get(u))===null||d===void 0||d.setSelectionAnchor()}}class i extends L.EditorAction{constructor(){super({id:"editor.action.goToSelectionAnchor",label:(0,w.localize)(3,null),alias:"Go to Selection Anchor",precondition:e.SelectionAnchorSet})}async run(v,u){var d;(d=a.get(u))===null||d===void 0||d.goToSelectionAnchor()}}class t extends L.EditorAction{constructor(){super({id:"editor.action.selectFromAnchorToCursor",label:(0,w.localize)(4,null),alias:"Select from Anchor to Cursor",precondition:e.SelectionAnchorSet,kbOpts:{kbExpr:p.EditorContextKeys.editorTextFocus,primary:(0,D.KeyChord)(2089,2089),weight:100}})}async run(v,u){var d;(d=a.get(u))===null||d===void 0||d.selectFromAnchorToCursor()}}class n extends L.EditorAction{constructor(){super({id:"editor.action.cancelSelectionAnchor",label:(0,w.localize)(5,null),alias:"Cancel Selection Anchor",precondition:e.SelectionAnchorSet,kbOpts:{kbExpr:p.EditorContextKeys.editorTextFocus,primary:9,weight:100}})}async run(v,u){var d;(d=a.get(u))===null||d===void 0||d.cancelSelectionAnchor()}}(0,L.registerEditorContribution)(a.ID,a,4),(0,L.registerEditorAction)(s),(0,L.registerEditorAction)(i),(0,L.registerEditorAction)(t),(0,L.registerEditorAction)(n)}),define(te[848],ie([1,0,16,19,578,680]),function(J,e,m,k,D,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class y extends m.EditorAction{constructor(b,a){super(a),this.left=b}run(b,a){if(!a.hasModel())return;const s=[],i=a.getSelections();for(const t of i)s.push(new D.MoveCaretCommand(t,this.left));a.pushUndoStop(),a.executeCommands(this.id,s),a.pushUndoStop()}}class p extends y{constructor(){super(!0,{id:"editor.action.moveCarretLeftAction",label:L.localize(0,null),alias:"Move Selected Text Left",precondition:k.EditorContextKeys.writable})}}class w extends y{constructor(){super(!1,{id:"editor.action.moveCarretRightAction",label:L.localize(1,null),alias:"Move Selected Text Right",precondition:k.EditorContextKeys.writable})}}(0,m.registerEditorAction)(p),(0,m.registerEditorAction)(w)}),define(te[849],ie([1,0,16,140,222,5,19,681]),function(J,e,m,k,D,L,y,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class w extends m.EditorAction{constructor(){super({id:"editor.action.transposeLetters",label:p.localize(0,null),alias:"Transpose Letters",precondition:y.EditorContextKeys.writable,kbOpts:{kbExpr:y.EditorContextKeys.textInputFocus,primary:0,mac:{primary:306},weight:100}})}run(b,a){if(!a.hasModel())return;const s=a.getModel(),i=[],t=a.getSelections();for(const n of t){if(!n.isEmpty())continue;const h=n.startLineNumber,v=n.startColumn,u=s.getLineMaxColumn(h);if(h===1&&(v===1||v===2&&u===2))continue;const d=v===u?n.getPosition():D.MoveOperations.rightPosition(s,n.getPosition().lineNumber,n.getPosition().column),r=D.MoveOperations.leftPosition(s,d),l=D.MoveOperations.leftPosition(s,r),o=s.getValueInRange(L.Range.fromPositions(l,r)),g=s.getValueInRange(L.Range.fromPositions(r,d)),c=L.Range.fromPositions(l,d);i.push(new k.ReplaceCommand(c,g+o))}i.length>0&&(a.pushUndoStop(),a.executeCommands(this.id,i),a.pushUndoStop())}}(0,m.registerEditorAction)(w)}),define(te[850],ie([1,0,68,16,5,19,33,319,580,692,28]),function(J,e,m,k,D,L,y,p,w,C,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class a extends k.EditorAction{constructor(v,u){super(u),this._type=v}run(v,u){const d=v.get(y.ILanguageConfigurationService);if(!u.hasModel())return;const r=u.getModel(),l=[],o=r.getOptions(),g=u.getOption(23),c=u.getSelections().map((_,S)=>({selection:_,index:S,ignoreFirstLine:!1}));c.sort((_,S)=>D.Range.compareRangesUsingStarts(_.selection,S.selection));let f=c[0];for(let _=1;_<c.length;_++){const S=c[_];f.selection.endLineNumber===S.selection.startLineNumber&&(f.index<S.index?S.ignoreFirstLine=!0:(f.ignoreFirstLine=!0,f=S))}for(const _ of c)l.push(new w.LineCommentCommand(d,_.selection,o.indentSize,this._type,g.insertSpace,g.ignoreEmptyLines,_.ignoreFirstLine));u.pushUndoStop(),u.executeCommands(this.id,l),u.pushUndoStop()}}class s extends a{constructor(){super(0,{id:"editor.action.commentLine",label:C.localize(0,null),alias:"Toggle Line Comment",precondition:L.EditorContextKeys.writable,kbOpts:{kbExpr:L.EditorContextKeys.editorTextFocus,primary:2138,weight:100},menuOpts:{menuId:b.MenuId.MenubarEditMenu,group:"5_insert",title:C.localize(1,null),order:1}})}}class i extends a{constructor(){super(1,{id:"editor.action.addCommentLine",label:C.localize(2,null),alias:"Add Line Comment",precondition:L.EditorContextKeys.writable,kbOpts:{kbExpr:L.EditorContextKeys.editorTextFocus,primary:(0,m.KeyChord)(2089,2081),weight:100}})}}class t extends a{constructor(){super(2,{id:"editor.action.removeCommentLine",label:C.localize(3,null),alias:"Remove Line Comment",precondition:L.EditorContextKeys.writable,kbOpts:{kbExpr:L.EditorContextKeys.editorTextFocus,primary:(0,m.KeyChord)(2089,2099),weight:100}})}}class n extends k.EditorAction{constructor(){super({id:"editor.action.blockComment",label:C.localize(4,null),alias:"Toggle Block Comment",precondition:L.EditorContextKeys.writable,kbOpts:{kbExpr:L.EditorContextKeys.editorTextFocus,primary:1567,linux:{primary:3103},weight:100},menuOpts:{menuId:b.MenuId.MenubarEditMenu,group:"5_insert",title:C.localize(5,null),order:2}})}run(v,u){const d=v.get(y.ILanguageConfigurationService);if(!u.hasModel())return;const r=u.getOption(23),l=[],o=u.getSelections();for(const g of o)l.push(new p.BlockCommentCommand(g,r.insertSpace,d));u.pushUndoStop(),u.executeCommands(this.id,l),u.pushUndoStop()}}(0,k.registerEditorAction)(s),(0,k.registerEditorAction)(i),(0,k.registerEditorAction)(t),(0,k.registerEditorAction)(n)}),define(te[851],ie([1,0,2,16,19,694]),function(J,e,m,k,D,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorRedo=e.CursorUndo=e.CursorUndoRedoController=void 0;class y{constructor(s){this.selections=s}equals(s){const i=this.selections.length,t=s.selections.length;if(i!==t)return!1;for(let n=0;n<i;n++)if(!this.selections[n].equalsSelection(s.selections[n]))return!1;return!0}}class p{constructor(s,i,t){this.cursorState=s,this.scrollTop=i,this.scrollLeft=t}}class w extends m.Disposable{static get(s){return s.getContribution(w.ID)}constructor(s){super(),this._editor=s,this._isCursorUndoRedo=!1,this._undoStack=[],this._redoStack=[],this._register(s.onDidChangeModel(i=>{this._undoStack=[],this._redoStack=[]})),this._register(s.onDidChangeModelContent(i=>{this._undoStack=[],this._redoStack=[]})),this._register(s.onDidChangeCursorSelection(i=>{if(this._isCursorUndoRedo||!i.oldSelections||i.oldModelVersionId!==i.modelVersionId)return;const t=new y(i.oldSelections);this._undoStack.length>0&&this._undoStack[this._undoStack.length-1].cursorState.equals(t)||(this._undoStack.push(new p(t,s.getScrollTop(),s.getScrollLeft())),this._redoStack=[],this._undoStack.length>50&&this._undoStack.shift())}))}cursorUndo(){!this._editor.hasModel()||this._undoStack.length===0||(this._redoStack.push(new p(new y(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._undoStack.pop()))}cursorRedo(){!this._editor.hasModel()||this._redoStack.length===0||(this._undoStack.push(new p(new y(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._redoStack.pop()))}_applyState(s){this._isCursorUndoRedo=!0,this._editor.setSelections(s.cursorState.selections),this._editor.setScrollPosition({scrollTop:s.scrollTop,scrollLeft:s.scrollLeft}),this._isCursorUndoRedo=!1}}e.CursorUndoRedoController=w,w.ID="editor.contrib.cursorUndoRedoController";class C extends k.EditorAction{constructor(){super({id:"cursorUndo",label:L.localize(0,null),alias:"Cursor Undo",precondition:void 0,kbOpts:{kbExpr:D.EditorContextKeys.textInputFocus,primary:2099,weight:100}})}run(s,i,t){var n;(n=w.get(i))===null||n===void 0||n.cursorUndo()}}e.CursorUndo=C;class b extends k.EditorAction{constructor(){super({id:"cursorRedo",label:L.localize(1,null),alias:"Cursor Redo",precondition:void 0})}run(s,i,t){var n;(n=w.get(i))===null||n===void 0||n.cursorRedo()}}e.CursorRedo=b,(0,k.registerEditorContribution)(w.ID,w,0),(0,k.registerEditorAction)(C),(0,k.registerEditorAction)(b)}),define(te[852],ie([1,0,16,14,20,69,8,46,700]),function(J,e,m,k,D,L,y,p,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorKeybindingCancellationTokenSource=void 0;const C=(0,y.createDecorator)("IEditorCancelService"),b=new k.RawContextKey("cancellableOperation",!1,(0,w.localize)(0,null));(0,p.registerSingleton)(C,class{constructor(){this._tokens=new WeakMap}add(s,i){let t=this._tokens.get(s);t||(t=s.invokeWithinContext(h=>{const v=b.bindTo(h.get(k.IContextKeyService)),u=new L.LinkedList;return{key:v,tokens:u}}),this._tokens.set(s,t));let n;return t.key.set(!0),n=t.tokens.push(i),()=>{n&&(n(),t.key.set(!t.tokens.isEmpty()),n=void 0)}}cancel(s){const i=this._tokens.get(s);if(!i)return;const t=i.tokens.pop();t&&(t.cancel(),i.key.set(!i.tokens.isEmpty()))}},1);class a extends D.CancellationTokenSource{constructor(i,t){super(t),this.editor=i,this._unregister=i.invokeWithinContext(n=>n.get(C).add(i,this))}dispose(){this._unregister(),super.dispose()}}e.EditorKeybindingCancellationTokenSource=a,(0,m.registerEditorCommand)(new class extends m.EditorCommand{constructor(){super({id:"editor.cancelOperation",kbOpts:{weight:100,primary:9},precondition:b})}runEditorCommand(s,i){s.get(C).cancel(i)}})}),define(te[115],ie([1,0,11,5,20,2,852]),function(J,e,m,k,D,L,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextModelCancellationTokenSource=e.EditorStateCancellationTokenSource=e.EditorState=void 0;class p{constructor(a,s){if(this.flags=s,this.flags&1){const i=a.getModel();this.modelVersionId=i?m.format("{0}#{1}",i.uri.toString(),i.getVersionId()):null}else this.modelVersionId=null;this.flags&4?this.position=a.getPosition():this.position=null,this.flags&2?this.selection=a.getSelection():this.selection=null,this.flags&8?(this.scrollLeft=a.getScrollLeft(),this.scrollTop=a.getScrollTop()):(this.scrollLeft=-1,this.scrollTop=-1)}_equals(a){if(!(a instanceof p))return!1;const s=a;return!(this.modelVersionId!==s.modelVersionId||this.scrollLeft!==s.scrollLeft||this.scrollTop!==s.scrollTop||!this.position&&s.position||this.position&&!s.position||this.position&&s.position&&!this.position.equals(s.position)||!this.selection&&s.selection||this.selection&&!s.selection||this.selection&&s.selection&&!this.selection.equalsRange(s.selection))}validate(a){return this._equals(new p(a,this.flags))}}e.EditorState=p;class w extends y.EditorKeybindingCancellationTokenSource{constructor(a,s,i,t){super(a,t),this._listener=new L.DisposableStore,s&4&&this._listener.add(a.onDidChangeCursorPosition(n=>{(!i||!k.Range.containsPosition(i,n.position))&&this.cancel()})),s&2&&this._listener.add(a.onDidChangeCursorSelection(n=>{(!i||!k.Range.containsRange(i,n.selection))&&this.cancel()})),s&8&&this._listener.add(a.onDidScrollChange(n=>this.cancel())),s&1&&(this._listener.add(a.onDidChangeModel(n=>this.cancel())),this._listener.add(a.onDidChangeModelContent(n=>this.cancel())))}dispose(){this._listener.dispose(),super.dispose()}}e.EditorStateCancellationTokenSource=w;class C extends D.CancellationTokenSource{constructor(a,s){super(s),this._listener=a.onDidChangeContent(()=>this.cancel())}dispose(){this._listener.dispose(),super.dispose()}}e.TextModelCancellationTokenSource=C}),define(te[151],ie([1,0,13,20,12,2,22,147,5,24,18,53,115,683,27,51,91,65,127,94]),function(J,e,m,k,D,L,y,p,w,C,b,a,s,i,t,n,h,v,u,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ApplyCodeActionReason=e.fixAllCommandId=e.organizeImportsCommandId=e.sourceActionCommandId=e.refactorCommandId=e.autoFixCommandId=e.quickFixCommandId=e.codeActionCommandId=void 0,e.getCodeActions=o,e.applyCodeAction=S,e.codeActionCommandId="editor.action.codeAction",e.quickFixCommandId="editor.action.quickFix",e.autoFixCommandId="editor.action.autoFix",e.refactorCommandId="editor.action.refactor",e.sourceActionCommandId="editor.action.sourceAction",e.organizeImportsCommandId="editor.action.organizeImports",e.fixAllCommandId="editor.action.fixAll";class r extends L.Disposable{static codeActionsPreferredComparator(T,N){return T.isPreferred&&!N.isPreferred?-1:!T.isPreferred&&N.isPreferred?1:0}static codeActionsComparator({action:T},{action:N}){return T.isAI&&!N.isAI?1:!T.isAI&&N.isAI?-1:(0,m.isNonEmptyArray)(T.diagnostics)?(0,m.isNonEmptyArray)(N.diagnostics)?r.codeActionsPreferredComparator(T,N):-1:(0,m.isNonEmptyArray)(N.diagnostics)?1:r.codeActionsPreferredComparator(T,N)}constructor(T,N,A){super(),this.documentation=N,this._register(A),this.allActions=[...T].sort(r.codeActionsComparator),this.validActions=this.allActions.filter(({action:O})=>!O.disabled)}get hasAutoFix(){return this.validActions.some(({action:T})=>!!T.kind&&u.CodeActionKind.QuickFix.contains(new d.HierarchicalKind(T.kind))&&!!T.isPreferred)}get hasAIFix(){return this.validActions.some(({action:T})=>!!T.isAI)}get allAIFixes(){return this.validActions.every(({action:T})=>!!T.isAI)}}const l={actions:[],documentation:void 0};async function o(E,T,N,A,O,M){var P;const x=A.filter||{},R={...x,excludes:[...x.excludes||[],u.CodeActionKind.Notebook]},B={only:(P=x.include)===null||P===void 0?void 0:P.value,trigger:A.type},H=new s.TextModelCancellationTokenSource(T,M),V=A.type===2,q=g(E,T,V?R:x),K=new L.DisposableStore,U=q.map(async se=>{try{O.report(se);const F=await se.provideCodeActions(T,N,B,H.token);if(F&&K.add(F),H.token.isCancellationRequested)return l;const X=(F?.actions||[]).filter(Z=>Z&&(0,u.filtersAction)(x,Z)),Q=f(se,X,x.include);return{actions:X.map(Z=>new u.CodeActionItem(Z,se)),documentation:Q}}catch(F){if((0,D.isCancellationError)(F))throw F;return(0,D.onUnexpectedExternalError)(F),l}}),$=E.onDidChange(()=>{const se=E.all(T);(0,m.equals)(se,q)||H.cancel()});try{const se=await Promise.all(U),F=se.map(Q=>Q.actions).flat(),X=[...(0,m.coalesce)(se.map(Q=>Q.documentation)),...c(E,T,A,F)];return new r(F,X,K)}finally{$.dispose(),H.dispose()}}function g(E,T,N){return E.all(T).filter(A=>A.providedCodeActionKinds?A.providedCodeActionKinds.some(O=>(0,u.mayIncludeActionsOfKind)(N,new d.HierarchicalKind(O))):!0)}function*c(E,T,N,A){var O,M,P;if(T&&A.length)for(const x of E.all(T))x._getAdditionalMenuItems&&(yield*(O=x._getAdditionalMenuItems)===null||O===void 0?void 0:O.call(x,{trigger:N.type,only:(P=(M=N.filter)===null||M===void 0?void 0:M.include)===null||P===void 0?void 0:P.value},A.map(R=>R.action)))}function f(E,T,N){if(!E.documentation)return;const A=E.documentation.map(O=>({kind:new d.HierarchicalKind(O.kind),command:O.command}));if(N){let O;for(const M of A)M.kind.contains(N)&&(O?O.kind.contains(M.kind)&&(O=M):O=M);if(O)return O?.command}for(const O of T)if(O.kind){for(const M of A)if(M.kind.contains(new d.HierarchicalKind(O.kind)))return M.command}}var _;(function(E){E.OnSave="onSave",E.FromProblemsView="fromProblemsView",E.FromCodeActions="fromCodeActions",E.FromAILightbulb="fromAILightbulb"})(_||(e.ApplyCodeActionReason=_={}));async function S(E,T,N,A,O=k.CancellationToken.None){var M;const P=E.get(p.IBulkEditService),x=E.get(t.ICommandService),R=E.get(v.ITelemetryService),B=E.get(n.INotificationService);if(R.publicLog2("codeAction.applyCodeAction",{codeActionTitle:T.action.title,codeActionKind:T.action.kind,codeActionIsPreferred:!!T.action.isPreferred,reason:N}),await T.resolve(O),!O.isCancellationRequested&&!(!((M=T.action.edit)===null||M===void 0)&&M.edits.length&&!(await P.apply(T.action.edit,{editor:A?.editor,label:T.action.title,quotableLabel:T.action.title,code:"undoredo.codeAction",respectAutoSaveConfig:N!==_.OnSave,showPreview:A?.preview})).isApplied)&&T.action.command)try{await x.executeCommand(T.action.command.id,...T.action.command.arguments||[])}catch(H){const V=I(H);B.error(typeof V=="string"?V:i.localize(0,null))}}function I(E){return typeof E=="string"?E:E instanceof Error&&typeof E.message=="string"?E.message:void 0}t.CommandsRegistry.registerCommand("_executeCodeActionProvider",async function(E,T,N,A,O){if(!(T instanceof y.URI))throw(0,D.illegalArgument)();const{codeActionProvider:M}=E.get(b.ILanguageFeaturesService),P=E.get(a.IModelService).getModel(T);if(!P)throw(0,D.illegalArgument)();const x=C.Selection.isISelection(N)?C.Selection.liftSelection(N):w.Range.isIRange(N)?P.validateRange(N):void 0;if(!x)throw(0,D.illegalArgument)();const R=typeof A=="string"?new d.HierarchicalKind(A):void 0,B=await o(M,P,x,{type:1,triggerAction:u.CodeActionTriggerSource.Default,filter:{includeSourceActions:!0,include:R}},h.Progress.None,k.CancellationToken.None),H=[],V=Math.min(B.validActions.length,typeof O=="number"?O:0);for(let q=0;q<V;q++)H.push(B.validActions[q].resolve(k.CancellationToken.None));try{return await Promise.all(H),B.validActions.map(q=>q.action)}finally{setTimeout(()=>B.dispose(),100)}})}),define(te[853],ie([1,0,94,99,151,127,35]),function(J,e,m,k,D,L,y){"use strict";var p;Object.defineProperty(e,"__esModule",{value:!0}),e.CodeActionKeybindingResolver=void 0;let w=p=class{constructor(b){this.keybindingService=b}getResolver(){const b=new k.Lazy(()=>this.keybindingService.getKeybindings().filter(a=>p.codeActionCommands.indexOf(a.command)>=0).filter(a=>a.resolvedKeybinding).map(a=>{let s=a.commandArgs;return a.command===D.organizeImportsCommandId?s={kind:L.CodeActionKind.SourceOrganizeImports.value}:a.command===D.fixAllCommandId&&(s={kind:L.CodeActionKind.SourceFixAll.value}),{resolvedKeybinding:a.resolvedKeybinding,...L.CodeActionCommandArgs.fromUser(s,{kind:m.HierarchicalKind.None,apply:"never"})}}));return a=>{if(a.kind){const s=this.bestKeybindingForCodeAction(a,b.value);return s?.resolvedKeybinding}}}bestKeybindingForCodeAction(b,a){if(!b.kind)return;const s=new m.HierarchicalKind(b.kind);return a.filter(i=>i.kind.contains(s)).filter(i=>i.preferred?b.isPreferred:!0).reduceRight((i,t)=>i?i.kind.contains(t.kind)?t:i:t,void 0)}};e.CodeActionKeybindingResolver=w,w.codeActionCommands=[D.refactorCommandId,D.codeActionCommandId,D.sourceActionCommandId,D.organizeImportsCommandId,D.fixAllCommandId],e.CodeActionKeybindingResolver=w=p=Ie([he(0,y.IKeybindingService)],w)}),define(te[379],ie([1,0,15,12,7,2,50,38,9,24,14,91,127,151,94]),function(J,e,m,k,D,L,y,p,w,C,b,a,s,i,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeActionModel=e.CodeActionsState=e.APPLY_FIX_ALL_COMMAND_ID=e.SUPPORTED_CODE_ACTIONS=void 0,e.SUPPORTED_CODE_ACTIONS=new b.RawContextKey("supportedCodeAction",""),e.APPLY_FIX_ALL_COMMAND_ID="_typescript.applyFixAllCodeAction";class n extends L.Disposable{constructor(r,l,o,g=250){super(),this._editor=r,this._markerService=l,this._signalChange=o,this._delay=g,this._autoTriggerTimer=this._register(new m.TimeoutTimer),this._register(this._markerService.onMarkerChanged(c=>this._onMarkerChanges(c))),this._register(this._editor.onDidChangeCursorPosition(()=>this._tryAutoTrigger()))}trigger(r){const l=this._getRangeOfSelectionUnlessWhitespaceEnclosed(r);this._signalChange(l?{trigger:r,selection:l}:void 0)}_onMarkerChanges(r){const l=this._editor.getModel();l&&r.some(o=>(0,y.isEqual)(o,l.uri))&&this._tryAutoTrigger()}_tryAutoTrigger(){this._autoTriggerTimer.cancelAndSet(()=>{this.trigger({type:2,triggerAction:s.CodeActionTriggerSource.Default})},this._delay)}_getRangeOfSelectionUnlessWhitespaceEnclosed(r){if(!this._editor.hasModel())return;const l=this._editor.getSelection();if(r.type===1)return l;const o=this._editor.getOption(65).enabled;if(o!==p.ShowLightbulbIconMode.Off){{if(o===p.ShowLightbulbIconMode.On)return l;if(o===p.ShowLightbulbIconMode.OnCode){if(!l.isEmpty())return l;const c=this._editor.getModel(),{lineNumber:f,column:_}=l.getPosition(),S=c.getLineContent(f);if(S.length===0)return;if(_===1){if(/\s/.test(S[0]))return}else if(_===c.getLineMaxColumn(f)){if(/\s/.test(S[S.length-1]))return}else if(/\s/.test(S[_-2])&&/\s/.test(S[_-1]))return}}return l}}}var h;(function(d){d.Empty={type:0};class r{constructor(o,g,c){this.trigger=o,this.position=g,this._cancellablePromise=c,this.type=1,this.actions=c.catch(f=>{if((0,k.isCancellationError)(f))return v;throw f})}cancel(){this._cancellablePromise.cancel()}}d.Triggered=r})(h||(e.CodeActionsState=h={}));const v=Object.freeze({allActions:[],validActions:[],dispose:()=>{},documentation:[],hasAutoFix:!1,hasAIFix:!1,allAIFixes:!1});class u extends L.Disposable{constructor(r,l,o,g,c,f){super(),this._editor=r,this._registry=l,this._markerService=o,this._progressService=c,this._configurationService=f,this._codeActionOracle=this._register(new L.MutableDisposable),this._state=h.Empty,this._onDidChangeState=this._register(new D.Emitter),this.onDidChangeState=this._onDidChangeState.event,this._disposed=!1,this._supportedCodeActions=e.SUPPORTED_CODE_ACTIONS.bindTo(g),this._register(this._editor.onDidChangeModel(()=>this._update())),this._register(this._editor.onDidChangeModelLanguage(()=>this._update())),this._register(this._registry.onDidChange(()=>this._update())),this._register(this._editor.onDidChangeConfiguration(_=>{_.hasChanged(65)&&this._update()})),this._update()}dispose(){this._disposed||(this._disposed=!0,super.dispose(),this.setState(h.Empty,!0))}_settingEnabledNearbyQuickfixes(){var r;const l=(r=this._editor)===null||r===void 0?void 0:r.getModel();return this._configurationService?this._configurationService.getValue("editor.codeActionWidget.includeNearbyQuickFixes",{resource:l?.uri}):!1}_update(){if(this._disposed)return;this._codeActionOracle.value=void 0,this.setState(h.Empty);const r=this._editor.getModel();if(r&&this._registry.has(r)&&!this._editor.getOption(91)){const l=this._registry.all(r).flatMap(o=>{var g;return(g=o.providedCodeActionKinds)!==null&&g!==void 0?g:[]});this._supportedCodeActions.set(l.join(" ")),this._codeActionOracle.value=new n(this._editor,this._markerService,o=>{var g;if(!o){this.setState(h.Empty);return}const c=o.selection.getStartPosition(),f=(0,m.createCancelablePromise)(async I=>{var E,T,N,A,O,M,P,x,R,B;if(this._settingEnabledNearbyQuickfixes()&&o.trigger.type===1&&(o.trigger.triggerAction===s.CodeActionTriggerSource.QuickFix||!((T=(E=o.trigger.filter)===null||E===void 0?void 0:E.include)===null||T===void 0)&&T.contains(s.CodeActionKind.QuickFix))){const H=await(0,i.getCodeActions)(this._registry,r,o.selection,o.trigger,a.Progress.None,I),V=[...H.allActions];if(I.isCancellationRequested)return v;const q=(N=H.validActions)===null||N===void 0?void 0:N.some(U=>U.action.kind?s.CodeActionKind.QuickFix.contains(new t.HierarchicalKind(U.action.kind)):!1),K=this._markerService.read({resource:r.uri});if(q){for(const U of H.validActions)!((O=(A=U.action.command)===null||A===void 0?void 0:A.arguments)===null||O===void 0)&&O.some($=>typeof $=="string"&&$.includes(e.APPLY_FIX_ALL_COMMAND_ID))&&(U.action.diagnostics=[...K.filter($=>$.relatedInformation)]);return{validActions:H.validActions,allActions:V,documentation:H.documentation,hasAutoFix:H.hasAutoFix,hasAIFix:H.hasAIFix,allAIFixes:H.allAIFixes,dispose:()=>{H.dispose()}}}else if(!q&&K.length>0){const U=o.selection.getPosition();let $=U,se=Number.MAX_VALUE;const F=[...H.validActions];for(const Q of K){const Z=Q.endColumn,ae=Q.endLineNumber,ue=Q.startLineNumber;if(ae===U.lineNumber||ue===U.lineNumber){$=new w.Position(ae,Z);const ge={type:o.trigger.type,triggerAction:o.trigger.triggerAction,filter:{include:!((M=o.trigger.filter)===null||M===void 0)&&M.include?(P=o.trigger.filter)===null||P===void 0?void 0:P.include:s.CodeActionKind.QuickFix},autoApply:o.trigger.autoApply,context:{notAvailableMessage:((x=o.trigger.context)===null||x===void 0?void 0:x.notAvailableMessage)||"",position:$}},fe=new C.Selection($.lineNumber,$.column,$.lineNumber,$.column),re=await(0,i.getCodeActions)(this._registry,r,fe,ge,a.Progress.None,I);if(re.validActions.length!==0){for(const de of re.validActions)!((B=(R=de.action.command)===null||R===void 0?void 0:R.arguments)===null||B===void 0)&&B.some(ee=>typeof ee=="string"&&ee.includes(e.APPLY_FIX_ALL_COMMAND_ID))&&(de.action.diagnostics=[...K.filter(ee=>ee.relatedInformation)]);H.allActions.length===0&&V.push(...re.allActions),Math.abs(U.column-Z)<se?F.unshift(...re.validActions):F.push(...re.validActions)}se=Math.abs(U.column-Z)}}const X=F.filter((Q,Z,ae)=>ae.findIndex(ue=>ue.action.title===Q.action.title)===Z);return X.sort((Q,Z)=>Q.action.isPreferred&&!Z.action.isPreferred?-1:!Q.action.isPreferred&&Z.action.isPreferred||Q.action.isAI&&!Z.action.isAI?1:!Q.action.isAI&&Z.action.isAI?-1:0),{validActions:X,allActions:V,documentation:H.documentation,hasAutoFix:H.hasAutoFix,hasAIFix:H.hasAIFix,allAIFixes:H.allAIFixes,dispose:()=>{H.dispose()}}}}return(0,i.getCodeActions)(this._registry,r,o.selection,o.trigger,a.Progress.None,I)});o.trigger.type===1&&((g=this._progressService)===null||g===void 0||g.showWhile(f,250));const _=new h.Triggered(o.trigger,c,f);let S=!1;this._state.type===1&&(S=this._state.trigger.type===1&&_.type===1&&_.trigger.type===2&&this._state.position!==_.position),S||this.setState(_)},void 0),this._codeActionOracle.value.trigger({type:2,triggerAction:s.CodeActionTriggerSource.Default})}else this._supportedCodeActions.reset()}trigger(r){var l;(l=this._codeActionOracle.value)===null||l===void 0||l.trigger(r)}setState(r,l){r!==this._state&&(this._state.type===1&&this._state.cancel(),this._state=r,!l&&!this._disposed&&this._onDidChangeState.fire(r))}}e.CodeActionModel=u}),define(te[380],ie([1,0,6,67,26,7,2,30,226,151,688,27,35,476]),function(J,e,m,k,D,L,y,p,w,C,b,a,s){"use strict";var i;Object.defineProperty(e,"__esModule",{value:!0}),e.LightBulbWidget=void 0;var t;(function(h){h.Hidden={type:0};class v{constructor(d,r,l,o){this.actions=d,this.trigger=r,this.editorPosition=l,this.widgetPosition=o,this.type=1}}h.Showing=v})(t||(t={}));let n=i=class extends y.Disposable{constructor(v,u,d){super(),this._editor=v,this._keybindingService=u,this._onClick=this._register(new L.Emitter),this.onClick=this._onClick.event,this._state=t.Hidden,this._iconClasses=[],this._domNode=m.$("div.lightBulbWidget"),this._register(k.Gesture.ignoreTarget(this._domNode)),this._editor.addContentWidget(this),this._register(this._editor.onDidChangeModelContent(r=>{const l=this._editor.getModel();(this.state.type!==1||!l||this.state.editorPosition.lineNumber>=l.getLineCount())&&this.hide()})),this._register(m.addStandardDisposableGenericMouseDownListener(this._domNode,r=>{if(this.state.type!==1)return;this._editor.focus(),r.preventDefault();const{top:l,height:o}=m.getDomNodePagePosition(this._domNode),g=this._editor.getOption(67);let c=Math.floor(g/3);this.state.widgetPosition.position!==null&&this.state.widgetPosition.position.lineNumber<this.state.editorPosition.lineNumber&&(c+=g),this._onClick.fire({x:r.posx,y:l+o+c,actions:this.state.actions,trigger:this.state.trigger})})),this._register(m.addDisposableListener(this._domNode,"mouseenter",r=>{(r.buttons&1)===1&&this.hide()})),this._register(L.Event.runAndSubscribe(this._keybindingService.onDidUpdateKeybindings,()=>{var r,l,o,g;this._preferredKbLabel=(l=(r=this._keybindingService.lookupKeybinding(C.autoFixCommandId))===null||r===void 0?void 0:r.getLabel())!==null&&l!==void 0?l:void 0,this._quickFixKbLabel=(g=(o=this._keybindingService.lookupKeybinding(C.quickFixCommandId))===null||o===void 0?void 0:o.getLabel())!==null&&g!==void 0?g:void 0,this._updateLightBulbTitleAndIcon()}))}dispose(){super.dispose(),this._editor.removeContentWidget(this)}getId(){return"LightBulbWidget"}getDomNode(){return this._domNode}getPosition(){return this._state.type===1?this._state.widgetPosition:null}update(v,u,d){if(v.validActions.length<=0)return this.hide();if(!this._editor.getOptions().get(65).enabled)return this.hide();const l=this._editor.getModel();if(!l)return this.hide();const{lineNumber:o,column:g}=l.validatePosition(d),c=l.getOptions().tabSize,f=this._editor.getOptions().get(50),_=l.getLineContent(o),S=(0,w.computeIndentLevel)(_,c),I=f.spaceWidth*S>22,E=A=>A>2&&this._editor.getTopForLineNumber(A)===this._editor.getTopForLineNumber(A-1);let T=o,N=1;if(!I){if(o>1&&!E(o-1))T-=1;else if(o<l.getLineCount()&&!E(o+1))T+=1;else if(g*f.spaceWidth<22)return this.hide();N=/^\S\s*$/.test(l.getLineContent(T))?2:1}this.state=new t.Showing(v,u,d,{position:{lineNumber:T,column:N},preference:i._posPref}),this._editor.layoutContentWidget(this)}hide(){this.state!==t.Hidden&&(this.state=t.Hidden,this._editor.layoutContentWidget(this))}get state(){return this._state}set state(v){this._state=v,this._updateLightBulbTitleAndIcon()}_updateLightBulbTitleAndIcon(){if(this._domNode.classList.remove(...this._iconClasses),this._iconClasses=[],this.state.type!==1)return;let v,u=!1;this.state.actions.allAIFixes?(v=D.Codicon.sparkleFilled,this.state.actions.validActions.length===1&&(u=!0)):this.state.actions.hasAutoFix?this.state.actions.hasAIFix?v=D.Codicon.lightbulbSparkleAutofix:v=D.Codicon.lightbulbAutofix:this.state.actions.hasAIFix?v=D.Codicon.lightbulbSparkle:v=D.Codicon.lightBulb,this._updateLightbulbTitle(this.state.actions.hasAutoFix,u),this._iconClasses=p.ThemeIcon.asClassNameArray(v),this._domNode.classList.add(...this._iconClasses)}_updateLightbulbTitle(v,u){this.state.type===1&&(u?this.title=b.localize(0,null,this.state.actions.validActions[0].action.title):v&&this._preferredKbLabel?this.title=b.localize(1,null,this._preferredKbLabel):!v&&this._quickFixKbLabel?this.title=b.localize(2,null,this._quickFixKbLabel):v||(this.title=b.localize(3,null)))}set title(v){this._domNode.title=v}};e.LightBulbWidget=n,n.ID="editor.contrib.lightbulbWidget",n._posPref=[0],e.LightBulbWidget=n=i=Ie([he(1,s.IKeybindingService),he(2,a.ICommandService)],n)}),define(te[854],ie([1,0,16,158,705]),function(J,e,m,k,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class L extends m.EditorAction{constructor(){super({id:"editor.action.fontZoomIn",label:D.localize(0,null),alias:"Increase Editor Font Size",precondition:void 0})}run(C,b){k.EditorZoom.setZoomLevel(k.EditorZoom.getZoomLevel()+1)}}class y extends m.EditorAction{constructor(){super({id:"editor.action.fontZoomOut",label:D.localize(1,null),alias:"Decrease Editor Font Size",precondition:void 0})}run(C,b){k.EditorZoom.setZoomLevel(k.EditorZoom.getZoomLevel()-1)}}class p extends m.EditorAction{constructor(){super({id:"editor.action.fontZoomReset",label:D.localize(2,null),alias:"Reset Editor Font Size",precondition:void 0})}run(C,b){k.EditorZoom.setZoomLevel(0)}}(0,m.registerEditorAction)(L),(0,m.registerEditorAction)(y),(0,m.registerEditorAction)(p)}),define(te[381],ie([1,0,13,20,12,54,69,21,22,115,162,9,5,24,111,73,323,27,798,8,18,61,130]),function(J,e,m,k,D,L,y,p,w,C,b,a,s,i,t,n,h,v,u,d,r,l,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FormattingConflicts=void 0,e.getRealAndSyntheticDocumentFormattersOrdered=g,e.formatDocumentRangesWithSelectedProvider=f,e.formatDocumentRangesWithProvider=_,e.formatDocumentWithSelectedProvider=S,e.formatDocumentWithProvider=I,e.getDocumentRangeFormattingEditsUntilResult=E,e.getDocumentFormattingEditsUntilResult=T,e.getOnTypeFormattingEdits=N;function g(A,O,M){const P=[],x=new u.ExtensionIdentifierSet,R=A.ordered(M);for(const H of R)P.push(H),H.extensionId&&x.add(H.extensionId);const B=O.ordered(M);for(const H of B){if(H.extensionId){if(x.has(H.extensionId))continue;x.add(H.extensionId)}P.push({displayName:H.displayName,extensionId:H.extensionId,provideDocumentFormattingEdits(V,q,K){return H.provideDocumentRangeFormattingEdits(V,V.getFullModelRange(),q,K)}})}return P}class c{static setFormatterSelector(O){return{dispose:c._selectors.unshift(O)}}static async select(O,M,P,x){if(O.length===0)return;const R=L.Iterable.first(c._selectors);if(R)return await R(O,M,P,x)}}e.FormattingConflicts=c,c._selectors=new y.LinkedList;async function f(A,O,M,P,x,R,B){const H=A.get(d.IInstantiationService),{documentRangeFormattingEditProvider:V}=A.get(r.ILanguageFeaturesService),q=(0,b.isCodeEditor)(O)?O.getModel():O,K=V.ordered(q),U=await c.select(K,q,P,2);U&&(x.report(U),await H.invokeFunction(_,U,O,M,R,B))}async function _(A,O,M,P,x,R){var B,H;const V=A.get(t.IEditorWorkerService),q=A.get(l.ILogService),K=A.get(o.IAccessibilitySignalService);let U,$;(0,b.isCodeEditor)(M)?(U=M.getModel(),$=new C.EditorStateCancellationTokenSource(M,5,void 0,x)):(U=M,$=new C.TextModelCancellationTokenSource(M,x));const se=[];let F=0;for(const ue of(0,m.asArray)(P).sort(s.Range.compareRangesUsingStarts))F>0&&s.Range.areIntersectingOrTouching(se[F-1],ue)?se[F-1]=s.Range.fromPositions(se[F-1].getStartPosition(),ue.getEndPosition()):F=se.push(ue);const X=async ue=>{var ge,fe;q.trace("[format][provideDocumentRangeFormattingEdits] (request)",(ge=O.extensionId)===null||ge===void 0?void 0:ge.value,ue);const re=await O.provideDocumentRangeFormattingEdits(U,ue,U.getFormattingOptions(),$.token)||[];return q.trace("[format][provideDocumentRangeFormattingEdits] (response)",(fe=O.extensionId)===null||fe===void 0?void 0:fe.value,re),re},Q=(ue,ge)=>{if(!ue.length||!ge.length)return!1;const fe=ue.reduce((re,de)=>s.Range.plusRange(re,de.range),ue[0].range);if(!ge.some(re=>s.Range.intersectRanges(fe,re.range)))return!1;for(const re of ue)for(const de of ge)if(s.Range.intersectRanges(re.range,de.range))return!0;return!1},Z=[],ae=[];try{if(typeof O.provideDocumentRangesFormattingEdits=="function"){q.trace("[format][provideDocumentRangeFormattingEdits] (request)",(B=O.extensionId)===null||B===void 0?void 0:B.value,se);const ue=await O.provideDocumentRangesFormattingEdits(U,se,U.getFormattingOptions(),$.token)||[];q.trace("[format][provideDocumentRangeFormattingEdits] (response)",(H=O.extensionId)===null||H===void 0?void 0:H.value,ue),ae.push(ue)}else{for(const ue of se){if($.token.isCancellationRequested)return!0;ae.push(await X(ue))}for(let ue=0;ue<se.length;++ue)for(let ge=ue+1;ge<se.length;++ge){if($.token.isCancellationRequested)return!0;if(Q(ae[ue],ae[ge])){const fe=s.Range.plusRange(se[ue],se[ge]),re=await X(fe);se.splice(ge,1),se.splice(ue,1),se.push(fe),ae.splice(ge,1),ae.splice(ue,1),ae.push(re),ue=0,ge=0}}}for(const ue of ae){if($.token.isCancellationRequested)return!0;const ge=await V.computeMoreMinimalEdits(U.uri,ue);ge&&Z.push(...ge)}}finally{$.dispose()}if(Z.length===0)return!1;if((0,b.isCodeEditor)(M))h.FormattingEdit.execute(M,Z,!0),M.revealPositionInCenterIfOutsideViewport(M.getPosition(),1);else{const[{range:ue}]=Z,ge=new i.Selection(ue.startLineNumber,ue.startColumn,ue.endLineNumber,ue.endColumn);U.pushEditOperations([ge],Z.map(fe=>({text:fe.text,range:s.Range.lift(fe.range),forceMoveMarkers:!0})),fe=>{for(const{range:re}of fe)if(s.Range.areIntersectingOrTouching(re,ge))return[new i.Selection(re.startLineNumber,re.startColumn,re.endLineNumber,re.endColumn)];return null})}return K.playSignal(o.AccessibilitySignal.format,{userGesture:R}),!0}async function S(A,O,M,P,x,R){const B=A.get(d.IInstantiationService),H=A.get(r.ILanguageFeaturesService),V=(0,b.isCodeEditor)(O)?O.getModel():O,q=g(H.documentFormattingEditProvider,H.documentRangeFormattingEditProvider,V),K=await c.select(q,V,M,1);K&&(P.report(K),await B.invokeFunction(I,K,O,M,x,R))}async function I(A,O,M,P,x,R){const B=A.get(t.IEditorWorkerService),H=A.get(o.IAccessibilitySignalService);let V,q;(0,b.isCodeEditor)(M)?(V=M.getModel(),q=new C.EditorStateCancellationTokenSource(M,5,void 0,x)):(V=M,q=new C.TextModelCancellationTokenSource(M,x));let K;try{const U=await O.provideDocumentFormattingEdits(V,V.getFormattingOptions(),q.token);if(K=await B.computeMoreMinimalEdits(V.uri,U),q.token.isCancellationRequested)return!0}finally{q.dispose()}if(!K||K.length===0)return!1;if((0,b.isCodeEditor)(M))h.FormattingEdit.execute(M,K,P!==2),P!==2&&M.revealPositionInCenterIfOutsideViewport(M.getPosition(),1);else{const[{range:U}]=K,$=new i.Selection(U.startLineNumber,U.startColumn,U.endLineNumber,U.endColumn);V.pushEditOperations([$],K.map(se=>({text:se.text,range:s.Range.lift(se.range),forceMoveMarkers:!0})),se=>{for(const{range:F}of se)if(s.Range.areIntersectingOrTouching(F,$))return[new i.Selection(F.startLineNumber,F.startColumn,F.endLineNumber,F.endColumn)];return null})}return H.playSignal(o.AccessibilitySignal.format,{userGesture:R}),!0}async function E(A,O,M,P,x,R){const B=O.documentRangeFormattingEditProvider.ordered(M);for(const H of B){const V=await Promise.resolve(H.provideDocumentRangeFormattingEdits(M,P,x,R)).catch(D.onUnexpectedExternalError);if((0,m.isNonEmptyArray)(V))return await A.computeMoreMinimalEdits(M.uri,V)}}async function T(A,O,M,P,x){const R=g(O.documentFormattingEditProvider,O.documentRangeFormattingEditProvider,M);for(const B of R){const H=await Promise.resolve(B.provideDocumentFormattingEdits(M,P,x)).catch(D.onUnexpectedExternalError);if((0,m.isNonEmptyArray)(H))return await A.computeMoreMinimalEdits(M.uri,H)}}function N(A,O,M,P,x,R,B){const H=O.onTypeFormattingEditProvider.ordered(M);return H.length===0||H[0].autoFormatTriggerCharacters.indexOf(x)<0?Promise.resolve(void 0):Promise.resolve(H[0].provideOnTypeFormattingEdits(M,P,x,R,B)).catch(D.onUnexpectedExternalError).then(V=>A.computeMoreMinimalEdits(M.uri,V))}v.CommandsRegistry.registerCommand("_executeFormatRangeProvider",async function(A,...O){const[M,P,x]=O;(0,p.assertType)(w.URI.isUri(M)),(0,p.assertType)(s.Range.isIRange(P));const R=A.get(n.ITextModelService),B=A.get(t.IEditorWorkerService),H=A.get(r.ILanguageFeaturesService),V=await R.createModelReference(M);try{return E(B,H,V.object.textEditorModel,s.Range.lift(P),x,k.CancellationToken.None)}finally{V.dispose()}}),v.CommandsRegistry.registerCommand("_executeFormatDocumentProvider",async function(A,...O){const[M,P]=O;(0,p.assertType)(w.URI.isUri(M));const x=A.get(n.ITextModelService),R=A.get(t.IEditorWorkerService),B=A.get(r.ILanguageFeaturesService),H=await x.createModelReference(M);try{return T(R,B,H.object.textEditorModel,P,k.CancellationToken.None)}finally{H.dispose()}}),v.CommandsRegistry.registerCommand("_executeFormatOnTypeProvider",async function(A,...O){const[M,P,x,R]=O;(0,p.assertType)(w.URI.isUri(M)),(0,p.assertType)(a.Position.isIPosition(P)),(0,p.assertType)(typeof x=="string");const B=A.get(n.ITextModelService),H=A.get(t.IEditorWorkerService),V=A.get(r.ILanguageFeaturesService),q=await B.createModelReference(M);try{return N(H,V,q.object.textEditorModel,a.Position.lift(P),x,R,k.CancellationToken.None)}finally{q.dispose()}})}),define(te[855],ie([1,0,13,20,12,68,2,16,36,138,5,19,111,18,381,323,706,130,27,14,8,91]),function(J,e,m,k,D,L,y,p,w,C,b,a,s,i,t,n,h,v,u,d,r,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FormatOnType=void 0;let o=class{constructor(S,I,E,T){this._editor=S,this._languageFeaturesService=I,this._workerService=E,this._accessibilitySignalService=T,this._disposables=new y.DisposableStore,this._sessionDisposables=new y.DisposableStore,this._disposables.add(I.onTypeFormattingEditProvider.onDidChange(this._update,this)),this._disposables.add(S.onDidChangeModel(()=>this._update())),this._disposables.add(S.onDidChangeModelLanguage(()=>this._update())),this._disposables.add(S.onDidChangeConfiguration(N=>{N.hasChanged(56)&&this._update()})),this._update()}dispose(){this._disposables.dispose(),this._sessionDisposables.dispose()}_update(){if(this._sessionDisposables.clear(),!this._editor.getOption(56)||!this._editor.hasModel())return;const S=this._editor.getModel(),[I]=this._languageFeaturesService.onTypeFormattingEditProvider.ordered(S);if(!I||!I.autoFormatTriggerCharacters)return;const E=new C.CharacterSet;for(const T of I.autoFormatTriggerCharacters)E.add(T.charCodeAt(0));this._sessionDisposables.add(this._editor.onDidType(T=>{const N=T.charCodeAt(T.length-1);E.has(N)&&this._trigger(String.fromCharCode(N))}))}_trigger(S){if(!this._editor.hasModel()||this._editor.getSelections().length>1||!this._editor.getSelection().isEmpty())return;const I=this._editor.getModel(),E=this._editor.getPosition(),T=new k.CancellationTokenSource,N=this._editor.onDidChangeModelContent(A=>{if(A.isFlush){T.cancel(),N.dispose();return}for(let O=0,M=A.changes.length;O<M;O++)if(A.changes[O].range.endLineNumber<=E.lineNumber){T.cancel(),N.dispose();return}});(0,t.getOnTypeFormattingEdits)(this._workerService,this._languageFeaturesService,I,E,S,I.getFormattingOptions(),T.token).then(A=>{T.token.isCancellationRequested||(0,m.isNonEmptyArray)(A)&&(this._accessibilitySignalService.playSignal(v.AccessibilitySignal.format,{userGesture:!1}),n.FormattingEdit.execute(this._editor,A,!0))}).finally(()=>{N.dispose()})}};e.FormatOnType=o,o.ID="editor.contrib.autoFormat",e.FormatOnType=o=Ie([he(1,i.ILanguageFeaturesService),he(2,s.IEditorWorkerService),he(3,v.IAccessibilitySignalService)],o);let g=class{constructor(S,I,E){this.editor=S,this._languageFeaturesService=I,this._instantiationService=E,this._callOnDispose=new y.DisposableStore,this._callOnModel=new y.DisposableStore,this._callOnDispose.add(S.onDidChangeConfiguration(()=>this._update())),this._callOnDispose.add(S.onDidChangeModel(()=>this._update())),this._callOnDispose.add(S.onDidChangeModelLanguage(()=>this._update())),this._callOnDispose.add(I.documentRangeFormattingEditProvider.onDidChange(this._update,this))}dispose(){this._callOnDispose.dispose(),this._callOnModel.dispose()}_update(){this._callOnModel.clear(),this.editor.getOption(55)&&this.editor.hasModel()&&this._languageFeaturesService.documentRangeFormattingEditProvider.has(this.editor.getModel())&&this._callOnModel.add(this.editor.onDidPaste(({range:S})=>this._trigger(S)))}_trigger(S){this.editor.hasModel()&&(this.editor.getSelections().length>1||this._instantiationService.invokeFunction(t.formatDocumentRangesWithSelectedProvider,this.editor,S,2,l.Progress.None,k.CancellationToken.None,!1).catch(D.onUnexpectedError))}};g.ID="editor.contrib.formatOnPaste",g=Ie([he(1,i.ILanguageFeaturesService),he(2,r.IInstantiationService)],g);class c extends p.EditorAction{constructor(){super({id:"editor.action.formatDocument",label:h.localize(0,null),alias:"Format Document",precondition:d.ContextKeyExpr.and(a.EditorContextKeys.notInCompositeEditor,a.EditorContextKeys.writable,a.EditorContextKeys.hasDocumentFormattingProvider),kbOpts:{kbExpr:a.EditorContextKeys.editorTextFocus,primary:1572,linux:{primary:3111},weight:100},contextMenuOpts:{group:"1_modification",order:1.3}})}async run(S,I){if(I.hasModel()){const E=S.get(r.IInstantiationService);await S.get(l.IEditorProgressService).showWhile(E.invokeFunction(t.formatDocumentWithSelectedProvider,I,1,l.Progress.None,k.CancellationToken.None,!0),250)}}}class f extends p.EditorAction{constructor(){super({id:"editor.action.formatSelection",label:h.localize(1,null),alias:"Format Selection",precondition:d.ContextKeyExpr.and(a.EditorContextKeys.writable,a.EditorContextKeys.hasDocumentSelectionFormattingProvider),kbOpts:{kbExpr:a.EditorContextKeys.editorTextFocus,primary:(0,L.KeyChord)(2089,2084),weight:100},contextMenuOpts:{when:a.EditorContextKeys.hasNonEmptySelection,group:"1_modification",order:1.31}})}async run(S,I){if(!I.hasModel())return;const E=S.get(r.IInstantiationService),T=I.getModel(),N=I.getSelections().map(O=>O.isEmpty()?new b.Range(O.startLineNumber,1,O.startLineNumber,T.getLineMaxColumn(O.startLineNumber)):O);await S.get(l.IEditorProgressService).showWhile(E.invokeFunction(t.formatDocumentRangesWithSelectedProvider,I,N,1,l.Progress.None,k.CancellationToken.None,!0),250)}}(0,p.registerEditorContribution)(o.ID,o,2),(0,p.registerEditorContribution)(g.ID,g,2),(0,p.registerEditorAction)(c),(0,p.registerEditorAction)(f),u.CommandsRegistry.registerCommand("editor.action.format",async _=>{const S=_.get(w.ICodeEditorService).getFocusedCodeEditor();if(!S||!S.hasModel())return;const I=_.get(u.ICommandService);S.getSelection().isEmpty()?await I.executeCommand("editor.action.formatDocument"):await I.executeCommand("editor.action.formatSelection")})}),define(te[266],ie([1,0,13,20,12,16,18,169]),function(J,e,m,k,D,L,y,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getDefinitionsAtPosition=C,e.getDeclarationsAtPosition=b,e.getImplementationsAtPosition=a,e.getTypeDefinitionsAtPosition=s,e.getReferencesAtPosition=i;async function w(n,h,v,u){const r=v.ordered(n).map(o=>Promise.resolve(u(o,n,h)).then(void 0,g=>{(0,D.onUnexpectedExternalError)(g)})),l=await Promise.all(r);return(0,m.coalesce)(l.flat())}function C(n,h,v,u){return w(h,v,n,(d,r,l)=>d.provideDefinition(r,l,u))}function b(n,h,v,u){return w(h,v,n,(d,r,l)=>d.provideDeclaration(r,l,u))}function a(n,h,v,u){return w(h,v,n,(d,r,l)=>d.provideImplementation(r,l,u))}function s(n,h,v,u){return w(h,v,n,(d,r,l)=>d.provideTypeDefinition(r,l,u))}function i(n,h,v,u,d){return w(h,v,n,async(r,l,o)=>{const g=await r.provideReferences(l,o,{includeDeclaration:!0},d);if(!u||!g||g.length!==2)return g;const c=await r.provideReferences(l,o,{includeDeclaration:!1},d);return c&&c.length===1?c:g})}async function t(n){const h=await n(),v=new p.ReferencesModel(h,""),u=v.references.map(d=>d.link);return v.dispose(),u}(0,L.registerModelAndPositionCommand)("_executeDefinitionProvider",(n,h,v)=>{const u=n.get(y.ILanguageFeaturesService),d=C(u.definitionProvider,h,v,k.CancellationToken.None);return t(()=>d)}),(0,L.registerModelAndPositionCommand)("_executeTypeDefinitionProvider",(n,h,v)=>{const u=n.get(y.ILanguageFeaturesService),d=s(u.typeDefinitionProvider,h,v,k.CancellationToken.None);return t(()=>d)}),(0,L.registerModelAndPositionCommand)("_executeDeclarationProvider",(n,h,v)=>{const u=n.get(y.ILanguageFeaturesService),d=b(u.declarationProvider,h,v,k.CancellationToken.None);return t(()=>d)}),(0,L.registerModelAndPositionCommand)("_executeReferenceProvider",(n,h,v)=>{const u=n.get(y.ILanguageFeaturesService),d=i(u.referenceProvider,h,v,!1,k.CancellationToken.None);return t(()=>d)}),(0,L.registerModelAndPositionCommand)("_executeImplementationProvider",(n,h,v)=>{const u=n.get(y.ILanguageFeaturesService),d=a(u.implementationProvider,h,v,k.CancellationToken.None);return t(()=>d)})}),define(te[856],ie([1,0,7,2,50,16,36,5,715,14,46,8,35,131,51]),function(J,e,m,k,D,L,y,p,w,C,b,a,s,i,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ISymbolNavigationService=e.ctxHasSymbols=void 0,e.ctxHasSymbols=new C.RawContextKey("hasSymbols",!1,(0,w.localize)(0,null)),e.ISymbolNavigationService=(0,a.createDecorator)("ISymbolNavigationService");let n=class{constructor(u,d,r,l){this._editorService=d,this._notificationService=r,this._keybindingService=l,this._currentModel=void 0,this._currentIdx=-1,this._ignoreEditorChange=!1,this._ctxHasSymbols=e.ctxHasSymbols.bindTo(u)}reset(){var u,d;this._ctxHasSymbols.reset(),(u=this._currentState)===null||u===void 0||u.dispose(),(d=this._currentMessage)===null||d===void 0||d.dispose(),this._currentModel=void 0,this._currentIdx=-1}put(u){const d=u.parent.parent;if(d.references.length<=1){this.reset();return}this._currentModel=d,this._currentIdx=d.references.indexOf(u),this._ctxHasSymbols.set(!0),this._showMessage();const r=new h(this._editorService),l=r.onDidChange(o=>{if(this._ignoreEditorChange)return;const g=this._editorService.getActiveCodeEditor();if(!g)return;const c=g.getModel(),f=g.getPosition();if(!c||!f)return;let _=!1,S=!1;for(const I of d.references)if((0,D.isEqual)(I.uri,c.uri))_=!0,S=S||p.Range.containsPosition(I.range,f);else if(_)break;(!_||!S)&&this.reset()});this._currentState=(0,k.combinedDisposable)(r,l)}revealNext(u){if(!this._currentModel)return Promise.resolve();this._currentIdx+=1,this._currentIdx%=this._currentModel.references.length;const d=this._currentModel.references[this._currentIdx];return this._showMessage(),this._ignoreEditorChange=!0,this._editorService.openCodeEditor({resource:d.uri,options:{selection:p.Range.collapseToStart(d.range),selectionRevealType:3}},u).finally(()=>{this._ignoreEditorChange=!1})}_showMessage(){var u;(u=this._currentMessage)===null||u===void 0||u.dispose();const d=this._keybindingService.lookupKeybinding("editor.gotoNextSymbolFromResult"),r=d?(0,w.localize)(1,null,this._currentIdx+1,this._currentModel.references.length,d.getLabel()):(0,w.localize)(2,null,this._currentIdx+1,this._currentModel.references.length);this._currentMessage=this._notificationService.status(r)}};n=Ie([he(0,C.IContextKeyService),he(1,y.ICodeEditorService),he(2,t.INotificationService),he(3,s.IKeybindingService)],n),(0,b.registerSingleton)(e.ISymbolNavigationService,n,1),(0,L.registerEditorCommand)(new class extends L.EditorCommand{constructor(){super({id:"editor.gotoNextSymbolFromResult",precondition:e.ctxHasSymbols,kbOpts:{weight:100,primary:70}})}runEditorCommand(v,u){return v.get(e.ISymbolNavigationService).revealNext(u)}}),i.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"editor.gotoNextSymbolFromResult.cancel",weight:100,when:e.ctxHasSymbols,primary:9,handler(v){v.get(e.ISymbolNavigationService).reset()}});let h=class{constructor(u){this._listener=new Map,this._disposables=new k.DisposableStore,this._onDidChange=new m.Emitter,this.onDidChange=this._onDidChange.event,this._disposables.add(u.onCodeEditorRemove(this._onDidRemoveEditor,this)),this._disposables.add(u.onCodeEditorAdd(this._onDidAddEditor,this)),u.listCodeEditors().forEach(this._onDidAddEditor,this)}dispose(){this._disposables.dispose(),this._onDidChange.dispose(),(0,k.dispose)(this._listener.values())}_onDidAddEditor(u){this._listener.set(u,(0,k.combinedDisposable)(u.onDidChangeCursorPosition(d=>this._onDidChange.fire({editor:u})),u.onDidChangeModelContent(d=>this._onDidChange.fire({editor:u}))))}_onDidRemoveEditor(u){var d;(d=this._listener.get(u))===null||d===void 0||d.dispose(),this._listener.delete(u)}};h=Ie([he(0,y.ICodeEditorService)],h)}),define(te[382],ie([1,0,15,20,12,16,18]),function(J,e,m,k,D,L,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HoverProviderResult=void 0,e.getHover=C,e.getHoverPromise=b;class p{constructor(i,t,n){this.provider=i,this.hover=t,this.ordinal=n}}e.HoverProviderResult=p;async function w(s,i,t,n,h){try{const v=await Promise.resolve(s.provideHover(t,n,h));if(v&&a(v))return new p(s,v,i)}catch(v){(0,D.onUnexpectedExternalError)(v)}}function C(s,i,t,n){const v=s.ordered(i).map((u,d)=>w(u,d,i,t,n));return m.AsyncIterableObject.fromPromises(v).coalesce()}function b(s,i,t,n){return C(s,i,t,n).map(h=>h.hover).toPromise()}(0,L.registerModelAndPositionCommand)("_executeHoverProvider",(s,i,t)=>{const n=s.get(y.ILanguageFeaturesService);return b(n.hoverProvider,i,t,k.CancellationToken.None)});function a(s){const i=typeof s.range<"u",t=typeof s.contents<"u"&&s.contents&&s.contents.length>0;return i&&t}}),define(te[267],ie([1,0,6,13,15,57,2,114,9,5,42,382,717,25,59,18]),function(J,e,m,k,D,L,y,p,w,C,b,a,s,i,t,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarkdownHoverParticipant=e.MarkdownHover=void 0,e.renderMarkdownHovers=d;const h=m.$;class v{constructor(l,o,g,c,f){this.owner=l,this.range=o,this.contents=g,this.isBeforeContent=c,this.ordinal=f}isValidForHoverAnchor(l){return l.type===1&&this.range.startColumn<=l.range.startColumn&&this.range.endColumn>=l.range.endColumn}}e.MarkdownHover=v;let u=class{constructor(l,o,g,c,f){this._editor=l,this._languageService=o,this._openerService=g,this._configurationService=c,this._languageFeaturesService=f,this.hoverOrdinal=3}createLoadingMessage(l){return new v(this,l.range,[new L.MarkdownString().appendText(s.localize(0,null))],!1,2e3)}computeSync(l,o){if(!this._editor.hasModel()||l.type!==1)return[];const g=this._editor.getModel(),c=l.range.startLineNumber,f=g.getLineMaxColumn(c),_=[];let S=1e3;const I=g.getLineLength(c),E=g.getLanguageIdAtPosition(l.range.startLineNumber,l.range.startColumn),T=this._editor.getOption(117),N=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:E});let A=!1;T>=0&&I>T&&l.range.startColumn>=T&&(A=!0,_.push(new v(this,l.range,[{value:s.localize(1,null)}],!1,S++))),!A&&typeof N=="number"&&I>=N&&_.push(new v(this,l.range,[{value:s.localize(2,null)}],!1,S++));let O=!1;for(const M of o){const P=M.range.startLineNumber===c?M.range.startColumn:1,x=M.range.endLineNumber===c?M.range.endColumn:f,R=M.options.hoverMessage;if(!R||(0,L.isEmptyMarkdownString)(R))continue;M.options.beforeContentClassName&&(O=!0);const B=new C.Range(l.range.startLineNumber,P,l.range.startLineNumber,x);_.push(new v(this,B,(0,k.asArray)(R),O,S++))}return _}computeAsync(l,o,g){if(!this._editor.hasModel()||l.type!==1)return D.AsyncIterableObject.EMPTY;const c=this._editor.getModel();if(!this._languageFeaturesService.hoverProvider.has(c))return D.AsyncIterableObject.EMPTY;const f=new w.Position(l.range.startLineNumber,l.range.startColumn);return(0,a.getHover)(this._languageFeaturesService.hoverProvider,c,f,g).filter(_=>!(0,L.isEmptyMarkdownString)(_.hover.contents)).map(_=>{const S=_.hover.range?C.Range.lift(_.hover.range):l.range;return new v(this,S,_.hover.contents,!1,_.ordinal)})}renderHoverParts(l,o){return d(l,o,this._editor,this._languageService,this._openerService)}};e.MarkdownHoverParticipant=u,e.MarkdownHoverParticipant=u=Ie([he(1,b.ILanguageService),he(2,t.IOpenerService),he(3,i.IConfigurationService),he(4,n.ILanguageFeaturesService)],u);function d(r,l,o,g,c){l.sort((_,S)=>_.ordinal-S.ordinal);const f=new y.DisposableStore;for(const _ of l)for(const S of _.contents){if((0,L.isEmptyMarkdownString)(S))continue;const I=h("div.hover-row.markdown-hover"),E=m.append(I,h("div.hover-contents")),T=f.add(new p.MarkdownRenderer({editor:o},g,c));f.add(T.onDidRenderAsync(()=>{E.className="hover-contents code-hover-contents",r.onContentsChanged()}));const N=f.add(T.render(S));E.appendChild(N.element),r.fragment.appendChild(I)}return f}}),define(te[857],ie([1,0,2,11,16,264,71,5,24,19,33,53,324,720,75,219,262]),function(J,e,m,k,D,L,y,p,w,C,b,a,s,i,t,n,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndentationToTabsCommand=e.IndentationToSpacesCommand=e.AutoIndentOnPaste=e.AutoIndentOnPasteCommand=e.ReindentSelectedLinesAction=e.ReindentLinesAction=e.DetectIndentation=e.ChangeTabDisplaySize=e.IndentUsingSpaces=e.IndentUsingTabs=e.ChangeIndentationSizeAction=e.IndentationToTabsAction=e.IndentationToSpacesAction=void 0,e.getReindentEditOperations=v;function v(A,O,M,P,x){if(A.getLineCount()===1&&A.getLineMaxColumn(1)===1)return[];const R=O.getLanguageConfiguration(A.getLanguageId()).indentationRules;if(!R)return[];for(P=Math.min(P,A.getLineCount());M<=P&&R.unIndentedLinePattern;){const Q=A.getLineContent(M);if(!R.unIndentedLinePattern.test(Q))break;M++}if(M>P-1)return[];const{tabSize:B,indentSize:H,insertSpaces:V}=A.getOptions(),q=(Q,Z)=>(Z=Z||1,L.ShiftCommand.shiftIndent(Q,Q.length+Z,B,H,V)),K=(Q,Z)=>(Z=Z||1,L.ShiftCommand.unshiftIndent(Q,Q.length+Z,B,H,V)),U=[];let $;const se=A.getLineContent(M);let F=se;if(x!=null){$=x;const Q=k.getLeadingWhitespace(se);F=$+se.substring(Q.length),R.decreaseIndentPattern&&R.decreaseIndentPattern.test(F)&&($=K($),F=$+se.substring(Q.length)),se!==F&&U.push(y.EditOperation.replaceMove(new w.Selection(M,1,M,Q.length+1),(0,n.normalizeIndentation)($,H,V)))}else $=k.getLeadingWhitespace(se);let X=$;R.increaseIndentPattern&&R.increaseIndentPattern.test(F)?(X=q(X),$=q($)):R.indentNextLinePattern&&R.indentNextLinePattern.test(F)&&(X=q(X)),M++;for(let Q=M;Q<=P;Q++){const Z=A.getLineContent(Q),ae=k.getLeadingWhitespace(Z),ue=X+Z.substring(ae.length);R.decreaseIndentPattern&&R.decreaseIndentPattern.test(ue)&&(X=K(X),$=K($)),ae!==X&&U.push(y.EditOperation.replaceMove(new w.Selection(Q,1,Q,ae.length+1),(0,n.normalizeIndentation)(X,H,V))),!(R.unIndentedLinePattern&&R.unIndentedLinePattern.test(Z))&&(R.increaseIndentPattern&&R.increaseIndentPattern.test(ue)?($=q($),X=$):R.indentNextLinePattern&&R.indentNextLinePattern.test(ue)?X=q(X):X=$)}return U}class u extends D.EditorAction{constructor(){super({id:u.ID,label:i.localize(0,null),alias:"Convert Indentation to Spaces",precondition:C.EditorContextKeys.writable})}run(O,M){const P=M.getModel();if(!P)return;const x=P.getOptions(),R=M.getSelection();if(!R)return;const B=new T(R,x.tabSize);M.pushUndoStop(),M.executeCommands(this.id,[B]),M.pushUndoStop(),P.updateOptions({insertSpaces:!0})}}e.IndentationToSpacesAction=u,u.ID="editor.action.indentationToSpaces";class d extends D.EditorAction{constructor(){super({id:d.ID,label:i.localize(1,null),alias:"Convert Indentation to Tabs",precondition:C.EditorContextKeys.writable})}run(O,M){const P=M.getModel();if(!P)return;const x=P.getOptions(),R=M.getSelection();if(!R)return;const B=new N(R,x.tabSize);M.pushUndoStop(),M.executeCommands(this.id,[B]),M.pushUndoStop(),P.updateOptions({insertSpaces:!1})}}e.IndentationToTabsAction=d,d.ID="editor.action.indentationToTabs";class r extends D.EditorAction{constructor(O,M,P){super(P),this.insertSpaces=O,this.displaySizeOnly=M}run(O,M){const P=O.get(t.IQuickInputService),x=O.get(a.IModelService),R=M.getModel();if(!R)return;const B=x.getCreationOptions(R.getLanguageId(),R.uri,R.isForSimpleWidget),H=R.getOptions(),V=[1,2,3,4,5,6,7,8].map(K=>({id:K.toString(),label:K.toString(),description:K===B.tabSize&&K===H.tabSize?i.localize(2,null):K===B.tabSize?i.localize(3,null):K===H.tabSize?i.localize(4,null):void 0})),q=Math.min(R.getOptions().tabSize-1,7);setTimeout(()=>{P.pick(V,{placeHolder:i.localize(5,null),activeItem:V[q]}).then(K=>{if(K&&R&&!R.isDisposed()){const U=parseInt(K.label,10);this.displaySizeOnly?R.updateOptions({tabSize:U}):R.updateOptions({tabSize:U,indentSize:U,insertSpaces:this.insertSpaces})}})},50)}}e.ChangeIndentationSizeAction=r;class l extends r{constructor(){super(!1,!1,{id:l.ID,label:i.localize(6,null),alias:"Indent Using Tabs",precondition:void 0})}}e.IndentUsingTabs=l,l.ID="editor.action.indentUsingTabs";class o extends r{constructor(){super(!0,!1,{id:o.ID,label:i.localize(7,null),alias:"Indent Using Spaces",precondition:void 0})}}e.IndentUsingSpaces=o,o.ID="editor.action.indentUsingSpaces";class g extends r{constructor(){super(!0,!0,{id:g.ID,label:i.localize(8,null),alias:"Change Tab Display Size",precondition:void 0})}}e.ChangeTabDisplaySize=g,g.ID="editor.action.changeTabDisplaySize";class c extends D.EditorAction{constructor(){super({id:c.ID,label:i.localize(9,null),alias:"Detect Indentation from Content",precondition:void 0})}run(O,M){const P=O.get(a.IModelService),x=M.getModel();if(!x)return;const R=P.getCreationOptions(x.getLanguageId(),x.uri,x.isForSimpleWidget);x.detectIndentation(R.insertSpaces,R.tabSize)}}e.DetectIndentation=c,c.ID="editor.action.detectIndentation";class f extends D.EditorAction{constructor(){super({id:"editor.action.reindentlines",label:i.localize(10,null),alias:"Reindent Lines",precondition:C.EditorContextKeys.writable})}run(O,M){const P=O.get(b.ILanguageConfigurationService),x=M.getModel();if(!x)return;const R=v(x,P,1,x.getLineCount());R.length>0&&(M.pushUndoStop(),M.executeEdits(this.id,R),M.pushUndoStop())}}e.ReindentLinesAction=f;class _ extends D.EditorAction{constructor(){super({id:"editor.action.reindentselectedlines",label:i.localize(11,null),alias:"Reindent Selected Lines",precondition:C.EditorContextKeys.writable})}run(O,M){const P=O.get(b.ILanguageConfigurationService),x=M.getModel();if(!x)return;const R=M.getSelections();if(R===null)return;const B=[];for(const H of R){let V=H.startLineNumber,q=H.endLineNumber;if(V!==q&&H.endColumn===1&&q--,V===1){if(V===q)continue}else V--;const K=v(x,P,V,q);B.push(...K)}B.length>0&&(M.pushUndoStop(),M.executeEdits(this.id,B),M.pushUndoStop())}}e.ReindentSelectedLinesAction=_;class S{constructor(O,M){this._initialSelection=M,this._edits=[],this._selectionId=null;for(const P of O)P.range&&typeof P.text=="string"&&this._edits.push(P)}getEditOperations(O,M){for(const x of this._edits)M.addEditOperation(p.Range.lift(x.range),x.text);let P=!1;Array.isArray(this._edits)&&this._edits.length===1&&this._initialSelection.isEmpty()&&(this._edits[0].range.startColumn===this._initialSelection.endColumn&&this._edits[0].range.startLineNumber===this._initialSelection.endLineNumber?(P=!0,this._selectionId=M.trackSelection(this._initialSelection,!0)):this._edits[0].range.endColumn===this._initialSelection.startColumn&&this._edits[0].range.endLineNumber===this._initialSelection.startLineNumber&&(P=!0,this._selectionId=M.trackSelection(this._initialSelection,!1))),P||(this._selectionId=M.trackSelection(this._initialSelection))}computeCursorState(O,M){return M.getTrackedSelection(this._selectionId)}}e.AutoIndentOnPasteCommand=S;let I=class{constructor(O,M){this.editor=O,this._languageConfigurationService=M,this.callOnDispose=new m.DisposableStore,this.callOnModel=new m.DisposableStore,this.callOnDispose.add(O.onDidChangeConfiguration(()=>this.update())),this.callOnDispose.add(O.onDidChangeModel(()=>this.update())),this.callOnDispose.add(O.onDidChangeModelLanguage(()=>this.update()))}update(){this.callOnModel.clear(),!(this.editor.getOption(12)<4||this.editor.getOption(55))&&this.editor.hasModel()&&this.callOnModel.add(this.editor.onDidPaste(({range:O})=>{this.trigger(O)}))}trigger(O){const M=this.editor.getSelections();if(M===null||M.length>1)return;const P=this.editor.getModel();if(!P||!P.tokenization.isCheapToTokenize(O.getStartPosition().lineNumber))return;const x=this.editor.getOption(12),{tabSize:R,indentSize:B,insertSpaces:H}=P.getOptions(),V=[],q={shiftIndent:se=>L.ShiftCommand.shiftIndent(se,se.length+1,R,B,H),unshiftIndent:se=>L.ShiftCommand.unshiftIndent(se,se.length+1,R,B,H)};let K=O.startLineNumber;for(;K<=O.endLineNumber;){if(this.shouldIgnoreLine(P,K)){K++;continue}break}if(K>O.endLineNumber)return;let U=P.getLineContent(K);if(!/\S/.test(U.substring(0,O.startColumn-1))){const se=(0,h.getGoodIndentForLine)(x,P,P.getLanguageId(),K,q,this._languageConfigurationService);if(se!==null){const F=k.getLeadingWhitespace(U),X=s.getSpaceCnt(se,R),Q=s.getSpaceCnt(F,R);if(X!==Q){const Z=s.generateIndent(X,R,H);V.push({range:new p.Range(K,1,K,F.length+1),text:Z}),U=Z+U.substr(F.length)}else{const Z=(0,h.getIndentMetadata)(P,K,this._languageConfigurationService);if(Z===0||Z===8)return}}}const $=K;for(;K<O.endLineNumber;){if(!/\S/.test(P.getLineContent(K+1))){K++;continue}break}if(K!==O.endLineNumber){const se={tokenization:{getLineTokens:X=>P.tokenization.getLineTokens(X),getLanguageId:()=>P.getLanguageId(),getLanguageIdAtPosition:(X,Q)=>P.getLanguageIdAtPosition(X,Q)},getLineContent:X=>X===$?U:P.getLineContent(X)},F=(0,h.getGoodIndentForLine)(x,se,P.getLanguageId(),K+1,q,this._languageConfigurationService);if(F!==null){const X=s.getSpaceCnt(F,R),Q=s.getSpaceCnt(k.getLeadingWhitespace(P.getLineContent(K+1)),R);if(X!==Q){const Z=X-Q;for(let ae=K+1;ae<=O.endLineNumber;ae++){const ue=P.getLineContent(ae),ge=k.getLeadingWhitespace(ue),re=s.getSpaceCnt(ge,R)+Z,de=s.generateIndent(re,R,H);de!==ge&&V.push({range:new p.Range(ae,1,ae,ge.length+1),text:de})}}}}if(V.length>0){this.editor.pushUndoStop();const se=new S(V,this.editor.getSelection());this.editor.executeCommand("autoIndentOnPaste",se),this.editor.pushUndoStop()}}shouldIgnoreLine(O,M){O.tokenization.forceTokenization(M);const P=O.getLineFirstNonWhitespaceColumn(M);if(P===0)return!0;const x=O.tokenization.getLineTokens(M);if(x.getCount()>0){const R=x.findTokenIndexAtOffset(P);if(R>=0&&x.getStandardTokenType(R)===1)return!0}return!1}dispose(){this.callOnDispose.dispose(),this.callOnModel.dispose()}};e.AutoIndentOnPaste=I,I.ID="editor.contrib.autoIndentOnPaste",e.AutoIndentOnPaste=I=Ie([he(1,b.ILanguageConfigurationService)],I);function E(A,O,M,P){if(A.getLineCount()===1&&A.getLineMaxColumn(1)===1)return;let x="";for(let B=0;B<M;B++)x+=" ";const R=new RegExp(x,"gi");for(let B=1,H=A.getLineCount();B<=H;B++){let V=A.getLineFirstNonWhitespaceColumn(B);if(V===0&&(V=A.getLineMaxColumn(B)),V===1)continue;const q=new p.Range(B,1,B,V),K=A.getValueInRange(q),U=P?K.replace(/\t/ig,x):K.replace(R,"	");O.addEditOperation(q,U)}}class T{constructor(O,M){this.selection=O,this.tabSize=M,this.selectionId=null}getEditOperations(O,M){this.selectionId=M.trackSelection(this.selection),E(O,M,this.tabSize,!0)}computeCursorState(O,M){return M.getTrackedSelection(this.selectionId)}}e.IndentationToSpacesCommand=T;class N{constructor(O,M){this.selection=O,this.tabSize=M,this.selectionId=null}getEditOperations(O,M){this.selectionId=M.trackSelection(this.selection),E(O,M,this.tabSize,!1)}computeCursorState(O,M){return M.getTrackedSelection(this.selectionId)}}e.IndentationToTabsCommand=N,(0,D.registerEditorContribution)(I.ID,I,2),(0,D.registerEditorAction)(u),(0,D.registerEditorAction)(d),(0,D.registerEditorAction)(l),(0,D.registerEditorAction)(o),(0,D.registerEditorAction)(g),(0,D.registerEditorAction)(c),(0,D.registerEditorAction)(f),(0,D.registerEditorAction)(_)}),define(te[858],ie([1,0,16,224,19,727]),function(J,e,m,k,D,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExpandLineSelectionAction=void 0;class y extends m.EditorAction{constructor(){super({id:"expandLineSelection",label:L.localize(0,null),alias:"Expand Line Selection",precondition:void 0,kbOpts:{weight:0,kbExpr:D.EditorContextKeys.textInputFocus,primary:2090}})}run(w,C,b){if(b=b||{},!C.hasModel())return;const a=C._getViewModel();a.model.pushStackElement(),a.setCursorStates(b.source,3,k.CursorMoveCommands.expandLineSelection(a,a.getCursorStates())),a.revealPrimaryCursor(b.source,!0)}}e.ExpandLineSelectionAction=y,(0,m.registerEditorAction)(y)}),define(te[859],ie([1,0,68,204,16,140,523,265,71,9,5,24,19,587,835,588,728,28,33,25]),function(J,e,m,k,D,L,y,p,w,C,b,a,s,i,t,n,h,v,u,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.KebabCaseAction=e.PascalCaseAction=e.CamelCaseAction=e.SnakeCaseAction=e.TitleCaseAction=e.LowerCaseAction=e.UpperCaseAction=e.AbstractCaseAction=e.TransposeAction=e.JoinLinesAction=e.DeleteAllRightAction=e.DeleteAllLeftAction=e.AbstractDeleteAllToBoundaryAction=e.InsertLineAfterAction=e.InsertLineBeforeAction=e.IndentLinesAction=e.DeleteLinesAction=e.TrimTrailingWhitespaceAction=e.DeleteDuplicateLinesAction=e.SortLinesDescendingAction=e.SortLinesAscendingAction=e.AbstractSortLinesAction=e.DuplicateSelectionAction=void 0;class r extends D.EditorAction{constructor(ge,fe){super(fe),this.down=ge}run(ge,fe){if(!fe.hasModel())return;const re=fe.getSelections().map((W,z)=>({selection:W,index:z,ignore:!1}));re.sort((W,z)=>b.Range.compareRangesUsingStarts(W.selection,z.selection));let de=re[0];for(let W=1;W<re.length;W++){const z=re[W];de.selection.endLineNumber===z.selection.startLineNumber&&(de.index<z.index?z.ignore=!0:(de.ignore=!0,de=z))}const ee=[];for(const W of re)ee.push(new i.CopyLinesCommand(W.selection,this.down,W.ignore));fe.pushUndoStop(),fe.executeCommands(this.id,ee),fe.pushUndoStop()}}class l extends r{constructor(){super(!1,{id:"editor.action.copyLinesUpAction",label:h.localize(0,null),alias:"Copy Line Up",precondition:s.EditorContextKeys.writable,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:1552,linux:{primary:3600},weight:100},menuOpts:{menuId:v.MenuId.MenubarSelectionMenu,group:"2_line",title:h.localize(1,null),order:1}})}}class o extends r{constructor(){super(!0,{id:"editor.action.copyLinesDownAction",label:h.localize(2,null),alias:"Copy Line Down",precondition:s.EditorContextKeys.writable,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:1554,linux:{primary:3602},weight:100},menuOpts:{menuId:v.MenuId.MenubarSelectionMenu,group:"2_line",title:h.localize(3,null),order:2}})}}class g extends D.EditorAction{constructor(){super({id:"editor.action.duplicateSelection",label:h.localize(4,null),alias:"Duplicate Selection",precondition:s.EditorContextKeys.writable,menuOpts:{menuId:v.MenuId.MenubarSelectionMenu,group:"2_line",title:h.localize(5,null),order:5}})}run(ge,fe,re){if(!fe.hasModel())return;const de=[],ee=fe.getSelections(),W=fe.getModel();for(const z of ee)if(z.isEmpty())de.push(new i.CopyLinesCommand(z,!0));else{const Y=new a.Selection(z.endLineNumber,z.endColumn,z.endLineNumber,z.endColumn);de.push(new L.ReplaceCommandThatSelectsText(Y,W.getValueInRange(z)))}fe.pushUndoStop(),fe.executeCommands(this.id,de),fe.pushUndoStop()}}e.DuplicateSelectionAction=g;class c extends D.EditorAction{constructor(ge,fe){super(fe),this.down=ge}run(ge,fe){const re=ge.get(u.ILanguageConfigurationService),de=[],ee=fe.getSelections()||[],W=fe.getOption(12);for(const z of ee)de.push(new t.MoveLinesCommand(z,this.down,W,re));fe.pushUndoStop(),fe.executeCommands(this.id,de),fe.pushUndoStop()}}class f extends c{constructor(){super(!1,{id:"editor.action.moveLinesUpAction",label:h.localize(6,null),alias:"Move Line Up",precondition:s.EditorContextKeys.writable,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:528,linux:{primary:528},weight:100},menuOpts:{menuId:v.MenuId.MenubarSelectionMenu,group:"2_line",title:h.localize(7,null),order:3}})}}class _ extends c{constructor(){super(!0,{id:"editor.action.moveLinesDownAction",label:h.localize(8,null),alias:"Move Line Down",precondition:s.EditorContextKeys.writable,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:530,linux:{primary:530},weight:100},menuOpts:{menuId:v.MenuId.MenubarSelectionMenu,group:"2_line",title:h.localize(9,null),order:4}})}}class S extends D.EditorAction{constructor(ge,fe){super(fe),this.descending=ge}run(ge,fe){if(!fe.hasModel())return;const re=fe.getModel();let de=fe.getSelections();de.length===1&&de[0].isEmpty()&&(de=[new a.Selection(1,1,re.getLineCount(),re.getLineMaxColumn(re.getLineCount()))]);for(const W of de)if(!n.SortLinesCommand.canRun(fe.getModel(),W,this.descending))return;const ee=[];for(let W=0,z=de.length;W<z;W++)ee[W]=new n.SortLinesCommand(de[W],this.descending);fe.pushUndoStop(),fe.executeCommands(this.id,ee),fe.pushUndoStop()}}e.AbstractSortLinesAction=S;class I extends S{constructor(){super(!1,{id:"editor.action.sortLinesAscending",label:h.localize(10,null),alias:"Sort Lines Ascending",precondition:s.EditorContextKeys.writable})}}e.SortLinesAscendingAction=I;class E extends S{constructor(){super(!0,{id:"editor.action.sortLinesDescending",label:h.localize(11,null),alias:"Sort Lines Descending",precondition:s.EditorContextKeys.writable})}}e.SortLinesDescendingAction=E;class T extends D.EditorAction{constructor(){super({id:"editor.action.removeDuplicateLines",label:h.localize(12,null),alias:"Delete Duplicate Lines",precondition:s.EditorContextKeys.writable})}run(ge,fe){if(!fe.hasModel())return;const re=fe.getModel();if(re.getLineCount()===1&&re.getLineMaxColumn(1)===1)return;const de=[],ee=[];let W=0,z=!0,Y=fe.getSelections();Y.length===1&&Y[0].isEmpty()&&(Y=[new a.Selection(1,1,re.getLineCount(),re.getLineMaxColumn(re.getLineCount()))],z=!1);for(const j of Y){const G=new Set,oe=[];for(let me=j.startLineNumber;me<=j.endLineNumber;me++){const ve=re.getLineContent(me);G.has(ve)||(oe.push(ve),G.add(ve))}const ne=new a.Selection(j.startLineNumber,1,j.endLineNumber,re.getLineMaxColumn(j.endLineNumber)),ce=j.startLineNumber-W,le=new a.Selection(ce,1,ce+oe.length-1,oe[oe.length-1].length);de.push(w.EditOperation.replace(ne,oe.join(`
`))),ee.push(le),W+=j.endLineNumber-j.startLineNumber+1-oe.length}fe.pushUndoStop(),fe.executeEdits(this.id,de,z?ee:void 0),fe.pushUndoStop()}}e.DeleteDuplicateLinesAction=T;class N extends D.EditorAction{constructor(){super({id:N.ID,label:h.localize(13,null),alias:"Trim Trailing Whitespace",precondition:s.EditorContextKeys.writable,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:(0,m.KeyChord)(2089,2102),weight:100}})}run(ge,fe,re){let de=[];re.reason==="auto-save"&&(de=(fe.getSelections()||[]).map(G=>new C.Position(G.positionLineNumber,G.positionColumn)));const ee=fe.getSelection();if(ee===null)return;const W=ge.get(d.IConfigurationService),z=fe.getModel(),Y=W.getValue("files.trimTrailingWhitespaceInRegexAndStrings",{overrideIdentifier:z?.getLanguageId(),resource:z?.uri}),j=new y.TrimTrailingWhitespaceCommand(ee,de,Y);fe.pushUndoStop(),fe.executeCommands(this.id,[j]),fe.pushUndoStop()}}e.TrimTrailingWhitespaceAction=N,N.ID="editor.action.trimTrailingWhitespace";class A extends D.EditorAction{constructor(){super({id:"editor.action.deleteLines",label:h.localize(14,null),alias:"Delete Line",precondition:s.EditorContextKeys.writable,kbOpts:{kbExpr:s.EditorContextKeys.textInputFocus,primary:3113,weight:100}})}run(ge,fe){if(!fe.hasModel())return;const re=this._getLinesToRemove(fe),de=fe.getModel();if(de.getLineCount()===1&&de.getLineMaxColumn(1)===1)return;let ee=0;const W=[],z=[];for(let Y=0,j=re.length;Y<j;Y++){const G=re[Y];let oe=G.startLineNumber,ne=G.endLineNumber,ce=1,le=de.getLineMaxColumn(ne);ne<de.getLineCount()?(ne+=1,le=1):oe>1&&(oe-=1,ce=de.getLineMaxColumn(oe)),W.push(w.EditOperation.replace(new a.Selection(oe,ce,ne,le),"")),z.push(new a.Selection(oe-ee,G.positionColumn,oe-ee,G.positionColumn)),ee+=G.endLineNumber-G.startLineNumber+1}fe.pushUndoStop(),fe.executeEdits(this.id,W,z),fe.pushUndoStop()}_getLinesToRemove(ge){const fe=ge.getSelections().map(ee=>{let W=ee.endLineNumber;return ee.startLineNumber<ee.endLineNumber&&ee.endColumn===1&&(W-=1),{startLineNumber:ee.startLineNumber,selectionStartColumn:ee.selectionStartColumn,endLineNumber:W,positionColumn:ee.positionColumn}});fe.sort((ee,W)=>ee.startLineNumber===W.startLineNumber?ee.endLineNumber-W.endLineNumber:ee.startLineNumber-W.startLineNumber);const re=[];let de=fe[0];for(let ee=1;ee<fe.length;ee++)de.endLineNumber+1>=fe[ee].startLineNumber?de.endLineNumber=fe[ee].endLineNumber:(re.push(de),de=fe[ee]);return re.push(de),re}}e.DeleteLinesAction=A;class O extends D.EditorAction{constructor(){super({id:"editor.action.indentLines",label:h.localize(15,null),alias:"Indent Line",precondition:s.EditorContextKeys.writable,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:2142,weight:100}})}run(ge,fe){const re=fe._getViewModel();re&&(fe.pushUndoStop(),fe.executeCommands(this.id,p.TypeOperations.indent(re.cursorConfig,fe.getModel(),fe.getSelections())),fe.pushUndoStop())}}e.IndentLinesAction=O;class M extends D.EditorAction{constructor(){super({id:"editor.action.outdentLines",label:h.localize(16,null),alias:"Outdent Line",precondition:s.EditorContextKeys.writable,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:2140,weight:100}})}run(ge,fe){k.CoreEditingCommands.Outdent.runEditorCommand(ge,fe,null)}}class P extends D.EditorAction{constructor(){super({id:"editor.action.insertLineBefore",label:h.localize(17,null),alias:"Insert Line Above",precondition:s.EditorContextKeys.writable,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:3075,weight:100}})}run(ge,fe){const re=fe._getViewModel();re&&(fe.pushUndoStop(),fe.executeCommands(this.id,p.TypeOperations.lineInsertBefore(re.cursorConfig,fe.getModel(),fe.getSelections())))}}e.InsertLineBeforeAction=P;class x extends D.EditorAction{constructor(){super({id:"editor.action.insertLineAfter",label:h.localize(18,null),alias:"Insert Line Below",precondition:s.EditorContextKeys.writable,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:2051,weight:100}})}run(ge,fe){const re=fe._getViewModel();re&&(fe.pushUndoStop(),fe.executeCommands(this.id,p.TypeOperations.lineInsertAfter(re.cursorConfig,fe.getModel(),fe.getSelections())))}}e.InsertLineAfterAction=x;class R extends D.EditorAction{run(ge,fe){if(!fe.hasModel())return;const re=fe.getSelection(),de=this._getRangesToDelete(fe),ee=[];for(let Y=0,j=de.length-1;Y<j;Y++){const G=de[Y],oe=de[Y+1];b.Range.intersectRanges(G,oe)===null?ee.push(G):de[Y+1]=b.Range.plusRange(G,oe)}ee.push(de[de.length-1]);const W=this._getEndCursorState(re,ee),z=ee.map(Y=>w.EditOperation.replace(Y,""));fe.pushUndoStop(),fe.executeEdits(this.id,z,W),fe.pushUndoStop()}}e.AbstractDeleteAllToBoundaryAction=R;class B extends R{constructor(){super({id:"deleteAllLeft",label:h.localize(19,null),alias:"Delete All Left",precondition:s.EditorContextKeys.writable,kbOpts:{kbExpr:s.EditorContextKeys.textInputFocus,primary:0,mac:{primary:2049},weight:100}})}_getEndCursorState(ge,fe){let re=null;const de=[];let ee=0;return fe.forEach(W=>{let z;if(W.endColumn===1&&ee>0){const Y=W.startLineNumber-ee;z=new a.Selection(Y,W.startColumn,Y,W.startColumn)}else z=new a.Selection(W.startLineNumber,W.startColumn,W.startLineNumber,W.startColumn);ee+=W.endLineNumber-W.startLineNumber,W.intersectRanges(ge)?re=z:de.push(z)}),re&&de.unshift(re),de}_getRangesToDelete(ge){const fe=ge.getSelections();if(fe===null)return[];let re=fe;const de=ge.getModel();return de===null?[]:(re.sort(b.Range.compareRangesUsingStarts),re=re.map(ee=>{if(ee.isEmpty())if(ee.startColumn===1){const W=Math.max(1,ee.startLineNumber-1),z=ee.startLineNumber===1?1:de.getLineLength(W)+1;return new b.Range(W,z,ee.startLineNumber,1)}else return new b.Range(ee.startLineNumber,1,ee.startLineNumber,ee.startColumn);else return new b.Range(ee.startLineNumber,1,ee.endLineNumber,ee.endColumn)}),re)}}e.DeleteAllLeftAction=B;class H extends R{constructor(){super({id:"deleteAllRight",label:h.localize(20,null),alias:"Delete All Right",precondition:s.EditorContextKeys.writable,kbOpts:{kbExpr:s.EditorContextKeys.textInputFocus,primary:0,mac:{primary:297,secondary:[2068]},weight:100}})}_getEndCursorState(ge,fe){let re=null;const de=[];for(let ee=0,W=fe.length,z=0;ee<W;ee++){const Y=fe[ee],j=new a.Selection(Y.startLineNumber-z,Y.startColumn,Y.startLineNumber-z,Y.startColumn);Y.intersectRanges(ge)?re=j:de.push(j)}return re&&de.unshift(re),de}_getRangesToDelete(ge){const fe=ge.getModel();if(fe===null)return[];const re=ge.getSelections();if(re===null)return[];const de=re.map(ee=>{if(ee.isEmpty()){const W=fe.getLineMaxColumn(ee.startLineNumber);return ee.startColumn===W?new b.Range(ee.startLineNumber,ee.startColumn,ee.startLineNumber+1,1):new b.Range(ee.startLineNumber,ee.startColumn,ee.startLineNumber,W)}return ee});return de.sort(b.Range.compareRangesUsingStarts),de}}e.DeleteAllRightAction=H;class V extends D.EditorAction{constructor(){super({id:"editor.action.joinLines",label:h.localize(21,null),alias:"Join Lines",precondition:s.EditorContextKeys.writable,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:0,mac:{primary:296},weight:100}})}run(ge,fe){const re=fe.getSelections();if(re===null)return;let de=fe.getSelection();if(de===null)return;re.sort(b.Range.compareRangesUsingStarts);const ee=[],W=re.reduce((ne,ce)=>ne.isEmpty()?ne.endLineNumber===ce.startLineNumber?(de.equalsSelection(ne)&&(de=ce),ce):ce.startLineNumber>ne.endLineNumber+1?(ee.push(ne),ce):new a.Selection(ne.startLineNumber,ne.startColumn,ce.endLineNumber,ce.endColumn):ce.startLineNumber>ne.endLineNumber?(ee.push(ne),ce):new a.Selection(ne.startLineNumber,ne.startColumn,ce.endLineNumber,ce.endColumn));ee.push(W);const z=fe.getModel();if(z===null)return;const Y=[],j=[];let G=de,oe=0;for(let ne=0,ce=ee.length;ne<ce;ne++){const le=ee[ne],me=le.startLineNumber,ve=1;let Ce=0,Se,_e;const Le=z.getLineLength(le.endLineNumber)-le.endColumn;if(le.isEmpty()||le.startLineNumber===le.endLineNumber){const xe=le.getStartPosition();xe.lineNumber<z.getLineCount()?(Se=me+1,_e=z.getLineMaxColumn(Se)):(Se=xe.lineNumber,_e=z.getLineMaxColumn(xe.lineNumber))}else Se=le.endLineNumber,_e=z.getLineMaxColumn(Se);let ke=z.getLineContent(me);for(let xe=me+1;xe<=Se;xe++){const He=z.getLineContent(xe),Be=z.getLineFirstNonWhitespaceColumn(xe);if(Be>=1){let Ee=!0;ke===""&&(Ee=!1),Ee&&(ke.charAt(ke.length-1)===" "||ke.charAt(ke.length-1)==="	")&&(Ee=!1,ke=ke.replace(/[\s\uFEFF\xA0]+$/g," "));const Ne=He.substr(Be-1);ke+=(Ee?" ":"")+Ne,Ee?Ce=Ne.length+1:Ce=Ne.length}else Ce=0}const Ae=new b.Range(me,ve,Se,_e);if(!Ae.isEmpty()){let xe;le.isEmpty()?(Y.push(w.EditOperation.replace(Ae,ke)),xe=new a.Selection(Ae.startLineNumber-oe,ke.length-Ce+1,me-oe,ke.length-Ce+1)):le.startLineNumber===le.endLineNumber?(Y.push(w.EditOperation.replace(Ae,ke)),xe=new a.Selection(le.startLineNumber-oe,le.startColumn,le.endLineNumber-oe,le.endColumn)):(Y.push(w.EditOperation.replace(Ae,ke)),xe=new a.Selection(le.startLineNumber-oe,le.startColumn,le.startLineNumber-oe,ke.length-Le)),b.Range.intersectRanges(Ae,de)!==null?G=xe:j.push(xe)}oe+=Ae.endLineNumber-Ae.startLineNumber}j.unshift(G),fe.pushUndoStop(),fe.executeEdits(this.id,Y,j),fe.pushUndoStop()}}e.JoinLinesAction=V;class q extends D.EditorAction{constructor(){super({id:"editor.action.transpose",label:h.localize(22,null),alias:"Transpose Characters around the Cursor",precondition:s.EditorContextKeys.writable})}run(ge,fe){const re=fe.getSelections();if(re===null)return;const de=fe.getModel();if(de===null)return;const ee=[];for(let W=0,z=re.length;W<z;W++){const Y=re[W];if(!Y.isEmpty())continue;const j=Y.getStartPosition(),G=de.getLineMaxColumn(j.lineNumber);if(j.column>=G){if(j.lineNumber===de.getLineCount())continue;const oe=new b.Range(j.lineNumber,Math.max(1,j.column-1),j.lineNumber+1,1),ne=de.getValueInRange(oe).split("").reverse().join("");ee.push(new L.ReplaceCommand(new a.Selection(j.lineNumber,Math.max(1,j.column-1),j.lineNumber+1,1),ne))}else{const oe=new b.Range(j.lineNumber,Math.max(1,j.column-1),j.lineNumber,j.column+1),ne=de.getValueInRange(oe).split("").reverse().join("");ee.push(new L.ReplaceCommandThatPreservesSelection(oe,ne,new a.Selection(j.lineNumber,j.column+1,j.lineNumber,j.column+1)))}}fe.pushUndoStop(),fe.executeCommands(this.id,ee),fe.pushUndoStop()}}e.TransposeAction=q;class K extends D.EditorAction{run(ge,fe){const re=fe.getSelections();if(re===null)return;const de=fe.getModel();if(de===null)return;const ee=fe.getOption(131),W=[];for(const z of re)if(z.isEmpty()){const Y=z.getStartPosition(),j=fe.getConfiguredWordAtPosition(Y);if(!j)continue;const G=new b.Range(Y.lineNumber,j.startColumn,Y.lineNumber,j.endColumn),oe=de.getValueInRange(G);W.push(w.EditOperation.replace(G,this._modifyText(oe,ee)))}else{const Y=de.getValueInRange(z);W.push(w.EditOperation.replace(z,this._modifyText(Y,ee)))}fe.pushUndoStop(),fe.executeEdits(this.id,W),fe.pushUndoStop()}}e.AbstractCaseAction=K;class U extends K{constructor(){super({id:"editor.action.transformToUppercase",label:h.localize(23,null),alias:"Transform to Uppercase",precondition:s.EditorContextKeys.writable})}_modifyText(ge,fe){return ge.toLocaleUpperCase()}}e.UpperCaseAction=U;class $ extends K{constructor(){super({id:"editor.action.transformToLowercase",label:h.localize(24,null),alias:"Transform to Lowercase",precondition:s.EditorContextKeys.writable})}_modifyText(ge,fe){return ge.toLocaleLowerCase()}}e.LowerCaseAction=$;class se{constructor(ge,fe){this._pattern=ge,this._flags=fe,this._actual=null,this._evaluated=!1}get(){if(!this._evaluated){this._evaluated=!0;try{this._actual=new RegExp(this._pattern,this._flags)}catch{}}return this._actual}isSupported(){return this.get()!==null}}class F extends K{constructor(){super({id:"editor.action.transformToTitlecase",label:h.localize(25,null),alias:"Transform to Title Case",precondition:s.EditorContextKeys.writable})}_modifyText(ge,fe){const re=F.titleBoundary.get();return re?ge.toLocaleLowerCase().replace(re,de=>de.toLocaleUpperCase()):ge}}e.TitleCaseAction=F,F.titleBoundary=new se("(^|[^\\p{L}\\p{N}']|((^|\\P{L})'))\\p{L}","gmu");class X extends K{constructor(){super({id:"editor.action.transformToSnakecase",label:h.localize(26,null),alias:"Transform to Snake Case",precondition:s.EditorContextKeys.writable})}_modifyText(ge,fe){const re=X.caseBoundary.get(),de=X.singleLetters.get();return!re||!de?ge:ge.replace(re,"$1_$2").replace(de,"$1_$2$3").toLocaleLowerCase()}}e.SnakeCaseAction=X,X.caseBoundary=new se("(\\p{Ll})(\\p{Lu})","gmu"),X.singleLetters=new se("(\\p{Lu}|\\p{N})(\\p{Lu})(\\p{Ll})","gmu");class Q extends K{constructor(){super({id:"editor.action.transformToCamelcase",label:h.localize(27,null),alias:"Transform to Camel Case",precondition:s.EditorContextKeys.writable})}_modifyText(ge,fe){const re=Q.wordBoundary.get();if(!re)return ge;const de=ge.split(re);return de.shift()+de.map(W=>W.substring(0,1).toLocaleUpperCase()+W.substring(1)).join("")}}e.CamelCaseAction=Q,Q.wordBoundary=new se("[_\\s-]","gm");class Z extends K{constructor(){super({id:"editor.action.transformToPascalcase",label:h.localize(28,null),alias:"Transform to Pascal Case",precondition:s.EditorContextKeys.writable})}_modifyText(ge,fe){const re=Z.wordBoundary.get(),de=Z.wordBoundaryToMaintain.get();return!re||!de?ge:ge.split(de).map(z=>z.split(re)).flat().map(z=>z.substring(0,1).toLocaleUpperCase()+z.substring(1)).join("")}}e.PascalCaseAction=Z,Z.wordBoundary=new se("[_\\s-]","gm"),Z.wordBoundaryToMaintain=new se("(?<=\\.)","gm");class ae extends K{static isSupported(){return[this.caseBoundary,this.singleLetters,this.underscoreBoundary].every(fe=>fe.isSupported())}constructor(){super({id:"editor.action.transformToKebabcase",label:h.localize(29,null),alias:"Transform to Kebab Case",precondition:s.EditorContextKeys.writable})}_modifyText(ge,fe){const re=ae.caseBoundary.get(),de=ae.singleLetters.get(),ee=ae.underscoreBoundary.get();return!re||!de||!ee?ge:ge.replace(ee,"$1-$3").replace(re,"$1-$2").replace(de,"$1-$2").toLocaleLowerCase()}}e.KebabCaseAction=ae,ae.caseBoundary=new se("(\\p{Ll})(\\p{Lu})","gmu"),ae.singleLetters=new se("(\\p{Lu}|\\p{N})(\\p{Lu}\\p{Ll})","gmu"),ae.underscoreBoundary=new se("(\\S)(_)(\\S)","gm"),(0,D.registerEditorAction)(l),(0,D.registerEditorAction)(o),(0,D.registerEditorAction)(g),(0,D.registerEditorAction)(f),(0,D.registerEditorAction)(_),(0,D.registerEditorAction)(I),(0,D.registerEditorAction)(E),(0,D.registerEditorAction)(T),(0,D.registerEditorAction)(N),(0,D.registerEditorAction)(A),(0,D.registerEditorAction)(O),(0,D.registerEditorAction)(M),(0,D.registerEditorAction)(P),(0,D.registerEditorAction)(x),(0,D.registerEditorAction)(B),(0,D.registerEditorAction)(H),(0,D.registerEditorAction)(V),(0,D.registerEditorAction)(q),(0,D.registerEditorAction)(U),(0,D.registerEditorAction)($),X.caseBoundary.isSupported()&&X.singleLetters.isSupported()&&(0,D.registerEditorAction)(X),Q.wordBoundary.isSupported()&&(0,D.registerEditorAction)(Q),Z.wordBoundary.isSupported()&&(0,D.registerEditorAction)(Z),F.titleBoundary.isSupported()&&(0,D.registerEditorAction)(F),ae.isSupported()&&(0,D.registerEditorAction)(ae)}),define(te[860],ie([1,0,2,16]),function(J,e,m,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class D extends m.Disposable{constructor(y){super(),this._editor=y,this._register(this._editor.onMouseDown(p=>{const w=this._editor.getOption(117);w>=0&&p.target.type===6&&p.target.position.column>=w&&this._editor.updateOptions({stopRenderingLineAfter:-1})}))}}D.ID="editor.contrib.longLinesHelper",(0,k.registerEditorContribution)(D.ID,D,2)}),define(te[174],ie([1,0,197,45,7,57,2,16,5,114,731,14,59,6,495]),function(J,e,m,k,D,L,y,p,w,C,b,a,s,i){"use strict";var t;Object.defineProperty(e,"__esModule",{value:!0}),e.MessageController=void 0;let n=t=class{static get(d){return d.getContribution(t.ID)}constructor(d,r,l){this._openerService=l,this._messageWidget=new y.MutableDisposable,this._messageListeners=new y.DisposableStore,this._mouseOverMessage=!1,this._editor=d,this._visible=t.MESSAGE_VISIBLE.bindTo(r)}dispose(){var d;(d=this._message)===null||d===void 0||d.dispose(),this._messageListeners.dispose(),this._messageWidget.dispose(),this._visible.reset()}showMessage(d,r){(0,k.alert)((0,L.isMarkdownString)(d)?d.value:d),this._visible.set(!0),this._messageWidget.clear(),this._messageListeners.clear(),this._message=(0,L.isMarkdownString)(d)?(0,m.renderMarkdown)(d,{actionHandler:{callback:o=>{this.closeMessage(),(0,C.openLinkFromMarkdown)(this._openerService,o,(0,L.isMarkdownString)(d)?d.isTrusted:void 0)},disposables:this._messageListeners}}):void 0,this._messageWidget.value=new v(this._editor,r,typeof d=="string"?d:this._message.element),this._messageListeners.add(D.Event.debounce(this._editor.onDidBlurEditorText,(o,g)=>g,0)(()=>{this._mouseOverMessage||this._messageWidget.value&&i.isAncestor(i.getActiveElement(),this._messageWidget.value.getDomNode())||this.closeMessage()})),this._messageListeners.add(this._editor.onDidChangeCursorPosition(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidDispose(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidChangeModel(()=>this.closeMessage())),this._messageListeners.add(i.addDisposableListener(this._messageWidget.value.getDomNode(),i.EventType.MOUSE_ENTER,()=>this._mouseOverMessage=!0,!0)),this._messageListeners.add(i.addDisposableListener(this._messageWidget.value.getDomNode(),i.EventType.MOUSE_LEAVE,()=>this._mouseOverMessage=!1,!0));let l;this._messageListeners.add(this._editor.onMouseMove(o=>{o.target.position&&(l?l.containsPosition(o.target.position)||this.closeMessage():l=new w.Range(r.lineNumber-3,1,o.target.position.lineNumber+3,1))}))}closeMessage(){this._visible.reset(),this._messageListeners.clear(),this._messageWidget.value&&this._messageListeners.add(v.fadeOut(this._messageWidget.value))}};e.MessageController=n,n.ID="editor.contrib.messageController",n.MESSAGE_VISIBLE=new a.RawContextKey("messageVisible",!1,b.localize(0,null)),e.MessageController=n=t=Ie([he(1,a.IContextKeyService),he(2,s.IOpenerService)],n);const h=p.EditorCommand.bindToContribution(n.get);(0,p.registerEditorCommand)(new h({id:"leaveEditorMessage",precondition:n.MESSAGE_VISIBLE,handler:u=>u.closeMessage(),kbOpts:{weight:130,primary:9}}));class v{static fadeOut(d){const r=()=>{d.dispose(),clearTimeout(l),d.getDomNode().removeEventListener("animationend",r)},l=setTimeout(r,110);return d.getDomNode().addEventListener("animationend",r),d.getDomNode().classList.add("fadeOut"),{dispose:r}}constructor(d,{lineNumber:r,column:l},o){this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._editor=d,this._editor.revealLinesInCenterIfOutsideViewport(r,r,0),this._position={lineNumber:r,column:l},this._domNode=document.createElement("div"),this._domNode.classList.add("monaco-editor-overlaymessage"),this._domNode.style.marginLeft="-6px";const g=document.createElement("div");g.classList.add("anchor","top"),this._domNode.appendChild(g);const c=document.createElement("div");typeof o=="string"?(c.classList.add("message"),c.textContent=o):(o.classList.add("message"),c.appendChild(o)),this._domNode.appendChild(c);const f=document.createElement("div");f.classList.add("anchor","below"),this._domNode.appendChild(f),this._editor.addContentWidget(this),this._domNode.classList.add("fadeIn")}dispose(){this._editor.removeContentWidget(this)}getId(){return"messageoverlay"}getDomNode(){return this._domNode}getPosition(){return{position:this._position,preference:[1,2],positionAffinity:1}}afterRender(d){this._domNode.classList.toggle("below",d===2)}}(0,p.registerEditorContribution)(n.ID,n,4)}),define(te[861],ie([1,0,57,2,16,174,738]),function(J,e,m,k,D,L,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReadOnlyMessageController=void 0;class p extends k.Disposable{constructor(C){super(),this.editor=C,this._register(this.editor.onDidAttemptReadOnlyEdit(()=>this._onDidAttemptReadOnlyEdit()))}_onDidAttemptReadOnlyEdit(){const C=L.MessageController.get(this.editor);if(C&&this.editor.hasModel()){let b=this.editor.getOptions().get(92);b||(this.editor.isSimpleWidget?b=new m.MarkdownString(y.localize(0,null)):b=new m.MarkdownString(y.localize(1,null))),C.showMessage(b,this.editor.getPosition())}}}e.ReadOnlyMessageController=p,p.ID="editor.contrib.readOnlyMessageController",(0,D.registerEditorContribution)(p.ID,p,2)}),define(te[862],ie([1,0,13,20,12,16,9,5,24,19,326,589,741,28,27,18,73,21,22]),function(J,e,m,k,D,L,y,p,w,C,b,a,s,i,t,n,h,v,u){"use strict";var d;Object.defineProperty(e,"__esModule",{value:!0}),e.SmartSelectController=void 0,e.provideSelectionRanges=f;class r{constructor(S,I){this.index=S,this.ranges=I}mov(S){const I=this.index+(S?1:-1);if(I<0||I>=this.ranges.length)return this;const E=new r(I,this.ranges);return E.ranges[I].equalsRange(this.ranges[this.index])?E.mov(S):E}}let l=d=class{static get(S){return S.getContribution(d.ID)}constructor(S,I){this._editor=S,this._languageFeaturesService=I,this._ignoreSelection=!1}dispose(){var S;(S=this._selectionListener)===null||S===void 0||S.dispose()}async run(S){if(!this._editor.hasModel())return;const I=this._editor.getSelections(),E=this._editor.getModel();if(this._state||await f(this._languageFeaturesService.selectionRangeProvider,E,I.map(N=>N.getPosition()),this._editor.getOption(113),k.CancellationToken.None).then(N=>{var A;if(!(!m.isNonEmptyArray(N)||N.length!==I.length)&&!(!this._editor.hasModel()||!m.equals(this._editor.getSelections(),I,(O,M)=>O.equalsSelection(M)))){for(let O=0;O<N.length;O++)N[O]=N[O].filter(M=>M.containsPosition(I[O].getStartPosition())&&M.containsPosition(I[O].getEndPosition())),N[O].unshift(I[O]);this._state=N.map(O=>new r(0,O)),(A=this._selectionListener)===null||A===void 0||A.dispose(),this._selectionListener=this._editor.onDidChangeCursorPosition(()=>{var O;this._ignoreSelection||((O=this._selectionListener)===null||O===void 0||O.dispose(),this._state=void 0)})}}),!this._state)return;this._state=this._state.map(N=>N.mov(S));const T=this._state.map(N=>w.Selection.fromPositions(N.ranges[N.index].getStartPosition(),N.ranges[N.index].getEndPosition()));this._ignoreSelection=!0;try{this._editor.setSelections(T)}finally{this._ignoreSelection=!1}}};e.SmartSelectController=l,l.ID="editor.contrib.smartSelectController",e.SmartSelectController=l=d=Ie([he(1,n.ILanguageFeaturesService)],l);class o extends L.EditorAction{constructor(S,I){super(I),this._forward=S}async run(S,I){const E=l.get(I);E&&await E.run(this._forward)}}class g extends o{constructor(){super(!0,{id:"editor.action.smartSelect.expand",label:s.localize(0,null),alias:"Expand Selection",precondition:void 0,kbOpts:{kbExpr:C.EditorContextKeys.editorTextFocus,primary:1553,mac:{primary:3345,secondary:[1297]},weight:100},menuOpts:{menuId:i.MenuId.MenubarSelectionMenu,group:"1_basic",title:s.localize(1,null),order:2}})}}t.CommandsRegistry.registerCommandAlias("editor.action.smartSelect.grow","editor.action.smartSelect.expand");class c extends o{constructor(){super(!1,{id:"editor.action.smartSelect.shrink",label:s.localize(2,null),alias:"Shrink Selection",precondition:void 0,kbOpts:{kbExpr:C.EditorContextKeys.editorTextFocus,primary:1551,mac:{primary:3343,secondary:[1295]},weight:100},menuOpts:{menuId:i.MenuId.MenubarSelectionMenu,group:"1_basic",title:s.localize(3,null),order:3}})}}(0,L.registerEditorContribution)(l.ID,l,4),(0,L.registerEditorAction)(g),(0,L.registerEditorAction)(c);async function f(_,S,I,E,T){const N=_.all(S).concat(new a.WordSelectionRangeProvider(E.selectSubwords));N.length===1&&N.unshift(new b.BracketSelectionRangeProvider);const A=[],O=[];for(const M of N)A.push(Promise.resolve(M.provideSelectionRanges(S,I,T)).then(P=>{if(m.isNonEmptyArray(P)&&P.length===I.length)for(let x=0;x<I.length;x++){O[x]||(O[x]=[]);for(const R of P[x])p.Range.isIRange(R.range)&&p.Range.containsPosition(R.range,I[x])&&O[x].push(p.Range.lift(R.range))}},D.onUnexpectedExternalError));return await Promise.all(A),O.map(M=>{if(M.length===0)return[];M.sort((B,H)=>y.Position.isBefore(B.getStartPosition(),H.getStartPosition())?1:y.Position.isBefore(H.getStartPosition(),B.getStartPosition())||y.Position.isBefore(B.getEndPosition(),H.getEndPosition())?-1:y.Position.isBefore(H.getEndPosition(),B.getEndPosition())?1:0);const P=[];let x;for(const B of M)(!x||p.Range.containsRange(B,x)&&!p.Range.equalsRange(B,x))&&(P.push(B),x=B);if(!E.selectLeadingAndTrailingWhitespace)return P;const R=[P[0]];for(let B=1;B<P.length;B++){const H=P[B-1],V=P[B];if(V.startLineNumber!==H.startLineNumber||V.endLineNumber!==H.endLineNumber){const q=new p.Range(H.startLineNumber,S.getLineFirstNonWhitespaceColumn(H.startLineNumber),H.endLineNumber,S.getLineLastNonWhitespaceColumn(H.endLineNumber));q.containsRange(H)&&!q.equalsRange(H)&&V.containsRange(q)&&!V.equalsRange(q)&&R.push(q);const K=new p.Range(H.startLineNumber,1,H.endLineNumber,S.getLineMaxColumn(H.endLineNumber));K.containsRange(H)&&!K.equalsRange(q)&&V.containsRange(K)&&!V.equalsRange(K)&&R.push(K)}R.push(V)}return R})}t.CommandsRegistry.registerCommand("_executeSelectionRangeProvider",async function(_,...S){const[I,E]=S;(0,v.assertType)(u.URI.isUri(I));const T=_.get(n.ILanguageFeaturesService).selectionRangeProvider,N=await _.get(h.ITextModelService).createModelReference(I);try{return f(T,N.object.textEditorModel,E,{selectLeadingAndTrailingWhitespace:!0,selectSubwords:!0},k.CancellationToken.None)}finally{N.dispose()}})}),define(te[863],ie([1,0,63,16,753]),function(J,e,m,k,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class L extends k.EditorAction{constructor(){super({id:"editor.action.forceRetokenize",label:D.localize(0,null),alias:"Developer: Force Retokenize",precondition:void 0})}run(p,w){if(!w.hasModel())return;const C=w.getModel();C.tokenization.resetTokenization();const b=new m.StopWatch;C.tokenization.forceTokenization(C.getLineCount()),b.stop(),console.log(`tokenization took ${b.elapsed()}`)}}(0,k.registerEditorAction)(L)}),define(te[864],ie([1,0,2,50,16,36,755,170]),function(J,e,m,k,D,L,y,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UnusualLineTerminatorsDetector=void 0;const w="ignoreUnusualLineTerminators";function C(s,i,t){s.setModelProperty(i.uri,w,t)}function b(s,i){return s.getModelProperty(i.uri,w)}let a=class extends m.Disposable{constructor(i,t,n){super(),this._editor=i,this._dialogService=t,this._codeEditorService=n,this._isPresentingDialog=!1,this._config=this._editor.getOption(126),this._register(this._editor.onDidChangeConfiguration(h=>{h.hasChanged(126)&&(this._config=this._editor.getOption(126),this._checkForUnusualLineTerminators())})),this._register(this._editor.onDidChangeModel(()=>{this._checkForUnusualLineTerminators()})),this._register(this._editor.onDidChangeModelContent(h=>{h.isUndoing||this._checkForUnusualLineTerminators()})),this._checkForUnusualLineTerminators()}async _checkForUnusualLineTerminators(){if(this._config==="off"||!this._editor.hasModel())return;const i=this._editor.getModel();if(!i.mightContainUnusualLineTerminators()||b(this._codeEditorService,i)===!0||this._editor.getOption(91))return;if(this._config==="auto"){i.removeUnusualLineTerminators(this._editor.getSelections());return}if(this._isPresentingDialog)return;let n;try{this._isPresentingDialog=!0,n=await this._dialogService.confirm({title:y.localize(0,null),message:y.localize(1,null),detail:y.localize(2,null,(0,k.basename)(i.uri)),primaryButton:y.localize(3,null),cancelButton:y.localize(4,null)})}finally{this._isPresentingDialog=!1}if(!n.confirmed){C(this._codeEditorService,i,!0);return}i.removeUnusualLineTerminators(this._editor.getSelections())}};e.UnusualLineTerminatorsDetector=a,a.ID="editor.contrib.unusualLineTerminatorsDetector",e.UnusualLineTerminatorsDetector=a=Ie([he(1,p.IDialogService),he(2,L.ICodeEditorService)],a),(0,D.registerEditorContribution)(a.ID,a,1)}),define(te[383],ie([1,0,16,140,38,77,190,159,9,5,24,19,33,758,74,14,201]),function(J,e,m,k,D,L,y,p,w,C,b,a,s,i,t,n,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DeleteInsideWord=e.DeleteWordRight=e.DeleteWordEndRight=e.DeleteWordStartRight=e.DeleteWordLeft=e.DeleteWordEndLeft=e.DeleteWordStartLeft=e.DeleteWordRightCommand=e.DeleteWordLeftCommand=e.DeleteWordCommand=e.CursorWordAccessibilityRightSelect=e.CursorWordAccessibilityRight=e.CursorWordRightSelect=e.CursorWordEndRightSelect=e.CursorWordStartRightSelect=e.CursorWordRight=e.CursorWordEndRight=e.CursorWordStartRight=e.CursorWordAccessibilityLeftSelect=e.CursorWordAccessibilityLeft=e.CursorWordLeftSelect=e.CursorWordEndLeftSelect=e.CursorWordStartLeftSelect=e.CursorWordLeft=e.CursorWordEndLeft=e.CursorWordStartLeft=e.WordRightCommand=e.WordLeftCommand=e.MoveWordCommand=void 0;class v extends m.EditorCommand{constructor(X){super(X),this._inSelectionMode=X.inSelectionMode,this._wordNavigationType=X.wordNavigationType}runEditorCommand(X,Q,Z){if(!Q.hasModel())return;const ae=(0,p.getMapForWordSeparators)(Q.getOption(131),Q.getOption(130)),ue=Q.getModel(),fe=Q.getSelections().map(re=>{const de=new w.Position(re.positionLineNumber,re.positionColumn),ee=this._move(ae,ue,de,this._wordNavigationType);return this._moveTo(re,ee,this._inSelectionMode)});if(ue.pushStackElement(),Q._getViewModel().setCursorStates("moveWordCommand",3,fe.map(re=>L.CursorState.fromModelSelection(re))),fe.length===1){const re=new w.Position(fe[0].positionLineNumber,fe[0].positionColumn);Q.revealPosition(re,0)}}_moveTo(X,Q,Z){return Z?new b.Selection(X.selectionStartLineNumber,X.selectionStartColumn,Q.lineNumber,Q.column):new b.Selection(Q.lineNumber,Q.column,Q.lineNumber,Q.column)}}e.MoveWordCommand=v;class u extends v{_move(X,Q,Z,ae){return y.WordOperations.moveWordLeft(X,Q,Z,ae)}}e.WordLeftCommand=u;class d extends v{_move(X,Q,Z,ae){return y.WordOperations.moveWordRight(X,Q,Z,ae)}}e.WordRightCommand=d;class r extends u{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartLeft",precondition:void 0})}}e.CursorWordStartLeft=r;class l extends u{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndLeft",precondition:void 0})}}e.CursorWordEndLeft=l;class o extends u{constructor(){var X;super({inSelectionMode:!1,wordNavigationType:1,id:"cursorWordLeft",precondition:void 0,kbOpts:{kbExpr:n.ContextKeyExpr.and(a.EditorContextKeys.textInputFocus,(X=n.ContextKeyExpr.and(t.CONTEXT_ACCESSIBILITY_MODE_ENABLED,h.IsWindowsContext))===null||X===void 0?void 0:X.negate()),primary:2063,mac:{primary:527},weight:100}})}}e.CursorWordLeft=o;class g extends u{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartLeftSelect",precondition:void 0})}}e.CursorWordStartLeftSelect=g;class c extends u{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndLeftSelect",precondition:void 0})}}e.CursorWordEndLeftSelect=c;class f extends u{constructor(){var X;super({inSelectionMode:!0,wordNavigationType:1,id:"cursorWordLeftSelect",precondition:void 0,kbOpts:{kbExpr:n.ContextKeyExpr.and(a.EditorContextKeys.textInputFocus,(X=n.ContextKeyExpr.and(t.CONTEXT_ACCESSIBILITY_MODE_ENABLED,h.IsWindowsContext))===null||X===void 0?void 0:X.negate()),primary:3087,mac:{primary:1551},weight:100}})}}e.CursorWordLeftSelect=f;class _ extends u{constructor(){super({inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityLeft",precondition:void 0})}_move(X,Q,Z,ae){return super._move((0,p.getMapForWordSeparators)(D.EditorOptions.wordSeparators.defaultValue,X.intlSegmenterLocales),Q,Z,ae)}}e.CursorWordAccessibilityLeft=_;class S extends u{constructor(){super({inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityLeftSelect",precondition:void 0})}_move(X,Q,Z,ae){return super._move((0,p.getMapForWordSeparators)(D.EditorOptions.wordSeparators.defaultValue,X.intlSegmenterLocales),Q,Z,ae)}}e.CursorWordAccessibilityLeftSelect=S;class I extends d{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartRight",precondition:void 0})}}e.CursorWordStartRight=I;class E extends d{constructor(){var X;super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndRight",precondition:void 0,kbOpts:{kbExpr:n.ContextKeyExpr.and(a.EditorContextKeys.textInputFocus,(X=n.ContextKeyExpr.and(t.CONTEXT_ACCESSIBILITY_MODE_ENABLED,h.IsWindowsContext))===null||X===void 0?void 0:X.negate()),primary:2065,mac:{primary:529},weight:100}})}}e.CursorWordEndRight=E;class T extends d{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordRight",precondition:void 0})}}e.CursorWordRight=T;class N extends d{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartRightSelect",precondition:void 0})}}e.CursorWordStartRightSelect=N;class A extends d{constructor(){var X;super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndRightSelect",precondition:void 0,kbOpts:{kbExpr:n.ContextKeyExpr.and(a.EditorContextKeys.textInputFocus,(X=n.ContextKeyExpr.and(t.CONTEXT_ACCESSIBILITY_MODE_ENABLED,h.IsWindowsContext))===null||X===void 0?void 0:X.negate()),primary:3089,mac:{primary:1553},weight:100}})}}e.CursorWordEndRightSelect=A;class O extends d{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordRightSelect",precondition:void 0})}}e.CursorWordRightSelect=O;class M extends d{constructor(){super({inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityRight",precondition:void 0})}_move(X,Q,Z,ae){return super._move((0,p.getMapForWordSeparators)(D.EditorOptions.wordSeparators.defaultValue,X.intlSegmenterLocales),Q,Z,ae)}}e.CursorWordAccessibilityRight=M;class P extends d{constructor(){super({inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityRightSelect",precondition:void 0})}_move(X,Q,Z,ae){return super._move((0,p.getMapForWordSeparators)(D.EditorOptions.wordSeparators.defaultValue,X.intlSegmenterLocales),Q,Z,ae)}}e.CursorWordAccessibilityRightSelect=P;class x extends m.EditorCommand{constructor(X){super(X),this._whitespaceHeuristics=X.whitespaceHeuristics,this._wordNavigationType=X.wordNavigationType}runEditorCommand(X,Q,Z){const ae=X.get(s.ILanguageConfigurationService);if(!Q.hasModel())return;const ue=(0,p.getMapForWordSeparators)(Q.getOption(131),Q.getOption(130)),ge=Q.getModel(),fe=Q.getSelections(),re=Q.getOption(6),de=Q.getOption(11),ee=ae.getLanguageConfiguration(ge.getLanguageId()).getAutoClosingPairs(),W=Q._getViewModel(),z=fe.map(Y=>{const j=this._delete({wordSeparators:ue,model:ge,selection:Y,whitespaceHeuristics:this._whitespaceHeuristics,autoClosingDelete:Q.getOption(9),autoClosingBrackets:re,autoClosingQuotes:de,autoClosingPairs:ee,autoClosedCharacters:W.getCursorAutoClosedCharacters()},this._wordNavigationType);return new k.ReplaceCommand(j,"")});Q.pushUndoStop(),Q.executeCommands(this.id,z),Q.pushUndoStop()}}e.DeleteWordCommand=x;class R extends x{_delete(X,Q){const Z=y.WordOperations.deleteWordLeft(X,Q);return Z||new C.Range(1,1,1,1)}}e.DeleteWordLeftCommand=R;class B extends x{_delete(X,Q){const Z=y.WordOperations.deleteWordRight(X,Q);if(Z)return Z;const ae=X.model.getLineCount(),ue=X.model.getLineMaxColumn(ae);return new C.Range(ae,ue,ae,ue)}}e.DeleteWordRightCommand=B;class H extends R{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartLeft",precondition:a.EditorContextKeys.writable})}}e.DeleteWordStartLeft=H;class V extends R{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndLeft",precondition:a.EditorContextKeys.writable})}}e.DeleteWordEndLeft=V;class q extends R{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordLeft",precondition:a.EditorContextKeys.writable,kbOpts:{kbExpr:a.EditorContextKeys.textInputFocus,primary:2049,mac:{primary:513},weight:100}})}}e.DeleteWordLeft=q;class K extends B{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartRight",precondition:a.EditorContextKeys.writable})}}e.DeleteWordStartRight=K;class U extends B{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndRight",precondition:a.EditorContextKeys.writable})}}e.DeleteWordEndRight=U;class $ extends B{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordRight",precondition:a.EditorContextKeys.writable,kbOpts:{kbExpr:a.EditorContextKeys.textInputFocus,primary:2068,mac:{primary:532},weight:100}})}}e.DeleteWordRight=$;class se extends m.EditorAction{constructor(){super({id:"deleteInsideWord",precondition:a.EditorContextKeys.writable,label:i.localize(0,null),alias:"Delete Word"})}run(X,Q,Z){if(!Q.hasModel())return;const ae=(0,p.getMapForWordSeparators)(Q.getOption(131),Q.getOption(130)),ue=Q.getModel(),fe=Q.getSelections().map(re=>{const de=y.WordOperations.deleteInsideWord(ae,ue,re);return new k.ReplaceCommand(de,"")});Q.pushUndoStop(),Q.executeCommands(this.id,fe),Q.pushUndoStop()}}e.DeleteInsideWord=se,(0,m.registerEditorCommand)(new r),(0,m.registerEditorCommand)(new l),(0,m.registerEditorCommand)(new o),(0,m.registerEditorCommand)(new g),(0,m.registerEditorCommand)(new c),(0,m.registerEditorCommand)(new f),(0,m.registerEditorCommand)(new I),(0,m.registerEditorCommand)(new E),(0,m.registerEditorCommand)(new T),(0,m.registerEditorCommand)(new N),(0,m.registerEditorCommand)(new A),(0,m.registerEditorCommand)(new O),(0,m.registerEditorCommand)(new _),(0,m.registerEditorCommand)(new S),(0,m.registerEditorCommand)(new M),(0,m.registerEditorCommand)(new P),(0,m.registerEditorCommand)(new H),(0,m.registerEditorCommand)(new V),(0,m.registerEditorCommand)(new q),(0,m.registerEditorCommand)(new K),(0,m.registerEditorCommand)(new U),(0,m.registerEditorCommand)(new $),(0,m.registerEditorAction)(se)}),define(te[865],ie([1,0,16,190,5,19,383,27]),function(J,e,m,k,D,L,y,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorWordPartRightSelect=e.CursorWordPartRight=e.WordPartRightCommand=e.CursorWordPartLeftSelect=e.CursorWordPartLeft=e.WordPartLeftCommand=e.DeleteWordPartRight=e.DeleteWordPartLeft=void 0;class w extends y.DeleteWordCommand{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordPartLeft",precondition:L.EditorContextKeys.writable,kbOpts:{kbExpr:L.EditorContextKeys.textInputFocus,primary:0,mac:{primary:769},weight:100}})}_delete(v,u){const d=k.WordPartOperations.deleteWordPartLeft(v);return d||new D.Range(1,1,1,1)}}e.DeleteWordPartLeft=w;class C extends y.DeleteWordCommand{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordPartRight",precondition:L.EditorContextKeys.writable,kbOpts:{kbExpr:L.EditorContextKeys.textInputFocus,primary:0,mac:{primary:788},weight:100}})}_delete(v,u){const d=k.WordPartOperations.deleteWordPartRight(v);if(d)return d;const r=v.model.getLineCount(),l=v.model.getLineMaxColumn(r);return new D.Range(r,l,r,l)}}e.DeleteWordPartRight=C;class b extends y.MoveWordCommand{_move(v,u,d,r){return k.WordPartOperations.moveWordPartLeft(v,u,d)}}e.WordPartLeftCommand=b;class a extends b{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordPartLeft",precondition:void 0,kbOpts:{kbExpr:L.EditorContextKeys.textInputFocus,primary:0,mac:{primary:783},weight:100}})}}e.CursorWordPartLeft=a,p.CommandsRegistry.registerCommandAlias("cursorWordPartStartLeft","cursorWordPartLeft");class s extends b{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordPartLeftSelect",precondition:void 0,kbOpts:{kbExpr:L.EditorContextKeys.textInputFocus,primary:0,mac:{primary:1807},weight:100}})}}e.CursorWordPartLeftSelect=s,p.CommandsRegistry.registerCommandAlias("cursorWordPartStartLeftSelect","cursorWordPartLeftSelect");class i extends y.MoveWordCommand{_move(v,u,d,r){return k.WordPartOperations.moveWordPartRight(v,u,d)}}e.WordPartRightCommand=i;class t extends i{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordPartRight",precondition:void 0,kbOpts:{kbExpr:L.EditorContextKeys.textInputFocus,primary:0,mac:{primary:785},weight:100}})}}e.CursorWordPartRight=t;class n extends i{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordPartRightSelect",precondition:void 0,kbOpts:{kbExpr:L.EditorContextKeys.textInputFocus,primary:0,mac:{primary:1809},weight:100}})}}e.CursorWordPartRightSelect=n,(0,m.registerEditorCommand)(new w),(0,m.registerEditorCommand)(new C),(0,m.registerEditorCommand)(new a),(0,m.registerEditorCommand)(new s),(0,m.registerEditorCommand)(new t),(0,m.registerEditorCommand)(new n)}),define(te[866],ie([1,0,6,2,16,17,507]),function(J,e,m,k,D,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IPadShowKeyboard=void 0;class y extends k.Disposable{constructor(C){super(),this.editor=C,this.widget=null,L.isIOS&&(this._register(C.onDidChangeConfiguration(()=>this.update())),this.update())}update(){const C=!this.editor.getOption(91);!this.widget&&C?this.widget=new p(this.editor):this.widget&&!C&&(this.widget.dispose(),this.widget=null)}dispose(){super.dispose(),this.widget&&(this.widget.dispose(),this.widget=null)}}e.IPadShowKeyboard=y,y.ID="editor.contrib.iPadShowKeyboard";class p extends k.Disposable{constructor(C){super(),this.editor=C,this._domNode=document.createElement("textarea"),this._domNode.className="iPadShowKeyboard",this._register(m.addDisposableListener(this._domNode,"touchstart",b=>{this.editor.focus()})),this._register(m.addDisposableListener(this._domNode,"focus",b=>{this.editor.focus()})),this.editor.addOverlayWidget(this)}dispose(){this.editor.removeOverlayWidget(this),super.dispose()}getId(){return p.ID}getDomNode(){return this._domNode}getPosition(){return{preference:1}}}p.ID="editor.contrib.ShowKeyboardWidget",(0,D.registerEditorContribution)(y.ID,y,3)}),define(te[867],ie([1,0,6,34,2,16,29,142,168,42,148,103,508]),function(J,e,m,k,D,L,y,p,w,C,b,a){"use strict";var s;Object.defineProperty(e,"__esModule",{value:!0});let i=s=class extends D.Disposable{static get(d){return d.getContribution(s.ID)}constructor(d,r,l){super(),this._editor=d,this._languageService=l,this._widget=null,this._register(this._editor.onDidChangeModel(o=>this.stop())),this._register(this._editor.onDidChangeModelLanguage(o=>this.stop())),this._register(y.TokenizationRegistry.onDidChange(o=>this.stop())),this._register(this._editor.onKeyUp(o=>o.keyCode===9&&this.stop()))}dispose(){this.stop(),super.dispose()}launch(){this._widget||this._editor.hasModel()&&(this._widget=new v(this._editor,this._languageService))}stop(){this._widget&&(this._widget.dispose(),this._widget=null)}};i.ID="editor.contrib.inspectTokens",i=s=Ie([he(1,b.IStandaloneThemeService),he(2,C.ILanguageService)],i);class t extends L.EditorAction{constructor(){super({id:"editor.action.inspectTokens",label:a.InspectTokensNLS.inspectTokensAction,alias:"Developer: Inspect Tokens",precondition:void 0})}run(d,r){const l=i.get(r);l?.launch()}}function n(u){let d="";for(let r=0,l=u.length;r<l;r++){const o=u.charCodeAt(r);switch(o){case 9:d+="\u2192";break;case 32:d+="\xB7";break;default:d+=String.fromCharCode(o)}}return d}function h(u,d){const r=y.TokenizationRegistry.get(d);if(r)return r;const l=u.encodeLanguageId(d);return{getInitialState:()=>w.NullState,tokenize:(o,g,c)=>(0,w.nullTokenize)(d,c),tokenizeEncoded:(o,g,c)=>(0,w.nullTokenizeEncoded)(l,c)}}class v extends D.Disposable{constructor(d,r){super(),this.allowEditorOverflow=!0,this._editor=d,this._languageService=r,this._model=this._editor.getModel(),this._domNode=document.createElement("div"),this._domNode.className="tokens-inspect-widget",this._tokenizationSupport=h(this._languageService.languageIdCodec,this._model.getLanguageId()),this._compute(this._editor.getPosition()),this._register(this._editor.onDidChangeCursorPosition(l=>this._compute(this._editor.getPosition()))),this._editor.addContentWidget(this)}dispose(){this._editor.removeContentWidget(this),super.dispose()}getId(){return v._ID}_compute(d){const r=this._getTokensAtLine(d.lineNumber);let l=0;for(let _=r.tokens1.length-1;_>=0;_--){const S=r.tokens1[_];if(d.column-1>=S.offset){l=_;break}}let o=0;for(let _=r.tokens2.length>>>1;_>=0;_--)if(d.column-1>=r.tokens2[_<<1]){o=_;break}const g=this._model.getLineContent(d.lineNumber);let c="";if(l<r.tokens1.length){const _=r.tokens1[l].offset,S=l+1<r.tokens1.length?r.tokens1[l+1].offset:g.length;c=g.substring(_,S)}(0,m.reset)(this._domNode,(0,m.$)("h2.tm-token",void 0,n(c),(0,m.$)("span.tm-token-length",void 0,`${c.length} ${c.length===1?"char":"chars"}`))),(0,m.append)(this._domNode,(0,m.$)("hr.tokens-inspect-separator",{style:"clear:both"}));const f=(o<<1)+1<r.tokens2.length?this._decodeMetadata(r.tokens2[(o<<1)+1]):null;(0,m.append)(this._domNode,(0,m.$)("table.tm-metadata-table",void 0,(0,m.$)("tbody",void 0,(0,m.$)("tr",void 0,(0,m.$)("td.tm-metadata-key",void 0,"language"),(0,m.$)("td.tm-metadata-value",void 0,`${f?f.languageId:"-?-"}`)),(0,m.$)("tr",void 0,(0,m.$)("td.tm-metadata-key",void 0,"token type"),(0,m.$)("td.tm-metadata-value",void 0,`${f?this._tokenTypeToString(f.tokenType):"-?-"}`)),(0,m.$)("tr",void 0,(0,m.$)("td.tm-metadata-key",void 0,"font style"),(0,m.$)("td.tm-metadata-value",void 0,`${f?this._fontStyleToString(f.fontStyle):"-?-"}`)),(0,m.$)("tr",void 0,(0,m.$)("td.tm-metadata-key",void 0,"foreground"),(0,m.$)("td.tm-metadata-value",void 0,`${f?k.Color.Format.CSS.formatHex(f.foreground):"-?-"}`)),(0,m.$)("tr",void 0,(0,m.$)("td.tm-metadata-key",void 0,"background"),(0,m.$)("td.tm-metadata-value",void 0,`${f?k.Color.Format.CSS.formatHex(f.background):"-?-"}`))))),(0,m.append)(this._domNode,(0,m.$)("hr.tokens-inspect-separator")),l<r.tokens1.length&&(0,m.append)(this._domNode,(0,m.$)("span.tm-token-type",void 0,r.tokens1[l].type)),this._editor.layoutContentWidget(this)}_decodeMetadata(d){const r=y.TokenizationRegistry.getColorMap(),l=p.TokenMetadata.getLanguageId(d),o=p.TokenMetadata.getTokenType(d),g=p.TokenMetadata.getFontStyle(d),c=p.TokenMetadata.getForeground(d),f=p.TokenMetadata.getBackground(d);return{languageId:this._languageService.languageIdCodec.decodeLanguageId(l),tokenType:o,fontStyle:g,foreground:r[c],background:r[f]}}_tokenTypeToString(d){switch(d){case 0:return"Other";case 1:return"Comment";case 2:return"String";case 3:return"RegEx";default:return"??"}}_fontStyleToString(d){let r="";return d&1&&(r+="italic "),d&2&&(r+="bold "),d&4&&(r+="underline "),d&8&&(r+="strikethrough "),r.length===0&&(r="---"),r}_getTokensAtLine(d){const r=this._getStateBeforeLine(d),l=this._tokenizationSupport.tokenize(this._model.getLineContent(d),!0,r),o=this._tokenizationSupport.tokenizeEncoded(this._model.getLineContent(d),!0,r);return{startState:r,tokens1:l.tokens,tokens2:o.tokens,endState:l.endState}}_getStateBeforeLine(d){let r=this._tokenizationSupport.getInitialState();for(let l=1;l<d;l++)r=this._tokenizationSupport.tokenize(this._model.getLineContent(l),!0,r).endState;return r}getDomNode(){return this._domNode}getPosition(){return{position:this._editor.getPosition(),preference:[2,1]}}}v._ID="editor.contrib.inspectTokensWidget",(0,L.registerEditorContribution)(i.ID,i,4),(0,L.registerEditorAction)(t)}),define(te[868],ie([1,0,606,12,76,119,2,47,427,775,27,25,170,8,35,61,824,97,65]),function(J,e,m,k,D,L,y,p,w,C,b,a,s,i,t,n,h,v,u){"use strict";var d,r;Object.defineProperty(e,"__esModule",{value:!0}),e.CommandsHistory=e.AbstractCommandsQuickAccessProvider=void 0;let l=d=class extends h.PickerQuickAccessProvider{constructor(c,f,_,S,I,E){super(d.PREFIX,c),this.instantiationService=f,this.keybindingService=_,this.commandService=S,this.telemetryService=I,this.dialogService=E,this.commandsHistory=this._register(this.instantiationService.createInstance(o)),this.options=c}async _getPicks(c,f,_,S){var I,E,T,N;const A=await this.getCommandPicks(_);if(_.isCancellationRequested)return[];const O=(0,L.createSingleCallFunction)(()=>{const V=new w.TfIdfCalculator;V.updateDocuments(A.map(K=>({key:K.commandId,textChunks:[this.getTfIdfChunk(K)]})));const q=V.calculateScores(c,_);return(0,w.normalizeTfIdfScores)(q).filter(K=>K.score>d.TFIDF_THRESHOLD).slice(0,d.TFIDF_MAX_RESULTS)}),M=[];for(const V of A){const q=(I=d.WORD_FILTER(c,V.label))!==null&&I!==void 0?I:void 0,K=V.commandAlias&&(E=d.WORD_FILTER(c,V.commandAlias))!==null&&E!==void 0?E:void 0;if(q||K)V.highlights={label:q,detail:this.options.showAlias?K:void 0},M.push(V);else if(c===V.commandId)M.push(V);else if(c.length>=3){const U=O();if(_.isCancellationRequested)return[];const $=U.find(se=>se.key===V.commandId);$&&(V.tfIdfScore=$.score,M.push(V))}}const P=new Map;for(const V of M){const q=P.get(V.label);q?(V.description=V.commandId,q.description=q.commandId):P.set(V.label,V)}M.sort((V,q)=>{if(V.tfIdfScore&&q.tfIdfScore)return V.tfIdfScore===q.tfIdfScore?V.label.localeCompare(q.label):q.tfIdfScore-V.tfIdfScore;if(V.tfIdfScore)return 1;if(q.tfIdfScore)return-1;const K=this.commandsHistory.peek(V.commandId),U=this.commandsHistory.peek(q.commandId);if(K&&U)return K>U?-1:1;if(K)return-1;if(U)return 1;if(this.options.suggestedCommandIds){const $=this.options.suggestedCommandIds.has(V.commandId),se=this.options.suggestedCommandIds.has(q.commandId);if($&&se)return 0;if($)return-1;if(se)return 1}return V.label.localeCompare(q.label)});const x=[];let R=!1,B=!0,H=!!this.options.suggestedCommandIds;for(let V=0;V<M.length;V++){const q=M[V];V===0&&this.commandsHistory.peek(q.commandId)&&(x.push({type:"separator",label:(0,C.localize)(0,null)}),R=!0),B&&q.tfIdfScore!==void 0&&(x.push({type:"separator",label:(0,C.localize)(1,null)}),B=!1),H&&q.tfIdfScore===void 0&&!this.commandsHistory.peek(q.commandId)&&(!((T=this.options.suggestedCommandIds)===null||T===void 0)&&T.has(q.commandId))&&(x.push({type:"separator",label:(0,C.localize)(2,null)}),R=!0,H=!1),R&&q.tfIdfScore===void 0&&!this.commandsHistory.peek(q.commandId)&&!(!((N=this.options.suggestedCommandIds)===null||N===void 0)&&N.has(q.commandId))&&(x.push({type:"separator",label:(0,C.localize)(3,null)}),R=!1),x.push(this.toCommandPick(q,S))}return this.hasAdditionalCommandPicks(c,_)?{picks:x,additionalPicks:(async()=>{var V;const q=await this.getAdditionalCommandPicks(A,M,c,_);if(_.isCancellationRequested)return[];const K=q.map(U=>this.toCommandPick(U,S));return B&&((V=K[0])===null||V===void 0?void 0:V.type)!=="separator"&&K.unshift({type:"separator",label:(0,C.localize)(4,null)}),K})()}:x}toCommandPick(c,f){if(c.type==="separator")return c;const _=this.keybindingService.lookupKeybinding(c.commandId),S=_?(0,C.localize)(5,null,c.label,_.getAriaLabel()):c.label;return{...c,ariaLabel:S,detail:this.options.showAlias&&c.commandAlias!==c.label?c.commandAlias:void 0,keybinding:_,accept:async()=>{var I,E;this.commandsHistory.push(c.commandId),this.telemetryService.publicLog2("workbenchActionExecuted",{id:c.commandId,from:(I=f?.from)!==null&&I!==void 0?I:"quick open"});try{!((E=c.args)===null||E===void 0)&&E.length?await this.commandService.executeCommand(c.commandId,...c.args):await this.commandService.executeCommand(c.commandId)}catch(T){(0,k.isCancellationError)(T)||this.dialogService.error((0,C.localize)(6,null,c.label),(0,m.toErrorMessage)(T))}}}}getTfIdfChunk({label:c,commandAlias:f,commandDescription:_}){let S=c;return f&&f!==c&&(S+=` - ${f}`),_&&_.value!==c&&(S+=` - ${_.value===_.original?_.value:`${_.value} (${_.original})`}`),S}};e.AbstractCommandsQuickAccessProvider=l,l.PREFIX=">",l.TFIDF_THRESHOLD=.5,l.TFIDF_MAX_RESULTS=5,l.WORD_FILTER=(0,D.or)(D.matchesPrefix,D.matchesWords,D.matchesContiguousSubString),e.AbstractCommandsQuickAccessProvider=l=d=Ie([he(1,i.IInstantiationService),he(2,t.IKeybindingService),he(3,b.ICommandService),he(4,u.ITelemetryService),he(5,s.IDialogService)],l);let o=r=class extends y.Disposable{constructor(c,f,_){super(),this.storageService=c,this.configurationService=f,this.logService=_,this.configuredCommandsHistoryLength=0,this.updateConfiguration(),this.load(),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration(c=>this.updateConfiguration(c))),this._register(this.storageService.onWillSaveState(c=>{c.reason===v.WillSaveStateReason.SHUTDOWN&&this.saveState()}))}updateConfiguration(c){c&&!c.affectsConfiguration("workbench.commandPalette.history")||(this.configuredCommandsHistoryLength=r.getConfiguredCommandHistoryLength(this.configurationService),r.cache&&r.cache.limit!==this.configuredCommandsHistoryLength&&(r.cache.limit=this.configuredCommandsHistoryLength,r.hasChanges=!0))}load(){const c=this.storageService.get(r.PREF_KEY_CACHE,0);let f;if(c)try{f=JSON.parse(c)}catch(S){this.logService.error(`[CommandsHistory] invalid data: ${S}`)}const _=r.cache=new p.LRUCache(this.configuredCommandsHistoryLength,1);if(f){let S;f.usesLRU?S=f.entries:S=f.entries.sort((I,E)=>I.value-E.value),S.forEach(I=>_.set(I.key,I.value))}r.counter=this.storageService.getNumber(r.PREF_KEY_COUNTER,0,r.counter)}push(c){r.cache&&(r.cache.set(c,r.counter++),r.hasChanges=!0)}peek(c){var f;return(f=r.cache)===null||f===void 0?void 0:f.peek(c)}saveState(){if(!r.cache||!r.hasChanges)return;const c={usesLRU:!0,entries:[]};r.cache.forEach((f,_)=>c.entries.push({key:_,value:f})),this.storageService.store(r.PREF_KEY_CACHE,JSON.stringify(c),0,0),this.storageService.store(r.PREF_KEY_COUNTER,r.counter,0,0),r.hasChanges=!1}static getConfiguredCommandHistoryLength(c){var f,_;const I=(_=(f=c.getValue().workbench)===null||f===void 0?void 0:f.commandPalette)===null||_===void 0?void 0:_.history;return typeof I=="number"?I:r.DEFAULT_COMMANDS_HISTORY_LENGTH}};e.CommandsHistory=o,o.DEFAULT_COMMANDS_HISTORY_LENGTH=50,o.PREF_KEY_CACHE="commandPalette.mru.cache",o.PREF_KEY_COUNTER="commandPalette.mru.counter",o.counter=1,o.hasChanges=!1,e.CommandsHistory=o=r=Ie([he(0,v.IStorageService),he(1,a.IConfigurationService),he(2,n.ILogService)],o)}),define(te[869],ie([1,0,136,868]),function(J,e,m,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractEditorCommandsQuickAccessProvider=void 0;class D extends k.AbstractCommandsQuickAccessProvider{constructor(y,p,w,C,b,a){super(y,p,w,C,b,a)}getCodeEditorCommandPicks(){const y=this.activeTextEditorControl;if(!y)return[];const p=[];for(const w of y.getSupportedActions())p.push({commandId:w.id,commandAlias:w.alias,label:(0,m.stripIcons)(w.label)||w.id});return p}}e.AbstractEditorCommandsQuickAccessProvider=D}),define(te[870],ie([1,0,39,150,103,36,869,8,35,27,65,170,16,19,75]),function(J,e,m,k,D,L,y,p,w,C,b,a,s,i,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GotoLineAction=e.StandaloneCommandsQuickAccessProvider=void 0;let n=class extends y.AbstractEditorCommandsQuickAccessProvider{get activeTextEditorControl(){var u;return(u=this.codeEditorService.getFocusedCodeEditor())!==null&&u!==void 0?u:void 0}constructor(u,d,r,l,o,g){super({showAlias:!1},u,r,l,o,g),this.codeEditorService=d}async getCommandPicks(){return this.getCodeEditorCommandPicks()}hasAdditionalCommandPicks(){return!1}async getAdditionalCommandPicks(){return[]}};e.StandaloneCommandsQuickAccessProvider=n,e.StandaloneCommandsQuickAccessProvider=n=Ie([he(0,p.IInstantiationService),he(1,L.ICodeEditorService),he(2,w.IKeybindingService),he(3,C.ICommandService),he(4,b.ITelemetryService),he(5,a.IDialogService)],n);class h extends s.EditorAction{constructor(){super({id:h.ID,label:D.QuickCommandNLS.quickCommandActionLabel,alias:"Command Palette",precondition:void 0,kbOpts:{kbExpr:i.EditorContextKeys.focus,primary:59,weight:100},contextMenuOpts:{group:"z_commands",order:1}})}run(u){u.get(t.IQuickInputService).quickAccess.show(n.PREFIX)}}e.GotoLineAction=h,h.ID="editor.action.quickCommand",(0,s.registerEditorAction)(h),m.Registry.as(k.Extensions.Quickaccess).registerQuickAccessProvider({ctor:n,prefix:n.PREFIX,helpEntries:[{description:D.QuickCommandNLS.quickCommandHelp,commandId:h.ID}]})}),define(te[92],ie([1,0,87,15,34,7,259,39]),function(J,e,m,k,D,L,y,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.workbenchColorsSchemaId=e.Extensions=void 0,e.asCssVariableName=w,e.asCssVariable=C,e.asCssVariableWithDefault=b,e.registerColor=i,e.executeTransform=t,e.darken=n,e.lighten=h,e.transparent=v,e.oneOf=u,e.ifDefinedThenElse=d,e.lessProminent=r,e.resolveColorValue=l;function w(c){return`--vscode-${c.replace(/\./g,"-")}`}function C(c){return`var(${w(c)})`}function b(c,f){return`var(${w(c)}, ${f})`}e.Extensions={ColorContribution:"base.contributions.colors"};class a{constructor(){this._onDidChangeSchema=new L.Emitter,this.onDidChangeSchema=this._onDidChangeSchema.event,this.colorSchema={type:"object",properties:{}},this.colorReferenceSchema={type:"string",enum:[],enumDescriptions:[]},this.colorsById={}}registerColor(f,_,S,I=!1,E){const T={id:f,description:S,defaults:_,needsTransparency:I,deprecationMessage:E};this.colorsById[f]=T;const N={type:"string",description:S,format:"color-hex",defaultSnippets:[{body:"${1:#ff0000}"}]};return E&&(N.deprecationMessage=E),I&&(N.pattern="^#(?:(?<rgba>[0-9a-fA-f]{3}[0-9a-eA-E])|(?:[0-9a-fA-F]{6}(?:(?![fF]{2})(?:[0-9a-fA-F]{2}))))?$",N.patternErrorMessage="This color must be transparent or it will obscure content"),this.colorSchema.properties[f]=N,this.colorReferenceSchema.enum.push(f),this.colorReferenceSchema.enumDescriptions.push(S),this._onDidChangeSchema.fire(),f}getColors(){return Object.keys(this.colorsById).map(f=>this.colorsById[f])}resolveDefaultColor(f,_){const S=this.colorsById[f];if(S&&S.defaults){const I=S.defaults[_.type];return l(I,_)}}getColorSchema(){return this.colorSchema}toString(){const f=(_,S)=>{const I=_.indexOf(".")===-1?0:1,E=S.indexOf(".")===-1?0:1;return I!==E?I-E:_.localeCompare(S)};return Object.keys(this.colorsById).sort(f).map(_=>`- \`${_}\`: ${this.colorsById[_].description}`).join(`
`)}}const s=new a;p.Registry.add(e.Extensions.ColorContribution,s);function i(c,f,_,S,I){return s.registerColor(c,f,_,S,I)}function t(c,f){var _,S,I,E;switch(c.op){case 0:return(_=l(c.value,f))===null||_===void 0?void 0:_.darken(c.factor);case 1:return(S=l(c.value,f))===null||S===void 0?void 0:S.lighten(c.factor);case 2:return(I=l(c.value,f))===null||I===void 0?void 0:I.transparent(c.factor);case 3:{const T=l(c.background,f);return T?(E=l(c.value,f))===null||E===void 0?void 0:E.makeOpaque(T):l(c.value,f)}case 4:for(const T of c.values){const N=l(T,f);if(N)return N}return;case 6:return l(f.defines(c.if)?c.then:c.else,f);case 5:{const T=l(c.value,f);if(!T)return;const N=l(c.background,f);return N?T.isDarkerThan(N)?D.Color.getLighterColor(T,N,c.factor).transparent(c.transparency):D.Color.getDarkerColor(T,N,c.factor).transparent(c.transparency):T.transparent(c.factor*c.transparency)}default:throw(0,m.assertNever)(c)}}function n(c,f){return{op:0,value:c,factor:f}}function h(c,f){return{op:1,value:c,factor:f}}function v(c,f){return{op:2,value:c,factor:f}}function u(...c){return{op:4,values:c}}function d(c,f,_){return{op:6,if:c,then:f,else:_}}function r(c,f,_,S){return{op:5,value:c,background:f,factor:_,transparency:S}}function l(c,f){if(c!==null){if(typeof c=="string")return c[0]==="#"?D.Color.fromHex(c):f.getColor(c);if(c instanceof D.Color)return c;if(typeof c=="object")return t(c,f)}}e.workbenchColorsSchemaId="vscode://schemas/workbench-colors";const o=p.Registry.as(y.Extensions.JSONContribution);o.registerSchema(e.workbenchColorsSchemaId,s.getColorSchema());const g=new k.RunOnceScheduler(()=>o.notifySchemaChanged(e.workbenchColorsSchemaId),200);s.onDidChangeSchema(()=>{g.isScheduled()||g.schedule()})}),define(te[116],ie([1,0,781,34,92]),function(J,e,m,k,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.textCodeBlockBackground=e.textBlockQuoteBorder=e.textBlockQuoteBackground=e.textPreformatBackground=e.textPreformatForeground=e.textSeparatorForeground=e.textLinkActiveForeground=e.textLinkForeground=e.selectionBackground=e.activeContrastBorder=e.contrastBorder=e.focusBorder=e.iconForeground=e.descriptionForeground=e.errorForeground=e.disabledForeground=e.foreground=void 0,e.foreground=(0,D.registerColor)("foreground",{dark:"#CCCCCC",light:"#616161",hcDark:"#FFFFFF",hcLight:"#292929"},m.localize(0,null)),e.disabledForeground=(0,D.registerColor)("disabledForeground",{dark:"#CCCCCC80",light:"#61616180",hcDark:"#A5A5A5",hcLight:"#7F7F7F"},m.localize(1,null)),e.errorForeground=(0,D.registerColor)("errorForeground",{dark:"#F48771",light:"#A1260D",hcDark:"#F48771",hcLight:"#B5200D"},m.localize(2,null)),e.descriptionForeground=(0,D.registerColor)("descriptionForeground",{light:"#717171",dark:(0,D.transparent)(e.foreground,.7),hcDark:(0,D.transparent)(e.foreground,.7),hcLight:(0,D.transparent)(e.foreground,.7)},m.localize(3,null)),e.iconForeground=(0,D.registerColor)("icon.foreground",{dark:"#C5C5C5",light:"#424242",hcDark:"#FFFFFF",hcLight:"#292929"},m.localize(4,null)),e.focusBorder=(0,D.registerColor)("focusBorder",{dark:"#007FD4",light:"#0090F1",hcDark:"#F38518",hcLight:"#006BBD"},m.localize(5,null)),e.contrastBorder=(0,D.registerColor)("contrastBorder",{light:null,dark:null,hcDark:"#6FC3DF",hcLight:"#0F4A85"},m.localize(6,null)),e.activeContrastBorder=(0,D.registerColor)("contrastActiveBorder",{light:null,dark:null,hcDark:e.focusBorder,hcLight:e.focusBorder},m.localize(7,null)),e.selectionBackground=(0,D.registerColor)("selection.background",{light:null,dark:null,hcDark:null,hcLight:null},m.localize(8,null)),e.textLinkForeground=(0,D.registerColor)("textLink.foreground",{light:"#006AB1",dark:"#3794FF",hcDark:"#21A6FF",hcLight:"#0F4A85"},m.localize(9,null)),e.textLinkActiveForeground=(0,D.registerColor)("textLink.activeForeground",{light:"#006AB1",dark:"#3794FF",hcDark:"#21A6FF",hcLight:"#0F4A85"},m.localize(10,null)),e.textSeparatorForeground=(0,D.registerColor)("textSeparator.foreground",{light:"#0000002e",dark:"#ffffff2e",hcDark:k.Color.black,hcLight:"#292929"},m.localize(11,null)),e.textPreformatForeground=(0,D.registerColor)("textPreformat.foreground",{light:"#A31515",dark:"#D7BA7D",hcDark:"#000000",hcLight:"#FFFFFF"},m.localize(12,null)),e.textPreformatBackground=(0,D.registerColor)("textPreformat.background",{light:"#0000001A",dark:"#FFFFFF1A",hcDark:"#FFFFFF",hcLight:"#09345f"},m.localize(13,null)),e.textBlockQuoteBackground=(0,D.registerColor)("textBlockQuote.background",{light:"#f2f2f2",dark:"#222222",hcDark:null,hcLight:"#F2F2F2"},m.localize(14,null)),e.textBlockQuoteBorder=(0,D.registerColor)("textBlockQuote.border",{light:"#007acc80",dark:"#007acc80",hcDark:k.Color.white,hcLight:"#292929"},m.localize(15,null)),e.textCodeBlockBackground=(0,D.registerColor)("textCodeBlock.background",{light:"#dcdcdc66",dark:"#0a0a0a66",hcDark:k.Color.black,hcLight:"#F2F2F2"},m.localize(16,null))}),define(te[268],ie([1,0,788,34,92,116]),function(J,e,m,k,D,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.progressBarBackground=e.scrollbarSliderActiveBackground=e.scrollbarSliderHoverBackground=e.scrollbarSliderBackground=e.scrollbarShadow=e.badgeForeground=e.badgeBackground=e.sashHoverBorder=void 0,e.sashHoverBorder=(0,D.registerColor)("sash.hoverBorder",{dark:L.focusBorder,light:L.focusBorder,hcDark:L.focusBorder,hcLight:L.focusBorder},m.localize(0,null)),e.badgeBackground=(0,D.registerColor)("badge.background",{dark:"#4D4D4D",light:"#C4C4C4",hcDark:k.Color.black,hcLight:"#0F4A85"},m.localize(1,null)),e.badgeForeground=(0,D.registerColor)("badge.foreground",{dark:k.Color.white,light:"#333",hcDark:k.Color.white,hcLight:k.Color.white},m.localize(2,null)),e.scrollbarShadow=(0,D.registerColor)("scrollbar.shadow",{dark:"#000000",light:"#DDDDDD",hcDark:null,hcLight:null},m.localize(3,null)),e.scrollbarSliderBackground=(0,D.registerColor)("scrollbarSlider.background",{dark:k.Color.fromHex("#797979").transparent(.4),light:k.Color.fromHex("#646464").transparent(.4),hcDark:(0,D.transparent)(L.contrastBorder,.6),hcLight:(0,D.transparent)(L.contrastBorder,.4)},m.localize(4,null)),e.scrollbarSliderHoverBackground=(0,D.registerColor)("scrollbarSlider.hoverBackground",{dark:k.Color.fromHex("#646464").transparent(.7),light:k.Color.fromHex("#646464").transparent(.7),hcDark:(0,D.transparent)(L.contrastBorder,.8),hcLight:(0,D.transparent)(L.contrastBorder,.8)},m.localize(5,null)),e.scrollbarSliderActiveBackground=(0,D.registerColor)("scrollbarSlider.activeBackground",{dark:k.Color.fromHex("#BFBFBF").transparent(.4),light:k.Color.fromHex("#000000").transparent(.6),hcDark:L.contrastBorder,hcLight:L.contrastBorder},m.localize(6,null)),e.progressBarBackground=(0,D.registerColor)("progressBar.background",{dark:k.Color.fromHex("#0E70C0"),light:k.Color.fromHex("#0E70C0"),hcDark:L.contrastBorder,hcLight:L.contrastBorder},m.localize(7,null))}),define(te[132],ie([1,0,783,34,92,116,268]),function(J,e,m,k,D,L,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.problemsInfoIconForeground=e.problemsWarningIconForeground=e.problemsErrorIconForeground=e.overviewRulerSelectionHighlightForeground=e.overviewRulerFindMatchForeground=e.overviewRulerCommonContentForeground=e.overviewRulerIncomingContentForeground=e.overviewRulerCurrentContentForeground=e.mergeBorder=e.mergeCommonContentBackground=e.mergeCommonHeaderBackground=e.mergeIncomingContentBackground=e.mergeIncomingHeaderBackground=e.mergeCurrentContentBackground=e.mergeCurrentHeaderBackground=e.breadcrumbsPickerBackground=e.breadcrumbsActiveSelectionForeground=e.breadcrumbsFocusForeground=e.breadcrumbsBackground=e.breadcrumbsForeground=e.toolbarActiveBackground=e.toolbarHoverOutline=e.toolbarHoverBackground=e.widgetBorder=e.widgetShadow=e.diffUnchangedTextBackground=e.diffUnchangedRegionForeground=e.diffUnchangedRegionBackground=e.diffDiagonalFill=e.diffBorder=e.diffRemovedOutline=e.diffInsertedOutline=e.diffOverviewRulerRemoved=e.diffOverviewRulerInserted=e.diffRemovedLineGutter=e.diffInsertedLineGutter=e.diffRemovedLine=e.diffInsertedLine=e.diffRemoved=e.diffInserted=e.defaultRemoveColor=e.defaultInsertColor=e.snippetFinalTabstopHighlightBorder=e.snippetFinalTabstopHighlightBackground=e.snippetTabstopHighlightBorder=e.snippetTabstopHighlightBackground=e.editorLightBulbAiForeground=e.editorLightBulbAutoFixForeground=e.editorLightBulbForeground=e.editorInlayHintParameterBackground=e.editorInlayHintParameterForeground=e.editorInlayHintTypeBackground=e.editorInlayHintTypeForeground=e.editorInlayHintBackground=e.editorInlayHintForeground=e.editorHoverStatusBarBackground=e.editorHoverBorder=e.editorHoverForeground=e.editorHoverBackground=e.editorHoverHighlight=e.editorFindRangeHighlightBorder=e.editorFindMatchHighlightBorder=e.editorFindMatchBorder=e.editorFindRangeHighlight=e.editorFindMatchHighlight=e.editorFindMatch=e.editorSelectionHighlightBorder=e.editorSelectionHighlight=e.editorInactiveSelection=e.editorSelectionForeground=e.editorSelectionBackground=e.editorActiveLinkForeground=e.editorHintBorder=e.editorHintForeground=e.editorInfoBorder=e.editorInfoForeground=e.editorInfoBackground=e.editorWarningBorder=e.editorWarningForeground=e.editorWarningBackground=e.editorErrorBorder=e.editorErrorForeground=e.editorErrorBackground=e.editorWidgetResizeBorder=e.editorWidgetBorder=e.editorWidgetForeground=e.editorWidgetBackground=e.editorStickyScrollShadow=e.editorStickyScrollBorder=e.editorStickyScrollHoverBackground=e.editorStickyScrollBackground=e.editorForeground=e.editorBackground=void 0,e.editorBackground=(0,D.registerColor)("editor.background",{light:"#ffffff",dark:"#1E1E1E",hcDark:k.Color.black,hcLight:k.Color.white},m.localize(0,null)),e.editorForeground=(0,D.registerColor)("editor.foreground",{light:"#333333",dark:"#BBBBBB",hcDark:k.Color.white,hcLight:L.foreground},m.localize(1,null)),e.editorStickyScrollBackground=(0,D.registerColor)("editorStickyScroll.background",{light:e.editorBackground,dark:e.editorBackground,hcDark:e.editorBackground,hcLight:e.editorBackground},m.localize(2,null)),e.editorStickyScrollHoverBackground=(0,D.registerColor)("editorStickyScrollHover.background",{dark:"#2A2D2E",light:"#F0F0F0",hcDark:null,hcLight:k.Color.fromHex("#0F4A85").transparent(.1)},m.localize(3,null)),e.editorStickyScrollBorder=(0,D.registerColor)("editorStickyScroll.border",{dark:null,light:null,hcDark:L.contrastBorder,hcLight:L.contrastBorder},m.localize(4,null)),e.editorStickyScrollShadow=(0,D.registerColor)("editorStickyScroll.shadow",{dark:y.scrollbarShadow,light:y.scrollbarShadow,hcDark:y.scrollbarShadow,hcLight:y.scrollbarShadow},m.localize(5,null)),e.editorWidgetBackground=(0,D.registerColor)("editorWidget.background",{dark:"#252526",light:"#F3F3F3",hcDark:"#0C141F",hcLight:k.Color.white},m.localize(6,null)),e.editorWidgetForeground=(0,D.registerColor)("editorWidget.foreground",{dark:L.foreground,light:L.foreground,hcDark:L.foreground,hcLight:L.foreground},m.localize(7,null)),e.editorWidgetBorder=(0,D.registerColor)("editorWidget.border",{dark:"#454545",light:"#C8C8C8",hcDark:L.contrastBorder,hcLight:L.contrastBorder},m.localize(8,null)),e.editorWidgetResizeBorder=(0,D.registerColor)("editorWidget.resizeBorder",{light:null,dark:null,hcDark:null,hcLight:null},m.localize(9,null)),e.editorErrorBackground=(0,D.registerColor)("editorError.background",{dark:null,light:null,hcDark:null,hcLight:null},m.localize(10,null),!0),e.editorErrorForeground=(0,D.registerColor)("editorError.foreground",{dark:"#F14C4C",light:"#E51400",hcDark:"#F48771",hcLight:"#B5200D"},m.localize(11,null)),e.editorErrorBorder=(0,D.registerColor)("editorError.border",{dark:null,light:null,hcDark:k.Color.fromHex("#E47777").transparent(.8),hcLight:"#B5200D"},m.localize(12,null)),e.editorWarningBackground=(0,D.registerColor)("editorWarning.background",{dark:null,light:null,hcDark:null,hcLight:null},m.localize(13,null),!0),e.editorWarningForeground=(0,D.registerColor)("editorWarning.foreground",{dark:"#CCA700",light:"#BF8803",hcDark:"#FFD370",hcLight:"#895503"},m.localize(14,null)),e.editorWarningBorder=(0,D.registerColor)("editorWarning.border",{dark:null,light:null,hcDark:k.Color.fromHex("#FFCC00").transparent(.8),hcLight:k.Color.fromHex("#FFCC00").transparent(.8)},m.localize(15,null)),e.editorInfoBackground=(0,D.registerColor)("editorInfo.background",{dark:null,light:null,hcDark:null,hcLight:null},m.localize(16,null),!0),e.editorInfoForeground=(0,D.registerColor)("editorInfo.foreground",{dark:"#3794FF",light:"#1a85ff",hcDark:"#3794FF",hcLight:"#1a85ff"},m.localize(17,null)),e.editorInfoBorder=(0,D.registerColor)("editorInfo.border",{dark:null,light:null,hcDark:k.Color.fromHex("#3794FF").transparent(.8),hcLight:"#292929"},m.localize(18,null)),e.editorHintForeground=(0,D.registerColor)("editorHint.foreground",{dark:k.Color.fromHex("#eeeeee").transparent(.7),light:"#6c6c6c",hcDark:null,hcLight:null},m.localize(19,null)),e.editorHintBorder=(0,D.registerColor)("editorHint.border",{dark:null,light:null,hcDark:k.Color.fromHex("#eeeeee").transparent(.8),hcLight:"#292929"},m.localize(20,null)),e.editorActiveLinkForeground=(0,D.registerColor)("editorLink.activeForeground",{dark:"#4E94CE",light:k.Color.blue,hcDark:k.Color.cyan,hcLight:"#292929"},m.localize(21,null)),e.editorSelectionBackground=(0,D.registerColor)("editor.selectionBackground",{light:"#ADD6FF",dark:"#264F78",hcDark:"#f3f518",hcLight:"#0F4A85"},m.localize(22,null)),e.editorSelectionForeground=(0,D.registerColor)("editor.selectionForeground",{light:null,dark:null,hcDark:"#000000",hcLight:k.Color.white},m.localize(23,null)),e.editorInactiveSelection=(0,D.registerColor)("editor.inactiveSelectionBackground",{light:(0,D.transparent)(e.editorSelectionBackground,.5),dark:(0,D.transparent)(e.editorSelectionBackground,.5),hcDark:(0,D.transparent)(e.editorSelectionBackground,.7),hcLight:(0,D.transparent)(e.editorSelectionBackground,.5)},m.localize(24,null),!0),e.editorSelectionHighlight=(0,D.registerColor)("editor.selectionHighlightBackground",{light:(0,D.lessProminent)(e.editorSelectionBackground,e.editorBackground,.3,.6),dark:(0,D.lessProminent)(e.editorSelectionBackground,e.editorBackground,.3,.6),hcDark:null,hcLight:null},m.localize(25,null),!0),e.editorSelectionHighlightBorder=(0,D.registerColor)("editor.selectionHighlightBorder",{light:null,dark:null,hcDark:L.activeContrastBorder,hcLight:L.activeContrastBorder},m.localize(26,null)),e.editorFindMatch=(0,D.registerColor)("editor.findMatchBackground",{light:"#A8AC94",dark:"#515C6A",hcDark:null,hcLight:null},m.localize(27,null)),e.editorFindMatchHighlight=(0,D.registerColor)("editor.findMatchHighlightBackground",{light:"#EA5C0055",dark:"#EA5C0055",hcDark:null,hcLight:null},m.localize(28,null),!0),e.editorFindRangeHighlight=(0,D.registerColor)("editor.findRangeHighlightBackground",{dark:"#3a3d4166",light:"#b4b4b44d",hcDark:null,hcLight:null},m.localize(29,null),!0),e.editorFindMatchBorder=(0,D.registerColor)("editor.findMatchBorder",{light:null,dark:null,hcDark:L.activeContrastBorder,hcLight:L.activeContrastBorder},m.localize(30,null)),e.editorFindMatchHighlightBorder=(0,D.registerColor)("editor.findMatchHighlightBorder",{light:null,dark:null,hcDark:L.activeContrastBorder,hcLight:L.activeContrastBorder},m.localize(31,null)),e.editorFindRangeHighlightBorder=(0,D.registerColor)("editor.findRangeHighlightBorder",{dark:null,light:null,hcDark:(0,D.transparent)(L.activeContrastBorder,.4),hcLight:(0,D.transparent)(L.activeContrastBorder,.4)},m.localize(32,null),!0),e.editorHoverHighlight=(0,D.registerColor)("editor.hoverHighlightBackground",{light:"#ADD6FF26",dark:"#264f7840",hcDark:"#ADD6FF26",hcLight:null},m.localize(33,null),!0),e.editorHoverBackground=(0,D.registerColor)("editorHoverWidget.background",{light:e.editorWidgetBackground,dark:e.editorWidgetBackground,hcDark:e.editorWidgetBackground,hcLight:e.editorWidgetBackground},m.localize(34,null)),e.editorHoverForeground=(0,D.registerColor)("editorHoverWidget.foreground",{light:e.editorWidgetForeground,dark:e.editorWidgetForeground,hcDark:e.editorWidgetForeground,hcLight:e.editorWidgetForeground},m.localize(35,null)),e.editorHoverBorder=(0,D.registerColor)("editorHoverWidget.border",{light:e.editorWidgetBorder,dark:e.editorWidgetBorder,hcDark:e.editorWidgetBorder,hcLight:e.editorWidgetBorder},m.localize(36,null)),e.editorHoverStatusBarBackground=(0,D.registerColor)("editorHoverWidget.statusBarBackground",{dark:(0,D.lighten)(e.editorHoverBackground,.2),light:(0,D.darken)(e.editorHoverBackground,.05),hcDark:e.editorWidgetBackground,hcLight:e.editorWidgetBackground},m.localize(37,null)),e.editorInlayHintForeground=(0,D.registerColor)("editorInlayHint.foreground",{dark:"#969696",light:"#969696",hcDark:k.Color.white,hcLight:k.Color.black},m.localize(38,null)),e.editorInlayHintBackground=(0,D.registerColor)("editorInlayHint.background",{dark:(0,D.transparent)(y.badgeBackground,.1),light:(0,D.transparent)(y.badgeBackground,.1),hcDark:(0,D.transparent)(k.Color.white,.1),hcLight:(0,D.transparent)(y.badgeBackground,.1)},m.localize(39,null)),e.editorInlayHintTypeForeground=(0,D.registerColor)("editorInlayHint.typeForeground",{dark:e.editorInlayHintForeground,light:e.editorInlayHintForeground,hcDark:e.editorInlayHintForeground,hcLight:e.editorInlayHintForeground},m.localize(40,null)),e.editorInlayHintTypeBackground=(0,D.registerColor)("editorInlayHint.typeBackground",{dark:e.editorInlayHintBackground,light:e.editorInlayHintBackground,hcDark:e.editorInlayHintBackground,hcLight:e.editorInlayHintBackground},m.localize(41,null)),e.editorInlayHintParameterForeground=(0,D.registerColor)("editorInlayHint.parameterForeground",{dark:e.editorInlayHintForeground,light:e.editorInlayHintForeground,hcDark:e.editorInlayHintForeground,hcLight:e.editorInlayHintForeground},m.localize(42,null)),e.editorInlayHintParameterBackground=(0,D.registerColor)("editorInlayHint.parameterBackground",{dark:e.editorInlayHintBackground,light:e.editorInlayHintBackground,hcDark:e.editorInlayHintBackground,hcLight:e.editorInlayHintBackground},m.localize(43,null)),e.editorLightBulbForeground=(0,D.registerColor)("editorLightBulb.foreground",{dark:"#FFCC00",light:"#DDB100",hcDark:"#FFCC00",hcLight:"#007ACC"},m.localize(44,null)),e.editorLightBulbAutoFixForeground=(0,D.registerColor)("editorLightBulbAutoFix.foreground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},m.localize(45,null)),e.editorLightBulbAiForeground=(0,D.registerColor)("editorLightBulbAi.foreground",{dark:e.editorLightBulbForeground,light:e.editorLightBulbForeground,hcDark:e.editorLightBulbForeground,hcLight:e.editorLightBulbForeground},m.localize(46,null)),e.snippetTabstopHighlightBackground=(0,D.registerColor)("editor.snippetTabstopHighlightBackground",{dark:new k.Color(new k.RGBA(124,124,124,.3)),light:new k.Color(new k.RGBA(10,50,100,.2)),hcDark:new k.Color(new k.RGBA(124,124,124,.3)),hcLight:new k.Color(new k.RGBA(10,50,100,.2))},m.localize(47,null)),e.snippetTabstopHighlightBorder=(0,D.registerColor)("editor.snippetTabstopHighlightBorder",{dark:null,light:null,hcDark:null,hcLight:null},m.localize(48,null)),e.snippetFinalTabstopHighlightBackground=(0,D.registerColor)("editor.snippetFinalTabstopHighlightBackground",{dark:null,light:null,hcDark:null,hcLight:null},m.localize(49,null)),e.snippetFinalTabstopHighlightBorder=(0,D.registerColor)("editor.snippetFinalTabstopHighlightBorder",{dark:"#525252",light:new k.Color(new k.RGBA(10,50,100,.5)),hcDark:"#525252",hcLight:"#292929"},m.localize(50,null)),e.defaultInsertColor=new k.Color(new k.RGBA(155,185,85,.2)),e.defaultRemoveColor=new k.Color(new k.RGBA(255,0,0,.2)),e.diffInserted=(0,D.registerColor)("diffEditor.insertedTextBackground",{dark:"#9ccc2c33",light:"#9ccc2c40",hcDark:null,hcLight:null},m.localize(51,null),!0),e.diffRemoved=(0,D.registerColor)("diffEditor.removedTextBackground",{dark:"#ff000033",light:"#ff000033",hcDark:null,hcLight:null},m.localize(52,null),!0),e.diffInsertedLine=(0,D.registerColor)("diffEditor.insertedLineBackground",{dark:e.defaultInsertColor,light:e.defaultInsertColor,hcDark:null,hcLight:null},m.localize(53,null),!0),e.diffRemovedLine=(0,D.registerColor)("diffEditor.removedLineBackground",{dark:e.defaultRemoveColor,light:e.defaultRemoveColor,hcDark:null,hcLight:null},m.localize(54,null),!0),e.diffInsertedLineGutter=(0,D.registerColor)("diffEditorGutter.insertedLineBackground",{dark:null,light:null,hcDark:null,hcLight:null},m.localize(55,null)),e.diffRemovedLineGutter=(0,D.registerColor)("diffEditorGutter.removedLineBackground",{dark:null,light:null,hcDark:null,hcLight:null},m.localize(56,null)),e.diffOverviewRulerInserted=(0,D.registerColor)("diffEditorOverview.insertedForeground",{dark:null,light:null,hcDark:null,hcLight:null},m.localize(57,null)),e.diffOverviewRulerRemoved=(0,D.registerColor)("diffEditorOverview.removedForeground",{dark:null,light:null,hcDark:null,hcLight:null},m.localize(58,null)),e.diffInsertedOutline=(0,D.registerColor)("diffEditor.insertedTextBorder",{dark:null,light:null,hcDark:"#33ff2eff",hcLight:"#374E06"},m.localize(59,null)),e.diffRemovedOutline=(0,D.registerColor)("diffEditor.removedTextBorder",{dark:null,light:null,hcDark:"#FF008F",hcLight:"#AD0707"},m.localize(60,null)),e.diffBorder=(0,D.registerColor)("diffEditor.border",{dark:null,light:null,hcDark:L.contrastBorder,hcLight:L.contrastBorder},m.localize(61,null)),e.diffDiagonalFill=(0,D.registerColor)("diffEditor.diagonalFill",{dark:"#cccccc33",light:"#22222233",hcDark:null,hcLight:null},m.localize(62,null)),e.diffUnchangedRegionBackground=(0,D.registerColor)("diffEditor.unchangedRegionBackground",{dark:"sideBar.background",light:"sideBar.background",hcDark:"sideBar.background",hcLight:"sideBar.background"},m.localize(63,null)),e.diffUnchangedRegionForeground=(0,D.registerColor)("diffEditor.unchangedRegionForeground",{dark:"foreground",light:"foreground",hcDark:"foreground",hcLight:"foreground"},m.localize(64,null)),e.diffUnchangedTextBackground=(0,D.registerColor)("diffEditor.unchangedCodeBackground",{dark:"#74747429",light:"#b8b8b829",hcDark:null,hcLight:null},m.localize(65,null)),e.widgetShadow=(0,D.registerColor)("widget.shadow",{dark:(0,D.transparent)(k.Color.black,.36),light:(0,D.transparent)(k.Color.black,.16),hcDark:null,hcLight:null},m.localize(66,null)),e.widgetBorder=(0,D.registerColor)("widget.border",{dark:null,light:null,hcDark:L.contrastBorder,hcLight:L.contrastBorder},m.localize(67,null)),e.toolbarHoverBackground=(0,D.registerColor)("toolbar.hoverBackground",{dark:"#5a5d5e50",light:"#b8b8b850",hcDark:null,hcLight:null},m.localize(68,null)),e.toolbarHoverOutline=(0,D.registerColor)("toolbar.hoverOutline",{dark:null,light:null,hcDark:L.activeContrastBorder,hcLight:L.activeContrastBorder},m.localize(69,null)),e.toolbarActiveBackground=(0,D.registerColor)("toolbar.activeBackground",{dark:(0,D.lighten)(e.toolbarHoverBackground,.1),light:(0,D.darken)(e.toolbarHoverBackground,.1),hcDark:null,hcLight:null},m.localize(70,null)),e.breadcrumbsForeground=(0,D.registerColor)("breadcrumb.foreground",{light:(0,D.transparent)(L.foreground,.8),dark:(0,D.transparent)(L.foreground,.8),hcDark:(0,D.transparent)(L.foreground,.8),hcLight:(0,D.transparent)(L.foreground,.8)},m.localize(71,null)),e.breadcrumbsBackground=(0,D.registerColor)("breadcrumb.background",{light:e.editorBackground,dark:e.editorBackground,hcDark:e.editorBackground,hcLight:e.editorBackground},m.localize(72,null)),e.breadcrumbsFocusForeground=(0,D.registerColor)("breadcrumb.focusForeground",{light:(0,D.darken)(L.foreground,.2),dark:(0,D.lighten)(L.foreground,.1),hcDark:(0,D.lighten)(L.foreground,.1),hcLight:(0,D.lighten)(L.foreground,.1)},m.localize(73,null)),e.breadcrumbsActiveSelectionForeground=(0,D.registerColor)("breadcrumb.activeSelectionForeground",{light:(0,D.darken)(L.foreground,.2),dark:(0,D.lighten)(L.foreground,.1),hcDark:(0,D.lighten)(L.foreground,.1),hcLight:(0,D.lighten)(L.foreground,.1)},m.localize(74,null)),e.breadcrumbsPickerBackground=(0,D.registerColor)("breadcrumbPicker.background",{light:e.editorWidgetBackground,dark:e.editorWidgetBackground,hcDark:e.editorWidgetBackground,hcLight:e.editorWidgetBackground},m.localize(75,null));const p=.5,w=k.Color.fromHex("#40C8AE").transparent(p),C=k.Color.fromHex("#40A6FF").transparent(p),b=k.Color.fromHex("#606060").transparent(.4),a=.4,s=1;e.mergeCurrentHeaderBackground=(0,D.registerColor)("merge.currentHeaderBackground",{dark:w,light:w,hcDark:null,hcLight:null},m.localize(76,null),!0),e.mergeCurrentContentBackground=(0,D.registerColor)("merge.currentContentBackground",{dark:(0,D.transparent)(e.mergeCurrentHeaderBackground,a),light:(0,D.transparent)(e.mergeCurrentHeaderBackground,a),hcDark:(0,D.transparent)(e.mergeCurrentHeaderBackground,a),hcLight:(0,D.transparent)(e.mergeCurrentHeaderBackground,a)},m.localize(77,null),!0),e.mergeIncomingHeaderBackground=(0,D.registerColor)("merge.incomingHeaderBackground",{dark:C,light:C,hcDark:null,hcLight:null},m.localize(78,null),!0),e.mergeIncomingContentBackground=(0,D.registerColor)("merge.incomingContentBackground",{dark:(0,D.transparent)(e.mergeIncomingHeaderBackground,a),light:(0,D.transparent)(e.mergeIncomingHeaderBackground,a),hcDark:(0,D.transparent)(e.mergeIncomingHeaderBackground,a),hcLight:(0,D.transparent)(e.mergeIncomingHeaderBackground,a)},m.localize(79,null),!0),e.mergeCommonHeaderBackground=(0,D.registerColor)("merge.commonHeaderBackground",{dark:b,light:b,hcDark:null,hcLight:null},m.localize(80,null),!0),e.mergeCommonContentBackground=(0,D.registerColor)("merge.commonContentBackground",{dark:(0,D.transparent)(e.mergeCommonHeaderBackground,a),light:(0,D.transparent)(e.mergeCommonHeaderBackground,a),hcDark:(0,D.transparent)(e.mergeCommonHeaderBackground,a),hcLight:(0,D.transparent)(e.mergeCommonHeaderBackground,a)},m.localize(81,null),!0),e.mergeBorder=(0,D.registerColor)("merge.border",{dark:null,light:null,hcDark:"#C3DF6F",hcLight:"#007ACC"},m.localize(82,null)),e.overviewRulerCurrentContentForeground=(0,D.registerColor)("editorOverviewRuler.currentContentForeground",{dark:(0,D.transparent)(e.mergeCurrentHeaderBackground,s),light:(0,D.transparent)(e.mergeCurrentHeaderBackground,s),hcDark:e.mergeBorder,hcLight:e.mergeBorder},m.localize(83,null)),e.overviewRulerIncomingContentForeground=(0,D.registerColor)("editorOverviewRuler.incomingContentForeground",{dark:(0,D.transparent)(e.mergeIncomingHeaderBackground,s),light:(0,D.transparent)(e.mergeIncomingHeaderBackground,s),hcDark:e.mergeBorder,hcLight:e.mergeBorder},m.localize(84,null)),e.overviewRulerCommonContentForeground=(0,D.registerColor)("editorOverviewRuler.commonContentForeground",{dark:(0,D.transparent)(e.mergeCommonHeaderBackground,s),light:(0,D.transparent)(e.mergeCommonHeaderBackground,s),hcDark:e.mergeBorder,hcLight:e.mergeBorder},m.localize(85,null)),e.overviewRulerFindMatchForeground=(0,D.registerColor)("editorOverviewRuler.findMatchForeground",{dark:"#d186167e",light:"#d186167e",hcDark:"#AB5A00",hcLight:""},m.localize(86,null),!0),e.overviewRulerSelectionHighlightForeground=(0,D.registerColor)("editorOverviewRuler.selectionHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hcDark:"#A0A0A0CC",hcLight:"#A0A0A0CC"},m.localize(87,null),!0),e.problemsErrorIconForeground=(0,D.registerColor)("problemsErrorIcon.foreground",{dark:e.editorErrorForeground,light:e.editorErrorForeground,hcDark:e.editorErrorForeground,hcLight:e.editorErrorForeground},m.localize(88,null)),e.problemsWarningIconForeground=(0,D.registerColor)("problemsWarningIcon.foreground",{dark:e.editorWarningForeground,light:e.editorWarningForeground,hcDark:e.editorWarningForeground,hcLight:e.editorWarningForeground},m.localize(89,null)),e.problemsInfoIconForeground=(0,D.registerColor)("problemsInfoIcon.foreground",{dark:e.editorInfoForeground,light:e.editorInfoForeground,hcDark:e.editorInfoForeground,hcLight:e.editorInfoForeground},m.localize(90,null))}),define(te[384],ie([1,0,784,34,92,116,132]),function(J,e,m,k,D,L,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.keybindingLabelBottomBorder=e.keybindingLabelBorder=e.keybindingLabelForeground=e.keybindingLabelBackground=e.checkboxSelectBorder=e.checkboxBorder=e.checkboxForeground=e.checkboxSelectBackground=e.checkboxBackground=e.buttonSecondaryHoverBackground=e.buttonSecondaryBackground=e.buttonSecondaryForeground=e.buttonBorder=e.buttonHoverBackground=e.buttonBackground=e.buttonSeparator=e.buttonForeground=e.selectBorder=e.selectForeground=e.selectListBackground=e.selectBackground=e.inputValidationErrorBorder=e.inputValidationErrorForeground=e.inputValidationErrorBackground=e.inputValidationWarningBorder=e.inputValidationWarningForeground=e.inputValidationWarningBackground=e.inputValidationInfoBorder=e.inputValidationInfoForeground=e.inputValidationInfoBackground=e.inputPlaceholderForeground=e.inputActiveOptionForeground=e.inputActiveOptionBackground=e.inputActiveOptionHoverBackground=e.inputActiveOptionBorder=e.inputBorder=e.inputForeground=e.inputBackground=void 0,e.inputBackground=(0,D.registerColor)("input.background",{dark:"#3C3C3C",light:k.Color.white,hcDark:k.Color.black,hcLight:k.Color.white},m.localize(0,null)),e.inputForeground=(0,D.registerColor)("input.foreground",{dark:L.foreground,light:L.foreground,hcDark:L.foreground,hcLight:L.foreground},m.localize(1,null)),e.inputBorder=(0,D.registerColor)("input.border",{dark:null,light:null,hcDark:L.contrastBorder,hcLight:L.contrastBorder},m.localize(2,null)),e.inputActiveOptionBorder=(0,D.registerColor)("inputOption.activeBorder",{dark:"#007ACC",light:"#007ACC",hcDark:L.contrastBorder,hcLight:L.contrastBorder},m.localize(3,null)),e.inputActiveOptionHoverBackground=(0,D.registerColor)("inputOption.hoverBackground",{dark:"#5a5d5e80",light:"#b8b8b850",hcDark:null,hcLight:null},m.localize(4,null)),e.inputActiveOptionBackground=(0,D.registerColor)("inputOption.activeBackground",{dark:(0,D.transparent)(L.focusBorder,.4),light:(0,D.transparent)(L.focusBorder,.2),hcDark:k.Color.transparent,hcLight:k.Color.transparent},m.localize(5,null)),e.inputActiveOptionForeground=(0,D.registerColor)("inputOption.activeForeground",{dark:k.Color.white,light:k.Color.black,hcDark:L.foreground,hcLight:L.foreground},m.localize(6,null)),e.inputPlaceholderForeground=(0,D.registerColor)("input.placeholderForeground",{light:(0,D.transparent)(L.foreground,.5),dark:(0,D.transparent)(L.foreground,.5),hcDark:(0,D.transparent)(L.foreground,.7),hcLight:(0,D.transparent)(L.foreground,.7)},m.localize(7,null)),e.inputValidationInfoBackground=(0,D.registerColor)("inputValidation.infoBackground",{dark:"#063B49",light:"#D6ECF2",hcDark:k.Color.black,hcLight:k.Color.white},m.localize(8,null)),e.inputValidationInfoForeground=(0,D.registerColor)("inputValidation.infoForeground",{dark:null,light:null,hcDark:null,hcLight:L.foreground},m.localize(9,null)),e.inputValidationInfoBorder=(0,D.registerColor)("inputValidation.infoBorder",{dark:"#007acc",light:"#007acc",hcDark:L.contrastBorder,hcLight:L.contrastBorder},m.localize(10,null)),e.inputValidationWarningBackground=(0,D.registerColor)("inputValidation.warningBackground",{dark:"#352A05",light:"#F6F5D2",hcDark:k.Color.black,hcLight:k.Color.white},m.localize(11,null)),e.inputValidationWarningForeground=(0,D.registerColor)("inputValidation.warningForeground",{dark:null,light:null,hcDark:null,hcLight:L.foreground},m.localize(12,null)),e.inputValidationWarningBorder=(0,D.registerColor)("inputValidation.warningBorder",{dark:"#B89500",light:"#B89500",hcDark:L.contrastBorder,hcLight:L.contrastBorder},m.localize(13,null)),e.inputValidationErrorBackground=(0,D.registerColor)("inputValidation.errorBackground",{dark:"#5A1D1D",light:"#F2DEDE",hcDark:k.Color.black,hcLight:k.Color.white},m.localize(14,null)),e.inputValidationErrorForeground=(0,D.registerColor)("inputValidation.errorForeground",{dark:null,light:null,hcDark:null,hcLight:L.foreground},m.localize(15,null)),e.inputValidationErrorBorder=(0,D.registerColor)("inputValidation.errorBorder",{dark:"#BE1100",light:"#BE1100",hcDark:L.contrastBorder,hcLight:L.contrastBorder},m.localize(16,null)),e.selectBackground=(0,D.registerColor)("dropdown.background",{dark:"#3C3C3C",light:k.Color.white,hcDark:k.Color.black,hcLight:k.Color.white},m.localize(17,null)),e.selectListBackground=(0,D.registerColor)("dropdown.listBackground",{dark:null,light:null,hcDark:k.Color.black,hcLight:k.Color.white},m.localize(18,null)),e.selectForeground=(0,D.registerColor)("dropdown.foreground",{dark:"#F0F0F0",light:L.foreground,hcDark:k.Color.white,hcLight:L.foreground},m.localize(19,null)),e.selectBorder=(0,D.registerColor)("dropdown.border",{dark:e.selectBackground,light:"#CECECE",hcDark:L.contrastBorder,hcLight:L.contrastBorder},m.localize(20,null)),e.buttonForeground=(0,D.registerColor)("button.foreground",{dark:k.Color.white,light:k.Color.white,hcDark:k.Color.white,hcLight:k.Color.white},m.localize(21,null)),e.buttonSeparator=(0,D.registerColor)("button.separator",{dark:(0,D.transparent)(e.buttonForeground,.4),light:(0,D.transparent)(e.buttonForeground,.4),hcDark:(0,D.transparent)(e.buttonForeground,.4),hcLight:(0,D.transparent)(e.buttonForeground,.4)},m.localize(22,null)),e.buttonBackground=(0,D.registerColor)("button.background",{dark:"#0E639C",light:"#007ACC",hcDark:null,hcLight:"#0F4A85"},m.localize(23,null)),e.buttonHoverBackground=(0,D.registerColor)("button.hoverBackground",{dark:(0,D.lighten)(e.buttonBackground,.2),light:(0,D.darken)(e.buttonBackground,.2),hcDark:e.buttonBackground,hcLight:e.buttonBackground},m.localize(24,null)),e.buttonBorder=(0,D.registerColor)("button.border",{dark:L.contrastBorder,light:L.contrastBorder,hcDark:L.contrastBorder,hcLight:L.contrastBorder},m.localize(25,null)),e.buttonSecondaryForeground=(0,D.registerColor)("button.secondaryForeground",{dark:k.Color.white,light:k.Color.white,hcDark:k.Color.white,hcLight:L.foreground},m.localize(26,null)),e.buttonSecondaryBackground=(0,D.registerColor)("button.secondaryBackground",{dark:"#3A3D41",light:"#5F6A79",hcDark:null,hcLight:k.Color.white},m.localize(27,null)),e.buttonSecondaryHoverBackground=(0,D.registerColor)("button.secondaryHoverBackground",{dark:(0,D.lighten)(e.buttonSecondaryBackground,.2),light:(0,D.darken)(e.buttonSecondaryBackground,.2),hcDark:null,hcLight:null},m.localize(28,null)),e.checkboxBackground=(0,D.registerColor)("checkbox.background",{dark:e.selectBackground,light:e.selectBackground,hcDark:e.selectBackground,hcLight:e.selectBackground},m.localize(29,null)),e.checkboxSelectBackground=(0,D.registerColor)("checkbox.selectBackground",{dark:y.editorWidgetBackground,light:y.editorWidgetBackground,hcDark:y.editorWidgetBackground,hcLight:y.editorWidgetBackground},m.localize(30,null)),e.checkboxForeground=(0,D.registerColor)("checkbox.foreground",{dark:e.selectForeground,light:e.selectForeground,hcDark:e.selectForeground,hcLight:e.selectForeground},m.localize(31,null)),e.checkboxBorder=(0,D.registerColor)("checkbox.border",{dark:e.selectBorder,light:e.selectBorder,hcDark:e.selectBorder,hcLight:e.selectBorder},m.localize(32,null)),e.checkboxSelectBorder=(0,D.registerColor)("checkbox.selectBorder",{dark:L.iconForeground,light:L.iconForeground,hcDark:L.iconForeground,hcLight:L.iconForeground},m.localize(33,null)),e.keybindingLabelBackground=(0,D.registerColor)("keybindingLabel.background",{dark:new k.Color(new k.RGBA(128,128,128,.17)),light:new k.Color(new k.RGBA(221,221,221,.4)),hcDark:k.Color.transparent,hcLight:k.Color.transparent},m.localize(34,null)),e.keybindingLabelForeground=(0,D.registerColor)("keybindingLabel.foreground",{dark:k.Color.fromHex("#CCCCCC"),light:k.Color.fromHex("#555555"),hcDark:k.Color.white,hcLight:L.foreground},m.localize(35,null)),e.keybindingLabelBorder=(0,D.registerColor)("keybindingLabel.border",{dark:new k.Color(new k.RGBA(51,51,51,.6)),light:new k.Color(new k.RGBA(204,204,204,.4)),hcDark:new k.Color(new k.RGBA(111,195,223)),hcLight:L.contrastBorder},m.localize(36,null)),e.keybindingLabelBottomBorder=(0,D.registerColor)("keybindingLabel.bottomBorder",{dark:new k.Color(new k.RGBA(68,68,68,.6)),light:new k.Color(new k.RGBA(187,187,187,.4)),hcDark:new k.Color(new k.RGBA(111,195,223)),hcLight:L.foreground},m.localize(37,null))}),define(te[269],ie([1,0,785,34,92,116,132]),function(J,e,m,k,D,L,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.tableOddRowsBackgroundColor=e.tableColumnsBorder=e.treeInactiveIndentGuidesStroke=e.treeIndentGuidesStroke=e.listDeemphasizedForeground=e.listFilterMatchHighlightBorder=e.listFilterMatchHighlight=e.listFilterWidgetShadow=e.listFilterWidgetNoMatchesOutline=e.listFilterWidgetOutline=e.listFilterWidgetBackground=e.listWarningForeground=e.listErrorForeground=e.listInvalidItemForeground=e.listFocusHighlightForeground=e.listHighlightForeground=e.listDropBetweenBackground=e.listDropOverBackground=e.listHoverForeground=e.listHoverBackground=e.listInactiveFocusOutline=e.listInactiveFocusBackground=e.listInactiveSelectionIconForeground=e.listInactiveSelectionForeground=e.listInactiveSelectionBackground=e.listActiveSelectionIconForeground=e.listActiveSelectionForeground=e.listActiveSelectionBackground=e.listFocusAndSelectionOutline=e.listFocusOutline=e.listFocusForeground=e.listFocusBackground=void 0,e.listFocusBackground=(0,D.registerColor)("list.focusBackground",{dark:null,light:null,hcDark:null,hcLight:null},m.localize(0,null)),e.listFocusForeground=(0,D.registerColor)("list.focusForeground",{dark:null,light:null,hcDark:null,hcLight:null},m.localize(1,null)),e.listFocusOutline=(0,D.registerColor)("list.focusOutline",{dark:L.focusBorder,light:L.focusBorder,hcDark:L.activeContrastBorder,hcLight:L.activeContrastBorder},m.localize(2,null)),e.listFocusAndSelectionOutline=(0,D.registerColor)("list.focusAndSelectionOutline",{dark:null,light:null,hcDark:null,hcLight:null},m.localize(3,null)),e.listActiveSelectionBackground=(0,D.registerColor)("list.activeSelectionBackground",{dark:"#04395E",light:"#0060C0",hcDark:null,hcLight:k.Color.fromHex("#0F4A85").transparent(.1)},m.localize(4,null)),e.listActiveSelectionForeground=(0,D.registerColor)("list.activeSelectionForeground",{dark:k.Color.white,light:k.Color.white,hcDark:null,hcLight:null},m.localize(5,null)),e.listActiveSelectionIconForeground=(0,D.registerColor)("list.activeSelectionIconForeground",{dark:null,light:null,hcDark:null,hcLight:null},m.localize(6,null)),e.listInactiveSelectionBackground=(0,D.registerColor)("list.inactiveSelectionBackground",{dark:"#37373D",light:"#E4E6F1",hcDark:null,hcLight:k.Color.fromHex("#0F4A85").transparent(.1)},m.localize(7,null)),e.listInactiveSelectionForeground=(0,D.registerColor)("list.inactiveSelectionForeground",{dark:null,light:null,hcDark:null,hcLight:null},m.localize(8,null)),e.listInactiveSelectionIconForeground=(0,D.registerColor)("list.inactiveSelectionIconForeground",{dark:null,light:null,hcDark:null,hcLight:null},m.localize(9,null)),e.listInactiveFocusBackground=(0,D.registerColor)("list.inactiveFocusBackground",{dark:null,light:null,hcDark:null,hcLight:null},m.localize(10,null)),e.listInactiveFocusOutline=(0,D.registerColor)("list.inactiveFocusOutline",{dark:null,light:null,hcDark:null,hcLight:null},m.localize(11,null)),e.listHoverBackground=(0,D.registerColor)("list.hoverBackground",{dark:"#2A2D2E",light:"#F0F0F0",hcDark:k.Color.white.transparent(.1),hcLight:k.Color.fromHex("#0F4A85").transparent(.1)},m.localize(12,null)),e.listHoverForeground=(0,D.registerColor)("list.hoverForeground",{dark:null,light:null,hcDark:null,hcLight:null},m.localize(13,null)),e.listDropOverBackground=(0,D.registerColor)("list.dropBackground",{dark:"#062F4A",light:"#D6EBFF",hcDark:null,hcLight:null},m.localize(14,null)),e.listDropBetweenBackground=(0,D.registerColor)("list.dropBetweenBackground",{dark:L.iconForeground,light:L.iconForeground,hcDark:null,hcLight:null},m.localize(15,null)),e.listHighlightForeground=(0,D.registerColor)("list.highlightForeground",{dark:"#2AAAFF",light:"#0066BF",hcDark:L.focusBorder,hcLight:L.focusBorder},m.localize(16,null)),e.listFocusHighlightForeground=(0,D.registerColor)("list.focusHighlightForeground",{dark:e.listHighlightForeground,light:(0,D.ifDefinedThenElse)(e.listActiveSelectionBackground,e.listHighlightForeground,"#BBE7FF"),hcDark:e.listHighlightForeground,hcLight:e.listHighlightForeground},m.localize(17,null)),e.listInvalidItemForeground=(0,D.registerColor)("list.invalidItemForeground",{dark:"#B89500",light:"#B89500",hcDark:"#B89500",hcLight:"#B5200D"},m.localize(18,null)),e.listErrorForeground=(0,D.registerColor)("list.errorForeground",{dark:"#F88070",light:"#B01011",hcDark:null,hcLight:null},m.localize(19,null)),e.listWarningForeground=(0,D.registerColor)("list.warningForeground",{dark:"#CCA700",light:"#855F00",hcDark:null,hcLight:null},m.localize(20,null)),e.listFilterWidgetBackground=(0,D.registerColor)("listFilterWidget.background",{light:(0,D.darken)(y.editorWidgetBackground,0),dark:(0,D.lighten)(y.editorWidgetBackground,0),hcDark:y.editorWidgetBackground,hcLight:y.editorWidgetBackground},m.localize(21,null)),e.listFilterWidgetOutline=(0,D.registerColor)("listFilterWidget.outline",{dark:k.Color.transparent,light:k.Color.transparent,hcDark:"#f38518",hcLight:"#007ACC"},m.localize(22,null)),e.listFilterWidgetNoMatchesOutline=(0,D.registerColor)("listFilterWidget.noMatchesOutline",{dark:"#BE1100",light:"#BE1100",hcDark:L.contrastBorder,hcLight:L.contrastBorder},m.localize(23,null)),e.listFilterWidgetShadow=(0,D.registerColor)("listFilterWidget.shadow",{dark:y.widgetShadow,light:y.widgetShadow,hcDark:y.widgetShadow,hcLight:y.widgetShadow},m.localize(24,null)),e.listFilterMatchHighlight=(0,D.registerColor)("list.filterMatchBackground",{dark:y.editorFindMatchHighlight,light:y.editorFindMatchHighlight,hcDark:null,hcLight:null},m.localize(25,null)),e.listFilterMatchHighlightBorder=(0,D.registerColor)("list.filterMatchBorder",{dark:y.editorFindMatchHighlightBorder,light:y.editorFindMatchHighlightBorder,hcDark:L.contrastBorder,hcLight:L.activeContrastBorder},m.localize(26,null)),e.listDeemphasizedForeground=(0,D.registerColor)("list.deemphasizedForeground",{dark:"#8C8C8C",light:"#8E8E90",hcDark:"#A7A8A9",hcLight:"#666666"},m.localize(27,null)),e.treeIndentGuidesStroke=(0,D.registerColor)("tree.indentGuidesStroke",{dark:"#585858",light:"#a9a9a9",hcDark:"#a9a9a9",hcLight:"#a5a5a5"},m.localize(28,null)),e.treeInactiveIndentGuidesStroke=(0,D.registerColor)("tree.inactiveIndentGuidesStroke",{dark:(0,D.transparent)(e.treeIndentGuidesStroke,.4),light:(0,D.transparent)(e.treeIndentGuidesStroke,.4),hcDark:(0,D.transparent)(e.treeIndentGuidesStroke,.4),hcLight:(0,D.transparent)(e.treeIndentGuidesStroke,.4)},m.localize(29,null)),e.tableColumnsBorder=(0,D.registerColor)("tree.tableColumnsBorder",{dark:"#CCCCCC20",light:"#61616120",hcDark:null,hcLight:null},m.localize(30,null)),e.tableOddRowsBackgroundColor=(0,D.registerColor)("tree.tableOddRowsBackground",{dark:(0,D.transparent)(L.foreground,.04),light:(0,D.transparent)(L.foreground,.04),hcDark:null,hcLight:null},m.localize(31,null))}),define(te[871],ie([1,0,786,92,116,384,269]),function(J,e,m,k,D,L,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.menuSeparatorBackground=e.menuSelectionBorder=e.menuSelectionBackground=e.menuSelectionForeground=e.menuBackground=e.menuForeground=e.menuBorder=void 0,e.menuBorder=(0,k.registerColor)("menu.border",{dark:null,light:null,hcDark:D.contrastBorder,hcLight:D.contrastBorder},m.localize(0,null)),e.menuForeground=(0,k.registerColor)("menu.foreground",{dark:L.selectForeground,light:L.selectForeground,hcDark:L.selectForeground,hcLight:L.selectForeground},m.localize(1,null)),e.menuBackground=(0,k.registerColor)("menu.background",{dark:L.selectBackground,light:L.selectBackground,hcDark:L.selectBackground,hcLight:L.selectBackground},m.localize(2,null)),e.menuSelectionForeground=(0,k.registerColor)("menu.selectionForeground",{dark:y.listActiveSelectionForeground,light:y.listActiveSelectionForeground,hcDark:y.listActiveSelectionForeground,hcLight:y.listActiveSelectionForeground},m.localize(3,null)),e.menuSelectionBackground=(0,k.registerColor)("menu.selectionBackground",{dark:y.listActiveSelectionBackground,light:y.listActiveSelectionBackground,hcDark:y.listActiveSelectionBackground,hcLight:y.listActiveSelectionBackground},m.localize(4,null)),e.menuSelectionBorder=(0,k.registerColor)("menu.selectionBorder",{dark:null,light:null,hcDark:D.activeContrastBorder,hcLight:D.activeContrastBorder},m.localize(5,null)),e.menuSeparatorBackground=(0,k.registerColor)("menu.separatorBackground",{dark:"#606060",light:"#D4D4D4",hcDark:D.contrastBorder,hcLight:D.contrastBorder},m.localize(6,null))}),define(te[385],ie([1,0,787,34,92,132,268]),function(J,e,m,k,D,L,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.minimapSliderActiveBackground=e.minimapSliderHoverBackground=e.minimapSliderBackground=e.minimapForegroundOpacity=e.minimapBackground=e.minimapError=e.minimapWarning=e.minimapInfo=e.minimapSelection=e.minimapSelectionOccurrenceHighlight=e.minimapFindMatch=void 0,e.minimapFindMatch=(0,D.registerColor)("minimap.findMatchHighlight",{light:"#d18616",dark:"#d18616",hcDark:"#AB5A00",hcLight:"#0F4A85"},m.localize(0,null),!0),e.minimapSelectionOccurrenceHighlight=(0,D.registerColor)("minimap.selectionOccurrenceHighlight",{light:"#c9c9c9",dark:"#676767",hcDark:"#ffffff",hcLight:"#0F4A85"},m.localize(1,null),!0),e.minimapSelection=(0,D.registerColor)("minimap.selectionHighlight",{light:"#ADD6FF",dark:"#264F78",hcDark:"#ffffff",hcLight:"#0F4A85"},m.localize(2,null),!0),e.minimapInfo=(0,D.registerColor)("minimap.infoHighlight",{dark:L.editorInfoForeground,light:L.editorInfoForeground,hcDark:L.editorInfoBorder,hcLight:L.editorInfoBorder},m.localize(3,null)),e.minimapWarning=(0,D.registerColor)("minimap.warningHighlight",{dark:L.editorWarningForeground,light:L.editorWarningForeground,hcDark:L.editorWarningBorder,hcLight:L.editorWarningBorder},m.localize(4,null)),e.minimapError=(0,D.registerColor)("minimap.errorHighlight",{dark:new k.Color(new k.RGBA(255,18,18,.7)),light:new k.Color(new k.RGBA(255,18,18,.7)),hcDark:new k.Color(new k.RGBA(255,50,50,1)),hcLight:"#B5200D"},m.localize(5,null)),e.minimapBackground=(0,D.registerColor)("minimap.background",{dark:null,light:null,hcDark:null,hcLight:null},m.localize(6,null)),e.minimapForegroundOpacity=(0,D.registerColor)("minimap.foregroundOpacity",{dark:k.Color.fromHex("#000f"),light:k.Color.fromHex("#000f"),hcDark:k.Color.fromHex("#000f"),hcLight:k.Color.fromHex("#000f")},m.localize(7,null)),e.minimapSliderBackground=(0,D.registerColor)("minimapSlider.background",{light:(0,D.transparent)(y.scrollbarSliderBackground,.5),dark:(0,D.transparent)(y.scrollbarSliderBackground,.5),hcDark:(0,D.transparent)(y.scrollbarSliderBackground,.5),hcLight:(0,D.transparent)(y.scrollbarSliderBackground,.5)},m.localize(8,null)),e.minimapSliderHoverBackground=(0,D.registerColor)("minimapSlider.hoverBackground",{light:(0,D.transparent)(y.scrollbarSliderHoverBackground,.5),dark:(0,D.transparent)(y.scrollbarSliderHoverBackground,.5),hcDark:(0,D.transparent)(y.scrollbarSliderHoverBackground,.5),hcLight:(0,D.transparent)(y.scrollbarSliderHoverBackground,.5)},m.localize(9,null)),e.minimapSliderActiveBackground=(0,D.registerColor)("minimapSlider.activeBackground",{light:(0,D.transparent)(y.scrollbarSliderActiveBackground,.5),dark:(0,D.transparent)(y.scrollbarSliderActiveBackground,.5),hcDark:(0,D.transparent)(y.scrollbarSliderActiveBackground,.5),hcLight:(0,D.transparent)(y.scrollbarSliderActiveBackground,.5)},m.localize(10,null))}),define(te[872],ie([1,0,782,92,116,132,385]),function(J,e,m,k,D,L,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.chartsPurple=e.chartsGreen=e.chartsOrange=e.chartsYellow=e.chartsBlue=e.chartsRed=e.chartsLines=e.chartsForeground=void 0,e.chartsForeground=(0,k.registerColor)("charts.foreground",{dark:D.foreground,light:D.foreground,hcDark:D.foreground,hcLight:D.foreground},m.localize(0,null)),e.chartsLines=(0,k.registerColor)("charts.lines",{dark:(0,k.transparent)(D.foreground,.5),light:(0,k.transparent)(D.foreground,.5),hcDark:(0,k.transparent)(D.foreground,.5),hcLight:(0,k.transparent)(D.foreground,.5)},m.localize(1,null)),e.chartsRed=(0,k.registerColor)("charts.red",{dark:L.editorErrorForeground,light:L.editorErrorForeground,hcDark:L.editorErrorForeground,hcLight:L.editorErrorForeground},m.localize(2,null)),e.chartsBlue=(0,k.registerColor)("charts.blue",{dark:L.editorInfoForeground,light:L.editorInfoForeground,hcDark:L.editorInfoForeground,hcLight:L.editorInfoForeground},m.localize(3,null)),e.chartsYellow=(0,k.registerColor)("charts.yellow",{dark:L.editorWarningForeground,light:L.editorWarningForeground,hcDark:L.editorWarningForeground,hcLight:L.editorWarningForeground},m.localize(4,null)),e.chartsOrange=(0,k.registerColor)("charts.orange",{dark:y.minimapFindMatch,light:y.minimapFindMatch,hcDark:y.minimapFindMatch,hcLight:y.minimapFindMatch},m.localize(5,null)),e.chartsGreen=(0,k.registerColor)("charts.green",{dark:"#89D185",light:"#388A34",hcDark:"#89D185",hcLight:"#374e06"},m.localize(6,null)),e.chartsPurple=(0,k.registerColor)("charts.purple",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},m.localize(7,null))}),define(te[873],ie([1,0,789,34,92,132,269]),function(J,e,m,k,D,L,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.quickInputListFocusBackground=e.quickInputListFocusIconForeground=e.quickInputListFocusForeground=e._deprecatedQuickInputListFocusBackground=e.pickerGroupBorder=e.pickerGroupForeground=e.quickInputTitleBackground=e.quickInputForeground=e.quickInputBackground=void 0,e.quickInputBackground=(0,D.registerColor)("quickInput.background",{dark:L.editorWidgetBackground,light:L.editorWidgetBackground,hcDark:L.editorWidgetBackground,hcLight:L.editorWidgetBackground},m.localize(0,null)),e.quickInputForeground=(0,D.registerColor)("quickInput.foreground",{dark:L.editorWidgetForeground,light:L.editorWidgetForeground,hcDark:L.editorWidgetForeground,hcLight:L.editorWidgetForeground},m.localize(1,null)),e.quickInputTitleBackground=(0,D.registerColor)("quickInputTitle.background",{dark:new k.Color(new k.RGBA(255,255,255,.105)),light:new k.Color(new k.RGBA(0,0,0,.06)),hcDark:"#000000",hcLight:k.Color.white},m.localize(2,null)),e.pickerGroupForeground=(0,D.registerColor)("pickerGroup.foreground",{dark:"#3794FF",light:"#0066BF",hcDark:k.Color.white,hcLight:"#0F4A85"},m.localize(3,null)),e.pickerGroupBorder=(0,D.registerColor)("pickerGroup.border",{dark:"#3F3F46",light:"#CCCEDB",hcDark:k.Color.white,hcLight:"#0F4A85"},m.localize(4,null)),e._deprecatedQuickInputListFocusBackground=(0,D.registerColor)("quickInput.list.focusBackground",{dark:null,light:null,hcDark:null,hcLight:null},"",void 0,m.localize(5,null)),e.quickInputListFocusForeground=(0,D.registerColor)("quickInputList.focusForeground",{dark:y.listActiveSelectionForeground,light:y.listActiveSelectionForeground,hcDark:y.listActiveSelectionForeground,hcLight:y.listActiveSelectionForeground},m.localize(6,null)),e.quickInputListFocusIconForeground=(0,D.registerColor)("quickInputList.focusIconForeground",{dark:y.listActiveSelectionIconForeground,light:y.listActiveSelectionIconForeground,hcDark:y.listActiveSelectionIconForeground,hcLight:y.listActiveSelectionIconForeground},m.localize(7,null)),e.quickInputListFocusBackground=(0,D.registerColor)("quickInputList.focusBackground",{dark:(0,D.oneOf)(e._deprecatedQuickInputListFocusBackground,y.listActiveSelectionBackground),light:(0,D.oneOf)(e._deprecatedQuickInputListFocusBackground,y.listActiveSelectionBackground),hcDark:null,hcLight:null},m.localize(8,null))}),define(te[874],ie([1,0,790,92,116,132]),function(J,e,m,k,D,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.searchEditorFindMatchBorder=e.searchEditorFindMatch=e.searchResultsInfoForeground=void 0,e.searchResultsInfoForeground=(0,k.registerColor)("search.resultsInfoForeground",{light:D.foreground,dark:(0,k.transparent)(D.foreground,.65),hcDark:D.foreground,hcLight:D.foreground},m.localize(0,null)),e.searchEditorFindMatch=(0,k.registerColor)("searchEditor.findMatchBackground",{light:(0,k.transparent)(L.editorFindMatchHighlight,.66),dark:(0,k.transparent)(L.editorFindMatchHighlight,.66),hcDark:L.editorFindMatchHighlight,hcLight:L.editorFindMatchHighlight},m.localize(1,null)),e.searchEditorFindMatchBorder=(0,k.registerColor)("searchEditor.findMatchBorder",{light:(0,k.transparent)(L.editorFindMatchHighlightBorder,.66),dark:(0,k.transparent)(L.editorFindMatchHighlightBorder,.66),hcDark:L.editorFindMatchHighlightBorder,hcLight:L.editorFindMatchHighlightBorder},m.localize(2,null))});var Wt=this&&this.__createBinding||(Object.create?function(J,e,m,k){k===void 0&&(k=m);var D=Object.getOwnPropertyDescriptor(e,m);(!D||("get"in D?!e.__esModule:D.writable||D.configurable))&&(D={enumerable:!0,get:function(){return e[m]}}),Object.defineProperty(J,k,D)}:function(J,e,m,k){k===void 0&&(k=m),J[k]=e[m]}),Ct=this&&this.__exportStar||function(J,e){for(var m in J)m!=="default"&&!Object.prototype.hasOwnProperty.call(e,m)&&Wt(e,J,m)};define(te[31],ie([1,0,92,116,872,132,384,269,871,385,268,873,874]),function(J,e,m,k,D,L,y,p,w,C,b,a,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Ct(m,e),Ct(k,e),Ct(D,e),Ct(L,e),Ct(y,e),Ct(p,e),Ct(w,e),Ct(C,e),Ct(b,e),Ct(a,e),Ct(s,e)}),define(te[175],ie([1,0,6,164,72,15,2,31]),function(J,e,m,k,D,L,y,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DynamicCssRules=e.GlobalEditorPointerMoveMonitor=e.EditorPointerEventFactory=e.EditorMouseEventFactory=e.EditorMouseEvent=e.CoordinatesRelativeToEditor=e.EditorPagePosition=e.ClientCoordinates=e.PageCoordinates=void 0,e.createEditorPagePosition=s,e.createCoordinatesRelativeToEditor=i;class w{constructor(o,g){this.x=o,this.y=g,this._pageCoordinatesBrand=void 0}toClientCoordinates(o){return new C(this.x-o.scrollX,this.y-o.scrollY)}}e.PageCoordinates=w;class C{constructor(o,g){this.clientX=o,this.clientY=g,this._clientCoordinatesBrand=void 0}toPageCoordinates(o){return new w(this.clientX+o.scrollX,this.clientY+o.scrollY)}}e.ClientCoordinates=C;class b{constructor(o,g,c,f){this.x=o,this.y=g,this.width=c,this.height=f,this._editorPagePositionBrand=void 0}}e.EditorPagePosition=b;class a{constructor(o,g){this.x=o,this.y=g,this._positionRelativeToEditorBrand=void 0}}e.CoordinatesRelativeToEditor=a;function s(l){const o=m.getDomNodePagePosition(l);return new b(o.left,o.top,o.width,o.height)}function i(l,o,g){const c=o.width/l.offsetWidth,f=o.height/l.offsetHeight,_=(g.x-o.x)/c,S=(g.y-o.y)/f;return new a(_,S)}class t extends D.StandardMouseEvent{constructor(o,g,c){super(m.getWindow(c),o),this._editorMouseEventBrand=void 0,this.isFromPointerCapture=g,this.pos=new w(this.posx,this.posy),this.editorPos=s(c),this.relativePos=i(c,this.editorPos,this.pos)}}e.EditorMouseEvent=t;class n{constructor(o){this._editorViewDomNode=o}_create(o){return new t(o,!1,this._editorViewDomNode)}onContextMenu(o,g){return m.addDisposableListener(o,"contextmenu",c=>{g(this._create(c))})}onMouseUp(o,g){return m.addDisposableListener(o,"mouseup",c=>{g(this._create(c))})}onMouseDown(o,g){return m.addDisposableListener(o,m.EventType.MOUSE_DOWN,c=>{g(this._create(c))})}onPointerDown(o,g){return m.addDisposableListener(o,m.EventType.POINTER_DOWN,c=>{g(this._create(c),c.pointerId)})}onMouseLeave(o,g){return m.addDisposableListener(o,m.EventType.MOUSE_LEAVE,c=>{g(this._create(c))})}onMouseMove(o,g){return m.addDisposableListener(o,"mousemove",c=>g(this._create(c)))}}e.EditorMouseEventFactory=n;class h{constructor(o){this._editorViewDomNode=o}_create(o){return new t(o,!1,this._editorViewDomNode)}onPointerUp(o,g){return m.addDisposableListener(o,"pointerup",c=>{g(this._create(c))})}onPointerDown(o,g){return m.addDisposableListener(o,m.EventType.POINTER_DOWN,c=>{g(this._create(c),c.pointerId)})}onPointerLeave(o,g){return m.addDisposableListener(o,m.EventType.POINTER_LEAVE,c=>{g(this._create(c))})}onPointerMove(o,g){return m.addDisposableListener(o,"pointermove",c=>g(this._create(c)))}}e.EditorPointerEventFactory=h;class v extends y.Disposable{constructor(o){super(),this._editorViewDomNode=o,this._globalPointerMoveMonitor=this._register(new k.GlobalPointerMoveMonitor),this._keydownListener=null}startMonitoring(o,g,c,f,_){this._keydownListener=m.addStandardDisposableListener(o.ownerDocument,"keydown",S=>{S.toKeyCodeChord().isModifierKey()||this._globalPointerMoveMonitor.stopMonitoring(!0,S.browserEvent)},!0),this._globalPointerMoveMonitor.startMonitoring(o,g,c,S=>{f(new t(S,!0,this._editorViewDomNode))},S=>{this._keydownListener.dispose(),_(S)})}stopMonitoring(){this._globalPointerMoveMonitor.stopMonitoring(!0)}}e.GlobalEditorPointerMoveMonitor=v;class u{constructor(o){this._editor=o,this._instanceId=++u._idPool,this._counter=0,this._rules=new Map,this._garbageCollectionScheduler=new L.RunOnceScheduler(()=>this.garbageCollect(),1e3)}createClassNameRef(o){const g=this.getOrCreateRule(o);return g.increaseRefCount(),{className:g.className,dispose:()=>{g.decreaseRefCount(),this._garbageCollectionScheduler.schedule()}}}getOrCreateRule(o){const g=this.computeUniqueKey(o);let c=this._rules.get(g);if(!c){const f=this._counter++;c=new d(g,`dyn-rule-${this._instanceId}-${f}`,m.isInShadowDOM(this._editor.getContainerDomNode())?this._editor.getContainerDomNode():void 0,o),this._rules.set(g,c)}return c}computeUniqueKey(o){return JSON.stringify(o)}garbageCollect(){for(const o of this._rules.values())o.hasReferences()||(this._rules.delete(o.key),o.dispose())}}e.DynamicCssRules=u,u._idPool=0;class d{constructor(o,g,c,f){this.key=o,this.className=g,this.properties=f,this._referenceCount=0,this._styleElementDisposables=new y.DisposableStore,this._styleElement=m.createStyleSheet(c,void 0,this._styleElementDisposables),this._styleElement.textContent=this.getCssText(this.className,this.properties)}getCssText(o,g){let c=`.${o} {`;for(const f in g){const _=g[f];let S;typeof _=="object"?S=(0,p.asCssVariable)(_.id):S=_;const I=r(f);c+=`
	${I}: ${S};`}return c+=`
}`,c}dispose(){this._styleElementDisposables.dispose(),this._styleElement=void 0}increaseRefCount(){this._referenceCount++}decreaseRefCount(){this._referenceCount--}hasReferences(){return this._referenceCount>0}}function r(l){return l.replace(/(^[A-Z])/,([o])=>o.toLowerCase()).replace(/([A-Z])/g,([o])=>`-${o.toLowerCase()}`)}}),define(te[875],ie([1,0,6,40,164,2,17,11,249,56,38,5,299,356,90,31,24,67,520,119,47,609,462]),function(J,e,m,k,D,L,y,p,w,C,b,a,s,i,t,n,h,v,u,d,r,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Minimap=void 0;const o=140,g=2;class c{constructor(M,P,x){const R=M.options,B=R.get(143),H=R.get(145),V=H.minimap,q=R.get(50),K=R.get(73);this.renderMinimap=V.renderMinimap,this.size=K.size,this.minimapHeightIsEditorHeight=V.minimapHeightIsEditorHeight,this.scrollBeyondLastLine=R.get(105),this.paddingTop=R.get(84).top,this.paddingBottom=R.get(84).bottom,this.showSlider=K.showSlider,this.autohide=K.autohide,this.pixelRatio=B,this.typicalHalfwidthCharacterWidth=q.typicalHalfwidthCharacterWidth,this.lineHeight=R.get(67),this.minimapLeft=V.minimapLeft,this.minimapWidth=V.minimapWidth,this.minimapHeight=H.height,this.canvasInnerWidth=V.minimapCanvasInnerWidth,this.canvasInnerHeight=V.minimapCanvasInnerHeight,this.canvasOuterWidth=V.minimapCanvasOuterWidth,this.canvasOuterHeight=V.minimapCanvasOuterHeight,this.isSampling=V.minimapIsSampling,this.editorHeight=H.height,this.fontScale=V.minimapScale,this.minimapLineHeight=V.minimapLineHeight,this.minimapCharWidth=1*this.fontScale,this.sectionHeaderFontFamily=l.DEFAULT_FONT_FAMILY,this.sectionHeaderFontSize=K.sectionHeaderFontSize*B,this.sectionHeaderFontColor=c._getSectionHeaderColor(P,x.getColor(1)),this.charRenderer=(0,d.createSingleCallFunction)(()=>u.MinimapCharRendererFactory.create(this.fontScale,q.fontFamily)),this.defaultBackgroundColor=x.getColor(2),this.backgroundColor=c._getMinimapBackground(P,this.defaultBackgroundColor),this.foregroundAlpha=c._getMinimapForegroundOpacity(P)}static _getMinimapBackground(M,P){const x=M.getColor(n.minimapBackground);return x?new s.RGBA8(x.rgba.r,x.rgba.g,x.rgba.b,Math.round(255*x.rgba.a)):P}static _getMinimapForegroundOpacity(M){const P=M.getColor(n.minimapForegroundOpacity);return P?s.RGBA8._clamp(Math.round(255*P.rgba.a)):255}static _getSectionHeaderColor(M,P){const x=M.getColor(n.editorForeground);return x?new s.RGBA8(x.rgba.r,x.rgba.g,x.rgba.b,Math.round(255*x.rgba.a)):P}equals(M){return this.renderMinimap===M.renderMinimap&&this.size===M.size&&this.minimapHeightIsEditorHeight===M.minimapHeightIsEditorHeight&&this.scrollBeyondLastLine===M.scrollBeyondLastLine&&this.paddingTop===M.paddingTop&&this.paddingBottom===M.paddingBottom&&this.showSlider===M.showSlider&&this.autohide===M.autohide&&this.pixelRatio===M.pixelRatio&&this.typicalHalfwidthCharacterWidth===M.typicalHalfwidthCharacterWidth&&this.lineHeight===M.lineHeight&&this.minimapLeft===M.minimapLeft&&this.minimapWidth===M.minimapWidth&&this.minimapHeight===M.minimapHeight&&this.canvasInnerWidth===M.canvasInnerWidth&&this.canvasInnerHeight===M.canvasInnerHeight&&this.canvasOuterWidth===M.canvasOuterWidth&&this.canvasOuterHeight===M.canvasOuterHeight&&this.isSampling===M.isSampling&&this.editorHeight===M.editorHeight&&this.fontScale===M.fontScale&&this.minimapLineHeight===M.minimapLineHeight&&this.minimapCharWidth===M.minimapCharWidth&&this.sectionHeaderFontSize===M.sectionHeaderFontSize&&this.defaultBackgroundColor&&this.defaultBackgroundColor.equals(M.defaultBackgroundColor)&&this.backgroundColor&&this.backgroundColor.equals(M.backgroundColor)&&this.foregroundAlpha===M.foregroundAlpha}}class f{constructor(M,P,x,R,B,H,V,q,K){this.scrollTop=M,this.scrollHeight=P,this.sliderNeeded=x,this._computedSliderRatio=R,this.sliderTop=B,this.sliderHeight=H,this.topPaddingLineCount=V,this.startLineNumber=q,this.endLineNumber=K}getDesiredScrollTopFromDelta(M){return Math.round(this.scrollTop+M/this._computedSliderRatio)}getDesiredScrollTopFromTouchLocation(M){return Math.round((M-this.sliderHeight/2)/this._computedSliderRatio)}intersectWithViewport(M){const P=Math.max(this.startLineNumber,M.startLineNumber),x=Math.min(this.endLineNumber,M.endLineNumber);return P>x?null:[P,x]}getYForLineNumber(M,P){return+(M-this.startLineNumber+this.topPaddingLineCount)*P}static create(M,P,x,R,B,H,V,q,K,U,$){const se=M.pixelRatio,F=M.minimapLineHeight,X=Math.floor(M.canvasInnerHeight/F),Q=M.lineHeight;if(M.minimapHeightIsEditorHeight){let de=q*M.lineHeight+M.paddingTop+M.paddingBottom;M.scrollBeyondLastLine&&(de+=Math.max(0,B-M.lineHeight-M.paddingBottom));const ee=Math.max(1,Math.floor(B*B/de)),W=Math.max(0,M.minimapHeight-ee),z=W/(U-B),Y=K*z,j=W>0,G=Math.floor(M.canvasInnerHeight/M.minimapLineHeight),oe=Math.floor(M.paddingTop/M.lineHeight);return new f(K,U,j,z,Y,ee,oe,1,Math.min(V,G))}let Z;if(H&&x!==V){const de=x-P+1;Z=Math.floor(de*F/se)}else{const de=B/Q;Z=Math.floor(de*F/se)}const ae=Math.floor(M.paddingTop/Q);let ue=Math.floor(M.paddingBottom/Q);if(M.scrollBeyondLastLine){const de=B/Q;ue=Math.max(ue,de-1)}let ge;if(ue>0){const de=B/Q;ge=(ae+V+ue-de-1)*F/se}else ge=Math.max(0,(ae+V)*F/se-Z);ge=Math.min(M.minimapHeight-Z,ge);const fe=ge/(U-B),re=K*fe;if(X>=ae+V+ue){const de=ge>0;return new f(K,U,de,fe,re,Z,ae,1,V)}else{let de;P>1?de=P+ae:de=Math.max(1,K/Q);let ee,W=Math.max(1,Math.floor(de-re*se/F));W<ae?(ee=ae-W+1,W=1):(ee=0,W=Math.max(1,W-ae)),$&&$.scrollHeight===U&&($.scrollTop>K&&(W=Math.min(W,$.startLineNumber),ee=Math.max(ee,$.topPaddingLineCount)),$.scrollTop<K&&(W=Math.max(W,$.startLineNumber),ee=Math.min(ee,$.topPaddingLineCount)));const z=Math.min(V,W-ee+X-1),Y=(K-R)/Q;let j;return K>=M.paddingTop?j=(P-W+ee+Y)*F/se:j=K/M.paddingTop*(ee+Y)*F/se,new f(K,U,!0,fe,j,Z,ee,W,z)}}}class _{constructor(M){this.dy=M}onContentChanged(){this.dy=-1}onTokensChanged(){this.dy=-1}}_.INVALID=new _(-1);class S{constructor(M,P,x){this.renderedLayout=M,this._imageData=P,this._renderedLines=new w.RenderedLinesCollection(()=>_.INVALID),this._renderedLines._set(M.startLineNumber,x)}linesEquals(M){if(!this.scrollEquals(M))return!1;const x=this._renderedLines._get().lines;for(let R=0,B=x.length;R<B;R++)if(x[R].dy===-1)return!1;return!0}scrollEquals(M){return this.renderedLayout.startLineNumber===M.startLineNumber&&this.renderedLayout.endLineNumber===M.endLineNumber}_get(){const M=this._renderedLines._get();return{imageData:this._imageData,rendLineNumberStart:M.rendLineNumberStart,lines:M.lines}}onLinesChanged(M,P){return this._renderedLines.onLinesChanged(M,P)}onLinesDeleted(M,P){this._renderedLines.onLinesDeleted(M,P)}onLinesInserted(M,P){this._renderedLines.onLinesInserted(M,P)}onTokensChanged(M){return this._renderedLines.onTokensChanged(M)}}class I{constructor(M,P,x,R){this._backgroundFillData=I._createBackgroundFillData(P,x,R),this._buffers=[M.createImageData(P,x),M.createImageData(P,x)],this._lastUsedBuffer=0}getBuffer(){this._lastUsedBuffer=1-this._lastUsedBuffer;const M=this._buffers[this._lastUsedBuffer];return M.data.set(this._backgroundFillData),M}static _createBackgroundFillData(M,P,x){const R=x.r,B=x.g,H=x.b,V=x.a,q=new Uint8ClampedArray(M*P*4);let K=0;for(let U=0;U<P;U++)for(let $=0;$<M;$++)q[K]=R,q[K+1]=B,q[K+2]=H,q[K+3]=V,K+=4;return q}}class E{static compute(M,P,x){if(M.renderMinimap===0||!M.isSampling)return[null,[]];const{minimapLineCount:R}=b.EditorLayoutInfoComputer.computeContainedMinimapLineCount({viewLineCount:P,scrollBeyondLastLine:M.scrollBeyondLastLine,paddingTop:M.paddingTop,paddingBottom:M.paddingBottom,height:M.editorHeight,lineHeight:M.lineHeight,pixelRatio:M.pixelRatio}),B=P/R,H=B/2;if(!x||x.minimapLines.length===0){const Z=[];if(Z[0]=1,R>1){for(let ae=0,ue=R-1;ae<ue;ae++)Z[ae]=Math.round(ae*B+H);Z[R-1]=P}return[new E(B,Z),[]]}const V=x.minimapLines,q=V.length,K=[];let U=0,$=0,se=1;const F=10;let X=[],Q=null;for(let Z=0;Z<R;Z++){const ae=Math.max(se,Math.round(Z*B)),ue=Math.max(ae,Math.round((Z+1)*B));for(;U<q&&V[U]<ae;){if(X.length<F){const fe=U+1+$;Q&&Q.type==="deleted"&&Q._oldIndex===U-1?Q.deleteToLineNumber++:(Q={type:"deleted",_oldIndex:U,deleteFromLineNumber:fe,deleteToLineNumber:fe},X.push(Q)),$--}U++}let ge;if(U<q&&V[U]<=ue)ge=V[U],U++;else if(Z===0?ge=1:Z+1===R?ge=P:ge=Math.round(Z*B+H),X.length<F){const fe=U+1+$;Q&&Q.type==="inserted"&&Q._i===Z-1?Q.insertToLineNumber++:(Q={type:"inserted",_i:Z,insertFromLineNumber:fe,insertToLineNumber:fe},X.push(Q)),$++}K[Z]=ge,se=ge}if(X.length<F)for(;U<q;){const Z=U+1+$;Q&&Q.type==="deleted"&&Q._oldIndex===U-1?Q.deleteToLineNumber++:(Q={type:"deleted",_oldIndex:U,deleteFromLineNumber:Z,deleteToLineNumber:Z},X.push(Q)),$--,U++}else X=[{type:"flush"}];return[new E(B,K),X]}constructor(M,P){this.samplingRatio=M,this.minimapLines=P}modelLineToMinimapLine(M){return Math.min(this.minimapLines.length,Math.max(1,Math.round(M/this.samplingRatio)))}modelLineRangeToMinimapLineRange(M,P){let x=this.modelLineToMinimapLine(M)-1;for(;x>0&&this.minimapLines[x-1]>=M;)x--;let R=this.modelLineToMinimapLine(P)-1;for(;R+1<this.minimapLines.length&&this.minimapLines[R+1]<=P;)R++;if(x===R){const B=this.minimapLines[x];if(B<M||B>P)return null}return[x+1,R+1]}decorationLineRangeToMinimapLineRange(M,P){let x=this.modelLineToMinimapLine(M),R=this.modelLineToMinimapLine(P);return M!==P&&R===x&&(R===this.minimapLines.length?x>1&&x--:R++),[x,R]}onLinesDeleted(M){const P=M.toLineNumber-M.fromLineNumber+1;let x=this.minimapLines.length,R=0;for(let B=this.minimapLines.length-1;B>=0&&!(this.minimapLines[B]<M.fromLineNumber);B--)this.minimapLines[B]<=M.toLineNumber?(this.minimapLines[B]=Math.max(1,M.fromLineNumber-1),x=Math.min(x,B),R=Math.max(R,B)):this.minimapLines[B]-=P;return[x,R]}onLinesInserted(M){const P=M.toLineNumber-M.fromLineNumber+1;for(let x=this.minimapLines.length-1;x>=0&&!(this.minimapLines[x]<M.fromLineNumber);x--)this.minimapLines[x]+=P}}class T extends C.ViewPart{constructor(M){super(M),this._sectionHeaderCache=new r.LRUCache(10,1.5),this.tokensColorTracker=i.MinimapTokensColorTracker.getInstance(),this._selections=[],this._minimapSelections=null,this.options=new c(this._context.configuration,this._context.theme,this.tokensColorTracker);const[P]=E.compute(this.options,this._context.viewModel.getLineCount(),null);this._samplingState=P,this._shouldCheckSampling=!1,this._actual=new N(M.theme,this)}dispose(){this._actual.dispose(),super.dispose()}getDomNode(){return this._actual.getDomNode()}_onOptionsMaybeChanged(){const M=new c(this._context.configuration,this._context.theme,this.tokensColorTracker);return this.options.equals(M)?!1:(this.options=M,this._recreateLineSampling(),this._actual.onDidChangeOptions(),!0)}onConfigurationChanged(M){return this._onOptionsMaybeChanged()}onCursorStateChanged(M){return this._selections=M.selections,this._minimapSelections=null,this._actual.onSelectionChanged()}onDecorationsChanged(M){return M.affectsMinimap?this._actual.onDecorationsChanged():!1}onFlushed(M){return this._samplingState&&(this._shouldCheckSampling=!0),this._actual.onFlushed()}onLinesChanged(M){if(this._samplingState){const P=this._samplingState.modelLineRangeToMinimapLineRange(M.fromLineNumber,M.fromLineNumber+M.count-1);return P?this._actual.onLinesChanged(P[0],P[1]-P[0]+1):!1}else return this._actual.onLinesChanged(M.fromLineNumber,M.count)}onLinesDeleted(M){if(this._samplingState){const[P,x]=this._samplingState.onLinesDeleted(M);return P<=x&&this._actual.onLinesChanged(P+1,x-P+1),this._shouldCheckSampling=!0,!0}else return this._actual.onLinesDeleted(M.fromLineNumber,M.toLineNumber)}onLinesInserted(M){return this._samplingState?(this._samplingState.onLinesInserted(M),this._shouldCheckSampling=!0,!0):this._actual.onLinesInserted(M.fromLineNumber,M.toLineNumber)}onScrollChanged(M){return this._actual.onScrollChanged()}onThemeChanged(M){return this._actual.onThemeChanged(),this._onOptionsMaybeChanged(),!0}onTokensChanged(M){if(this._samplingState){const P=[];for(const x of M.ranges){const R=this._samplingState.modelLineRangeToMinimapLineRange(x.fromLineNumber,x.toLineNumber);R&&P.push({fromLineNumber:R[0],toLineNumber:R[1]})}return P.length?this._actual.onTokensChanged(P):!1}else return this._actual.onTokensChanged(M.ranges)}onTokensColorsChanged(M){return this._onOptionsMaybeChanged(),this._actual.onTokensColorsChanged()}onZonesChanged(M){return this._actual.onZonesChanged()}prepareRender(M){this._shouldCheckSampling&&(this._shouldCheckSampling=!1,this._recreateLineSampling())}render(M){let P=M.visibleRange.startLineNumber,x=M.visibleRange.endLineNumber;this._samplingState&&(P=this._samplingState.modelLineToMinimapLine(P),x=this._samplingState.modelLineToMinimapLine(x));const R={viewportContainsWhitespaceGaps:M.viewportData.whitespaceViewportData.length>0,scrollWidth:M.scrollWidth,scrollHeight:M.scrollHeight,viewportStartLineNumber:P,viewportEndLineNumber:x,viewportStartLineNumberVerticalOffset:M.getVerticalOffsetForLineNumber(P),scrollTop:M.scrollTop,scrollLeft:M.scrollLeft,viewportWidth:M.viewportWidth,viewportHeight:M.viewportHeight};this._actual.render(R)}_recreateLineSampling(){this._minimapSelections=null;const M=!!this._samplingState,[P,x]=E.compute(this.options,this._context.viewModel.getLineCount(),this._samplingState);if(this._samplingState=P,M&&this._samplingState)for(const R of x)switch(R.type){case"deleted":this._actual.onLinesDeleted(R.deleteFromLineNumber,R.deleteToLineNumber);break;case"inserted":this._actual.onLinesInserted(R.insertFromLineNumber,R.insertToLineNumber);break;case"flush":this._actual.onFlushed();break}}getLineCount(){return this._samplingState?this._samplingState.minimapLines.length:this._context.viewModel.getLineCount()}getRealLineCount(){return this._context.viewModel.getLineCount()}getLineContent(M){return this._samplingState?this._context.viewModel.getLineContent(this._samplingState.minimapLines[M-1]):this._context.viewModel.getLineContent(M)}getLineMaxColumn(M){return this._samplingState?this._context.viewModel.getLineMaxColumn(this._samplingState.minimapLines[M-1]):this._context.viewModel.getLineMaxColumn(M)}getMinimapLinesRenderingData(M,P,x){if(this._samplingState){const R=[];for(let B=0,H=P-M+1;B<H;B++)x[B]?R[B]=this._context.viewModel.getViewLineData(this._samplingState.minimapLines[M+B-1]):R[B]=null;return R}return this._context.viewModel.getMinimapLinesRenderingData(M,P,x).data}getSelections(){if(this._minimapSelections===null)if(this._samplingState){this._minimapSelections=[];for(const M of this._selections){const[P,x]=this._samplingState.decorationLineRangeToMinimapLineRange(M.startLineNumber,M.endLineNumber);this._minimapSelections.push(new h.Selection(P,M.startColumn,x,M.endColumn))}}else this._minimapSelections=this._selections;return this._minimapSelections}getMinimapDecorationsInViewport(M,P){const x=this._getMinimapDecorationsInViewport(M,P).filter(R=>{var B;return!(!((B=R.options.minimap)===null||B===void 0)&&B.sectionHeaderStyle)});if(this._samplingState){const R=[];for(const B of x){if(!B.options.minimap)continue;const H=B.range,V=this._samplingState.modelLineToMinimapLine(H.startLineNumber),q=this._samplingState.modelLineToMinimapLine(H.endLineNumber);R.push(new t.ViewModelDecoration(new a.Range(V,H.startColumn,q,H.endColumn),B.options))}return R}return x}getSectionHeaderDecorationsInViewport(M,P){const x=this.options.minimapLineHeight,B=this.options.sectionHeaderFontSize/x;return M=Math.floor(Math.max(1,M-B)),this._getMinimapDecorationsInViewport(M,P).filter(H=>{var V;return!!(!((V=H.options.minimap)===null||V===void 0)&&V.sectionHeaderStyle)})}_getMinimapDecorationsInViewport(M,P){let x;if(this._samplingState){const R=this._samplingState.minimapLines[M-1],B=this._samplingState.minimapLines[P-1];x=new a.Range(R,1,B,this._context.viewModel.getLineMaxColumn(B))}else x=new a.Range(M,1,P,this._context.viewModel.getLineMaxColumn(P));return this._context.viewModel.getMinimapDecorationsInRange(x)}getSectionHeaderText(M,P){var x;const R=(x=M.options.minimap)===null||x===void 0?void 0:x.sectionHeaderText;if(!R)return null;const B=this._sectionHeaderCache.get(R);if(B)return B;const H=P(R);return this._sectionHeaderCache.set(R,H),H}getOptions(){return this._context.viewModel.model.getOptions()}revealLineNumber(M){this._samplingState&&(M=this._samplingState.minimapLines[M-1]),this._context.viewModel.revealRange("mouse",!1,new a.Range(M,1,M,1),1,0)}setScrollTop(M){this._context.viewModel.viewLayout.setScrollPosition({scrollTop:M},1)}}e.Minimap=T;class N extends L.Disposable{constructor(M,P){super(),this._renderDecorations=!1,this._gestureInProgress=!1,this._theme=M,this._model=P,this._lastRenderData=null,this._buffers=null,this._selectionColor=this._theme.getColor(n.minimapSelection),this._domNode=(0,k.createFastDomNode)(document.createElement("div")),C.PartFingerprints.write(this._domNode,9),this._domNode.setClassName(this._getMinimapDomNodeClassName()),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._shadow=(0,k.createFastDomNode)(document.createElement("div")),this._shadow.setClassName("minimap-shadow-hidden"),this._domNode.appendChild(this._shadow),this._canvas=(0,k.createFastDomNode)(document.createElement("canvas")),this._canvas.setPosition("absolute"),this._canvas.setLeft(0),this._domNode.appendChild(this._canvas),this._decorationsCanvas=(0,k.createFastDomNode)(document.createElement("canvas")),this._decorationsCanvas.setPosition("absolute"),this._decorationsCanvas.setClassName("minimap-decorations-layer"),this._decorationsCanvas.setLeft(0),this._domNode.appendChild(this._decorationsCanvas),this._slider=(0,k.createFastDomNode)(document.createElement("div")),this._slider.setPosition("absolute"),this._slider.setClassName("minimap-slider"),this._slider.setLayerHinting(!0),this._slider.setContain("strict"),this._domNode.appendChild(this._slider),this._sliderHorizontal=(0,k.createFastDomNode)(document.createElement("div")),this._sliderHorizontal.setPosition("absolute"),this._sliderHorizontal.setClassName("minimap-slider-horizontal"),this._slider.appendChild(this._sliderHorizontal),this._applyLayout(),this._pointerDownListener=m.addStandardDisposableListener(this._domNode.domNode,m.EventType.POINTER_DOWN,x=>{if(x.preventDefault(),this._model.options.renderMinimap===0||!this._lastRenderData)return;if(this._model.options.size!=="proportional"){if(x.button===0&&this._lastRenderData){const K=m.getDomNodePagePosition(this._slider.domNode),U=K.top+K.height/2;this._startSliderDragging(x,U,this._lastRenderData.renderedLayout)}return}const B=this._model.options.minimapLineHeight,H=this._model.options.canvasInnerHeight/this._model.options.canvasOuterHeight*x.offsetY;let q=Math.floor(H/B)+this._lastRenderData.renderedLayout.startLineNumber-this._lastRenderData.renderedLayout.topPaddingLineCount;q=Math.min(q,this._model.getLineCount()),this._model.revealLineNumber(q)}),this._sliderPointerMoveMonitor=new D.GlobalPointerMoveMonitor,this._sliderPointerDownListener=m.addStandardDisposableListener(this._slider.domNode,m.EventType.POINTER_DOWN,x=>{x.preventDefault(),x.stopPropagation(),x.button===0&&this._lastRenderData&&this._startSliderDragging(x,x.pageY,this._lastRenderData.renderedLayout)}),this._gestureDisposable=v.Gesture.addTarget(this._domNode.domNode),this._sliderTouchStartListener=m.addDisposableListener(this._domNode.domNode,v.EventType.Start,x=>{x.preventDefault(),x.stopPropagation(),this._lastRenderData&&(this._slider.toggleClassName("active",!0),this._gestureInProgress=!0,this.scrollDueToTouchEvent(x))},{passive:!1}),this._sliderTouchMoveListener=m.addDisposableListener(this._domNode.domNode,v.EventType.Change,x=>{x.preventDefault(),x.stopPropagation(),this._lastRenderData&&this._gestureInProgress&&this.scrollDueToTouchEvent(x)},{passive:!1}),this._sliderTouchEndListener=m.addStandardDisposableListener(this._domNode.domNode,v.EventType.End,x=>{x.preventDefault(),x.stopPropagation(),this._gestureInProgress=!1,this._slider.toggleClassName("active",!1)})}_startSliderDragging(M,P,x){if(!M.target||!(M.target instanceof Element))return;const R=M.pageX;this._slider.toggleClassName("active",!0);const B=(H,V)=>{const q=m.getDomNodePagePosition(this._domNode.domNode),K=Math.min(Math.abs(V-R),Math.abs(V-q.left),Math.abs(V-q.left-q.width));if(y.isWindows&&K>o){this._model.setScrollTop(x.scrollTop);return}const U=H-P;this._model.setScrollTop(x.getDesiredScrollTopFromDelta(U))};M.pageY!==P&&B(M.pageY,R),this._sliderPointerMoveMonitor.startMonitoring(M.target,M.pointerId,M.buttons,H=>B(H.pageY,H.pageX),()=>{this._slider.toggleClassName("active",!1)})}scrollDueToTouchEvent(M){const P=this._domNode.domNode.getBoundingClientRect().top,x=this._lastRenderData.renderedLayout.getDesiredScrollTopFromTouchLocation(M.pageY-P);this._model.setScrollTop(x)}dispose(){this._pointerDownListener.dispose(),this._sliderPointerMoveMonitor.dispose(),this._sliderPointerDownListener.dispose(),this._gestureDisposable.dispose(),this._sliderTouchStartListener.dispose(),this._sliderTouchMoveListener.dispose(),this._sliderTouchEndListener.dispose(),super.dispose()}_getMinimapDomNodeClassName(){const M=["minimap"];return this._model.options.showSlider==="always"?M.push("slider-always"):M.push("slider-mouseover"),this._model.options.autohide&&M.push("autohide"),M.join(" ")}getDomNode(){return this._domNode}_applyLayout(){this._domNode.setLeft(this._model.options.minimapLeft),this._domNode.setWidth(this._model.options.minimapWidth),this._domNode.setHeight(this._model.options.minimapHeight),this._shadow.setHeight(this._model.options.minimapHeight),this._canvas.setWidth(this._model.options.canvasOuterWidth),this._canvas.setHeight(this._model.options.canvasOuterHeight),this._canvas.domNode.width=this._model.options.canvasInnerWidth,this._canvas.domNode.height=this._model.options.canvasInnerHeight,this._decorationsCanvas.setWidth(this._model.options.canvasOuterWidth),this._decorationsCanvas.setHeight(this._model.options.canvasOuterHeight),this._decorationsCanvas.domNode.width=this._model.options.canvasInnerWidth,this._decorationsCanvas.domNode.height=this._model.options.canvasInnerHeight,this._slider.setWidth(this._model.options.minimapWidth)}_getBuffer(){return this._buffers||this._model.options.canvasInnerWidth>0&&this._model.options.canvasInnerHeight>0&&(this._buffers=new I(this._canvas.domNode.getContext("2d"),this._model.options.canvasInnerWidth,this._model.options.canvasInnerHeight,this._model.options.backgroundColor)),this._buffers?this._buffers.getBuffer():null}onDidChangeOptions(){this._lastRenderData=null,this._buffers=null,this._applyLayout(),this._domNode.setClassName(this._getMinimapDomNodeClassName())}onSelectionChanged(){return this._renderDecorations=!0,!0}onDecorationsChanged(){return this._renderDecorations=!0,!0}onFlushed(){return this._lastRenderData=null,!0}onLinesChanged(M,P){return this._lastRenderData?this._lastRenderData.onLinesChanged(M,P):!1}onLinesDeleted(M,P){var x;return(x=this._lastRenderData)===null||x===void 0||x.onLinesDeleted(M,P),!0}onLinesInserted(M,P){var x;return(x=this._lastRenderData)===null||x===void 0||x.onLinesInserted(M,P),!0}onScrollChanged(){return this._renderDecorations=!0,!0}onThemeChanged(){return this._selectionColor=this._theme.getColor(n.minimapSelection),this._renderDecorations=!0,!0}onTokensChanged(M){return this._lastRenderData?this._lastRenderData.onTokensChanged(M):!1}onTokensColorsChanged(){return this._lastRenderData=null,this._buffers=null,!0}onZonesChanged(){return this._lastRenderData=null,!0}render(M){if(this._model.options.renderMinimap===0){this._shadow.setClassName("minimap-shadow-hidden"),this._sliderHorizontal.setWidth(0),this._sliderHorizontal.setHeight(0);return}M.scrollLeft+M.viewportWidth>=M.scrollWidth?this._shadow.setClassName("minimap-shadow-hidden"):this._shadow.setClassName("minimap-shadow-visible");const x=f.create(this._model.options,M.viewportStartLineNumber,M.viewportEndLineNumber,M.viewportStartLineNumberVerticalOffset,M.viewportHeight,M.viewportContainsWhitespaceGaps,this._model.getLineCount(),this._model.getRealLineCount(),M.scrollTop,M.scrollHeight,this._lastRenderData?this._lastRenderData.renderedLayout:null);this._slider.setDisplay(x.sliderNeeded?"block":"none"),this._slider.setTop(x.sliderTop),this._slider.setHeight(x.sliderHeight),this._sliderHorizontal.setLeft(0),this._sliderHorizontal.setWidth(this._model.options.minimapWidth),this._sliderHorizontal.setTop(0),this._sliderHorizontal.setHeight(x.sliderHeight),this.renderDecorations(x),this._lastRenderData=this.renderLines(x)}renderDecorations(M){if(this._renderDecorations){this._renderDecorations=!1;const P=this._model.getSelections();P.sort(a.Range.compareRangesUsingStarts);const x=this._model.getMinimapDecorationsInViewport(M.startLineNumber,M.endLineNumber);x.sort((se,F)=>(se.options.zIndex||0)-(F.options.zIndex||0));const{canvasInnerWidth:R,canvasInnerHeight:B}=this._model.options,H=this._model.options.minimapLineHeight,V=this._model.options.minimapCharWidth,q=this._model.getOptions().tabSize,K=this._decorationsCanvas.domNode.getContext("2d");K.clearRect(0,0,R,B);const U=new A(M.startLineNumber,M.endLineNumber,!1);this._renderSelectionLineHighlights(K,P,U,M,H),this._renderDecorationsLineHighlights(K,x,U,M,H);const $=new A(M.startLineNumber,M.endLineNumber,null);this._renderSelectionsHighlights(K,P,$,M,H,q,V,R),this._renderDecorationsHighlights(K,x,$,M,H,q,V,R),this._renderSectionHeaders(M)}}_renderSelectionLineHighlights(M,P,x,R,B){if(!this._selectionColor||this._selectionColor.isTransparent())return;M.fillStyle=this._selectionColor.transparent(.5).toString();let H=0,V=0;for(const q of P){const K=R.intersectWithViewport(q);if(!K)continue;const[U,$]=K;for(let X=U;X<=$;X++)x.set(X,!0);const se=R.getYForLineNumber(U,B),F=R.getYForLineNumber($,B);V>=se||(V>H&&M.fillRect(b.MINIMAP_GUTTER_WIDTH,H,M.canvas.width,V-H),H=se),V=F}V>H&&M.fillRect(b.MINIMAP_GUTTER_WIDTH,H,M.canvas.width,V-H)}_renderDecorationsLineHighlights(M,P,x,R,B){const H=new Map;for(let V=P.length-1;V>=0;V--){const q=P[V],K=q.options.minimap;if(!K||K.position!==1)continue;const U=R.intersectWithViewport(q.range);if(!U)continue;const[$,se]=U,F=K.getColor(this._theme.value);if(!F||F.isTransparent())continue;let X=H.get(F.toString());X||(X=F.transparent(.5).toString(),H.set(F.toString(),X)),M.fillStyle=X;for(let Q=$;Q<=se;Q++){if(x.has(Q))continue;x.set(Q,!0);const Z=R.getYForLineNumber($,B);M.fillRect(b.MINIMAP_GUTTER_WIDTH,Z,M.canvas.width,B)}}}_renderSelectionsHighlights(M,P,x,R,B,H,V,q){if(!(!this._selectionColor||this._selectionColor.isTransparent()))for(const K of P){const U=R.intersectWithViewport(K);if(!U)continue;const[$,se]=U;for(let F=$;F<=se;F++)this.renderDecorationOnLine(M,x,K,this._selectionColor,R,F,B,B,H,V,q)}}_renderDecorationsHighlights(M,P,x,R,B,H,V,q){for(const K of P){const U=K.options.minimap;if(!U)continue;const $=R.intersectWithViewport(K.range);if(!$)continue;const[se,F]=$,X=U.getColor(this._theme.value);if(!(!X||X.isTransparent()))for(let Q=se;Q<=F;Q++)switch(U.position){case 1:this.renderDecorationOnLine(M,x,K.range,X,R,Q,B,B,H,V,q);continue;case 2:{const Z=R.getYForLineNumber(Q,B);this.renderDecoration(M,X,2,Z,g,B);continue}}}}renderDecorationOnLine(M,P,x,R,B,H,V,q,K,U,$){const se=B.getYForLineNumber(H,q);if(se+V<0||se>this._model.options.canvasInnerHeight)return;const{startLineNumber:F,endLineNumber:X}=x,Q=F===H?x.startColumn:1,Z=X===H?x.endColumn:this._model.getLineMaxColumn(H),ae=this.getXOffsetForPosition(P,H,Q,K,U,$),ue=this.getXOffsetForPosition(P,H,Z,K,U,$);this.renderDecoration(M,R,ae,se,ue-ae,V)}getXOffsetForPosition(M,P,x,R,B,H){if(x===1)return b.MINIMAP_GUTTER_WIDTH;if((x-1)*B>=H)return H;let q=M.get(P);if(!q){const K=this._model.getLineContent(P);q=[b.MINIMAP_GUTTER_WIDTH];let U=b.MINIMAP_GUTTER_WIDTH;for(let $=1;$<K.length+1;$++){const se=K.charCodeAt($-1),F=se===9?R*B:p.isFullWidthCharacter(se)?2*B:B,X=U+F;if(X>=H){q[$]=H;break}q[$]=X,U=X}M.set(P,q)}return x-1<q.length?q[x-1]:H}renderDecoration(M,P,x,R,B,H){M.fillStyle=P&&P.toString()||"",M.fillRect(x,R,B,H)}_renderSectionHeaders(M){var P;const x=this._model.options.minimapLineHeight,R=this._model.options.sectionHeaderFontSize,B=R*1.5,{canvasInnerWidth:H}=this._model.options,V=this._model.options.backgroundColor,q=`rgb(${V.r} ${V.g} ${V.b} / .7)`,K=this._model.options.sectionHeaderFontColor,U=`rgb(${K.r} ${K.g} ${K.b})`,$=U,se=this._decorationsCanvas.domNode.getContext("2d");se.font=R+"px "+this._model.options.sectionHeaderFontFamily,se.strokeStyle=$,se.lineWidth=.2;const F=this._model.getSectionHeaderDecorationsInViewport(M.startLineNumber,M.endLineNumber);F.sort((Q,Z)=>Q.range.startLineNumber-Z.range.startLineNumber);const X=N._fitSectionHeader.bind(null,se,H-b.MINIMAP_GUTTER_WIDTH);for(const Q of F){const Z=M.getYForLineNumber(Q.range.startLineNumber,x)+R,ae=Z-R,ue=ae+2,ge=this._model.getSectionHeaderText(Q,X);N._renderSectionLabel(se,ge,((P=Q.options.minimap)===null||P===void 0?void 0:P.sectionHeaderStyle)===2,q,U,H,ae,B,Z,ue)}}static _fitSectionHeader(M,P,x){if(!x)return x;const R="\u2026",B=M.measureText(x).width,H=M.measureText(R).width;if(B<=P||B<=H)return x;const V=x.length,q=B/x.length,K=Math.floor((P-H)/q)-1;let U=Math.ceil(K/2);for(;U>0&&/\s/.test(x[U-1]);)--U;return x.substring(0,U)+R+x.substring(V-(K-U))}static _renderSectionLabel(M,P,x,R,B,H,V,q,K,U){P&&(M.fillStyle=R,M.fillRect(0,V,H,q),M.fillStyle=B,M.fillText(P,b.MINIMAP_GUTTER_WIDTH,K)),x&&(M.beginPath(),M.moveTo(0,U),M.lineTo(H,U),M.closePath(),M.stroke())}renderLines(M){const P=M.startLineNumber,x=M.endLineNumber,R=this._model.options.minimapLineHeight;if(this._lastRenderData&&this._lastRenderData.linesEquals(M)){const ce=this._lastRenderData._get();return new S(M,ce.imageData,ce.lines)}const B=this._getBuffer();if(!B)return null;const[H,V,q]=N._renderUntouchedLines(B,M.topPaddingLineCount,P,x,R,this._lastRenderData),K=this._model.getMinimapLinesRenderingData(P,x,q),U=this._model.getOptions().tabSize,$=this._model.options.defaultBackgroundColor,se=this._model.options.backgroundColor,F=this._model.options.foregroundAlpha,X=this._model.tokensColorTracker,Q=X.backgroundIsLight(),Z=this._model.options.renderMinimap,ae=this._model.options.charRenderer(),ue=this._model.options.fontScale,ge=this._model.options.minimapCharWidth,re=(Z===1?2:3)*ue,de=R>re?Math.floor((R-re)/2):0,ee=se.a/255,W=new s.RGBA8(Math.round((se.r-$.r)*ee+$.r),Math.round((se.g-$.g)*ee+$.g),Math.round((se.b-$.b)*ee+$.b),255);let z=M.topPaddingLineCount*R;const Y=[];for(let ce=0,le=x-P+1;ce<le;ce++)q[ce]&&N._renderLine(B,W,se.a,Q,Z,ge,X,F,ae,z,de,U,K[ce],ue,R),Y[ce]=new _(z),z+=R;const j=H===-1?0:H,oe=(V===-1?B.height:V)-j;return this._canvas.domNode.getContext("2d").putImageData(B,0,0,0,j,B.width,oe),new S(M,B,Y)}static _renderUntouchedLines(M,P,x,R,B,H){const V=[];if(!H){for(let z=0,Y=R-x+1;z<Y;z++)V[z]=!0;return[-1,-1,V]}const q=H._get(),K=q.imageData.data,U=q.rendLineNumberStart,$=q.lines,se=$.length,F=M.width,X=M.data,Q=(R-x+1)*B*F*4;let Z=-1,ae=-1,ue=-1,ge=-1,fe=-1,re=-1,de=P*B;for(let z=x;z<=R;z++){const Y=z-x,j=z-U,G=j>=0&&j<se?$[j].dy:-1;if(G===-1){V[Y]=!0,de+=B;continue}const oe=G*F*4,ne=(G+B)*F*4,ce=de*F*4,le=(de+B)*F*4;ge===oe&&re===ce?(ge=ne,re=le):(ue!==-1&&(X.set(K.subarray(ue,ge),fe),Z===-1&&ue===0&&ue===fe&&(Z=ge),ae===-1&&ge===Q&&ue===fe&&(ae=ue)),ue=oe,ge=ne,fe=ce,re=le),V[Y]=!1,de+=B}ue!==-1&&(X.set(K.subarray(ue,ge),fe),Z===-1&&ue===0&&ue===fe&&(Z=ge),ae===-1&&ge===Q&&ue===fe&&(ae=ue));const ee=Z===-1?-1:Z/(F*4),W=ae===-1?-1:ae/(F*4);return[ee,W,V]}static _renderLine(M,P,x,R,B,H,V,q,K,U,$,se,F,X,Q){const Z=F.content,ae=F.tokens,ue=M.width-H,ge=Q===1;let fe=b.MINIMAP_GUTTER_WIDTH,re=0,de=0;for(let ee=0,W=ae.getCount();ee<W;ee++){const z=ae.getEndOffset(ee),Y=ae.getForeground(ee),j=V.getColor(Y);for(;re<z;re++){if(fe>ue)return;const G=Z.charCodeAt(re);if(G===9){const oe=se-(re+de)%se;de+=oe-1,fe+=oe*H}else if(G===32)fe+=H;else{const oe=p.isFullWidthCharacter(G)?2:1;for(let ne=0;ne<oe;ne++)if(B===2?K.blockRenderChar(M,fe,U+$,j,q,P,x,ge):K.renderChar(M,fe,U+$,G,j,q,P,x,X,R,ge),fe+=H,fe>ue)return}}}}}class A{constructor(M,P,x){this._startLineNumber=M,this._endLineNumber=P,this._defaultValue=x,this._values=[];for(let R=0,B=this._endLineNumber-this._startLineNumber+1;R<B;R++)this._values[R]=x}has(M){return this.get(M)!==this._defaultValue}set(M,P){M<this._startLineNumber||M>this._endLineNumber||(this._values[M-this._startLineNumber]=P)}get(M){return M<this._startLineNumber||M>this._endLineNumber?this._defaultValue:this._values[M-this._startLineNumber]}}}),define(te[876],ie([1,0,662,31]),function(J,e,m,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.multiDiffEditorBorder=e.multiDiffEditorBackground=e.multiDiffEditorHeaderBackground=void 0,e.multiDiffEditorHeaderBackground=(0,k.registerColor)("multiDiffEditor.headerBackground",{dark:"#262626",light:"tab.inactiveBackground",hcDark:"tab.inactiveBackground",hcLight:"tab.inactiveBackground"},(0,m.localize)(0,null)),e.multiDiffEditorBackground=(0,k.registerColor)("multiDiffEditor.background",{dark:"editorBackground",light:"editorBackground",hcDark:"editorBackground",hcLight:"editorBackground"},(0,m.localize)(1,null)),e.multiDiffEditorBorder=(0,k.registerColor)("multiDiffEditor.border",{dark:"sideBarSectionHeader.border",light:"#cccccc",hcDark:"sideBarSectionHeader.border",hcLight:"#cccccc"},(0,m.localize)(2,null))}),define(te[270],ie([1,0,751,31,502]),function(J,e,m,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SYMBOL_ICON_VARIABLE_FOREGROUND=e.SYMBOL_ICON_UNIT_FOREGROUND=e.SYMBOL_ICON_TYPEPARAMETER_FOREGROUND=e.SYMBOL_ICON_TEXT_FOREGROUND=e.SYMBOL_ICON_STRUCT_FOREGROUND=e.SYMBOL_ICON_STRING_FOREGROUND=e.SYMBOL_ICON_SNIPPET_FOREGROUND=e.SYMBOL_ICON_REFERENCE_FOREGROUND=e.SYMBOL_ICON_PROPERTY_FOREGROUND=e.SYMBOL_ICON_PACKAGE_FOREGROUND=e.SYMBOL_ICON_OPERATOR_FOREGROUND=e.SYMBOL_ICON_OBJECT_FOREGROUND=e.SYMBOL_ICON_NUMBER_FOREGROUND=e.SYMBOL_ICON_NULL_FOREGROUND=e.SYMBOL_ICON_NAMESPACE_FOREGROUND=e.SYMBOL_ICON_MODULE_FOREGROUND=e.SYMBOL_ICON_METHOD_FOREGROUND=e.SYMBOL_ICON_KEYWORD_FOREGROUND=e.SYMBOL_ICON_KEY_FOREGROUND=e.SYMBOL_ICON_INTERFACE_FOREGROUND=e.SYMBOL_ICON_FUNCTION_FOREGROUND=e.SYMBOL_ICON_FOLDER_FOREGROUND=e.SYMBOL_ICON_FILE_FOREGROUND=e.SYMBOL_ICON_FIELD_FOREGROUND=e.SYMBOL_ICON_EVENT_FOREGROUND=e.SYMBOL_ICON_ENUMERATOR_MEMBER_FOREGROUND=e.SYMBOL_ICON_ENUMERATOR_FOREGROUND=e.SYMBOL_ICON_CONSTRUCTOR_FOREGROUND=e.SYMBOL_ICON_CONSTANT_FOREGROUND=e.SYMBOL_ICON_COLOR_FOREGROUND=e.SYMBOL_ICON_CLASS_FOREGROUND=e.SYMBOL_ICON_BOOLEAN_FOREGROUND=e.SYMBOL_ICON_ARRAY_FOREGROUND=void 0,e.SYMBOL_ICON_ARRAY_FOREGROUND=(0,k.registerColor)("symbolIcon.arrayForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,m.localize)(0,null)),e.SYMBOL_ICON_BOOLEAN_FOREGROUND=(0,k.registerColor)("symbolIcon.booleanForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,m.localize)(1,null)),e.SYMBOL_ICON_CLASS_FOREGROUND=(0,k.registerColor)("symbolIcon.classForeground",{dark:"#EE9D28",light:"#D67E00",hcDark:"#EE9D28",hcLight:"#D67E00"},(0,m.localize)(2,null)),e.SYMBOL_ICON_COLOR_FOREGROUND=(0,k.registerColor)("symbolIcon.colorForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,m.localize)(3,null)),e.SYMBOL_ICON_CONSTANT_FOREGROUND=(0,k.registerColor)("symbolIcon.constantForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,m.localize)(4,null)),e.SYMBOL_ICON_CONSTRUCTOR_FOREGROUND=(0,k.registerColor)("symbolIcon.constructorForeground",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},(0,m.localize)(5,null)),e.SYMBOL_ICON_ENUMERATOR_FOREGROUND=(0,k.registerColor)("symbolIcon.enumeratorForeground",{dark:"#EE9D28",light:"#D67E00",hcDark:"#EE9D28",hcLight:"#D67E00"},(0,m.localize)(6,null)),e.SYMBOL_ICON_ENUMERATOR_MEMBER_FOREGROUND=(0,k.registerColor)("symbolIcon.enumeratorMemberForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},(0,m.localize)(7,null)),e.SYMBOL_ICON_EVENT_FOREGROUND=(0,k.registerColor)("symbolIcon.eventForeground",{dark:"#EE9D28",light:"#D67E00",hcDark:"#EE9D28",hcLight:"#D67E00"},(0,m.localize)(8,null)),e.SYMBOL_ICON_FIELD_FOREGROUND=(0,k.registerColor)("symbolIcon.fieldForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},(0,m.localize)(9,null)),e.SYMBOL_ICON_FILE_FOREGROUND=(0,k.registerColor)("symbolIcon.fileForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,m.localize)(10,null)),e.SYMBOL_ICON_FOLDER_FOREGROUND=(0,k.registerColor)("symbolIcon.folderForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,m.localize)(11,null)),e.SYMBOL_ICON_FUNCTION_FOREGROUND=(0,k.registerColor)("symbolIcon.functionForeground",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},(0,m.localize)(12,null)),e.SYMBOL_ICON_INTERFACE_FOREGROUND=(0,k.registerColor)("symbolIcon.interfaceForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},(0,m.localize)(13,null)),e.SYMBOL_ICON_KEY_FOREGROUND=(0,k.registerColor)("symbolIcon.keyForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,m.localize)(14,null)),e.SYMBOL_ICON_KEYWORD_FOREGROUND=(0,k.registerColor)("symbolIcon.keywordForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,m.localize)(15,null)),e.SYMBOL_ICON_METHOD_FOREGROUND=(0,k.registerColor)("symbolIcon.methodForeground",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},(0,m.localize)(16,null)),e.SYMBOL_ICON_MODULE_FOREGROUND=(0,k.registerColor)("symbolIcon.moduleForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,m.localize)(17,null)),e.SYMBOL_ICON_NAMESPACE_FOREGROUND=(0,k.registerColor)("symbolIcon.namespaceForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,m.localize)(18,null)),e.SYMBOL_ICON_NULL_FOREGROUND=(0,k.registerColor)("symbolIcon.nullForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,m.localize)(19,null)),e.SYMBOL_ICON_NUMBER_FOREGROUND=(0,k.registerColor)("symbolIcon.numberForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,m.localize)(20,null)),e.SYMBOL_ICON_OBJECT_FOREGROUND=(0,k.registerColor)("symbolIcon.objectForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,m.localize)(21,null)),e.SYMBOL_ICON_OPERATOR_FOREGROUND=(0,k.registerColor)("symbolIcon.operatorForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,m.localize)(22,null)),e.SYMBOL_ICON_PACKAGE_FOREGROUND=(0,k.registerColor)("symbolIcon.packageForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,m.localize)(23,null)),e.SYMBOL_ICON_PROPERTY_FOREGROUND=(0,k.registerColor)("symbolIcon.propertyForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,m.localize)(24,null)),e.SYMBOL_ICON_REFERENCE_FOREGROUND=(0,k.registerColor)("symbolIcon.referenceForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,m.localize)(25,null)),e.SYMBOL_ICON_SNIPPET_FOREGROUND=(0,k.registerColor)("symbolIcon.snippetForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,m.localize)(26,null)),e.SYMBOL_ICON_STRING_FOREGROUND=(0,k.registerColor)("symbolIcon.stringForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,m.localize)(27,null)),e.SYMBOL_ICON_STRUCT_FOREGROUND=(0,k.registerColor)("symbolIcon.structForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,m.localize)(28,null)),e.SYMBOL_ICON_TEXT_FOREGROUND=(0,k.registerColor)("symbolIcon.textForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,m.localize)(29,null)),e.SYMBOL_ICON_TYPEPARAMETER_FOREGROUND=(0,k.registerColor)("symbolIcon.typeParameterForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,m.localize)(30,null)),e.SYMBOL_ICON_UNIT_FOREGROUND=(0,k.registerColor)("symbolIcon.unitForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,m.localize)(31,null)),e.SYMBOL_ICON_VARIABLE_FOREGROUND=(0,k.registerColor)("symbolIcon.variableForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},(0,m.localize)(32,null))}),define(te[877],ie([1,0,26,127,687,94,187,270]),function(J,e,m,k,D,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toMenuItems=w;const y=Object.freeze({kind:L.HierarchicalKind.Empty,title:(0,D.localize)(0,null)}),p=Object.freeze([{kind:k.CodeActionKind.QuickFix,title:(0,D.localize)(1,null)},{kind:k.CodeActionKind.RefactorExtract,title:(0,D.localize)(2,null),icon:m.Codicon.wrench},{kind:k.CodeActionKind.RefactorInline,title:(0,D.localize)(3,null),icon:m.Codicon.wrench},{kind:k.CodeActionKind.RefactorRewrite,title:(0,D.localize)(4,null),icon:m.Codicon.wrench},{kind:k.CodeActionKind.RefactorMove,title:(0,D.localize)(5,null),icon:m.Codicon.wrench},{kind:k.CodeActionKind.SurroundWith,title:(0,D.localize)(6,null),icon:m.Codicon.surroundWith},{kind:k.CodeActionKind.Source,title:(0,D.localize)(7,null),icon:m.Codicon.symbolFile},y]);function w(C,b,a){if(!b)return C.map(t=>{var n;return{kind:"action",item:t,group:y,disabled:!!t.action.disabled,label:t.action.disabled||t.action.title,canPreview:!!(!((n=t.action.edit)===null||n===void 0)&&n.edits.length)}});const s=p.map(t=>({group:t,actions:[]}));for(const t of C){const n=t.action.kind?new L.HierarchicalKind(t.action.kind):L.HierarchicalKind.None;for(const h of s)if(h.group.kind.contains(n)){h.actions.push(t);break}}const i=[];for(const t of s)if(t.actions.length){i.push({kind:"header",group:t.group});for(const n of t.actions){const h=t.group;i.push({kind:"action",item:n,group:n.action.isAI?{title:h.title,kind:h.kind,icon:m.Codicon.sparkle}:h,label:n.action.title,disabled:!!n.action.disabled,keybinding:a(n.action)})}}return i}}),define(te[106],ie([1,0,31,34]),function(J,e,m,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.defaultMenuStyles=e.defaultSelectBoxStyles=e.defaultListStyles=e.defaultBreadcrumbsWidgetStyles=e.defaultCountBadgeStyles=e.defaultFindWidgetStyles=e.defaultInputBoxStyles=e.defaultDialogStyles=e.defaultCheckboxStyles=e.defaultToggleStyles=e.defaultProgressBarStyles=e.defaultButtonStyles=e.defaultKeybindingLabelStyles=void 0,e.getListStyles=L;function D(y,p){const w={...p};for(const C in y){const b=y[C];w[C]=b!==void 0?(0,m.asCssVariable)(b):void 0}return w}e.defaultKeybindingLabelStyles={keybindingLabelBackground:(0,m.asCssVariable)(m.keybindingLabelBackground),keybindingLabelForeground:(0,m.asCssVariable)(m.keybindingLabelForeground),keybindingLabelBorder:(0,m.asCssVariable)(m.keybindingLabelBorder),keybindingLabelBottomBorder:(0,m.asCssVariable)(m.keybindingLabelBottomBorder),keybindingLabelShadow:(0,m.asCssVariable)(m.widgetShadow)},e.defaultButtonStyles={buttonForeground:(0,m.asCssVariable)(m.buttonForeground),buttonSeparator:(0,m.asCssVariable)(m.buttonSeparator),buttonBackground:(0,m.asCssVariable)(m.buttonBackground),buttonHoverBackground:(0,m.asCssVariable)(m.buttonHoverBackground),buttonSecondaryForeground:(0,m.asCssVariable)(m.buttonSecondaryForeground),buttonSecondaryBackground:(0,m.asCssVariable)(m.buttonSecondaryBackground),buttonSecondaryHoverBackground:(0,m.asCssVariable)(m.buttonSecondaryHoverBackground),buttonBorder:(0,m.asCssVariable)(m.buttonBorder)},e.defaultProgressBarStyles={progressBarBackground:(0,m.asCssVariable)(m.progressBarBackground)},e.defaultToggleStyles={inputActiveOptionBorder:(0,m.asCssVariable)(m.inputActiveOptionBorder),inputActiveOptionForeground:(0,m.asCssVariable)(m.inputActiveOptionForeground),inputActiveOptionBackground:(0,m.asCssVariable)(m.inputActiveOptionBackground)},e.defaultCheckboxStyles={checkboxBackground:(0,m.asCssVariable)(m.checkboxBackground),checkboxBorder:(0,m.asCssVariable)(m.checkboxBorder),checkboxForeground:(0,m.asCssVariable)(m.checkboxForeground)},e.defaultDialogStyles={dialogBackground:(0,m.asCssVariable)(m.editorWidgetBackground),dialogForeground:(0,m.asCssVariable)(m.editorWidgetForeground),dialogShadow:(0,m.asCssVariable)(m.widgetShadow),dialogBorder:(0,m.asCssVariable)(m.contrastBorder),errorIconForeground:(0,m.asCssVariable)(m.problemsErrorIconForeground),warningIconForeground:(0,m.asCssVariable)(m.problemsWarningIconForeground),infoIconForeground:(0,m.asCssVariable)(m.problemsInfoIconForeground),textLinkForeground:(0,m.asCssVariable)(m.textLinkForeground)},e.defaultInputBoxStyles={inputBackground:(0,m.asCssVariable)(m.inputBackground),inputForeground:(0,m.asCssVariable)(m.inputForeground),inputBorder:(0,m.asCssVariable)(m.inputBorder),inputValidationInfoBorder:(0,m.asCssVariable)(m.inputValidationInfoBorder),inputValidationInfoBackground:(0,m.asCssVariable)(m.inputValidationInfoBackground),inputValidationInfoForeground:(0,m.asCssVariable)(m.inputValidationInfoForeground),inputValidationWarningBorder:(0,m.asCssVariable)(m.inputValidationWarningBorder),inputValidationWarningBackground:(0,m.asCssVariable)(m.inputValidationWarningBackground),inputValidationWarningForeground:(0,m.asCssVariable)(m.inputValidationWarningForeground),inputValidationErrorBorder:(0,m.asCssVariable)(m.inputValidationErrorBorder),inputValidationErrorBackground:(0,m.asCssVariable)(m.inputValidationErrorBackground),inputValidationErrorForeground:(0,m.asCssVariable)(m.inputValidationErrorForeground)},e.defaultFindWidgetStyles={listFilterWidgetBackground:(0,m.asCssVariable)(m.listFilterWidgetBackground),listFilterWidgetOutline:(0,m.asCssVariable)(m.listFilterWidgetOutline),listFilterWidgetNoMatchesOutline:(0,m.asCssVariable)(m.listFilterWidgetNoMatchesOutline),listFilterWidgetShadow:(0,m.asCssVariable)(m.listFilterWidgetShadow),inputBoxStyles:e.defaultInputBoxStyles,toggleStyles:e.defaultToggleStyles},e.defaultCountBadgeStyles={badgeBackground:(0,m.asCssVariable)(m.badgeBackground),badgeForeground:(0,m.asCssVariable)(m.badgeForeground),badgeBorder:(0,m.asCssVariable)(m.contrastBorder)},e.defaultBreadcrumbsWidgetStyles={breadcrumbsBackground:(0,m.asCssVariable)(m.breadcrumbsBackground),breadcrumbsForeground:(0,m.asCssVariable)(m.breadcrumbsForeground),breadcrumbsHoverForeground:(0,m.asCssVariable)(m.breadcrumbsFocusForeground),breadcrumbsFocusForeground:(0,m.asCssVariable)(m.breadcrumbsFocusForeground),breadcrumbsFocusAndSelectionForeground:(0,m.asCssVariable)(m.breadcrumbsActiveSelectionForeground)},e.defaultListStyles={listBackground:void 0,listInactiveFocusForeground:void 0,listFocusBackground:(0,m.asCssVariable)(m.listFocusBackground),listFocusForeground:(0,m.asCssVariable)(m.listFocusForeground),listFocusOutline:(0,m.asCssVariable)(m.listFocusOutline),listActiveSelectionBackground:(0,m.asCssVariable)(m.listActiveSelectionBackground),listActiveSelectionForeground:(0,m.asCssVariable)(m.listActiveSelectionForeground),listActiveSelectionIconForeground:(0,m.asCssVariable)(m.listActiveSelectionIconForeground),listFocusAndSelectionOutline:(0,m.asCssVariable)(m.listFocusAndSelectionOutline),listFocusAndSelectionBackground:(0,m.asCssVariable)(m.listActiveSelectionBackground),listFocusAndSelectionForeground:(0,m.asCssVariable)(m.listActiveSelectionForeground),listInactiveSelectionBackground:(0,m.asCssVariable)(m.listInactiveSelectionBackground),listInactiveSelectionIconForeground:(0,m.asCssVariable)(m.listInactiveSelectionIconForeground),listInactiveSelectionForeground:(0,m.asCssVariable)(m.listInactiveSelectionForeground),listInactiveFocusBackground:(0,m.asCssVariable)(m.listInactiveFocusBackground),listInactiveFocusOutline:(0,m.asCssVariable)(m.listInactiveFocusOutline),listHoverBackground:(0,m.asCssVariable)(m.listHoverBackground),listHoverForeground:(0,m.asCssVariable)(m.listHoverForeground),listDropOverBackground:(0,m.asCssVariable)(m.listDropOverBackground),listDropBetweenBackground:(0,m.asCssVariable)(m.listDropBetweenBackground),listSelectionOutline:(0,m.asCssVariable)(m.activeContrastBorder),listHoverOutline:(0,m.asCssVariable)(m.activeContrastBorder),treeIndentGuidesStroke:(0,m.asCssVariable)(m.treeIndentGuidesStroke),treeInactiveIndentGuidesStroke:(0,m.asCssVariable)(m.treeInactiveIndentGuidesStroke),tableColumnsBorder:(0,m.asCssVariable)(m.tableColumnsBorder),tableOddRowsBackgroundColor:(0,m.asCssVariable)(m.tableOddRowsBackgroundColor)};function L(y){return D(y,e.defaultListStyles)}e.defaultSelectBoxStyles={selectBackground:(0,m.asCssVariable)(m.selectBackground),selectListBackground:(0,m.asCssVariable)(m.selectListBackground),selectForeground:(0,m.asCssVariable)(m.selectForeground),decoratorRightForeground:(0,m.asCssVariable)(m.pickerGroupForeground),selectBorder:(0,m.asCssVariable)(m.selectBorder),focusBorder:(0,m.asCssVariable)(m.focusBorder),listFocusBackground:(0,m.asCssVariable)(m.quickInputListFocusBackground),listInactiveSelectionIconForeground:(0,m.asCssVariable)(m.quickInputListFocusIconForeground),listFocusForeground:(0,m.asCssVariable)(m.quickInputListFocusForeground),listFocusOutline:(0,m.asCssVariableWithDefault)(m.activeContrastBorder,k.Color.transparent.toString()),listHoverBackground:(0,m.asCssVariable)(m.listHoverBackground),listHoverForeground:(0,m.asCssVariable)(m.listHoverForeground),listHoverOutline:(0,m.asCssVariable)(m.activeContrastBorder),selectListBorder:(0,m.asCssVariable)(m.editorWidgetBorder),listBackground:void 0,listActiveSelectionBackground:void 0,listActiveSelectionForeground:void 0,listActiveSelectionIconForeground:void 0,listFocusAndSelectionBackground:void 0,listDropOverBackground:void 0,listDropBetweenBackground:void 0,listInactiveSelectionBackground:void 0,listInactiveSelectionForeground:void 0,listInactiveFocusBackground:void 0,listInactiveFocusOutline:void 0,listSelectionOutline:void 0,listFocusAndSelectionForeground:void 0,listFocusAndSelectionOutline:void 0,listInactiveFocusForeground:void 0,tableColumnsBorder:void 0,tableOddRowsBackgroundColor:void 0,treeIndentGuidesStroke:void 0,treeInactiveIndentGuidesStroke:void 0},e.defaultMenuStyles={shadowColor:(0,m.asCssVariable)(m.widgetShadow),borderColor:(0,m.asCssVariable)(m.menuBorder),foregroundColor:(0,m.asCssVariable)(m.menuForeground),backgroundColor:(0,m.asCssVariable)(m.menuBackground),selectionForegroundColor:(0,m.asCssVariable)(m.menuSelectionForeground),selectionBackgroundColor:(0,m.asCssVariable)(m.menuSelectionBackground),selectionBorderColor:(0,m.asCssVariable)(m.menuSelectionBorder),separatorColor:(0,m.asCssVariable)(m.menuSeparatorBackground),scrollbarShadow:(0,m.asCssVariable)(m.scrollbarShadow),scrollbarSliderBackground:(0,m.asCssVariable)(m.scrollbarSliderBackground),scrollbarSliderHoverBackground:(0,m.asCssVariable)(m.scrollbarSliderHoverBackground),scrollbarSliderActiveBackground:(0,m.asCssVariable)(m.scrollbarSliderActiveBackground)}}),define(te[878],ie([1,0,6,337,340,246,76,2,50,73,712,8,35,172,106,169]),function(J,e,m,k,D,L,y,p,w,C,b,a,s,i,t,n){"use strict";var h;Object.defineProperty(e,"__esModule",{value:!0}),e.AccessibilityProvider=e.OneReferenceRenderer=e.FileReferencesRenderer=e.IdentityProvider=e.StringRepresentationProvider=e.Delegate=e.DataSource=void 0;let v=class{constructor(S){this._resolverService=S}hasChildren(S){return S instanceof n.ReferencesModel||S instanceof n.FileReferences}getChildren(S){if(S instanceof n.ReferencesModel)return S.groups;if(S instanceof n.FileReferences)return S.resolve(this._resolverService).then(I=>I.children);throw new Error("bad tree")}};e.DataSource=v,e.DataSource=v=Ie([he(0,C.ITextModelService)],v);class u{getHeight(){return 23}getTemplateId(S){return S instanceof n.FileReferences?o.id:c.id}}e.Delegate=u;let d=class{constructor(S){this._keybindingService=S}getKeyboardNavigationLabel(S){var I;if(S instanceof n.OneReference){const E=(I=S.parent.getPreview(S))===null||I===void 0?void 0:I.preview(S.range);if(E)return E.value}return(0,w.basename)(S.uri)}};e.StringRepresentationProvider=d,e.StringRepresentationProvider=d=Ie([he(0,s.IKeybindingService)],d);class r{getId(S){return S instanceof n.OneReference?S.id:S.uri}}e.IdentityProvider=r;let l=class extends p.Disposable{constructor(S,I){super(),this._labelService=I;const E=document.createElement("div");E.classList.add("reference-file"),this.file=this._register(new L.IconLabel(E,{supportHighlights:!0})),this.badge=new k.CountBadge(m.append(E,m.$(".count")),{},t.defaultCountBadgeStyles),S.appendChild(E)}set(S,I){const E=(0,w.dirname)(S.uri);this.file.setLabel(this._labelService.getUriBasenameLabel(S.uri),this._labelService.getUriLabel(E,{relative:!0}),{title:this._labelService.getUriLabel(S.uri),matches:I});const T=S.children.length;this.badge.setCount(T),T>1?this.badge.setTitleFormat((0,b.localize)(0,null,T)):this.badge.setTitleFormat((0,b.localize)(1,null,T))}};l=Ie([he(1,i.ILabelService)],l);let o=h=class{constructor(S){this._instantiationService=S,this.templateId=h.id}renderTemplate(S){return this._instantiationService.createInstance(l,S)}renderElement(S,I,E){E.set(S.element,(0,y.createMatches)(S.filterData))}disposeTemplate(S){S.dispose()}};e.FileReferencesRenderer=o,o.id="FileReferencesRenderer",e.FileReferencesRenderer=o=h=Ie([he(0,a.IInstantiationService)],o);class g extends p.Disposable{constructor(S){super(),this.label=this._register(new D.HighlightedLabel(S))}set(S,I){var E;const T=(E=S.parent.getPreview(S))===null||E===void 0?void 0:E.preview(S.range);if(!T||!T.value)this.label.set(`${(0,w.basename)(S.uri)}:${S.range.startLineNumber+1}:${S.range.startColumn+1}`);else{const{value:N,highlight:A}=T;I&&!y.FuzzyScore.isDefault(I)?(this.label.element.classList.toggle("referenceMatch",!1),this.label.set(N,(0,y.createMatches)(I))):(this.label.element.classList.toggle("referenceMatch",!0),this.label.set(N,[A]))}}}class c{constructor(){this.templateId=c.id}renderTemplate(S){return new g(S)}renderElement(S,I,E){E.set(S.element,S.filterData)}disposeTemplate(S){S.dispose()}}e.OneReferenceRenderer=c,c.id="OneReferenceRenderer";class f{getWidgetAriaLabel(){return(0,b.localize)(2,null)}getAriaLabel(S){return S.ariaMessage}}e.AccessibilityProvider=f}),define(te[879],ie([1,0,6,198,109,20,26,2,17,30,761,58,35,106,31,294]),function(J,e,m,k,D,L,y,p,w,C,b,a,s,i,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ActionList=e.previewSelectedActionCommand=e.acceptSelectedActionCommand=void 0,e.acceptSelectedActionCommand="acceptSelectedCodeAction",e.previewSelectedActionCommand="previewSelectedCodeAction";class n{get templateId(){return"header"}renderTemplate(g){g.classList.add("group-header");const c=document.createElement("span");return g.append(c),{container:g,text:c}}renderElement(g,c,f){var _,S;f.text.textContent=(S=(_=g.group)===null||_===void 0?void 0:_.title)!==null&&S!==void 0?S:""}disposeTemplate(g){}}let h=class{get templateId(){return"action"}constructor(g,c){this._supportsPreview=g,this._keybindingService=c}renderTemplate(g){g.classList.add(this.templateId);const c=document.createElement("div");c.className="icon",g.append(c);const f=document.createElement("span");f.className="title",g.append(f);const _=new k.KeybindingLabel(g,w.OS);return{container:g,icon:c,text:f,keybinding:_}}renderElement(g,c,f){var _,S,I;if(!((_=g.group)===null||_===void 0)&&_.icon?(f.icon.className=C.ThemeIcon.asClassName(g.group.icon),g.group.icon.color&&(f.icon.style.color=(0,t.asCssVariable)(g.group.icon.color.id))):(f.icon.className=C.ThemeIcon.asClassName(y.Codicon.lightBulb),f.icon.style.color="var(--vscode-editorLightBulb-foreground)"),!g.item||!g.label)return;f.text.textContent=l(g.label),f.keybinding.set(g.keybinding),m.setVisibility(!!g.keybinding,f.keybinding.element);const E=(S=this._keybindingService.lookupKeybinding(e.acceptSelectedActionCommand))===null||S===void 0?void 0:S.getLabel(),T=(I=this._keybindingService.lookupKeybinding(e.previewSelectedActionCommand))===null||I===void 0?void 0:I.getLabel();f.container.classList.toggle("option-disabled",g.disabled),g.disabled?f.container.title=g.label:E&&T?this._supportsPreview&&g.canPreview?f.container.title=(0,b.localize)(0,null,E,T):f.container.title=(0,b.localize)(1,null,E):f.container.title=""}disposeTemplate(g){g.keybinding.dispose()}};h=Ie([he(1,s.IKeybindingService)],h);class v extends UIEvent{constructor(){super("acceptSelectedAction")}}class u extends UIEvent{constructor(){super("previewSelectedAction")}}function d(o){if(o.kind==="action")return o.label}let r=class extends p.Disposable{constructor(g,c,f,_,S,I){super(),this._delegate=_,this._contextViewService=S,this._keybindingService=I,this._actionLineHeight=24,this._headerLineHeight=26,this.cts=this._register(new L.CancellationTokenSource),this.domNode=document.createElement("div"),this.domNode.classList.add("actionList");const E={getHeight:T=>T.kind==="header"?this._headerLineHeight:this._actionLineHeight,getTemplateId:T=>T.kind};this._list=this._register(new D.List(g,this.domNode,E,[new h(c,this._keybindingService),new n],{keyboardSupport:!1,typeNavigationEnabled:!0,keyboardNavigationLabelProvider:{getKeyboardNavigationLabel:d},accessibilityProvider:{getAriaLabel:T=>{if(T.kind==="action"){let N=T.label?l(T?.label):"";return T.disabled&&(N=(0,b.localize)(2,null,N,T.disabled)),N}return null},getWidgetAriaLabel:()=>(0,b.localize)(3,null),getRole:T=>T.kind==="action"?"option":"separator",getWidgetRole:()=>"listbox"}})),this._list.style(i.defaultListStyles),this._register(this._list.onMouseClick(T=>this.onListClick(T))),this._register(this._list.onMouseOver(T=>this.onListHover(T))),this._register(this._list.onDidChangeFocus(()=>this.onFocus())),this._register(this._list.onDidChangeSelection(T=>this.onListSelection(T))),this._allMenuItems=f,this._list.splice(0,this._list.length,this._allMenuItems),this._list.length&&this.focusNext()}focusCondition(g){return!g.disabled&&g.kind==="action"}hide(g){this._delegate.onHide(g),this.cts.cancel(),this._contextViewService.hideContextView()}layout(g){const c=this._allMenuItems.filter(T=>T.kind==="header").length,_=this._allMenuItems.length*this._actionLineHeight+c*this._headerLineHeight-c*this._actionLineHeight;this._list.layout(_);let S=g;if(this._allMenuItems.length>=50)S=380;else{const T=this._allMenuItems.map((N,A)=>{const O=this.domNode.ownerDocument.getElementById(this._list.getElementID(A));if(O){O.style.width="auto";const M=O.getBoundingClientRect().width;return O.style.width="",M}return 0});S=Math.max(...T,g)}const E=Math.min(_,this.domNode.ownerDocument.body.clientHeight*.7);return this._list.layout(E,S),this.domNode.style.height=`${E}px`,this._list.domFocus(),S}focusPrevious(){this._list.focusPrevious(1,!0,void 0,this.focusCondition)}focusNext(){this._list.focusNext(1,!0,void 0,this.focusCondition)}acceptSelected(g){const c=this._list.getFocus();if(c.length===0)return;const f=c[0],_=this._list.element(f);if(!this.focusCondition(_))return;const S=g?new u:new v;this._list.setSelection([f],S)}onListSelection(g){if(!g.elements.length)return;const c=g.elements[0];c.item&&this.focusCondition(c)?this._delegate.onSelect(c.item,g.browserEvent instanceof u):this._list.setSelection([])}onFocus(){var g,c;const f=this._list.getFocus();if(f.length===0)return;const _=f[0],S=this._list.element(_);(c=(g=this._delegate).onFocus)===null||c===void 0||c.call(g,S.item)}async onListHover(g){const c=g.element;if(c&&c.item&&this.focusCondition(c)){if(this._delegate.onHover&&!c.disabled&&c.kind==="action"){const f=await this._delegate.onHover(c.item,this.cts.token);c.canPreview=f?f.canPreview:void 0}g.index&&this._list.splice(g.index,1,[c])}this._list.setFocus(typeof g.index=="number"?[g.index]:[])}onListClick(g){g.element&&this.focusCondition(g.element)&&this._list.setFocus([])}};e.ActionList=r,e.ActionList=r=Ie([he(4,a.IContextViewService),he(5,s.IKeybindingService)],r);function l(o){return o.replace(/\r\n|\r|\n/g," ")}}),define(te[880],ie([1,0,6,81,2,762,879,28,14,58,46,8,31,294]),function(J,e,m,k,D,L,y,p,w,C,b,a,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IActionWidgetService=void 0,(0,s.registerColor)("actionBar.toggledBackground",{dark:s.inputActiveOptionBackground,light:s.inputActiveOptionBackground,hcDark:s.inputActiveOptionBackground,hcLight:s.inputActiveOptionBackground},(0,L.localize)(0,null));const i={Visible:new w.RawContextKey("codeActionMenuVisible",!1,(0,L.localize)(1,null))};e.IActionWidgetService=(0,a.createDecorator)("actionWidgetService");let t=class extends D.Disposable{get isVisible(){return i.Visible.getValue(this._contextKeyService)||!1}constructor(v,u,d){super(),this._contextViewService=v,this._contextKeyService=u,this._instantiationService=d,this._list=this._register(new D.MutableDisposable)}show(v,u,d,r,l,o,g){const c=i.Visible.bindTo(this._contextKeyService),f=this._instantiationService.createInstance(y.ActionList,v,u,d,r);this._contextViewService.showContextView({getAnchor:()=>l,render:_=>(c.set(!0),this._renderWidget(_,f,g??[])),onHide:_=>{c.reset(),this._onWidgetClosed(_)}},o,!1)}acceptSelected(v){var u;(u=this._list.value)===null||u===void 0||u.acceptSelected(v)}focusPrevious(){var v,u;(u=(v=this._list)===null||v===void 0?void 0:v.value)===null||u===void 0||u.focusPrevious()}focusNext(){var v,u;(u=(v=this._list)===null||v===void 0?void 0:v.value)===null||u===void 0||u.focusNext()}hide(){var v;(v=this._list.value)===null||v===void 0||v.hide(),this._list.clear()}_renderWidget(v,u,d){var r;const l=document.createElement("div");if(l.classList.add("action-widget"),v.appendChild(l),this._list.value=u,this._list.value)l.appendChild(this._list.value.domNode);else throw new Error("List has no value");const o=new D.DisposableStore,g=document.createElement("div"),c=v.appendChild(g);c.classList.add("context-view-block"),o.add(m.addDisposableListener(c,m.EventType.MOUSE_DOWN,T=>T.stopPropagation()));const f=document.createElement("div"),_=v.appendChild(f);_.classList.add("context-view-pointerBlock"),o.add(m.addDisposableListener(_,m.EventType.POINTER_MOVE,()=>_.remove())),o.add(m.addDisposableListener(_,m.EventType.MOUSE_DOWN,()=>_.remove()));let S=0;if(d.length){const T=this._createActionBar(".action-widget-action-bar",d);T&&(l.appendChild(T.getContainer().parentElement),o.add(T),S=T.getContainer().offsetWidth)}const I=(r=this._list.value)===null||r===void 0?void 0:r.layout(S);l.style.width=`${I}px`;const E=o.add(m.trackFocus(v));return o.add(E.onDidBlur(()=>this.hide())),o}_createActionBar(v,u){if(!u.length)return;const d=m.$(v),r=new k.ActionBar(d);return r.push(u,{icon:!1,label:!0}),r}_onWidgetClosed(v){var u;(u=this._list.value)===null||u===void 0||u.hide(v)}};t=Ie([he(0,C.IContextViewService),he(1,w.IContextKeyService),he(2,a.IInstantiationService)],t),(0,b.registerSingleton)(e.IActionWidgetService,t,1);const n=1100;(0,p.registerAction2)(class extends p.Action2{constructor(){super({id:"hideCodeActionWidget",title:(0,L.localize2)(2,"Hide action widget"),precondition:i.Visible,keybinding:{weight:n,primary:9,secondary:[1033]}})}run(h){h.get(e.IActionWidgetService).hide()}}),(0,p.registerAction2)(class extends p.Action2{constructor(){super({id:"selectPrevCodeAction",title:(0,L.localize2)(3,"Select previous action"),precondition:i.Visible,keybinding:{weight:n,primary:16,secondary:[2064],mac:{primary:16,secondary:[2064,302]}}})}run(h){const v=h.get(e.IActionWidgetService);v instanceof t&&v.focusPrevious()}}),(0,p.registerAction2)(class extends p.Action2{constructor(){super({id:"selectNextCodeAction",title:(0,L.localize2)(4,"Select next action"),precondition:i.Visible,keybinding:{weight:n,primary:18,secondary:[2066],mac:{primary:18,secondary:[2066,300]}}})}run(h){const v=h.get(e.IActionWidgetService);v instanceof t&&v.focusNext()}}),(0,p.registerAction2)(class extends p.Action2{constructor(){super({id:y.acceptSelectedActionCommand,title:(0,L.localize2)(5,"Accept selected action"),precondition:i.Visible,keybinding:{weight:n,primary:3,secondary:[2137]}})}run(h){const v=h.get(e.IActionWidgetService);v instanceof t&&v.acceptSelected()}}),(0,p.registerAction2)(class extends p.Action2{constructor(){super({id:y.previewSelectedActionCommand,title:(0,L.localize2)(6,"Preview selected action"),precondition:i.Visible,keybinding:{weight:n,primary:2051}})}run(h){const v=h.get(e.IActionWidgetService);v instanceof t&&v.acceptSelected(!0)}})}),define(te[881],ie([1,0,6,72,624,41,12,2,106]),function(J,e,m,k,D,L,y,p,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextMenuHandler=void 0;class C{constructor(a,s,i,t){this.contextViewService=a,this.telemetryService=s,this.notificationService=i,this.keybindingService=t,this.focusToReturn=null,this.lastContainer=null,this.block=null,this.blockDisposable=null,this.options={blockMouse:!0}}configure(a){this.options=a}showContextMenu(a){const s=a.getActions();if(!s.length)return;this.focusToReturn=(0,m.getActiveElement)();let i;const t=a.domForShadowRoot instanceof HTMLElement?a.domForShadowRoot:void 0;this.contextViewService.showContextView({getAnchor:()=>a.getAnchor(),canRelayout:!1,anchorAlignment:a.anchorAlignment,anchorAxisAlignment:a.anchorAxisAlignment,render:n=>{var h;this.lastContainer=n;const v=a.getMenuClassName?a.getMenuClassName():"";v&&(n.className+=" "+v),this.options.blockMouse&&(this.block=n.appendChild((0,m.$)(".context-view-block")),this.block.style.position="fixed",this.block.style.cursor="initial",this.block.style.left="0",this.block.style.top="0",this.block.style.width="100%",this.block.style.height="100%",this.block.style.zIndex="-1",(h=this.blockDisposable)===null||h===void 0||h.dispose(),this.blockDisposable=(0,m.addDisposableListener)(this.block,m.EventType.MOUSE_DOWN,l=>l.stopPropagation()));const u=new p.DisposableStore,d=a.actionRunner||new L.ActionRunner;d.onWillRun(l=>this.onActionRun(l,!a.skipTelemetry),this,u),d.onDidRun(this.onDidActionRun,this,u),i=new D.Menu(n,s,{actionViewItemProvider:a.getActionViewItem,context:a.getActionsContext?a.getActionsContext():null,actionRunner:d,getKeyBinding:a.getKeyBinding?a.getKeyBinding:l=>this.keybindingService.lookupKeybinding(l.id)},w.defaultMenuStyles),i.onDidCancel(()=>this.contextViewService.hideContextView(!0),null,u),i.onDidBlur(()=>this.contextViewService.hideContextView(!0),null,u);const r=(0,m.getWindow)(n);return u.add((0,m.addDisposableListener)(r,m.EventType.BLUR,()=>this.contextViewService.hideContextView(!0))),u.add((0,m.addDisposableListener)(r,m.EventType.MOUSE_DOWN,l=>{if(l.defaultPrevented)return;const o=new k.StandardMouseEvent(r,l);let g=o.target;if(!o.rightButton){for(;g;){if(g===n)return;g=g.parentElement}this.contextViewService.hideContextView(!0)}})),(0,p.combinedDisposable)(u,i)},focus:()=>{i?.focus(!!a.autoSelectFirstItem)},onHide:n=>{var h,v,u;(h=a.onHide)===null||h===void 0||h.call(a,!!n),this.block&&(this.block.remove(),this.block=null),(v=this.blockDisposable)===null||v===void 0||v.dispose(),this.blockDisposable=null,this.lastContainer&&((0,m.getActiveElement)()===this.lastContainer||(0,m.isAncestor)((0,m.getActiveElement)(),this.lastContainer))&&((u=this.focusToReturn)===null||u===void 0||u.focus()),this.lastContainer=null}},t,!!t)}onActionRun(a,s){s&&this.telemetryService.publicLog2("workbenchActionExecuted",{id:a.action.id,from:"contextMenu"}),this.contextViewService.hideContextView(!1)}onDidActionRun(a){a.error&&!(0,y.isCancellationError)(a.error)&&this.notificationService.error(a.error)}}e.ContextMenuHandler=C}),define(te[205],ie([1,0,6,621,109,625,167,629,628,343,7,2,773,25,105,14,201,58,8,35,39,106]),function(J,e,m,k,D,L,y,p,w,C,b,a,s,i,t,n,h,v,u,d,r,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WorkbenchCompressibleAsyncDataTree=e.WorkbenchAsyncDataTree=e.WorkbenchDataTree=e.WorkbenchCompressibleObjectTree=e.WorkbenchObjectTree=e.WorkbenchTable=e.WorkbenchPagedList=e.WorkbenchList=e.WorkbenchTreeFindOpen=e.WorkbenchTreeElementHasChild=e.WorkbenchTreeElementCanExpand=e.WorkbenchTreeElementHasParent=e.WorkbenchTreeElementCanCollapse=e.WorkbenchListSupportsFind=e.WorkbenchListSelectionNavigation=e.WorkbenchListMultiSelection=e.WorkbenchListDoubleSelection=e.WorkbenchListHasSelectionOrFocus=e.WorkbenchListFocusContextKey=e.WorkbenchListSupportsMultiSelectContextKey=e.WorkbenchTreeStickyScrollFocused=e.RawWorkbenchListFocusContextKey=e.WorkbenchListScrollAtBottomContextKey=e.WorkbenchListScrollAtTopContextKey=e.RawWorkbenchListScrollAtBoundaryContextKey=e.ListService=e.IListService=void 0,e.IListService=(0,u.createDecorator)("listService");class o{get lastFocusedList(){return this._lastFocusedWidget}constructor(){this.disposables=new a.DisposableStore,this.lists=[],this._lastFocusedWidget=void 0,this._hasCreatedStyleController=!1}setLastFocusedList(le){var me,ve;le!==this._lastFocusedWidget&&((me=this._lastFocusedWidget)===null||me===void 0||me.getHTMLElement().classList.remove("last-focused"),this._lastFocusedWidget=le,(ve=this._lastFocusedWidget)===null||ve===void 0||ve.getHTMLElement().classList.add("last-focused"))}register(le,me){if(this._hasCreatedStyleController||(this._hasCreatedStyleController=!0,new D.DefaultStyleController((0,m.createStyleSheet)(),"").style(l.defaultListStyles)),this.lists.some(Ce=>Ce.widget===le))throw new Error("Cannot register the same widget multiple times");const ve={widget:le,extraContextKeys:me};return this.lists.push(ve),(0,m.isActiveElement)(le.getHTMLElement())&&this.setLastFocusedList(le),(0,a.combinedDisposable)(le.onDidFocus(()=>this.setLastFocusedList(le)),(0,a.toDisposable)(()=>this.lists.splice(this.lists.indexOf(ve),1)),le.onDidDispose(()=>{this.lists=this.lists.filter(Ce=>Ce!==ve),this._lastFocusedWidget===le&&this.setLastFocusedList(void 0)}))}dispose(){this.disposables.dispose()}}e.ListService=o,e.RawWorkbenchListScrollAtBoundaryContextKey=new n.RawContextKey("listScrollAtBoundary","none"),e.WorkbenchListScrollAtTopContextKey=n.ContextKeyExpr.or(e.RawWorkbenchListScrollAtBoundaryContextKey.isEqualTo("top"),e.RawWorkbenchListScrollAtBoundaryContextKey.isEqualTo("both")),e.WorkbenchListScrollAtBottomContextKey=n.ContextKeyExpr.or(e.RawWorkbenchListScrollAtBoundaryContextKey.isEqualTo("bottom"),e.RawWorkbenchListScrollAtBoundaryContextKey.isEqualTo("both")),e.RawWorkbenchListFocusContextKey=new n.RawContextKey("listFocus",!0),e.WorkbenchTreeStickyScrollFocused=new n.RawContextKey("treestickyScrollFocused",!1),e.WorkbenchListSupportsMultiSelectContextKey=new n.RawContextKey("listSupportsMultiselect",!0),e.WorkbenchListFocusContextKey=n.ContextKeyExpr.and(e.RawWorkbenchListFocusContextKey,n.ContextKeyExpr.not(h.InputFocusedContextKey),e.WorkbenchTreeStickyScrollFocused.negate()),e.WorkbenchListHasSelectionOrFocus=new n.RawContextKey("listHasSelectionOrFocus",!1),e.WorkbenchListDoubleSelection=new n.RawContextKey("listDoubleSelection",!1),e.WorkbenchListMultiSelection=new n.RawContextKey("listMultiSelection",!1),e.WorkbenchListSelectionNavigation=new n.RawContextKey("listSelectionNavigation",!1),e.WorkbenchListSupportsFind=new n.RawContextKey("listSupportsFind",!0),e.WorkbenchTreeElementCanCollapse=new n.RawContextKey("treeElementCanCollapse",!1),e.WorkbenchTreeElementHasParent=new n.RawContextKey("treeElementHasParent",!1),e.WorkbenchTreeElementCanExpand=new n.RawContextKey("treeElementCanExpand",!1),e.WorkbenchTreeElementHasChild=new n.RawContextKey("treeElementHasChild",!1),e.WorkbenchTreeFindOpen=new n.RawContextKey("treeFindOpen",!1);const g="listTypeNavigationMode",c="listAutomaticKeyboardNavigation";function f(ce,le){const me=ce.createScoped(le.getHTMLElement());return e.RawWorkbenchListFocusContextKey.bindTo(me),me}function _(ce,le){const me=e.RawWorkbenchListScrollAtBoundaryContextKey.bindTo(ce),ve=()=>{const Ce=le.scrollTop===0,Se=le.scrollHeight-le.renderHeight-le.scrollTop<1;Ce&&Se?me.set("both"):Ce?me.set("top"):Se?me.set("bottom"):me.set("none")};return ve(),le.onDidScroll(ve)}const S="workbench.list.multiSelectModifier",I="workbench.list.openMode",E="workbench.list.horizontalScrolling",T="workbench.list.defaultFindMode",N="workbench.list.typeNavigationMode",A="workbench.list.keyboardNavigation",O="workbench.list.scrollByPage",M="workbench.list.defaultFindMatchType",P="workbench.tree.indent",x="workbench.tree.renderIndentGuides",R="workbench.list.smoothScrolling",B="workbench.list.mouseWheelScrollSensitivity",H="workbench.list.fastScrollSensitivity",V="workbench.tree.expandMode",q="workbench.tree.enableStickyScroll",K="workbench.tree.stickyScrollMaxItemCount";function U(ce){return ce.getValue(S)==="alt"}class $ extends a.Disposable{constructor(le){super(),this.configurationService=le,this.useAltAsMultipleSelectionModifier=U(le),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration(le=>{le.affectsConfiguration(S)&&(this.useAltAsMultipleSelectionModifier=U(this.configurationService))}))}isSelectionSingleChangeEvent(le){return this.useAltAsMultipleSelectionModifier?le.browserEvent.altKey:(0,D.isSelectionSingleChangeEvent)(le)}isSelectionRangeChangeEvent(le){return(0,D.isSelectionRangeChangeEvent)(le)}}function se(ce,le){var me;const ve=ce.get(i.IConfigurationService),Ce=ce.get(d.IKeybindingService),Se=new a.DisposableStore;return[{...le,keyboardNavigationDelegate:{mightProducePrintableCharacter(Le){return Ce.mightProducePrintableCharacter(Le)}},smoothScrolling:!!ve.getValue(R),mouseWheelScrollSensitivity:ve.getValue(B),fastScrollSensitivity:ve.getValue(H),multipleSelectionController:(me=le.multipleSelectionController)!==null&&me!==void 0?me:Se.add(new $(ve)),keyboardNavigationEventFilter:fe(Ce),scrollByPage:!!ve.getValue(O)},Se]}let F=class extends D.List{constructor(le,me,ve,Ce,Se,_e,Le,ke,Ae){const xe=typeof Se.horizontalScrolling<"u"?Se.horizontalScrolling:!!ke.getValue(E),[He,Be]=Ae.invokeFunction(se,Se);super(le,me,ve,Ce,{keyboardSupport:!1,...He,horizontalScrolling:xe}),this.disposables.add(Be),this.contextKeyService=f(_e,this),this.disposables.add(_(this.contextKeyService,this)),this.listSupportsMultiSelect=e.WorkbenchListSupportsMultiSelectContextKey.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(Se.multipleSelectionSupport!==!1),e.WorkbenchListSelectionNavigation.bindTo(this.contextKeyService).set(!!Se.selectionNavigation),this.listHasSelectionOrFocus=e.WorkbenchListHasSelectionOrFocus.bindTo(this.contextKeyService),this.listDoubleSelection=e.WorkbenchListDoubleSelection.bindTo(this.contextKeyService),this.listMultiSelection=e.WorkbenchListMultiSelection.bindTo(this.contextKeyService),this.horizontalScrolling=Se.horizontalScrolling,this._useAltAsMultipleSelectionModifier=U(ke),this.disposables.add(this.contextKeyService),this.disposables.add(Le.register(this)),this.updateStyles(Se.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{const Ne=this.getSelection(),pe=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(Ne.length>0||pe.length>0),this.listMultiSelection.set(Ne.length>1),this.listDoubleSelection.set(Ne.length===2)})})),this.disposables.add(this.onDidChangeFocus(()=>{const Ne=this.getSelection(),pe=this.getFocus();this.listHasSelectionOrFocus.set(Ne.length>0||pe.length>0)})),this.disposables.add(ke.onDidChangeConfiguration(Ne=>{Ne.affectsConfiguration(S)&&(this._useAltAsMultipleSelectionModifier=U(ke));let pe={};if(Ne.affectsConfiguration(E)&&this.horizontalScrolling===void 0){const be=!!ke.getValue(E);pe={...pe,horizontalScrolling:be}}if(Ne.affectsConfiguration(O)){const be=!!ke.getValue(O);pe={...pe,scrollByPage:be}}if(Ne.affectsConfiguration(R)){const be=!!ke.getValue(R);pe={...pe,smoothScrolling:be}}if(Ne.affectsConfiguration(B)){const be=ke.getValue(B);pe={...pe,mouseWheelScrollSensitivity:be}}if(Ne.affectsConfiguration(H)){const be=ke.getValue(H);pe={...pe,fastScrollSensitivity:be}}Object.keys(pe).length>0&&this.updateOptions(pe)})),this.navigator=new ae(this,{configurationService:ke,...Se}),this.disposables.add(this.navigator)}updateOptions(le){super.updateOptions(le),le.overrideStyles!==void 0&&this.updateStyles(le.overrideStyles),le.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!le.multipleSelectionSupport)}updateStyles(le){this.style(le?(0,l.getListStyles)(le):l.defaultListStyles)}};e.WorkbenchList=F,e.WorkbenchList=F=Ie([he(5,n.IContextKeyService),he(6,e.IListService),he(7,i.IConfigurationService),he(8,u.IInstantiationService)],F);let X=class extends k.PagedList{constructor(le,me,ve,Ce,Se,_e,Le,ke,Ae){const xe=typeof Se.horizontalScrolling<"u"?Se.horizontalScrolling:!!ke.getValue(E),[He,Be]=Ae.invokeFunction(se,Se);super(le,me,ve,Ce,{keyboardSupport:!1,...He,horizontalScrolling:xe}),this.disposables=new a.DisposableStore,this.disposables.add(Be),this.contextKeyService=f(_e,this),this.disposables.add(_(this.contextKeyService,this.widget)),this.horizontalScrolling=Se.horizontalScrolling,this.listSupportsMultiSelect=e.WorkbenchListSupportsMultiSelectContextKey.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(Se.multipleSelectionSupport!==!1),e.WorkbenchListSelectionNavigation.bindTo(this.contextKeyService).set(!!Se.selectionNavigation),this._useAltAsMultipleSelectionModifier=U(ke),this.disposables.add(this.contextKeyService),this.disposables.add(Le.register(this)),this.updateStyles(Se.overrideStyles),this.disposables.add(ke.onDidChangeConfiguration(Ne=>{Ne.affectsConfiguration(S)&&(this._useAltAsMultipleSelectionModifier=U(ke));let pe={};if(Ne.affectsConfiguration(E)&&this.horizontalScrolling===void 0){const be=!!ke.getValue(E);pe={...pe,horizontalScrolling:be}}if(Ne.affectsConfiguration(O)){const be=!!ke.getValue(O);pe={...pe,scrollByPage:be}}if(Ne.affectsConfiguration(R)){const be=!!ke.getValue(R);pe={...pe,smoothScrolling:be}}if(Ne.affectsConfiguration(B)){const be=ke.getValue(B);pe={...pe,mouseWheelScrollSensitivity:be}}if(Ne.affectsConfiguration(H)){const be=ke.getValue(H);pe={...pe,fastScrollSensitivity:be}}Object.keys(pe).length>0&&this.updateOptions(pe)})),this.navigator=new ae(this,{configurationService:ke,...Se}),this.disposables.add(this.navigator)}updateOptions(le){super.updateOptions(le),le.overrideStyles!==void 0&&this.updateStyles(le.overrideStyles),le.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!le.multipleSelectionSupport)}updateStyles(le){this.style(le?(0,l.getListStyles)(le):l.defaultListStyles)}dispose(){this.disposables.dispose(),super.dispose()}};e.WorkbenchPagedList=X,e.WorkbenchPagedList=X=Ie([he(5,n.IContextKeyService),he(6,e.IListService),he(7,i.IConfigurationService),he(8,u.IInstantiationService)],X);let Q=class extends L.Table{constructor(le,me,ve,Ce,Se,_e,Le,ke,Ae,xe){const He=typeof _e.horizontalScrolling<"u"?_e.horizontalScrolling:!!Ae.getValue(E),[Be,Ee]=xe.invokeFunction(se,_e);super(le,me,ve,Ce,Se,{keyboardSupport:!1,...Be,horizontalScrolling:He}),this.disposables.add(Ee),this.contextKeyService=f(Le,this),this.disposables.add(_(this.contextKeyService,this)),this.listSupportsMultiSelect=e.WorkbenchListSupportsMultiSelectContextKey.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(_e.multipleSelectionSupport!==!1),e.WorkbenchListSelectionNavigation.bindTo(this.contextKeyService).set(!!_e.selectionNavigation),this.listHasSelectionOrFocus=e.WorkbenchListHasSelectionOrFocus.bindTo(this.contextKeyService),this.listDoubleSelection=e.WorkbenchListDoubleSelection.bindTo(this.contextKeyService),this.listMultiSelection=e.WorkbenchListMultiSelection.bindTo(this.contextKeyService),this.horizontalScrolling=_e.horizontalScrolling,this._useAltAsMultipleSelectionModifier=U(Ae),this.disposables.add(this.contextKeyService),this.disposables.add(ke.register(this)),this.updateStyles(_e.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{const pe=this.getSelection(),be=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(pe.length>0||be.length>0),this.listMultiSelection.set(pe.length>1),this.listDoubleSelection.set(pe.length===2)})})),this.disposables.add(this.onDidChangeFocus(()=>{const pe=this.getSelection(),be=this.getFocus();this.listHasSelectionOrFocus.set(pe.length>0||be.length>0)})),this.disposables.add(Ae.onDidChangeConfiguration(pe=>{pe.affectsConfiguration(S)&&(this._useAltAsMultipleSelectionModifier=U(Ae));let be={};if(pe.affectsConfiguration(E)&&this.horizontalScrolling===void 0){const Re=!!Ae.getValue(E);be={...be,horizontalScrolling:Re}}if(pe.affectsConfiguration(O)){const Re=!!Ae.getValue(O);be={...be,scrollByPage:Re}}if(pe.affectsConfiguration(R)){const Re=!!Ae.getValue(R);be={...be,smoothScrolling:Re}}if(pe.affectsConfiguration(B)){const Re=Ae.getValue(B);be={...be,mouseWheelScrollSensitivity:Re}}if(pe.affectsConfiguration(H)){const Re=Ae.getValue(H);be={...be,fastScrollSensitivity:Re}}Object.keys(be).length>0&&this.updateOptions(be)})),this.navigator=new ue(this,{configurationService:Ae,..._e}),this.disposables.add(this.navigator)}updateOptions(le){super.updateOptions(le),le.overrideStyles!==void 0&&this.updateStyles(le.overrideStyles),le.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!le.multipleSelectionSupport)}updateStyles(le){this.style(le?(0,l.getListStyles)(le):l.defaultListStyles)}dispose(){this.disposables.dispose(),super.dispose()}};e.WorkbenchTable=Q,e.WorkbenchTable=Q=Ie([he(6,n.IContextKeyService),he(7,e.IListService),he(8,i.IConfigurationService),he(9,u.IInstantiationService)],Q);class Z extends a.Disposable{constructor(le,me){var ve;super(),this.widget=le,this._onDidOpen=this._register(new b.Emitter),this.onDidOpen=this._onDidOpen.event,this._register(b.Event.filter(this.widget.onDidChangeSelection,Ce=>(0,m.isKeyboardEvent)(Ce.browserEvent))(Ce=>this.onSelectionFromKeyboard(Ce))),this._register(this.widget.onPointer(Ce=>this.onPointer(Ce.element,Ce.browserEvent))),this._register(this.widget.onMouseDblClick(Ce=>this.onMouseDblClick(Ce.element,Ce.browserEvent))),typeof me?.openOnSingleClick!="boolean"&&me?.configurationService?(this.openOnSingleClick=me?.configurationService.getValue(I)!=="doubleClick",this._register(me?.configurationService.onDidChangeConfiguration(Ce=>{Ce.affectsConfiguration(I)&&(this.openOnSingleClick=me?.configurationService.getValue(I)!=="doubleClick")}))):this.openOnSingleClick=(ve=me?.openOnSingleClick)!==null&&ve!==void 0?ve:!0}onSelectionFromKeyboard(le){if(le.elements.length!==1)return;const me=le.browserEvent,ve=typeof me.preserveFocus=="boolean"?me.preserveFocus:!0,Ce=typeof me.pinned=="boolean"?me.pinned:!ve;this._open(this.getSelectedElement(),ve,Ce,!1,le.browserEvent)}onPointer(le,me){if(!this.openOnSingleClick||me.detail===2)return;const Ce=me.button===1,Se=!0,_e=Ce,Le=me.ctrlKey||me.metaKey||me.altKey;this._open(le,Se,_e,Le,me)}onMouseDblClick(le,me){if(!me)return;const ve=me.target;if(ve.classList.contains("monaco-tl-twistie")||ve.classList.contains("monaco-icon-label")&&ve.classList.contains("folder-icon")&&me.offsetX<16)return;const Se=!1,_e=!0,Le=me.ctrlKey||me.metaKey||me.altKey;this._open(le,Se,_e,Le,me)}_open(le,me,ve,Ce,Se){le&&this._onDidOpen.fire({editorOptions:{preserveFocus:me,pinned:ve,revealIfVisible:!0},sideBySide:Ce,element:le,browserEvent:Se})}}class ae extends Z{constructor(le,me){super(le,me),this.widget=le}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class ue extends Z{constructor(le,me){super(le,me)}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class ge extends Z{constructor(le,me){super(le,me)}getSelectedElement(){var le;return(le=this.widget.getSelection()[0])!==null&&le!==void 0?le:void 0}}function fe(ce){let le=!1;return me=>{if(me.toKeyCodeChord().isModifierKey())return!1;if(le)return le=!1,!1;const ve=ce.softDispatch(me,me.target);return ve.kind===1?(le=!0,!1):(le=!1,ve.kind===0)}}let re=class extends C.ObjectTree{constructor(le,me,ve,Ce,Se,_e,Le,ke,Ae){const{options:xe,getTypeNavigationMode:He,disposable:Be}=_e.invokeFunction(G,Se);super(le,me,ve,Ce,xe),this.disposables.add(Be),this.internals=new oe(this,Se,He,Se.overrideStyles,Le,ke,Ae),this.disposables.add(this.internals)}updateOptions(le){super.updateOptions(le),this.internals.updateOptions(le)}};e.WorkbenchObjectTree=re,e.WorkbenchObjectTree=re=Ie([he(5,u.IInstantiationService),he(6,n.IContextKeyService),he(7,e.IListService),he(8,i.IConfigurationService)],re);let de=class extends C.CompressibleObjectTree{constructor(le,me,ve,Ce,Se,_e,Le,ke,Ae){const{options:xe,getTypeNavigationMode:He,disposable:Be}=_e.invokeFunction(G,Se);super(le,me,ve,Ce,xe),this.disposables.add(Be),this.internals=new oe(this,Se,He,Se.overrideStyles,Le,ke,Ae),this.disposables.add(this.internals)}updateOptions(le={}){super.updateOptions(le),le.overrideStyles&&this.internals.updateStyleOverrides(le.overrideStyles),this.internals.updateOptions(le)}};e.WorkbenchCompressibleObjectTree=de,e.WorkbenchCompressibleObjectTree=de=Ie([he(5,u.IInstantiationService),he(6,n.IContextKeyService),he(7,e.IListService),he(8,i.IConfigurationService)],de);let ee=class extends w.DataTree{constructor(le,me,ve,Ce,Se,_e,Le,ke,Ae,xe){const{options:He,getTypeNavigationMode:Be,disposable:Ee}=Le.invokeFunction(G,_e);super(le,me,ve,Ce,Se,He),this.disposables.add(Ee),this.internals=new oe(this,_e,Be,_e.overrideStyles,ke,Ae,xe),this.disposables.add(this.internals)}updateOptions(le={}){super.updateOptions(le),le.overrideStyles!==void 0&&this.internals.updateStyleOverrides(le.overrideStyles),this.internals.updateOptions(le)}};e.WorkbenchDataTree=ee,e.WorkbenchDataTree=ee=Ie([he(6,u.IInstantiationService),he(7,n.IContextKeyService),he(8,e.IListService),he(9,i.IConfigurationService)],ee);let W=class extends p.AsyncDataTree{get onDidOpen(){return this.internals.onDidOpen}constructor(le,me,ve,Ce,Se,_e,Le,ke,Ae,xe){const{options:He,getTypeNavigationMode:Be,disposable:Ee}=Le.invokeFunction(G,_e);super(le,me,ve,Ce,Se,He),this.disposables.add(Ee),this.internals=new oe(this,_e,Be,_e.overrideStyles,ke,Ae,xe),this.disposables.add(this.internals)}updateOptions(le={}){super.updateOptions(le),le.overrideStyles&&this.internals.updateStyleOverrides(le.overrideStyles),this.internals.updateOptions(le)}};e.WorkbenchAsyncDataTree=W,e.WorkbenchAsyncDataTree=W=Ie([he(6,u.IInstantiationService),he(7,n.IContextKeyService),he(8,e.IListService),he(9,i.IConfigurationService)],W);let z=class extends p.CompressibleAsyncDataTree{constructor(le,me,ve,Ce,Se,_e,Le,ke,Ae,xe,He){const{options:Be,getTypeNavigationMode:Ee,disposable:Ne}=ke.invokeFunction(G,Le);super(le,me,ve,Ce,Se,_e,Be),this.disposables.add(Ne),this.internals=new oe(this,Le,Ee,Le.overrideStyles,Ae,xe,He),this.disposables.add(this.internals)}updateOptions(le){super.updateOptions(le),this.internals.updateOptions(le)}};e.WorkbenchCompressibleAsyncDataTree=z,e.WorkbenchCompressibleAsyncDataTree=z=Ie([he(7,u.IInstantiationService),he(8,n.IContextKeyService),he(9,e.IListService),he(10,i.IConfigurationService)],z);function Y(ce){const le=ce.getValue(T);if(le==="highlight")return y.TreeFindMode.Highlight;if(le==="filter")return y.TreeFindMode.Filter;const me=ce.getValue(A);if(me==="simple"||me==="highlight")return y.TreeFindMode.Highlight;if(me==="filter")return y.TreeFindMode.Filter}function j(ce){const le=ce.getValue(M);if(le==="fuzzy")return y.TreeFindMatchType.Fuzzy;if(le==="contiguous")return y.TreeFindMatchType.Contiguous}function G(ce,le){var me;const ve=ce.get(i.IConfigurationService),Ce=ce.get(v.IContextViewService),Se=ce.get(n.IContextKeyService),_e=ce.get(u.IInstantiationService),Le=()=>{const Ee=Se.getContextKeyValue(g);if(Ee==="automatic")return D.TypeNavigationMode.Automatic;if(Ee==="trigger"||Se.getContextKeyValue(c)===!1)return D.TypeNavigationMode.Trigger;const pe=ve.getValue(N);if(pe==="automatic")return D.TypeNavigationMode.Automatic;if(pe==="trigger")return D.TypeNavigationMode.Trigger},ke=le.horizontalScrolling!==void 0?le.horizontalScrolling:!!ve.getValue(E),[Ae,xe]=_e.invokeFunction(se,le),He=le.paddingBottom,Be=le.renderIndentGuides!==void 0?le.renderIndentGuides:ve.getValue(x);return{getTypeNavigationMode:Le,disposable:xe,options:{keyboardSupport:!1,...Ae,indent:typeof ve.getValue(P)=="number"?ve.getValue(P):void 0,renderIndentGuides:Be,smoothScrolling:!!ve.getValue(R),defaultFindMode:Y(ve),defaultFindMatchType:j(ve),horizontalScrolling:ke,scrollByPage:!!ve.getValue(O),paddingBottom:He,hideTwistiesOfChildlessElements:le.hideTwistiesOfChildlessElements,expandOnlyOnTwistieClick:(me=le.expandOnlyOnTwistieClick)!==null&&me!==void 0?me:ve.getValue(V)==="doubleClick",contextViewProvider:Ce,findWidgetStyles:l.defaultFindWidgetStyles,enableStickyScroll:!!ve.getValue(q),stickyScrollMaxItemCount:Number(ve.getValue(K))}}}let oe=class{get onDidOpen(){return this.navigator.onDidOpen}constructor(le,me,ve,Ce,Se,_e,Le){var ke;this.tree=le,this.disposables=[],this.contextKeyService=f(Se,le),this.disposables.push(_(this.contextKeyService,le)),this.listSupportsMultiSelect=e.WorkbenchListSupportsMultiSelectContextKey.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(me.multipleSelectionSupport!==!1),e.WorkbenchListSelectionNavigation.bindTo(this.contextKeyService).set(!!me.selectionNavigation),this.listSupportFindWidget=e.WorkbenchListSupportsFind.bindTo(this.contextKeyService),this.listSupportFindWidget.set((ke=me.findWidgetEnabled)!==null&&ke!==void 0?ke:!0),this.hasSelectionOrFocus=e.WorkbenchListHasSelectionOrFocus.bindTo(this.contextKeyService),this.hasDoubleSelection=e.WorkbenchListDoubleSelection.bindTo(this.contextKeyService),this.hasMultiSelection=e.WorkbenchListMultiSelection.bindTo(this.contextKeyService),this.treeElementCanCollapse=e.WorkbenchTreeElementCanCollapse.bindTo(this.contextKeyService),this.treeElementHasParent=e.WorkbenchTreeElementHasParent.bindTo(this.contextKeyService),this.treeElementCanExpand=e.WorkbenchTreeElementCanExpand.bindTo(this.contextKeyService),this.treeElementHasChild=e.WorkbenchTreeElementHasChild.bindTo(this.contextKeyService),this.treeFindOpen=e.WorkbenchTreeFindOpen.bindTo(this.contextKeyService),this.treeStickyScrollFocused=e.WorkbenchTreeStickyScrollFocused.bindTo(this.contextKeyService),this._useAltAsMultipleSelectionModifier=U(Le),this.updateStyleOverrides(Ce);const xe=()=>{const Be=le.getFocus()[0];if(!Be)return;const Ee=le.getNode(Be);this.treeElementCanCollapse.set(Ee.collapsible&&!Ee.collapsed),this.treeElementHasParent.set(!!le.getParentElement(Be)),this.treeElementCanExpand.set(Ee.collapsible&&Ee.collapsed),this.treeElementHasChild.set(!!le.getFirstElementChild(Be))},He=new Set;He.add(g),He.add(c),this.disposables.push(this.contextKeyService,_e.register(le),le.onDidChangeSelection(()=>{const Be=le.getSelection(),Ee=le.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.hasSelectionOrFocus.set(Be.length>0||Ee.length>0),this.hasMultiSelection.set(Be.length>1),this.hasDoubleSelection.set(Be.length===2)})}),le.onDidChangeFocus(()=>{const Be=le.getSelection(),Ee=le.getFocus();this.hasSelectionOrFocus.set(Be.length>0||Ee.length>0),xe()}),le.onDidChangeCollapseState(xe),le.onDidChangeModel(xe),le.onDidChangeFindOpenState(Be=>this.treeFindOpen.set(Be)),le.onDidChangeStickyScrollFocused(Be=>this.treeStickyScrollFocused.set(Be)),Le.onDidChangeConfiguration(Be=>{let Ee={};if(Be.affectsConfiguration(S)&&(this._useAltAsMultipleSelectionModifier=U(Le)),Be.affectsConfiguration(P)){const Ne=Le.getValue(P);Ee={...Ee,indent:Ne}}if(Be.affectsConfiguration(x)&&me.renderIndentGuides===void 0){const Ne=Le.getValue(x);Ee={...Ee,renderIndentGuides:Ne}}if(Be.affectsConfiguration(R)){const Ne=!!Le.getValue(R);Ee={...Ee,smoothScrolling:Ne}}if(Be.affectsConfiguration(T)||Be.affectsConfiguration(A)){const Ne=Y(Le);Ee={...Ee,defaultFindMode:Ne}}if(Be.affectsConfiguration(N)||Be.affectsConfiguration(A)){const Ne=ve();Ee={...Ee,typeNavigationMode:Ne}}if(Be.affectsConfiguration(M)){const Ne=j(Le);Ee={...Ee,defaultFindMatchType:Ne}}if(Be.affectsConfiguration(E)&&me.horizontalScrolling===void 0){const Ne=!!Le.getValue(E);Ee={...Ee,horizontalScrolling:Ne}}if(Be.affectsConfiguration(O)){const Ne=!!Le.getValue(O);Ee={...Ee,scrollByPage:Ne}}if(Be.affectsConfiguration(V)&&me.expandOnlyOnTwistieClick===void 0&&(Ee={...Ee,expandOnlyOnTwistieClick:Le.getValue(V)==="doubleClick"}),Be.affectsConfiguration(q)){const Ne=Le.getValue(q);Ee={...Ee,enableStickyScroll:Ne}}if(Be.affectsConfiguration(K)){const Ne=Math.max(1,Le.getValue(K));Ee={...Ee,stickyScrollMaxItemCount:Ne}}if(Be.affectsConfiguration(B)){const Ne=Le.getValue(B);Ee={...Ee,mouseWheelScrollSensitivity:Ne}}if(Be.affectsConfiguration(H)){const Ne=Le.getValue(H);Ee={...Ee,fastScrollSensitivity:Ne}}Object.keys(Ee).length>0&&le.updateOptions(Ee)}),this.contextKeyService.onDidChangeContext(Be=>{Be.affectsSome(He)&&le.updateOptions({typeNavigationMode:ve()})})),this.navigator=new ge(le,{configurationService:Le,...me}),this.disposables.push(this.navigator)}updateOptions(le){le.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!le.multipleSelectionSupport)}updateStyleOverrides(le){this.tree.style(le?(0,l.getListStyles)(le):l.defaultListStyles)}dispose(){this.disposables=(0,a.dispose)(this.disposables)}};oe=Ie([he(4,n.IContextKeyService),he(5,e.IListService),he(6,i.IConfigurationService)],oe),r.Registry.as(t.Extensions.Configuration).registerConfiguration({id:"workbench",order:7,title:(0,s.localize)(0,null),type:"object",properties:{[S]:{type:"string",enum:["ctrlCmd","alt"],markdownEnumDescriptions:[(0,s.localize)(1,null),(0,s.localize)(2,null)],default:"ctrlCmd",description:(0,s.localize)(3,null)},[I]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:(0,s.localize)(4,null)},[E]:{type:"boolean",default:!1,description:(0,s.localize)(5,null)},[O]:{type:"boolean",default:!1,description:(0,s.localize)(6,null)},[P]:{type:"number",default:8,minimum:4,maximum:40,description:(0,s.localize)(7,null)},[x]:{type:"string",enum:["none","onHover","always"],default:"onHover",description:(0,s.localize)(8,null)},[R]:{type:"boolean",default:!1,description:(0,s.localize)(9,null)},[B]:{type:"number",default:1,markdownDescription:(0,s.localize)(10,null)},[H]:{type:"number",default:5,markdownDescription:(0,s.localize)(11,null)},[T]:{type:"string",enum:["highlight","filter"],enumDescriptions:[(0,s.localize)(12,null),(0,s.localize)(13,null)],default:"highlight",description:(0,s.localize)(14,null)},[A]:{type:"string",enum:["simple","highlight","filter"],enumDescriptions:[(0,s.localize)(15,null),(0,s.localize)(16,null),(0,s.localize)(17,null)],default:"highlight",description:(0,s.localize)(18,null),deprecated:!0,deprecationMessage:(0,s.localize)(19,null)},[M]:{type:"string",enum:["fuzzy","contiguous"],enumDescriptions:[(0,s.localize)(20,null),(0,s.localize)(21,null)],default:"fuzzy",description:(0,s.localize)(22,null)},[V]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:(0,s.localize)(23,null)},[q]:{type:"boolean",default:!0,description:(0,s.localize)(24,null)},[K]:{type:"number",minimum:1,default:7,markdownDescription:(0,s.localize)(25,null)},[N]:{type:"string",enum:["automatic","trigger"],default:"automatic",markdownDescription:(0,s.localize)(26,null)}}})}),define(te[85],ie([1,0,15,26,183,30,7,21,22,791,259,39]),function(J,e,m,k,D,L,y,p,w,C,b,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.spinningLoading=e.syncing=e.gotoNextLocation=e.gotoPreviousLocation=e.widgetClose=e.iconsSchemaId=e.IconFontDefinition=e.IconContribution=e.Extensions=void 0,e.registerIcon=h,e.getIconRegistry=v,e.Extensions={IconContribution:"base.contributions.icons"};var s;(function(l){function o(g,c){let f=g.defaults;for(;L.ThemeIcon.isThemeIcon(f);){const _=n.getIcon(f.id);if(!_)return;f=_.defaults}return f}l.getDefinition=o})(s||(e.IconContribution=s={}));var i;(function(l){function o(c){return{weight:c.weight,style:c.style,src:c.src.map(f=>({format:f.format,location:f.location.toString()}))}}l.toJSONObject=o;function g(c){const f=_=>(0,p.isString)(_)?_:void 0;if(c&&Array.isArray(c.src)&&c.src.every(_=>(0,p.isString)(_.format)&&(0,p.isString)(_.location)))return{weight:f(c.weight),style:f(c.style),src:c.src.map(_=>({format:_.format,location:w.URI.parse(_.location)}))}}l.fromJSONObject=g})(i||(e.IconFontDefinition=i={}));class t{constructor(){this._onDidChange=new y.Emitter,this.onDidChange=this._onDidChange.event,this.iconSchema={definitions:{icons:{type:"object",properties:{fontId:{type:"string",description:(0,C.localize)(0,null)},fontCharacter:{type:"string",description:(0,C.localize)(1,null)}},additionalProperties:!1,defaultSnippets:[{body:{fontCharacter:"\\\\e030"}}]}},type:"object",properties:{}},this.iconReferenceSchema={type:"string",pattern:`^${L.ThemeIcon.iconNameExpression}$`,enum:[],enumDescriptions:[]},this.iconsById={},this.iconFontsById={}}registerIcon(o,g,c,f){const _=this.iconsById[o];if(_){if(c&&!_.description){_.description=c,this.iconSchema.properties[o].markdownDescription=`${c} $(${o})`;const E=this.iconReferenceSchema.enum.indexOf(o);E!==-1&&(this.iconReferenceSchema.enumDescriptions[E]=c),this._onDidChange.fire()}return _}const S={id:o,description:c,defaults:g,deprecationMessage:f};this.iconsById[o]=S;const I={$ref:"#/definitions/icons"};return f&&(I.deprecationMessage=f),c&&(I.markdownDescription=`${c}: $(${o})`),this.iconSchema.properties[o]=I,this.iconReferenceSchema.enum.push(o),this.iconReferenceSchema.enumDescriptions.push(c||""),this._onDidChange.fire(),{id:o}}getIcons(){return Object.keys(this.iconsById).map(o=>this.iconsById[o])}getIcon(o){return this.iconsById[o]}getIconSchema(){return this.iconSchema}toString(){const o=(_,S)=>_.id.localeCompare(S.id),g=_=>{for(;L.ThemeIcon.isThemeIcon(_.defaults);)_=this.iconsById[_.defaults.id];return`codicon codicon-${_?_.id:""}`},c=[];c.push("| preview     | identifier                        | default codicon ID                | description"),c.push("| ----------- | --------------------------------- | --------------------------------- | --------------------------------- |");const f=Object.keys(this.iconsById).map(_=>this.iconsById[_]);for(const _ of f.filter(S=>!!S.description).sort(o))c.push(`|<i class="${g(_)}"></i>|${_.id}|${L.ThemeIcon.isThemeIcon(_.defaults)?_.defaults.id:_.id}|${_.description||""}|`);c.push("| preview     | identifier                        "),c.push("| ----------- | --------------------------------- |");for(const _ of f.filter(S=>!L.ThemeIcon.isThemeIcon(S.defaults)).sort(o))c.push(`|<i class="${g(_)}"></i>|${_.id}|`);return c.join(`
`)}}const n=new t;a.Registry.add(e.Extensions.IconContribution,n);function h(l,o,g,c){return n.registerIcon(l,o,g,c)}function v(){return n}function u(){const l=(0,D.getCodiconFontCharacters)();for(const o in l){const g="\\"+l[o].toString(16);n.registerIcon(o,{fontCharacter:g})}}u(),e.iconsSchemaId="vscode://schemas/icons";const d=a.Registry.as(b.Extensions.JSONContribution);d.registerSchema(e.iconsSchemaId,n.getIconSchema());const r=new m.RunOnceScheduler(()=>d.notifySchemaChanged(e.iconsSchemaId),200);n.onDidChange(()=>{r.isScheduled()||r.schedule()}),e.widgetClose=h("widget-close",k.Codicon.close,(0,C.localize)(2,null)),e.gotoPreviousLocation=h("goto-previous-location",k.Codicon.arrowUp,(0,C.localize)(3,null)),e.gotoNextLocation=h("goto-next-location",k.Codicon.arrowDown,(0,C.localize)(4,null)),e.syncing=L.ThemeIcon.modify(k.Codicon.sync,"spin"),e.spinningLoading=L.ThemeIcon.modify(k.Codicon.loading,"spin")}),define(te[882],ie([1,0,6,98,81,79,41,13,26,2,32,30,70,82,38,60,64,9,5,100,42,102,129,90,652,130,8,85,470]),function(J,e,m,k,D,L,y,p,w,C,b,a,s,i,t,n,h,v,u,d,r,l,o,g,c,f,_,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AccessibleDiffViewerModelFromEditors=e.AccessibleDiffViewer=void 0;const I=(0,S.registerIcon)("diff-review-insert",w.Codicon.add,(0,c.localize)(0,null)),E=(0,S.registerIcon)("diff-review-remove",w.Codicon.remove,(0,c.localize)(1,null)),T=(0,S.registerIcon)("diff-review-close",w.Codicon.close,(0,c.localize)(2,null));let N=class extends C.Disposable{constructor($,se,F,X,Q,Z,ae,ue,ge){super(),this._parentNode=$,this._visible=se,this._setVisible=F,this._canClose=X,this._width=Q,this._height=Z,this._diffs=ae,this._models=ue,this._instantiationService=ge,this._state=(0,b.derivedWithStore)(this,(fe,re)=>{const de=this._visible.read(fe);if(this._parentNode.style.visibility=de?"visible":"hidden",!de)return null;const ee=re.add(this._instantiationService.createInstance(A,this._diffs,this._models,this._setVisible,this._canClose)),W=re.add(this._instantiationService.createInstance(q,this._parentNode,ee,this._width,this._height,this._models));return{model:ee,view:W}}).recomputeInitiallyAndOnChange(this._store)}next(){(0,b.transaction)($=>{const se=this._visible.get();this._setVisible(!0,$),se&&this._state.get().model.nextGroup($)})}prev(){(0,b.transaction)($=>{this._setVisible(!0,$),this._state.get().model.previousGroup($)})}close(){(0,b.transaction)($=>{this._setVisible(!1,$)})}};e.AccessibleDiffViewer=N,N._ttPolicy=(0,k.createTrustedTypesPolicy)("diffReview",{createHTML:U=>U}),e.AccessibleDiffViewer=N=Ie([he(8,_.IInstantiationService)],N);let A=class extends C.Disposable{constructor($,se,F,X,Q){super(),this._diffs=$,this._models=se,this._setVisible=F,this.canClose=X,this._accessibilitySignalService=Q,this._groups=(0,b.observableValue)(this,[]),this._currentGroupIdx=(0,b.observableValue)(this,0),this._currentElementIdx=(0,b.observableValue)(this,0),this.groups=this._groups,this.currentGroup=this._currentGroupIdx.map((Z,ae)=>this._groups.read(ae)[Z]),this.currentGroupIndex=this._currentGroupIdx,this.currentElement=this._currentElementIdx.map((Z,ae)=>{var ue;return(ue=this.currentGroup.read(ae))===null||ue===void 0?void 0:ue.lines[Z]}),this._register((0,b.autorun)(Z=>{const ae=this._diffs.read(Z);if(!ae){this._groups.set([],void 0);return}const ue=M(ae,this._models.getOriginalModel().getLineCount(),this._models.getModifiedModel().getLineCount());(0,b.transaction)(ge=>{const fe=this._models.getModifiedPosition();if(fe){const re=ue.findIndex(de=>fe?.lineNumber<de.range.modified.endLineNumberExclusive);re!==-1&&this._currentGroupIdx.set(re,ge)}this._groups.set(ue,ge)})})),this._register((0,b.autorun)(Z=>{const ae=this.currentElement.read(Z);ae?.type===P.Deleted?this._accessibilitySignalService.playSignal(f.AccessibilitySignal.diffLineDeleted,{source:"accessibleDiffViewer.currentElementChanged"}):ae?.type===P.Added&&this._accessibilitySignalService.playSignal(f.AccessibilitySignal.diffLineInserted,{source:"accessibleDiffViewer.currentElementChanged"})})),this._register((0,b.autorun)(Z=>{var ae;const ue=this.currentElement.read(Z);if(ue&&ue.type!==P.Header){const ge=(ae=ue.modifiedLineNumber)!==null&&ae!==void 0?ae:ue.diff.modified.startLineNumber;this._models.modifiedSetSelection(u.Range.fromPositions(new v.Position(ge,1)))}}))}_goToGroupDelta($,se){const F=this.groups.get();!F||F.length<=1||(0,b.subtransaction)(se,X=>{this._currentGroupIdx.set(h.OffsetRange.ofLength(F.length).clipCyclic(this._currentGroupIdx.get()+$),X),this._currentElementIdx.set(0,X)})}nextGroup($){this._goToGroupDelta(1,$)}previousGroup($){this._goToGroupDelta(-1,$)}_goToLineDelta($){const se=this.currentGroup.get();!se||se.lines.length<=1||(0,b.transaction)(F=>{this._currentElementIdx.set(h.OffsetRange.ofLength(se.lines.length).clip(this._currentElementIdx.get()+$),F)})}goToNextLine(){this._goToLineDelta(1)}goToPreviousLine(){this._goToLineDelta(-1)}goToLine($){const se=this.currentGroup.get();if(!se)return;const F=se.lines.indexOf($);F!==-1&&(0,b.transaction)(X=>{this._currentElementIdx.set(F,X)})}revealCurrentElementInEditor(){if(!this.canClose.get())return;this._setVisible(!1,void 0);const $=this.currentElement.get();$&&($.type===P.Deleted?this._models.originalReveal(u.Range.fromPositions(new v.Position($.originalLineNumber,1))):this._models.modifiedReveal($.type!==P.Header?u.Range.fromPositions(new v.Position($.modifiedLineNumber,1)):void 0))}close(){this.canClose.get()&&(this._setVisible(!1,void 0),this._models.modifiedFocus())}};A=Ie([he(4,f.IAccessibilitySignalService)],A);const O=3;function M(U,$,se){const F=[];for(const X of(0,p.groupAdjacentBy)(U,(Q,Z)=>Z.modified.startLineNumber-Q.modified.endLineNumberExclusive<2*O)){const Q=[];Q.push(new R);const Z=new n.LineRange(Math.max(1,X[0].original.startLineNumber-O),Math.min(X[X.length-1].original.endLineNumberExclusive+O,$+1)),ae=new n.LineRange(Math.max(1,X[0].modified.startLineNumber-O),Math.min(X[X.length-1].modified.endLineNumberExclusive+O,se+1));(0,p.forEachAdjacent)(X,(fe,re)=>{const de=new n.LineRange(fe?fe.original.endLineNumberExclusive:Z.startLineNumber,re?re.original.startLineNumber:Z.endLineNumberExclusive),ee=new n.LineRange(fe?fe.modified.endLineNumberExclusive:ae.startLineNumber,re?re.modified.startLineNumber:ae.endLineNumberExclusive);de.forEach(W=>{Q.push(new V(W,ee.startLineNumber+(W-de.startLineNumber)))}),re&&(re.original.forEach(W=>{Q.push(new B(re,W))}),re.modified.forEach(W=>{Q.push(new H(re,W))}))});const ue=X[0].modified.join(X[X.length-1].modified),ge=X[0].original.join(X[X.length-1].original);F.push(new x(new d.LineRangeMapping(ue,ge),Q))}return F}var P;(function(U){U[U.Header=0]="Header",U[U.Unchanged=1]="Unchanged",U[U.Deleted=2]="Deleted",U[U.Added=3]="Added"})(P||(P={}));class x{constructor($,se){this.range=$,this.lines=se}}class R{constructor(){this.type=P.Header}}class B{constructor($,se){this.diff=$,this.originalLineNumber=se,this.type=P.Deleted,this.modifiedLineNumber=void 0}}class H{constructor($,se){this.diff=$,this.modifiedLineNumber=se,this.type=P.Added,this.originalLineNumber=void 0}}class V{constructor($,se){this.originalLineNumber=$,this.modifiedLineNumber=se,this.type=P.Unchanged}}let q=class extends C.Disposable{constructor($,se,F,X,Q,Z){super(),this._element=$,this._model=se,this._width=F,this._height=X,this._models=Q,this._languageService=Z,this.domNode=this._element,this.domNode.className="monaco-component diff-review monaco-editor-background";const ae=document.createElement("div");ae.className="diff-review-actions",this._actionBar=this._register(new D.ActionBar(ae)),this._register((0,b.autorun)(ue=>{this._actionBar.clear(),this._model.canClose.read(ue)&&this._actionBar.push(new y.Action("diffreview.close",(0,c.localize)(3,null),"close-diff-review "+a.ThemeIcon.asClassName(T),!0,async()=>se.close()),{label:!1,icon:!0})})),this._content=document.createElement("div"),this._content.className="diff-review-content",this._content.setAttribute("role","code"),this._scrollbar=this._register(new L.DomScrollableElement(this._content,{})),(0,m.reset)(this.domNode,this._scrollbar.getDomNode(),ae),this._register((0,b.autorun)(ue=>{this._height.read(ue),this._width.read(ue),this._scrollbar.scanDomNode()})),this._register((0,C.toDisposable)(()=>{(0,m.reset)(this.domNode)})),this._register((0,i.applyStyle)(this.domNode,{width:this._width,height:this._height})),this._register((0,i.applyStyle)(this._content,{width:this._width,height:this._height})),this._register((0,b.autorunWithStore)((ue,ge)=>{this._model.currentGroup.read(ue),this._render(ge)})),this._register((0,m.addStandardDisposableListener)(this.domNode,"keydown",ue=>{(ue.equals(18)||ue.equals(2066)||ue.equals(530))&&(ue.preventDefault(),this._model.goToNextLine()),(ue.equals(16)||ue.equals(2064)||ue.equals(528))&&(ue.preventDefault(),this._model.goToPreviousLine()),(ue.equals(9)||ue.equals(2057)||ue.equals(521)||ue.equals(1033))&&(ue.preventDefault(),this._model.close()),(ue.equals(10)||ue.equals(3))&&(ue.preventDefault(),this._model.revealCurrentElementInEditor())}))}_render($){const se=this._models.getOriginalOptions(),F=this._models.getModifiedOptions(),X=document.createElement("div");X.className="diff-review-table",X.setAttribute("role","list"),X.setAttribute("aria-label",(0,c.localize)(4,null)),(0,s.applyFontInfo)(X,F.get(50)),(0,m.reset)(this._content,X);const Q=this._models.getOriginalModel(),Z=this._models.getModifiedModel();if(!Q||!Z)return;const ae=Q.getOptions(),ue=Z.getOptions(),ge=F.get(67),fe=this._model.currentGroup.get();for(const re of fe?.lines||[]){if(!fe)break;let de;if(re.type===P.Header){const W=document.createElement("div");W.className="diff-review-row",W.setAttribute("role","listitem");const z=fe.range,Y=this._model.currentGroupIndex.get(),j=this._model.groups.get().length,G=le=>le===0?(0,c.localize)(5,null):le===1?(0,c.localize)(6,null):(0,c.localize)(7,null,le),oe=G(z.original.length),ne=G(z.modified.length);W.setAttribute("aria-label",(0,c.localize)(8,null,Y+1,j,z.original.startLineNumber,oe,z.modified.startLineNumber,ne));const ce=document.createElement("div");ce.className="diff-review-cell diff-review-summary",ce.appendChild(document.createTextNode(`${Y+1}/${j}: @@ -${z.original.startLineNumber},${z.original.length} +${z.modified.startLineNumber},${z.modified.length} @@`)),W.appendChild(ce),de=W}else de=this._createRow(re,ge,this._width.get(),se,Q,ae,F,Z,ue);X.appendChild(de);const ee=(0,b.derived)(W=>this._model.currentElement.read(W)===re);$.add((0,b.autorun)(W=>{const z=ee.read(W);de.tabIndex=z?0:-1,z&&de.focus()})),$.add((0,m.addDisposableListener)(de,"focus",()=>{this._model.goToLine(re)}))}this._scrollbar.scanDomNode()}_createRow($,se,F,X,Q,Z,ae,ue,ge){const fe=X.get(145),re=fe.glyphMarginWidth+fe.lineNumbersWidth,de=ae.get(145),ee=10+de.glyphMarginWidth+de.lineNumbersWidth;let W="diff-review-row",z="";const Y="diff-review-spacer";let j=null;switch($.type){case P.Added:W="diff-review-row line-insert",z=" char-insert",j=I;break;case P.Deleted:W="diff-review-row line-delete",z=" char-delete",j=E;break}const G=document.createElement("div");G.style.minWidth=F+"px",G.className=W,G.setAttribute("role","listitem"),G.ariaLevel="";const oe=document.createElement("div");oe.className="diff-review-cell",oe.style.height=`${se}px`,G.appendChild(oe);const ne=document.createElement("span");ne.style.width=re+"px",ne.style.minWidth=re+"px",ne.className="diff-review-line-number"+z,$.originalLineNumber!==void 0?ne.appendChild(document.createTextNode(String($.originalLineNumber))):ne.innerText="\xA0",oe.appendChild(ne);const ce=document.createElement("span");ce.style.width=ee+"px",ce.style.minWidth=ee+"px",ce.style.paddingRight="10px",ce.className="diff-review-line-number"+z,$.modifiedLineNumber!==void 0?ce.appendChild(document.createTextNode(String($.modifiedLineNumber))):ce.innerText="\xA0",oe.appendChild(ce);const le=document.createElement("span");if(le.className=Y,j){const Ce=document.createElement("span");Ce.className=a.ThemeIcon.asClassName(j),Ce.innerText="\xA0\xA0",le.appendChild(Ce)}else le.innerText="\xA0\xA0";oe.appendChild(le);let me;if($.modifiedLineNumber!==void 0){let Ce=this._getLineHtml(ue,ae,ge.tabSize,$.modifiedLineNumber,this._languageService.languageIdCodec);N._ttPolicy&&(Ce=N._ttPolicy.createHTML(Ce)),oe.insertAdjacentHTML("beforeend",Ce),me=ue.getLineContent($.modifiedLineNumber)}else{let Ce=this._getLineHtml(Q,X,Z.tabSize,$.originalLineNumber,this._languageService.languageIdCodec);N._ttPolicy&&(Ce=N._ttPolicy.createHTML(Ce)),oe.insertAdjacentHTML("beforeend",Ce),me=Q.getLineContent($.originalLineNumber)}me.length===0&&(me=(0,c.localize)(9,null));let ve="";switch($.type){case P.Unchanged:$.originalLineNumber===$.modifiedLineNumber?ve=(0,c.localize)(10,null,me,$.originalLineNumber):ve=(0,c.localize)(11,null,me,$.originalLineNumber,$.modifiedLineNumber);break;case P.Added:ve=(0,c.localize)(12,null,me,$.modifiedLineNumber);break;case P.Deleted:ve=(0,c.localize)(13,null,me,$.originalLineNumber);break}return G.setAttribute("aria-label",ve),G}_getLineHtml($,se,F,X,Q){const Z=$.getLineContent(X),ae=se.get(50),ue=l.LineTokens.createEmpty(Z,Q),ge=g.ViewLineRenderingData.isBasicASCII(Z,$.mightContainNonBasicASCII()),fe=g.ViewLineRenderingData.containsRTL(Z,ge,$.mightContainRTL());return(0,o.renderViewLine2)(new o.RenderLineInput(ae.isMonospace&&!se.get(33),ae.canUseHalfwidthRightwardsArrow,Z,!1,ge,fe,0,ue,[],F,0,ae.spaceWidth,ae.middotWidth,ae.wsmiddotWidth,se.get(117),se.get(99),se.get(94),se.get(51)!==t.EditorFontLigatures.OFF,null)).html}};q=Ie([he(5,r.ILanguageService)],q);class K{constructor($){this.editors=$}getOriginalModel(){return this.editors.original.getModel()}getOriginalOptions(){return this.editors.original.getOptions()}originalReveal($){this.editors.original.revealRange($),this.editors.original.setSelection($),this.editors.original.focus()}getModifiedModel(){return this.editors.modified.getModel()}getModifiedOptions(){return this.editors.modified.getOptions()}modifiedReveal($){$&&(this.editors.modified.revealRange($),this.editors.modified.setSelection($)),this.editors.modified.focus()}modifiedSetSelection($){this.editors.modified.setSelection($)}modifiedFocus(){this.editors.modified.focus()}getModifiedPosition(){var $;return($=this.editors.modified.getPosition())!==null&&$!==void 0?$:void 0}}e.AccessibleDiffViewerModelFromEditors=K}),define(te[883],ie([1,0,240,6,164,78,26,34,7,2,30,690,31,85,216]),function(J,e,m,k,D,L,y,p,w,C,b,a,s,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorPickerWidget=e.InsertButton=e.ColorPickerBody=e.ColorPickerHeader=void 0;const t=k.$;class n extends C.Disposable{constructor(f,_,S,I=!1){super(),this.model=_,this.showingStandaloneColorPicker=I,this._closeButton=null,this._domNode=t(".colorpicker-header"),k.append(f,this._domNode),this._pickedColorNode=k.append(this._domNode,t(".picked-color")),k.append(this._pickedColorNode,t("span.codicon.codicon-color-mode")),this._pickedColorPresentation=k.append(this._pickedColorNode,document.createElement("span")),this._pickedColorPresentation.classList.add("picked-color-presentation");const E=(0,a.localize)(0,null);this._pickedColorNode.setAttribute("title",E),this._originalColorNode=k.append(this._domNode,t(".original-color")),this._originalColorNode.style.backgroundColor=p.Color.Format.CSS.format(this.model.originalColor)||"",this.backgroundColor=S.getColorTheme().getColor(s.editorHoverBackground)||p.Color.white,this._register(S.onDidColorThemeChange(T=>{this.backgroundColor=T.getColor(s.editorHoverBackground)||p.Color.white})),this._register(k.addDisposableListener(this._pickedColorNode,k.EventType.CLICK,()=>this.model.selectNextColorPresentation())),this._register(k.addDisposableListener(this._originalColorNode,k.EventType.CLICK,()=>{this.model.color=this.model.originalColor,this.model.flushColor()})),this._register(_.onDidChangeColor(this.onDidChangeColor,this)),this._register(_.onDidChangePresentation(this.onDidChangePresentation,this)),this._pickedColorNode.style.backgroundColor=p.Color.Format.CSS.format(_.color)||"",this._pickedColorNode.classList.toggle("light",_.color.rgba.a<.5?this.backgroundColor.isLighter():_.color.isLighter()),this.onDidChangeColor(this.model.color),this.showingStandaloneColorPicker&&(this._domNode.classList.add("standalone-colorpicker"),this._closeButton=this._register(new h(this._domNode)))}get closeButton(){return this._closeButton}get pickedColorNode(){return this._pickedColorNode}get originalColorNode(){return this._originalColorNode}onDidChangeColor(f){this._pickedColorNode.style.backgroundColor=p.Color.Format.CSS.format(f)||"",this._pickedColorNode.classList.toggle("light",f.rgba.a<.5?this.backgroundColor.isLighter():f.isLighter()),this.onDidChangePresentation()}onDidChangePresentation(){this._pickedColorPresentation.textContent=this.model.presentation?this.model.presentation.label:""}}e.ColorPickerHeader=n;class h extends C.Disposable{constructor(f){super(),this._onClicked=this._register(new w.Emitter),this.onClicked=this._onClicked.event,this._button=document.createElement("div"),this._button.classList.add("close-button"),k.append(f,this._button);const _=document.createElement("div");_.classList.add("close-button-inner-div"),k.append(this._button,_),k.append(_,t(".button"+b.ThemeIcon.asCSSSelector((0,i.registerIcon)("color-picker-close",y.Codicon.close,(0,a.localize)(1,null))))).classList.add("close-icon"),this._register(k.addDisposableListener(this._button,k.EventType.CLICK,()=>{this._onClicked.fire()}))}}class v extends C.Disposable{constructor(f,_,S,I=!1){super(),this.model=_,this.pixelRatio=S,this._insertButton=null,this._domNode=t(".colorpicker-body"),k.append(f,this._domNode),this._saturationBox=new u(this._domNode,this.model,this.pixelRatio),this._register(this._saturationBox),this._register(this._saturationBox.onDidChange(this.onDidSaturationValueChange,this)),this._register(this._saturationBox.onColorFlushed(this.flushColor,this)),this._opacityStrip=new r(this._domNode,this.model,I),this._register(this._opacityStrip),this._register(this._opacityStrip.onDidChange(this.onDidOpacityChange,this)),this._register(this._opacityStrip.onColorFlushed(this.flushColor,this)),this._hueStrip=new l(this._domNode,this.model,I),this._register(this._hueStrip),this._register(this._hueStrip.onDidChange(this.onDidHueChange,this)),this._register(this._hueStrip.onColorFlushed(this.flushColor,this)),I&&(this._insertButton=this._register(new o(this._domNode)),this._domNode.classList.add("standalone-colorpicker"))}flushColor(){this.model.flushColor()}onDidSaturationValueChange({s:f,v:_}){const S=this.model.color.hsva;this.model.color=new p.Color(new p.HSVA(S.h,f,_,S.a))}onDidOpacityChange(f){const _=this.model.color.hsva;this.model.color=new p.Color(new p.HSVA(_.h,_.s,_.v,f))}onDidHueChange(f){const _=this.model.color.hsva,S=(1-f)*360;this.model.color=new p.Color(new p.HSVA(S===360?0:S,_.s,_.v,_.a))}get domNode(){return this._domNode}get saturationBox(){return this._saturationBox}get enterButton(){return this._insertButton}layout(){this._saturationBox.layout(),this._opacityStrip.layout(),this._hueStrip.layout()}}e.ColorPickerBody=v;class u extends C.Disposable{constructor(f,_,S){super(),this.model=_,this.pixelRatio=S,this._onDidChange=new w.Emitter,this.onDidChange=this._onDidChange.event,this._onColorFlushed=new w.Emitter,this.onColorFlushed=this._onColorFlushed.event,this._domNode=t(".saturation-wrap"),k.append(f,this._domNode),this._canvas=document.createElement("canvas"),this._canvas.className="saturation-box",k.append(this._domNode,this._canvas),this.selection=t(".saturation-selection"),k.append(this._domNode,this.selection),this.layout(),this._register(k.addDisposableListener(this._domNode,k.EventType.POINTER_DOWN,I=>this.onPointerDown(I))),this._register(this.model.onDidChangeColor(this.onDidChangeColor,this)),this.monitor=null}get domNode(){return this._domNode}onPointerDown(f){if(!f.target||!(f.target instanceof Element))return;this.monitor=this._register(new D.GlobalPointerMoveMonitor);const _=k.getDomNodePagePosition(this._domNode);f.target!==this.selection&&this.onDidChangePosition(f.offsetX,f.offsetY),this.monitor.startMonitoring(f.target,f.pointerId,f.buttons,I=>this.onDidChangePosition(I.pageX-_.left,I.pageY-_.top),()=>null);const S=k.addDisposableListener(f.target.ownerDocument,k.EventType.POINTER_UP,()=>{this._onColorFlushed.fire(),S.dispose(),this.monitor&&(this.monitor.stopMonitoring(!0),this.monitor=null)},!0)}onDidChangePosition(f,_){const S=Math.max(0,Math.min(1,f/this.width)),I=Math.max(0,Math.min(1,1-_/this.height));this.paintSelection(S,I),this._onDidChange.fire({s:S,v:I})}layout(){this.width=this._domNode.offsetWidth,this.height=this._domNode.offsetHeight,this._canvas.width=this.width*this.pixelRatio,this._canvas.height=this.height*this.pixelRatio,this.paint();const f=this.model.color.hsva;this.paintSelection(f.s,f.v)}paint(){const f=this.model.color.hsva,_=new p.Color(new p.HSVA(f.h,1,1,1)),S=this._canvas.getContext("2d"),I=S.createLinearGradient(0,0,this._canvas.width,0);I.addColorStop(0,"rgba(255, 255, 255, 1)"),I.addColorStop(.5,"rgba(255, 255, 255, 0.5)"),I.addColorStop(1,"rgba(255, 255, 255, 0)");const E=S.createLinearGradient(0,0,0,this._canvas.height);E.addColorStop(0,"rgba(0, 0, 0, 0)"),E.addColorStop(1,"rgba(0, 0, 0, 1)"),S.rect(0,0,this._canvas.width,this._canvas.height),S.fillStyle=p.Color.Format.CSS.format(_),S.fill(),S.fillStyle=I,S.fill(),S.fillStyle=E,S.fill()}paintSelection(f,_){this.selection.style.left=`${f*this.width}px`,this.selection.style.top=`${this.height-_*this.height}px`}onDidChangeColor(f){if(this.monitor&&this.monitor.isMonitoring())return;this.paint();const _=f.hsva;this.paintSelection(_.s,_.v)}}class d extends C.Disposable{constructor(f,_,S=!1){super(),this.model=_,this._onDidChange=new w.Emitter,this.onDidChange=this._onDidChange.event,this._onColorFlushed=new w.Emitter,this.onColorFlushed=this._onColorFlushed.event,S?(this.domNode=k.append(f,t(".standalone-strip")),this.overlay=k.append(this.domNode,t(".standalone-overlay"))):(this.domNode=k.append(f,t(".strip")),this.overlay=k.append(this.domNode,t(".overlay"))),this.slider=k.append(this.domNode,t(".slider")),this.slider.style.top="0px",this._register(k.addDisposableListener(this.domNode,k.EventType.POINTER_DOWN,I=>this.onPointerDown(I))),this._register(_.onDidChangeColor(this.onDidChangeColor,this)),this.layout()}layout(){this.height=this.domNode.offsetHeight-this.slider.offsetHeight;const f=this.getValue(this.model.color);this.updateSliderPosition(f)}onDidChangeColor(f){const _=this.getValue(f);this.updateSliderPosition(_)}onPointerDown(f){if(!f.target||!(f.target instanceof Element))return;const _=this._register(new D.GlobalPointerMoveMonitor),S=k.getDomNodePagePosition(this.domNode);this.domNode.classList.add("grabbing"),f.target!==this.slider&&this.onDidChangeTop(f.offsetY),_.startMonitoring(f.target,f.pointerId,f.buttons,E=>this.onDidChangeTop(E.pageY-S.top),()=>null);const I=k.addDisposableListener(f.target.ownerDocument,k.EventType.POINTER_UP,()=>{this._onColorFlushed.fire(),I.dispose(),_.stopMonitoring(!0),this.domNode.classList.remove("grabbing")},!0)}onDidChangeTop(f){const _=Math.max(0,Math.min(1,1-f/this.height));this.updateSliderPosition(_),this._onDidChange.fire(_)}updateSliderPosition(f){this.slider.style.top=`${(1-f)*this.height}px`}}class r extends d{constructor(f,_,S=!1){super(f,_,S),this.domNode.classList.add("opacity-strip"),this.onDidChangeColor(this.model.color)}onDidChangeColor(f){super.onDidChangeColor(f);const{r:_,g:S,b:I}=f.rgba,E=new p.Color(new p.RGBA(_,S,I,1)),T=new p.Color(new p.RGBA(_,S,I,0));this.overlay.style.background=`linear-gradient(to bottom, ${E} 0%, ${T} 100%)`}getValue(f){return f.hsva.a}}class l extends d{constructor(f,_,S=!1){super(f,_,S),this.domNode.classList.add("hue-strip")}getValue(f){return 1-f.hsva.h/360}}class o extends C.Disposable{constructor(f){super(),this._onClicked=this._register(new w.Emitter),this.onClicked=this._onClicked.event,this._button=k.append(f,document.createElement("button")),this._button.classList.add("insert-button"),this._button.textContent="Insert",this._register(k.addDisposableListener(this._button,k.EventType.CLICK,()=>{this._onClicked.fire()}))}get button(){return this._button}}e.InsertButton=o;class g extends L.Widget{constructor(f,_,S,I,E=!1){super(),this.model=_,this.pixelRatio=S,this._register(m.PixelRatio.getInstance(k.getWindow(f)).onDidChange(()=>this.layout()));const T=t(".colorpicker-widget");f.appendChild(T),this.header=this._register(new n(T,this.model,I,E)),this.body=this._register(new v(T,this.model,this.pixelRatio,E))}layout(){this.body.layout()}}e.ColorPickerWidget=g}),define(te[884],ie([1,0,6,45,79,26,7,2,11,21,42,114,257,734,14,59,31,85,30,496]),function(J,e,m,k,D,L,y,p,w,C,b,a,s,i,t,n,h,v,u){"use strict";var d;Object.defineProperty(e,"__esModule",{value:!0}),e.ParameterHintsWidget=void 0;const r=m.$,l=(0,v.registerIcon)("parameter-hints-next",L.Codicon.chevronDown,i.localize(0,null)),o=(0,v.registerIcon)("parameter-hints-previous",L.Codicon.chevronUp,i.localize(1,null));let g=d=class extends p.Disposable{constructor(f,_,S,I,E){super(),this.editor=f,this.model=_,this.renderDisposeables=this._register(new p.DisposableStore),this.visible=!1,this.announcedLabel=null,this.allowEditorOverflow=!0,this.markdownRenderer=this._register(new a.MarkdownRenderer({editor:f},E,I)),this.keyVisible=s.Context.Visible.bindTo(S),this.keyMultipleSignatures=s.Context.MultipleSignatures.bindTo(S)}createParameterHintDOMNodes(){const f=r(".editor-widget.parameter-hints-widget"),_=m.append(f,r(".phwrapper"));_.tabIndex=-1;const S=m.append(_,r(".controls")),I=m.append(S,r(".button"+u.ThemeIcon.asCSSSelector(o))),E=m.append(S,r(".overloads")),T=m.append(S,r(".button"+u.ThemeIcon.asCSSSelector(l)));this._register(m.addDisposableListener(I,"click",x=>{m.EventHelper.stop(x),this.previous()})),this._register(m.addDisposableListener(T,"click",x=>{m.EventHelper.stop(x),this.next()}));const N=r(".body"),A=new D.DomScrollableElement(N,{alwaysConsumeMouseWheel:!0});this._register(A),_.appendChild(A.getDomNode());const O=m.append(N,r(".signature")),M=m.append(N,r(".docs"));f.style.userSelect="text",this.domNodes={element:f,signature:O,overloads:E,docs:M,scrollbar:A},this.editor.addContentWidget(this),this.hide(),this._register(this.editor.onDidChangeCursorSelection(x=>{this.visible&&this.editor.layoutContentWidget(this)}));const P=()=>{if(!this.domNodes)return;const x=this.editor.getOption(50);this.domNodes.element.style.fontSize=`${x.fontSize}px`,this.domNodes.element.style.lineHeight=`${x.lineHeight/x.fontSize}`};P(),this._register(y.Event.chain(this.editor.onDidChangeConfiguration.bind(this.editor),x=>x.filter(R=>R.hasChanged(50)))(P)),this._register(this.editor.onDidLayoutChange(x=>this.updateMaxHeight())),this.updateMaxHeight()}show(){this.visible||(this.domNodes||this.createParameterHintDOMNodes(),this.keyVisible.set(!0),this.visible=!0,setTimeout(()=>{var f;(f=this.domNodes)===null||f===void 0||f.element.classList.add("visible")},100),this.editor.layoutContentWidget(this))}hide(){var f;this.renderDisposeables.clear(),this.visible&&(this.keyVisible.reset(),this.visible=!1,this.announcedLabel=null,(f=this.domNodes)===null||f===void 0||f.element.classList.remove("visible"),this.editor.layoutContentWidget(this))}getPosition(){return this.visible?{position:this.editor.getPosition(),preference:[1,2]}:null}render(f){var _;if(this.renderDisposeables.clear(),!this.domNodes)return;const S=f.signatures.length>1;this.domNodes.element.classList.toggle("multiple",S),this.keyMultipleSignatures.set(S),this.domNodes.signature.innerText="",this.domNodes.docs.innerText="";const I=f.signatures[f.activeSignature];if(!I)return;const E=m.append(this.domNodes.signature,r(".code")),T=this.editor.getOption(50);E.style.fontSize=`${T.fontSize}px`,E.style.fontFamily=T.fontFamily;const N=I.parameters.length>0,A=(_=I.activeParameter)!==null&&_!==void 0?_:f.activeParameter;if(N)this.renderParameters(E,I,A);else{const P=m.append(E,r("span"));P.textContent=I.label}const O=I.parameters[A];if(O?.documentation){const P=r("span.documentation");if(typeof O.documentation=="string")P.textContent=O.documentation;else{const x=this.renderMarkdownDocs(O.documentation);P.appendChild(x.element)}m.append(this.domNodes.docs,r("p",{},P))}if(I.documentation!==void 0)if(typeof I.documentation=="string")m.append(this.domNodes.docs,r("p",{},I.documentation));else{const P=this.renderMarkdownDocs(I.documentation);m.append(this.domNodes.docs,P.element)}const M=this.hasDocs(I,O);if(this.domNodes.signature.classList.toggle("has-docs",M),this.domNodes.docs.classList.toggle("empty",!M),this.domNodes.overloads.textContent=String(f.activeSignature+1).padStart(f.signatures.length.toString().length,"0")+"/"+f.signatures.length,O){let P="";const x=I.parameters[A];Array.isArray(x.label)?P=I.label.substring(x.label[0],x.label[1]):P=x.label,x.documentation&&(P+=typeof x.documentation=="string"?`, ${x.documentation}`:`, ${x.documentation.value}`),I.documentation&&(P+=typeof I.documentation=="string"?`, ${I.documentation}`:`, ${I.documentation.value}`),this.announcedLabel!==P&&(k.alert(i.localize(2,null,P)),this.announcedLabel=P)}this.editor.layoutContentWidget(this),this.domNodes.scrollbar.scanDomNode()}renderMarkdownDocs(f){const _=this.renderDisposeables.add(this.markdownRenderer.render(f,{asyncRenderCallback:()=>{var S;(S=this.domNodes)===null||S===void 0||S.scrollbar.scanDomNode()}}));return _.element.classList.add("markdown-docs"),_}hasDocs(f,_){return!!(_&&typeof _.documentation=="string"&&(0,C.assertIsDefined)(_.documentation).length>0||_&&typeof _.documentation=="object"&&(0,C.assertIsDefined)(_.documentation).value.length>0||f.documentation&&typeof f.documentation=="string"&&(0,C.assertIsDefined)(f.documentation).length>0||f.documentation&&typeof f.documentation=="object"&&(0,C.assertIsDefined)(f.documentation.value).length>0)}renderParameters(f,_,S){const[I,E]=this.getParameterLabelOffsets(_,S),T=document.createElement("span");T.textContent=_.label.substring(0,I);const N=document.createElement("span");N.textContent=_.label.substring(I,E),N.className="parameter active";const A=document.createElement("span");A.textContent=_.label.substring(E),m.append(f,T,N,A)}getParameterLabelOffsets(f,_){const S=f.parameters[_];if(S){if(Array.isArray(S.label))return S.label;if(S.label.length){const I=new RegExp(`(\\W|^)${(0,w.escapeRegExpCharacters)(S.label)}(?=\\W|$)`,"g");I.test(f.label);const E=I.lastIndex-S.label.length;return E>=0?[E,I.lastIndex]:[0,0]}else return[0,0]}else return[0,0]}next(){this.editor.focus(),this.model.next()}previous(){this.editor.focus(),this.model.previous()}getDomNode(){return this.domNodes||this.createParameterHintDOMNodes(),this.domNodes.element}getId(){return d.ID}updateMaxHeight(){if(!this.domNodes)return;const _=`${Math.max(this.editor.getLayoutInfo().height/4,250)}px`;this.domNodes.element.style.maxHeight=_;const S=this.domNodes.element.getElementsByClassName("phwrapper");S.length&&(S[0].style.maxHeight=_)}};e.ParameterHintsWidget=g,g.ID="editor.widget.parameterHintsWidget",e.ParameterHintsWidget=g=d=Ie([he(2,t.IContextKeyService),he(3,n.IOpenerService),he(4,b.ILanguageService)],g),(0,h.registerColor)("editorHoverWidget.highlightForeground",{dark:h.listHighlightForeground,light:h.listHighlightForeground,hcDark:h.listHighlightForeground,hcLight:h.listHighlightForeground},i.localize(3,null))}),define(te[885],ie([1,0,99,2,16,19,29,18,806,257,733,14,8,884]),function(J,e,m,k,D,L,y,p,w,C,b,a,s,i){"use strict";var t;Object.defineProperty(e,"__esModule",{value:!0}),e.TriggerParameterHintsAction=e.ParameterHintsController=void 0;let n=t=class extends k.Disposable{static get(r){return r.getContribution(t.ID)}constructor(r,l,o){super(),this.editor=r,this.model=this._register(new w.ParameterHintsModel(r,o.signatureHelpProvider)),this._register(this.model.onChangedHints(g=>{var c;g?(this.widget.value.show(),this.widget.value.render(g)):(c=this.widget.rawValue)===null||c===void 0||c.hide()})),this.widget=new m.Lazy(()=>this._register(l.createInstance(i.ParameterHintsWidget,this.editor,this.model)))}cancel(){this.model.cancel()}previous(){var r;(r=this.widget.rawValue)===null||r===void 0||r.previous()}next(){var r;(r=this.widget.rawValue)===null||r===void 0||r.next()}trigger(r){this.model.trigger(r,0)}};e.ParameterHintsController=n,n.ID="editor.controller.parameterHints",e.ParameterHintsController=n=t=Ie([he(1,s.IInstantiationService),he(2,p.ILanguageFeaturesService)],n);class h extends D.EditorAction{constructor(){super({id:"editor.action.triggerParameterHints",label:b.localize(0,null),alias:"Trigger Parameter Hints",precondition:L.EditorContextKeys.hasSignatureHelpProvider,kbOpts:{kbExpr:L.EditorContextKeys.editorTextFocus,primary:3082,weight:100}})}run(r,l){const o=n.get(l);o?.trigger({triggerKind:y.SignatureHelpTriggerKind.Invoke})}}e.TriggerParameterHintsAction=h,(0,D.registerEditorContribution)(n.ID,n,2),(0,D.registerEditorAction)(h);const v=175,u=D.EditorCommand.bindToContribution(n.get);(0,D.registerEditorCommand)(new u({id:"closeParameterHints",precondition:C.Context.Visible,handler:d=>d.cancel(),kbOpts:{weight:v,kbExpr:L.EditorContextKeys.focus,primary:9,secondary:[1033]}})),(0,D.registerEditorCommand)(new u({id:"showPrevParameterHint",precondition:a.ContextKeyExpr.and(C.Context.Visible,C.Context.MultipleSignatures),handler:d=>d.previous(),kbOpts:{weight:v,kbExpr:L.EditorContextKeys.focus,primary:16,secondary:[528],mac:{primary:16,secondary:[528,302]}}})),(0,D.registerEditorCommand)(new u({id:"showNextParameterHint",precondition:a.ContextKeyExpr.and(C.Context.Visible,C.Context.MultipleSignatures),handler:d=>d.next(),kbOpts:{weight:v,kbExpr:L.EditorContextKeys.focus,primary:18,secondary:[530],mac:{primary:18,secondary:[530,300]}}}))}),define(te[886],ie([1,0,6,81,41,2,114,8,823,85,30,503]),function(J,e,m,k,D,L,y,p,w,C,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BannerController=void 0;const a=26;let s=class extends L.Disposable{constructor(n,h){super(),this._editor=n,this.instantiationService=h,this.banner=this._register(this.instantiationService.createInstance(i))}hide(){this._editor.setBanner(null,0),this.banner.clear()}show(n){this.banner.show({...n,onClose:()=>{var h;this.hide(),(h=n.onClose)===null||h===void 0||h.call(n)}}),this._editor.setBanner(this.banner.element,a)}};e.BannerController=s,e.BannerController=s=Ie([he(1,p.IInstantiationService)],s);let i=class extends L.Disposable{constructor(n){super(),this.instantiationService=n,this.markdownRenderer=this.instantiationService.createInstance(y.MarkdownRenderer,{}),this.element=(0,m.$)("div.editor-banner"),this.element.tabIndex=0}getAriaLabel(n){if(n.ariaLabel)return n.ariaLabel;if(typeof n.message=="string")return n.message}getBannerMessage(n){if(typeof n=="string"){const h=(0,m.$)("span");return h.innerText=n,h}return this.markdownRenderer.render(n).element}clear(){(0,m.clearNode)(this.element)}show(n){(0,m.clearNode)(this.element);const h=this.getAriaLabel(n);h&&this.element.setAttribute("aria-label",h);const v=(0,m.append)(this.element,(0,m.$)("div.icon-container"));v.setAttribute("aria-hidden","true"),n.icon&&v.appendChild((0,m.$)(`div${b.ThemeIcon.asCSSSelector(n.icon)}`));const u=(0,m.append)(this.element,(0,m.$)("div.message-container"));if(u.setAttribute("aria-hidden","true"),u.appendChild(this.getBannerMessage(n.message)),this.messageActionsContainer=(0,m.append)(this.element,(0,m.$)("div.message-actions-container")),n.actions)for(const r of n.actions)this._register(this.instantiationService.createInstance(w.Link,this.messageActionsContainer,{...r,tabIndex:-1},{}));const d=(0,m.append)(this.element,(0,m.$)("div.action-container"));this.actionBar=this._register(new k.ActionBar(d)),this.actionBar.push(this._register(new D.Action("banner.close","Close Banner",b.ThemeIcon.asClassName(C.widgetClose),!0,()=>{typeof n.onClose=="function"&&n.onClose()})),{icon:!0,label:!1}),this.actionBar.setFocusable(!1)}};i=Ie([he(0,p.IInstantiationService)],i)}),define(te[887],ie([1,0,6,7,2,30,85]),function(J,e,m,k,D,L,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UnthemedProductIconTheme=void 0,e.getIconsStyleSheet=p;function p(C){const b=new D.DisposableStore,a=b.add(new k.Emitter),s=(0,y.getIconRegistry)();return b.add(s.onDidChange(()=>a.fire())),C&&b.add(C.onDidProductIconThemeChange(()=>a.fire())),{dispose:()=>b.dispose(),onDidChange:a.event,getCSS(){const i=C?C.getProductIconTheme():new w,t={},n=v=>{const u=i.getIcon(v);if(!u)return;const d=u.font;return d?(t[d.id]=d.definition,`.codicon-${v.id}:before { content: '${u.fontCharacter}'; font-family: ${(0,m.asCSSPropertyValue)(d.id)}; }`):`.codicon-${v.id}:before { content: '${u.fontCharacter}'; }`},h=[];for(const v of s.getIcons()){const u=n(v);u&&h.push(u)}for(const v in t){const u=t[v],d=u.weight?`font-weight: ${u.weight};`:"",r=u.style?`font-style: ${u.style};`:"",l=u.src.map(o=>`${(0,m.asCSSUrl)(o.location)} format('${o.format}')`).join(", ");h.push(`@font-face { src: ${l}; font-family: ${(0,m.asCSSPropertyValue)(v)};${d}${r} font-display: block; }`)}return h.join(`
`)}}}class w{getIcon(b){const a=(0,y.getIconRegistry)();let s=b.defaults;for(;L.ThemeIcon.isThemeIcon(s);){const i=a.getIcon(s.id);if(!i)return;s=i.defaults}return s}}e.UnthemedProductIconTheme=w}),define(te[93],ie([1,0]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorScheme=void 0,e.isHighContrast=k,e.isDark=D;var m;(function(L){L.DARK="dark",L.LIGHT="light",L.HIGH_CONTRAST_DARK="hcDark",L.HIGH_CONTRAST_LIGHT="hcLight"})(m||(e.ColorScheme=m={}));function k(L){return L===m.HIGH_CONTRAST_DARK||L===m.HIGH_CONTRAST_LIGHT}function D(L){return L===m.DARK||L===m.HIGH_CONTRAST_DARK}}),define(te[271],ie([1,0,62,40,17,517,157,145,129,93,38]),function(J,e,m,k,D,L,y,p,w,C,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewLine=e.ViewLineOptions=void 0,e.getColumnOfNodeOffset=l;const a=function(){return D.isNative?!0:!(D.isLinux||m.isFirefox||m.isSafari)}();let s=!0;class i{constructor(g,c){this.themeType=c;const f=g.options,_=f.get(50);f.get(38)==="off"?this.renderWhitespace=f.get(99):this.renderWhitespace="none",this.renderControlCharacters=f.get(94),this.spaceWidth=_.spaceWidth,this.middotWidth=_.middotWidth,this.wsmiddotWidth=_.wsmiddotWidth,this.useMonospaceOptimizations=_.isMonospace&&!f.get(33),this.canUseHalfwidthRightwardsArrow=_.canUseHalfwidthRightwardsArrow,this.lineHeight=f.get(67),this.stopRenderingLineAfter=f.get(117),this.fontLigatures=f.get(51)}equals(g){return this.themeType===g.themeType&&this.renderWhitespace===g.renderWhitespace&&this.renderControlCharacters===g.renderControlCharacters&&this.spaceWidth===g.spaceWidth&&this.middotWidth===g.middotWidth&&this.wsmiddotWidth===g.wsmiddotWidth&&this.useMonospaceOptimizations===g.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===g.canUseHalfwidthRightwardsArrow&&this.lineHeight===g.lineHeight&&this.stopRenderingLineAfter===g.stopRenderingLineAfter&&this.fontLigatures===g.fontLigatures}}e.ViewLineOptions=i;class t{constructor(g){this._options=g,this._isMaybeInvalid=!0,this._renderedViewLine=null}getDomNode(){return this._renderedViewLine&&this._renderedViewLine.domNode?this._renderedViewLine.domNode.domNode:null}setDomNode(g){if(this._renderedViewLine)this._renderedViewLine.domNode=(0,k.createFastDomNode)(g);else throw new Error("I have no rendered view line to set the dom node to...")}onContentChanged(){this._isMaybeInvalid=!0}onTokensChanged(){this._isMaybeInvalid=!0}onDecorationsChanged(){this._isMaybeInvalid=!0}onOptionsChanged(g){this._isMaybeInvalid=!0,this._options=g}onSelectionChanged(){return(0,C.isHighContrast)(this._options.themeType)||this._options.renderWhitespace==="selection"?(this._isMaybeInvalid=!0,!0):!1}renderLine(g,c,f,_,S){if(this._isMaybeInvalid===!1)return!1;this._isMaybeInvalid=!1;const I=_.getViewLineRenderingData(g),E=this._options,T=p.LineDecoration.filter(I.inlineDecorations,g,I.minColumn,I.maxColumn);let N=null;if((0,C.isHighContrast)(E.themeType)||this._options.renderWhitespace==="selection"){const P=_.selections;for(const x of P){if(x.endLineNumber<g||x.startLineNumber>g)continue;const R=x.startLineNumber===g?x.startColumn:I.minColumn,B=x.endLineNumber===g?x.endColumn:I.maxColumn;R<B&&((0,C.isHighContrast)(E.themeType)&&T.push(new p.LineDecoration(R,B,"inline-selected-text",0)),this._options.renderWhitespace==="selection"&&(N||(N=[]),N.push(new w.LineRange(R-1,B-1))))}}const A=new w.RenderLineInput(E.useMonospaceOptimizations,E.canUseHalfwidthRightwardsArrow,I.content,I.continuesWithWrappedLine,I.isBasicASCII,I.containsRTL,I.minColumn-1,I.tokens,T,I.tabSize,I.startVisibleColumn,E.spaceWidth,E.middotWidth,E.wsmiddotWidth,E.stopRenderingLineAfter,E.renderWhitespace,E.renderControlCharacters,E.fontLigatures!==b.EditorFontLigatures.OFF,N);if(this._renderedViewLine&&this._renderedViewLine.input.equals(A))return!1;S.appendString('<div style="top:'),S.appendString(String(c)),S.appendString("px;height:"),S.appendString(String(f)),S.appendString('px;" class="'),S.appendString(t.CLASS_NAME),S.appendString('">');const O=(0,w.renderViewLine)(A,S);S.appendString("</div>");let M=null;return s&&a&&I.isBasicASCII&&E.useMonospaceOptimizations&&O.containsForeignElements===0&&(M=new n(this._renderedViewLine?this._renderedViewLine.domNode:null,A,O.characterMapping)),M||(M=u(this._renderedViewLine?this._renderedViewLine.domNode:null,A,O.characterMapping,O.containsRTL,O.containsForeignElements)),this._renderedViewLine=M,!0}layoutLine(g,c,f){this._renderedViewLine&&this._renderedViewLine.domNode&&(this._renderedViewLine.domNode.setTop(c),this._renderedViewLine.domNode.setHeight(f))}getWidth(g){return this._renderedViewLine?this._renderedViewLine.getWidth(g):0}getWidthIsFast(){return this._renderedViewLine?this._renderedViewLine.getWidthIsFast():!0}needsMonospaceFontCheck(){return this._renderedViewLine?this._renderedViewLine instanceof n:!1}monospaceAssumptionsAreValid(){return this._renderedViewLine&&this._renderedViewLine instanceof n?this._renderedViewLine.monospaceAssumptionsAreValid():s}onMonospaceAssumptionsInvalidated(){this._renderedViewLine&&this._renderedViewLine instanceof n&&(this._renderedViewLine=this._renderedViewLine.toSlowRenderedLine())}getVisibleRangesForRange(g,c,f,_){if(!this._renderedViewLine)return null;c=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,c)),f=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,f));const S=this._renderedViewLine.input.stopRenderingLineAfter;if(S!==-1&&c>S+1&&f>S+1)return new y.VisibleRanges(!0,[new y.FloatHorizontalRange(this.getWidth(_),0)]);S!==-1&&c>S+1&&(c=S+1),S!==-1&&f>S+1&&(f=S+1);const I=this._renderedViewLine.getVisibleRangesForRange(g,c,f,_);return I&&I.length>0?new y.VisibleRanges(!1,I):null}getColumnOfNodeOffset(g,c){return this._renderedViewLine?this._renderedViewLine.getColumnOfNodeOffset(g,c):1}}e.ViewLine=t,t.CLASS_NAME="view-line";class n{constructor(g,c,f){this._cachedWidth=-1,this.domNode=g,this.input=c;const _=Math.floor(c.lineContent.length/300);if(_>0){this._keyColumnPixelOffsetCache=new Float32Array(_);for(let S=0;S<_;S++)this._keyColumnPixelOffsetCache[S]=-1}else this._keyColumnPixelOffsetCache=null;this._characterMapping=f,this._charWidth=c.spaceWidth}getWidth(g){if(!this.domNode||this.input.lineContent.length<300){const c=this._characterMapping.getHorizontalOffset(this._characterMapping.length);return Math.round(this._charWidth*c)}return this._cachedWidth===-1&&(this._cachedWidth=this._getReadingTarget(this.domNode).offsetWidth,g?.markDidDomLayout()),this._cachedWidth}getWidthIsFast(){return this.input.lineContent.length<300||this._cachedWidth!==-1}monospaceAssumptionsAreValid(){if(!this.domNode)return s;if(this.input.lineContent.length<300){const g=this.getWidth(null),c=this.domNode.domNode.firstChild.offsetWidth;Math.abs(g-c)>=2&&(console.warn("monospace assumptions have been violated, therefore disabling monospace optimizations!"),s=!1)}return s}toSlowRenderedLine(){return u(this.domNode,this.input,this._characterMapping,!1,0)}getVisibleRangesForRange(g,c,f,_){const S=this._getColumnPixelOffset(g,c,_),I=this._getColumnPixelOffset(g,f,_);return[new y.FloatHorizontalRange(S,I-S)]}_getColumnPixelOffset(g,c,f){if(c<=300){const N=this._characterMapping.getHorizontalOffset(c);return this._charWidth*N}const _=Math.floor((c-1)/300)-1,S=(_+1)*300+1;let I=-1;if(this._keyColumnPixelOffsetCache&&(I=this._keyColumnPixelOffsetCache[_],I===-1&&(I=this._actualReadPixelOffset(g,S,f),this._keyColumnPixelOffsetCache[_]=I)),I===-1){const N=this._characterMapping.getHorizontalOffset(c);return this._charWidth*N}const E=this._characterMapping.getHorizontalOffset(S),T=this._characterMapping.getHorizontalOffset(c);return I+this._charWidth*(T-E)}_getReadingTarget(g){return g.domNode.firstChild}_actualReadPixelOffset(g,c,f){if(!this.domNode)return-1;const _=this._characterMapping.getDomPosition(c),S=L.RangeUtil.readHorizontalRanges(this._getReadingTarget(this.domNode),_.partIndex,_.charIndex,_.partIndex,_.charIndex,f);return!S||S.length===0?-1:S[0].left}getColumnOfNodeOffset(g,c){return l(this._characterMapping,g,c)}}class h{constructor(g,c,f,_,S){if(this.domNode=g,this.input=c,this._characterMapping=f,this._isWhitespaceOnly=/^\s*$/.test(c.lineContent),this._containsForeignElements=S,this._cachedWidth=-1,this._pixelOffsetCache=null,!_||this._characterMapping.length===0){this._pixelOffsetCache=new Float32Array(Math.max(2,this._characterMapping.length+1));for(let I=0,E=this._characterMapping.length;I<=E;I++)this._pixelOffsetCache[I]=-1}}_getReadingTarget(g){return g.domNode.firstChild}getWidth(g){return this.domNode?(this._cachedWidth===-1&&(this._cachedWidth=this._getReadingTarget(this.domNode).offsetWidth,g?.markDidDomLayout()),this._cachedWidth):0}getWidthIsFast(){return this._cachedWidth!==-1}getVisibleRangesForRange(g,c,f,_){if(!this.domNode)return null;if(this._pixelOffsetCache!==null){const S=this._readPixelOffset(this.domNode,g,c,_);if(S===-1)return null;const I=this._readPixelOffset(this.domNode,g,f,_);return I===-1?null:[new y.FloatHorizontalRange(S,I-S)]}return this._readVisibleRangesForRange(this.domNode,g,c,f,_)}_readVisibleRangesForRange(g,c,f,_,S){if(f===_){const I=this._readPixelOffset(g,c,f,S);return I===-1?null:[new y.FloatHorizontalRange(I,0)]}else return this._readRawVisibleRangesForRange(g,f,_,S)}_readPixelOffset(g,c,f,_){if(this._characterMapping.length===0){if(this._containsForeignElements===0||this._containsForeignElements===2)return 0;if(this._containsForeignElements===1)return this.getWidth(_);const S=this._getReadingTarget(g);return S.firstChild?(_.markDidDomLayout(),S.firstChild.offsetWidth):0}if(this._pixelOffsetCache!==null){const S=this._pixelOffsetCache[f];if(S!==-1)return S;const I=this._actualReadPixelOffset(g,c,f,_);return this._pixelOffsetCache[f]=I,I}return this._actualReadPixelOffset(g,c,f,_)}_actualReadPixelOffset(g,c,f,_){if(this._characterMapping.length===0){const T=L.RangeUtil.readHorizontalRanges(this._getReadingTarget(g),0,0,0,0,_);return!T||T.length===0?-1:T[0].left}if(f===this._characterMapping.length&&this._isWhitespaceOnly&&this._containsForeignElements===0)return this.getWidth(_);const S=this._characterMapping.getDomPosition(f),I=L.RangeUtil.readHorizontalRanges(this._getReadingTarget(g),S.partIndex,S.charIndex,S.partIndex,S.charIndex,_);if(!I||I.length===0)return-1;const E=I[0].left;if(this.input.isBasicASCII){const T=this._characterMapping.getHorizontalOffset(f),N=Math.round(this.input.spaceWidth*T);if(Math.abs(N-E)<=1)return N}return E}_readRawVisibleRangesForRange(g,c,f,_){if(c===1&&f===this._characterMapping.length)return[new y.FloatHorizontalRange(0,this.getWidth(_))];const S=this._characterMapping.getDomPosition(c),I=this._characterMapping.getDomPosition(f);return L.RangeUtil.readHorizontalRanges(this._getReadingTarget(g),S.partIndex,S.charIndex,I.partIndex,I.charIndex,_)}getColumnOfNodeOffset(g,c){return l(this._characterMapping,g,c)}}class v extends h{_readVisibleRangesForRange(g,c,f,_,S){const I=super._readVisibleRangesForRange(g,c,f,_,S);if(!I||I.length===0||f===_||f===1&&_===this._characterMapping.length)return I;if(!this.input.containsRTL){const E=this._readPixelOffset(g,c,_,S);if(E!==-1){const T=I[I.length-1];T.left<E&&(T.width=E-T.left)}}return I}}const u=function(){return m.isWebKit?d:r}();function d(o,g,c,f,_){return new v(o,g,c,f,_)}function r(o,g,c,f,_){return new h(o,g,c,f,_)}function l(o,g,c){const f=g.textContent.length;let _=-1;for(;g;)g=g.previousSibling,_++;return o.getColumn(new w.DomPosition(_,c),f)}}),define(te[386],ie([1,0,175,56,271,9,5,89,6,300]),function(J,e,m,k,D,L,y,p,w,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MouseTargetFactory=e.HitTestContext=e.MouseTarget=e.PointerHandlerLastRenderData=void 0;class b{constructor(f=null){this.hitTarget=f,this.type=0}}class a{constructor(f,_,S){this.position=f,this.spanNode=_,this.injectedText=S,this.type=1}}var s;(function(c){function f(_,S,I){const E=_.getPositionFromDOMInfo(S,I);return E?new a(E,S,null):new b(S)}c.createFromDOMInfo=f})(s||(s={}));class i{constructor(f,_){this.lastViewCursorsRenderData=f,this.lastTextareaPosition=_}}e.PointerHandlerLastRenderData=i;class t{static _deduceRage(f,_=null){return!_&&f?new y.Range(f.lineNumber,f.column,f.lineNumber,f.column):_??null}static createUnknown(f,_,S){return{type:0,element:f,mouseColumn:_,position:S,range:this._deduceRage(S)}}static createTextarea(f,_){return{type:1,element:f,mouseColumn:_,position:null,range:null}}static createMargin(f,_,S,I,E,T){return{type:f,element:_,mouseColumn:S,position:I,range:E,detail:T}}static createViewZone(f,_,S,I,E){return{type:f,element:_,mouseColumn:S,position:I,range:this._deduceRage(I),detail:E}}static createContentText(f,_,S,I,E){return{type:6,element:f,mouseColumn:_,position:S,range:this._deduceRage(S,I),detail:E}}static createContentEmpty(f,_,S,I){return{type:7,element:f,mouseColumn:_,position:S,range:this._deduceRage(S),detail:I}}static createContentWidget(f,_,S){return{type:9,element:f,mouseColumn:_,position:null,range:null,detail:S}}static createScrollbar(f,_,S){return{type:11,element:f,mouseColumn:_,position:S,range:this._deduceRage(S)}}static createOverlayWidget(f,_,S){return{type:12,element:f,mouseColumn:_,position:null,range:null,detail:S}}static createOutsideEditor(f,_,S,I){return{type:13,element:null,mouseColumn:f,position:_,range:this._deduceRage(_),outsidePosition:S,outsideDistance:I}}static _typeToString(f){return f===1?"TEXTAREA":f===2?"GUTTER_GLYPH_MARGIN":f===3?"GUTTER_LINE_NUMBERS":f===4?"GUTTER_LINE_DECORATIONS":f===5?"GUTTER_VIEW_ZONE":f===6?"CONTENT_TEXT":f===7?"CONTENT_EMPTY":f===8?"CONTENT_VIEW_ZONE":f===9?"CONTENT_WIDGET":f===10?"OVERVIEW_RULER":f===11?"SCROLLBAR":f===12?"OVERLAY_WIDGET":"UNKNOWN"}static toString(f){return this._typeToString(f.type)+": "+f.position+" - "+f.range+" - "+JSON.stringify(f.detail)}}e.MouseTarget=t;class n{static isTextArea(f){return f.length===2&&f[0]===3&&f[1]===7}static isChildOfViewLines(f){return f.length>=4&&f[0]===3&&f[3]===8}static isStrictChildOfViewLines(f){return f.length>4&&f[0]===3&&f[3]===8}static isChildOfScrollableElement(f){return f.length>=2&&f[0]===3&&f[1]===6}static isChildOfMinimap(f){return f.length>=2&&f[0]===3&&f[1]===9}static isChildOfContentWidgets(f){return f.length>=4&&f[0]===3&&f[3]===1}static isChildOfOverflowGuard(f){return f.length>=1&&f[0]===3}static isChildOfOverflowingContentWidgets(f){return f.length>=1&&f[0]===2}static isChildOfOverlayWidgets(f){return f.length>=2&&f[0]===3&&f[1]===4}static isChildOfOverflowingOverlayWidgets(f){return f.length>=1&&f[0]===5}}class h{constructor(f,_,S){this.viewModel=f.viewModel;const I=f.configuration.options;this.layoutInfo=I.get(145),this.viewDomNode=_.viewDomNode,this.lineHeight=I.get(67),this.stickyTabStops=I.get(116),this.typicalHalfwidthCharacterWidth=I.get(50).typicalHalfwidthCharacterWidth,this.lastRenderData=S,this._context=f,this._viewHelper=_}getZoneAtCoord(f){return h.getZoneAtCoord(this._context,f)}static getZoneAtCoord(f,_){const S=f.viewLayout.getWhitespaceAtVerticalOffset(_);if(S){const I=S.verticalOffset+S.height/2,E=f.viewModel.getLineCount();let T=null,N,A=null;return S.afterLineNumber!==E&&(A=new L.Position(S.afterLineNumber+1,1)),S.afterLineNumber>0&&(T=new L.Position(S.afterLineNumber,f.viewModel.getLineMaxColumn(S.afterLineNumber))),A===null?N=T:T===null?N=A:_<I?N=T:N=A,{viewZoneId:S.id,afterLineNumber:S.afterLineNumber,positionBefore:T,positionAfter:A,position:N}}return null}getFullLineRangeAtCoord(f){if(this._context.viewLayout.isAfterLines(f)){const I=this._context.viewModel.getLineCount(),E=this._context.viewModel.getLineMaxColumn(I);return{range:new y.Range(I,E,I,E),isAfterLines:!0}}const _=this._context.viewLayout.getLineNumberAtVerticalOffset(f),S=this._context.viewModel.getLineMaxColumn(_);return{range:new y.Range(_,1,_,S),isAfterLines:!1}}getLineNumberAtVerticalOffset(f){return this._context.viewLayout.getLineNumberAtVerticalOffset(f)}isAfterLines(f){return this._context.viewLayout.isAfterLines(f)}isInTopPadding(f){return this._context.viewLayout.isInTopPadding(f)}isInBottomPadding(f){return this._context.viewLayout.isInBottomPadding(f)}getVerticalOffsetForLineNumber(f){return this._context.viewLayout.getVerticalOffsetForLineNumber(f)}findAttribute(f,_){return h._findAttribute(f,_,this._viewHelper.viewDomNode)}static _findAttribute(f,_,S){for(;f&&f!==f.ownerDocument.body;){if(f.hasAttribute&&f.hasAttribute(_))return f.getAttribute(_);if(f===S)return null;f=f.parentNode}return null}getLineWidth(f){return this._viewHelper.getLineWidth(f)}visibleRangeForPosition(f,_){return this._viewHelper.visibleRangeForPosition(f,_)}getPositionFromDOMInfo(f,_){return this._viewHelper.getPositionFromDOMInfo(f,_)}getCurrentScrollTop(){return this._context.viewLayout.getCurrentScrollTop()}getCurrentScrollLeft(){return this._context.viewLayout.getCurrentScrollLeft()}}e.HitTestContext=h;class v{constructor(f,_,S,I){this.editorPos=_,this.pos=S,this.relativePos=I,this.mouseVerticalOffset=Math.max(0,f.getCurrentScrollTop()+this.relativePos.y),this.mouseContentHorizontalOffset=f.getCurrentScrollLeft()+this.relativePos.x-f.layoutInfo.contentLeft,this.isInMarginArea=this.relativePos.x<f.layoutInfo.contentLeft&&this.relativePos.x>=f.layoutInfo.glyphMarginLeft,this.isInContentArea=!this.isInMarginArea,this.mouseColumn=Math.max(0,l._getMouseColumn(this.mouseContentHorizontalOffset,f.typicalHalfwidthCharacterWidth))}}class u extends v{constructor(f,_,S,I,E){super(f,_,S,I),this._ctx=f,E?(this.target=E,this.targetPath=k.PartFingerprints.collect(E,f.viewDomNode)):(this.target=null,this.targetPath=new Uint8Array(0))}toString(){return`pos(${this.pos.x},${this.pos.y}), editorPos(${this.editorPos.x},${this.editorPos.y}), relativePos(${this.relativePos.x},${this.relativePos.y}), mouseVerticalOffset: ${this.mouseVerticalOffset}, mouseContentHorizontalOffset: ${this.mouseContentHorizontalOffset}
	target: ${this.target?this.target.outerHTML:null}`}_getMouseColumn(f=null){return f&&f.column<this._ctx.viewModel.getLineMaxColumn(f.lineNumber)?p.CursorColumns.visibleColumnFromColumn(this._ctx.viewModel.getLineContent(f.lineNumber),f.column,this._ctx.viewModel.model.getOptions().tabSize)+1:this.mouseColumn}fulfillUnknown(f=null){return t.createUnknown(this.target,this._getMouseColumn(f),f)}fulfillTextarea(){return t.createTextarea(this.target,this._getMouseColumn())}fulfillMargin(f,_,S,I){return t.createMargin(f,this.target,this._getMouseColumn(_),_,S,I)}fulfillViewZone(f,_,S){return t.createViewZone(f,this.target,this._getMouseColumn(_),_,S)}fulfillContentText(f,_,S){return t.createContentText(this.target,this._getMouseColumn(f),f,_,S)}fulfillContentEmpty(f,_){return t.createContentEmpty(this.target,this._getMouseColumn(f),f,_)}fulfillContentWidget(f){return t.createContentWidget(this.target,this._getMouseColumn(),f)}fulfillScrollbar(f){return t.createScrollbar(this.target,this._getMouseColumn(f),f)}fulfillOverlayWidget(f){return t.createOverlayWidget(this.target,this._getMouseColumn(),f)}withTarget(f){return new u(this._ctx,this.editorPos,this.pos,this.relativePos,f)}}const d={isAfterLines:!0};function r(c){return{isAfterLines:!1,horizontalDistanceToText:c}}class l{constructor(f,_){this._context=f,this._viewHelper=_}mouseTargetIsWidget(f){const _=f.target,S=k.PartFingerprints.collect(_,this._viewHelper.viewDomNode);return!!(n.isChildOfContentWidgets(S)||n.isChildOfOverflowingContentWidgets(S)||n.isChildOfOverlayWidgets(S)||n.isChildOfOverflowingOverlayWidgets(S))}createMouseTarget(f,_,S,I,E){const T=new h(this._context,this._viewHelper,f),N=new u(T,_,S,I,E);try{const A=l._createMouseTarget(T,N,!1);if(A.type===6&&T.stickyTabStops&&A.position!==null){const O=l._snapToSoftTabBoundary(A.position,T.viewModel),M=y.Range.fromPositions(O,O).plusRange(A.range);return N.fulfillContentText(O,M,A.detail)}return A}catch{return N.fulfillUnknown()}}static _createMouseTarget(f,_,S){if(_.target===null){if(S)return _.fulfillUnknown();const T=l._doHitTest(f,_);return T.type===1?l.createMouseTargetFromHitTestPosition(f,_,T.spanNode,T.position,T.injectedText):this._createMouseTarget(f,_.withTarget(T.hitTarget),!0)}const I=_;let E=null;return!n.isChildOfOverflowGuard(_.targetPath)&&!n.isChildOfOverflowingContentWidgets(_.targetPath)&&!n.isChildOfOverflowingOverlayWidgets(_.targetPath)&&(E=E||_.fulfillUnknown()),E=E||l._hitTestContentWidget(f,I),E=E||l._hitTestOverlayWidget(f,I),E=E||l._hitTestMinimap(f,I),E=E||l._hitTestScrollbarSlider(f,I),E=E||l._hitTestViewZone(f,I),E=E||l._hitTestMargin(f,I),E=E||l._hitTestViewCursor(f,I),E=E||l._hitTestTextArea(f,I),E=E||l._hitTestViewLines(f,I,S),E=E||l._hitTestScrollbar(f,I),E||_.fulfillUnknown()}static _hitTestContentWidget(f,_){if(n.isChildOfContentWidgets(_.targetPath)||n.isChildOfOverflowingContentWidgets(_.targetPath)){const S=f.findAttribute(_.target,"widgetId");return S?_.fulfillContentWidget(S):_.fulfillUnknown()}return null}static _hitTestOverlayWidget(f,_){if(n.isChildOfOverlayWidgets(_.targetPath)||n.isChildOfOverflowingOverlayWidgets(_.targetPath)){const S=f.findAttribute(_.target,"widgetId");return S?_.fulfillOverlayWidget(S):_.fulfillUnknown()}return null}static _hitTestViewCursor(f,_){if(_.target){const S=f.lastRenderData.lastViewCursorsRenderData;for(const I of S)if(_.target===I.domNode)return _.fulfillContentText(I.position,null,{mightBeForeignElement:!1,injectedText:null})}if(_.isInContentArea){const S=f.lastRenderData.lastViewCursorsRenderData,I=_.mouseContentHorizontalOffset,E=_.mouseVerticalOffset;for(const T of S){if(I<T.contentLeft||I>T.contentLeft+T.width)continue;const N=f.getVerticalOffsetForLineNumber(T.position.lineNumber);if(N<=E&&E<=N+T.height)return _.fulfillContentText(T.position,null,{mightBeForeignElement:!1,injectedText:null})}}return null}static _hitTestViewZone(f,_){const S=f.getZoneAtCoord(_.mouseVerticalOffset);if(S){const I=_.isInContentArea?8:5;return _.fulfillViewZone(I,S.position,S)}return null}static _hitTestTextArea(f,_){return n.isTextArea(_.targetPath)?f.lastRenderData.lastTextareaPosition?_.fulfillContentText(f.lastRenderData.lastTextareaPosition,null,{mightBeForeignElement:!1,injectedText:null}):_.fulfillTextarea():null}static _hitTestMargin(f,_){if(_.isInMarginArea){const S=f.getFullLineRangeAtCoord(_.mouseVerticalOffset),I=S.range.getStartPosition();let E=Math.abs(_.relativePos.x);const T={isAfterLines:S.isAfterLines,glyphMarginLeft:f.layoutInfo.glyphMarginLeft,glyphMarginWidth:f.layoutInfo.glyphMarginWidth,lineNumbersWidth:f.layoutInfo.lineNumbersWidth,offsetX:E};if(E-=f.layoutInfo.glyphMarginLeft,E<=f.layoutInfo.glyphMarginWidth){const N=f.viewModel.coordinatesConverter.convertViewPositionToModelPosition(S.range.getStartPosition()),A=f.viewModel.glyphLanes.getLanesAtLine(N.lineNumber);return T.glyphMarginLane=A[Math.floor(E/f.lineHeight)],_.fulfillMargin(2,I,S.range,T)}return E-=f.layoutInfo.glyphMarginWidth,E<=f.layoutInfo.lineNumbersWidth?_.fulfillMargin(3,I,S.range,T):(E-=f.layoutInfo.lineNumbersWidth,_.fulfillMargin(4,I,S.range,T))}return null}static _hitTestViewLines(f,_,S){if(!n.isChildOfViewLines(_.targetPath))return null;if(f.isInTopPadding(_.mouseVerticalOffset))return _.fulfillContentEmpty(new L.Position(1,1),d);if(f.isAfterLines(_.mouseVerticalOffset)||f.isInBottomPadding(_.mouseVerticalOffset)){const E=f.viewModel.getLineCount(),T=f.viewModel.getLineMaxColumn(E);return _.fulfillContentEmpty(new L.Position(E,T),d)}if(S){if(n.isStrictChildOfViewLines(_.targetPath)){const E=f.getLineNumberAtVerticalOffset(_.mouseVerticalOffset);if(f.viewModel.getLineLength(E)===0){const N=f.getLineWidth(E),A=r(_.mouseContentHorizontalOffset-N);return _.fulfillContentEmpty(new L.Position(E,1),A)}const T=f.getLineWidth(E);if(_.mouseContentHorizontalOffset>=T){const N=r(_.mouseContentHorizontalOffset-T),A=new L.Position(E,f.viewModel.getLineMaxColumn(E));return _.fulfillContentEmpty(A,N)}}return _.fulfillUnknown()}const I=l._doHitTest(f,_);return I.type===1?l.createMouseTargetFromHitTestPosition(f,_,I.spanNode,I.position,I.injectedText):this._createMouseTarget(f,_.withTarget(I.hitTarget),!0)}static _hitTestMinimap(f,_){if(n.isChildOfMinimap(_.targetPath)){const S=f.getLineNumberAtVerticalOffset(_.mouseVerticalOffset),I=f.viewModel.getLineMaxColumn(S);return _.fulfillScrollbar(new L.Position(S,I))}return null}static _hitTestScrollbarSlider(f,_){if(n.isChildOfScrollableElement(_.targetPath)&&_.target&&_.target.nodeType===1){const S=_.target.className;if(S&&/\b(slider|scrollbar)\b/.test(S)){const I=f.getLineNumberAtVerticalOffset(_.mouseVerticalOffset),E=f.viewModel.getLineMaxColumn(I);return _.fulfillScrollbar(new L.Position(I,E))}}return null}static _hitTestScrollbar(f,_){if(n.isChildOfScrollableElement(_.targetPath)){const S=f.getLineNumberAtVerticalOffset(_.mouseVerticalOffset),I=f.viewModel.getLineMaxColumn(S);return _.fulfillScrollbar(new L.Position(S,I))}return null}getMouseColumn(f){const _=this._context.configuration.options,S=_.get(145),I=this._context.viewLayout.getCurrentScrollLeft()+f.x-S.contentLeft;return l._getMouseColumn(I,_.get(50).typicalHalfwidthCharacterWidth)}static _getMouseColumn(f,_){return f<0?1:Math.round(f/_)+1}static createMouseTargetFromHitTestPosition(f,_,S,I,E){const T=I.lineNumber,N=I.column,A=f.getLineWidth(T);if(_.mouseContentHorizontalOffset>A){const q=r(_.mouseContentHorizontalOffset-A);return _.fulfillContentEmpty(I,q)}const O=f.visibleRangeForPosition(T,N);if(!O)return _.fulfillUnknown(I);const M=O.left;if(Math.abs(_.mouseContentHorizontalOffset-M)<1)return _.fulfillContentText(I,null,{mightBeForeignElement:!!E,injectedText:E});const P=[];if(P.push({offset:O.left,column:N}),N>1){const q=f.visibleRangeForPosition(T,N-1);q&&P.push({offset:q.left,column:N-1})}const x=f.viewModel.getLineMaxColumn(T);if(N<x){const q=f.visibleRangeForPosition(T,N+1);q&&P.push({offset:q.left,column:N+1})}P.sort((q,K)=>q.offset-K.offset);const R=_.pos.toClientCoordinates(w.getWindow(f.viewDomNode)),B=S.getBoundingClientRect(),H=B.left<=R.clientX&&R.clientX<=B.right;let V=null;for(let q=1;q<P.length;q++){const K=P[q-1],U=P[q];if(K.offset<=_.mouseContentHorizontalOffset&&_.mouseContentHorizontalOffset<=U.offset){V=new y.Range(T,K.column,T,U.column);const $=Math.abs(K.offset-_.mouseContentHorizontalOffset),se=Math.abs(U.offset-_.mouseContentHorizontalOffset);I=$<se?new L.Position(T,K.column):new L.Position(T,U.column);break}}return _.fulfillContentText(I,V,{mightBeForeignElement:!H||!!E,injectedText:E})}static _doHitTestWithCaretRangeFromPoint(f,_){const S=f.getLineNumberAtVerticalOffset(_.mouseVerticalOffset),I=f.getVerticalOffsetForLineNumber(S),E=I+f.lineHeight;if(!(S===f.viewModel.getLineCount()&&_.mouseVerticalOffset>E)){const N=Math.floor((I+E)/2);let A=_.pos.y+(N-_.mouseVerticalOffset);A<=_.editorPos.y&&(A=_.editorPos.y+1),A>=_.editorPos.y+_.editorPos.height&&(A=_.editorPos.y+_.editorPos.height-1);const O=new m.PageCoordinates(_.pos.x,A),M=this._actualDoHitTestWithCaretRangeFromPoint(f,O.toClientCoordinates(w.getWindow(f.viewDomNode)));if(M.type===1)return M}return this._actualDoHitTestWithCaretRangeFromPoint(f,_.pos.toClientCoordinates(w.getWindow(f.viewDomNode)))}static _actualDoHitTestWithCaretRangeFromPoint(f,_){const S=w.getShadowRoot(f.viewDomNode);let I;if(S?typeof S.caretRangeFromPoint>"u"?I=o(S,_.clientX,_.clientY):I=S.caretRangeFromPoint(_.clientX,_.clientY):I=f.viewDomNode.ownerDocument.caretRangeFromPoint(_.clientX,_.clientY),!I||!I.startContainer)return new b;const E=I.startContainer;if(E.nodeType===E.TEXT_NODE){const T=E.parentNode,N=T?T.parentNode:null,A=N?N.parentNode:null;return(A&&A.nodeType===A.ELEMENT_NODE?A.className:null)===D.ViewLine.CLASS_NAME?s.createFromDOMInfo(f,T,I.startOffset):new b(E.parentNode)}else if(E.nodeType===E.ELEMENT_NODE){const T=E.parentNode,N=T?T.parentNode:null;return(N&&N.nodeType===N.ELEMENT_NODE?N.className:null)===D.ViewLine.CLASS_NAME?s.createFromDOMInfo(f,E,E.textContent.length):new b(E)}return new b}static _doHitTestWithCaretPositionFromPoint(f,_){const S=f.viewDomNode.ownerDocument.caretPositionFromPoint(_.clientX,_.clientY);if(S.offsetNode.nodeType===S.offsetNode.TEXT_NODE){const I=S.offsetNode.parentNode,E=I?I.parentNode:null,T=E?E.parentNode:null;return(T&&T.nodeType===T.ELEMENT_NODE?T.className:null)===D.ViewLine.CLASS_NAME?s.createFromDOMInfo(f,S.offsetNode.parentNode,S.offset):new b(S.offsetNode.parentNode)}if(S.offsetNode.nodeType===S.offsetNode.ELEMENT_NODE){const I=S.offsetNode.parentNode,E=I&&I.nodeType===I.ELEMENT_NODE?I.className:null,T=I?I.parentNode:null,N=T&&T.nodeType===T.ELEMENT_NODE?T.className:null;if(E===D.ViewLine.CLASS_NAME){const A=S.offsetNode.childNodes[Math.min(S.offset,S.offsetNode.childNodes.length-1)];if(A)return s.createFromDOMInfo(f,A,0)}else if(N===D.ViewLine.CLASS_NAME)return s.createFromDOMInfo(f,S.offsetNode,0)}return new b(S.offsetNode)}static _snapToSoftTabBoundary(f,_){const S=_.getLineContent(f.lineNumber),{tabSize:I}=_.model.getOptions(),E=C.AtomicTabMoveOperations.atomicPosition(S,f.column-1,I,2);return E!==-1?new L.Position(f.lineNumber,E+1):f}static _doHitTest(f,_){let S=new b;if(typeof f.viewDomNode.ownerDocument.caretRangeFromPoint=="function"?S=this._doHitTestWithCaretRangeFromPoint(f,_):f.viewDomNode.ownerDocument.caretPositionFromPoint&&(S=this._doHitTestWithCaretPositionFromPoint(f,_.pos.toClientCoordinates(w.getWindow(f.viewDomNode)))),S.type===1){const I=f.viewModel.getInjectedTextAt(S.position),E=f.viewModel.normalizePosition(S.position,2);(I||!E.equals(S.position))&&(S=new a(E,S.spanNode,I))}return S}}e.MouseTargetFactory=l;function o(c,f,_){const S=document.createRange();let I=c.elementFromPoint(f,_);if(I!==null){for(;I&&I.firstChild&&I.firstChild.nodeType!==I.firstChild.TEXT_NODE&&I.lastChild&&I.lastChild.firstChild;)I=I.lastChild;const E=I.getBoundingClientRect(),T=w.getWindow(I),N=T.getComputedStyle(I,null).getPropertyValue("font-style"),A=T.getComputedStyle(I,null).getPropertyValue("font-variant"),O=T.getComputedStyle(I,null).getPropertyValue("font-weight"),M=T.getComputedStyle(I,null).getPropertyValue("font-size"),P=T.getComputedStyle(I,null).getPropertyValue("line-height"),x=T.getComputedStyle(I,null).getPropertyValue("font-family"),R=`${N} ${A} ${O} ${M}/${P} ${x}`,B=I.innerText;let H=E.left,V=0,q;if(f>E.left+E.width)V=B.length;else{const K=g.getInstance();for(let U=0;U<B.length+1;U++){if(q=K.getCharWidth(B.charAt(U),R)/2,H+=q,f<H){V=U;break}H+=q}}S.setStart(I.firstChild,V),S.setEnd(I.firstChild,V)}return S}class g{static getInstance(){return g._INSTANCE||(g._INSTANCE=new g),g._INSTANCE}constructor(){this._cache={},this._canvas=document.createElement("canvas")}getCharWidth(f,_){const S=f+_;if(this._cache[S])return this._cache[S];const I=this._canvas.getContext("2d");I.font=_;const T=I.measureText(f).width;return this._cache[S]=T,T}}g._INSTANCE=null}),define(te[888],ie([1,0,6,72,2,17,386,175,158,9,24,163,79]),function(J,e,m,k,D,L,y,p,w,C,b,a,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MouseHandler=void 0;class i extends a.ViewEventHandler{constructor(d,r,l){super(),this._mouseLeaveMonitor=null,this._context=d,this.viewController=r,this.viewHelper=l,this.mouseTargetFactory=new y.MouseTargetFactory(this._context,l),this._mouseDownOperation=this._register(new t(this._context,this.viewController,this.viewHelper,this.mouseTargetFactory,(c,f)=>this._createMouseTarget(c,f),c=>this._getMouseColumn(c))),this.lastMouseLeaveTime=-1,this._height=this._context.configuration.options.get(145).height;const o=new p.EditorMouseEventFactory(this.viewHelper.viewDomNode);this._register(o.onContextMenu(this.viewHelper.viewDomNode,c=>this._onContextMenu(c,!0))),this._register(o.onMouseMove(this.viewHelper.viewDomNode,c=>{this._onMouseMove(c),this._mouseLeaveMonitor||(this._mouseLeaveMonitor=m.addDisposableListener(this.viewHelper.viewDomNode.ownerDocument,"mousemove",f=>{this.viewHelper.viewDomNode.contains(f.target)||this._onMouseLeave(new p.EditorMouseEvent(f,!1,this.viewHelper.viewDomNode))}))})),this._register(o.onMouseUp(this.viewHelper.viewDomNode,c=>this._onMouseUp(c))),this._register(o.onMouseLeave(this.viewHelper.viewDomNode,c=>this._onMouseLeave(c)));let g=0;this._register(o.onPointerDown(this.viewHelper.viewDomNode,(c,f)=>{g=f})),this._register(m.addDisposableListener(this.viewHelper.viewDomNode,m.EventType.POINTER_UP,c=>{this._mouseDownOperation.onPointerUp()})),this._register(o.onMouseDown(this.viewHelper.viewDomNode,c=>this._onMouseDown(c,g))),this._setupMouseWheelZoomListener(),this._context.addEventHandler(this)}_setupMouseWheelZoomListener(){const d=s.MouseWheelClassifier.INSTANCE;let r=0,l=w.EditorZoom.getZoomLevel(),o=!1,g=0;const c=_=>{if(this.viewController.emitMouseWheel(_),!this._context.configuration.options.get(76))return;const S=new k.StandardWheelEvent(_);if(d.acceptStandardWheelEvent(S),d.isPhysicalMouseWheel()){if(f(_)){const I=w.EditorZoom.getZoomLevel(),E=S.deltaY>0?1:-1;w.EditorZoom.setZoomLevel(I+E),S.preventDefault(),S.stopPropagation()}}else Date.now()-r>50&&(l=w.EditorZoom.getZoomLevel(),o=f(_),g=0),r=Date.now(),g+=S.deltaY,o&&(w.EditorZoom.setZoomLevel(l+g/5),S.preventDefault(),S.stopPropagation())};this._register(m.addDisposableListener(this.viewHelper.viewDomNode,m.EventType.MOUSE_WHEEL,c,{capture:!0,passive:!1}));function f(_){return L.isMacintosh?(_.metaKey||_.ctrlKey)&&!_.shiftKey&&!_.altKey:_.ctrlKey&&!_.metaKey&&!_.shiftKey&&!_.altKey}}dispose(){this._context.removeEventHandler(this),this._mouseLeaveMonitor&&(this._mouseLeaveMonitor.dispose(),this._mouseLeaveMonitor=null),super.dispose()}onConfigurationChanged(d){if(d.hasChanged(145)){const r=this._context.configuration.options.get(145).height;this._height!==r&&(this._height=r,this._mouseDownOperation.onHeightChanged())}return!1}onCursorStateChanged(d){return this._mouseDownOperation.onCursorStateChanged(d),!1}onFocusChanged(d){return!1}getTargetAtClientPoint(d,r){const o=new p.ClientCoordinates(d,r).toPageCoordinates(m.getWindow(this.viewHelper.viewDomNode)),g=(0,p.createEditorPagePosition)(this.viewHelper.viewDomNode);if(o.y<g.y||o.y>g.y+g.height||o.x<g.x||o.x>g.x+g.width)return null;const c=(0,p.createCoordinatesRelativeToEditor)(this.viewHelper.viewDomNode,g,o);return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),g,o,c,null)}_createMouseTarget(d,r){let l=d.target;if(!this.viewHelper.viewDomNode.contains(l)){const o=m.getShadowRoot(this.viewHelper.viewDomNode);o&&(l=o.elementsFromPoint(d.posx,d.posy).find(g=>this.viewHelper.viewDomNode.contains(g)))}return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),d.editorPos,d.pos,d.relativePos,r?l:null)}_getMouseColumn(d){return this.mouseTargetFactory.getMouseColumn(d.relativePos)}_onContextMenu(d,r){this.viewController.emitContextMenu({event:d,target:this._createMouseTarget(d,r)})}_onMouseMove(d){this.mouseTargetFactory.mouseTargetIsWidget(d)||d.preventDefault(),!(this._mouseDownOperation.isActive()||d.timestamp<this.lastMouseLeaveTime)&&this.viewController.emitMouseMove({event:d,target:this._createMouseTarget(d,!0)})}_onMouseLeave(d){this._mouseLeaveMonitor&&(this._mouseLeaveMonitor.dispose(),this._mouseLeaveMonitor=null),this.lastMouseLeaveTime=new Date().getTime(),this.viewController.emitMouseLeave({event:d,target:null})}_onMouseUp(d){this.viewController.emitMouseUp({event:d,target:this._createMouseTarget(d,!0)})}_onMouseDown(d,r){const l=this._createMouseTarget(d,!0),o=l.type===6||l.type===7,g=l.type===2||l.type===3||l.type===4,c=l.type===3,f=this._context.configuration.options.get(109),_=l.type===8||l.type===5,S=l.type===9;let I=d.leftButton||d.middleButton;L.isMacintosh&&d.leftButton&&d.ctrlKey&&(I=!1);const E=()=>{d.preventDefault(),this.viewHelper.focusTextArea()};if(I&&(o||c&&f))E(),this._mouseDownOperation.start(l.type,d,r);else if(g)d.preventDefault();else if(_){const T=l.detail;I&&this.viewHelper.shouldSuppressMouseDownOnViewZone(T.viewZoneId)&&(E(),this._mouseDownOperation.start(l.type,d,r),d.preventDefault())}else S&&this.viewHelper.shouldSuppressMouseDownOnWidget(l.detail)&&(E(),d.preventDefault());this.viewController.emitMouseDown({event:d,target:l})}}e.MouseHandler=i;class t extends D.Disposable{constructor(d,r,l,o,g,c){super(),this._context=d,this._viewController=r,this._viewHelper=l,this._mouseTargetFactory=o,this._createMouseTarget=g,this._getMouseColumn=c,this._mouseMoveMonitor=this._register(new p.GlobalEditorPointerMoveMonitor(this._viewHelper.viewDomNode)),this._topBottomDragScrolling=this._register(new n(this._context,this._viewHelper,this._mouseTargetFactory,(f,_,S)=>this._dispatchMouse(f,_,S))),this._mouseState=new v,this._currentSelection=new b.Selection(1,1,1,1),this._isActive=!1,this._lastMouseEvent=null}dispose(){super.dispose()}isActive(){return this._isActive}_onMouseDownThenMove(d){this._lastMouseEvent=d,this._mouseState.setModifiers(d);const r=this._findMousePosition(d,!1);r&&(this._mouseState.isDragAndDrop?this._viewController.emitMouseDrag({event:d,target:r}):r.type===13&&(r.outsidePosition==="above"||r.outsidePosition==="below")?this._topBottomDragScrolling.start(r,d):(this._topBottomDragScrolling.stop(),this._dispatchMouse(r,!0,1)))}start(d,r,l){this._lastMouseEvent=r,this._mouseState.setStartedOnLineNumbers(d===3),this._mouseState.setStartButtons(r),this._mouseState.setModifiers(r);const o=this._findMousePosition(r,!0);if(!o||!o.position)return;this._mouseState.trySetCount(r.detail,o.position),r.detail=this._mouseState.count;const g=this._context.configuration.options;if(!g.get(91)&&g.get(35)&&!g.get(22)&&!this._mouseState.altKey&&r.detail<2&&!this._isActive&&!this._currentSelection.isEmpty()&&o.type===6&&o.position&&this._currentSelection.containsPosition(o.position)){this._mouseState.isDragAndDrop=!0,this._isActive=!0,this._mouseMoveMonitor.startMonitoring(this._viewHelper.viewLinesDomNode,l,r.buttons,c=>this._onMouseDownThenMove(c),c=>{const f=this._findMousePosition(this._lastMouseEvent,!1);m.isKeyboardEvent(c)?this._viewController.emitMouseDropCanceled():this._viewController.emitMouseDrop({event:this._lastMouseEvent,target:f?this._createMouseTarget(this._lastMouseEvent,!0):null}),this._stop()});return}this._mouseState.isDragAndDrop=!1,this._dispatchMouse(o,r.shiftKey,1),this._isActive||(this._isActive=!0,this._mouseMoveMonitor.startMonitoring(this._viewHelper.viewLinesDomNode,l,r.buttons,c=>this._onMouseDownThenMove(c),()=>this._stop()))}_stop(){this._isActive=!1,this._topBottomDragScrolling.stop()}onHeightChanged(){this._mouseMoveMonitor.stopMonitoring()}onPointerUp(){this._mouseMoveMonitor.stopMonitoring()}onCursorStateChanged(d){this._currentSelection=d.selections[0]}_getPositionOutsideEditor(d){const r=d.editorPos,l=this._context.viewModel,o=this._context.viewLayout,g=this._getMouseColumn(d);if(d.posy<r.y){const f=r.y-d.posy,_=Math.max(o.getCurrentScrollTop()-f,0),S=y.HitTestContext.getZoneAtCoord(this._context,_);if(S){const E=this._helpPositionJumpOverViewZone(S);if(E)return y.MouseTarget.createOutsideEditor(g,E,"above",f)}const I=o.getLineNumberAtVerticalOffset(_);return y.MouseTarget.createOutsideEditor(g,new C.Position(I,1),"above",f)}if(d.posy>r.y+r.height){const f=d.posy-r.y-r.height,_=o.getCurrentScrollTop()+d.relativePos.y,S=y.HitTestContext.getZoneAtCoord(this._context,_);if(S){const E=this._helpPositionJumpOverViewZone(S);if(E)return y.MouseTarget.createOutsideEditor(g,E,"below",f)}const I=o.getLineNumberAtVerticalOffset(_);return y.MouseTarget.createOutsideEditor(g,new C.Position(I,l.getLineMaxColumn(I)),"below",f)}const c=o.getLineNumberAtVerticalOffset(o.getCurrentScrollTop()+d.relativePos.y);if(d.posx<r.x){const f=r.x-d.posx;return y.MouseTarget.createOutsideEditor(g,new C.Position(c,1),"left",f)}if(d.posx>r.x+r.width){const f=d.posx-r.x-r.width;return y.MouseTarget.createOutsideEditor(g,new C.Position(c,l.getLineMaxColumn(c)),"right",f)}return null}_findMousePosition(d,r){const l=this._getPositionOutsideEditor(d);if(l)return l;const o=this._createMouseTarget(d,r);if(!o.position)return null;if(o.type===8||o.type===5){const c=this._helpPositionJumpOverViewZone(o.detail);if(c)return y.MouseTarget.createViewZone(o.type,o.element,o.mouseColumn,c,o.detail)}return o}_helpPositionJumpOverViewZone(d){const r=new C.Position(this._currentSelection.selectionStartLineNumber,this._currentSelection.selectionStartColumn),l=d.positionBefore,o=d.positionAfter;return l&&o?l.isBefore(r)?l:o:null}_dispatchMouse(d,r,l){d.position&&this._viewController.dispatchMouse({position:d.position,mouseColumn:d.mouseColumn,startedOnLineNumbers:this._mouseState.startedOnLineNumbers,revealType:l,inSelectionMode:r,mouseDownCount:this._mouseState.count,altKey:this._mouseState.altKey,ctrlKey:this._mouseState.ctrlKey,metaKey:this._mouseState.metaKey,shiftKey:this._mouseState.shiftKey,leftButton:this._mouseState.leftButton,middleButton:this._mouseState.middleButton,onInjectedText:d.type===6&&d.detail.injectedText!==null})}}class n extends D.Disposable{constructor(d,r,l,o){super(),this._context=d,this._viewHelper=r,this._mouseTargetFactory=l,this._dispatchMouse=o,this._operation=null}dispose(){super.dispose(),this.stop()}start(d,r){this._operation?this._operation.setPosition(d,r):this._operation=new h(this._context,this._viewHelper,this._mouseTargetFactory,this._dispatchMouse,d,r)}stop(){this._operation&&(this._operation.dispose(),this._operation=null)}}class h extends D.Disposable{constructor(d,r,l,o,g,c){super(),this._context=d,this._viewHelper=r,this._mouseTargetFactory=l,this._dispatchMouse=o,this._position=g,this._mouseEvent=c,this._lastTime=Date.now(),this._animationFrameDisposable=m.scheduleAtNextAnimationFrame(m.getWindow(c.browserEvent),()=>this._execute())}dispose(){this._animationFrameDisposable.dispose(),super.dispose()}setPosition(d,r){this._position=d,this._mouseEvent=r}_tick(){const d=Date.now(),r=d-this._lastTime;return this._lastTime=d,r}_getScrollSpeed(){const d=this._context.configuration.options.get(67),r=this._context.configuration.options.get(145).height/d,l=this._position.outsideDistance/d;return l<=1.5?Math.max(30,r*(1+l)):l<=3?Math.max(60,r*(2+l)):Math.max(200,r*(7+l))}_execute(){const d=this._context.configuration.options.get(67),r=this._getScrollSpeed(),l=this._tick(),o=r*(l/1e3)*d,g=this._position.outsidePosition==="above"?-o:o;this._context.viewModel.viewLayout.deltaScrollNow(0,g),this._viewHelper.renderNow();const c=this._context.viewLayout.getLinesViewportData(),f=this._position.outsidePosition==="above"?c.startLineNumber:c.endLineNumber;let _;{const S=(0,p.createEditorPagePosition)(this._viewHelper.viewDomNode),I=this._context.configuration.options.get(145).horizontalScrollbarHeight,E=new p.PageCoordinates(this._mouseEvent.pos.x,S.y+S.height-I-.1),T=(0,p.createCoordinatesRelativeToEditor)(this._viewHelper.viewDomNode,S,E);_=this._mouseTargetFactory.createMouseTarget(this._viewHelper.getLastRenderData(),S,E,T,null)}(!_.position||_.position.lineNumber!==f)&&(this._position.outsidePosition==="above"?_=y.MouseTarget.createOutsideEditor(this._position.mouseColumn,new C.Position(f,1),"above",this._position.outsideDistance):_=y.MouseTarget.createOutsideEditor(this._position.mouseColumn,new C.Position(f,this._context.viewModel.getLineMaxColumn(f)),"below",this._position.outsideDistance)),this._dispatchMouse(_,!0,2),this._animationFrameDisposable=m.scheduleAtNextAnimationFrame(m.getWindow(_.element),()=>this._execute())}}class v{get altKey(){return this._altKey}get ctrlKey(){return this._ctrlKey}get metaKey(){return this._metaKey}get shiftKey(){return this._shiftKey}get leftButton(){return this._leftButton}get middleButton(){return this._middleButton}get startedOnLineNumbers(){return this._startedOnLineNumbers}constructor(){this._altKey=!1,this._ctrlKey=!1,this._metaKey=!1,this._shiftKey=!1,this._leftButton=!1,this._middleButton=!1,this._startedOnLineNumbers=!1,this._lastMouseDownPosition=null,this._lastMouseDownPositionEqualCount=0,this._lastMouseDownCount=0,this._lastSetMouseDownCountTime=0,this.isDragAndDrop=!1}get count(){return this._lastMouseDownCount}setModifiers(d){this._altKey=d.altKey,this._ctrlKey=d.ctrlKey,this._metaKey=d.metaKey,this._shiftKey=d.shiftKey}setStartButtons(d){this._leftButton=d.leftButton,this._middleButton=d.middleButton}setStartedOnLineNumbers(d){this._startedOnLineNumbers=d}trySetCount(d,r){const l=new Date().getTime();l-this._lastSetMouseDownCountTime>v.CLEAR_MOUSE_DOWN_COUNT_TIME&&(d=1),this._lastSetMouseDownCountTime=l,d>this._lastMouseDownCount+1&&(d=this._lastMouseDownCount+1),this._lastMouseDownPosition&&this._lastMouseDownPosition.equals(r)?this._lastMouseDownPositionEqualCount++:this._lastMouseDownPositionEqualCount=1,this._lastMouseDownPosition=r,this._lastMouseDownCount=Math.min(d,this._lastMouseDownPositionEqualCount)}}v.CLEAR_MOUSE_DOWN_COUNT_TIME=400}),define(te[889],ie([1,0,235,6,67,52,2,17,888,203,175]),function(J,e,m,k,D,L,y,p,w,C,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PointerHandler=e.PointerEventHandler=void 0;class a extends w.MouseHandler{constructor(n,h,v){super(n,h,v),this._register(D.Gesture.addTarget(this.viewHelper.linesContentDomNode)),this._register(k.addDisposableListener(this.viewHelper.linesContentDomNode,D.EventType.Tap,d=>this.onTap(d))),this._register(k.addDisposableListener(this.viewHelper.linesContentDomNode,D.EventType.Change,d=>this.onChange(d))),this._register(k.addDisposableListener(this.viewHelper.linesContentDomNode,D.EventType.Contextmenu,d=>this._onContextMenu(new b.EditorMouseEvent(d,!1,this.viewHelper.viewDomNode),!1))),this._lastPointerType="mouse",this._register(k.addDisposableListener(this.viewHelper.linesContentDomNode,"pointerdown",d=>{const r=d.pointerType;if(r==="mouse"){this._lastPointerType="mouse";return}else r==="touch"?this._lastPointerType="touch":this._lastPointerType="pen"}));const u=new b.EditorPointerEventFactory(this.viewHelper.viewDomNode);this._register(u.onPointerMove(this.viewHelper.viewDomNode,d=>this._onMouseMove(d))),this._register(u.onPointerUp(this.viewHelper.viewDomNode,d=>this._onMouseUp(d))),this._register(u.onPointerLeave(this.viewHelper.viewDomNode,d=>this._onMouseLeave(d))),this._register(u.onPointerDown(this.viewHelper.viewDomNode,(d,r)=>this._onMouseDown(d,r)))}onTap(n){!n.initialTarget||!this.viewHelper.linesContentDomNode.contains(n.initialTarget)||(n.preventDefault(),this.viewHelper.focusTextArea(),this._dispatchGesture(n,!1))}onChange(n){this._lastPointerType==="touch"&&this._context.viewModel.viewLayout.deltaScrollNow(-n.translationX,-n.translationY),this._lastPointerType==="pen"&&this._dispatchGesture(n,!0)}_dispatchGesture(n,h){const v=this._createMouseTarget(new b.EditorMouseEvent(n,!1,this.viewHelper.viewDomNode),!1);v.position&&this.viewController.dispatchMouse({position:v.position,mouseColumn:v.position.column,startedOnLineNumbers:!1,revealType:1,mouseDownCount:n.tapCount,inSelectionMode:h,altKey:!1,ctrlKey:!1,metaKey:!1,shiftKey:!1,leftButton:!1,middleButton:!1,onInjectedText:v.type===6&&v.detail.injectedText!==null})}_onMouseDown(n,h){n.browserEvent.pointerType!=="touch"&&super._onMouseDown(n,h)}}e.PointerEventHandler=a;class s extends w.MouseHandler{constructor(n,h,v){super(n,h,v),this._register(D.Gesture.addTarget(this.viewHelper.linesContentDomNode)),this._register(k.addDisposableListener(this.viewHelper.linesContentDomNode,D.EventType.Tap,u=>this.onTap(u))),this._register(k.addDisposableListener(this.viewHelper.linesContentDomNode,D.EventType.Change,u=>this.onChange(u))),this._register(k.addDisposableListener(this.viewHelper.linesContentDomNode,D.EventType.Contextmenu,u=>this._onContextMenu(new b.EditorMouseEvent(u,!1,this.viewHelper.viewDomNode),!1)))}onTap(n){n.preventDefault(),this.viewHelper.focusTextArea();const h=this._createMouseTarget(new b.EditorMouseEvent(n,!1,this.viewHelper.viewDomNode),!1);if(h.position){const v=document.createEvent("CustomEvent");v.initEvent(C.TextAreaSyntethicEvents.Tap,!1,!0),this.viewHelper.dispatchTextAreaEvent(v),this.viewController.moveTo(h.position,1)}}onChange(n){this._context.viewModel.viewLayout.deltaScrollNow(-n.translationX,-n.translationY)}}class i extends y.Disposable{constructor(n,h,v){super(),(p.isIOS||p.isAndroid&&p.isMobile)&&m.BrowserFeatures.pointerEvents?this.handler=this._register(new a(n,h,v)):L.mainWindow.TouchEvent?this.handler=this._register(new s(n,h,v)):this.handler=this._register(new w.MouseHandler(n,h,v))}getTargetAtClientPoint(n,h){return this.handler.getTargetAtClientPoint(n,h)}}e.PointerHandler=i}),define(te[890],ie([1,0,215,15,17,70,157,249,56,516,271,9,5,458]),function(J,e,m,k,D,L,y,p,w,C,b,a,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewLines=void 0;class i{constructor(){this._currentVisibleRange=new s.Range(1,1,1,1)}getCurrentVisibleRange(){return this._currentVisibleRange}setCurrentVisibleRange(u){this._currentVisibleRange=u}}class t{constructor(u,d,r,l,o,g,c){this.minimalReveal=u,this.lineNumber=d,this.startColumn=r,this.endColumn=l,this.startScrollTop=o,this.stopScrollTop=g,this.scrollType=c,this.type="range",this.minLineNumber=d,this.maxLineNumber=d}}class n{constructor(u,d,r,l,o){this.minimalReveal=u,this.selections=d,this.startScrollTop=r,this.stopScrollTop=l,this.scrollType=o,this.type="selections";let g=d[0].startLineNumber,c=d[0].endLineNumber;for(let f=1,_=d.length;f<_;f++){const S=d[f];g=Math.min(g,S.startLineNumber),c=Math.max(c,S.endLineNumber)}this.minLineNumber=g,this.maxLineNumber=c}}class h extends w.ViewPart{constructor(u,d){super(u),this._linesContent=d,this._textRangeRestingSpot=document.createElement("div"),this._visibleLines=new p.VisibleLinesCollection(this),this.domNode=this._visibleLines.domNode;const r=this._context.configuration,l=this._context.configuration.options,o=l.get(50),g=l.get(146);this._lineHeight=l.get(67),this._typicalHalfwidthCharacterWidth=o.typicalHalfwidthCharacterWidth,this._isViewportWrapping=g.isViewportWrapping,this._revealHorizontalRightPadding=l.get(100),this._cursorSurroundingLines=l.get(29),this._cursorSurroundingLinesStyle=l.get(30),this._canUseLayerHinting=!l.get(32),this._viewLineOptions=new b.ViewLineOptions(r,this._context.theme.type),w.PartFingerprints.write(this.domNode,8),this.domNode.setClassName(`view-lines ${m.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME}`),(0,L.applyFontInfo)(this.domNode,o),this._maxLineWidth=0,this._asyncUpdateLineWidths=new k.RunOnceScheduler(()=>{this._updateLineWidthsSlow()},200),this._asyncCheckMonospaceFontAssumptions=new k.RunOnceScheduler(()=>{this._checkMonospaceFontAssumptions()},2e3),this._lastRenderedData=new i,this._horizontalRevealRequest=null,this._stickyScrollEnabled=l.get(115).enabled,this._maxNumberStickyLines=l.get(115).maxLineCount}dispose(){this._asyncUpdateLineWidths.dispose(),this._asyncCheckMonospaceFontAssumptions.dispose(),super.dispose()}getDomNode(){return this.domNode}createVisibleLine(){return new b.ViewLine(this._viewLineOptions)}onConfigurationChanged(u){this._visibleLines.onConfigurationChanged(u),u.hasChanged(146)&&(this._maxLineWidth=0);const d=this._context.configuration.options,r=d.get(50),l=d.get(146);return this._lineHeight=d.get(67),this._typicalHalfwidthCharacterWidth=r.typicalHalfwidthCharacterWidth,this._isViewportWrapping=l.isViewportWrapping,this._revealHorizontalRightPadding=d.get(100),this._cursorSurroundingLines=d.get(29),this._cursorSurroundingLinesStyle=d.get(30),this._canUseLayerHinting=!d.get(32),this._stickyScrollEnabled=d.get(115).enabled,this._maxNumberStickyLines=d.get(115).maxLineCount,(0,L.applyFontInfo)(this.domNode,r),this._onOptionsMaybeChanged(),u.hasChanged(145)&&(this._maxLineWidth=0),!0}_onOptionsMaybeChanged(){const u=this._context.configuration,d=new b.ViewLineOptions(u,this._context.theme.type);if(!this._viewLineOptions.equals(d)){this._viewLineOptions=d;const r=this._visibleLines.getStartLineNumber(),l=this._visibleLines.getEndLineNumber();for(let o=r;o<=l;o++)this._visibleLines.getVisibleLine(o).onOptionsChanged(this._viewLineOptions);return!0}return!1}onCursorStateChanged(u){const d=this._visibleLines.getStartLineNumber(),r=this._visibleLines.getEndLineNumber();let l=!1;for(let o=d;o<=r;o++)l=this._visibleLines.getVisibleLine(o).onSelectionChanged()||l;return l}onDecorationsChanged(u){{const d=this._visibleLines.getStartLineNumber(),r=this._visibleLines.getEndLineNumber();for(let l=d;l<=r;l++)this._visibleLines.getVisibleLine(l).onDecorationsChanged()}return!0}onFlushed(u){const d=this._visibleLines.onFlushed(u);return this._maxLineWidth=0,d}onLinesChanged(u){return this._visibleLines.onLinesChanged(u)}onLinesDeleted(u){return this._visibleLines.onLinesDeleted(u)}onLinesInserted(u){return this._visibleLines.onLinesInserted(u)}onRevealRangeRequest(u){const d=this._computeScrollTopToRevealRange(this._context.viewLayout.getFutureViewport(),u.source,u.minimalReveal,u.range,u.selections,u.verticalType);if(d===-1)return!1;let r=this._context.viewLayout.validateScrollPosition({scrollTop:d});u.revealHorizontal?u.range&&u.range.startLineNumber!==u.range.endLineNumber?r={scrollTop:r.scrollTop,scrollLeft:0}:u.range?this._horizontalRevealRequest=new t(u.minimalReveal,u.range.startLineNumber,u.range.startColumn,u.range.endColumn,this._context.viewLayout.getCurrentScrollTop(),r.scrollTop,u.scrollType):u.selections&&u.selections.length>0&&(this._horizontalRevealRequest=new n(u.minimalReveal,u.selections,this._context.viewLayout.getCurrentScrollTop(),r.scrollTop,u.scrollType)):this._horizontalRevealRequest=null;const o=Math.abs(this._context.viewLayout.getCurrentScrollTop()-r.scrollTop)<=this._lineHeight?1:u.scrollType;return this._context.viewModel.viewLayout.setScrollPosition(r,o),!0}onScrollChanged(u){if(this._horizontalRevealRequest&&u.scrollLeftChanged&&(this._horizontalRevealRequest=null),this._horizontalRevealRequest&&u.scrollTopChanged){const d=Math.min(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop),r=Math.max(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop);(u.scrollTop<d||u.scrollTop>r)&&(this._horizontalRevealRequest=null)}return this.domNode.setWidth(u.scrollWidth),this._visibleLines.onScrollChanged(u)||!0}onTokensChanged(u){return this._visibleLines.onTokensChanged(u)}onZonesChanged(u){return this._context.viewModel.viewLayout.setMaxLineWidth(this._maxLineWidth),this._visibleLines.onZonesChanged(u)}onThemeChanged(u){return this._onOptionsMaybeChanged()}getPositionFromDOMInfo(u,d){const r=this._getViewLineDomNode(u);if(r===null)return null;const l=this._getLineNumberFor(r);if(l===-1||l<1||l>this._context.viewModel.getLineCount())return null;if(this._context.viewModel.getLineMaxColumn(l)===1)return new a.Position(l,1);const o=this._visibleLines.getStartLineNumber(),g=this._visibleLines.getEndLineNumber();if(l<o||l>g)return null;let c=this._visibleLines.getVisibleLine(l).getColumnOfNodeOffset(u,d);const f=this._context.viewModel.getLineMinColumn(l);return c<f&&(c=f),new a.Position(l,c)}_getViewLineDomNode(u){for(;u&&u.nodeType===1;){if(u.className===b.ViewLine.CLASS_NAME)return u;u=u.parentElement}return null}_getLineNumberFor(u){const d=this._visibleLines.getStartLineNumber(),r=this._visibleLines.getEndLineNumber();for(let l=d;l<=r;l++){const o=this._visibleLines.getVisibleLine(l);if(u===o.getDomNode())return l}return-1}getLineWidth(u){const d=this._visibleLines.getStartLineNumber(),r=this._visibleLines.getEndLineNumber();if(u<d||u>r)return-1;const l=new C.DomReadingContext(this.domNode.domNode,this._textRangeRestingSpot),o=this._visibleLines.getVisibleLine(u).getWidth(l);return this._updateLineWidthsSlowIfDomDidLayout(l),o}linesVisibleRangesForRange(u,d){if(this.shouldRender())return null;const r=u.endLineNumber,l=s.Range.intersectRanges(u,this._lastRenderedData.getCurrentVisibleRange());if(!l)return null;const o=[];let g=0;const c=new C.DomReadingContext(this.domNode.domNode,this._textRangeRestingSpot);let f=0;d&&(f=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new a.Position(l.startLineNumber,1)).lineNumber);const _=this._visibleLines.getStartLineNumber(),S=this._visibleLines.getEndLineNumber();for(let I=l.startLineNumber;I<=l.endLineNumber;I++){if(I<_||I>S)continue;const E=I===l.startLineNumber?l.startColumn:1,T=I!==l.endLineNumber,N=T?this._context.viewModel.getLineMaxColumn(I):l.endColumn,A=this._visibleLines.getVisibleLine(I).getVisibleRangesForRange(I,E,N,c);if(A){if(d&&I<r){const O=f;f=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new a.Position(I+1,1)).lineNumber,O!==f&&(A.ranges[A.ranges.length-1].width+=this._typicalHalfwidthCharacterWidth)}o[g++]=new y.LineVisibleRanges(A.outsideRenderedLine,I,y.HorizontalRange.from(A.ranges),T)}}return this._updateLineWidthsSlowIfDomDidLayout(c),g===0?null:o}_visibleRangesForLineRange(u,d,r){if(this.shouldRender()||u<this._visibleLines.getStartLineNumber()||u>this._visibleLines.getEndLineNumber())return null;const l=new C.DomReadingContext(this.domNode.domNode,this._textRangeRestingSpot),o=this._visibleLines.getVisibleLine(u).getVisibleRangesForRange(u,d,r,l);return this._updateLineWidthsSlowIfDomDidLayout(l),o}visibleRangeForPosition(u){const d=this._visibleRangesForLineRange(u.lineNumber,u.column,u.column);return d?new y.HorizontalPosition(d.outsideRenderedLine,d.ranges[0].left):null}_updateLineWidthsFast(){return this._updateLineWidths(!0)}_updateLineWidthsSlow(){this._updateLineWidths(!1)}_updateLineWidthsSlowIfDomDidLayout(u){u.didDomLayout&&(this._asyncUpdateLineWidths.isScheduled()||(this._asyncUpdateLineWidths.cancel(),this._updateLineWidthsSlow()))}_updateLineWidths(u){const d=this._visibleLines.getStartLineNumber(),r=this._visibleLines.getEndLineNumber();let l=1,o=!0;for(let g=d;g<=r;g++){const c=this._visibleLines.getVisibleLine(g);if(u&&!c.getWidthIsFast()){o=!1;continue}l=Math.max(l,c.getWidth(null))}return o&&d===1&&r===this._context.viewModel.getLineCount()&&(this._maxLineWidth=0),this._ensureMaxLineWidth(l),o}_checkMonospaceFontAssumptions(){let u=-1,d=-1;const r=this._visibleLines.getStartLineNumber(),l=this._visibleLines.getEndLineNumber();for(let o=r;o<=l;o++){const g=this._visibleLines.getVisibleLine(o);if(g.needsMonospaceFontCheck()){const c=g.getWidth(null);c>d&&(d=c,u=o)}}if(u!==-1&&!this._visibleLines.getVisibleLine(u).monospaceAssumptionsAreValid())for(let o=r;o<=l;o++)this._visibleLines.getVisibleLine(o).onMonospaceAssumptionsInvalidated()}prepareRender(){throw new Error("Not supported")}render(){throw new Error("Not supported")}renderText(u){if(this._visibleLines.renderLines(u),this._lastRenderedData.setCurrentVisibleRange(u.visibleRange),this.domNode.setWidth(this._context.viewLayout.getScrollWidth()),this.domNode.setHeight(Math.min(this._context.viewLayout.getScrollHeight(),1e6)),this._horizontalRevealRequest){const r=this._horizontalRevealRequest;if(u.startLineNumber<=r.minLineNumber&&r.maxLineNumber<=u.endLineNumber){this._horizontalRevealRequest=null,this.onDidRender();const l=this._computeScrollLeftToReveal(r);l&&(this._isViewportWrapping||this._ensureMaxLineWidth(l.maxHorizontalOffset),this._context.viewModel.viewLayout.setScrollPosition({scrollLeft:l.scrollLeft},r.scrollType))}}if(this._updateLineWidthsFast()?this._asyncUpdateLineWidths.cancel():this._asyncUpdateLineWidths.schedule(),D.isLinux&&!this._asyncCheckMonospaceFontAssumptions.isScheduled()){const r=this._visibleLines.getStartLineNumber(),l=this._visibleLines.getEndLineNumber();for(let o=r;o<=l;o++)if(this._visibleLines.getVisibleLine(o).needsMonospaceFontCheck()){this._asyncCheckMonospaceFontAssumptions.schedule();break}}this._linesContent.setLayerHinting(this._canUseLayerHinting),this._linesContent.setContain("strict");const d=this._context.viewLayout.getCurrentScrollTop()-u.bigNumbersDelta;this._linesContent.setTop(-d),this._linesContent.setLeft(-this._context.viewLayout.getCurrentScrollLeft())}_ensureMaxLineWidth(u){const d=Math.ceil(u);this._maxLineWidth<d&&(this._maxLineWidth=d,this._context.viewModel.viewLayout.setMaxLineWidth(this._maxLineWidth))}_computeScrollTopToRevealRange(u,d,r,l,o,g){const c=u.top,f=u.height,_=c+f;let S,I,E;if(o&&o.length>0){let M=o[0].startLineNumber,P=o[0].endLineNumber;for(let x=1,R=o.length;x<R;x++){const B=o[x];M=Math.min(M,B.startLineNumber),P=Math.max(P,B.endLineNumber)}S=!1,I=this._context.viewLayout.getVerticalOffsetForLineNumber(M),E=this._context.viewLayout.getVerticalOffsetForLineNumber(P)+this._lineHeight}else if(l)S=!0,I=this._context.viewLayout.getVerticalOffsetForLineNumber(l.startLineNumber),E=this._context.viewLayout.getVerticalOffsetForLineNumber(l.endLineNumber)+this._lineHeight;else return-1;const T=(d==="mouse"||r)&&this._cursorSurroundingLinesStyle==="default";let N=0,A=0;if(T)r||(N=this._lineHeight);else{const M=Math.min(f/this._lineHeight/2,this._cursorSurroundingLines);this._stickyScrollEnabled?N=Math.max(M,this._maxNumberStickyLines)*this._lineHeight:N=M*this._lineHeight,A=Math.max(0,M-1)*this._lineHeight}r||(g===0||g===4)&&(A+=this._lineHeight),I-=N,E+=A;let O;if(E-I>f){if(!S)return-1;O=I}else if(g===5||g===6)if(g===6&&c<=I&&E<=_)O=c;else{const M=Math.max(5*this._lineHeight,f*.2),P=I-M,x=E-f;O=Math.max(x,P)}else if(g===1||g===2)if(g===2&&c<=I&&E<=_)O=c;else{const M=(I+E)/2;O=Math.max(0,M-f/2)}else O=this._computeMinimumScrolling(c,_,I,E,g===3,g===4);return O}_computeScrollLeftToReveal(u){const d=this._context.viewLayout.getCurrentViewport(),r=this._context.configuration.options.get(145),l=d.left,o=l+d.width-r.verticalScrollbarWidth;let g=1073741824,c=0;if(u.type==="range"){const _=this._visibleRangesForLineRange(u.lineNumber,u.startColumn,u.endColumn);if(!_)return null;for(const S of _.ranges)g=Math.min(g,Math.round(S.left)),c=Math.max(c,Math.round(S.left+S.width))}else for(const _ of u.selections){if(_.startLineNumber!==_.endLineNumber)return null;const S=this._visibleRangesForLineRange(_.startLineNumber,_.startColumn,_.endColumn);if(!S)return null;for(const I of S.ranges)g=Math.min(g,Math.round(I.left)),c=Math.max(c,Math.round(I.left+I.width))}return u.minimalReveal||(g=Math.max(0,g-h.HORIZONTAL_EXTRA_PX),c+=this._revealHorizontalRightPadding),u.type==="selections"&&c-g>d.width?null:{scrollLeft:this._computeMinimumScrolling(l,o,g,c),maxHorizontalOffset:c}}_computeMinimumScrolling(u,d,r,l,o,g){u=u|0,d=d|0,r=r|0,l=l|0,o=!!o,g=!!g;const c=d-u;if(l-r<c){if(o)return r;if(g)return Math.max(0,l-c);if(r<u)return r;if(l>d)return Math.max(0,l-c)}else return r;return u}}e.ViewLines=h,h.HORIZONTAL_EXTRA_PX=30}),define(te[23],ie([1,0,7,2,8,39,93]),function(J,e,m,k,D,L,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Themable=e.Extensions=e.IThemeService=void 0,e.themeColorFromId=p,e.getThemeTypeSelector=w,e.registerThemingParticipant=a,e.IThemeService=(0,D.createDecorator)("themeService");function p(i){return{id:i}}function w(i){switch(i){case y.ColorScheme.DARK:return"vs-dark";case y.ColorScheme.HIGH_CONTRAST_DARK:return"hc-black";case y.ColorScheme.HIGH_CONTRAST_LIGHT:return"hc-light";default:return"vs"}}e.Extensions={ThemingContribution:"base.contributions.theming"};class C{constructor(){this.themingParticipants=[],this.themingParticipants=[],this.onThemingParticipantAddedEmitter=new m.Emitter}onColorThemeChange(t){return this.themingParticipants.push(t),this.onThemingParticipantAddedEmitter.fire(t),(0,k.toDisposable)(()=>{const n=this.themingParticipants.indexOf(t);this.themingParticipants.splice(n,1)})}getThemingParticipants(){return this.themingParticipants}}const b=new C;L.Registry.add(e.Extensions.ThemingContribution,b);function a(i){return b.onColorThemeChange(i)}class s extends k.Disposable{constructor(t){super(),this.themeService=t,this.theme=t.getColorTheme(),this._register(this.themeService.onDidColorThemeChange(n=>this.onThemeChange(n)))}onThemeChange(t){this.theme=t,this.updateStyles()}updateStyles(){}}e.Themable=s}),define(te[891],ie([1,0,7,2,69,23]),function(J,e,m,k,D,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GlobalStyleSheet=e.AbstractCodeEditorService=void 0;let y=class extends k.Disposable{constructor(C){super(),this._themeService=C,this._onWillCreateCodeEditor=this._register(new m.Emitter),this._onCodeEditorAdd=this._register(new m.Emitter),this.onCodeEditorAdd=this._onCodeEditorAdd.event,this._onCodeEditorRemove=this._register(new m.Emitter),this.onCodeEditorRemove=this._onCodeEditorRemove.event,this._onWillCreateDiffEditor=this._register(new m.Emitter),this._onDiffEditorAdd=this._register(new m.Emitter),this.onDiffEditorAdd=this._onDiffEditorAdd.event,this._onDiffEditorRemove=this._register(new m.Emitter),this.onDiffEditorRemove=this._onDiffEditorRemove.event,this._decorationOptionProviders=new Map,this._codeEditorOpenHandlers=new D.LinkedList,this._modelProperties=new Map,this._codeEditors=Object.create(null),this._diffEditors=Object.create(null),this._globalStyleSheet=null}willCreateCodeEditor(){this._onWillCreateCodeEditor.fire()}addCodeEditor(C){this._codeEditors[C.getId()]=C,this._onCodeEditorAdd.fire(C)}removeCodeEditor(C){delete this._codeEditors[C.getId()]&&this._onCodeEditorRemove.fire(C)}listCodeEditors(){return Object.keys(this._codeEditors).map(C=>this._codeEditors[C])}willCreateDiffEditor(){this._onWillCreateDiffEditor.fire()}addDiffEditor(C){this._diffEditors[C.getId()]=C,this._onDiffEditorAdd.fire(C)}listDiffEditors(){return Object.keys(this._diffEditors).map(C=>this._diffEditors[C])}getFocusedCodeEditor(){let C=null;const b=this.listCodeEditors();for(const a of b){if(a.hasTextFocus())return a;a.hasWidgetFocus()&&(C=a)}return C}removeDecorationType(C){const b=this._decorationOptionProviders.get(C);b&&(b.refCount--,b.refCount<=0&&(this._decorationOptionProviders.delete(C),b.dispose(),this.listCodeEditors().forEach(a=>a.removeDecorationsByType(C))))}setModelProperty(C,b,a){const s=C.toString();let i;this._modelProperties.has(s)?i=this._modelProperties.get(s):(i=new Map,this._modelProperties.set(s,i)),i.set(b,a)}getModelProperty(C,b){const a=C.toString();if(this._modelProperties.has(a))return this._modelProperties.get(a).get(b)}async openCodeEditor(C,b,a){for(const s of this._codeEditorOpenHandlers){const i=await s(C,b,a);if(i!==null)return i}return null}registerCodeEditorOpenHandler(C){const b=this._codeEditorOpenHandlers.unshift(C);return(0,k.toDisposable)(b)}};e.AbstractCodeEditorService=y,e.AbstractCodeEditorService=y=Ie([he(0,L.IThemeService)],y);class p{constructor(C){this._styleSheet=C}}e.GlobalStyleSheet=p}),define(te[892],ie([1,0,46,23,31,202,58,8,826,2,6,35,48,74,113,52,368]),function(J,e,m,k,D,L,y,p,w,C,b,a,s,i,t,n,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HoverService=void 0;let v=class extends C.Disposable{constructor(l,o,g,c,f){super(),this._instantiationService=l,this._keybindingService=g,this._layoutService=c,this._accessibilityService=f,o.onDidShowContextMenu(()=>this.hideHover()),this._contextViewHandler=this._register(new h.ContextViewHandler(this._layoutService))}showHover(l,o,g){var c,f,_,S;if(u(this._currentHoverOptions)===u(l)||this._currentHover&&(!((f=(c=this._currentHoverOptions)===null||c===void 0?void 0:c.persistence)===null||f===void 0)&&f.sticky))return;this._currentHoverOptions=l,this._lastHoverOptions=l;const I=l.trapFocus||this._accessibilityService.isScreenReaderOptimized(),E=(0,b.getActiveElement)();g||(I&&E?this._lastFocusedElementBeforeOpen=E:this._lastFocusedElementBeforeOpen=void 0);const T=new C.DisposableStore,N=this._instantiationService.createInstance(w.HoverWidget,l);if(!((_=l.persistence)===null||_===void 0)&&_.sticky&&(N.isLocked=!0),N.onDispose(()=>{var A,O;((A=this._currentHover)===null||A===void 0?void 0:A.domNode)&&(0,b.isAncestorOfActiveElement)(this._currentHover.domNode)&&((O=this._lastFocusedElementBeforeOpen)===null||O===void 0||O.focus()),this._currentHoverOptions===l&&(this._currentHoverOptions=void 0),T.dispose()}),!l.container){const A=l.target instanceof HTMLElement?l.target:l.target.targetElements[0];l.container=this._layoutService.getContainer((0,b.getWindow)(A))}if(this._contextViewHandler.showContextView(new d(N,o),l.container),N.onRequestLayout(()=>this._contextViewHandler.layout()),!((S=l.persistence)===null||S===void 0)&&S.sticky)T.add((0,b.addDisposableListener)((0,b.getWindow)(l.container).document,b.EventType.MOUSE_DOWN,A=>{(0,b.isAncestor)(A.target,N.domNode)||this.doHideHover()}));else{if("targetElements"in l.target)for(const O of l.target.targetElements)T.add((0,b.addDisposableListener)(O,b.EventType.CLICK,()=>this.hideHover()));else T.add((0,b.addDisposableListener)(l.target,b.EventType.CLICK,()=>this.hideHover()));const A=(0,b.getActiveElement)();if(A){const O=(0,b.getWindow)(A).document;T.add((0,b.addDisposableListener)(A,b.EventType.KEY_DOWN,M=>{var P;return this._keyDown(M,N,!!(!((P=l.persistence)===null||P===void 0)&&P.hideOnKeyDown))})),T.add((0,b.addDisposableListener)(O,b.EventType.KEY_DOWN,M=>{var P;return this._keyDown(M,N,!!(!((P=l.persistence)===null||P===void 0)&&P.hideOnKeyDown))})),T.add((0,b.addDisposableListener)(A,b.EventType.KEY_UP,M=>this._keyUp(M,N))),T.add((0,b.addDisposableListener)(O,b.EventType.KEY_UP,M=>this._keyUp(M,N)))}}if("IntersectionObserver"in n.mainWindow){const A=new IntersectionObserver(M=>this._intersectionChange(M,N),{threshold:0}),O="targetElements"in l.target?l.target.targetElements[0]:l.target;A.observe(O),T.add((0,C.toDisposable)(()=>A.disconnect()))}return this._currentHover=N,N}hideHover(){var l;!((l=this._currentHover)===null||l===void 0)&&l.isLocked||!this._currentHoverOptions||this.doHideHover()}doHideHover(){this._currentHover=void 0,this._currentHoverOptions=void 0,this._contextViewHandler.hideContextView()}_intersectionChange(l,o){l[l.length-1].isIntersecting||o.dispose()}_keyDown(l,o,g){var c,f;if(l.key==="Alt"){o.isLocked=!0;return}const _=new s.StandardKeyboardEvent(l);this._keybindingService.resolveKeyboardEvent(_).getSingleModifierDispatchChords().some(I=>!!I)||this._keybindingService.softDispatch(_,_.target).kind!==0||g&&(!(!((c=this._currentHoverOptions)===null||c===void 0)&&c.trapFocus)||l.key!=="Tab")&&(this.hideHover(),(f=this._lastFocusedElementBeforeOpen)===null||f===void 0||f.focus())}_keyUp(l,o){var g;l.key==="Alt"&&(o.isLocked=!1,o.isMouseIn||(this.hideHover(),(g=this._lastFocusedElementBeforeOpen)===null||g===void 0||g.focus()))}};e.HoverService=v,e.HoverService=v=Ie([he(0,p.IInstantiationService),he(1,y.IContextMenuService),he(2,a.IKeybindingService),he(3,t.ILayoutService),he(4,i.IAccessibilityService)],v);function u(r){var l;if(r!==void 0)return(l=r?.id)!==null&&l!==void 0?l:r}class d{get anchorPosition(){return this._hover.anchor}constructor(l,o=!1){this._hover=l,this._focus=o,this.layer=1}render(l){return this._hover.render(l),this._focus&&this._hover.focus(),this._hover}getAnchor(){return{x:this._hover.x,y:this._hover.y}}layout(){this._hover.layout()}}(0,m.registerSingleton)(L.IHoverService,v,1),(0,k.registerThemingParticipant)((r,l)=>{const o=r.getColor(D.editorHoverBorder);o&&(l.addRule(`.monaco-workbench .workbench-hover .hover-row:not(:first-child):not(:empty) { border-top: 1px solid ${o.transparent(.5)}; }`),l.addRule(`.monaco-workbench .workbench-hover hr { border-top: 1px solid ${o.transparent(.5)}; }`))})}),define(te[893],ie([1,0,6,40,79,56,23]),function(J,e,m,k,D,L,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorScrollbar=void 0;class p extends L.ViewPart{constructor(C,b,a,s){super(C);const i=this._context.configuration.options,t=i.get(103),n=i.get(75),h=i.get(40),v=i.get(106),u={listenOnDomNode:a.domNode,className:"editor-scrollable "+(0,y.getThemeTypeSelector)(C.theme.type),useShadows:!1,lazyRender:!0,vertical:t.vertical,horizontal:t.horizontal,verticalHasArrows:t.verticalHasArrows,horizontalHasArrows:t.horizontalHasArrows,verticalScrollbarSize:t.verticalScrollbarSize,verticalSliderSize:t.verticalSliderSize,horizontalScrollbarSize:t.horizontalScrollbarSize,horizontalSliderSize:t.horizontalSliderSize,handleMouseWheel:t.handleMouseWheel,alwaysConsumeMouseWheel:t.alwaysConsumeMouseWheel,arrowSize:t.arrowSize,mouseWheelScrollSensitivity:n,fastScrollSensitivity:h,scrollPredominantAxis:v,scrollByPage:t.scrollByPage};this.scrollbar=this._register(new D.SmoothScrollableElement(b.domNode,u,this._context.viewLayout.getScrollable())),L.PartFingerprints.write(this.scrollbar.getDomNode(),6),this.scrollbarDomNode=(0,k.createFastDomNode)(this.scrollbar.getDomNode()),this.scrollbarDomNode.setPosition("absolute"),this._setLayout();const d=(r,l,o)=>{const g={};if(l){const c=r.scrollTop;c&&(g.scrollTop=this._context.viewLayout.getCurrentScrollTop()+c,r.scrollTop=0)}if(o){const c=r.scrollLeft;c&&(g.scrollLeft=this._context.viewLayout.getCurrentScrollLeft()+c,r.scrollLeft=0)}this._context.viewModel.viewLayout.setScrollPosition(g,1)};this._register(m.addDisposableListener(a.domNode,"scroll",r=>d(a.domNode,!0,!0))),this._register(m.addDisposableListener(b.domNode,"scroll",r=>d(b.domNode,!0,!1))),this._register(m.addDisposableListener(s.domNode,"scroll",r=>d(s.domNode,!0,!1))),this._register(m.addDisposableListener(this.scrollbarDomNode.domNode,"scroll",r=>d(this.scrollbarDomNode.domNode,!0,!1)))}dispose(){super.dispose()}_setLayout(){const C=this._context.configuration.options,b=C.get(145);this.scrollbarDomNode.setLeft(b.contentLeft),C.get(73).side==="right"?this.scrollbarDomNode.setWidth(b.contentWidth+b.minimap.minimapWidth):this.scrollbarDomNode.setWidth(b.contentWidth),this.scrollbarDomNode.setHeight(b.height)}getOverviewRulerLayoutInfo(){return this.scrollbar.getOverviewRulerLayoutInfo()}getDomNode(){return this.scrollbarDomNode}delegateVerticalScrollbarPointerDown(C){this.scrollbar.delegateVerticalScrollbarPointerDown(C)}delegateScrollFromMouseWheelEvent(C){this.scrollbar.delegateScrollFromMouseWheelEvent(C)}onConfigurationChanged(C){if(C.hasChanged(103)||C.hasChanged(75)||C.hasChanged(40)){const b=this._context.configuration.options,a=b.get(103),s=b.get(75),i=b.get(40),t=b.get(106),n={vertical:a.vertical,horizontal:a.horizontal,verticalScrollbarSize:a.verticalScrollbarSize,horizontalScrollbarSize:a.horizontalScrollbarSize,scrollByPage:a.scrollByPage,handleMouseWheel:a.handleMouseWheel,mouseWheelScrollSensitivity:s,fastScrollSensitivity:i,scrollPredominantAxis:t};this.scrollbar.updateOptions(n)}return C.hasChanged(145)&&this._setLayout(),!0}onScrollChanged(C){return!0}onThemeChanged(C){return this.scrollbar.updateClassName("editor-scrollable "+(0,y.getThemeTypeSelector)(this._context.theme.type)),!0}prepareRender(C){}render(C){this.scrollbar.renderNow()}}e.EditorScrollbar=p}),define(te[894],ie([1,0,126,31,23,466]),function(J,e,m,k,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectionsOverlay=void 0;class L{constructor(s){this.left=s.left,this.width=s.width,this.startStyle=null,this.endStyle=null}}class y{constructor(s,i){this.lineNumber=s,this.ranges=i}}function p(a){return new L(a)}function w(a){return new y(a.lineNumber,a.ranges.map(p))}class C extends m.DynamicViewOverlay{constructor(s){super(),this._previousFrameVisibleRangesWithStyle=[],this._context=s;const i=this._context.configuration.options;this._roundedSelection=i.get(101),this._typicalHalfwidthCharacterWidth=i.get(50).typicalHalfwidthCharacterWidth,this._selections=[],this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(s){const i=this._context.configuration.options;return this._roundedSelection=i.get(101),this._typicalHalfwidthCharacterWidth=i.get(50).typicalHalfwidthCharacterWidth,!0}onCursorStateChanged(s){return this._selections=s.selections.slice(0),!0}onDecorationsChanged(s){return!0}onFlushed(s){return!0}onLinesChanged(s){return!0}onLinesDeleted(s){return!0}onLinesInserted(s){return!0}onScrollChanged(s){return s.scrollTopChanged}onZonesChanged(s){return!0}_visibleRangesHaveGaps(s){for(let i=0,t=s.length;i<t;i++)if(s[i].ranges.length>1)return!0;return!1}_enrichVisibleRangesWithStyle(s,i,t){const n=this._typicalHalfwidthCharacterWidth/4;let h=null,v=null;if(t&&t.length>0&&i.length>0){const u=i[0].lineNumber;if(u===s.startLineNumber)for(let r=0;!h&&r<t.length;r++)t[r].lineNumber===u&&(h=t[r].ranges[0]);const d=i[i.length-1].lineNumber;if(d===s.endLineNumber)for(let r=t.length-1;!v&&r>=0;r--)t[r].lineNumber===d&&(v=t[r].ranges[0]);h&&!h.startStyle&&(h=null),v&&!v.startStyle&&(v=null)}for(let u=0,d=i.length;u<d;u++){const r=i[u].ranges[0],l=r.left,o=r.left+r.width,g={top:0,bottom:0},c={top:0,bottom:0};if(u>0){const f=i[u-1].ranges[0].left,_=i[u-1].ranges[0].left+i[u-1].ranges[0].width;b(l-f)<n?g.top=2:l>f&&(g.top=1),b(o-_)<n?c.top=2:f<o&&o<_&&(c.top=1)}else h&&(g.top=h.startStyle.top,c.top=h.endStyle.top);if(u+1<d){const f=i[u+1].ranges[0].left,_=i[u+1].ranges[0].left+i[u+1].ranges[0].width;b(l-f)<n?g.bottom=2:f<l&&l<_&&(g.bottom=1),b(o-_)<n?c.bottom=2:o<_&&(c.bottom=1)}else v&&(g.bottom=v.startStyle.bottom,c.bottom=v.endStyle.bottom);r.startStyle=g,r.endStyle=c}}_getVisibleRangesWithStyle(s,i,t){const h=(i.linesVisibleRangesForRange(s,!0)||[]).map(w);return!this._visibleRangesHaveGaps(h)&&this._roundedSelection&&this._enrichVisibleRangesWithStyle(i.visibleRange,h,t),h}_createSelectionPiece(s,i,t,n,h){return'<div class="cslr '+t+'" style="top:'+s.toString()+"px;bottom:"+i.toString()+"px;left:"+n.toString()+"px;width:"+h.toString()+'px;"></div>'}_actualRenderOneSelection(s,i,t,n){if(n.length===0)return;const h=!!n[0].ranges[0].startStyle,v=n[0].lineNumber,u=n[n.length-1].lineNumber;for(let d=0,r=n.length;d<r;d++){const l=n[d],o=l.lineNumber,g=o-i,c=t&&o===v?1:0,f=t&&o!==v&&o===u?1:0;let _="",S="";for(let I=0,E=l.ranges.length;I<E;I++){const T=l.ranges[I];if(h){const A=T.startStyle,O=T.endStyle;if(A.top===1||A.bottom===1){_+=this._createSelectionPiece(c,f,C.SELECTION_CLASS_NAME,T.left-C.ROUNDED_PIECE_WIDTH,C.ROUNDED_PIECE_WIDTH);let M=C.EDITOR_BACKGROUND_CLASS_NAME;A.top===1&&(M+=" "+C.SELECTION_TOP_RIGHT),A.bottom===1&&(M+=" "+C.SELECTION_BOTTOM_RIGHT),_+=this._createSelectionPiece(c,f,M,T.left-C.ROUNDED_PIECE_WIDTH,C.ROUNDED_PIECE_WIDTH)}if(O.top===1||O.bottom===1){_+=this._createSelectionPiece(c,f,C.SELECTION_CLASS_NAME,T.left+T.width,C.ROUNDED_PIECE_WIDTH);let M=C.EDITOR_BACKGROUND_CLASS_NAME;O.top===1&&(M+=" "+C.SELECTION_TOP_LEFT),O.bottom===1&&(M+=" "+C.SELECTION_BOTTOM_LEFT),_+=this._createSelectionPiece(c,f,M,T.left+T.width,C.ROUNDED_PIECE_WIDTH)}}let N=C.SELECTION_CLASS_NAME;if(h){const A=T.startStyle,O=T.endStyle;A.top===0&&(N+=" "+C.SELECTION_TOP_LEFT),A.bottom===0&&(N+=" "+C.SELECTION_BOTTOM_LEFT),O.top===0&&(N+=" "+C.SELECTION_TOP_RIGHT),O.bottom===0&&(N+=" "+C.SELECTION_BOTTOM_RIGHT)}S+=this._createSelectionPiece(c,f,N,T.left,T.width)}s[g][0]+=_,s[g][1]+=S}}prepareRender(s){const i=[],t=s.visibleRange.startLineNumber,n=s.visibleRange.endLineNumber;for(let v=t;v<=n;v++){const u=v-t;i[u]=["",""]}const h=[];for(let v=0,u=this._selections.length;v<u;v++){const d=this._selections[v];if(d.isEmpty()){h[v]=null;continue}const r=this._getVisibleRangesWithStyle(d,s,this._previousFrameVisibleRangesWithStyle[v]);h[v]=r,this._actualRenderOneSelection(i,t,this._selections.length>1,r)}this._previousFrameVisibleRangesWithStyle=h,this._renderResult=i.map(([v,u])=>v+u)}render(s,i){if(!this._renderResult)return"";const t=i-s;return t<0||t>=this._renderResult.length?"":this._renderResult[t]}}e.SelectionsOverlay=C,C.SELECTION_CLASS_NAME="selected-text",C.SELECTION_TOP_LEFT="top-left-radius",C.SELECTION_BOTTOM_LEFT="bottom-left-radius",C.SELECTION_TOP_RIGHT="top-right-radius",C.SELECTION_BOTTOM_RIGHT="bottom-right-radius",C.EDITOR_BACKGROUND_CLASS_NAME="monaco-editor-background",C.ROUNDED_PIECE_WIDTH=10,(0,D.registerThemingParticipant)((a,s)=>{const i=a.getColor(k.editorSelectionForeground);i&&!i.isTransparent()&&s.addRule(`.monaco-editor .view-line span.inline-selected-text { color: ${i}; }`)});function b(a){return a<0?-a:a}}),define(te[387],ie([1,0,6,40,212,2,32,82,9,318,31,23]),function(J,e,m,k,D,L,y,p,w,C,b,a){"use strict";var s;Object.defineProperty(e,"__esModule",{value:!0}),e.OverviewRulerFeature=void 0;let i=s=class extends L.Disposable{constructor(n,h,v,u,d,r,l){super(),this._editors=n,this._rootElement=h,this._diffModel=v,this._rootWidth=u,this._rootHeight=d,this._modifiedEditorLayoutInfo=r,this._themeService=l,this.width=s.ENTIRE_DIFF_OVERVIEW_WIDTH;const o=(0,y.observableFromEvent)(this._themeService.onDidColorThemeChange,()=>this._themeService.getColorTheme()),g=(0,y.derived)(_=>{const S=o.read(_),I=S.getColor(b.diffOverviewRulerInserted)||(S.getColor(b.diffInserted)||b.defaultInsertColor).transparent(2),E=S.getColor(b.diffOverviewRulerRemoved)||(S.getColor(b.diffRemoved)||b.defaultRemoveColor).transparent(2);return{insertColor:I,removeColor:E}}),c=(0,k.createFastDomNode)(document.createElement("div"));c.setClassName("diffViewport"),c.setPosition("absolute");const f=(0,m.h)("div.diffOverview",{style:{position:"absolute",top:"0px",width:s.ENTIRE_DIFF_OVERVIEW_WIDTH+"px"}}).root;this._register((0,p.appendRemoveOnDispose)(f,c.domNode)),this._register((0,m.addStandardDisposableListener)(f,m.EventType.POINTER_DOWN,_=>{this._editors.modified.delegateVerticalScrollbarPointerDown(_)})),this._register((0,m.addDisposableListener)(f,m.EventType.MOUSE_WHEEL,_=>{this._editors.modified.delegateScrollFromMouseWheelEvent(_)},{passive:!1})),this._register((0,p.appendRemoveOnDispose)(this._rootElement,f)),this._register((0,y.autorunWithStore)((_,S)=>{const I=this._diffModel.read(_),E=this._editors.original.createOverviewRuler("original diffOverviewRuler");E&&(S.add(E),S.add((0,p.appendRemoveOnDispose)(f,E.getDomNode())));const T=this._editors.modified.createOverviewRuler("modified diffOverviewRuler");if(T&&(S.add(T),S.add((0,p.appendRemoveOnDispose)(f,T.getDomNode()))),!E||!T)return;const N=(0,y.observableSignalFromEvent)("viewZoneChanged",this._editors.original.onDidChangeViewZones),A=(0,y.observableSignalFromEvent)("viewZoneChanged",this._editors.modified.onDidChangeViewZones),O=(0,y.observableSignalFromEvent)("hiddenRangesChanged",this._editors.original.onDidChangeHiddenAreas),M=(0,y.observableSignalFromEvent)("hiddenRangesChanged",this._editors.modified.onDidChangeHiddenAreas);S.add((0,y.autorun)(P=>{var x;N.read(P),A.read(P),O.read(P),M.read(P);const R=g.read(P),B=(x=I?.diff.read(P))===null||x===void 0?void 0:x.mappings;function H(K,U,$){const se=$._getViewModel();return se?K.filter(F=>F.length>0).map(F=>{const X=se.coordinatesConverter.convertModelPositionToViewPosition(new w.Position(F.startLineNumber,1)),Q=se.coordinatesConverter.convertModelPositionToViewPosition(new w.Position(F.endLineNumberExclusive,1)),Z=Q.lineNumber-X.lineNumber;return new C.OverviewRulerZone(X.lineNumber,Q.lineNumber,Z,U.toString())}):[]}const V=H((B||[]).map(K=>K.lineRangeMapping.original),R.removeColor,this._editors.original),q=H((B||[]).map(K=>K.lineRangeMapping.modified),R.insertColor,this._editors.modified);E?.setZones(V),T?.setZones(q)})),S.add((0,y.autorun)(P=>{const x=this._rootHeight.read(P),R=this._rootWidth.read(P),B=this._modifiedEditorLayoutInfo.read(P);if(B){const H=s.ENTIRE_DIFF_OVERVIEW_WIDTH-2*s.ONE_OVERVIEW_WIDTH;E.setLayout({top:0,height:x,right:H+s.ONE_OVERVIEW_WIDTH,width:s.ONE_OVERVIEW_WIDTH}),T.setLayout({top:0,height:x,right:0,width:s.ONE_OVERVIEW_WIDTH});const V=this._editors.modifiedScrollTop.read(P),q=this._editors.modifiedScrollHeight.read(P),K=this._editors.modified.getOption(103),U=new D.ScrollbarState(K.verticalHasArrows?K.arrowSize:0,K.verticalScrollbarSize,0,B.height,q,V);c.setTop(U.getSliderPosition()),c.setHeight(U.getSliderSize())}else c.setTop(0),c.setHeight(0);f.style.height=x+"px",f.style.left=R-s.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",c.setWidth(s.ENTIRE_DIFF_OVERVIEW_WIDTH)}))}))}};e.OverviewRulerFeature=i,i.ONE_OVERVIEW_WIDTH=15,i.ENTIRE_DIFF_OVERVIEW_WIDTH=s.ONE_OVERVIEW_WIDTH*2,e.OverviewRulerFeature=i=s=Ie([he(6,a.IThemeService)],i)}),define(te[895],ie([1,0,7,2,32,387,38,9,653,8,35]),function(J,e,m,k,D,L,y,p,w,C,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffEditorEditors=void 0;let a=class extends k.Disposable{get onDidContentSizeChange(){return this._onDidContentSizeChange.event}constructor(i,t,n,h,v,u,d){super(),this.originalEditorElement=i,this.modifiedEditorElement=t,this._options=n,this._argCodeEditorWidgetOptions=h,this._createInnerEditor=v,this._instantiationService=u,this._keybindingService=d,this.original=this._register(this._createLeftHandSideEditor(this._options.editorOptions.get(),this._argCodeEditorWidgetOptions.originalEditor||{})),this.modified=this._register(this._createRightHandSideEditor(this._options.editorOptions.get(),this._argCodeEditorWidgetOptions.modifiedEditor||{})),this._onDidContentSizeChange=this._register(new m.Emitter),this.modifiedScrollTop=(0,D.observableFromEvent)(this.modified.onDidScrollChange,()=>this.modified.getScrollTop()),this.modifiedScrollHeight=(0,D.observableFromEvent)(this.modified.onDidScrollChange,()=>this.modified.getScrollHeight()),this.modifiedModel=(0,D.observableFromEvent)(this.modified.onDidChangeModel,()=>this.modified.getModel()),this.modifiedSelections=(0,D.observableFromEvent)(this.modified.onDidChangeCursorSelection,()=>{var r;return(r=this.modified.getSelections())!==null&&r!==void 0?r:[]}),this.modifiedCursor=(0,D.derivedOpts)({owner:this,equalityComparer:p.Position.equals},r=>{var l,o;return(o=(l=this.modifiedSelections.read(r)[0])===null||l===void 0?void 0:l.getPosition())!==null&&o!==void 0?o:new p.Position(1,1)}),this.originalCursor=(0,D.observableFromEvent)(this.original.onDidChangeCursorPosition,()=>{var r;return(r=this.original.getPosition())!==null&&r!==void 0?r:new p.Position(1,1)}),this._argCodeEditorWidgetOptions=null,this._register((0,D.autorunHandleChanges)({createEmptyChangeSummary:()=>({}),handleChange:(r,l)=>(r.didChange(n.editorOptions)&&Object.assign(l,r.change.changedOptions),!0)},(r,l)=>{n.editorOptions.read(r),this._options.renderSideBySide.read(r),this.modified.updateOptions(this._adjustOptionsForRightHandSide(r,l)),this.original.updateOptions(this._adjustOptionsForLeftHandSide(r,l))}))}_createLeftHandSideEditor(i,t){const n=this._adjustOptionsForLeftHandSide(void 0,i),h=this._constructInnerEditor(this._instantiationService,this.originalEditorElement,n,t);return h.setContextValue("isInDiffLeftEditor",!0),h}_createRightHandSideEditor(i,t){const n=this._adjustOptionsForRightHandSide(void 0,i),h=this._constructInnerEditor(this._instantiationService,this.modifiedEditorElement,n,t);return h.setContextValue("isInDiffRightEditor",!0),h}_constructInnerEditor(i,t,n,h){const v=this._createInnerEditor(i,t,n,h);return this._register(v.onDidContentSizeChange(u=>{const d=this.original.getContentWidth()+this.modified.getContentWidth()+L.OverviewRulerFeature.ENTIRE_DIFF_OVERVIEW_WIDTH,r=Math.max(this.modified.getContentHeight(),this.original.getContentHeight());this._onDidContentSizeChange.fire({contentHeight:r,contentWidth:d,contentHeightChanged:u.contentHeightChanged,contentWidthChanged:u.contentWidthChanged})})),v}_adjustOptionsForLeftHandSide(i,t){const n=this._adjustOptionsForSubEditor(t);return this._options.renderSideBySide.get()?(n.unicodeHighlight=this._options.editorOptions.get().unicodeHighlight||{},n.wordWrapOverride1=this._options.diffWordWrap.get()):(n.wordWrapOverride1="off",n.wordWrapOverride2="off",n.stickyScroll={enabled:!1},n.unicodeHighlight={nonBasicASCII:!1,ambiguousCharacters:!1,invisibleCharacters:!1}),n.glyphMargin=this._options.renderSideBySide.get(),t.originalAriaLabel&&(n.ariaLabel=t.originalAriaLabel),n.ariaLabel=this._updateAriaLabel(n.ariaLabel),n.readOnly=!this._options.originalEditable.get(),n.dropIntoEditor={enabled:!n.readOnly},n.extraEditorClassName="original-in-monaco-diff-editor",n}_adjustOptionsForRightHandSide(i,t){const n=this._adjustOptionsForSubEditor(t);return t.modifiedAriaLabel&&(n.ariaLabel=t.modifiedAriaLabel),n.ariaLabel=this._updateAriaLabel(n.ariaLabel),n.wordWrapOverride1=this._options.diffWordWrap.get(),n.revealHorizontalRightPadding=y.EditorOptions.revealHorizontalRightPadding.defaultValue+L.OverviewRulerFeature.ENTIRE_DIFF_OVERVIEW_WIDTH,n.scrollbar.verticalHasArrows=!1,n.extraEditorClassName="modified-in-monaco-diff-editor",n}_adjustOptionsForSubEditor(i){const t={...i,dimension:{height:0,width:0}};return t.inDiffEditor=!0,t.automaticLayout=!1,t.scrollbar={...t.scrollbar||{}},t.folding=!1,t.codeLens=this._options.diffCodeLens.get(),t.fixedOverflowWidgets=!0,t.minimap={...t.minimap||{}},t.minimap.enabled=!1,this._options.hideUnchangedRegions.get()?t.stickyScroll={enabled:!1}:t.stickyScroll=this._options.editorOptions.get().stickyScroll,t}_updateAriaLabel(i){var t;i||(i="");const n=(0,w.localize)(0,null,(t=this._keybindingService.lookupKeybinding("editor.action.accessibilityHelp"))===null||t===void 0?void 0:t.getAriaLabel());return this._options.accessibilityVerbose.get()?i+n:i?i.replaceAll(n,""):""}};e.DiffEditorEditors=a,e.DiffEditorEditors=a=Ie([he(5,C.IInstantiationService),he(6,b.IKeybindingService)],a)}),define(te[86],ie([1,0,667,34,31,23]),function(J,e,m,k,D,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.editorUnicodeHighlightBackground=e.editorUnicodeHighlightBorder=e.editorBracketPairGuideActiveBackground6=e.editorBracketPairGuideActiveBackground5=e.editorBracketPairGuideActiveBackground4=e.editorBracketPairGuideActiveBackground3=e.editorBracketPairGuideActiveBackground2=e.editorBracketPairGuideActiveBackground1=e.editorBracketPairGuideBackground6=e.editorBracketPairGuideBackground5=e.editorBracketPairGuideBackground4=e.editorBracketPairGuideBackground3=e.editorBracketPairGuideBackground2=e.editorBracketPairGuideBackground1=e.editorBracketHighlightingUnexpectedBracketForeground=e.editorBracketHighlightingForeground6=e.editorBracketHighlightingForeground5=e.editorBracketHighlightingForeground4=e.editorBracketHighlightingForeground3=e.editorBracketHighlightingForeground2=e.editorBracketHighlightingForeground1=e.overviewRulerInfo=e.overviewRulerWarning=e.overviewRulerError=e.overviewRulerRangeHighlight=e.ghostTextBackground=e.ghostTextForeground=e.ghostTextBorder=e.editorUnnecessaryCodeOpacity=e.editorUnnecessaryCodeBorder=e.editorGutter=e.editorOverviewRulerBackground=e.editorOverviewRulerBorder=e.editorBracketMatchBorder=e.editorBracketMatchBackground=e.editorCodeLensForeground=e.editorRuler=e.editorDimmedLineNumber=e.editorActiveLineNumber=e.editorActiveIndentGuide6=e.editorActiveIndentGuide5=e.editorActiveIndentGuide4=e.editorActiveIndentGuide3=e.editorActiveIndentGuide2=e.editorActiveIndentGuide1=e.editorIndentGuide6=e.editorIndentGuide5=e.editorIndentGuide4=e.editorIndentGuide3=e.editorIndentGuide2=e.editorIndentGuide1=e.deprecatedEditorActiveIndentGuides=e.deprecatedEditorIndentGuides=e.editorLineNumbers=e.editorWhitespaces=e.editorCursorBackground=e.editorCursorForeground=e.editorSymbolHighlightBorder=e.editorSymbolHighlight=e.editorRangeHighlightBorder=e.editorRangeHighlight=e.editorLineHighlightBorder=e.editorLineHighlight=void 0,e.editorLineHighlight=(0,D.registerColor)("editor.lineHighlightBackground",{dark:null,light:null,hcDark:null,hcLight:null},m.localize(0,null)),e.editorLineHighlightBorder=(0,D.registerColor)("editor.lineHighlightBorder",{dark:"#282828",light:"#eeeeee",hcDark:"#f38518",hcLight:D.contrastBorder},m.localize(1,null)),e.editorRangeHighlight=(0,D.registerColor)("editor.rangeHighlightBackground",{dark:"#ffffff0b",light:"#fdff0033",hcDark:null,hcLight:null},m.localize(2,null),!0),e.editorRangeHighlightBorder=(0,D.registerColor)("editor.rangeHighlightBorder",{dark:null,light:null,hcDark:D.activeContrastBorder,hcLight:D.activeContrastBorder},m.localize(3,null),!0),e.editorSymbolHighlight=(0,D.registerColor)("editor.symbolHighlightBackground",{dark:D.editorFindMatchHighlight,light:D.editorFindMatchHighlight,hcDark:null,hcLight:null},m.localize(4,null),!0),e.editorSymbolHighlightBorder=(0,D.registerColor)("editor.symbolHighlightBorder",{dark:null,light:null,hcDark:D.activeContrastBorder,hcLight:D.activeContrastBorder},m.localize(5,null),!0),e.editorCursorForeground=(0,D.registerColor)("editorCursor.foreground",{dark:"#AEAFAD",light:k.Color.black,hcDark:k.Color.white,hcLight:"#0F4A85"},m.localize(6,null)),e.editorCursorBackground=(0,D.registerColor)("editorCursor.background",null,m.localize(7,null)),e.editorWhitespaces=(0,D.registerColor)("editorWhitespace.foreground",{dark:"#e3e4e229",light:"#33333333",hcDark:"#e3e4e229",hcLight:"#CCCCCC"},m.localize(8,null)),e.editorLineNumbers=(0,D.registerColor)("editorLineNumber.foreground",{dark:"#858585",light:"#237893",hcDark:k.Color.white,hcLight:"#292929"},m.localize(9,null)),e.deprecatedEditorIndentGuides=(0,D.registerColor)("editorIndentGuide.background",{dark:e.editorWhitespaces,light:e.editorWhitespaces,hcDark:e.editorWhitespaces,hcLight:e.editorWhitespaces},m.localize(10,null),!1,m.localize(11,null)),e.deprecatedEditorActiveIndentGuides=(0,D.registerColor)("editorIndentGuide.activeBackground",{dark:e.editorWhitespaces,light:e.editorWhitespaces,hcDark:e.editorWhitespaces,hcLight:e.editorWhitespaces},m.localize(12,null),!1,m.localize(13,null)),e.editorIndentGuide1=(0,D.registerColor)("editorIndentGuide.background1",{dark:e.deprecatedEditorIndentGuides,light:e.deprecatedEditorIndentGuides,hcDark:e.deprecatedEditorIndentGuides,hcLight:e.deprecatedEditorIndentGuides},m.localize(14,null)),e.editorIndentGuide2=(0,D.registerColor)("editorIndentGuide.background2",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},m.localize(15,null)),e.editorIndentGuide3=(0,D.registerColor)("editorIndentGuide.background3",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},m.localize(16,null)),e.editorIndentGuide4=(0,D.registerColor)("editorIndentGuide.background4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},m.localize(17,null)),e.editorIndentGuide5=(0,D.registerColor)("editorIndentGuide.background5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},m.localize(18,null)),e.editorIndentGuide6=(0,D.registerColor)("editorIndentGuide.background6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},m.localize(19,null)),e.editorActiveIndentGuide1=(0,D.registerColor)("editorIndentGuide.activeBackground1",{dark:e.deprecatedEditorActiveIndentGuides,light:e.deprecatedEditorActiveIndentGuides,hcDark:e.deprecatedEditorActiveIndentGuides,hcLight:e.deprecatedEditorActiveIndentGuides},m.localize(20,null)),e.editorActiveIndentGuide2=(0,D.registerColor)("editorIndentGuide.activeBackground2",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},m.localize(21,null)),e.editorActiveIndentGuide3=(0,D.registerColor)("editorIndentGuide.activeBackground3",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},m.localize(22,null)),e.editorActiveIndentGuide4=(0,D.registerColor)("editorIndentGuide.activeBackground4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},m.localize(23,null)),e.editorActiveIndentGuide5=(0,D.registerColor)("editorIndentGuide.activeBackground5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},m.localize(24,null)),e.editorActiveIndentGuide6=(0,D.registerColor)("editorIndentGuide.activeBackground6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},m.localize(25,null));const y=(0,D.registerColor)("editorActiveLineNumber.foreground",{dark:"#c6c6c6",light:"#0B216F",hcDark:D.activeContrastBorder,hcLight:D.activeContrastBorder},m.localize(26,null),!1,m.localize(27,null));e.editorActiveLineNumber=(0,D.registerColor)("editorLineNumber.activeForeground",{dark:y,light:y,hcDark:y,hcLight:y},m.localize(28,null)),e.editorDimmedLineNumber=(0,D.registerColor)("editorLineNumber.dimmedForeground",{dark:null,light:null,hcDark:null,hcLight:null},m.localize(29,null)),e.editorRuler=(0,D.registerColor)("editorRuler.foreground",{dark:"#5A5A5A",light:k.Color.lightgrey,hcDark:k.Color.white,hcLight:"#292929"},m.localize(30,null)),e.editorCodeLensForeground=(0,D.registerColor)("editorCodeLens.foreground",{dark:"#999999",light:"#919191",hcDark:"#999999",hcLight:"#292929"},m.localize(31,null)),e.editorBracketMatchBackground=(0,D.registerColor)("editorBracketMatch.background",{dark:"#0064001a",light:"#0064001a",hcDark:"#0064001a",hcLight:"#0000"},m.localize(32,null)),e.editorBracketMatchBorder=(0,D.registerColor)("editorBracketMatch.border",{dark:"#888",light:"#B9B9B9",hcDark:D.contrastBorder,hcLight:D.contrastBorder},m.localize(33,null)),e.editorOverviewRulerBorder=(0,D.registerColor)("editorOverviewRuler.border",{dark:"#7f7f7f4d",light:"#7f7f7f4d",hcDark:"#7f7f7f4d",hcLight:"#666666"},m.localize(34,null)),e.editorOverviewRulerBackground=(0,D.registerColor)("editorOverviewRuler.background",null,m.localize(35,null)),e.editorGutter=(0,D.registerColor)("editorGutter.background",{dark:D.editorBackground,light:D.editorBackground,hcDark:D.editorBackground,hcLight:D.editorBackground},m.localize(36,null)),e.editorUnnecessaryCodeBorder=(0,D.registerColor)("editorUnnecessaryCode.border",{dark:null,light:null,hcDark:k.Color.fromHex("#fff").transparent(.8),hcLight:D.contrastBorder},m.localize(37,null)),e.editorUnnecessaryCodeOpacity=(0,D.registerColor)("editorUnnecessaryCode.opacity",{dark:k.Color.fromHex("#000a"),light:k.Color.fromHex("#0007"),hcDark:null,hcLight:null},m.localize(38,null)),e.ghostTextBorder=(0,D.registerColor)("editorGhostText.border",{dark:null,light:null,hcDark:k.Color.fromHex("#fff").transparent(.8),hcLight:k.Color.fromHex("#292929").transparent(.8)},m.localize(39,null)),e.ghostTextForeground=(0,D.registerColor)("editorGhostText.foreground",{dark:k.Color.fromHex("#ffffff56"),light:k.Color.fromHex("#0007"),hcDark:null,hcLight:null},m.localize(40,null)),e.ghostTextBackground=(0,D.registerColor)("editorGhostText.background",{dark:null,light:null,hcDark:null,hcLight:null},m.localize(41,null));const p=new k.Color(new k.RGBA(0,122,204,.6));e.overviewRulerRangeHighlight=(0,D.registerColor)("editorOverviewRuler.rangeHighlightForeground",{dark:p,light:p,hcDark:p,hcLight:p},m.localize(42,null),!0),e.overviewRulerError=(0,D.registerColor)("editorOverviewRuler.errorForeground",{dark:new k.Color(new k.RGBA(255,18,18,.7)),light:new k.Color(new k.RGBA(255,18,18,.7)),hcDark:new k.Color(new k.RGBA(255,50,50,1)),hcLight:"#B5200D"},m.localize(43,null)),e.overviewRulerWarning=(0,D.registerColor)("editorOverviewRuler.warningForeground",{dark:D.editorWarningForeground,light:D.editorWarningForeground,hcDark:D.editorWarningBorder,hcLight:D.editorWarningBorder},m.localize(44,null)),e.overviewRulerInfo=(0,D.registerColor)("editorOverviewRuler.infoForeground",{dark:D.editorInfoForeground,light:D.editorInfoForeground,hcDark:D.editorInfoBorder,hcLight:D.editorInfoBorder},m.localize(45,null)),e.editorBracketHighlightingForeground1=(0,D.registerColor)("editorBracketHighlight.foreground1",{dark:"#FFD700",light:"#0431FAFF",hcDark:"#FFD700",hcLight:"#0431FAFF"},m.localize(46,null)),e.editorBracketHighlightingForeground2=(0,D.registerColor)("editorBracketHighlight.foreground2",{dark:"#DA70D6",light:"#319331FF",hcDark:"#DA70D6",hcLight:"#319331FF"},m.localize(47,null)),e.editorBracketHighlightingForeground3=(0,D.registerColor)("editorBracketHighlight.foreground3",{dark:"#179FFF",light:"#7B3814FF",hcDark:"#87CEFA",hcLight:"#7B3814FF"},m.localize(48,null)),e.editorBracketHighlightingForeground4=(0,D.registerColor)("editorBracketHighlight.foreground4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},m.localize(49,null)),e.editorBracketHighlightingForeground5=(0,D.registerColor)("editorBracketHighlight.foreground5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},m.localize(50,null)),e.editorBracketHighlightingForeground6=(0,D.registerColor)("editorBracketHighlight.foreground6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},m.localize(51,null)),e.editorBracketHighlightingUnexpectedBracketForeground=(0,D.registerColor)("editorBracketHighlight.unexpectedBracket.foreground",{dark:new k.Color(new k.RGBA(255,18,18,.8)),light:new k.Color(new k.RGBA(255,18,18,.8)),hcDark:new k.Color(new k.RGBA(255,50,50,1)),hcLight:""},m.localize(52,null)),e.editorBracketPairGuideBackground1=(0,D.registerColor)("editorBracketPairGuide.background1",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},m.localize(53,null)),e.editorBracketPairGuideBackground2=(0,D.registerColor)("editorBracketPairGuide.background2",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},m.localize(54,null)),e.editorBracketPairGuideBackground3=(0,D.registerColor)("editorBracketPairGuide.background3",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},m.localize(55,null)),e.editorBracketPairGuideBackground4=(0,D.registerColor)("editorBracketPairGuide.background4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},m.localize(56,null)),e.editorBracketPairGuideBackground5=(0,D.registerColor)("editorBracketPairGuide.background5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},m.localize(57,null)),e.editorBracketPairGuideBackground6=(0,D.registerColor)("editorBracketPairGuide.background6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},m.localize(58,null)),e.editorBracketPairGuideActiveBackground1=(0,D.registerColor)("editorBracketPairGuide.activeBackground1",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},m.localize(59,null)),e.editorBracketPairGuideActiveBackground2=(0,D.registerColor)("editorBracketPairGuide.activeBackground2",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},m.localize(60,null)),e.editorBracketPairGuideActiveBackground3=(0,D.registerColor)("editorBracketPairGuide.activeBackground3",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},m.localize(61,null)),e.editorBracketPairGuideActiveBackground4=(0,D.registerColor)("editorBracketPairGuide.activeBackground4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},m.localize(62,null)),e.editorBracketPairGuideActiveBackground5=(0,D.registerColor)("editorBracketPairGuide.activeBackground5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},m.localize(63,null)),e.editorBracketPairGuideActiveBackground6=(0,D.registerColor)("editorBracketPairGuide.activeBackground6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},m.localize(64,null)),e.editorUnicodeHighlightBorder=(0,D.registerColor)("editorUnicodeHighlight.border",{dark:D.editorWarningForeground,light:D.editorWarningForeground,hcDark:D.editorWarningForeground,hcLight:D.editorWarningForeground},m.localize(65,null)),e.editorUnicodeHighlightBackground=(0,D.registerColor)("editorUnicodeHighlight.background",{dark:D.editorWarningBackground,light:D.editorWarningBackground,hcDark:D.editorWarningBackground,hcLight:D.editorWarningBackground},m.localize(66,null)),(0,L.registerThemingParticipant)((w,C)=>{const b=w.getColor(D.editorBackground),a=w.getColor(e.editorLineHighlight),s=a&&!a.isTransparent()?a:b;s&&C.addRule(`.monaco-editor .inputarea.ime-input { background-color: ${s}; }`)})}),define(te[896],ie([1,0,126,86,13,23,24,93,9,453]),function(J,e,m,k,D,L,y,p,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CurrentLineMarginHighlightOverlay=e.CurrentLineHighlightOverlay=e.AbstractLineHighlightOverlay=void 0;class C extends m.DynamicViewOverlay{constructor(i){super(),this._context=i;const t=this._context.configuration.options,n=t.get(145);this._renderLineHighlight=t.get(96),this._renderLineHighlightOnlyWhenFocus=t.get(97),this._wordWrap=n.isViewportWrapping,this._contentLeft=n.contentLeft,this._contentWidth=n.contentWidth,this._selectionIsEmpty=!0,this._focused=!1,this._cursorLineNumbers=[1],this._selections=[new y.Selection(1,1,1,1)],this._renderData=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}_readFromSelections(){let i=!1;const t=new Set;for(const v of this._selections)t.add(v.positionLineNumber);const n=Array.from(t);n.sort((v,u)=>v-u),D.equals(this._cursorLineNumbers,n)||(this._cursorLineNumbers=n,i=!0);const h=this._selections.every(v=>v.isEmpty());return this._selectionIsEmpty!==h&&(this._selectionIsEmpty=h,i=!0),i}onThemeChanged(i){return this._readFromSelections()}onConfigurationChanged(i){const t=this._context.configuration.options,n=t.get(145);return this._renderLineHighlight=t.get(96),this._renderLineHighlightOnlyWhenFocus=t.get(97),this._wordWrap=n.isViewportWrapping,this._contentLeft=n.contentLeft,this._contentWidth=n.contentWidth,!0}onCursorStateChanged(i){return this._selections=i.selections,this._readFromSelections()}onFlushed(i){return!0}onLinesDeleted(i){return!0}onLinesInserted(i){return!0}onScrollChanged(i){return i.scrollWidthChanged||i.scrollTopChanged}onZonesChanged(i){return!0}onFocusChanged(i){return this._renderLineHighlightOnlyWhenFocus?(this._focused=i.isFocused,!0):!1}prepareRender(i){if(!this._shouldRenderThis()){this._renderData=null;return}const t=i.visibleRange.startLineNumber,n=i.visibleRange.endLineNumber,h=[];for(let u=t;u<=n;u++){const d=u-t;h[d]=""}if(this._wordWrap){const u=this._renderOne(i,!1);for(const d of this._cursorLineNumbers){const r=this._context.viewModel.coordinatesConverter,l=r.convertViewPositionToModelPosition(new w.Position(d,1)).lineNumber,o=r.convertModelPositionToViewPosition(new w.Position(l,1)).lineNumber,g=r.convertModelPositionToViewPosition(new w.Position(l,this._context.viewModel.model.getLineMaxColumn(l))).lineNumber,c=Math.max(o,t),f=Math.min(g,n);for(let _=c;_<=f;_++){const S=_-t;h[S]=u}}}const v=this._renderOne(i,!0);for(const u of this._cursorLineNumbers){if(u<t||u>n)continue;const d=u-t;h[d]=v}this._renderData=h}render(i,t){if(!this._renderData)return"";const n=t-i;return n>=this._renderData.length?"":this._renderData[n]}_shouldRenderInMargin(){return(this._renderLineHighlight==="gutter"||this._renderLineHighlight==="all")&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}_shouldRenderInContent(){return(this._renderLineHighlight==="line"||this._renderLineHighlight==="all")&&this._selectionIsEmpty&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}}e.AbstractLineHighlightOverlay=C;class b extends C{_renderOne(i,t){return`<div class="${"current-line"+(this._shouldRenderInMargin()?" current-line-both":"")+(t?" current-line-exact":"")}" style="width:${Math.max(i.scrollWidth,this._contentWidth)}px;"></div>`}_shouldRenderThis(){return this._shouldRenderInContent()}_shouldRenderOther(){return this._shouldRenderInMargin()}}e.CurrentLineHighlightOverlay=b;class a extends C{_renderOne(i,t){return`<div class="${"current-line"+(this._shouldRenderInMargin()?" current-line-margin":"")+(this._shouldRenderOther()?" current-line-margin-both":"")+(this._shouldRenderInMargin()&&t?" current-line-exact-margin":"")}" style="width:${this._contentLeft}px"></div>`}_shouldRenderThis(){return!0}_shouldRenderOther(){return this._shouldRenderInContent()}}e.CurrentLineMarginHighlightOverlay=a,(0,L.registerThemingParticipant)((s,i)=>{const t=s.getColor(k.editorLineHighlight);if(t&&(i.addRule(`.monaco-editor .view-overlays .current-line { background-color: ${t}; }`),i.addRule(`.monaco-editor .margin-view-overlays .current-line-margin { background-color: ${t}; border: none; }`)),!t||t.isTransparent()||s.defines(k.editorLineHighlightBorder)){const n=s.getColor(k.editorLineHighlightBorder);n&&(i.addRule(`.monaco-editor .view-overlays .current-line-exact { border: 2px solid ${n}; }`),i.addRule(`.monaco-editor .margin-view-overlays .current-line-exact-margin { border: 2px solid ${n}; }`),(0,p.isHighContrast)(s.type)&&(i.addRule(".monaco-editor .view-overlays .current-line-exact { border-width: 1px; }"),i.addRule(".monaco-editor .margin-view-overlays .current-line-exact-margin { border-width: 1px; }")))}})}),define(te[897],ie([1,0,126,86,23,9,13,21,315,228,456]),function(J,e,m,k,D,L,y,p,w,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndentGuidesOverlay=void 0;class b extends m.DynamicViewOverlay{constructor(i){super(),this._context=i,this._primaryPosition=null;const t=this._context.configuration.options,n=t.get(146),h=t.get(50);this._spaceWidth=h.spaceWidth,this._maxIndentLeft=n.wrappingColumn===-1?-1:n.wrappingColumn*h.typicalHalfwidthCharacterWidth,this._bracketPairGuideOptions=t.get(16),this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(i){const t=this._context.configuration.options,n=t.get(146),h=t.get(50);return this._spaceWidth=h.spaceWidth,this._maxIndentLeft=n.wrappingColumn===-1?-1:n.wrappingColumn*h.typicalHalfwidthCharacterWidth,this._bracketPairGuideOptions=t.get(16),!0}onCursorStateChanged(i){var t;const h=i.selections[0].getPosition();return!((t=this._primaryPosition)===null||t===void 0)&&t.equals(h)?!1:(this._primaryPosition=h,!0)}onDecorationsChanged(i){return!0}onFlushed(i){return!0}onLinesChanged(i){return!0}onLinesDeleted(i){return!0}onLinesInserted(i){return!0}onScrollChanged(i){return i.scrollTopChanged}onZonesChanged(i){return!0}onLanguageConfigurationChanged(i){return!0}prepareRender(i){var t,n,h,v;if(!this._bracketPairGuideOptions.indentation&&this._bracketPairGuideOptions.bracketPairs===!1){this._renderResult=null;return}const u=i.visibleRange.startLineNumber,d=i.visibleRange.endLineNumber,r=i.scrollWidth,l=this._primaryPosition,o=this.getGuidesByLine(u,Math.min(d+1,this._context.viewModel.getLineCount()),l),g=[];for(let c=u;c<=d;c++){const f=c-u,_=o[f];let S="";const I=(n=(t=i.visibleRangeForPosition(new L.Position(c,1)))===null||t===void 0?void 0:t.left)!==null&&n!==void 0?n:0;for(const E of _){const T=E.column===-1?I+(E.visibleColumn-1)*this._spaceWidth:i.visibleRangeForPosition(new L.Position(c,E.column)).left;if(T>r||this._maxIndentLeft>0&&T>this._maxIndentLeft)break;const N=E.horizontalLine?E.horizontalLine.top?"horizontal-top":"horizontal-bottom":"vertical",A=E.horizontalLine?((v=(h=i.visibleRangeForPosition(new L.Position(c,E.horizontalLine.endColumn)))===null||h===void 0?void 0:h.left)!==null&&v!==void 0?v:T+this._spaceWidth)-T:this._spaceWidth;S+=`<div class="core-guide ${E.className} ${N}" style="left:${T}px;width:${A}px"></div>`}g[f]=S}this._renderResult=g}getGuidesByLine(i,t,n){const h=this._bracketPairGuideOptions.bracketPairs!==!1?this._context.viewModel.getBracketGuidesInRangeByLine(i,t,n,{highlightActive:this._bracketPairGuideOptions.highlightActiveBracketPair,horizontalGuides:this._bracketPairGuideOptions.bracketPairsHorizontal===!0?C.HorizontalGuidesState.Enabled:this._bracketPairGuideOptions.bracketPairsHorizontal==="active"?C.HorizontalGuidesState.EnabledForActive:C.HorizontalGuidesState.Disabled,includeInactive:this._bracketPairGuideOptions.bracketPairs===!0}):null,v=this._bracketPairGuideOptions.indentation?this._context.viewModel.getLinesIndentGuides(i,t):null;let u=0,d=0,r=0;if(this._bracketPairGuideOptions.highlightActiveIndentation!==!1&&n){const g=this._context.viewModel.getActiveIndentGuide(n.lineNumber,i,t);u=g.startLineNumber,d=g.endLineNumber,r=g.indent}const{indentSize:l}=this._context.viewModel.model.getOptions(),o=[];for(let g=i;g<=t;g++){const c=new Array;o.push(c);const f=h?h[g-i]:[],_=new y.ArrayQueue(f),S=v?v[g-i]:0;for(let I=1;I<=S;I++){const E=(I-1)*l+1,T=(this._bracketPairGuideOptions.highlightActiveIndentation==="always"||f.length===0)&&u<=g&&g<=d&&I===r;c.push(..._.takeWhile(A=>A.visibleColumn<E)||[]);const N=_.peek();(!N||N.visibleColumn!==E||N.horizontalLine)&&c.push(new C.IndentGuide(E,-1,`core-guide-indent lvl-${(I-1)%30}`+(T?" indent-active":""),null,-1,-1))}c.push(..._.takeWhile(I=>!0)||[])}return o}render(i,t){if(!this._renderResult)return"";const n=t-i;return n<0||n>=this._renderResult.length?"":this._renderResult[n]}}e.IndentGuidesOverlay=b;function a(s){if(!(s&&s.isTransparent()))return s}(0,D.registerThemingParticipant)((s,i)=>{const t=[{bracketColor:k.editorBracketHighlightingForeground1,guideColor:k.editorBracketPairGuideBackground1,guideColorActive:k.editorBracketPairGuideActiveBackground1},{bracketColor:k.editorBracketHighlightingForeground2,guideColor:k.editorBracketPairGuideBackground2,guideColorActive:k.editorBracketPairGuideActiveBackground2},{bracketColor:k.editorBracketHighlightingForeground3,guideColor:k.editorBracketPairGuideBackground3,guideColorActive:k.editorBracketPairGuideActiveBackground3},{bracketColor:k.editorBracketHighlightingForeground4,guideColor:k.editorBracketPairGuideBackground4,guideColorActive:k.editorBracketPairGuideActiveBackground4},{bracketColor:k.editorBracketHighlightingForeground5,guideColor:k.editorBracketPairGuideBackground5,guideColorActive:k.editorBracketPairGuideActiveBackground5},{bracketColor:k.editorBracketHighlightingForeground6,guideColor:k.editorBracketPairGuideBackground6,guideColorActive:k.editorBracketPairGuideActiveBackground6}],n=new w.BracketPairGuidesClassNames,h=[{indentColor:k.editorIndentGuide1,indentColorActive:k.editorActiveIndentGuide1},{indentColor:k.editorIndentGuide2,indentColorActive:k.editorActiveIndentGuide2},{indentColor:k.editorIndentGuide3,indentColorActive:k.editorActiveIndentGuide3},{indentColor:k.editorIndentGuide4,indentColorActive:k.editorActiveIndentGuide4},{indentColor:k.editorIndentGuide5,indentColorActive:k.editorActiveIndentGuide5},{indentColor:k.editorIndentGuide6,indentColorActive:k.editorActiveIndentGuide6}],v=t.map(d=>{var r,l;const o=s.getColor(d.bracketColor),g=s.getColor(d.guideColor),c=s.getColor(d.guideColorActive),f=a((r=a(g))!==null&&r!==void 0?r:o?.transparent(.3)),_=a((l=a(c))!==null&&l!==void 0?l:o);if(!(!f||!_))return{guideColor:f,guideColorActive:_}}).filter(p.isDefined),u=h.map(d=>{const r=s.getColor(d.indentColor),l=s.getColor(d.indentColorActive),o=a(r),g=a(l);if(!(!o||!g))return{indentColor:o,indentColorActive:g}}).filter(p.isDefined);if(v.length>0){for(let d=0;d<30;d++){const r=v[d%v.length];i.addRule(`.monaco-editor .${n.getInlineClassNameOfLevel(d).replace(/ /g,".")} { --guide-color: ${r.guideColor}; --guide-color-active: ${r.guideColorActive}; }`)}i.addRule(".monaco-editor .vertical { box-shadow: 1px 0 0 0 var(--guide-color) inset; }"),i.addRule(".monaco-editor .horizontal-top { border-top: 1px solid var(--guide-color); }"),i.addRule(".monaco-editor .horizontal-bottom { border-bottom: 1px solid var(--guide-color); }"),i.addRule(`.monaco-editor .vertical.${n.activeClassName} { box-shadow: 1px 0 0 0 var(--guide-color-active) inset; }`),i.addRule(`.monaco-editor .horizontal-top.${n.activeClassName} { border-top: 1px solid var(--guide-color-active); }`),i.addRule(`.monaco-editor .horizontal-bottom.${n.activeClassName} { border-bottom: 1px solid var(--guide-color-active); }`)}if(u.length>0){for(let d=0;d<30;d++){const r=u[d%u.length];i.addRule(`.monaco-editor .lines-content .core-guide-indent.lvl-${d} { --indent-color: ${r.indentColor}; --indent-color-active: ${r.indentColorActive}; }`)}i.addRule(".monaco-editor .lines-content .core-guide-indent { box-shadow: 1px 0 0 0 var(--indent-color) inset; }"),i.addRule(".monaco-editor .lines-content .core-guide-indent.indent-active { box-shadow: 1px 0 0 0 var(--indent-color-active) inset; }")}})}),define(te[388],ie([1,0,17,126,9,5,23,86,457]),function(J,e,m,k,D,L,y,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LineNumbersOverlay=void 0;class w extends k.DynamicViewOverlay{constructor(b){super(),this._context=b,this._readConfig(),this._lastCursorModelPosition=new D.Position(1,1),this._renderResult=null,this._activeLineNumber=1,this._context.addEventHandler(this)}_readConfig(){const b=this._context.configuration.options;this._lineHeight=b.get(67);const a=b.get(68);this._renderLineNumbers=a.renderType,this._renderCustomLineNumbers=a.renderFn,this._renderFinalNewline=b.get(95);const s=b.get(145);this._lineNumbersLeft=s.lineNumbersLeft,this._lineNumbersWidth=s.lineNumbersWidth}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(b){return this._readConfig(),!0}onCursorStateChanged(b){const a=b.selections[0].getPosition();this._lastCursorModelPosition=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(a);let s=!1;return this._activeLineNumber!==a.lineNumber&&(this._activeLineNumber=a.lineNumber,s=!0),(this._renderLineNumbers===2||this._renderLineNumbers===3)&&(s=!0),s}onFlushed(b){return!0}onLinesChanged(b){return!0}onLinesDeleted(b){return!0}onLinesInserted(b){return!0}onScrollChanged(b){return b.scrollTopChanged}onZonesChanged(b){return!0}onDecorationsChanged(b){return b.affectsLineNumber}_getLineRenderLineNumber(b){const a=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new D.Position(b,1));if(a.column!==1)return"";const s=a.lineNumber;if(this._renderCustomLineNumbers)return this._renderCustomLineNumbers(s);if(this._renderLineNumbers===2){const i=Math.abs(this._lastCursorModelPosition.lineNumber-s);return i===0?'<span class="relative-current-line-number">'+s+"</span>":String(i)}if(this._renderLineNumbers===3){if(this._lastCursorModelPosition.lineNumber===s||s%10===0)return String(s);const i=this._context.viewModel.getLineCount();return s===i?String(s):""}return String(s)}prepareRender(b){if(this._renderLineNumbers===0){this._renderResult=null;return}const a=m.isLinux?this._lineHeight%2===0?" lh-even":" lh-odd":"",s=b.visibleRange.startLineNumber,i=b.visibleRange.endLineNumber,t=this._context.viewModel.getDecorationsInViewport(b.visibleRange).filter(u=>!!u.options.lineNumberClassName);t.sort((u,d)=>L.Range.compareRangesUsingEnds(u.range,d.range));let n=0;const h=this._context.viewModel.getLineCount(),v=[];for(let u=s;u<=i;u++){const d=u-s;let r=this._getLineRenderLineNumber(u),l="";for(;n<t.length&&t[n].range.endLineNumber<u;)n++;for(let o=n;o<t.length;o++){const{range:g,options:c}=t[o];g.startLineNumber<=u&&(l+=" "+c.lineNumberClassName)}if(!r&&!l){v[d]="";continue}u===h&&this._context.viewModel.getLineLength(u)===0&&(this._renderFinalNewline==="off"&&(r=""),this._renderFinalNewline==="dimmed"&&(l+=" dimmed-line-number")),u===this._activeLineNumber&&(l+=" active-line-number"),v[d]=`<div class="${w.CLASS_NAME}${a}${l}" style="left:${this._lineNumbersLeft}px;width:${this._lineNumbersWidth}px;">${r}</div>`}this._renderResult=v}render(b,a){if(!this._renderResult)return"";const s=a-b;return s<0||s>=this._renderResult.length?"":this._renderResult[s]}}e.LineNumbersOverlay=w,w.CLASS_NAME="line-numbers",(0,y.registerThemingParticipant)((C,b)=>{const a=C.getColor(p.editorLineNumbers),s=C.getColor(p.editorDimmedLineNumber);s?b.addRule(`.monaco-editor .line-numbers.dimmed-line-number { color: ${s}; }`):a&&b.addRule(`.monaco-editor .line-numbers.dimmed-line-number { color: ${a.transparent(.4)}; }`)})}),define(te[898],ie([1,0,646,62,40,17,11,70,203,298,56,388,317,38,159,9,5,24,215,29,34,288,35,8,450]),function(J,e,m,k,D,L,y,p,w,C,b,a,s,i,t,n,h,v,u,d,r,l,o,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextAreaHandler=void 0;class c{constructor(E,T,N,A,O){this._context=E,this.modelLineNumber=T,this.distanceToModelLineStart=N,this.widthOfHiddenLineTextBefore=A,this.distanceToModelLineEnd=O,this._visibleTextAreaBrand=void 0,this.startPosition=null,this.endPosition=null,this.visibleTextareaStart=null,this.visibleTextareaEnd=null,this._previousPresentation=null}prepareRender(E){const T=new n.Position(this.modelLineNumber,this.distanceToModelLineStart+1),N=new n.Position(this.modelLineNumber,this._context.viewModel.model.getLineMaxColumn(this.modelLineNumber)-this.distanceToModelLineEnd);this.startPosition=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(T),this.endPosition=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(N),this.startPosition.lineNumber===this.endPosition.lineNumber?(this.visibleTextareaStart=E.visibleRangeForPosition(this.startPosition),this.visibleTextareaEnd=E.visibleRangeForPosition(this.endPosition)):(this.visibleTextareaStart=null,this.visibleTextareaEnd=null)}definePresentation(E){return this._previousPresentation||(E?this._previousPresentation=E:this._previousPresentation={foreground:1,italic:!1,bold:!1,underline:!1,strikethrough:!1}),this._previousPresentation}}const f=k.isFirefox;let _=class extends b.ViewPart{constructor(E,T,N,A,O){super(E),this._keybindingService=A,this._instantiationService=O,this._primaryCursorPosition=new n.Position(1,1),this._primaryCursorVisibleRange=null,this._viewController=T,this._visibleRangeProvider=N,this._scrollLeft=0,this._scrollTop=0;const M=this._context.configuration.options,P=M.get(145);this._setAccessibilityOptions(M),this._contentLeft=P.contentLeft,this._contentWidth=P.contentWidth,this._contentHeight=P.height,this._fontInfo=M.get(50),this._lineHeight=M.get(67),this._emptySelectionClipboard=M.get(37),this._copyWithSyntaxHighlighting=M.get(25),this._visibleTextArea=null,this._selections=[new v.Selection(1,1,1,1)],this._modelSelections=[new v.Selection(1,1,1,1)],this._lastRenderPosition=null,this.textArea=(0,D.createFastDomNode)(document.createElement("textarea")),b.PartFingerprints.write(this.textArea,7),this.textArea.setClassName(`inputarea ${u.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME}`),this.textArea.setAttribute("wrap",this._textAreaWrapping&&!this._visibleTextArea?"on":"off");const{tabSize:x}=this._context.viewModel.model.getOptions();this.textArea.domNode.style.tabSize=`${x*this._fontInfo.spaceWidth}px`,this.textArea.setAttribute("autocorrect","off"),this.textArea.setAttribute("autocapitalize","off"),this.textArea.setAttribute("autocomplete","off"),this.textArea.setAttribute("spellcheck","false"),this.textArea.setAttribute("aria-label",this._getAriaLabel(M)),this.textArea.setAttribute("aria-required",M.get(5)?"true":"false"),this.textArea.setAttribute("tabindex",String(M.get(124))),this.textArea.setAttribute("role","textbox"),this.textArea.setAttribute("aria-roledescription",m.localize(0,null)),this.textArea.setAttribute("aria-multiline","true"),this.textArea.setAttribute("aria-autocomplete",M.get(91)?"none":"both"),this._ensureReadOnlyAttribute(),this.textAreaCover=(0,D.createFastDomNode)(document.createElement("div")),this.textAreaCover.setPosition("absolute");const R={getLineCount:()=>this._context.viewModel.getLineCount(),getLineMaxColumn:V=>this._context.viewModel.getLineMaxColumn(V),getValueInRange:(V,q)=>this._context.viewModel.getValueInRange(V,q),getValueLengthInRange:(V,q)=>this._context.viewModel.getValueLengthInRange(V,q),modifyPosition:(V,q)=>this._context.viewModel.modifyPosition(V,q)},B={getDataToCopy:()=>{const V=this._context.viewModel.getPlainTextToCopy(this._modelSelections,this._emptySelectionClipboard,L.isWindows),q=this._context.viewModel.model.getEOL(),K=this._emptySelectionClipboard&&this._modelSelections.length===1&&this._modelSelections[0].isEmpty(),U=Array.isArray(V)?V:null,$=Array.isArray(V)?V.join(q):V;let se,F=null;if(w.CopyOptions.forceCopyWithSyntaxHighlighting||this._copyWithSyntaxHighlighting&&$.length<65536){const X=this._context.viewModel.getRichTextToCopy(this._modelSelections,this._emptySelectionClipboard);X&&(se=X.html,F=X.mode)}return{isFromEmptySelection:K,multicursorText:U,text:$,html:se,mode:F}},getScreenReaderContent:()=>{if(this._accessibilitySupport===1){const V=this._selections[0];if(L.isMacintosh&&V.isEmpty()){const K=V.getStartPosition();let U=this._getWordBeforePosition(K);if(U.length===0&&(U=this._getCharacterBeforePosition(K)),U.length>0)return new C.TextAreaState(U,U.length,U.length,h.Range.fromPositions(K),0)}if(L.isMacintosh&&!V.isEmpty()&&R.getValueLengthInRange(V,0)<500){const K=R.getValueInRange(V,0);return new C.TextAreaState(K,0,K.length,V,0)}if(k.isSafari&&!V.isEmpty()){const K="vscode-placeholder";return new C.TextAreaState(K,0,K.length,null,void 0)}return C.TextAreaState.EMPTY}if(k.isAndroid){const V=this._selections[0];if(V.isEmpty()){const q=V.getStartPosition(),[K,U]=this._getAndroidWordAtPosition(q);if(K.length>0)return new C.TextAreaState(K,U,U,h.Range.fromPositions(q),0)}return C.TextAreaState.EMPTY}return C.PagedScreenReaderStrategy.fromEditorSelection(R,this._selections[0],this._accessibilityPageSize,this._accessibilitySupport===0)},deduceModelPosition:(V,q,K)=>this._context.viewModel.deduceModelPositionRelativeToViewPosition(V,q,K)},H=this._register(new w.TextAreaWrapper(this.textArea.domNode));this._textAreaInput=this._register(this._instantiationService.createInstance(w.TextAreaInput,B,H,L.OS,{isAndroid:k.isAndroid,isChrome:k.isChrome,isFirefox:k.isFirefox,isSafari:k.isSafari})),this._register(this._textAreaInput.onKeyDown(V=>{this._viewController.emitKeyDown(V)})),this._register(this._textAreaInput.onKeyUp(V=>{this._viewController.emitKeyUp(V)})),this._register(this._textAreaInput.onPaste(V=>{let q=!1,K=null,U=null;V.metadata&&(q=this._emptySelectionClipboard&&!!V.metadata.isFromEmptySelection,K=typeof V.metadata.multicursorText<"u"?V.metadata.multicursorText:null,U=V.metadata.mode),this._viewController.paste(V.text,q,K,U)})),this._register(this._textAreaInput.onCut(()=>{this._viewController.cut()})),this._register(this._textAreaInput.onType(V=>{V.replacePrevCharCnt||V.replaceNextCharCnt||V.positionDelta?(C._debugComposition&&console.log(` => compositionType: <<${V.text}>>, ${V.replacePrevCharCnt}, ${V.replaceNextCharCnt}, ${V.positionDelta}`),this._viewController.compositionType(V.text,V.replacePrevCharCnt,V.replaceNextCharCnt,V.positionDelta)):(C._debugComposition&&console.log(` => type: <<${V.text}>>`),this._viewController.type(V.text))})),this._register(this._textAreaInput.onSelectionChangeRequest(V=>{this._viewController.setSelection(V)})),this._register(this._textAreaInput.onCompositionStart(V=>{const q=this.textArea.domNode,K=this._modelSelections[0],{distanceToModelLineStart:U,widthOfHiddenTextBefore:$}=(()=>{const F=q.value.substring(0,Math.min(q.selectionStart,q.selectionEnd)),X=F.lastIndexOf(`
`),Q=F.substring(X+1),Z=Q.lastIndexOf("	"),ae=Q.length-Z-1,ue=K.getStartPosition(),ge=Math.min(ue.column-1,ae),fe=ue.column-1-ge,re=Q.substring(0,Q.length-ge),{tabSize:de}=this._context.viewModel.model.getOptions(),ee=S(this.textArea.domNode.ownerDocument,re,this._fontInfo,de);return{distanceToModelLineStart:fe,widthOfHiddenTextBefore:ee}})(),{distanceToModelLineEnd:se}=(()=>{const F=q.value.substring(Math.max(q.selectionStart,q.selectionEnd)),X=F.indexOf(`
`),Q=X===-1?F:F.substring(0,X),Z=Q.indexOf("	"),ae=Z===-1?Q.length:Q.length-Z-1,ue=K.getEndPosition(),ge=Math.min(this._context.viewModel.model.getLineMaxColumn(ue.lineNumber)-ue.column,ae);return{distanceToModelLineEnd:this._context.viewModel.model.getLineMaxColumn(ue.lineNumber)-ue.column-ge}})();this._context.viewModel.revealRange("keyboard",!0,h.Range.fromPositions(this._selections[0].getStartPosition()),0,1),this._visibleTextArea=new c(this._context,K.startLineNumber,U,$,se),this.textArea.setAttribute("wrap",this._textAreaWrapping&&!this._visibleTextArea?"on":"off"),this._visibleTextArea.prepareRender(this._visibleRangeProvider),this._render(),this.textArea.setClassName(`inputarea ${u.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME} ime-input`),this._viewController.compositionStart(),this._context.viewModel.onCompositionStart()})),this._register(this._textAreaInput.onCompositionUpdate(V=>{this._visibleTextArea&&(this._visibleTextArea.prepareRender(this._visibleRangeProvider),this._render())})),this._register(this._textAreaInput.onCompositionEnd(()=>{this._visibleTextArea=null,this.textArea.setAttribute("wrap",this._textAreaWrapping&&!this._visibleTextArea?"on":"off"),this._render(),this.textArea.setClassName(`inputarea ${u.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME}`),this._viewController.compositionEnd(),this._context.viewModel.onCompositionEnd()})),this._register(this._textAreaInput.onFocus(()=>{this._context.viewModel.setHasFocus(!0)})),this._register(this._textAreaInput.onBlur(()=>{this._context.viewModel.setHasFocus(!1)})),this._register(l.IME.onDidChange(()=>{this._ensureReadOnlyAttribute()}))}writeScreenReaderContent(E){this._textAreaInput.writeNativeTextAreaContent(E)}dispose(){super.dispose()}_getAndroidWordAtPosition(E){const T='`~!@#$%^&*()-=+[{]}\\|;:",.<>/?',N=this._context.viewModel.getLineContent(E.lineNumber),A=(0,t.getMapForWordSeparators)(T,[]);let O=!0,M=E.column,P=!0,x=E.column,R=0;for(;R<50&&(O||P);){if(O&&M<=1&&(O=!1),O){const B=N.charCodeAt(M-2);A.get(B)!==0?O=!1:M--}if(P&&x>N.length&&(P=!1),P){const B=N.charCodeAt(x-1);A.get(B)!==0?P=!1:x++}R++}return[N.substring(M-1,x-1),E.column-M]}_getWordBeforePosition(E){const T=this._context.viewModel.getLineContent(E.lineNumber),N=(0,t.getMapForWordSeparators)(this._context.configuration.options.get(131),[]);let A=E.column,O=0;for(;A>1;){const M=T.charCodeAt(A-2);if(N.get(M)!==0||O>50)return T.substring(A-1,E.column-1);O++,A--}return T.substring(0,E.column-1)}_getCharacterBeforePosition(E){if(E.column>1){const N=this._context.viewModel.getLineContent(E.lineNumber).charAt(E.column-2);if(!y.isHighSurrogate(N.charCodeAt(0)))return N}return""}_getAriaLabel(E){var T,N,A;if(E.get(2)===1){const M=(T=this._keybindingService.lookupKeybinding("editor.action.toggleScreenReaderAccessibilityMode"))===null||T===void 0?void 0:T.getAriaLabel(),P=(N=this._keybindingService.lookupKeybinding("workbench.action.showCommands"))===null||N===void 0?void 0:N.getAriaLabel(),x=(A=this._keybindingService.lookupKeybinding("workbench.action.openGlobalKeybindings"))===null||A===void 0?void 0:A.getAriaLabel(),R=m.localize(1,null);return M?m.localize(2,null,R,M):P?m.localize(3,null,R,P):x?m.localize(4,null,R,x):R}return E.get(4)}_setAccessibilityOptions(E){this._accessibilitySupport=E.get(2);const T=E.get(3);this._accessibilitySupport===2&&T===i.EditorOptions.accessibilityPageSize.defaultValue?this._accessibilityPageSize=500:this._accessibilityPageSize=T;const A=E.get(145).wrappingColumn;if(A!==-1&&this._accessibilitySupport!==1){const O=E.get(50);this._textAreaWrapping=!0,this._textAreaWidth=Math.round(A*O.typicalHalfwidthCharacterWidth)}else this._textAreaWrapping=!1,this._textAreaWidth=f?0:1}onConfigurationChanged(E){const T=this._context.configuration.options,N=T.get(145);this._setAccessibilityOptions(T),this._contentLeft=N.contentLeft,this._contentWidth=N.contentWidth,this._contentHeight=N.height,this._fontInfo=T.get(50),this._lineHeight=T.get(67),this._emptySelectionClipboard=T.get(37),this._copyWithSyntaxHighlighting=T.get(25),this.textArea.setAttribute("wrap",this._textAreaWrapping&&!this._visibleTextArea?"on":"off");const{tabSize:A}=this._context.viewModel.model.getOptions();return this.textArea.domNode.style.tabSize=`${A*this._fontInfo.spaceWidth}px`,this.textArea.setAttribute("aria-label",this._getAriaLabel(T)),this.textArea.setAttribute("aria-required",T.get(5)?"true":"false"),this.textArea.setAttribute("tabindex",String(T.get(124))),(E.hasChanged(34)||E.hasChanged(91))&&this._ensureReadOnlyAttribute(),E.hasChanged(2)&&this._textAreaInput.writeNativeTextAreaContent("strategy changed"),!0}onCursorStateChanged(E){return this._selections=E.selections.slice(0),this._modelSelections=E.modelSelections.slice(0),this._textAreaInput.writeNativeTextAreaContent("selection changed"),!0}onDecorationsChanged(E){return!0}onFlushed(E){return!0}onLinesChanged(E){return!0}onLinesDeleted(E){return!0}onLinesInserted(E){return!0}onScrollChanged(E){return this._scrollLeft=E.scrollLeft,this._scrollTop=E.scrollTop,!0}onZonesChanged(E){return!0}isFocused(){return this._textAreaInput.isFocused()}focusTextArea(){this._textAreaInput.focusTextArea()}getLastRenderData(){return this._lastRenderPosition}setAriaOptions(E){E.activeDescendant?(this.textArea.setAttribute("aria-haspopup","true"),this.textArea.setAttribute("aria-autocomplete","list"),this.textArea.setAttribute("aria-activedescendant",E.activeDescendant)):(this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),this.textArea.removeAttribute("aria-activedescendant")),E.role&&this.textArea.setAttribute("role",E.role)}_ensureReadOnlyAttribute(){const E=this._context.configuration.options;!l.IME.enabled||E.get(34)&&E.get(91)?this.textArea.setAttribute("readonly","true"):this.textArea.removeAttribute("readonly")}prepareRender(E){var T;this._primaryCursorPosition=new n.Position(this._selections[0].positionLineNumber,this._selections[0].positionColumn),this._primaryCursorVisibleRange=E.visibleRangeForPosition(this._primaryCursorPosition),(T=this._visibleTextArea)===null||T===void 0||T.prepareRender(E)}render(E){this._textAreaInput.writeNativeTextAreaContent("render"),this._render()}_render(){var E;if(this._visibleTextArea){const A=this._visibleTextArea.visibleTextareaStart,O=this._visibleTextArea.visibleTextareaEnd,M=this._visibleTextArea.startPosition,P=this._visibleTextArea.endPosition;if(M&&P&&A&&O&&O.left>=this._scrollLeft&&A.left<=this._scrollLeft+this._contentWidth){const x=this._context.viewLayout.getVerticalOffsetForLineNumber(this._primaryCursorPosition.lineNumber)-this._scrollTop,R=this._newlinecount(this.textArea.domNode.value.substr(0,this.textArea.domNode.selectionStart));let B=this._visibleTextArea.widthOfHiddenLineTextBefore,H=this._contentLeft+A.left-this._scrollLeft,V=O.left-A.left+1;if(H<this._contentLeft){const F=this._contentLeft-H;H+=F,B+=F,V-=F}V>this._contentWidth&&(V=this._contentWidth);const q=this._context.viewModel.getViewLineData(M.lineNumber),K=q.tokens.findTokenIndexAtOffset(M.column-1),U=q.tokens.findTokenIndexAtOffset(P.column-1),$=K===U,se=this._visibleTextArea.definePresentation($?q.tokens.getPresentation(K):null);this.textArea.domNode.scrollTop=R*this._lineHeight,this.textArea.domNode.scrollLeft=B,this._doRender({lastRenderPosition:null,top:x,left:H,width:V,height:this._lineHeight,useCover:!1,color:(d.TokenizationRegistry.getColorMap()||[])[se.foreground],italic:se.italic,bold:se.bold,underline:se.underline,strikethrough:se.strikethrough})}return}if(!this._primaryCursorVisibleRange){this._renderAtTopLeft();return}const T=this._contentLeft+this._primaryCursorVisibleRange.left-this._scrollLeft;if(T<this._contentLeft||T>this._contentLeft+this._contentWidth){this._renderAtTopLeft();return}const N=this._context.viewLayout.getVerticalOffsetForLineNumber(this._selections[0].positionLineNumber)-this._scrollTop;if(N<0||N>this._contentHeight){this._renderAtTopLeft();return}if(L.isMacintosh||this._accessibilitySupport===2){this._doRender({lastRenderPosition:this._primaryCursorPosition,top:N,left:this._textAreaWrapping?this._contentLeft:T,width:this._textAreaWidth,height:this._lineHeight,useCover:!1}),this.textArea.domNode.scrollLeft=this._primaryCursorVisibleRange.left;const A=(E=this._textAreaInput.textAreaState.newlineCountBeforeSelection)!==null&&E!==void 0?E:this._newlinecount(this.textArea.domNode.value.substr(0,this.textArea.domNode.selectionStart));this.textArea.domNode.scrollTop=A*this._lineHeight;return}this._doRender({lastRenderPosition:this._primaryCursorPosition,top:N,left:this._textAreaWrapping?this._contentLeft:T,width:this._textAreaWidth,height:f?0:1,useCover:!1})}_newlinecount(E){let T=0,N=-1;do{if(N=E.indexOf(`
`,N+1),N===-1)break;T++}while(!0);return T}_renderAtTopLeft(){this._doRender({lastRenderPosition:null,top:0,left:0,width:this._textAreaWidth,height:f?0:1,useCover:!0})}_doRender(E){this._lastRenderPosition=E.lastRenderPosition;const T=this.textArea,N=this.textAreaCover;(0,p.applyFontInfo)(T,this._fontInfo),T.setTop(E.top),T.setLeft(E.left),T.setWidth(E.width),T.setHeight(E.height),T.setColor(E.color?r.Color.Format.CSS.formatHex(E.color):""),T.setFontStyle(E.italic?"italic":""),E.bold&&T.setFontWeight("bold"),T.setTextDecoration(`${E.underline?" underline":""}${E.strikethrough?" line-through":""}`),N.setTop(E.useCover?E.top:0),N.setLeft(E.useCover?E.left:0),N.setWidth(E.useCover?E.width:0),N.setHeight(E.useCover?E.height:0);const A=this._context.configuration.options;A.get(57)?N.setClassName("monaco-editor-background textAreaCover "+s.Margin.OUTER_CLASS_NAME):A.get(68).renderType!==0?N.setClassName("monaco-editor-background textAreaCover "+a.LineNumbersOverlay.CLASS_NAME):N.setClassName("monaco-editor-background textAreaCover")}};e.TextAreaHandler=_,e.TextAreaHandler=_=Ie([he(3,o.IKeybindingService),he(4,g.IInstantiationService)],_);function S(I,E,T,N){if(E.length===0)return 0;const A=I.createElement("div");A.style.position="absolute",A.style.top="-50000px",A.style.width="50000px";const O=I.createElement("span");(0,p.applyFontInfo)(O,T),O.style.whiteSpace="pre",O.style.tabSize=`${N*T.spaceWidth}px`,O.append(E),A.appendChild(O),I.body.appendChild(A);const M=O.offsetWidth;return I.body.removeChild(A),M}}),define(te[899],ie([1,0,40,34,56,9,29,86,90,13]),function(J,e,m,k,D,L,y,p,w,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DecorationsOverviewRuler=void 0;class b{constructor(i,t){const n=i.options;this.lineHeight=n.get(67),this.pixelRatio=n.get(143),this.overviewRulerLanes=n.get(83),this.renderBorder=n.get(82);const h=t.getColor(p.editorOverviewRulerBorder);this.borderColor=h?h.toString():null,this.hideCursor=n.get(59);const v=t.getColor(p.editorCursorForeground);this.cursorColor=v?v.transparent(.7).toString():null,this.themeType=t.type;const u=n.get(73),d=u.enabled,r=u.side,l=t.getColor(p.editorOverviewRulerBackground),o=y.TokenizationRegistry.getDefaultBackground();l?this.backgroundColor=l:d&&r==="right"?this.backgroundColor=o:this.backgroundColor=null;const c=n.get(145).overviewRuler;this.top=c.top,this.right=c.right,this.domWidth=c.width,this.domHeight=c.height,this.overviewRulerLanes===0?(this.canvasWidth=0,this.canvasHeight=0):(this.canvasWidth=this.domWidth*this.pixelRatio|0,this.canvasHeight=this.domHeight*this.pixelRatio|0);const[f,_]=this._initLanes(1,this.canvasWidth,this.overviewRulerLanes);this.x=f,this.w=_}_initLanes(i,t,n){const h=t-i;if(n>=3){const v=Math.floor(h/3),u=Math.floor(h/3),d=h-v-u,r=i,l=r+v,o=r+v+d;return[[0,r,l,r,o,r,l,r],[0,v,d,v+d,u,v+d+u,d+u,v+d+u]]}else if(n===2){const v=Math.floor(h/2),u=h-v,d=i,r=d+v;return[[0,d,d,d,r,d,d,d],[0,v,v,v,u,v+u,v+u,v+u]]}else{const v=i,u=h;return[[0,v,v,v,v,v,v,v],[0,u,u,u,u,u,u,u]]}}equals(i){return this.lineHeight===i.lineHeight&&this.pixelRatio===i.pixelRatio&&this.overviewRulerLanes===i.overviewRulerLanes&&this.renderBorder===i.renderBorder&&this.borderColor===i.borderColor&&this.hideCursor===i.hideCursor&&this.cursorColor===i.cursorColor&&this.themeType===i.themeType&&k.Color.equals(this.backgroundColor,i.backgroundColor)&&this.top===i.top&&this.right===i.right&&this.domWidth===i.domWidth&&this.domHeight===i.domHeight&&this.canvasWidth===i.canvasWidth&&this.canvasHeight===i.canvasHeight}}class a extends D.ViewPart{constructor(i){super(i),this._actualShouldRender=0,this._renderedDecorations=[],this._renderedCursorPositions=[],this._domNode=(0,m.createFastDomNode)(document.createElement("canvas")),this._domNode.setClassName("decorationsOverviewRuler"),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._domNode.setAttribute("aria-hidden","true"),this._updateSettings(!1),this._tokensColorTrackerListener=y.TokenizationRegistry.onDidChange(t=>{t.changedColorMap&&this._updateSettings(!0)}),this._cursorPositions=[new L.Position(1,1)]}dispose(){super.dispose(),this._tokensColorTrackerListener.dispose()}_updateSettings(i){const t=new b(this._context.configuration,this._context.theme);return this._settings&&this._settings.equals(t)?!1:(this._settings=t,this._domNode.setTop(this._settings.top),this._domNode.setRight(this._settings.right),this._domNode.setWidth(this._settings.domWidth),this._domNode.setHeight(this._settings.domHeight),this._domNode.domNode.width=this._settings.canvasWidth,this._domNode.domNode.height=this._settings.canvasHeight,i&&this._render(),!0)}_markRenderingIsNeeded(){return this._actualShouldRender=2,!0}_markRenderingIsMaybeNeeded(){return this._actualShouldRender=1,!0}onConfigurationChanged(i){return this._updateSettings(!1)?this._markRenderingIsNeeded():!1}onCursorStateChanged(i){this._cursorPositions=[];for(let t=0,n=i.selections.length;t<n;t++)this._cursorPositions[t]=i.selections[t].getPosition();return this._cursorPositions.sort(L.Position.compare),this._markRenderingIsMaybeNeeded()}onDecorationsChanged(i){return i.affectsOverviewRuler?this._markRenderingIsMaybeNeeded():!1}onFlushed(i){return this._markRenderingIsNeeded()}onScrollChanged(i){return i.scrollHeightChanged?this._markRenderingIsNeeded():!1}onZonesChanged(i){return this._markRenderingIsNeeded()}onThemeChanged(i){return this._updateSettings(!1)?this._markRenderingIsNeeded():!1}getDomNode(){return this._domNode.domNode}prepareRender(i){}render(i){this._render(),this._actualShouldRender=0}_render(){const i=this._settings.backgroundColor;if(this._settings.overviewRulerLanes===0){this._domNode.setBackgroundColor(i?k.Color.Format.CSS.formatHexA(i):""),this._domNode.setDisplay("none");return}const t=this._context.viewModel.getAllOverviewRulerDecorations(this._context.theme);if(t.sort(w.OverviewRulerDecorationsGroup.compareByRenderingProps),this._actualShouldRender===1&&!w.OverviewRulerDecorationsGroup.equalsArr(this._renderedDecorations,t)&&(this._actualShouldRender=2),this._actualShouldRender===1&&!(0,C.equals)(this._renderedCursorPositions,this._cursorPositions,(_,S)=>_.lineNumber===S.lineNumber)&&(this._actualShouldRender=2),this._actualShouldRender===1)return;this._renderedDecorations=t,this._renderedCursorPositions=this._cursorPositions,this._domNode.setDisplay("block");const n=this._settings.canvasWidth,h=this._settings.canvasHeight,v=this._settings.lineHeight,u=this._context.viewLayout,d=this._context.viewLayout.getScrollHeight(),r=h/d,l=6*this._settings.pixelRatio|0,o=l/2|0,g=this._domNode.domNode.getContext("2d");i?i.isOpaque()?(g.fillStyle=k.Color.Format.CSS.formatHexA(i),g.fillRect(0,0,n,h)):(g.clearRect(0,0,n,h),g.fillStyle=k.Color.Format.CSS.formatHexA(i),g.fillRect(0,0,n,h)):g.clearRect(0,0,n,h);const c=this._settings.x,f=this._settings.w;for(const _ of t){const S=_.color,I=_.data;g.fillStyle=S;let E=0,T=0,N=0;for(let A=0,O=I.length/3;A<O;A++){const M=I[3*A],P=I[3*A+1],x=I[3*A+2];let R=u.getVerticalOffsetForLineNumber(P)*r|0,B=(u.getVerticalOffsetForLineNumber(x)+v)*r|0;if(B-R<l){let V=(R+B)/2|0;V<o?V=o:V+o>h&&(V=h-o),R=V-o,B=V+o}R>N+1||M!==E?(A!==0&&g.fillRect(c[E],T,f[E],N-T),E=M,T=R,N=B):B>N&&(N=B)}g.fillRect(c[E],T,f[E],N-T)}if(!this._settings.hideCursor&&this._settings.cursorColor){const _=2*this._settings.pixelRatio|0,S=_/2|0,I=this._settings.x[7],E=this._settings.w[7];g.fillStyle=this._settings.cursorColor;let T=-100,N=-100;for(let A=0,O=this._cursorPositions.length;A<O;A++){const M=this._cursorPositions[A];let P=u.getVerticalOffsetForLineNumber(M.lineNumber)*r|0;P<S?P=S:P+S>h&&(P=h-S);const x=P-S,R=x+_;x>N+1?(A!==0&&g.fillRect(I,T,E,N-T),T=x,N=R):R>N&&(N=R)}g.fillRect(I,T,E,N-T)}this._settings.renderBorder&&this._settings.borderColor&&this._settings.overviewRulerLanes>0&&(g.beginPath(),g.lineWidth=1,g.strokeStyle=this._settings.borderColor,g.moveTo(0,0),g.lineTo(0,h),g.stroke(),g.moveTo(0,0),g.lineTo(n,0),g.stroke())}}e.DecorationsOverviewRuler=a}),define(te[900],ie([1,0,40,15,56,665,38,86,23,93,6,467]),function(J,e,m,k,D,L,y,p,w,C,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewCursors=void 0;class a extends D.ViewPart{constructor(i){super(i);const t=this._context.configuration.options;this._readOnly=t.get(91),this._cursorBlinking=t.get(26),this._cursorStyle=t.get(28),this._cursorSmoothCaretAnimation=t.get(27),this._selectionIsEmpty=!0,this._isComposingInput=!1,this._isVisible=!1,this._primaryCursor=new L.ViewCursor(this._context),this._secondaryCursors=[],this._renderData=[],this._domNode=(0,m.createFastDomNode)(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._updateDomClassName(),this._domNode.appendChild(this._primaryCursor.getDomNode()),this._startCursorBlinkAnimation=new k.TimeoutTimer,this._cursorFlatBlinkInterval=new b.WindowIntervalTimer,this._blinkingEnabled=!1,this._editorHasFocus=!1,this._updateBlinking()}dispose(){super.dispose(),this._startCursorBlinkAnimation.dispose(),this._cursorFlatBlinkInterval.dispose()}getDomNode(){return this._domNode}onCompositionStart(i){return this._isComposingInput=!0,this._updateBlinking(),!0}onCompositionEnd(i){return this._isComposingInput=!1,this._updateBlinking(),!0}onConfigurationChanged(i){const t=this._context.configuration.options;this._readOnly=t.get(91),this._cursorBlinking=t.get(26),this._cursorStyle=t.get(28),this._cursorSmoothCaretAnimation=t.get(27),this._updateBlinking(),this._updateDomClassName(),this._primaryCursor.onConfigurationChanged(i);for(let n=0,h=this._secondaryCursors.length;n<h;n++)this._secondaryCursors[n].onConfigurationChanged(i);return!0}_onCursorPositionChanged(i,t,n){const h=this._secondaryCursors.length!==t.length||this._cursorSmoothCaretAnimation==="explicit"&&n!==3;if(this._primaryCursor.onCursorPositionChanged(i,h),this._updateBlinking(),this._secondaryCursors.length<t.length){const v=t.length-this._secondaryCursors.length;for(let u=0;u<v;u++){const d=new L.ViewCursor(this._context);this._domNode.domNode.insertBefore(d.getDomNode().domNode,this._primaryCursor.getDomNode().domNode.nextSibling),this._secondaryCursors.push(d)}}else if(this._secondaryCursors.length>t.length){const v=this._secondaryCursors.length-t.length;for(let u=0;u<v;u++)this._domNode.removeChild(this._secondaryCursors[0].getDomNode()),this._secondaryCursors.splice(0,1)}for(let v=0;v<t.length;v++)this._secondaryCursors[v].onCursorPositionChanged(t[v],h)}onCursorStateChanged(i){const t=[];for(let h=0,v=i.selections.length;h<v;h++)t[h]=i.selections[h].getPosition();this._onCursorPositionChanged(t[0],t.slice(1),i.reason);const n=i.selections[0].isEmpty();return this._selectionIsEmpty!==n&&(this._selectionIsEmpty=n,this._updateDomClassName()),!0}onDecorationsChanged(i){return!0}onFlushed(i){return!0}onFocusChanged(i){return this._editorHasFocus=i.isFocused,this._updateBlinking(),!1}onLinesChanged(i){return!0}onLinesDeleted(i){return!0}onLinesInserted(i){return!0}onScrollChanged(i){return!0}onTokensChanged(i){const t=n=>{for(let h=0,v=i.ranges.length;h<v;h++)if(i.ranges[h].fromLineNumber<=n.lineNumber&&n.lineNumber<=i.ranges[h].toLineNumber)return!0;return!1};if(t(this._primaryCursor.getPosition()))return!0;for(const n of this._secondaryCursors)if(t(n.getPosition()))return!0;return!1}onZonesChanged(i){return!0}_getCursorBlinking(){return this._isComposingInput||!this._editorHasFocus?0:this._readOnly?5:this._cursorBlinking}_updateBlinking(){this._startCursorBlinkAnimation.cancel(),this._cursorFlatBlinkInterval.cancel();const i=this._getCursorBlinking(),t=i===0,n=i===5;t?this._hide():this._show(),this._blinkingEnabled=!1,this._updateDomClassName(),!t&&!n&&(i===1?this._cursorFlatBlinkInterval.cancelAndSet(()=>{this._isVisible?this._hide():this._show()},a.BLINK_INTERVAL,(0,b.getWindow)(this._domNode.domNode)):this._startCursorBlinkAnimation.setIfNotSet(()=>{this._blinkingEnabled=!0,this._updateDomClassName()},a.BLINK_INTERVAL))}_updateDomClassName(){this._domNode.setClassName(this._getClassName())}_getClassName(){let i="cursors-layer";switch(this._selectionIsEmpty||(i+=" has-selection"),this._cursorStyle){case y.TextEditorCursorStyle.Line:i+=" cursor-line-style";break;case y.TextEditorCursorStyle.Block:i+=" cursor-block-style";break;case y.TextEditorCursorStyle.Underline:i+=" cursor-underline-style";break;case y.TextEditorCursorStyle.LineThin:i+=" cursor-line-thin-style";break;case y.TextEditorCursorStyle.BlockOutline:i+=" cursor-block-outline-style";break;case y.TextEditorCursorStyle.UnderlineThin:i+=" cursor-underline-thin-style";break;default:i+=" cursor-line-style"}if(this._blinkingEnabled)switch(this._getCursorBlinking()){case 1:i+=" cursor-blink";break;case 2:i+=" cursor-smooth";break;case 3:i+=" cursor-phase";break;case 4:i+=" cursor-expand";break;case 5:i+=" cursor-solid";break;default:i+=" cursor-solid"}else i+=" cursor-solid";return(this._cursorSmoothCaretAnimation==="on"||this._cursorSmoothCaretAnimation==="explicit")&&(i+=" cursor-smooth-caret-animation"),i}_show(){this._primaryCursor.show();for(let i=0,t=this._secondaryCursors.length;i<t;i++)this._secondaryCursors[i].show();this._isVisible=!0}_hide(){this._primaryCursor.hide();for(let i=0,t=this._secondaryCursors.length;i<t;i++)this._secondaryCursors[i].hide();this._isVisible=!1}prepareRender(i){this._primaryCursor.prepareRender(i);for(let t=0,n=this._secondaryCursors.length;t<n;t++)this._secondaryCursors[t].prepareRender(i)}render(i){const t=[];let n=0;const h=this._primaryCursor.render(i);h&&(t[n++]=h);for(let v=0,u=this._secondaryCursors.length;v<u;v++){const d=this._secondaryCursors[v].render(i);d&&(t[n++]=d)}this._renderData=t}getLastRenderData(){return this._renderData}}e.ViewCursors=a,a.BLINK_INTERVAL=500,(0,w.registerThemingParticipant)((s,i)=>{const t=s.getColor(p.editorCursorForeground);if(t){let n=s.getColor(p.editorCursorBackground);n||(n=t.opposite()),i.addRule(`.monaco-editor .cursors-layer .cursor { background-color: ${t}; border-color: ${t}; color: ${n}; }`),(0,C.isHighContrast)(s.type)&&i.addRule(`.monaco-editor .cursors-layer.has-selection .cursor { border-left: 1px solid ${n}; border-right: 1px solid ${n}; }`)}})}),define(te[901],ie([1,0,126,11,129,9,86,468]),function(J,e,m,k,D,L,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WhitespaceOverlay=void 0;class p extends m.DynamicViewOverlay{constructor(b){super(),this._context=b,this._options=new w(this._context.configuration),this._selection=[],this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(b){const a=new w(this._context.configuration);return this._options.equals(a)?b.hasChanged(145):(this._options=a,!0)}onCursorStateChanged(b){return this._selection=b.selections,this._options.renderWhitespace==="selection"}onDecorationsChanged(b){return!0}onFlushed(b){return!0}onLinesChanged(b){return!0}onLinesDeleted(b){return!0}onLinesInserted(b){return!0}onScrollChanged(b){return b.scrollTopChanged}onZonesChanged(b){return!0}prepareRender(b){if(this._options.renderWhitespace==="none"){this._renderResult=null;return}const a=b.visibleRange.startLineNumber,i=b.visibleRange.endLineNumber-a+1,t=new Array(i);for(let h=0;h<i;h++)t[h]=!0;const n=this._context.viewModel.getMinimapLinesRenderingData(b.viewportData.startLineNumber,b.viewportData.endLineNumber,t);this._renderResult=[];for(let h=b.viewportData.startLineNumber;h<=b.viewportData.endLineNumber;h++){const v=h-b.viewportData.startLineNumber,u=n.data[v];let d=null;if(this._options.renderWhitespace==="selection"){const r=this._selection;for(const l of r){if(l.endLineNumber<h||l.startLineNumber>h)continue;const o=l.startLineNumber===h?l.startColumn:u.minColumn,g=l.endLineNumber===h?l.endColumn:u.maxColumn;o<g&&(d||(d=[]),d.push(new D.LineRange(o-1,g-1)))}}this._renderResult[v]=this._applyRenderWhitespace(b,h,d,u)}}_applyRenderWhitespace(b,a,s,i){if(this._options.renderWhitespace==="selection"&&!s||this._options.renderWhitespace==="trailing"&&i.continuesWithWrappedLine)return"";const t=this._context.theme.getColor(y.editorWhitespaces),n=this._options.renderWithSVG,h=i.content,v=this._options.stopRenderingLineAfter===-1?h.length:Math.min(this._options.stopRenderingLineAfter,h.length),u=i.continuesWithWrappedLine,d=i.minColumn-1,r=this._options.renderWhitespace==="boundary",l=this._options.renderWhitespace==="trailing",o=this._options.lineHeight,g=this._options.middotWidth,c=this._options.wsmiddotWidth,f=this._options.spaceWidth,_=Math.abs(c-f),S=Math.abs(g-f),I=_<S?11825:183,E=this._options.canUseHalfwidthRightwardsArrow;let T="",N=!1,A=k.firstNonWhitespaceIndex(h),O;A===-1?(N=!0,A=v,O=v):O=k.lastNonWhitespaceIndex(h);let M=0,P=s&&s[M],x=0;for(let R=d;R<v;R++){const B=h.charCodeAt(R);if(P&&R>=P.endOffset&&(M++,P=s&&s[M]),B!==9&&B!==32||l&&!N&&R<=O)continue;if(r&&R>=A&&R<=O&&B===32){const V=R-1>=0?h.charCodeAt(R-1):0,q=R+1<v?h.charCodeAt(R+1):0;if(V!==32&&q!==32)continue}if(r&&u&&R===v-1){const V=R-1>=0?h.charCodeAt(R-1):0;if(B===32&&V!==32&&V!==9)continue}if(s&&(!P||P.startOffset>R||P.endOffset<=R))continue;const H=b.visibleRangeForPosition(new L.Position(a,R+1));H&&(n?(x=Math.max(x,H.left),B===9?T+=this._renderArrow(o,f,H.left):T+=`<circle cx="${(H.left+f/2).toFixed(2)}" cy="${(o/2).toFixed(2)}" r="${(f/7).toFixed(2)}" />`):B===9?T+=`<div class="mwh" style="left:${H.left}px;height:${o}px;">${E?"\uFFEB":"\u2192"}</div>`:T+=`<div class="mwh" style="left:${H.left}px;height:${o}px;">${String.fromCharCode(I)}</div>`)}return n?(x=Math.round(x+f),`<svg style="bottom:0;position:absolute;width:${x}px;height:${o}px" viewBox="0 0 ${x} ${o}" xmlns="http://www.w3.org/2000/svg" fill="${t}">`+T+"</svg>"):T}_renderArrow(b,a,s){const i=a/7,t=a,n=b/2,h=s,v={x:0,y:i/2},u={x:100/125*t,y:v.y},d={x:u.x-.2*u.x,y:u.y+.2*u.x},r={x:d.x+.1*u.x,y:d.y+.1*u.x},l={x:r.x+.35*u.x,y:r.y-.35*u.x},o={x:l.x,y:-l.y},g={x:r.x,y:-r.y},c={x:d.x,y:-d.y},f={x:u.x,y:-u.y},_={x:v.x,y:-v.y};return`<path d="M ${[v,u,d,r,l,o,g,c,f,_].map(E=>`${(h+E.x).toFixed(2)} ${(n+E.y).toFixed(2)}`).join(" L ")}" />`}render(b,a){if(!this._renderResult)return"";const s=a-b;return s<0||s>=this._renderResult.length?"":this._renderResult[s]}}e.WhitespaceOverlay=p;class w{constructor(b){const a=b.options,s=a.get(50),i=a.get(38);i==="off"?(this.renderWhitespace="none",this.renderWithSVG=!1):i==="svg"?(this.renderWhitespace=a.get(99),this.renderWithSVG=!0):(this.renderWhitespace=a.get(99),this.renderWithSVG=!1),this.spaceWidth=s.spaceWidth,this.middotWidth=s.middotWidth,this.wsmiddotWidth=s.wsmiddotWidth,this.canUseHalfwidthRightwardsArrow=s.canUseHalfwidthRightwardsArrow,this.lineHeight=a.get(67),this.stopRenderingLineAfter=a.get(117)}equals(b){return this.renderWhitespace===b.renderWhitespace&&this.renderWithSVG===b.renderWithSVG&&this.spaceWidth===b.spaceWidth&&this.middotWidth===b.middotWidth&&this.wsmiddotWidth===b.wsmiddotWidth&&this.canUseHalfwidthRightwardsArrow===b.canUseHalfwidthRightwardsArrow&&this.lineHeight===b.lineHeight&&this.stopRenderingLineAfter===b.stopRenderingLineAfter}}}),define(te[902],ie([1,0,6,40,283,12,386,889,898,157,845,638,56,297,562,632,896,563,893,229,897,388,890,564,317,565,875,633,899,575,566,567,894,900,568,901,9,5,24,43,163,571,576,8,23]),function(J,e,m,k,D,L,y,p,w,C,b,a,s,i,t,n,h,v,u,d,r,l,o,g,c,f,_,S,I,E,T,N,A,O,M,P,x,R,B,H,V,q,K,U,$){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.View=void 0;let se=class extends V.ViewEventHandler{constructor(Z,ae,ue,ge,fe,re,de){super(),this._instantiationService=de,this._shouldRecomputeGlyphMarginLanes=!1,this._selections=[new B.Selection(1,1,1,1)],this._renderAnimationFrame=null;const ee=new b.ViewController(ae,ge,fe,Z);this._context=new K.ViewContext(ae,ue,ge),this._context.addEventHandler(this),this._viewParts=[],this._textAreaHandler=this._instantiationService.createInstance(w.TextAreaHandler,this._context,ee,this._createTextAreaHandlerHelper()),this._viewParts.push(this._textAreaHandler),this._linesContent=(0,k.createFastDomNode)(document.createElement("div")),this._linesContent.setClassName("lines-content monaco-editor-background"),this._linesContent.setPosition("absolute"),this.domNode=(0,k.createFastDomNode)(document.createElement("div")),this.domNode.setClassName(this._getEditorClassName()),this.domNode.setAttribute("role","code"),this._overflowGuardContainer=(0,k.createFastDomNode)(document.createElement("div")),s.PartFingerprints.write(this._overflowGuardContainer,3),this._overflowGuardContainer.setClassName("overflow-guard"),this._scrollbar=new u.EditorScrollbar(this._context,this._linesContent,this.domNode,this._overflowGuardContainer),this._viewParts.push(this._scrollbar),this._viewLines=new o.ViewLines(this._context,this._linesContent),this._viewZones=new M.ViewZones(this._context),this._viewParts.push(this._viewZones);const W=new I.DecorationsOverviewRuler(this._context);this._viewParts.push(W);const z=new N.ScrollDecorationViewPart(this._context);this._viewParts.push(z);const Y=new a.ContentViewOverlays(this._context);this._viewParts.push(Y),Y.addDynamicOverlay(new h.CurrentLineHighlightOverlay(this._context)),Y.addDynamicOverlay(new A.SelectionsOverlay(this._context)),Y.addDynamicOverlay(new r.IndentGuidesOverlay(this._context)),Y.addDynamicOverlay(new v.DecorationsOverlay(this._context)),Y.addDynamicOverlay(new P.WhitespaceOverlay(this._context));const j=new a.MarginViewOverlays(this._context);this._viewParts.push(j),j.addDynamicOverlay(new h.CurrentLineMarginHighlightOverlay(this._context)),j.addDynamicOverlay(new f.MarginViewLineDecorationsOverlay(this._context)),j.addDynamicOverlay(new g.LinesDecorationsOverlay(this._context)),j.addDynamicOverlay(new l.LineNumbersOverlay(this._context)),this._glyphMarginWidgets=new d.GlyphMarginWidgets(this._context),this._viewParts.push(this._glyphMarginWidgets);const G=new c.Margin(this._context);G.getDomNode().appendChild(this._viewZones.marginDomNode),G.getDomNode().appendChild(j.getDomNode()),G.getDomNode().appendChild(this._glyphMarginWidgets.domNode),this._viewParts.push(G),this._contentWidgets=new n.ViewContentWidgets(this._context,this.domNode),this._viewParts.push(this._contentWidgets),this._viewCursors=new O.ViewCursors(this._context),this._viewParts.push(this._viewCursors),this._overlayWidgets=new S.ViewOverlayWidgets(this._context,this.domNode),this._viewParts.push(this._overlayWidgets);const oe=new T.Rulers(this._context);this._viewParts.push(oe);const ne=new t.BlockDecorations(this._context);this._viewParts.push(ne);const ce=new _.Minimap(this._context);if(this._viewParts.push(ce),W){const le=this._scrollbar.getOverviewRulerLayoutInfo();le.parent.insertBefore(W.getDomNode(),le.insertBefore)}this._linesContent.appendChild(Y.getDomNode()),this._linesContent.appendChild(oe.domNode),this._linesContent.appendChild(this._viewZones.domNode),this._linesContent.appendChild(this._viewLines.getDomNode()),this._linesContent.appendChild(this._contentWidgets.domNode),this._linesContent.appendChild(this._viewCursors.getDomNode()),this._overflowGuardContainer.appendChild(G.getDomNode()),this._overflowGuardContainer.appendChild(this._scrollbar.getDomNode()),this._overflowGuardContainer.appendChild(z.getDomNode()),this._overflowGuardContainer.appendChild(this._textAreaHandler.textArea),this._overflowGuardContainer.appendChild(this._textAreaHandler.textAreaCover),this._overflowGuardContainer.appendChild(this._overlayWidgets.getDomNode()),this._overflowGuardContainer.appendChild(ce.getDomNode()),this._overflowGuardContainer.appendChild(ne.domNode),this.domNode.appendChild(this._overflowGuardContainer),re?(re.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode.domNode),re.appendChild(this._overlayWidgets.overflowingOverlayWidgetsDomNode.domNode)):(this.domNode.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode),this.domNode.appendChild(this._overlayWidgets.overflowingOverlayWidgetsDomNode)),this._applyLayout(),this._pointerHandler=this._register(new p.PointerHandler(this._context,ee,this._createPointerHandlerHelper()))}_computeGlyphMarginLanes(){const Z=this._context.viewModel.model,ae=this._context.viewModel.glyphLanes;let ue=[],ge=0;ue=ue.concat(Z.getAllMarginDecorations().map(fe=>{var re,de,ee;const W=(de=(re=fe.options.glyphMargin)===null||re===void 0?void 0:re.position)!==null&&de!==void 0?de:H.GlyphMarginLane.Center;return ge=Math.max(ge,fe.range.endLineNumber),{range:fe.range,lane:W,persist:(ee=fe.options.glyphMargin)===null||ee===void 0?void 0:ee.persistLane}})),ue=ue.concat(this._glyphMarginWidgets.getWidgets().map(fe=>{const re=Z.validateRange(fe.preference.range);return ge=Math.max(ge,re.endLineNumber),{range:re,lane:fe.preference.lane}})),ue.sort((fe,re)=>R.Range.compareRangesUsingStarts(fe.range,re.range)),ae.reset(ge);for(const fe of ue)ae.push(fe.lane,fe.range,fe.persist);return ae}_createPointerHandlerHelper(){return{viewDomNode:this.domNode.domNode,linesContentDomNode:this._linesContent.domNode,viewLinesDomNode:this._viewLines.getDomNode().domNode,focusTextArea:()=>{this.focus()},dispatchTextAreaEvent:Z=>{this._textAreaHandler.textArea.domNode.dispatchEvent(Z)},getLastRenderData:()=>{const Z=this._viewCursors.getLastRenderData()||[],ae=this._textAreaHandler.getLastRenderData();return new y.PointerHandlerLastRenderData(Z,ae)},renderNow:()=>{this.render(!0,!1)},shouldSuppressMouseDownOnViewZone:Z=>this._viewZones.shouldSuppressMouseDownOnViewZone(Z),shouldSuppressMouseDownOnWidget:Z=>this._contentWidgets.shouldSuppressMouseDownOnWidget(Z),getPositionFromDOMInfo:(Z,ae)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getPositionFromDOMInfo(Z,ae)),visibleRangeForPosition:(Z,ae)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(new x.Position(Z,ae))),getLineWidth:Z=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getLineWidth(Z))}}_createTextAreaHandlerHelper(){return{visibleRangeForPosition:Z=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(Z))}}_applyLayout(){const ae=this._context.configuration.options.get(145);this.domNode.setWidth(ae.width),this.domNode.setHeight(ae.height),this._overflowGuardContainer.setWidth(ae.width),this._overflowGuardContainer.setHeight(ae.height),this._linesContent.setWidth(16777216),this._linesContent.setHeight(16777216)}_getEditorClassName(){const Z=this._textAreaHandler.isFocused()?" focused":"";return this._context.configuration.options.get(142)+" "+(0,$.getThemeTypeSelector)(this._context.theme.type)+Z}handleEvents(Z){super.handleEvents(Z),this._scheduleRender()}onConfigurationChanged(Z){return this.domNode.setClassName(this._getEditorClassName()),this._applyLayout(),!1}onCursorStateChanged(Z){return this._selections=Z.selections,!1}onDecorationsChanged(Z){return Z.affectsGlyphMargin&&(this._shouldRecomputeGlyphMarginLanes=!0),!1}onFocusChanged(Z){return this.domNode.setClassName(this._getEditorClassName()),!1}onThemeChanged(Z){return this._context.theme.update(Z.theme),this.domNode.setClassName(this._getEditorClassName()),!1}dispose(){this._renderAnimationFrame!==null&&(this._renderAnimationFrame.dispose(),this._renderAnimationFrame=null),this._contentWidgets.overflowingContentWidgetsDomNode.domNode.remove(),this._context.removeEventHandler(this),this._viewLines.dispose();for(const Z of this._viewParts)Z.dispose();super.dispose()}_scheduleRender(){if(this._store.isDisposed)throw new L.BugIndicatingError;if(this._renderAnimationFrame===null){const Z=this._createCoordinatedRendering();this._renderAnimationFrame=X.INSTANCE.scheduleCoordinatedRendering({window:m.getWindow(this.domNode.domNode),prepareRenderText:()=>{if(this._store.isDisposed)throw new L.BugIndicatingError;try{return Z.prepareRenderText()}finally{this._renderAnimationFrame=null}},renderText:()=>{if(this._store.isDisposed)throw new L.BugIndicatingError;return Z.renderText()},prepareRender:(ae,ue)=>{if(this._store.isDisposed)throw new L.BugIndicatingError;return Z.prepareRender(ae,ue)},render:(ae,ue)=>{if(this._store.isDisposed)throw new L.BugIndicatingError;return Z.render(ae,ue)}})}}_flushAccumulatedAndRenderNow(){const Z=this._createCoordinatedRendering();F(()=>Z.prepareRenderText());const ae=F(()=>Z.renderText());if(ae){const[ue,ge]=ae;F(()=>Z.prepareRender(ue,ge)),F(()=>Z.render(ue,ge))}}_getViewPartsToRender(){const Z=[];let ae=0;for(const ue of this._viewParts)ue.shouldRender()&&(Z[ae++]=ue);return Z}_createCoordinatedRendering(){return{prepareRenderText:()=>{if(this._shouldRecomputeGlyphMarginLanes){this._shouldRecomputeGlyphMarginLanes=!1;const Z=this._computeGlyphMarginLanes();this._context.configuration.setGlyphMarginDecorationLaneCount(Z.requiredLanes)}D.inputLatency.onRenderStart()},renderText:()=>{if(!this.domNode.domNode.isConnected)return null;let Z=this._getViewPartsToRender();if(!this._viewLines.shouldRender()&&Z.length===0)return null;const ae=this._context.viewLayout.getLinesViewportData();this._context.viewModel.setViewport(ae.startLineNumber,ae.endLineNumber,ae.centeredLineNumber);const ue=new q.ViewportData(this._selections,ae,this._context.viewLayout.getWhitespaceViewportData(),this._context.viewModel);return this._contentWidgets.shouldRender()&&this._contentWidgets.onBeforeRender(ue),this._viewLines.shouldRender()&&(this._viewLines.renderText(ue),this._viewLines.onDidRender(),Z=this._getViewPartsToRender()),[Z,new C.RenderingContext(this._context.viewLayout,ue,this._viewLines)]},prepareRender:(Z,ae)=>{for(const ue of Z)ue.prepareRender(ae)},render:(Z,ae)=>{for(const ue of Z)ue.render(ae),ue.onDidRender()}}}delegateVerticalScrollbarPointerDown(Z){this._scrollbar.delegateVerticalScrollbarPointerDown(Z)}delegateScrollFromMouseWheelEvent(Z){this._scrollbar.delegateScrollFromMouseWheelEvent(Z)}restoreState(Z){this._context.viewModel.viewLayout.setScrollPosition({scrollTop:Z.scrollTop,scrollLeft:Z.scrollLeft},1),this._context.viewModel.visibleLinesStabilized()}getOffsetForColumn(Z,ae){const ue=this._context.viewModel.model.validatePosition({lineNumber:Z,column:ae}),ge=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(ue);this._flushAccumulatedAndRenderNow();const fe=this._viewLines.visibleRangeForPosition(new x.Position(ge.lineNumber,ge.column));return fe?fe.left:-1}getTargetAtClientPoint(Z,ae){const ue=this._pointerHandler.getTargetAtClientPoint(Z,ae);return ue?i.ViewUserInputEvents.convertViewToModelMouseTarget(ue,this._context.viewModel.coordinatesConverter):null}createOverviewRuler(Z){return new E.OverviewRuler(this._context,Z)}change(Z){this._viewZones.changeViewZones(Z),this._scheduleRender()}render(Z,ae){if(ae){this._viewLines.forceShouldRender();for(const ue of this._viewParts)ue.forceShouldRender()}Z?this._flushAccumulatedAndRenderNow():this._scheduleRender()}writeScreenReaderContent(Z){this._textAreaHandler.writeScreenReaderContent(Z)}focus(){this._textAreaHandler.focusTextArea()}isFocused(){return this._textAreaHandler.isFocused()}setAriaOptions(Z){this._textAreaHandler.setAriaOptions(Z)}addContentWidget(Z){this._contentWidgets.addWidget(Z.widget),this.layoutContentWidget(Z),this._scheduleRender()}layoutContentWidget(Z){var ae,ue,ge,fe,re,de,ee,W;this._contentWidgets.setWidgetPosition(Z.widget,(ue=(ae=Z.position)===null||ae===void 0?void 0:ae.position)!==null&&ue!==void 0?ue:null,(fe=(ge=Z.position)===null||ge===void 0?void 0:ge.secondaryPosition)!==null&&fe!==void 0?fe:null,(de=(re=Z.position)===null||re===void 0?void 0:re.preference)!==null&&de!==void 0?de:null,(W=(ee=Z.position)===null||ee===void 0?void 0:ee.positionAffinity)!==null&&W!==void 0?W:null),this._scheduleRender()}removeContentWidget(Z){this._contentWidgets.removeWidget(Z.widget),this._scheduleRender()}addOverlayWidget(Z){this._overlayWidgets.addWidget(Z.widget),this.layoutOverlayWidget(Z),this._scheduleRender()}layoutOverlayWidget(Z){const ae=Z.position?Z.position.preference:null;this._overlayWidgets.setWidgetPosition(Z.widget,ae)&&this._scheduleRender()}removeOverlayWidget(Z){this._overlayWidgets.removeWidget(Z.widget),this._scheduleRender()}addGlyphMarginWidget(Z){this._glyphMarginWidgets.addWidget(Z.widget),this._shouldRecomputeGlyphMarginLanes=!0,this._scheduleRender()}layoutGlyphMarginWidget(Z){const ae=Z.position;this._glyphMarginWidgets.setWidgetPosition(Z.widget,ae)&&(this._shouldRecomputeGlyphMarginLanes=!0,this._scheduleRender())}removeGlyphMarginWidget(Z){this._glyphMarginWidgets.removeWidget(Z.widget),this._shouldRecomputeGlyphMarginLanes=!0,this._scheduleRender()}};e.View=se,e.View=se=Ie([he(6,U.IInstantiationService)],se);function F(Q){try{return Q()}catch(Z){return(0,L.onUnexpectedError)(Z),null}}class X{constructor(){this._coordinatedRenderings=[],this._animationFrameRunners=new Map}scheduleCoordinatedRendering(Z){return this._coordinatedRenderings.push(Z),this._scheduleRender(Z.window),{dispose:()=>{const ae=this._coordinatedRenderings.indexOf(Z);if(ae!==-1&&(this._coordinatedRenderings.splice(ae,1),this._coordinatedRenderings.length===0)){for(const[ue,ge]of this._animationFrameRunners)ge.dispose();this._animationFrameRunners.clear()}}}}_scheduleRender(Z){if(!this._animationFrameRunners.has(Z)){const ae=()=>{this._animationFrameRunners.delete(Z),this._onRenderScheduled()};this._animationFrameRunners.set(Z,m.runAtThisOrScheduleAtNextAnimationFrame(Z,ae,100))}}_onRenderScheduled(){const Z=this._coordinatedRenderings.slice(0);this._coordinatedRenderings=[];for(const ue of Z)F(()=>ue.prepareRenderText());const ae=[];for(let ue=0,ge=Z.length;ue<ge;ue++){const fe=Z[ue];ae[ue]=F(()=>fe.renderText())}for(let ue=0,ge=Z.length;ue<ge;ue++){const fe=Z[ue],re=ae[ue];if(!re)continue;const[de,ee]=re;F(()=>fe.prepareRender(de,ee))}for(let ue=0,ge=Z.length;ue<ge;ue++){const fe=Z[ue],re=ae[ue];if(!re)continue;const[de,ee]=re;F(()=>fe.render(de,ee))}}}X.INSTANCE=new X}),define(te[903],ie([1,0,7,2,5,86,23]),function(J,e,m,k,D,L,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorizedBracketPairsDecorationProvider=void 0;class p extends k.Disposable{constructor(b){super(),this.textModel=b,this.colorProvider=new w,this.onDidChangeEmitter=new m.Emitter,this.onDidChange=this.onDidChangeEmitter.event,this.colorizationOptions=b.getOptions().bracketPairColorizationOptions,this._register(b.bracketPairs.onDidChange(a=>{this.onDidChangeEmitter.fire()}))}handleDidChangeOptions(b){this.colorizationOptions=this.textModel.getOptions().bracketPairColorizationOptions}getDecorationsInRange(b,a,s,i){return i?[]:a===void 0?[]:this.colorizationOptions.enabled?this.textModel.bracketPairs.getBracketsInRange(b,!0).map(n=>({id:`bracket${n.range.toString()}-${n.nestingLevel}`,options:{description:"BracketPairColorization",inlineClassName:this.colorProvider.getInlineClassName(n,this.colorizationOptions.independentColorPoolPerBracketType)},ownerId:0,range:n.range})).toArray():[]}getAllDecorations(b,a){return b===void 0?[]:this.colorizationOptions.enabled?this.getDecorationsInRange(new D.Range(1,1,this.textModel.getLineCount(),1),b,a):[]}}e.ColorizedBracketPairsDecorationProvider=p;class w{constructor(){this.unexpectedClosingBracketClassName="unexpected-closing-bracket"}getInlineClassName(b,a){return b.isInvalid?this.unexpectedClosingBracketClassName:this.getInlineClassNameOfLevel(a?b.nestingLevelOfEqualBracketType:b.nestingLevel)}getInlineClassNameOfLevel(b){return`bracket-highlighting-${b%30}`}}(0,y.registerThemingParticipant)((C,b)=>{const a=[L.editorBracketHighlightingForeground1,L.editorBracketHighlightingForeground2,L.editorBracketHighlightingForeground3,L.editorBracketHighlightingForeground4,L.editorBracketHighlightingForeground5,L.editorBracketHighlightingForeground6],s=new w;b.addRule(`.monaco-editor .${s.unexpectedClosingBracketClassName} { color: ${C.getColor(L.editorBracketHighlightingUnexpectedBracketForeground)}; }`);const i=a.map(t=>C.getColor(t)).filter(t=>!!t).filter(t=>!t.isTransparent());for(let t=0;t<30;t++){const n=i[t%i.length];b.addRule(`.monaco-editor .${s.getInlineClassNameOfLevel(t)} { color: ${n}; }`)}})}),define(te[904],ie([1,0,104,2,43,23,86,53,5,49,7,31,47,285]),function(J,e,m,k,D,L,y,p,w,C,b,a,s,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarkerDecorationsService=void 0;let t=class extends k.Disposable{constructor(v,u){super(),this._markerService=u,this._onDidChangeMarker=this._register(new b.Emitter),this._markerDecorations=new s.ResourceMap,v.getModels().forEach(d=>this._onModelAdded(d)),this._register(v.onModelAdded(this._onModelAdded,this)),this._register(v.onModelRemoved(this._onModelRemoved,this)),this._register(this._markerService.onMarkerChanged(this._handleMarkerChange,this))}dispose(){super.dispose(),this._markerDecorations.forEach(v=>v.dispose()),this._markerDecorations.clear()}getMarker(v,u){const d=this._markerDecorations.get(v);return d&&d.getMarker(u)||null}_handleMarkerChange(v){v.forEach(u=>{const d=this._markerDecorations.get(u);d&&this._updateDecorations(d)})}_onModelAdded(v){const u=new n(v);this._markerDecorations.set(v.uri,u),this._updateDecorations(u)}_onModelRemoved(v){var u;const d=this._markerDecorations.get(v.uri);d&&(d.dispose(),this._markerDecorations.delete(v.uri)),(v.uri.scheme===C.Schemas.inMemory||v.uri.scheme===C.Schemas.internal||v.uri.scheme===C.Schemas.vscode)&&((u=this._markerService)===null||u===void 0||u.read({resource:v.uri}).map(r=>r.owner).forEach(r=>this._markerService.remove(r,[v.uri])))}_updateDecorations(v){const u=this._markerService.read({resource:v.model.uri,take:500});v.update(u)&&this._onDidChangeMarker.fire(v.model)}};e.MarkerDecorationsService=t,e.MarkerDecorationsService=t=Ie([he(0,p.IModelService),he(1,m.IMarkerService)],t);class n extends k.Disposable{constructor(v){super(),this.model=v,this._map=new s.BidirectionalMap,this._register((0,k.toDisposable)(()=>{this.model.deltaDecorations([...this._map.values()],[]),this._map.clear()}))}update(v){const{added:u,removed:d}=(0,i.diffSets)(new Set(this._map.keys()),new Set(v));if(u.length===0&&d.length===0)return!1;const r=d.map(g=>this._map.get(g)),l=u.map(g=>({range:this._createDecorationRange(this.model,g),options:this._createDecorationOption(g)})),o=this.model.deltaDecorations(r,l);for(const g of d)this._map.delete(g);for(let g=0;g<o.length;g++)this._map.set(u[g],o[g]);return!0}getMarker(v){return this._map.getKey(v.id)}_createDecorationRange(v,u){let d=w.Range.lift(u);if(u.severity===m.MarkerSeverity.Hint&&!this._hasMarkerTag(u,1)&&!this._hasMarkerTag(u,2)&&(d=d.setEndPosition(d.startLineNumber,d.startColumn+2)),d=v.validateRange(d),d.isEmpty()){const r=v.getLineLastNonWhitespaceColumn(d.startLineNumber)||v.getLineMaxColumn(d.startLineNumber);if(r===1||d.endColumn>=r)return d;const l=v.getWordAtPosition(d.getStartPosition());l&&(d=new w.Range(d.startLineNumber,l.startColumn,d.endLineNumber,l.endColumn))}else if(u.endColumn===Number.MAX_VALUE&&u.startColumn===1&&d.startLineNumber===d.endLineNumber){const r=v.getLineFirstNonWhitespaceColumn(u.startLineNumber);r<d.endColumn&&(d=new w.Range(d.startLineNumber,r,d.endLineNumber,d.endColumn),u.startColumn=r)}return d}_createDecorationOption(v){let u,d,r,l,o;switch(v.severity){case m.MarkerSeverity.Hint:this._hasMarkerTag(v,2)?u=void 0:this._hasMarkerTag(v,1)?u="squiggly-unnecessary":u="squiggly-hint",r=0;break;case m.MarkerSeverity.Info:u="squiggly-info",d=(0,L.themeColorFromId)(y.overviewRulerInfo),r=10,o={color:(0,L.themeColorFromId)(a.minimapInfo),position:1};break;case m.MarkerSeverity.Warning:u="squiggly-warning",d=(0,L.themeColorFromId)(y.overviewRulerWarning),r=20,o={color:(0,L.themeColorFromId)(a.minimapWarning),position:1};break;case m.MarkerSeverity.Error:default:u="squiggly-error",d=(0,L.themeColorFromId)(y.overviewRulerError),r=30,o={color:(0,L.themeColorFromId)(a.minimapError),position:1};break}return v.tags&&(v.tags.indexOf(1)!==-1&&(l="squiggly-inline-unnecessary"),v.tags.indexOf(2)!==-1&&(l="squiggly-inline-deprecated")),{description:"marker-decoration",stickiness:1,className:u,showIfCollapsed:!0,overviewRuler:{color:d,position:D.OverviewRulerLane.Right},minimap:o,zIndex:r,inlineClassName:l}}_hasMarkerTag(v,u){return v.tags?v.tags.indexOf(u)>=0:!1}}}),define(te[272],ie([1,0,142,23,61,560,42]),function(J,e,m,k,D,L,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SemanticTokensProviderStyling=void 0,e.toMultilineTokens2=w;let p=class{constructor(s,i,t,n){this._legend=s,this._themeService=i,this._languageService=t,this._logService=n,this._hasWarnedOverlappingTokens=!1,this._hasWarnedInvalidLengthTokens=!1,this._hasWarnedInvalidEditStart=!1,this._hashTable=new b}getMetadata(s,i,t){const n=this._languageService.languageIdCodec.encodeLanguageId(t),h=this._hashTable.get(s,i,n);let v;if(h)v=h.metadata,this._logService.getLevel()===D.LogLevel.Trace&&this._logService.trace(`SemanticTokensProviderStyling [CACHED] ${s} / ${i}: foreground ${m.TokenMetadata.getForeground(v)}, fontStyle ${m.TokenMetadata.getFontStyle(v).toString(2)}`);else{let u=this._legend.tokenTypes[s];const d=[];if(u){let r=i;for(let o=0;r>0&&o<this._legend.tokenModifiers.length;o++)r&1&&d.push(this._legend.tokenModifiers[o]),r=r>>1;r>0&&this._logService.getLevel()===D.LogLevel.Trace&&(this._logService.trace(`SemanticTokensProviderStyling: unknown token modifier index: ${i.toString(2)} for legend: ${JSON.stringify(this._legend.tokenModifiers)}`),d.push("not-in-legend"));const l=this._themeService.getColorTheme().getTokenStyleMetadata(u,d,t);if(typeof l>"u")v=2147483647;else{if(v=0,typeof l.italic<"u"){const o=(l.italic?1:0)<<11;v|=o|1}if(typeof l.bold<"u"){const o=(l.bold?2:0)<<11;v|=o|2}if(typeof l.underline<"u"){const o=(l.underline?4:0)<<11;v|=o|4}if(typeof l.strikethrough<"u"){const o=(l.strikethrough?8:0)<<11;v|=o|8}if(l.foreground){const o=l.foreground<<15;v|=o|16}v===0&&(v=2147483647)}}else this._logService.getLevel()===D.LogLevel.Trace&&this._logService.trace(`SemanticTokensProviderStyling: unknown token type index: ${s} for legend: ${JSON.stringify(this._legend.tokenTypes)}`),v=2147483647,u="not-in-legend";this._hashTable.add(s,i,n,v),this._logService.getLevel()===D.LogLevel.Trace&&this._logService.trace(`SemanticTokensProviderStyling ${s} (${u}) / ${i} (${d.join(" ")}): foreground ${m.TokenMetadata.getForeground(v)}, fontStyle ${m.TokenMetadata.getFontStyle(v).toString(2)}`)}return v}warnOverlappingSemanticTokens(s,i){this._hasWarnedOverlappingTokens||(this._hasWarnedOverlappingTokens=!0,this._logService.warn(`Overlapping semantic tokens detected at lineNumber ${s}, column ${i}`))}warnInvalidLengthSemanticTokens(s,i){this._hasWarnedInvalidLengthTokens||(this._hasWarnedInvalidLengthTokens=!0,this._logService.warn(`Semantic token with invalid length detected at lineNumber ${s}, column ${i}`))}warnInvalidEditStart(s,i,t,n,h){this._hasWarnedInvalidEditStart||(this._hasWarnedInvalidEditStart=!0,this._logService.warn(`Invalid semantic tokens edit detected (previousResultId: ${s}, resultId: ${i}) at edit #${t}: The provided start offset ${n} is outside the previous data (length ${h}).`))}};e.SemanticTokensProviderStyling=p,e.SemanticTokensProviderStyling=p=Ie([he(1,k.IThemeService),he(2,y.ILanguageService),he(3,D.ILogService)],p);function w(a,s,i){const t=a.data,n=a.data.length/5|0,h=Math.max(Math.ceil(n/1024),400),v=[];let u=0,d=1,r=0;for(;u<n;){const l=u;let o=Math.min(l+h,n);if(o<n){let E=o;for(;E-1>l&&t[5*E]===0;)E--;if(E-1===l){let T=o;for(;T+1<n&&t[5*T]===0;)T++;o=T}else o=E}let g=new Uint32Array((o-l)*4),c=0,f=0,_=0,S=0;for(;u<o;){const E=5*u,T=t[E],N=t[E+1],A=d+T|0,O=T===0?r+N|0:N,M=t[E+2],P=O+M|0,x=t[E+3],R=t[E+4];if(P<=O)s.warnInvalidLengthSemanticTokens(A,O+1);else if(_===A&&S>O)s.warnOverlappingSemanticTokens(A,O+1);else{const B=s.getMetadata(x,R,i);B!==2147483647&&(f===0&&(f=A),g[c]=A-f,g[c+1]=O,g[c+2]=P,g[c+3]=B,c+=4,_=A,S=P)}d=A,r=O,u++}c!==g.length&&(g=g.subarray(0,c));const I=L.SparseMultilineTokens.create(f,g);v.push(I)}return v}class C{constructor(s,i,t,n){this.tokenTypeIndex=s,this.tokenModifierSet=i,this.languageId=t,this.metadata=n,this.next=null}}class b{constructor(){this._elementsCount=0,this._currentLengthIndex=0,this._currentLength=b._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<b._SIZES.length?2/3*this._currentLength:0),this._elements=[],b._nullOutEntries(this._elements,this._currentLength)}static _nullOutEntries(s,i){for(let t=0;t<i;t++)s[t]=null}_hash2(s,i){return(s<<5)-s+i|0}_hashFunc(s,i,t){return this._hash2(this._hash2(s,i),t)%this._currentLength}get(s,i,t){const n=this._hashFunc(s,i,t);let h=this._elements[n];for(;h;){if(h.tokenTypeIndex===s&&h.tokenModifierSet===i&&h.languageId===t)return h;h=h.next}return null}add(s,i,t,n){if(this._elementsCount++,this._growCount!==0&&this._elementsCount>=this._growCount){const h=this._elements;this._currentLengthIndex++,this._currentLength=b._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<b._SIZES.length?2/3*this._currentLength:0),this._elements=[],b._nullOutEntries(this._elements,this._currentLength);for(const v of h){let u=v;for(;u;){const d=u.next;u.next=null,this._add(u),u=d}}}this._add(new C(s,i,t,n))}_add(s){const i=this._hashFunc(s.tokenTypeIndex,s.tokenModifierSet,s.languageId);s.next=this._elements[i],this._elements[i]=s}}b._SIZES=[3,7,13,31,61,127,251,509,1021,2039,4093,8191,16381,32749,65521,131071,262139,524287,1048573,2097143]}),define(te[905],ie([1,0,2,42,23,61,272,254,46]),function(J,e,m,k,D,L,y,p,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SemanticTokensStylingService=void 0;let C=class extends m.Disposable{constructor(a,s,i){super(),this._themeService=a,this._logService=s,this._languageService=i,this._caches=new WeakMap,this._register(this._themeService.onDidColorThemeChange(()=>{this._caches=new WeakMap}))}getStyling(a){return this._caches.has(a)||this._caches.set(a,new y.SemanticTokensProviderStyling(a.getLegend(),this._themeService,this._languageService,this._logService)),this._caches.get(a)}};e.SemanticTokensStylingService=C,e.SemanticTokensStylingService=C=Ie([he(0,D.IThemeService),he(1,L.ILogService),he(2,k.ILanguageService)],C),(0,w.registerSingleton)(p.ISemanticTokensStylingService,C,1)}),define(te[389],ie([1,0,119,2,162,43,86,23,45]),function(J,e,m,k,D,L,y,p,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractEditorNavigationQuickAccessProvider=void 0;class C{constructor(a){this.options=a,this.rangeHighlightDecorationId=void 0}provide(a,s){var i;const t=new k.DisposableStore;a.canAcceptInBackground=!!(!((i=this.options)===null||i===void 0)&&i.canAcceptInBackground),a.matchOnLabel=a.matchOnDescription=a.matchOnDetail=a.sortByLabel=!1;const n=t.add(new k.MutableDisposable);return n.value=this.doProvide(a,s),t.add(this.onDidActiveTextEditorControlChange(()=>{n.value=void 0,n.value=this.doProvide(a,s)})),t}doProvide(a,s){var i;const t=new k.DisposableStore,n=this.activeTextEditorControl;if(n&&this.canProvideWithTextEditor(n)){const h={editor:n},v=(0,D.getCodeEditor)(n);if(v){let u=(i=n.saveViewState())!==null&&i!==void 0?i:void 0;t.add(v.onDidChangeCursorPosition(()=>{var d;u=(d=n.saveViewState())!==null&&d!==void 0?d:void 0})),h.restoreViewState=()=>{u&&n===this.activeTextEditorControl&&n.restoreViewState(u)},t.add((0,m.createSingleCallFunction)(s.onCancellationRequested)(()=>{var d;return(d=h.restoreViewState)===null||d===void 0?void 0:d.call(h)}))}t.add((0,k.toDisposable)(()=>this.clearDecorations(n))),t.add(this.provideWithTextEditor(h,a,s))}else t.add(this.provideWithoutTextEditor(a,s));return t}canProvideWithTextEditor(a){return!0}gotoLocation({editor:a},s){a.setSelection(s.range,"code.jump"),a.revealRangeInCenter(s.range,0),s.preserveFocus||a.focus();const i=a.getModel();i&&"getLineContent"in i&&(0,w.status)(`${i.getLineContent(s.range.startLineNumber)}`)}getModel(a){var s;return(0,D.isDiffEditor)(a)?(s=a.getModel())===null||s===void 0?void 0:s.modified:a.getModel()}addDecorations(a,s){a.changeDecorations(i=>{const t=[];this.rangeHighlightDecorationId&&(t.push(this.rangeHighlightDecorationId.overviewRulerDecorationId),t.push(this.rangeHighlightDecorationId.rangeHighlightId),this.rangeHighlightDecorationId=void 0);const n=[{range:s,options:{description:"quick-access-range-highlight",className:"rangeHighlight",isWholeLine:!0}},{range:s,options:{description:"quick-access-range-highlight-overview",overviewRuler:{color:(0,p.themeColorFromId)(y.overviewRulerRangeHighlight),position:L.OverviewRulerLane.Full}}}],[h,v]=i.deltaDecorations(t,n);this.rangeHighlightDecorationId={rangeHighlightId:h,overviewRulerDecorationId:v}})}clearDecorations(a){const s=this.rangeHighlightDecorationId;s&&(a.changeDecorations(i=>{i.deltaDecorations([s.overviewRulerDecorationId,s.rangeHighlightId],[])}),this.rangeHighlightDecorationId=void 0)}}e.AbstractEditorNavigationQuickAccessProvider=C}),define(te[906],ie([1,0,2,162,389,736]),function(J,e,m,k,D,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractGotoLineQuickAccessProvider=void 0;class y extends D.AbstractEditorNavigationQuickAccessProvider{constructor(){super({canAcceptInBackground:!0})}provideWithoutTextEditor(w){const C=(0,L.localize)(0,null);return w.items=[{label:C}],w.ariaLabel=C,m.Disposable.None}provideWithTextEditor(w,C,b){const a=w.editor,s=new m.DisposableStore;s.add(C.onDidAccept(n=>{const[h]=C.selectedItems;if(h){if(!this.isValidLineNumber(a,h.lineNumber))return;this.gotoLocation(w,{range:this.toRange(h.lineNumber,h.column),keyMods:C.keyMods,preserveFocus:n.inBackground}),n.inBackground||C.hide()}}));const i=()=>{const n=this.parsePosition(a,C.value.trim().substr(y.PREFIX.length)),h=this.getPickLabel(a,n.lineNumber,n.column);if(C.items=[{lineNumber:n.lineNumber,column:n.column,label:h}],C.ariaLabel=h,!this.isValidLineNumber(a,n.lineNumber)){this.clearDecorations(a);return}const v=this.toRange(n.lineNumber,n.column);a.revealRangeInCenter(v,0),this.addDecorations(a,v)};i(),s.add(C.onDidChangeValue(()=>i()));const t=(0,k.getCodeEditor)(a);return t&&t.getOptions().get(68).renderType===2&&(t.updateOptions({lineNumbers:"on"}),s.add((0,m.toDisposable)(()=>t.updateOptions({lineNumbers:"relative"})))),s}toRange(w=1,C=1){return{startLineNumber:w,startColumn:C,endLineNumber:w,endColumn:C}}parsePosition(w,C){const b=C.split(/,|:|#/).map(s=>parseInt(s,10)).filter(s=>!isNaN(s)),a=this.lineCount(w)+1;return{lineNumber:b[0]>0?b[0]:a+b[0],column:b[1]}}getPickLabel(w,C,b){if(this.isValidLineNumber(w,C))return this.isValidColumn(w,C,b)?(0,L.localize)(1,null,C,b):(0,L.localize)(2,null,C);const a=w.getPosition()||{lineNumber:1,column:1},s=this.lineCount(w);return s>1?(0,L.localize)(3,null,a.lineNumber,a.column,s):(0,L.localize)(4,null,a.lineNumber,a.column)}isValidLineNumber(w,C){return!C||typeof C!="number"?!1:C>0&&C<=this.lineCount(w)}isValidColumn(w,C,b){if(!b||typeof b!="number")return!1;const a=this.getModel(w);if(!a)return!1;const s={lineNumber:C,column:b};return a.validatePosition(s).equals(s)}lineCount(w){var C,b;return(b=(C=this.getModel(w))===null||C===void 0?void 0:C.getLineCount())!==null&&b!==void 0?b:0}}e.AbstractGotoLineQuickAccessProvider=y,y.PREFIX=":"}),define(te[907],ie([1,0,15,20,26,30,613,2,11,5,29,173,389,737,18,66]),function(J,e,m,k,D,L,y,p,w,C,b,a,s,i,t,n){"use strict";var h;Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractGotoSymbolQuickAccessProvider=void 0;let v=h=class extends s.AbstractEditorNavigationQuickAccessProvider{constructor(l,o,g=Object.create(null)){super(g),this._languageFeaturesService=l,this._outlineModelService=o,this.options=g,this.options.canAcceptInBackground=!0}provideWithoutTextEditor(l){return this.provideLabelPick(l,(0,i.localize)(0,null)),p.Disposable.None}provideWithTextEditor(l,o,g){const c=l.editor,f=this.getModel(c);return f?this._languageFeaturesService.documentSymbolProvider.has(f)?this.doProvideWithEditorSymbols(l,f,o,g):this.doProvideWithoutEditorSymbols(l,f,o,g):p.Disposable.None}doProvideWithoutEditorSymbols(l,o,g,c){const f=new p.DisposableStore;return this.provideLabelPick(g,(0,i.localize)(1,null)),(async()=>!await this.waitForLanguageSymbolRegistry(o,f)||c.isCancellationRequested||f.add(this.doProvideWithEditorSymbols(l,o,g,c)))(),f}provideLabelPick(l,o){l.items=[{label:o,index:0,kind:14}],l.ariaLabel=o}async waitForLanguageSymbolRegistry(l,o){if(this._languageFeaturesService.documentSymbolProvider.has(l))return!0;const g=new m.DeferredPromise,c=o.add(this._languageFeaturesService.documentSymbolProvider.onDidChange(()=>{this._languageFeaturesService.documentSymbolProvider.has(l)&&(c.dispose(),g.complete(!0))}));return o.add((0,p.toDisposable)(()=>g.complete(!1))),g.p}doProvideWithEditorSymbols(l,o,g,c){var f;const _=l.editor,S=new p.DisposableStore;S.add(g.onDidAccept(N=>{const[A]=g.selectedItems;A&&A.range&&(this.gotoLocation(l,{range:A.range.selection,keyMods:g.keyMods,preserveFocus:N.inBackground}),N.inBackground||g.hide())})),S.add(g.onDidTriggerItemButton(({item:N})=>{N&&N.range&&(this.gotoLocation(l,{range:N.range.selection,keyMods:g.keyMods,forceSideBySide:!0}),g.hide())}));const I=this.getDocumentSymbols(o,c);let E;const T=async N=>{E?.dispose(!0),g.busy=!1,E=new k.CancellationTokenSource(c),g.busy=!0;try{const A=(0,y.prepareQuery)(g.value.substr(h.PREFIX.length).trim()),O=await this.doGetSymbolPicks(I,A,void 0,E.token);if(c.isCancellationRequested)return;if(O.length>0){if(g.items=O,N&&A.original.length===0){const M=(0,n.findLast)(O,P=>!!(P.type!=="separator"&&P.range&&C.Range.containsPosition(P.range.decoration,N)));M&&(g.activeItems=[M])}}else A.original.length>0?this.provideLabelPick(g,(0,i.localize)(2,null)):this.provideLabelPick(g,(0,i.localize)(3,null))}finally{c.isCancellationRequested||(g.busy=!1)}};return S.add(g.onDidChangeValue(()=>T(void 0))),T((f=_.getSelection())===null||f===void 0?void 0:f.getPosition()),S.add(g.onDidChangeActive(()=>{const[N]=g.activeItems;N&&N.range&&(_.revealRangeInCenter(N.range.selection,0),this.addDecorations(_,N.range.decoration))})),S}async doGetSymbolPicks(l,o,g,c){var f,_;const S=await l;if(c.isCancellationRequested)return[];const I=o.original.indexOf(h.SCOPE_PREFIX)===0,E=I?1:0;let T,N;o.values&&o.values.length>1?(T=(0,y.pieceToQuery)(o.values[0]),N=(0,y.pieceToQuery)(o.values.slice(1))):T=o;let A;const O=(_=(f=this.options)===null||f===void 0?void 0:f.openSideBySideDirection)===null||_===void 0?void 0:_.call(f);O&&(A=[{iconClass:O==="right"?L.ThemeIcon.asClassName(D.Codicon.splitHorizontal):L.ThemeIcon.asClassName(D.Codicon.splitVertical),tooltip:O==="right"?(0,i.localize)(4,null):(0,i.localize)(5,null)}]);const M=[];for(let R=0;R<S.length;R++){const B=S[R],H=(0,w.trim)(B.name),V=`$(${b.SymbolKinds.toIcon(B.kind).id}) ${H}`,q=V.length-H.length;let K=B.containerName;g?.extraContainerLabel&&(K?K=`${g.extraContainerLabel} \u2022 ${K}`:K=g.extraContainerLabel);let U,$,se,F;if(o.original.length>E){let Q=!1;if(T!==o&&([U,$]=(0,y.scoreFuzzy2)(V,{...o,values:void 0},E,q),typeof U=="number"&&(Q=!0)),typeof U!="number"&&([U,$]=(0,y.scoreFuzzy2)(V,T,E,q),typeof U!="number"))continue;if(!Q&&N){if(K&&N.original.length>0&&([se,F]=(0,y.scoreFuzzy2)(K,N)),typeof se!="number")continue;typeof U=="number"&&(U+=se)}}const X=B.tags&&B.tags.indexOf(1)>=0;M.push({index:R,kind:B.kind,score:U,label:V,ariaLabel:(0,b.getAriaLabelForSymbol)(B.name,B.kind),description:K,highlights:X?void 0:{label:$,description:F},range:{selection:C.Range.collapseToStart(B.selectionRange),decoration:B.range},strikethrough:X,buttons:A})}const P=M.sort((R,B)=>I?this.compareByKindAndScore(R,B):this.compareByScore(R,B));let x=[];if(I){let V=function(){B&&typeof R=="number"&&H>0&&(B.label=(0,w.format)(d[R]||u,H))},R,B,H=0;for(const q of P)R!==q.kind?(V(),R=q.kind,H=1,B={type:"separator"},x.push(B)):H++,x.push(q);V()}else P.length>0&&(x=[{label:(0,i.localize)(6,null,M.length),type:"separator"},...P]);return x}compareByScore(l,o){if(typeof l.score!="number"&&typeof o.score=="number")return 1;if(typeof l.score=="number"&&typeof o.score!="number")return-1;if(typeof l.score=="number"&&typeof o.score=="number"){if(l.score>o.score)return-1;if(l.score<o.score)return 1}return l.index<o.index?-1:l.index>o.index?1:0}compareByKindAndScore(l,o){const g=d[l.kind]||u,c=d[o.kind]||u,f=g.localeCompare(c);return f===0?this.compareByScore(l,o):f}async getDocumentSymbols(l,o){const g=await this._outlineModelService.getOrCreate(l,o);return o.isCancellationRequested?[]:g.asListOfDocumentSymbols()}};e.AbstractGotoSymbolQuickAccessProvider=v,v.PREFIX="@",v.SCOPE_PREFIX=":",v.PREFIX_BY_CATEGORY=`${h.PREFIX}${h.SCOPE_PREFIX}`,e.AbstractGotoSymbolQuickAccessProvider=v=h=Ie([he(0,t.ILanguageFeaturesService),he(1,a.IOutlineModelService)],v);const u=(0,i.localize)(7,null),d={5:(0,i.localize)(8,null),11:(0,i.localize)(9,null),8:(0,i.localize)(10,null),12:(0,i.localize)(11,null),4:(0,i.localize)(12,null),22:(0,i.localize)(13,null),23:(0,i.localize)(14,null),24:(0,i.localize)(15,null),10:(0,i.localize)(16,null),2:(0,i.localize)(17,null),3:(0,i.localize)(18,null),25:(0,i.localize)(19,null),1:(0,i.localize)(20,null),6:(0,i.localize)(21,null),9:(0,i.localize)(22,null),21:(0,i.localize)(23,null),14:(0,i.localize)(24,null),0:(0,i.localize)(25,null),17:(0,i.localize)(26,null),15:(0,i.localize)(27,null),16:(0,i.localize)(28,null),18:(0,i.localize)(29,null),19:(0,i.localize)(30,null),7:(0,i.localize)(31,null),13:(0,i.localize)(32,null)}}),define(te[908],ie([1,0,6,45,108,109,13,15,26,7,2,63,21,70,9,29,740,14,35,61,106,31,23,498]),function(J,e,m,k,D,L,y,p,w,C,b,a,s,i,t,n,h,v,u,d,r,l,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RenameInputField=e.CONTEXT_RENAME_INPUT_FOCUSED=e.CONTEXT_RENAME_INPUT_VISIBLE=void 0;const g=!1;e.CONTEXT_RENAME_INPUT_VISIBLE=new v.RawContextKey("renameInputVisible",!1,(0,h.localize)(0,null)),e.CONTEXT_RENAME_INPUT_FOCUSED=new v.RawContextKey("renameInputFocused",!1,(0,h.localize)(1,null));let c=class{constructor(E,T,N,A,O,M){this._editor=E,this._acceptKeybindings=T,this._themeService=N,this._keybindingService=A,this._logService=M,this.allowEditorOverflow=!0,this._disposables=new b.DisposableStore,this._visibleContextKey=e.CONTEXT_RENAME_INPUT_VISIBLE.bindTo(O),this._isEditingRenameCandidate=!1,this._beforeFirstInputFieldEditSW=new a.StopWatch,this._input=new _,this._disposables.add(this._input),this._editor.addContentWidget(this),this._disposables.add(this._editor.onDidChangeConfiguration(P=>{P.hasChanged(50)&&this._updateFont()})),this._disposables.add(N.onDidColorThemeChange(this._updateStyles,this))}dispose(){this._disposables.dispose(),this._editor.removeContentWidget(this)}getId(){return"__renameInputWidget"}getDomNode(){return this._domNode||(this._domNode=document.createElement("div"),this._domNode.className="monaco-editor rename-box",this._domNode.appendChild(this._input.domNode),this._renameCandidateListView=this._disposables.add(new f(this._domNode,{fontInfo:this._editor.getOption(50),onFocusChange:E=>{this._input.domNode.value=E,this._isEditingRenameCandidate=!1},onSelectionChange:()=>{this._isEditingRenameCandidate=!1,this.acceptInput(!1)}})),this._disposables.add(this._input.onDidChange(()=>{var E,T,N;((E=this._renameCandidateListView)===null||E===void 0?void 0:E.focusedCandidate)!==void 0&&(this._isEditingRenameCandidate=!0),(T=this._timeBeforeFirstInputFieldEdit)!==null&&T!==void 0||(this._timeBeforeFirstInputFieldEdit=this._beforeFirstInputFieldEditSW.elapsed()),(N=this._renameCandidateListView)===null||N===void 0||N.clearFocus()})),this._label=document.createElement("div"),this._label.className="rename-label",this._domNode.appendChild(this._label),this._updateFont(),this._updateStyles(this._themeService.getColorTheme())),this._domNode}_updateStyles(E){var T,N,A,O;if(!this._domNode)return;const M=E.getColor(l.widgetShadow),P=E.getColor(l.widgetBorder);this._domNode.style.backgroundColor=String((T=E.getColor(l.editorWidgetBackground))!==null&&T!==void 0?T:""),this._domNode.style.boxShadow=M?` 0 0 8px 2px ${M}`:"",this._domNode.style.border=P?`1px solid ${P}`:"",this._domNode.style.color=String((N=E.getColor(l.inputForeground))!==null&&N!==void 0?N:""),this._input.domNode.style.backgroundColor=String((A=E.getColor(l.inputBackground))!==null&&A!==void 0?A:"");const x=E.getColor(l.inputBorder);this._input.domNode.style.borderWidth=x?"1px":"0px",this._input.domNode.style.borderStyle=x?"solid":"none",this._input.domNode.style.borderColor=(O=x?.toString())!==null&&O!==void 0?O:"none"}_updateFont(){if(this._domNode===void 0)return;(0,s.assertType)(this._label!==void 0,"RenameInputField#_updateFont: _label must not be undefined given _domNode is defined"),this._editor.applyFontInfo(this._input.domNode);const E=this._editor.getOption(50);this._label.style.fontSize=`${this._computeLabelFontSize(E.fontSize)}px`}_computeLabelFontSize(E){return E*.8}getPosition(){if(!this._visible||!this._editor.hasModel()||!this._editor.getDomNode())return null;const E=m.getClientArea(this.getDomNode().ownerDocument.body),T=m.getDomNodePagePosition(this._editor.getDomNode()),N=this._getTopForPosition();this._nPxAvailableAbove=N+T.top,this._nPxAvailableBelow=E.height-this._nPxAvailableAbove;const A=this._editor.getOption(67),{totalHeight:O}=S.getLayoutInfo({lineHeight:A}),M=this._nPxAvailableBelow>O*6?[2,1]:[1,2];return{position:this._position,preference:M}}beforeRender(){var E,T;const[N,A]=this._acceptKeybindings;return this._label.innerText=(0,h.localize)(2,null,(E=this._keybindingService.lookupKeybinding(N))===null||E===void 0?void 0:E.getLabel(),(T=this._keybindingService.lookupKeybinding(A))===null||T===void 0?void 0:T.getLabel()),this._domNode.style.minWidth="200px",null}afterRender(E){if(this._trace("invoking afterRender, position: ",E?"not null":"null"),E===null){this.cancelInput(!0,"afterRender (because position is null)");return}if(!this._editor.hasModel()||!this._editor.getDomNode())return;(0,s.assertType)(this._renameCandidateListView),(0,s.assertType)(this._nPxAvailableAbove!==void 0),(0,s.assertType)(this._nPxAvailableBelow!==void 0);const T=m.getTotalHeight(this._input.domNode),N=m.getTotalHeight(this._label);let A;E===2?A=this._nPxAvailableBelow:A=this._nPxAvailableAbove,this._renameCandidateListView.layout({height:A-N-T,width:m.getTotalWidth(this._input.domNode)})}acceptInput(E){var T;this._trace("invoking acceptInput"),(T=this._currentAcceptInput)===null||T===void 0||T.call(this,E)}cancelInput(E,T){var N;this._trace(`invoking cancelInput, caller: ${T}, _currentCancelInput: ${this._currentAcceptInput?"not undefined":"undefined"}`),(N=this._currentCancelInput)===null||N===void 0||N.call(this,E)}focusNextRenameSuggestion(){var E;!((E=this._renameCandidateListView)===null||E===void 0)&&E.focusNext()||(this._input.domNode.value=this._currentName)}focusPreviousRenameSuggestion(){var E;!((E=this._renameCandidateListView)===null||E===void 0)&&E.focusPrevious()||(this._input.domNode.value=this._currentName)}getInput(E,T,N,A,O,M,P){this._isEditingRenameCandidate=!1,this._domNode.classList.toggle("preview",O),this._position=new t.Position(E.startLineNumber,E.startColumn),this._currentName=T,this._input.domNode.value=T,this._input.domNode.setAttribute("selectionStart",N.toString()),this._input.domNode.setAttribute("selectionEnd",A.toString()),this._input.domNode.size=Math.max((E.endColumn-E.startColumn)*1.1,20),this._beforeFirstInputFieldEditSW.reset();const x=new b.DisposableStore;x.add((0,b.toDisposable)(()=>P.dispose(!0))),this._updateRenameCandidates(M,T,P.token);const R=new p.DeferredPromise;return R.p.finally(()=>{x.dispose(),this._hide()}),this._currentCancelInput=B=>{var H;return this._trace("invoking _currentCancelInput"),this._currentAcceptInput=void 0,this._currentCancelInput=void 0,(H=this._renameCandidateListView)===null||H===void 0||H.clearCandidates(),R.complete(B),!0},this._currentAcceptInput=B=>{this._trace("invoking _currentAcceptInput"),(0,s.assertType)(this._renameCandidateListView!==void 0);const H=this._renameCandidateListView.nCandidates;let V,q;const K=this._renameCandidateListView.focusedCandidate;if(K!==void 0?(this._trace("using new name from renameSuggestion"),V=K,q={k:"renameSuggestion"}):(this._trace("using new name from inputField"),V=this._input.domNode.value,q=this._isEditingRenameCandidate?{k:"userEditedRenameSuggestion"}:{k:"inputField"}),V===T||V.trim().length===0){this.cancelInput(!0,"_currentAcceptInput (because newName === value || newName.trim().length === 0)");return}this._currentAcceptInput=void 0,this._currentCancelInput=void 0,this._renameCandidateListView.clearCandidates(),R.complete({newName:V,wantsPreview:O&&B,stats:{source:q,nRenameSuggestions:H,timeBeforeFirstInputFieldEdit:this._timeBeforeFirstInputFieldEdit}})},x.add(P.token.onCancellationRequested(()=>this.cancelInput(!0,"cts.token.onCancellationRequested"))),g||x.add(this._editor.onDidBlurEditorWidget(()=>{var B;return this.cancelInput(!(!((B=this._domNode)===null||B===void 0)&&B.ownerDocument.hasFocus()),"editor.onDidBlurEditorWidget")})),this._show(),R.p}_show(){this._trace("invoking _show"),this._editor.revealLineInCenterIfOutsideViewport(this._position.lineNumber,0),this._visible=!0,this._visibleContextKey.set(!0),this._editor.layoutContentWidget(this),setTimeout(()=>{this._input.domNode.focus(),this._input.domNode.setSelectionRange(parseInt(this._input.domNode.getAttribute("selectionStart")),parseInt(this._input.domNode.getAttribute("selectionEnd")))},100)}async _updateRenameCandidates(E,T,N){const A=(...R)=>this._trace("_updateRenameCandidates",...R);A("start");const O=await(0,p.raceCancellation)(Promise.allSettled(E),N);if(O===void 0){A("returning early - received updateRenameCandidates results - undefined");return}const M=O.flatMap(R=>R.status==="fulfilled"&&(0,s.isDefined)(R.value)?R.value:[]);A(`received updateRenameCandidates results - total (unfiltered) ${M.length} candidates.`);const P=y.distinct(M,R=>R.newSymbolName);A(`distinct candidates - ${P.length} candidates.`);const x=P.filter(({newSymbolName:R})=>R.trim().length>0&&R!==this._input.domNode.value&&R!==T);if(A(`valid distinct candidates - ${M.length} candidates.`),x.length<1){A("returning early - no valid distinct candidates");return}A("setting candidates"),this._renameCandidateListView.setCandidates(x),A("asking editor to re-layout"),this._editor.layoutContentWidget(this)}_hide(){this._trace("invoked _hide"),this._visible=!1,this._visibleContextKey.reset(),this._editor.layoutContentWidget(this)}_getTopForPosition(){const E=this._editor.getVisibleRanges();let T;return E.length>0?T=E[0].startLineNumber:(this._logService.warn("RenameInputField#_getTopForPosition: this should not happen - visibleRanges is empty"),T=Math.max(1,this._position.lineNumber-5)),this._editor.getTopForLineNumber(this._position.lineNumber)-this._editor.getTopForLineNumber(T)}_trace(...E){this._logService.trace("RenameInputField",...E)}};e.RenameInputField=c,e.RenameInputField=c=Ie([he(2,o.IThemeService),he(3,u.IKeybindingService),he(4,v.IContextKeyService),he(5,d.ILogService)],c);class f{constructor(E,T){this._disposables=new b.DisposableStore,this._availableHeight=0,this._minimumWidth=0,this._lineHeight=T.fontInfo.lineHeight,this._typicalHalfwidthCharacterWidth=T.fontInfo.typicalHalfwidthCharacterWidth,this._listContainer=document.createElement("div"),E.appendChild(this._listContainer),this._listWidget=f._createListWidget(this._listContainer,this._candidateViewHeight,T.fontInfo),this._listWidget.onDidChangeFocus(N=>{N.elements.length===1&&T.onFocusChange(N.elements[0].newSymbolName)},this._disposables),this._listWidget.onDidChangeSelection(N=>{N.elements.length===1&&T.onSelectionChange()},this._disposables),this._disposables.add(this._listWidget.onDidBlur(N=>{this._listWidget.setFocus([])})),this._listWidget.style((0,r.getListStyles)({listInactiveFocusForeground:l.quickInputListFocusForeground,listInactiveFocusBackground:l.quickInputListFocusBackground}))}dispose(){this._listWidget.dispose(),this._disposables.dispose()}layout({height:E,width:T}){this._availableHeight=E,this._minimumWidth=T}setCandidates(E){this._listWidget.splice(0,0,E);const T=this._pickListHeight(E.length),N=this._pickListWidth(E);this._listWidget.layout(T,N),this._listContainer.style.height=`${T}px`,this._listContainer.style.width=`${N}px`,k.status((0,h.localize)(3,null,E.length))}clearCandidates(){this._listContainer.style.height="0px",this._listContainer.style.width="0px",this._listWidget.splice(0,this._listWidget.length,[])}get nCandidates(){return this._listWidget.length}get focusedCandidate(){if(this._listWidget.length===0)return;const E=this._listWidget.getSelectedElements()[0];if(E!==void 0)return E.newSymbolName;const T=this._listWidget.getFocusedElements()[0];if(T!==void 0)return T.newSymbolName}focusNext(){if(this._listWidget.length===0)return!1;const E=this._listWidget.getFocus();return E.length===0?(this._listWidget.focusFirst(),!0):E[0]===this._listWidget.length-1?(this._listWidget.setFocus([]),!1):(this._listWidget.focusNext(),!0)}focusPrevious(){if(this._listWidget.length===0)return!1;const E=this._listWidget.getFocus();return E.length===0?(this._listWidget.focusLast(),!0):E[0]===0?(this._listWidget.setFocus([]),!1):(this._listWidget.focusPrevious(),!0)}clearFocus(){this._listWidget.setFocus([])}get _candidateViewHeight(){const{totalHeight:E}=S.getLayoutInfo({lineHeight:this._lineHeight});return E}_pickListHeight(E){const T=this._candidateViewHeight*E;return Math.min(T,this._availableHeight,this._candidateViewHeight*7)}_pickListWidth(E){const T=Math.ceil(Math.max(...E.map(A=>A.newSymbolName.length))*this._typicalHalfwidthCharacterWidth);return Math.max(this._minimumWidth,25+T+10)}static _createListWidget(E,T,N){const A=new class{getTemplateId(M){return"candidate"}getHeight(M){return T}},O=new class{constructor(){this.templateId="candidate"}renderTemplate(M){return new S(M,N)}renderElement(M,P,x){x.populate(M)}disposeTemplate(M){M.dispose()}};return new L.List("NewSymbolNameCandidates",E,A,[O],{keyboardSupport:!1,mouseSupport:!0,multipleSelectionSupport:!1})}}class _{constructor(){this._onDidChange=new C.Emitter,this.onDidChange=this._onDidChange.event,this._disposables=new b.DisposableStore}get domNode(){return this._domNode||(this._domNode=document.createElement("input"),this._domNode.className="rename-input",this._domNode.type="text",this._domNode.setAttribute("aria-label",(0,h.localize)(4,null)),this._disposables.add(m.addDisposableListener(this._domNode,"input",()=>this._onDidChange.fire()))),this._domNode}dispose(){this._onDidChange.dispose(),this._disposables.dispose()}}class S{constructor(E,T){this._domNode=document.createElement("div"),this._domNode.style.display="flex",this._domNode.style.columnGap="5px",this._domNode.style.alignItems="center",this._domNode.style.height=`${T.lineHeight}px`,this._domNode.style.padding=`${S._PADDING}px`;const N=document.createElement("div");N.style.display="flex",N.style.alignItems="center",N.style.width=N.style.height=`${T.lineHeight*.8}px`,this._domNode.appendChild(N),this._icon=(0,D.renderIcon)(w.Codicon.sparkle),this._icon.style.display="none",N.appendChild(this._icon),this._label=document.createElement("div"),(0,i.applyFontInfo)(this._label,T),this._domNode.appendChild(this._label),E.appendChild(this._domNode)}populate(E){this._updateIcon(E),this._updateLabel(E)}_updateIcon(E){var T;const N=!!(!((T=E.tags)===null||T===void 0)&&T.includes(n.NewSymbolNameTag.AIGenerated));this._icon.style.display=N?"inherit":"none"}_updateLabel(E){this._label.innerText=E.newSymbolName}static getLayoutInfo({lineHeight:E}){return{totalHeight:E+S._PADDING*2}}dispose(){}}S._PADDING=2}),define(te[909],ie([1,0,45,15,20,12,57,2,21,22,16,147,36,9,5,19,18,200,115,174,739,28,105,14,8,61,51,91,39,65,908]),function(J,e,m,k,D,L,y,p,w,C,b,a,s,i,t,n,h,v,u,d,r,l,o,g,c,f,_,S,I,E,T){"use strict";var N;Object.defineProperty(e,"__esModule",{value:!0}),e.RenameAction=void 0,e.rename=O;class A{constructor(B,H,V){this.model=B,this.position=H,this._providerRenameIdx=0,this._providers=V.ordered(B)}hasProvider(){return this._providers.length>0}async resolveRenameLocation(B){const H=[];for(this._providerRenameIdx=0;this._providerRenameIdx<this._providers.length;this._providerRenameIdx++){const q=this._providers[this._providerRenameIdx];if(!q.resolveRenameLocation)break;const K=await q.resolveRenameLocation(this.model,this.position,B);if(K){if(K.rejectReason){H.push(K.rejectReason);continue}return K}}this._providerRenameIdx=0;const V=this.model.getWordAtPosition(this.position);return V?{range:new t.Range(this.position.lineNumber,V.startColumn,this.position.lineNumber,V.endColumn),text:V.word,rejectReason:H.length>0?H.join(`
`):void 0}:{range:t.Range.fromPositions(this.position),text:"",rejectReason:H.length>0?H.join(`
`):void 0}}async provideRenameEdits(B,H){return this._provideRenameEdits(B,this._providerRenameIdx,[],H)}async _provideRenameEdits(B,H,V,q){const K=this._providers[H];if(!K)return{edits:[],rejectReason:V.join(`
`)};const U=await K.provideRenameEdits(this.model,this.position,B,q);if(U){if(U.rejectReason)return this._provideRenameEdits(B,H+1,V.concat(U.rejectReason),q)}else return this._provideRenameEdits(B,H+1,V.concat(r.localize(0,null)),q);return U}}async function O(R,B,H,V){const q=new A(B,H,R),K=await q.resolveRenameLocation(D.CancellationToken.None);return K?.rejectReason?{edits:[],rejectReason:K.rejectReason}:q.provideRenameEdits(V,D.CancellationToken.None)}let M=N=class{static get(B){return B.getContribution(N.ID)}constructor(B,H,V,q,K,U,$,se,F){this.editor=B,this._instaService=H,this._notificationService=V,this._bulkEditService=q,this._progressService=K,this._logService=U,this._configService=$,this._languageFeaturesService=se,this._telemetryService=F,this._disposableStore=new p.DisposableStore,this._cts=new D.CancellationTokenSource,this._renameInputField=this._disposableStore.add(this._instaService.createInstance(T.RenameInputField,this.editor,["acceptRenameInput","acceptRenameInputWithPreview"]))}dispose(){this._disposableStore.dispose(),this._cts.dispose(!0)}async run(){var B,H;const V=this._logService.trace.bind(this._logService,"[rename]");if(this._cts.dispose(!0),this._cts=new D.CancellationTokenSource,!this.editor.hasModel()){V("editor has no model");return}const q=this.editor.getPosition(),K=new A(this.editor.getModel(),q,this._languageFeaturesService.renameProvider);if(!K.hasProvider()){V("skeleton has no provider");return}const U=new u.EditorStateCancellationTokenSource(this.editor,5,void 0,this._cts.token);let $;try{V("resolving rename location");const ee=K.resolveRenameLocation(U.token);this._progressService.showWhile(ee,250),$=await ee,V("resolved rename location")}catch(ee){ee instanceof L.CancellationError?V("resolve rename location cancelled",JSON.stringify(ee,null,"	")):(V("resolve rename location failed",ee instanceof Error?ee:JSON.stringify(ee,null,"	")),(typeof ee=="string"||(0,y.isMarkdownString)(ee))&&((B=d.MessageController.get(this.editor))===null||B===void 0||B.showMessage(ee||r.localize(1,null),q)));return}finally{U.dispose()}if(!$){V("returning early - no loc");return}if($.rejectReason){V(`returning early - rejected with reason: ${$.rejectReason}`,$.rejectReason),(H=d.MessageController.get(this.editor))===null||H===void 0||H.showMessage($.rejectReason,q);return}if(U.token.isCancellationRequested){V("returning early - cts1 cancelled");return}const se=new u.EditorStateCancellationTokenSource(this.editor,5,$.range,this._cts.token),F=this.editor.getModel(),X=new D.CancellationTokenSource(se.token),Q=this._languageFeaturesService.newSymbolNamesProvider.all(F),Z=Q.map(ee=>ee.provideNewSymbolNames(F,$.range,X.token));V(`requested new symbol names from ${Q.length} providers`);const ae=this.editor.getSelection();let ue=0,ge=$.text.length;!t.Range.isEmpty(ae)&&!t.Range.spansMultipleLines(ae)&&t.Range.containsRange($.range,ae)&&(ue=Math.max(0,ae.startColumn-$.range.startColumn),ge=Math.min($.range.endColumn,ae.endColumn)-$.range.startColumn),V("creating rename input field and awaiting its result");const fe=this._bulkEditService.hasPreviewHandler()&&this._configService.getValue(this.editor.getModel().uri,"editor.rename.enablePreview"),re=await this._renameInputField.getInput($.range,$.text,ue,ge,fe,Z,X);if(V("received response from rename input field"),Q.length>0&&this._reportTelemetry(Q.length,F.getLanguageId(),re),this._reportTelemetry(Q.length,F.getLanguageId(),re,"inDebugMode"),typeof re=="boolean"){V(`returning early - rename input field response - ${re}`),re&&this.editor.focus(),se.dispose();return}this.editor.focus(),V("requesting rename edits");const de=(0,k.raceCancellation)(K.provideRenameEdits(re.newName,se.token),se.token).then(async ee=>{if(!ee){V("returning early - no rename edits result");return}if(!this.editor.hasModel()){V("returning early - no model after rename edits are provided");return}if(ee.rejectReason){V(`returning early - rejected with reason: ${ee.rejectReason}`),this._notificationService.info(ee.rejectReason);return}this.editor.setSelection(t.Range.fromPositions(this.editor.getSelection().getPosition())),V("applying edits"),this._bulkEditService.apply(ee,{editor:this.editor,showPreview:re.wantsPreview,label:r.localize(2,null,$?.text,re.newName),code:"undoredo.rename",quotableLabel:r.localize(3,null,$?.text,re.newName),respectAutoSaveConfig:!0}).then(W=>{V("edits applied"),W.ariaSummary&&(0,m.alert)(r.localize(4,null,$.text,re.newName,W.ariaSummary))}).catch(W=>{V(`error when applying edits ${JSON.stringify(W,null,"	")}`),this._notificationService.error(r.localize(5,null)),this._logService.error(W)})},ee=>{V("error when providing rename edits",JSON.stringify(ee,null,"	")),this._notificationService.error(r.localize(6,null)),this._logService.error(ee)}).finally(()=>{se.dispose()});return V("returning rename operation"),this._progressService.showWhile(de,250),de}acceptRenameInput(B){this._renameInputField.acceptInput(B)}cancelRenameInput(){this._renameInputField.cancelInput(!0,"cancelRenameInput command")}focusNextRenameSuggestion(){this._renameInputField.focusNextRenameSuggestion()}focusPreviousRenameSuggestion(){this._renameInputField.focusPreviousRenameSuggestion()}_reportTelemetry(B,H,V,q){const K=typeof V=="boolean"?{kind:"cancelled",languageId:H,nRenameSuggestionProviders:B}:{kind:"accepted",languageId:H,nRenameSuggestionProviders:B,source:V.stats.source.k,nRenameSuggestions:V.stats.nRenameSuggestions,timeBeforeFirstInputFieldEdit:V.stats.timeBeforeFirstInputFieldEdit,wantsPreview:V.wantsPreview};q?this._telemetryService.publicLog2("renameInvokedEventDebug",K):this._telemetryService.publicLog2("renameInvokedEvent",K)}};M.ID="editor.contrib.renameController",M=N=Ie([he(1,c.IInstantiationService),he(2,_.INotificationService),he(3,a.IBulkEditService),he(4,S.IEditorProgressService),he(5,f.ILogService),he(6,v.ITextResourceConfigurationService),he(7,h.ILanguageFeaturesService),he(8,E.ITelemetryService)],M);class P extends b.EditorAction{constructor(){super({id:"editor.action.rename",label:r.localize(7,null),alias:"Rename Symbol",precondition:g.ContextKeyExpr.and(n.EditorContextKeys.writable,n.EditorContextKeys.hasRenameProvider),kbOpts:{kbExpr:n.EditorContextKeys.editorTextFocus,primary:60,weight:100},contextMenuOpts:{group:"1_modification",order:1.1}})}runCommand(B,H){const V=B.get(s.ICodeEditorService),[q,K]=Array.isArray(H)&&H||[void 0,void 0];return C.URI.isUri(q)&&i.Position.isIPosition(K)?V.openCodeEditor({resource:q},V.getActiveCodeEditor()).then(U=>{U&&(U.setPosition(K),U.invokeWithinContext($=>(this.reportTelemetry($,U),this.run($,U))))},L.onUnexpectedError):super.runCommand(B,H)}run(B,H){const V=B.get(f.ILogService),q=M.get(H);return q?(V.trace("[RenameAction] got controller, running..."),q.run()):(V.trace("[RenameAction] returning early - controller missing"),Promise.resolve())}}e.RenameAction=P,(0,b.registerEditorContribution)(M.ID,M,4),(0,b.registerEditorAction)(P);const x=b.EditorCommand.bindToContribution(M.get);(0,b.registerEditorCommand)(new x({id:"acceptRenameInput",precondition:T.CONTEXT_RENAME_INPUT_VISIBLE,handler:R=>R.acceptRenameInput(!1),kbOpts:{weight:199,kbExpr:g.ContextKeyExpr.and(n.EditorContextKeys.focus,g.ContextKeyExpr.not("isComposing")),primary:3}})),(0,b.registerEditorCommand)(new x({id:"acceptRenameInputWithPreview",precondition:g.ContextKeyExpr.and(T.CONTEXT_RENAME_INPUT_VISIBLE,g.ContextKeyExpr.has("config.editor.rename.enablePreview")),handler:R=>R.acceptRenameInput(!0),kbOpts:{weight:199,kbExpr:g.ContextKeyExpr.and(n.EditorContextKeys.focus,g.ContextKeyExpr.not("isComposing")),primary:1027}})),(0,b.registerEditorCommand)(new x({id:"cancelRenameInput",precondition:T.CONTEXT_RENAME_INPUT_VISIBLE,handler:R=>R.cancelRenameInput(),kbOpts:{weight:199,kbExpr:n.EditorContextKeys.focus,primary:9,secondary:[1033]}})),(0,l.registerAction2)(class extends l.Action2{constructor(){super({id:"focusNextRenameSuggestion",title:{...r.localize2(9,"Focus Next Rename Suggestion")},precondition:T.CONTEXT_RENAME_INPUT_VISIBLE,keybinding:[{primary:2,secondary:[18],weight:199}]})}run(B){const H=B.get(s.ICodeEditorService).getFocusedCodeEditor();if(!H)return;const V=M.get(H);V&&V.focusNextRenameSuggestion()}}),(0,l.registerAction2)(class extends l.Action2{constructor(){super({id:"focusPreviousRenameSuggestion",title:{...r.localize2(10,"Focus Previous Rename Suggestion")},precondition:T.CONTEXT_RENAME_INPUT_VISIBLE,keybinding:[{primary:1026,secondary:[16],weight:199}]})}run(B){const H=B.get(s.ICodeEditorService).getFocusedCodeEditor();if(!H)return;const V=M.get(H);V&&V.focusPreviousRenameSuggestion()}}),(0,b.registerModelAndPositionCommand)("_executeDocumentRenameProvider",function(R,B,H,...V){const[q]=V;(0,w.assertType)(typeof q=="string");const{renameProvider:K}=R.get(h.ILanguageFeaturesService);return O(K,B,H,q)}),(0,b.registerModelAndPositionCommand)("_executePrepareRename",async function(R,B,H){const{renameProvider:V}=R.get(h.ILanguageFeaturesService),K=await new A(B,H,V).resolveRenameLocation(D.CancellationToken.None);if(K?.rejectReason)throw new Error(K.rejectReason);return K}),I.Registry.as(o.Extensions.Configuration).registerConfiguration({id:"editor",properties:{"editor.rename.enablePreview":{scope:5,description:r.localize(8,null),default:!0,type:"boolean"}}})}),define(te[910],ie([1,0,2,12,53,25,15,20,23,272,362,83,63,18,254,141,325]),function(J,e,m,k,D,L,y,p,w,C,b,a,s,i,t,n,h){"use strict";var v;Object.defineProperty(e,"__esModule",{value:!0}),e.DocumentSemanticTokensFeature=void 0;let u=class extends m.Disposable{constructor(o,g,c,f,_,S){super(),this._watchers=Object.create(null);const I=N=>{this._watchers[N.uri.toString()]=new d(N,o,c,_,S)},E=(N,A)=>{A.dispose(),delete this._watchers[N.uri.toString()]},T=()=>{for(const N of g.getModels()){const A=this._watchers[N.uri.toString()];(0,h.isSemanticColoringEnabled)(N,c,f)?A||I(N):A&&E(N,A)}};g.getModels().forEach(N=>{(0,h.isSemanticColoringEnabled)(N,c,f)&&I(N)}),this._register(g.onModelAdded(N=>{(0,h.isSemanticColoringEnabled)(N,c,f)&&I(N)})),this._register(g.onModelRemoved(N=>{const A=this._watchers[N.uri.toString()];A&&E(N,A)})),this._register(f.onDidChangeConfiguration(N=>{N.affectsConfiguration(h.SEMANTIC_HIGHLIGHTING_SETTING_ID)&&T()})),this._register(c.onDidColorThemeChange(T))}dispose(){for(const o of Object.values(this._watchers))o.dispose();super.dispose()}};e.DocumentSemanticTokensFeature=u,e.DocumentSemanticTokensFeature=u=Ie([he(0,t.ISemanticTokensStylingService),he(1,D.IModelService),he(2,w.IThemeService),he(3,L.IConfigurationService),he(4,a.ILanguageFeatureDebounceService),he(5,i.ILanguageFeaturesService)],u);let d=v=class extends m.Disposable{constructor(o,g,c,f,_){super(),this._semanticTokensStylingService=g,this._isDisposed=!1,this._model=o,this._provider=_.documentSemanticTokensProvider,this._debounceInformation=f.for(this._provider,"DocumentSemanticTokens",{min:v.REQUEST_MIN_DELAY,max:v.REQUEST_MAX_DELAY}),this._fetchDocumentSemanticTokens=this._register(new y.RunOnceScheduler(()=>this._fetchDocumentSemanticTokensNow(),v.REQUEST_MIN_DELAY)),this._currentDocumentResponse=null,this._currentDocumentRequestCancellationTokenSource=null,this._documentProvidersChangeListeners=[],this._providersChangedDuringRequest=!1,this._register(this._model.onDidChangeContent(()=>{this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._register(this._model.onDidChangeAttached(()=>{this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._register(this._model.onDidChangeLanguage(()=>{this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule(0)}));const S=()=>{(0,m.dispose)(this._documentProvidersChangeListeners),this._documentProvidersChangeListeners=[];for(const I of this._provider.all(o))typeof I.onDidChange=="function"&&this._documentProvidersChangeListeners.push(I.onDidChange(()=>{if(this._currentDocumentRequestCancellationTokenSource){this._providersChangedDuringRequest=!0;return}this._fetchDocumentSemanticTokens.schedule(0)}))};S(),this._register(this._provider.onDidChange(()=>{S(),this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._register(c.onDidColorThemeChange(I=>{this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._fetchDocumentSemanticTokens.schedule(0)}dispose(){this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),(0,m.dispose)(this._documentProvidersChangeListeners),this._documentProvidersChangeListeners=[],this._setDocumentSemanticTokens(null,null,null,[]),this._isDisposed=!0,super.dispose()}_fetchDocumentSemanticTokensNow(){if(this._currentDocumentRequestCancellationTokenSource)return;if(!(0,b.hasDocumentSemanticTokensProvider)(this._provider,this._model)){this._currentDocumentResponse&&this._model.tokenization.setSemanticTokens(null,!1);return}if(!this._model.isAttachedToEditor())return;const o=new p.CancellationTokenSource,g=this._currentDocumentResponse?this._currentDocumentResponse.provider:null,c=this._currentDocumentResponse&&this._currentDocumentResponse.resultId||null,f=(0,b.getDocumentSemanticTokens)(this._provider,this._model,g,c,o.token);this._currentDocumentRequestCancellationTokenSource=o,this._providersChangedDuringRequest=!1;const _=[],S=this._model.onDidChangeContent(E=>{_.push(E)}),I=new s.StopWatch(!1);f.then(E=>{if(this._debounceInformation.update(this._model,I.elapsed()),this._currentDocumentRequestCancellationTokenSource=null,S.dispose(),!E)this._setDocumentSemanticTokens(null,null,null,_);else{const{provider:T,tokens:N}=E,A=this._semanticTokensStylingService.getStyling(T);this._setDocumentSemanticTokens(T,N||null,A,_)}},E=>{E&&(k.isCancellationError(E)||typeof E.message=="string"&&E.message.indexOf("busy")!==-1)||k.onUnexpectedError(E),this._currentDocumentRequestCancellationTokenSource=null,S.dispose(),(_.length>0||this._providersChangedDuringRequest)&&(this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model)))})}static _copy(o,g,c,f,_){_=Math.min(_,c.length-f,o.length-g);for(let S=0;S<_;S++)c[f+S]=o[g+S]}_setDocumentSemanticTokens(o,g,c,f){const _=this._currentDocumentResponse,S=()=>{(f.length>0||this._providersChangedDuringRequest)&&!this._fetchDocumentSemanticTokens.isScheduled()&&this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))};if(this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._isDisposed){o&&g&&o.releaseDocumentSemanticTokens(g.resultId);return}if(!o||!c){this._model.tokenization.setSemanticTokens(null,!1);return}if(!g){this._model.tokenization.setSemanticTokens(null,!0),S();return}if((0,b.isSemanticTokensEdits)(g)){if(!_){this._model.tokenization.setSemanticTokens(null,!0);return}if(g.edits.length===0)g={resultId:g.resultId,data:_.data};else{let I=0;for(const O of g.edits)I+=(O.data?O.data.length:0)-O.deleteCount;const E=_.data,T=new Uint32Array(E.length+I);let N=E.length,A=T.length;for(let O=g.edits.length-1;O>=0;O--){const M=g.edits[O];if(M.start>E.length){c.warnInvalidEditStart(_.resultId,g.resultId,O,M.start,E.length),this._model.tokenization.setSemanticTokens(null,!0);return}const P=N-(M.start+M.deleteCount);P>0&&(v._copy(E,N-P,T,A-P,P),A-=P),M.data&&(v._copy(M.data,0,T,A-M.data.length,M.data.length),A-=M.data.length),N=M.start}N>0&&v._copy(E,0,T,0,N),g={resultId:g.resultId,data:T}}}if((0,b.isSemanticTokens)(g)){this._currentDocumentResponse=new r(o,g.resultId,g.data);const I=(0,C.toMultilineTokens2)(g,c,this._model.getLanguageId());if(f.length>0)for(const E of f)for(const T of I)for(const N of E.changes)T.applyEdit(N.range,N.text);this._model.tokenization.setSemanticTokens(I,!0)}else this._model.tokenization.setSemanticTokens(null,!0);S()}};d.REQUEST_MIN_DELAY=300,d.REQUEST_MAX_DELAY=2e3,d=v=Ie([he(1,t.ISemanticTokensStylingService),he(2,w.IThemeService),he(3,a.ILanguageFeatureDebounceService),he(4,i.ILanguageFeaturesService)],d);class r{constructor(o,g,c){this.provider=o,this.resultId=g,this.data=c}dispose(){this.provider.releaseDocumentSemanticTokens(this.resultId)}}(0,n.registerEditorFeature)(u)}),define(te[911],ie([1,0,15,2,16,362,325,272,25,23,83,63,18,254]),function(J,e,m,k,D,L,y,p,w,C,b,a,s,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewportSemanticTokensContribution=void 0;let t=class extends k.Disposable{constructor(h,v,u,d,r,l){super(),this._semanticTokensStylingService=v,this._themeService=u,this._configurationService=d,this._editor=h,this._provider=l.documentRangeSemanticTokensProvider,this._debounceInformation=r.for(this._provider,"DocumentRangeSemanticTokens",{min:100,max:500}),this._tokenizeViewport=this._register(new m.RunOnceScheduler(()=>this._tokenizeViewportNow(),100)),this._outstandingRequests=[];const o=()=>{this._editor.hasModel()&&this._tokenizeViewport.schedule(this._debounceInformation.get(this._editor.getModel()))};this._register(this._editor.onDidScrollChange(()=>{o()})),this._register(this._editor.onDidChangeModel(()=>{this._cancelAll(),o()})),this._register(this._editor.onDidChangeModelContent(g=>{this._cancelAll(),o()})),this._register(this._provider.onDidChange(()=>{this._cancelAll(),o()})),this._register(this._configurationService.onDidChangeConfiguration(g=>{g.affectsConfiguration(y.SEMANTIC_HIGHLIGHTING_SETTING_ID)&&(this._cancelAll(),o())})),this._register(this._themeService.onDidColorThemeChange(()=>{this._cancelAll(),o()})),o()}_cancelAll(){for(const h of this._outstandingRequests)h.cancel();this._outstandingRequests=[]}_removeOutstandingRequest(h){for(let v=0,u=this._outstandingRequests.length;v<u;v++)if(this._outstandingRequests[v]===h){this._outstandingRequests.splice(v,1);return}}_tokenizeViewportNow(){if(!this._editor.hasModel())return;const h=this._editor.getModel();if(h.tokenization.hasCompleteSemanticTokens())return;if(!(0,y.isSemanticColoringEnabled)(h,this._themeService,this._configurationService)){h.tokenization.hasSomeSemanticTokens()&&h.tokenization.setSemanticTokens(null,!1);return}if(!(0,L.hasDocumentRangeSemanticTokensProvider)(this._provider,h)){h.tokenization.hasSomeSemanticTokens()&&h.tokenization.setSemanticTokens(null,!1);return}const v=this._editor.getVisibleRangesPlusViewportAboveBelow();this._outstandingRequests=this._outstandingRequests.concat(v.map(u=>this._requestRange(h,u)))}_requestRange(h,v){const u=h.getVersionId(),d=(0,m.createCancelablePromise)(l=>Promise.resolve((0,L.getDocumentRangeSemanticTokens)(this._provider,h,v,l))),r=new a.StopWatch(!1);return d.then(l=>{if(this._debounceInformation.update(h,r.elapsed()),!l||!l.tokens||h.isDisposed()||h.getVersionId()!==u)return;const{provider:o,tokens:g}=l,c=this._semanticTokensStylingService.getStyling(o);h.tokenization.setPartialSemanticTokens(v,(0,p.toMultilineTokens2)(g,c,h.getLanguageId()))}).then(()=>this._removeOutstandingRequest(d),()=>this._removeOutstandingRequest(d)),d}};e.ViewportSemanticTokensContribution=t,t.ID="editor.contrib.viewportSemanticTokens",e.ViewportSemanticTokensContribution=t=Ie([he(1,i.ISemanticTokensStylingService),he(2,C.IThemeService),he(3,w.IConfigurationService),he(4,b.ILanguageFeatureDebounceService),he(5,s.ILanguageFeaturesService)],t),(0,D.registerEditorContribution)(t.ID,t,1)}),define(te[912],ie([1,0,6,246,26,30,7,76,2,22,29,829,53,42,749,358,85,23,374]),function(J,e,m,k,D,L,y,p,w,C,b,a,s,i,t,n,h,v,u){"use strict";var d;Object.defineProperty(e,"__esModule",{value:!0}),e.ItemRenderer=void 0,e.getAriaId=r;function r(f){return`suggest-aria-id:${f}`}const l=(0,h.registerIcon)("suggest-more-info",D.Codicon.chevronRight,t.localize(0,null)),o=new(d=class{extract(_,S){if(_.textLabel.match(d._regexStrict))return S[0]=_.textLabel,!0;if(_.completion.detail&&_.completion.detail.match(d._regexStrict))return S[0]=_.completion.detail,!0;if(_.completion.documentation){const I=typeof _.completion.documentation=="string"?_.completion.documentation:_.completion.documentation.value,E=d._regexRelaxed.exec(I);if(E&&(E.index===0||E.index+E[0].length===I.length))return S[0]=E[0],!0}return!1}},d._regexRelaxed=/(#([\da-fA-F]{3}){1,2}|(rgb|hsl)a\(\s*(\d{1,3}%?\s*,\s*){3}(1|0?\.\d+)\)|(rgb|hsl)\(\s*\d{1,3}%?(\s*,\s*\d{1,3}%?){2}\s*\))/,d._regexStrict=new RegExp(`^${d._regexRelaxed.source}$`,"i"),d);let g=class{constructor(_,S,I,E){this._editor=_,this._modelService=S,this._languageService=I,this._themeService=E,this._onDidToggleDetails=new y.Emitter,this.onDidToggleDetails=this._onDidToggleDetails.event,this.templateId="suggestion"}dispose(){this._onDidToggleDetails.dispose()}renderTemplate(_){const S=new w.DisposableStore,I=_;I.classList.add("show-file-icons");const E=(0,m.append)(_,(0,m.$)(".icon")),T=(0,m.append)(E,(0,m.$)("span.colorspan")),N=(0,m.append)(_,(0,m.$)(".contents")),A=(0,m.append)(N,(0,m.$)(".main")),O=(0,m.append)(A,(0,m.$)(".icon-label.codicon")),M=(0,m.append)(A,(0,m.$)("span.left")),P=(0,m.append)(A,(0,m.$)("span.right")),x=new k.IconLabel(M,{supportHighlights:!0,supportIcons:!0});S.add(x);const R=(0,m.append)(M,(0,m.$)("span.signature-label")),B=(0,m.append)(M,(0,m.$)("span.qualifier-label")),H=(0,m.append)(P,(0,m.$)("span.details-label")),V=(0,m.append)(P,(0,m.$)("span.readMore"+L.ThemeIcon.asCSSSelector(l)));return V.title=t.localize(1,null),{root:I,left:M,right:P,icon:E,colorspan:T,iconLabel:x,iconContainer:O,parametersLabel:R,qualifierLabel:B,detailsLabel:H,readMore:V,disposables:S,configureFont:()=>{const K=this._editor.getOptions(),U=K.get(50),$=U.getMassagedFontFamily(),se=U.fontFeatureSettings,F=K.get(119)||U.fontSize,X=K.get(120)||U.lineHeight,Q=U.fontWeight,Z=U.letterSpacing,ae=`${F}px`,ue=`${X}px`,ge=`${Z}px`;I.style.fontSize=ae,I.style.fontWeight=Q,I.style.letterSpacing=ge,A.style.fontFamily=$,A.style.fontFeatureSettings=se,A.style.lineHeight=ue,E.style.height=ue,E.style.width=ue,V.style.height=ue,V.style.width=ue}}}renderElement(_,S,I){I.configureFont();const{completion:E}=_;I.root.id=r(S),I.colorspan.style.backgroundColor="";const T={labelEscapeNewLines:!0,matches:(0,p.createMatches)(_.score)},N=[];if(E.kind===19&&o.extract(_,N))I.icon.className="icon customcolor",I.iconContainer.className="icon hide",I.colorspan.style.backgroundColor=N[0];else if(E.kind===20&&this._themeService.getFileIconTheme().hasFileIcons){I.icon.className="icon hide",I.iconContainer.className="icon hide";const A=(0,a.getIconClasses)(this._modelService,this._languageService,C.URI.from({scheme:"fake",path:_.textLabel}),n.FileKind.FILE),O=(0,a.getIconClasses)(this._modelService,this._languageService,C.URI.from({scheme:"fake",path:E.detail}),n.FileKind.FILE);T.extraClasses=A.length>O.length?A:O}else E.kind===23&&this._themeService.getFileIconTheme().hasFolderIcons?(I.icon.className="icon hide",I.iconContainer.className="icon hide",T.extraClasses=[(0,a.getIconClasses)(this._modelService,this._languageService,C.URI.from({scheme:"fake",path:_.textLabel}),n.FileKind.FOLDER),(0,a.getIconClasses)(this._modelService,this._languageService,C.URI.from({scheme:"fake",path:E.detail}),n.FileKind.FOLDER)].flat()):(I.icon.className="icon hide",I.iconContainer.className="",I.iconContainer.classList.add("suggest-icon",...L.ThemeIcon.asClassNameArray(b.CompletionItemKinds.toIcon(E.kind))));E.tags&&E.tags.indexOf(1)>=0&&(T.extraClasses=(T.extraClasses||[]).concat(["deprecated"]),T.matches=[]),I.iconLabel.setLabel(_.textLabel,void 0,T),typeof E.label=="string"?(I.parametersLabel.textContent="",I.detailsLabel.textContent=c(E.detail||""),I.root.classList.add("string-label")):(I.parametersLabel.textContent=c(E.label.detail||""),I.detailsLabel.textContent=c(E.label.description||""),I.root.classList.remove("string-label")),this._editor.getOption(118).showInlineDetails?(0,m.show)(I.detailsLabel):(0,m.hide)(I.detailsLabel),(0,u.canExpandCompletionItem)(_)?(I.right.classList.add("can-expand-details"),(0,m.show)(I.readMore),I.readMore.onmousedown=A=>{A.stopPropagation(),A.preventDefault()},I.readMore.onclick=A=>{A.stopPropagation(),A.preventDefault(),this._onDidToggleDetails.fire()}):(I.right.classList.remove("can-expand-details"),(0,m.hide)(I.readMore),I.readMore.onmousedown=null,I.readMore.onclick=null)}disposeTemplate(_){_.disposables.dispose()}};e.ItemRenderer=g,e.ItemRenderer=g=Ie([he(1,s.IModelService),he(2,i.ILanguageService),he(3,v.IThemeService)],g);function c(f){return f.replace(/\r\n|\r|\n/g,"")}}),define(te[913],ie([1,0,906,39,150,36,103,7,16,19,75]),function(J,e,m,k,D,L,y,p,w,C,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GotoLineAction=e.StandaloneGotoLineQuickAccessProvider=void 0;let a=class extends m.AbstractGotoLineQuickAccessProvider{constructor(t){super(),this.editorService=t,this.onDidActiveTextEditorControlChange=p.Event.None}get activeTextEditorControl(){var t;return(t=this.editorService.getFocusedCodeEditor())!==null&&t!==void 0?t:void 0}};e.StandaloneGotoLineQuickAccessProvider=a,e.StandaloneGotoLineQuickAccessProvider=a=Ie([he(0,L.ICodeEditorService)],a);class s extends w.EditorAction{constructor(){super({id:s.ID,label:y.GoToLineNLS.gotoLineActionLabel,alias:"Go to Line/Column...",precondition:void 0,kbOpts:{kbExpr:C.EditorContextKeys.focus,primary:2085,mac:{primary:293},weight:100}})}run(t){t.get(b.IQuickInputService).quickAccess.show(a.PREFIX)}}e.GotoLineAction=s,s.ID="editor.action.gotoLine",(0,w.registerEditorAction)(s),k.Registry.as(D.Extensions.Quickaccess).registerQuickAccessProvider({ctor:a,prefix:a.PREFIX,helpEntries:[{description:y.GoToLineNLS.gotoLineActionLabel,commandId:s.ID}]})}),define(te[914],ie([1,0,907,39,150,36,103,7,16,19,75,173,18,187,270]),function(J,e,m,k,D,L,y,p,w,C,b,a,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GotoSymbolAction=e.StandaloneGotoSymbolQuickAccessProvider=void 0;let i=class extends m.AbstractGotoSymbolQuickAccessProvider{constructor(h,v,u){super(v,u),this.editorService=h,this.onDidActiveTextEditorControlChange=p.Event.None}get activeTextEditorControl(){var h;return(h=this.editorService.getFocusedCodeEditor())!==null&&h!==void 0?h:void 0}};e.StandaloneGotoSymbolQuickAccessProvider=i,e.StandaloneGotoSymbolQuickAccessProvider=i=Ie([he(0,L.ICodeEditorService),he(1,s.ILanguageFeaturesService),he(2,a.IOutlineModelService)],i);class t extends w.EditorAction{constructor(){super({id:t.ID,label:y.QuickOutlineNLS.quickOutlineActionLabel,alias:"Go to Symbol...",precondition:C.EditorContextKeys.hasDocumentSymbolProvider,kbOpts:{kbExpr:C.EditorContextKeys.focus,primary:3117,weight:100},contextMenuOpts:{group:"navigation",order:3}})}run(h){h.get(b.IQuickInputService).quickAccess.show(m.AbstractGotoSymbolQuickAccessProvider.PREFIX,{itemActivation:b.ItemActivation.NONE})}}e.GotoSymbolAction=t,t.ID="editor.action.quickOutline",(0,w.registerEditorAction)(t),k.Registry.as(D.Extensions.Quickaccess).registerQuickAccessProvider({ctor:i,prefix:m.AbstractGotoSymbolQuickAccessProvider.PREFIX,helpEntries:[{description:y.QuickOutlineNLS.quickOutlineActionLabel,prefix:m.AbstractGotoSymbolQuickAccessProvider.PREFIX,commandId:t.ID},{description:y.QuickOutlineNLS.quickOutlineByCategoryActionLabel,prefix:m.AbstractGotoSymbolQuickAccessProvider.PREFIX_BY_CATEGORY}]})}),define(te[390],ie([1,0,6,49,891,36,14,46,23]),function(J,e,m,k,D,L,y,p,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandaloneCodeEditorService=void 0;let C=class extends D.AbstractCodeEditorService{constructor(a,s){super(s),this._register(this.onCodeEditorAdd(()=>this._checkContextKey())),this._register(this.onCodeEditorRemove(()=>this._checkContextKey())),this._editorIsOpen=a.createKey("editorIsOpen",!1),this._activeCodeEditor=null,this._register(this.registerCodeEditorOpenHandler(async(i,t,n)=>t?this.doOpenEditor(t,i):null))}_checkContextKey(){let a=!1;for(const s of this.listCodeEditors())if(!s.isSimpleWidget){a=!0;break}this._editorIsOpen.set(a)}setActiveCodeEditor(a){this._activeCodeEditor=a}getActiveCodeEditor(){return this._activeCodeEditor}doOpenEditor(a,s){if(!this.findModel(a,s.resource)){if(s.resource){const n=s.resource.scheme;if(n===k.Schemas.http||n===k.Schemas.https)return(0,m.windowOpenNoOpener)(s.resource.toString()),a}return null}const t=s.options?s.options.selection:null;if(t)if(typeof t.endLineNumber=="number"&&typeof t.endColumn=="number")a.setSelection(t),a.revealRangeInCenter(t,1);else{const n={lineNumber:t.startLineNumber,column:t.startColumn};a.setPosition(n),a.revealPositionInCenter(n,1)}return a}findModel(a,s){const i=a.getModel();return i&&i.uri.toString()!==s.toString()?null:i}};e.StandaloneCodeEditorService=C,e.StandaloneCodeEditorService=C=Ie([he(0,y.IContextKeyService),he(1,w.IThemeService)],C),(0,p.registerSingleton)(L.ICodeEditorService,C,0)}),define(te[915],ie([1,0,86,31]),function(J,e,m,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.hc_light=e.hc_black=e.vs_dark=e.vs=void 0,e.vs={base:"vs",inherit:!1,rules:[{token:"",foreground:"000000",background:"fffffe"},{token:"invalid",foreground:"cd3131"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"001188"},{token:"variable.predefined",foreground:"4864AA"},{token:"constant",foreground:"dd0000"},{token:"comment",foreground:"008000"},{token:"number",foreground:"098658"},{token:"number.hex",foreground:"3030c0"},{token:"regexp",foreground:"800000"},{token:"annotation",foreground:"808080"},{token:"type",foreground:"008080"},{token:"delimiter",foreground:"000000"},{token:"delimiter.html",foreground:"383838"},{token:"delimiter.xml",foreground:"0000FF"},{token:"tag",foreground:"800000"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"800000"},{token:"metatag",foreground:"e00000"},{token:"metatag.content.html",foreground:"FF0000"},{token:"metatag.html",foreground:"808080"},{token:"metatag.xml",foreground:"808080"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"863B00"},{token:"string.key.json",foreground:"A31515"},{token:"string.value.json",foreground:"0451A5"},{token:"attribute.name",foreground:"FF0000"},{token:"attribute.value",foreground:"0451A5"},{token:"attribute.value.number",foreground:"098658"},{token:"attribute.value.unit",foreground:"098658"},{token:"attribute.value.html",foreground:"0000FF"},{token:"attribute.value.xml",foreground:"0000FF"},{token:"string",foreground:"A31515"},{token:"string.html",foreground:"0000FF"},{token:"string.sql",foreground:"FF0000"},{token:"string.yaml",foreground:"0451A5"},{token:"keyword",foreground:"0000FF"},{token:"keyword.json",foreground:"0451A5"},{token:"keyword.flow",foreground:"AF00DB"},{token:"keyword.flow.scss",foreground:"0000FF"},{token:"operator.scss",foreground:"666666"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"666666"},{token:"predefined.sql",foreground:"C700C7"}],colors:{[k.editorBackground]:"#FFFFFE",[k.editorForeground]:"#000000",[k.editorInactiveSelection]:"#E5EBF1",[m.editorIndentGuide1]:"#D3D3D3",[m.editorActiveIndentGuide1]:"#939393",[k.editorSelectionHighlight]:"#ADD6FF4D"}},e.vs_dark={base:"vs-dark",inherit:!1,rules:[{token:"",foreground:"D4D4D4",background:"1E1E1E"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"74B0DF"},{token:"variable.predefined",foreground:"4864AA"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"B5CEA8"},{token:"number.hex",foreground:"5BB498"},{token:"regexp",foreground:"B46695"},{token:"annotation",foreground:"cc6666"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"DCDCDC"},{token:"delimiter.html",foreground:"808080"},{token:"delimiter.xml",foreground:"808080"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"A79873"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"DD6A6F"},{token:"metatag.content.html",foreground:"9CDCFE"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key.json",foreground:"9CDCFE"},{token:"string.value.json",foreground:"CE9178"},{token:"attribute.name",foreground:"9CDCFE"},{token:"attribute.value",foreground:"CE9178"},{token:"attribute.value.number.css",foreground:"B5CEA8"},{token:"attribute.value.unit.css",foreground:"B5CEA8"},{token:"attribute.value.hex.css",foreground:"D4D4D4"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"keyword.json",foreground:"CE9178"},{token:"keyword.flow.scss",foreground:"569CD6"},{token:"operator.scss",foreground:"909090"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[k.editorBackground]:"#1E1E1E",[k.editorForeground]:"#D4D4D4",[k.editorInactiveSelection]:"#3A3D41",[m.editorIndentGuide1]:"#404040",[m.editorActiveIndentGuide1]:"#707070",[k.editorSelectionHighlight]:"#ADD6FF26"}},e.hc_black={base:"hc-black",inherit:!1,rules:[{token:"",foreground:"FFFFFF",background:"000000"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"1AEBFF"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"FFFFFF"},{token:"regexp",foreground:"C0C0C0"},{token:"annotation",foreground:"569CD6"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"FFFF00"},{token:"delimiter.html",foreground:"FFFF00"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta",foreground:"D4D4D4"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"569CD6"},{token:"metatag.content.html",foreground:"1AEBFF"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key",foreground:"9CDCFE"},{token:"string.value",foreground:"CE9178"},{token:"attribute.name",foreground:"569CD6"},{token:"attribute.value",foreground:"3FF23F"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[k.editorBackground]:"#000000",[k.editorForeground]:"#FFFFFF",[m.editorIndentGuide1]:"#FFFFFF",[m.editorActiveIndentGuide1]:"#FFFFFF"}},e.hc_light={base:"hc-light",inherit:!1,rules:[{token:"",foreground:"292929",background:"FFFFFF"},{token:"invalid",foreground:"B5200D"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"264F70"},{token:"variable.predefined",foreground:"4864AA"},{token:"constant",foreground:"dd0000"},{token:"comment",foreground:"008000"},{token:"number",foreground:"098658"},{token:"number.hex",foreground:"3030c0"},{token:"regexp",foreground:"800000"},{token:"annotation",foreground:"808080"},{token:"type",foreground:"008080"},{token:"delimiter",foreground:"000000"},{token:"delimiter.html",foreground:"383838"},{token:"tag",foreground:"800000"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"800000"},{token:"metatag",foreground:"e00000"},{token:"metatag.content.html",foreground:"B5200D"},{token:"metatag.html",foreground:"808080"},{token:"metatag.xml",foreground:"808080"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"863B00"},{token:"string.key.json",foreground:"A31515"},{token:"string.value.json",foreground:"0451A5"},{token:"attribute.name",foreground:"264F78"},{token:"attribute.value",foreground:"0451A5"},{token:"string",foreground:"A31515"},{token:"string.sql",foreground:"B5200D"},{token:"keyword",foreground:"0000FF"},{token:"keyword.flow",foreground:"AF00DB"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"666666"},{token:"predefined.sql",foreground:"C700C7"}],colors:{[k.editorBackground]:"#FFFFFF",[k.editorForeground]:"#292929",[m.editorIndentGuide1]:"#292929",[m.editorActiveIndentGuide1]:"#292929"}}}),define(te[391],ie([1,0,6,62,34,7,29,142,543,915,39,31,23,2,93,887,52]),function(J,e,m,k,D,L,y,p,w,C,b,a,s,i,t,n,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandaloneThemeService=e.HC_LIGHT_THEME_NAME=e.HC_BLACK_THEME_NAME=e.VS_DARK_THEME_NAME=e.VS_LIGHT_THEME_NAME=void 0,e.VS_LIGHT_THEME_NAME="vs",e.VS_DARK_THEME_NAME="vs-dark",e.HC_BLACK_THEME_NAME="hc-black",e.HC_LIGHT_THEME_NAME="hc-light";const v=b.Registry.as(a.Extensions.ColorContribution),u=b.Registry.as(s.Extensions.ThemingContribution);class d{constructor(f,_){this.semanticHighlighting=!1,this.themeData=_;const S=_.base;f.length>0?(r(f)?this.id=f:this.id=S+" "+f,this.themeName=f):(this.id=S,this.themeName=S),this.colors=null,this.defaultColors=Object.create(null),this._tokenTheme=null}get base(){return this.themeData.base}notifyBaseUpdated(){this.themeData.inherit&&(this.colors=null,this._tokenTheme=null)}getColors(){if(!this.colors){const f=new Map;for(const _ in this.themeData.colors)f.set(_,D.Color.fromHex(this.themeData.colors[_]));if(this.themeData.inherit){const _=l(this.themeData.base);for(const S in _.colors)f.has(S)||f.set(S,D.Color.fromHex(_.colors[S]))}this.colors=f}return this.colors}getColor(f,_){const S=this.getColors().get(f);if(S)return S;if(_!==!1)return this.getDefault(f)}getDefault(f){let _=this.defaultColors[f];return _||(_=v.resolveDefaultColor(f,this),this.defaultColors[f]=_,_)}defines(f){return this.getColors().has(f)}get type(){switch(this.base){case e.VS_LIGHT_THEME_NAME:return t.ColorScheme.LIGHT;case e.HC_BLACK_THEME_NAME:return t.ColorScheme.HIGH_CONTRAST_DARK;case e.HC_LIGHT_THEME_NAME:return t.ColorScheme.HIGH_CONTRAST_LIGHT;default:return t.ColorScheme.DARK}}get tokenTheme(){if(!this._tokenTheme){let f=[],_=[];if(this.themeData.inherit){const E=l(this.themeData.base);f=E.rules,E.encodedTokensColors&&(_=E.encodedTokensColors)}const S=this.themeData.colors["editor.foreground"],I=this.themeData.colors["editor.background"];if(S||I){const E={token:""};S&&(E.foreground=S),I&&(E.background=I),f.push(E)}f=f.concat(this.themeData.rules),this.themeData.encodedTokensColors&&(_=this.themeData.encodedTokensColors),this._tokenTheme=w.TokenTheme.createFromRawTokenTheme(f,_)}return this._tokenTheme}getTokenStyleMetadata(f,_,S){const E=this.tokenTheme._match([f].concat(_).join(".")).metadata,T=p.TokenMetadata.getForeground(E),N=p.TokenMetadata.getFontStyle(E);return{foreground:T,italic:!!(N&1),bold:!!(N&2),underline:!!(N&4),strikethrough:!!(N&8)}}}function r(c){return c===e.VS_LIGHT_THEME_NAME||c===e.VS_DARK_THEME_NAME||c===e.HC_BLACK_THEME_NAME||c===e.HC_LIGHT_THEME_NAME}function l(c){switch(c){case e.VS_LIGHT_THEME_NAME:return C.vs;case e.VS_DARK_THEME_NAME:return C.vs_dark;case e.HC_BLACK_THEME_NAME:return C.hc_black;case e.HC_LIGHT_THEME_NAME:return C.hc_light}}function o(c){const f=l(c);return new d(c,f)}class g extends i.Disposable{constructor(){super(),this._onColorThemeChange=this._register(new L.Emitter),this.onDidColorThemeChange=this._onColorThemeChange.event,this._onProductIconThemeChange=this._register(new L.Emitter),this.onDidProductIconThemeChange=this._onProductIconThemeChange.event,this._environment=Object.create(null),this._builtInProductIconTheme=new n.UnthemedProductIconTheme,this._autoDetectHighContrast=!0,this._knownThemes=new Map,this._knownThemes.set(e.VS_LIGHT_THEME_NAME,o(e.VS_LIGHT_THEME_NAME)),this._knownThemes.set(e.VS_DARK_THEME_NAME,o(e.VS_DARK_THEME_NAME)),this._knownThemes.set(e.HC_BLACK_THEME_NAME,o(e.HC_BLACK_THEME_NAME)),this._knownThemes.set(e.HC_LIGHT_THEME_NAME,o(e.HC_LIGHT_THEME_NAME));const f=this._register((0,n.getIconsStyleSheet)(this));this._codiconCSS=f.getCSS(),this._themeCSS="",this._allCSS=`${this._codiconCSS}
${this._themeCSS}`,this._globalStyleElement=null,this._styleElements=[],this._colorMapOverride=null,this.setTheme(e.VS_LIGHT_THEME_NAME),this._onOSSchemeChanged(),this._register(f.onDidChange(()=>{this._codiconCSS=f.getCSS(),this._updateCSS()})),(0,k.addMatchMediaChangeListener)(h.mainWindow,"(forced-colors: active)",()=>{this._onOSSchemeChanged()})}registerEditorContainer(f){return m.isInShadowDOM(f)?this._registerShadowDomContainer(f):this._registerRegularEditorContainer()}_registerRegularEditorContainer(){return this._globalStyleElement||(this._globalStyleElement=m.createStyleSheet(void 0,f=>{f.className="monaco-colors",f.textContent=this._allCSS}),this._styleElements.push(this._globalStyleElement)),i.Disposable.None}_registerShadowDomContainer(f){const _=m.createStyleSheet(f,S=>{S.className="monaco-colors",S.textContent=this._allCSS});return this._styleElements.push(_),{dispose:()=>{for(let S=0;S<this._styleElements.length;S++)if(this._styleElements[S]===_){this._styleElements.splice(S,1);return}}}}defineTheme(f,_){if(!/^[a-z0-9\-]+$/i.test(f))throw new Error("Illegal theme name!");if(!r(_.base)&&!r(f))throw new Error("Illegal theme base!");this._knownThemes.set(f,new d(f,_)),r(f)&&this._knownThemes.forEach(S=>{S.base===f&&S.notifyBaseUpdated()}),this._theme.themeName===f&&this.setTheme(f)}getColorTheme(){return this._theme}setColorMapOverride(f){this._colorMapOverride=f,this._updateThemeOrColorMap()}setTheme(f){let _;this._knownThemes.has(f)?_=this._knownThemes.get(f):_=this._knownThemes.get(e.VS_LIGHT_THEME_NAME),this._updateActualTheme(_)}_updateActualTheme(f){!f||this._theme===f||(this._theme=f,this._updateThemeOrColorMap())}_onOSSchemeChanged(){if(this._autoDetectHighContrast){const f=h.mainWindow.matchMedia("(forced-colors: active)").matches;if(f!==(0,t.isHighContrast)(this._theme.type)){let _;(0,t.isDark)(this._theme.type)?_=f?e.HC_BLACK_THEME_NAME:e.VS_DARK_THEME_NAME:_=f?e.HC_LIGHT_THEME_NAME:e.VS_LIGHT_THEME_NAME,this._updateActualTheme(this._knownThemes.get(_))}}}setAutoDetectHighContrast(f){this._autoDetectHighContrast=f,this._onOSSchemeChanged()}_updateThemeOrColorMap(){const f=[],_={},S={addRule:T=>{_[T]||(f.push(T),_[T]=!0)}};u.getThemingParticipants().forEach(T=>T(this._theme,S,this._environment));const I=[];for(const T of v.getColors()){const N=this._theme.getColor(T.id,!0);N&&I.push(`${(0,a.asCssVariableName)(T.id)}: ${N.toString()};`)}S.addRule(`.monaco-editor, .monaco-diff-editor, .monaco-component { ${I.join(`
`)} }`);const E=this._colorMapOverride||this._theme.tokenTheme.getColorMap();S.addRule((0,w.generateTokensCSSForColorMap)(E)),this._themeCSS=f.join(`
`),this._updateCSS(),y.TokenizationRegistry.setColorMap(E),this._onColorThemeChange.fire(this._theme)}_updateCSS(){this._allCSS=`${this._codiconCSS}
${this._themeCSS}`,this._styleElements.forEach(f=>f.textContent=this._allCSS)}getFileIconTheme(){return{hasFileIcons:!1,hasFolderIcons:!1,hidesExplorerArrows:!1}}getProductIconTheme(){return this._builtInProductIconTheme}}e.StandaloneThemeService=g}),define(te[916],ie([1,0,16,148,103,93,391]),function(J,e,m,k,D,L,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class p extends m.EditorAction{constructor(){super({id:"editor.action.toggleHighContrast",label:D.ToggleHighContrastNLS.toggleHighContrast,alias:"Toggle High Contrast Theme",precondition:void 0}),this._originalThemeName=null}run(C,b){const a=C.get(k.IStandaloneThemeService),s=a.getColorTheme();(0,L.isHighContrast)(s.type)?(a.setTheme(this._originalThemeName||((0,L.isDark)(s.type)?y.VS_DARK_THEME_NAME:y.VS_LIGHT_THEME_NAME)),this._originalThemeName=null):(a.setTheme((0,L.isDark)(s.type)?y.HC_BLACK_THEME_NAME:y.HC_LIGHT_THEME_NAME),this._originalThemeName=s.themeName)}}(0,m.registerEditorAction)(p)}),define(te[117],ie([1,0,6,48,146,341,41,234,2,17,763,28,794,14,58,8,35,51,97,23,30,93,21,31,106,74,511]),function(J,e,m,k,D,L,y,p,w,C,b,a,s,i,t,n,h,v,u,d,r,l,o,g,c,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DropdownWithDefaultActionViewItem=e.SubmenuEntryActionViewItem=e.MenuEntryActionViewItem=void 0,e.createAndFillInContextMenuActions=_,e.createAndFillInActionBarActions=S,e.createActionViewItem=O;function _(M,P,x,R){const B=M.getActions(P),H=m.ModifierKeyEmitter.getInstance(),V=H.keyStatus.altKey||(C.isWindows||C.isLinux)&&H.keyStatus.shiftKey;I(B,x,V,R?q=>q===R:q=>q==="navigation")}function S(M,P,x,R,B,H){const V=M.getActions(P);I(V,x,!1,typeof R=="string"?K=>K===R:R,B,H)}function I(M,P,x,R=V=>V==="navigation",B=()=>!1,H=!1){let V,q;Array.isArray(P)?(V=P,q=P):(V=P.primary,q=P.secondary);const K=new Set;for(const[U,$]of M){let se;R(U)?(se=V,se.length>0&&H&&se.push(new y.Separator)):(se=q,se.length>0&&se.push(new y.Separator));for(let F of $){x&&(F=F instanceof a.MenuItemAction&&F.alt?F.alt:F);const X=se.push(F);F instanceof y.SubmenuAction&&K.add({group:U,action:F,index:X-1})}}for(const{group:U,action:$,index:se}of K){const F=R(U)?V:q,X=$.actions;B($,U,F.length)&&F.splice(se,1,...X)}}let E=class extends D.ActionViewItem{constructor(P,x,R,B,H,V,q,K){super(void 0,P,{icon:!!(P.class||P.item.icon),label:!P.class&&!P.item.icon,draggable:x?.draggable,keybinding:x?.keybinding,hoverDelegate:x?.hoverDelegate}),this._keybindingService=R,this._notificationService=B,this._contextKeyService=H,this._themeService=V,this._contextMenuService=q,this._accessibilityService=K,this._wantsAltCommand=!1,this._itemClassDispose=this._register(new w.MutableDisposable),this._altKey=m.ModifierKeyEmitter.getInstance()}get _menuItemAction(){return this._action}get _commandAction(){return this._wantsAltCommand&&this._menuItemAction.alt||this._menuItemAction}async onClick(P){P.preventDefault(),P.stopPropagation();try{await this.actionRunner.run(this._commandAction,this._context)}catch(x){this._notificationService.error(x)}}render(P){if(super.render(P),P.classList.add("menu-entry"),this.options.icon&&this._updateItemClass(this._menuItemAction.item),this._menuItemAction.alt){let x=!1;const R=()=>{var B;const H=!!(!((B=this._menuItemAction.alt)===null||B===void 0)&&B.enabled)&&(!this._accessibilityService.isMotionReduced()||x)&&(this._altKey.keyStatus.altKey||this._altKey.keyStatus.shiftKey&&x);H!==this._wantsAltCommand&&(this._wantsAltCommand=H,this.updateLabel(),this.updateTooltip(),this.updateClass())};this._register(this._altKey.event(R)),this._register((0,m.addDisposableListener)(P,"mouseleave",B=>{x=!1,R()})),this._register((0,m.addDisposableListener)(P,"mouseenter",B=>{x=!0,R()})),R()}}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this._commandAction.label)}getTooltip(){var P;const x=this._keybindingService.lookupKeybinding(this._commandAction.id,this._contextKeyService),R=x&&x.getLabel(),B=this._commandAction.tooltip||this._commandAction.label;let H=R?(0,b.localize)(0,null,B,R):B;if(!this._wantsAltCommand&&(!((P=this._menuItemAction.alt)===null||P===void 0)&&P.enabled)){const V=this._menuItemAction.alt.tooltip||this._menuItemAction.alt.label,q=this._keybindingService.lookupKeybinding(this._menuItemAction.alt.id,this._contextKeyService),K=q&&q.getLabel(),U=K?(0,b.localize)(1,null,V,K):V;H=(0,b.localize)(2,null,H,p.UILabelProvider.modifierLabels[C.OS].altKey,U)}return H}updateClass(){this.options.icon&&(this._commandAction!==this._menuItemAction?this._menuItemAction.alt&&this._updateItemClass(this._menuItemAction.alt.item):this._updateItemClass(this._menuItemAction.item))}_updateItemClass(P){this._itemClassDispose.value=void 0;const{element:x,label:R}=this;if(!x||!R)return;const B=this._commandAction.checked&&(0,s.isICommandActionToggleInfo)(P.toggled)&&P.toggled.icon?P.toggled.icon:P.icon;if(B)if(r.ThemeIcon.isThemeIcon(B)){const H=r.ThemeIcon.asClassNameArray(B);R.classList.add(...H),this._itemClassDispose.value=(0,w.toDisposable)(()=>{R.classList.remove(...H)})}else R.style.backgroundImage=(0,l.isDark)(this._themeService.getColorTheme().type)?(0,m.asCSSUrl)(B.dark):(0,m.asCSSUrl)(B.light),R.classList.add("icon"),this._itemClassDispose.value=(0,w.combinedDisposable)((0,w.toDisposable)(()=>{R.style.backgroundImage="",R.classList.remove("icon")}),this._themeService.onDidColorThemeChange(()=>{this.updateClass()}))}};e.MenuEntryActionViewItem=E,e.MenuEntryActionViewItem=E=Ie([he(2,h.IKeybindingService),he(3,v.INotificationService),he(4,i.IContextKeyService),he(5,d.IThemeService),he(6,t.IContextMenuService),he(7,f.IAccessibilityService)],E);let T=class extends L.DropdownMenuActionViewItem{constructor(P,x,R,B,H){var V,q,K;const U={...x,menuAsChild:(V=x?.menuAsChild)!==null&&V!==void 0?V:!1,classNames:(q=x?.classNames)!==null&&q!==void 0?q:r.ThemeIcon.isThemeIcon(P.item.icon)?r.ThemeIcon.asClassName(P.item.icon):void 0,keybindingProvider:(K=x?.keybindingProvider)!==null&&K!==void 0?K:$=>R.lookupKeybinding($.id)};super(P,{getActions:()=>P.actions},B,U),this._keybindingService=R,this._contextMenuService=B,this._themeService=H}render(P){super.render(P),(0,o.assertType)(this.element),P.classList.add("menu-entry");const x=this._action,{icon:R}=x.item;if(R&&!r.ThemeIcon.isThemeIcon(R)){this.element.classList.add("icon");const B=()=>{this.element&&(this.element.style.backgroundImage=(0,l.isDark)(this._themeService.getColorTheme().type)?(0,m.asCSSUrl)(R.dark):(0,m.asCSSUrl)(R.light))};B(),this._register(this._themeService.onDidColorThemeChange(()=>{B()}))}}};e.SubmenuEntryActionViewItem=T,e.SubmenuEntryActionViewItem=T=Ie([he(2,h.IKeybindingService),he(3,t.IContextMenuService),he(4,d.IThemeService)],T);let N=class extends D.BaseActionViewItem{constructor(P,x,R,B,H,V,q,K){var U,$,se;super(null,P),this._keybindingService=R,this._notificationService=B,this._contextMenuService=H,this._menuService=V,this._instaService=q,this._storageService=K,this._container=null,this._options=x,this._storageKey=`${P.item.submenu.id}_lastActionId`;let F;const X=x?.persistLastActionId?K.get(this._storageKey,1):void 0;X&&(F=P.actions.find(Z=>X===Z.id)),F||(F=P.actions[0]),this._defaultAction=this._instaService.createInstance(E,F,{keybinding:this._getDefaultActionKeybindingLabel(F)});const Q={keybindingProvider:Z=>this._keybindingService.lookupKeybinding(Z.id),...x,menuAsChild:(U=x?.menuAsChild)!==null&&U!==void 0?U:!0,classNames:($=x?.classNames)!==null&&$!==void 0?$:["codicon","codicon-chevron-down"],actionRunner:(se=x?.actionRunner)!==null&&se!==void 0?se:new y.ActionRunner};this._dropdown=new L.DropdownMenuActionViewItem(P,P.actions,this._contextMenuService,Q),this._register(this._dropdown.actionRunner.onDidRun(Z=>{Z.action instanceof a.MenuItemAction&&this.update(Z.action)}))}update(P){var x;!((x=this._options)===null||x===void 0)&&x.persistLastActionId&&this._storageService.store(this._storageKey,P.id,1,1),this._defaultAction.dispose(),this._defaultAction=this._instaService.createInstance(E,P,{keybinding:this._getDefaultActionKeybindingLabel(P)}),this._defaultAction.actionRunner=new class extends y.ActionRunner{async runAction(R,B){await R.run(void 0)}},this._container&&this._defaultAction.render((0,m.prepend)(this._container,(0,m.$)(".action-container")))}_getDefaultActionKeybindingLabel(P){var x;let R;if(!((x=this._options)===null||x===void 0)&&x.renderKeybindingWithDefaultActionLabel){const B=this._keybindingService.lookupKeybinding(P.id);B&&(R=`(${B.getLabel()})`)}return R}setActionContext(P){super.setActionContext(P),this._defaultAction.setActionContext(P),this._dropdown.setActionContext(P)}render(P){this._container=P,super.render(this._container),this._container.classList.add("monaco-dropdown-with-default");const x=(0,m.$)(".action-container");this._defaultAction.render((0,m.append)(this._container,x)),this._register((0,m.addDisposableListener)(x,m.EventType.KEY_DOWN,B=>{const H=new k.StandardKeyboardEvent(B);H.equals(17)&&(this._defaultAction.element.tabIndex=-1,this._dropdown.focus(),H.stopPropagation())}));const R=(0,m.$)(".dropdown-action-container");this._dropdown.render((0,m.append)(this._container,R)),this._register((0,m.addDisposableListener)(R,m.EventType.KEY_DOWN,B=>{var H;const V=new k.StandardKeyboardEvent(B);V.equals(15)&&(this._defaultAction.element.tabIndex=0,this._dropdown.setFocusable(!1),(H=this._defaultAction.element)===null||H===void 0||H.focus(),V.stopPropagation())}))}focus(P){P?this._dropdown.focus():(this._defaultAction.element.tabIndex=0,this._defaultAction.element.focus())}blur(){this._defaultAction.element.tabIndex=-1,this._dropdown.blur(),this._container.blur()}setFocusable(P){P?this._defaultAction.element.tabIndex=0:(this._defaultAction.element.tabIndex=-1,this._dropdown.setFocusable(!1))}dispose(){this._defaultAction.dispose(),this._dropdown.dispose(),super.dispose()}};e.DropdownWithDefaultActionViewItem=N,e.DropdownWithDefaultActionViewItem=N=Ie([he(2,h.IKeybindingService),he(3,v.INotificationService),he(4,t.IContextMenuService),he(5,a.IMenuService),he(6,n.IInstantiationService),he(7,u.IStorageService)],N);let A=class extends D.SelectActionViewItem{constructor(P,x){super(null,P,P.actions.map(R=>({text:R.id===y.Separator.ID?"\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500":R.label,isDisabled:!R.enabled})),0,x,c.defaultSelectBoxStyles,{ariaLabel:P.tooltip,optionsAsChildren:!0}),this.select(Math.max(0,P.actions.findIndex(R=>R.checked)))}render(P){super.render(P),P.style.borderColor=(0,g.asCssVariable)(g.selectBorder)}runAction(P,x){const R=this.action.actions[x];R&&this.actionRunner.run(R)}};A=Ie([he(1,t.IContextViewService)],A);function O(M,P,x){return P instanceof a.MenuItemAction?M.createInstance(E,P,x):P instanceof a.SubmenuItemAction?P.item.isSelection?M.createInstance(A,P):P.item.rememberDefaultAction?M.createInstance(N,P,{...x,persistLastActionId:!0}):M.createInstance(T,P,x):void 0}}),define(te[917],ie([1,0,6,81,2,750,117,28,14,8]),function(J,e,m,k,D,L,y,p,w,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestWidgetStatus=void 0;class b extends y.MenuEntryActionViewItem{updateLabel(){const i=this._keybindingService.lookupKeybinding(this._action.id,this._contextKeyService);if(!i)return super.updateLabel();this.label&&(this.label.textContent=(0,L.localize)(0,null,this._action.label,b.symbolPrintEnter(i)))}static symbolPrintEnter(i){var t;return(t=i.getLabel())===null||t===void 0?void 0:t.replace(/\benter\b/gi,"\u23CE")}}let a=class{constructor(i,t,n,h,v){this._menuId=t,this._menuService=h,this._contextKeyService=v,this._menuDisposables=new D.DisposableStore,this.element=m.append(i,m.$(".suggest-status-bar"));const u=d=>d instanceof p.MenuItemAction?n.createInstance(b,d,void 0):void 0;this._leftActions=new k.ActionBar(this.element,{actionViewItemProvider:u}),this._rightActions=new k.ActionBar(this.element,{actionViewItemProvider:u}),this._leftActions.domNode.classList.add("left"),this._rightActions.domNode.classList.add("right")}dispose(){this._menuDisposables.dispose(),this._leftActions.dispose(),this._rightActions.dispose(),this.element.remove()}show(){const i=this._menuService.createMenu(this._menuId,this._contextKeyService),t=()=>{const n=[],h=[];for(const[v,u]of i.getActions())v==="left"?n.push(...u):h.push(...u);this._leftActions.clear(),this._leftActions.push(n),this._rightActions.clear(),this._rightActions.push(h)};this._menuDisposables.add(i.onDidChange(()=>t())),this._menuDisposables.add(i)}hide(){this._menuDisposables.clear()}};e.SuggestWidgetStatus=a,e.SuggestWidgetStatus=a=Ie([he(2,C.IInstantiationService),he(3,p.IMenuService),he(4,w.IContextKeyService)],a)}),define(te[206],ie([1,0,6,72,627,41,13,285,12,7,54,2,764,117,28,14,58,35,65]),function(J,e,m,k,D,L,y,p,w,C,b,a,s,i,t,n,h,v,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MenuWorkbenchToolBar=e.WorkbenchToolBar=void 0;let d=class extends D.ToolBar{constructor(o,g,c,f,_,S,I){super(o,_,{getKeyBinding:T=>{var N;return(N=S.lookupKeybinding(T.id))!==null&&N!==void 0?N:void 0},...g,allowContextMenu:!0,skipTelemetry:typeof g?.telemetrySource=="string"}),this._options=g,this._menuService=c,this._contextKeyService=f,this._contextMenuService=_,this._sessionDisposables=this._store.add(new a.DisposableStore);const E=g?.telemetrySource;E&&this._store.add(this.actionBar.onDidRun(T=>I.publicLog2("workbenchActionExecuted",{id:T.action.id,from:E})))}setActions(o,g=[],c){var f,_,S;this._sessionDisposables.clear();const I=o.slice(),E=g.slice(),T=[];let N=0;const A=[];let O=!1;if(((f=this._options)===null||f===void 0?void 0:f.hiddenItemStrategy)!==-1)for(let M=0;M<I.length;M++){const P=I[M];!(P instanceof t.MenuItemAction)&&!(P instanceof t.SubmenuItemAction)||P.hideActions&&(T.push(P.hideActions.toggle),P.hideActions.toggle.checked&&N++,P.hideActions.isHidden&&(O=!0,I[M]=void 0,((_=this._options)===null||_===void 0?void 0:_.hiddenItemStrategy)!==0&&(A[M]=P)))}if(((S=this._options)===null||S===void 0?void 0:S.overflowBehavior)!==void 0){const M=(0,p.intersection)(new Set(this._options.overflowBehavior.exempted),b.Iterable.map(I,R=>R?.id)),P=this._options.overflowBehavior.maxItems-M.size;let x=0;for(let R=0;R<I.length;R++){const B=I[R];B&&(x++,!M.has(B.id)&&x>=P&&(I[R]=void 0,A[R]=B))}}(0,y.coalesceInPlace)(I),(0,y.coalesceInPlace)(A),super.setActions(I,L.Separator.join(A,E)),T.length>0&&this._sessionDisposables.add((0,m.addDisposableListener)(this.getElement(),"contextmenu",M=>{var P,x,R,B,H;const V=new k.StandardMouseEvent((0,m.getWindow)(this.getElement()),M),q=this.getItemAction(V.target);if(!q)return;V.preventDefault(),V.stopPropagation();let K=!1;if(N===1&&((P=this._options)===null||P===void 0?void 0:P.hiddenItemStrategy)===0){K=!0;for(let se=0;se<T.length;se++)if(T[se].checked){T[se]=(0,L.toAction)({id:q.id,label:q.label,checked:!0,enabled:!1,run(){}});break}}let U;if(!K&&(q instanceof t.MenuItemAction||q instanceof t.SubmenuItemAction)){if(!q.hideActions)return;U=q.hideActions.hide}else U=(0,L.toAction)({id:"label",label:(0,s.localize)(0,null),enabled:!1,run(){}});const $=L.Separator.join([U],T);!((x=this._options)===null||x===void 0)&&x.resetMenu&&!c&&(c=[this._options.resetMenu]),O&&c&&($.push(new L.Separator),$.push((0,L.toAction)({id:"resetThisMenu",label:(0,s.localize)(1,null),run:()=>this._menuService.resetHiddenStates(c)}))),this._contextMenuService.showContextMenu({getAnchor:()=>V,getActions:()=>$,menuId:(R=this._options)===null||R===void 0?void 0:R.contextMenu,menuActionOptions:{renderShortTitle:!0,...(B=this._options)===null||B===void 0?void 0:B.menuOptions},skipTelemetry:typeof((H=this._options)===null||H===void 0?void 0:H.telemetrySource)=="string",contextKeyService:this._contextKeyService})}))}};e.WorkbenchToolBar=d,e.WorkbenchToolBar=d=Ie([he(2,t.IMenuService),he(3,n.IContextKeyService),he(4,h.IContextMenuService),he(5,v.IKeybindingService),he(6,u.ITelemetryService)],d);let r=class extends d{constructor(o,g,c,f,_,S,I,E){super(o,{resetMenu:g,...c},f,_,S,I,E),this._onDidChangeMenuItems=this._store.add(new C.Emitter),this.onDidChangeMenuItems=this._onDidChangeMenuItems.event;const T=this._store.add(f.createMenu(g,_,{emitEventsForSubmenuChanges:!0})),N=()=>{var A,O,M;const P=[],x=[];(0,i.createAndFillInActionBarActions)(T,c?.menuOptions,{primary:P,secondary:x},(A=c?.toolbarOptions)===null||A===void 0?void 0:A.primaryGroup,(O=c?.toolbarOptions)===null||O===void 0?void 0:O.shouldInlineSubmenu,(M=c?.toolbarOptions)===null||M===void 0?void 0:M.useSeparatorsInPrimaryActions),o.classList.toggle("has-no-actions",P.length===0&&x.length===0),super.setActions(P,x)};this._store.add(T.onDidChange(()=>{N(),this._onDidChangeMenuItems.fire(this)})),N()}setActions(){throw new w.BugIndicatingError("This toolbar is populated from a menu.")}};e.MenuWorkbenchToolBar=r,e.MenuWorkbenchToolBar=r=Ie([he(3,t.IMenuService),he(4,n.IContextKeyService),he(5,h.IContextMenuService),he(6,v.IKeybindingService),he(7,u.ITelemetryService)],r)}),define(te[918],ie([1,0,6,2,32,82,636,331,60,64,5,123,100,552,206,28,14,202,8]),function(J,e,m,k,D,L,y,p,w,C,b,a,s,i,t,n,h,v,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffEditorGutter=void 0;const d=[],r=35;let l=class extends k.Disposable{constructor(f,_,S,I,E,T){super(),this._diffModel=_,this._editors=S,this._instantiationService=I,this._contextKeyService=E,this._menuService=T,this._menu=this._register(this._menuService.createMenu(n.MenuId.DiffEditorHunkToolbar,this._contextKeyService)),this._actions=(0,D.observableFromEvent)(this._menu.onDidChange,()=>this._menu.getActions()),this._hasActions=this._actions.map(N=>N.length>0),this.width=(0,D.derived)(this,N=>this._hasActions.read(N)?r:0),this.elements=(0,m.h)("div.gutter@gutter",{style:{position:"absolute",height:"100%",width:r+"px",zIndex:"0"}},[]),this._currentDiff=(0,D.derived)(this,N=>{var A;const O=this._diffModel.read(N);if(!O)return;const M=(A=O.diff.read(N))===null||A===void 0?void 0:A.mappings,P=this._editors.modifiedCursor.read(N);if(P)return M?.find(x=>x.lineRangeMapping.modified.contains(P.lineNumber))}),this._selectedDiffs=(0,D.derived)(this,N=>{const A=this._diffModel.read(N),O=A?.diff.read(N);if(!O)return d;const M=this._editors.modifiedSelections.read(N);if(M.every(B=>B.isEmpty()))return d;const P=new w.LineRangeSet(M.map(B=>w.LineRange.fromRangeInclusive(B))),R=O.mappings.filter(B=>B.lineRangeMapping.innerChanges&&P.intersects(B.lineRangeMapping.modified)).map(B=>({mapping:B,rangeMappings:B.lineRangeMapping.innerChanges.filter(H=>M.some(V=>b.Range.areIntersecting(H.modifiedRange,V)))}));return R.length===0||R.every(B=>B.rangeMappings.length===0)?d:R}),this._register((0,L.appendRemoveOnDispose)(f,this.elements.root)),this._register((0,m.addDisposableListener)(this.elements.root,"click",()=>{this._editors.modified.focus()})),this._register((0,L.applyStyle)(this.elements.root,{display:this._hasActions.map(N=>N?"block":"none")})),this._register(new y.EditorGutter(this._editors.modified,this.elements.root,{getIntersectingGutterItems:(N,A)=>{const O=this._diffModel.read(A);if(!O)return[];const M=O.diff.read(A);if(!M)return[];const P=this._selectedDiffs.read(A);if(P.length>0){const R=s.DetailedLineRangeMapping.fromRangeMappings(P.flatMap(B=>B.rangeMappings));return[new o(R,!0,n.MenuId.DiffEditorSelectionToolbar,void 0)]}const x=this._currentDiff.read(A);return M.mappings.map(R=>new o(R.lineRangeMapping,R.lineRangeMapping===x?.lineRangeMapping,n.MenuId.DiffEditorHunkToolbar,void 0))},createView:(N,A)=>this._instantiationService.createInstance(g,N,A,this)})),this._register((0,m.addDisposableListener)(this.elements.gutter,m.EventType.MOUSE_WHEEL,N=>{this._editors.modified.getOption(103).handleMouseWheel||this._editors.modified.delegateScrollFromMouseWheelEvent(N)},{passive:!1}))}computeStagedValue(f){var _;const S=(_=f.innerChanges)!==null&&_!==void 0?_:[];return new a.TextEdit(S.map(T=>new a.SingleTextEdit(T.originalRange,this._editors.modifiedModel.get().getValueInRange(T.modifiedRange)))).apply(new i.TextModelText(this._editors.original.getModel()))}layout(f){this.elements.gutter.style.left=f+"px"}};e.DiffEditorGutter=l,e.DiffEditorGutter=l=Ie([he(3,u.IInstantiationService),he(4,h.IContextKeyService),he(5,n.IMenuService)],l);class o{constructor(f,_,S,I){this.mapping=f,this.showAlways=_,this.menuId=S,this.rangeOverride=I}get id(){return this.mapping.modified.toString()}get range(){var f;return(f=this.rangeOverride)!==null&&f!==void 0?f:this.mapping.modified}}let g=class extends k.Disposable{constructor(f,_,S,I){super(),this._item=f,this._elements=(0,m.h)("div.gutterItem",{style:{height:"20px",width:"34px"}},[(0,m.h)("div.background@background",{},[]),(0,m.h)("div.buttons@buttons",{},[])]),this._showAlways=this._item.map(this,T=>T.showAlways),this._menuId=this._item.map(this,T=>T.menuId),this._isSmall=(0,D.observableValue)(this,!1),this._lastItemRange=void 0,this._lastViewRange=void 0;const E=this._register(I.createInstance(v.WorkbenchHoverDelegate,"element",!0,{position:{hoverPosition:1}}));this._register((0,L.appendRemoveOnDispose)(_,this._elements.root)),this._register((0,D.autorun)(T=>{const N=this._showAlways.read(T);this._elements.root.classList.toggle("noTransition",!0),this._elements.root.classList.toggle("showAlways",N),setTimeout(()=>{this._elements.root.classList.toggle("noTransition",!1)},0)})),this._register((0,D.autorunWithStore)((T,N)=>{this._elements.buttons.replaceChildren();const A=N.add(I.createInstance(t.MenuWorkbenchToolBar,this._elements.buttons,this._menuId.read(T),{orientation:1,hoverDelegate:E,toolbarOptions:{primaryGroup:O=>O.startsWith("primary")},overflowBehavior:{maxItems:this._isSmall.read(T)?1:3},hiddenItemStrategy:0,actionRunner:new p.ActionRunnerWithContext(()=>{const O=this._item.get().mapping;return{mapping:O,originalWithModifiedChanges:S.computeStagedValue(O)}}),menuOptions:{shouldForwardArgs:!0}}));N.add(A.onDidChangeMenuItems(()=>{this._lastItemRange&&this.layout(this._lastItemRange,this._lastViewRange)}))}))}layout(f,_){this._lastItemRange=f,this._lastViewRange=_;let S=this._elements.buttons.clientHeight;this._isSmall.set(this._item.get().mapping.original.startLineNumber===1&&f.length<30,void 0),S=this._elements.buttons.clientHeight,this._elements.root.style.top=f.start+"px",this._elements.root.style.height=f.length+"px";const I=f.length/2-S/2,E=S;let T=f.start+I;const N=C.OffsetRange.tryCreate(E,_.endExclusive-E-S),A=C.OffsetRange.tryCreate(f.start+E,f.endExclusive-S-E);A&&N&&A.start<A.endExclusive&&(T=N.clip(T),T=A.clip(T)),this._elements.buttons.style.top=`${T-f.start}px`}};g=Ie([he(3,u.IInstantiationService)],g)}),define(te[273],ie([1,0,6,146,198,41,13,15,26,2,32,17,30,9,29,232,726,117,206,28,27,14,58,8,35,65,85,489]),function(J,e,m,k,D,L,y,p,w,C,b,a,s,i,t,n,h,v,u,d,r,l,o,g,c,f,_){"use strict";var S;Object.defineProperty(e,"__esModule",{value:!0}),e.CustomizedMenuWorkbenchToolBar=e.InlineSuggestionHintsContentWidget=e.InlineCompletionsHintsWidget=void 0;let I=class extends C.Disposable{constructor(x,R,B){super(),this.editor=x,this.model=R,this.instantiationService=B,this.alwaysShowToolbar=(0,b.observableFromEvent)(this.editor.onDidChangeConfiguration,()=>this.editor.getOption(62).showToolbar==="always"),this.sessionPosition=void 0,this.position=(0,b.derived)(this,H=>{var V,q,K;const U=(V=this.model.read(H))===null||V===void 0?void 0:V.primaryGhostText.read(H);if(!this.alwaysShowToolbar.read(H)||!U||U.parts.length===0)return this.sessionPosition=void 0,null;const $=U.parts[0].column;this.sessionPosition&&this.sessionPosition.lineNumber!==U.lineNumber&&(this.sessionPosition=void 0);const se=new i.Position(U.lineNumber,Math.min($,(K=(q=this.sessionPosition)===null||q===void 0?void 0:q.column)!==null&&K!==void 0?K:Number.MAX_SAFE_INTEGER));return this.sessionPosition=se,se}),this._register((0,b.autorunWithStore)((H,V)=>{const q=this.model.read(H);if(!q||!this.alwaysShowToolbar.read(H))return;const K=V.add(this.instantiationService.createInstance(N,this.editor,!0,this.position,q.selectedInlineCompletionIndex,q.inlineCompletionsCount,q.selectedInlineCompletion.map(U=>{var $;return($=U?.inlineCompletion.source.inlineCompletions.commands)!==null&&$!==void 0?$:[]})));x.addContentWidget(K),V.add((0,C.toDisposable)(()=>x.removeContentWidget(K))),V.add((0,b.autorun)(U=>{this.position.read(U)&&q.lastTriggerKind.read(U)!==t.InlineCompletionTriggerKind.Explicit&&q.triggerExplicitly()}))}))}};e.InlineCompletionsHintsWidget=I,e.InlineCompletionsHintsWidget=I=Ie([he(2,g.IInstantiationService)],I);const E=(0,_.registerIcon)("inline-suggestion-hints-next",w.Codicon.chevronRight,(0,h.localize)(0,null)),T=(0,_.registerIcon)("inline-suggestion-hints-previous",w.Codicon.chevronLeft,(0,h.localize)(1,null));let N=S=class extends C.Disposable{static get dropDownVisible(){return this._dropDownVisible}createCommandAction(x,R,B){const H=new L.Action(x,R,B,!0,()=>this._commandService.executeCommand(x)),V=this.keybindingService.lookupKeybinding(x,this._contextKeyService);let q=R;return V&&(q=(0,h.localize)(2,null,R,V.getLabel())),H.tooltip=q,H}constructor(x,R,B,H,V,q,K,U,$,se,F){super(),this.editor=x,this.withBorder=R,this._position=B,this._currentSuggestionIdx=H,this._suggestionCount=V,this._extraCommands=q,this._commandService=K,this.keybindingService=$,this._contextKeyService=se,this._menuService=F,this.id=`InlineSuggestionHintsContentWidget${S.id++}`,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this.nodes=(0,m.h)("div.inlineSuggestionsHints",{className:this.withBorder?".withBorder":""},[(0,m.h)("div@toolBar")]),this.previousAction=this.createCommandAction(n.showPreviousInlineSuggestionActionId,(0,h.localize)(3,null),s.ThemeIcon.asClassName(T)),this.availableSuggestionCountAction=new L.Action("inlineSuggestionHints.availableSuggestionCount","",void 0,!1),this.nextAction=this.createCommandAction(n.showNextInlineSuggestionActionId,(0,h.localize)(4,null),s.ThemeIcon.asClassName(E)),this.inlineCompletionsActionsMenus=this._register(this._menuService.createMenu(d.MenuId.InlineCompletionsActions,this._contextKeyService)),this.clearAvailableSuggestionCountLabelDebounced=this._register(new p.RunOnceScheduler(()=>{this.availableSuggestionCountAction.label=""},100)),this.disableButtonsDebounced=this._register(new p.RunOnceScheduler(()=>{this.previousAction.enabled=this.nextAction.enabled=!1},100)),this.lastCommands=[],this.toolBar=this._register(U.createInstance(M,this.nodes.toolBar,d.MenuId.InlineSuggestionToolbar,{menuOptions:{renderShortTitle:!0},toolbarOptions:{primaryGroup:X=>X.startsWith("primary")},actionViewItemProvider:(X,Q)=>{if(X instanceof d.MenuItemAction)return U.createInstance(O,X,void 0);if(X===this.availableSuggestionCountAction){const Z=new A(void 0,X,{label:!0,icon:!1});return Z.setClass("availableSuggestionCount"),Z}},telemetrySource:"InlineSuggestionToolbar"})),this.toolBar.setPrependedPrimaryActions([this.previousAction,this.availableSuggestionCountAction,this.nextAction]),this._register(this.toolBar.onDidChangeDropdownVisibility(X=>{S._dropDownVisible=X})),this._register((0,b.autorun)(X=>{this._position.read(X),this.editor.layoutContentWidget(this)})),this._register((0,b.autorun)(X=>{const Q=this._suggestionCount.read(X),Z=this._currentSuggestionIdx.read(X);Q!==void 0?(this.clearAvailableSuggestionCountLabelDebounced.cancel(),this.availableSuggestionCountAction.label=`${Z+1}/${Q}`):this.clearAvailableSuggestionCountLabelDebounced.schedule(),Q!==void 0&&Q>1?(this.disableButtonsDebounced.cancel(),this.previousAction.enabled=this.nextAction.enabled=!0):this.disableButtonsDebounced.schedule()})),this._register((0,b.autorun)(X=>{const Q=this._extraCommands.read(X);if((0,y.equals)(this.lastCommands,Q))return;this.lastCommands=Q;const Z=Q.map(ae=>({class:void 0,id:ae.id,enabled:!0,tooltip:ae.tooltip||"",label:ae.title,run:ue=>this._commandService.executeCommand(ae.id)}));for(const[ae,ue]of this.inlineCompletionsActionsMenus.getActions())for(const ge of ue)ge instanceof d.MenuItemAction&&Z.push(ge);Z.length>0&&Z.unshift(new L.Separator),this.toolBar.setAdditionalSecondaryActions(Z)}))}getId(){return this.id}getDomNode(){return this.nodes.root}getPosition(){return{position:this._position.get(),preference:[1,2],positionAffinity:3}}};e.InlineSuggestionHintsContentWidget=N,N._dropDownVisible=!1,N.id=0,e.InlineSuggestionHintsContentWidget=N=S=Ie([he(6,r.ICommandService),he(7,g.IInstantiationService),he(8,c.IKeybindingService),he(9,l.IContextKeyService),he(10,d.IMenuService)],N);class A extends k.ActionViewItem{constructor(){super(...arguments),this._className=void 0}setClass(x){this._className=x}render(x){super.render(x),this._className&&x.classList.add(this._className)}updateTooltip(){}}class O extends v.MenuEntryActionViewItem{updateLabel(){const x=this._keybindingService.lookupKeybinding(this._action.id,this._contextKeyService);if(!x)return super.updateLabel();if(this.label){const R=(0,m.h)("div.keybinding").root;this._register(new D.KeybindingLabel(R,a.OS,{disableTitle:!0,...D.unthemedKeybindingLabelOptions})).set(x),this.label.textContent=this._action.label,this.label.appendChild(R),this.label.classList.add("inlineSuggestionStatusBarItemLabel")}}updateTooltip(){}}let M=class extends u.WorkbenchToolBar{constructor(x,R,B,H,V,q,K,U){super(x,{resetMenu:R,...B},H,V,q,K,U),this.menuId=R,this.options2=B,this.menuService=H,this.contextKeyService=V,this.menu=this._store.add(this.menuService.createMenu(this.menuId,this.contextKeyService,{emitEventsForSubmenuChanges:!0})),this.additionalActions=[],this.prependedPrimaryActions=[],this._store.add(this.menu.onDidChange(()=>this.updateToolbar())),this.updateToolbar()}updateToolbar(){var x,R,B,H,V,q,K;const U=[],$=[];(0,v.createAndFillInActionBarActions)(this.menu,(x=this.options2)===null||x===void 0?void 0:x.menuOptions,{primary:U,secondary:$},(B=(R=this.options2)===null||R===void 0?void 0:R.toolbarOptions)===null||B===void 0?void 0:B.primaryGroup,(V=(H=this.options2)===null||H===void 0?void 0:H.toolbarOptions)===null||V===void 0?void 0:V.shouldInlineSubmenu,(K=(q=this.options2)===null||q===void 0?void 0:q.toolbarOptions)===null||K===void 0?void 0:K.useSeparatorsInPrimaryActions),$.push(...this.additionalActions),U.unshift(...this.prependedPrimaryActions),this.setActions(U,$)}setPrependedPrimaryActions(x){(0,y.equals)(this.prependedPrimaryActions,x,(R,B)=>R===B)||(this.prependedPrimaryActions=x,this.updateToolbar())}setAdditionalSecondaryActions(x){(0,y.equals)(this.additionalActions,x,(R,B)=>R===B)||(this.additionalActions=x,this.updateToolbar())}};e.CustomizedMenuWorkbenchToolBar=M,e.CustomizedMenuWorkbenchToolBar=M=Ie([he(3,d.IMenuService),he(4,l.IContextKeyService),he(5,o.IContextMenuService),he(6,c.IKeybindingService),he(7,f.ITelemetryService)],M)}),define(te[392],ie([1,0,6,198,41,13,2,32,17,9,117,206,28,14,58,8,35,65,491]),function(J,e,m,k,D,L,y,p,w,C,b,a,s,i,t,n,h,v){"use strict";var u;Object.defineProperty(e,"__esModule",{value:!0}),e.CustomizedMenuWorkbenchToolBar=e.InlineEditHintsContentWidget=e.InlineEditHintsWidget=void 0;let d=class extends y.Disposable{constructor(c,f,_){super(),this.editor=c,this.model=f,this.instantiationService=_,this.alwaysShowToolbar=(0,p.observableFromEvent)(this.editor.onDidChangeConfiguration,()=>this.editor.getOption(63).showToolbar==="always"),this.sessionPosition=void 0,this.position=(0,p.derived)(this,S=>{var I,E,T;const N=(I=this.model.read(S))===null||I===void 0?void 0:I.widget.model.ghostText.read(S);if(!this.alwaysShowToolbar.read(S)||!N||N.parts.length===0)return this.sessionPosition=void 0,null;const A=N.parts[0].column;this.sessionPosition&&this.sessionPosition.lineNumber!==N.lineNumber&&(this.sessionPosition=void 0);const O=new C.Position(N.lineNumber,Math.min(A,(T=(E=this.sessionPosition)===null||E===void 0?void 0:E.column)!==null&&T!==void 0?T:Number.MAX_SAFE_INTEGER));return this.sessionPosition=O,O}),this._register((0,p.autorunWithStore)((S,I)=>{if(!this.model.read(S)||!this.alwaysShowToolbar.read(S))return;const T=I.add(this.instantiationService.createInstance(r,this.editor,!0,this.position));c.addContentWidget(T),I.add((0,y.toDisposable)(()=>c.removeContentWidget(T)))}))}};e.InlineEditHintsWidget=d,e.InlineEditHintsWidget=d=Ie([he(2,n.IInstantiationService)],d);let r=u=class extends y.Disposable{constructor(c,f,_,S,I,E){super(),this.editor=c,this.withBorder=f,this._position=_,this._contextKeyService=I,this._menuService=E,this.id=`InlineEditHintsContentWidget${u.id++}`,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this.nodes=(0,m.h)("div.inlineEditHints",{className:this.withBorder?".withBorder":""},[(0,m.h)("div@toolBar")]),this.inlineCompletionsActionsMenus=this._register(this._menuService.createMenu(s.MenuId.InlineEditActions,this._contextKeyService)),this.toolBar=this._register(S.createInstance(o,this.nodes.toolBar,this.editor,s.MenuId.InlineEditToolbar,{menuOptions:{renderShortTitle:!0},toolbarOptions:{primaryGroup:T=>T.startsWith("primary")},actionViewItemProvider:(T,N)=>{if(T instanceof s.MenuItemAction)return S.createInstance(l,T,void 0)},telemetrySource:"InlineEditToolbar"})),this._register(this.toolBar.onDidChangeDropdownVisibility(T=>{u._dropDownVisible=T})),this._register((0,p.autorun)(T=>{this._position.read(T),this.editor.layoutContentWidget(this)})),this._register((0,p.autorun)(T=>{const N=[];for(const[A,O]of this.inlineCompletionsActionsMenus.getActions())for(const M of O)M instanceof s.MenuItemAction&&N.push(M);N.length>0&&N.unshift(new D.Separator),this.toolBar.setAdditionalSecondaryActions(N)}))}getId(){return this.id}getDomNode(){return this.nodes.root}getPosition(){return{position:this._position.get(),preference:[1,2],positionAffinity:3}}};e.InlineEditHintsContentWidget=r,r._dropDownVisible=!1,r.id=0,e.InlineEditHintsContentWidget=r=u=Ie([he(3,n.IInstantiationService),he(4,i.IContextKeyService),he(5,s.IMenuService)],r);class l extends b.MenuEntryActionViewItem{updateLabel(){const c=this._keybindingService.lookupKeybinding(this._action.id,this._contextKeyService);if(!c)return super.updateLabel();if(this.label){const f=(0,m.h)("div.keybinding").root;this._register(new k.KeybindingLabel(f,w.OS,{disableTitle:!0,...k.unthemedKeybindingLabelOptions})).set(c),this.label.textContent=this._action.label,this.label.appendChild(f),this.label.classList.add("inlineEditStatusBarItemLabel")}}updateTooltip(){}}let o=class extends a.WorkbenchToolBar{constructor(c,f,_,S,I,E,T,N,A){super(c,{resetMenu:_,...S},I,E,T,N,A),this.editor=f,this.menuId=_,this.options2=S,this.menuService=I,this.contextKeyService=E,this.menu=this._store.add(this.menuService.createMenu(this.menuId,this.contextKeyService,{emitEventsForSubmenuChanges:!0})),this.additionalActions=[],this.prependedPrimaryActions=[],this._store.add(this.menu.onDidChange(()=>this.updateToolbar())),this._store.add(this.editor.onDidChangeCursorPosition(()=>this.updateToolbar())),this.updateToolbar()}updateToolbar(){var c,f,_,S,I,E,T;const N=[],A=[];(0,b.createAndFillInActionBarActions)(this.menu,(c=this.options2)===null||c===void 0?void 0:c.menuOptions,{primary:N,secondary:A},(_=(f=this.options2)===null||f===void 0?void 0:f.toolbarOptions)===null||_===void 0?void 0:_.primaryGroup,(I=(S=this.options2)===null||S===void 0?void 0:S.toolbarOptions)===null||I===void 0?void 0:I.shouldInlineSubmenu,(T=(E=this.options2)===null||E===void 0?void 0:E.toolbarOptions)===null||T===void 0?void 0:T.useSeparatorsInPrimaryActions),A.push(...this.additionalActions),N.unshift(...this.prependedPrimaryActions),this.setActions(N,A)}setAdditionalSecondaryActions(c){(0,L.equals)(this.additionalActions,c,(f,_)=>f===_)||(this.additionalActions=c,this.updateToolbar())}};e.CustomizedMenuWorkbenchToolBar=o,e.CustomizedMenuWorkbenchToolBar=o=Ie([he(4,s.IMenuService),he(5,i.IContextKeyService),he(6,t.IContextMenuService),he(7,h.IKeybindingService),he(8,v.ITelemetryService)],o)}),define(te[274],ie([1,0,2,32,71,9,5,803,14,8,29,18,20,195,27,392,6,25,12]),function(J,e,m,k,D,L,y,p,w,C,b,a,s,i,t,n,h,v,u){"use strict";var d;Object.defineProperty(e,"__esModule",{value:!0}),e.InlineEditController=e.InlineEditWidget=void 0;class r{constructor(c,f){this.widget=c,this.edit=f}dispose(){this.widget.dispose()}}e.InlineEditWidget=r;let l=d=class extends m.Disposable{static get(c){return c.getContribution(d.ID)}constructor(c,f,_,S,I,E){super(),this.editor=c,this.instantiationService=f,this.contextKeyService=_,this.languageFeaturesService=S,this._commandService=I,this._configurationService=E,this._isVisibleContext=d.inlineEditVisibleContext.bindTo(this.contextKeyService),this._isCursorAtInlineEditContext=d.cursorAtInlineEditContext.bindTo(this.contextKeyService),this._currentEdit=this._register((0,k.disposableObservableValue)(this,void 0)),this._isAccepting=(0,k.observableValue)(this,!1),this._enabled=(0,k.observableFromEvent)(this.editor.onDidChangeConfiguration,()=>this.editor.getOption(63).enabled),this._fontFamily=(0,k.observableFromEvent)(this.editor.onDidChangeConfiguration,()=>this.editor.getOption(63).fontFamily),this._backgroundColoring=(0,k.observableFromEvent)(this.editor.onDidChangeConfiguration,()=>this.editor.getOption(63).backgroundColoring);const T=(0,k.observableSignalFromEvent)("InlineEditController.modelContentChangedSignal",c.onDidChangeModelContent);this._register((0,k.autorun)(P=>{this._enabled.read(P)&&(T.read(P),!this._isAccepting.read(P)&&this.getInlineEdit(c,!0))}));const N=(0,k.observableFromEvent)(c.onDidChangeCursorPosition,()=>c.getPosition());this._register((0,k.autorun)(P=>{if(!this._enabled.read(P))return;const x=N.read(P);x&&this.checkCursorPosition(x)})),this._register((0,k.autorun)(P=>{const x=this._currentEdit.read(P);if(this._isCursorAtInlineEditContext.set(!1),!x){this._isVisibleContext.set(!1);return}this._isVisibleContext.set(!0);const R=c.getPosition();R&&this.checkCursorPosition(R)}));const A=(0,k.observableSignalFromEvent)("InlineEditController.editorBlurSignal",c.onDidBlurEditorWidget);this._register((0,k.autorun)(async P=>{var x;this._enabled.read(P)&&(A.read(P),!(this._configurationService.getValue("editor.experimentalInlineEdit.keepOnBlur")||c.getOption(63).keepOnBlur)&&((x=this._currentRequestCts)===null||x===void 0||x.dispose(!0),this._currentRequestCts=void 0,await this.clear(!1)))}));const O=(0,k.observableSignalFromEvent)("InlineEditController.editorFocusSignal",c.onDidFocusEditorText);this._register((0,k.autorun)(P=>{this._enabled.read(P)&&(O.read(P),this.getInlineEdit(c,!0))}));const M=this._register((0,h.createStyleSheet2)());this._register((0,k.autorun)(P=>{const x=this._fontFamily.read(P);M.setStyle(x===""||x==="default"?"":`
.monaco-editor .inline-edit-decoration,
.monaco-editor .inline-edit-decoration-preview,
.monaco-editor .inline-edit {
	font-family: ${x};
}`)})),this._register(new n.InlineEditHintsWidget(this.editor,this._currentEdit,this.instantiationService))}checkCursorPosition(c){var f;if(!this._currentEdit){this._isCursorAtInlineEditContext.set(!1);return}const _=(f=this._currentEdit.get())===null||f===void 0?void 0:f.edit;if(!_){this._isCursorAtInlineEditContext.set(!1);return}this._isCursorAtInlineEditContext.set(y.Range.containsPosition(_.range,c))}validateInlineEdit(c,f){var _,S;if(f.text.includes(`
`)&&f.range.startLineNumber!==f.range.endLineNumber&&f.range.startColumn!==f.range.endColumn){if(f.range.startColumn!==1)return!1;const E=f.range.endLineNumber,T=f.range.endColumn,N=(S=(_=c.getModel())===null||_===void 0?void 0:_.getLineLength(E))!==null&&S!==void 0?S:0;if(T!==N+1)return!1}return!0}async fetchInlineEdit(c,f){this._currentRequestCts&&this._currentRequestCts.dispose(!0);const _=c.getModel();if(!_)return;const S=_.getVersionId(),I=this.languageFeaturesService.inlineEditProvider.all(_);if(I.length===0)return;const E=I[0];this._currentRequestCts=new s.CancellationTokenSource;const T=this._currentRequestCts.token,N=f?b.InlineEditTriggerKind.Automatic:b.InlineEditTriggerKind.Invoke;if(f&&await o(50,T),T.isCancellationRequested||_.isDisposed()||_.getVersionId()!==S)return;const O=await E.provideInlineEdit(_,{triggerKind:N},T);if(O&&!(T.isCancellationRequested||_.isDisposed()||_.getVersionId()!==S)&&this.validateInlineEdit(c,O))return O}async getInlineEdit(c,f){var _;this._isCursorAtInlineEditContext.set(!1),await this.clear();const S=await this.fetchInlineEdit(c,f);if(!S)return;const I=S.range.endLineNumber,E=S.range.endColumn,T=new i.GhostText(I,[new i.GhostTextPart(E,S.text,!1)]),N=this.instantiationService.createInstance(p.GhostTextWidget,this.editor,{ghostText:(0,k.constObservable)(T),minReservedLineCount:(0,k.constObservable)(0),targetTextModel:(0,k.constObservable)((_=this.editor.getModel())!==null&&_!==void 0?_:void 0),range:(0,k.constObservable)(S.range),backgroundColoring:this._backgroundColoring});this._currentEdit.set(new r(N,S),void 0)}async trigger(){await this.getInlineEdit(this.editor,!1)}async jumpBack(){this._jumpBackPosition&&(this.editor.setPosition(this._jumpBackPosition),this.editor.revealPositionInCenterIfOutsideViewport(this._jumpBackPosition))}async accept(){var c;this._isAccepting.set(!0,void 0);const f=(c=this._currentEdit.get())===null||c===void 0?void 0:c.edit;if(!f)return;let _=f.text;f.text.startsWith(`
`)&&(_=f.text.substring(1)),this.editor.pushUndoStop(),this.editor.executeEdits("acceptCurrent",[D.EditOperation.replace(y.Range.lift(f.range),_)]),f.accepted&&await this._commandService.executeCommand(f.accepted.id,...f.accepted.arguments||[]).then(void 0,u.onUnexpectedExternalError),this.freeEdit(f),(0,k.transaction)(S=>{this._currentEdit.set(void 0,S),this._isAccepting.set(!1,S)})}jumpToCurrent(){var c,f;this._jumpBackPosition=(c=this.editor.getSelection())===null||c===void 0?void 0:c.getStartPosition();const _=(f=this._currentEdit.get())===null||f===void 0?void 0:f.edit;if(!_)return;const S=L.Position.lift({lineNumber:_.range.startLineNumber,column:_.range.startColumn});this.editor.setPosition(S),this.editor.revealPositionInCenterIfOutsideViewport(S)}async clear(c=!0){var f;const _=(f=this._currentEdit.get())===null||f===void 0?void 0:f.edit;_&&_?.rejected&&c&&await this._commandService.executeCommand(_.rejected.id,..._.rejected.arguments||[]).then(void 0,u.onUnexpectedExternalError),_&&this.freeEdit(_),this._currentEdit.set(void 0,void 0)}freeEdit(c){const f=this.editor.getModel();if(!f)return;const _=this.languageFeaturesService.inlineEditProvider.all(f);_.length!==0&&_[0].freeInlineEdit(c)}shouldShowHoverAt(c){const f=this._currentEdit.get();if(!f)return!1;const _=f.edit,S=f.widget.model;if(y.Range.containsPosition(_.range,c.getStartPosition())||y.Range.containsPosition(_.range,c.getEndPosition()))return!0;const E=S.ghostText.get();return E?E.parts.some(T=>c.containsPosition(new L.Position(E.lineNumber,T.column))):!1}shouldShowHoverAtViewZone(c){var f,_;return(_=(f=this._currentEdit.get())===null||f===void 0?void 0:f.widget.ownsViewZone(c))!==null&&_!==void 0?_:!1}};e.InlineEditController=l,l.ID="editor.contrib.inlineEditController",l.inlineEditVisibleKey="inlineEditVisible",l.inlineEditVisibleContext=new w.RawContextKey(d.inlineEditVisibleKey,!1),l.cursorAtInlineEditKey="cursorAtInlineEdit",l.cursorAtInlineEditContext=new w.RawContextKey(d.cursorAtInlineEditKey,!1),e.InlineEditController=l=d=Ie([he(1,C.IInstantiationService),he(2,w.IContextKeyService),he(3,a.ILanguageFeaturesService),he(4,t.ICommandService),he(5,v.IConfigurationService)],l);function o(g,c){return new Promise(f=>{let _;const S=setTimeout(()=>{_&&_.dispose(),f()},g);c&&(_=c.onCancellationRequested(()=>{clearTimeout(S),_&&_.dispose(),f()}))})}}),define(te[919],ie([1,0,16,19,586,274,28,14]),function(J,e,m,k,D,L,y,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RejectInlineEdit=e.JumpBackInlineEdit=e.JumpToInlineEdit=e.TriggerInlineEdit=e.AcceptInlineEdit=void 0;class w extends m.EditorAction{constructor(){super({id:D.inlineEditAcceptId,label:"Accept Inline Edit",alias:"Accept Inline Edit",precondition:p.ContextKeyExpr.and(k.EditorContextKeys.writable,L.InlineEditController.inlineEditVisibleContext),kbOpts:[{weight:101,primary:2,kbExpr:p.ContextKeyExpr.and(k.EditorContextKeys.writable,L.InlineEditController.inlineEditVisibleContext,L.InlineEditController.cursorAtInlineEditContext)}],menuOpts:[{menuId:y.MenuId.InlineEditToolbar,title:"Accept",group:"primary",order:1}]})}async run(t,n){const h=L.InlineEditController.get(n);await h?.accept()}}e.AcceptInlineEdit=w;class C extends m.EditorAction{constructor(){const t=p.ContextKeyExpr.and(k.EditorContextKeys.writable,p.ContextKeyExpr.not(L.InlineEditController.inlineEditVisibleKey));super({id:"editor.action.inlineEdit.trigger",label:"Trigger Inline Edit",alias:"Trigger Inline Edit",precondition:t,kbOpts:{weight:101,primary:2646,kbExpr:t}})}async run(t,n){const h=L.InlineEditController.get(n);h?.trigger()}}e.TriggerInlineEdit=C;class b extends m.EditorAction{constructor(){const t=p.ContextKeyExpr.and(k.EditorContextKeys.writable,L.InlineEditController.inlineEditVisibleContext,p.ContextKeyExpr.not(L.InlineEditController.cursorAtInlineEditKey));super({id:D.inlineEditJumpToId,label:"Jump to Inline Edit",alias:"Jump to Inline Edit",precondition:t,kbOpts:{weight:101,primary:2646,kbExpr:t},menuOpts:[{menuId:y.MenuId.InlineEditToolbar,title:"Jump To Edit",group:"primary",order:3,when:t}]})}async run(t,n){const h=L.InlineEditController.get(n);h?.jumpToCurrent()}}e.JumpToInlineEdit=b;class a extends m.EditorAction{constructor(){const t=p.ContextKeyExpr.and(k.EditorContextKeys.writable,L.InlineEditController.cursorAtInlineEditContext);super({id:D.inlineEditJumpBackId,label:"Jump Back from Inline Edit",alias:"Jump Back from Inline Edit",precondition:t,kbOpts:{weight:110,primary:2646,kbExpr:t},menuOpts:[{menuId:y.MenuId.InlineEditToolbar,title:"Jump Back",group:"primary",order:3,when:t}]})}async run(t,n){const h=L.InlineEditController.get(n);h?.jumpBack()}}e.JumpBackInlineEdit=a;class s extends m.EditorAction{constructor(){const t=p.ContextKeyExpr.and(k.EditorContextKeys.writable,L.InlineEditController.inlineEditVisibleContext);super({id:D.inlineEditRejectId,label:"Reject Inline Edit",alias:"Reject Inline Edit",precondition:t,kbOpts:{weight:100,primary:9,kbExpr:t},menuOpts:[{menuId:y.MenuId.InlineEditToolbar,title:"Reject",group:"secondary",order:2}]})}async run(t,n){const h=L.InlineEditController.get(n);await h?.clear()}}e.RejectInlineEdit=s}),define(te[920],ie([1,0,2,32,95,8,65,274,392]),function(J,e,m,k,D,L,y,p,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlineEditHoverParticipant=e.InlineEditHover=void 0;class C{constructor(s,i,t){this.owner=s,this.range=i,this.controller=t}isValidForHoverAnchor(s){return s.type===1&&this.range.startColumn<=s.range.startColumn&&this.range.endColumn>=s.range.endColumn}}e.InlineEditHover=C;let b=class{constructor(s,i,t){this._editor=s,this._instantiationService=i,this._telemetryService=t,this.hoverOrdinal=5}suggestHoverAnchor(s){const i=p.InlineEditController.get(this._editor);if(!i)return null;const t=s.target;if(t.type===8){const n=t.detail;if(i.shouldShowHoverAtViewZone(n.viewZoneId)){const h=t.range;return new D.HoverForeignElementAnchor(1e3,this,h,s.event.posx,s.event.posy,!1)}}return t.type===7&&i.shouldShowHoverAt(t.range)?new D.HoverForeignElementAnchor(1e3,this,t.range,s.event.posx,s.event.posy,!1):t.type===6&&t.detail.mightBeForeignElement&&i.shouldShowHoverAt(t.range)?new D.HoverForeignElementAnchor(1e3,this,t.range,s.event.posx,s.event.posy,!1):null}computeSync(s,i){if(this._editor.getOption(63).showToolbar!=="onHover")return[];const t=p.InlineEditController.get(this._editor);return t&&t.shouldShowHoverAt(s.range)?[new C(this,s.range,t)]:[]}renderHoverParts(s,i){const t=new m.DisposableStore;this._telemetryService.publicLog2("inlineEditHover.shown");const n=this._instantiationService.createInstance(w.InlineEditHintsContentWidget,this._editor,!1,(0,k.constObservable)(null));return s.fragment.appendChild(n.getDomNode()),t.add(n),t}};e.InlineEditHoverParticipant=b,e.InlineEditHoverParticipant=b=Ie([he(1,L.IInstantiationService),he(2,y.ITelemetryService)],b)}),define(te[921],ie([1,0,16,95,919,920,274]),function(J,e,m,k,D,L,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),(0,m.registerEditorAction)(D.AcceptInlineEdit),(0,m.registerEditorAction)(D.RejectInlineEdit),(0,m.registerEditorAction)(D.JumpToInlineEdit),(0,m.registerEditorAction)(D.JumpBackInlineEdit),(0,m.registerEditorAction)(D.TriggerInlineEdit),(0,m.registerEditorContribution)(y.InlineEditController.ID,y.InlineEditController,3),k.HoverParticipantRegistry.register(L.InlineEditHoverParticipant)}),define(te[922],ie([1,0,6,41,7,2,117,28,14,35,51,65,881,58]),function(J,e,m,k,D,L,y,p,w,C,b,a,s,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextMenuMenuDelegate=e.ContextMenuService=void 0;let t=class extends L.Disposable{get contextMenuHandler(){return this._contextMenuHandler||(this._contextMenuHandler=new s.ContextMenuHandler(this.contextViewService,this.telemetryService,this.notificationService,this.keybindingService)),this._contextMenuHandler}constructor(v,u,d,r,l,o){super(),this.telemetryService=v,this.notificationService=u,this.contextViewService=d,this.keybindingService=r,this.menuService=l,this.contextKeyService=o,this._contextMenuHandler=void 0,this._onDidShowContextMenu=this._store.add(new D.Emitter),this.onDidShowContextMenu=this._onDidShowContextMenu.event,this._onDidHideContextMenu=this._store.add(new D.Emitter)}configure(v){this.contextMenuHandler.configure(v)}showContextMenu(v){v=n.transform(v,this.menuService,this.contextKeyService),this.contextMenuHandler.showContextMenu({...v,onHide:u=>{var d;(d=v.onHide)===null||d===void 0||d.call(v,u),this._onDidHideContextMenu.fire()}}),m.ModifierKeyEmitter.getInstance().resetKeyStatus(),this._onDidShowContextMenu.fire()}};e.ContextMenuService=t,e.ContextMenuService=t=Ie([he(0,a.ITelemetryService),he(1,b.INotificationService),he(2,i.IContextViewService),he(3,C.IKeybindingService),he(4,p.IMenuService),he(5,w.IContextKeyService)],t);var n;(function(h){function v(d){return d&&d.menuId instanceof p.MenuId}function u(d,r,l){if(!v(d))return d;const{menuId:o,menuActionOptions:g,contextKeyService:c}=d;return{...d,getActions:()=>{const f=[];if(o){const _=r.createMenu(o,c??l);(0,y.createAndFillInContextMenuActions)(_,g,f),_.dispose()}return d.getActions?k.Separator.join(d.getActions(),f):f}}}h.transform=u})(n||(e.ContextMenuMenuDelegate=n={}))}),define(te[393],ie([1,0,6,7,779,8,205,23,2,48,17,118,246,198,81,93,22,369,99,136,418,11,167,15,12]),function(J,e,m,k,D,L,y,p,w,C,b,a,s,i,t,n,h,v,u,d,r,l,o,g,c){"use strict";var f;Object.defineProperty(e,"__esModule",{value:!0}),e.QuickInputTree=e.QuickInputListFocus=void 0;const _=m.$;var S;(function(q){q[q.First=1]="First",q[q.Second=2]="Second",q[q.Last=3]="Last",q[q.Next=4]="Next",q[q.Previous=5]="Previous",q[q.NextPage=6]="NextPage",q[q.PreviousPage=7]="PreviousPage",q[q.NextSeparator=8]="NextSeparator",q[q.PreviousSeparator=9]="PreviousSeparator"})(S||(e.QuickInputListFocus=S={}));class I{constructor(K,U,$){this.index=K,this.hasCheckbox=U,this._hidden=!1,this._init=new u.Lazy(()=>{var se;const F=(se=$.label)!==null&&se!==void 0?se:"",X=(0,d.parseLabelWithIcons)(F).text.trim(),Q=$.ariaLabel||[F,this.saneDescription,this.saneDetail].map(Z=>(0,d.getCodiconAriaLabel)(Z)).filter(Z=>!!Z).join(", ");return{saneLabel:F,saneSortLabel:X,saneAriaLabel:Q}})}get saneLabel(){return this._init.value.saneLabel}get saneSortLabel(){return this._init.value.saneSortLabel}get saneAriaLabel(){return this._init.value.saneAriaLabel}get element(){return this._element}set element(K){this._element=K}get hidden(){return this._hidden}set hidden(K){this._hidden=K}get saneDescription(){return this._saneDescription}set saneDescription(K){this._saneDescription=K}get saneDetail(){return this._saneDetail}set saneDetail(K){this._saneDetail=K}get saneTooltip(){return this._saneTooltip}set saneTooltip(K){this._saneTooltip=K}get labelHighlights(){return this._labelHighlights}set labelHighlights(K){this._labelHighlights=K}get descriptionHighlights(){return this._descriptionHighlights}set descriptionHighlights(K){this._descriptionHighlights=K}get detailHighlights(){return this._detailHighlights}set detailHighlights(K){this._detailHighlights=K}}class E extends I{constructor(K,U,$,se,F,X){var Q,Z,ae;super(K,U,F),this.fireButtonTriggered=$,this._onChecked=se,this.item=F,this._separator=X,this._checked=!1,this.onChecked=U?k.Event.map(k.Event.filter(this._onChecked.event,ue=>ue.element===this),ue=>ue.checked):k.Event.None,this._saneDescription=F.description,this._saneDetail=F.detail,this._saneTooltip=this.item.tooltip,this._labelHighlights=(Q=F.highlights)===null||Q===void 0?void 0:Q.label,this._descriptionHighlights=(Z=F.highlights)===null||Z===void 0?void 0:Z.description,this._detailHighlights=(ae=F.highlights)===null||ae===void 0?void 0:ae.detail}get separator(){return this._separator}set separator(K){this._separator=K}get checked(){return this._checked}set checked(K){K!==this._checked&&(this._checked=K,this._onChecked.fire({element:this,checked:K}))}get checkboxDisabled(){return!!this.item.disabled}}var T;(function(q){q[q.NONE=0]="NONE",q[q.MOUSE_HOVER=1]="MOUSE_HOVER",q[q.ACTIVE_ITEM=2]="ACTIVE_ITEM"})(T||(T={}));class N extends I{constructor(K,U,$){super(K,!1,$),this.fireSeparatorButtonTriggered=U,this.separator=$,this.children=new Array,this.focusInsideSeparator=T.NONE}}class A{getHeight(K){return K.item?K.saneDetail?44:22:24}getTemplateId(K){return K instanceof E?P.ID:x.ID}}class O{getWidgetAriaLabel(){return(0,D.localize)(0,null)}getAriaLabel(K){var U;return!((U=K.separator)===null||U===void 0)&&U.label?`${K.saneAriaLabel}, ${K.separator.label}`:K.saneAriaLabel}getWidgetRole(){return"listbox"}getRole(K){return K.hasCheckbox?"checkbox":"option"}isChecked(K){if(!(!K.hasCheckbox||!(K instanceof E)))return{value:K.checked,onDidChange:K.onChecked}}}class M{constructor(K){this.hoverDelegate=K}renderTemplate(K){const U=Object.create(null);U.toDisposeElement=new w.DisposableStore,U.toDisposeTemplate=new w.DisposableStore,U.entry=m.append(K,_(".quick-input-list-entry"));const $=m.append(U.entry,_("label.quick-input-list-label"));U.toDisposeTemplate.add(m.addStandardDisposableListener($,m.EventType.CLICK,ae=>{U.checkbox.offsetParent||ae.preventDefault()})),U.checkbox=m.append($,_("input.quick-input-list-checkbox")),U.checkbox.type="checkbox";const se=m.append($,_(".quick-input-list-rows")),F=m.append(se,_(".quick-input-list-row")),X=m.append(se,_(".quick-input-list-row"));U.label=new s.IconLabel(F,{supportHighlights:!0,supportDescriptionHighlights:!0,supportIcons:!0,hoverDelegate:this.hoverDelegate}),U.toDisposeTemplate.add(U.label),U.icon=m.prepend(U.label.element,_(".quick-input-list-icon"));const Q=m.append(F,_(".quick-input-list-entry-keybinding"));U.keybinding=new i.KeybindingLabel(Q,b.OS),U.toDisposeTemplate.add(U.keybinding);const Z=m.append(X,_(".quick-input-list-label-meta"));return U.detail=new s.IconLabel(Z,{supportHighlights:!0,supportIcons:!0,hoverDelegate:this.hoverDelegate}),U.toDisposeTemplate.add(U.detail),U.separator=m.append(U.entry,_(".quick-input-list-separator")),U.actionBar=new t.ActionBar(U.entry,this.hoverDelegate?{hoverDelegate:this.hoverDelegate}:void 0),U.actionBar.domNode.classList.add("quick-input-list-entry-action-bar"),U.toDisposeTemplate.add(U.actionBar),U}disposeTemplate(K){K.toDisposeElement.dispose(),K.toDisposeTemplate.dispose()}disposeElement(K,U,$){$.toDisposeElement.clear(),$.actionBar.clear()}}let P=f=class extends M{constructor(K,U){super(K),this.themeService=U,this._itemsWithSeparatorsFrequency=new Map}get templateId(){return f.ID}renderTemplate(K){const U=super.renderTemplate(K);return U.toDisposeTemplate.add(m.addStandardDisposableListener(U.checkbox,m.EventType.CHANGE,$=>{U.element.checked=U.checkbox.checked})),U}renderElement(K,U,$){var se,F,X;const Q=K.element;$.element=Q,Q.element=(se=$.entry)!==null&&se!==void 0?se:void 0;const Z=Q.item;$.checkbox.checked=Q.checked,$.toDisposeElement.add(Q.onChecked(ee=>$.checkbox.checked=ee)),$.checkbox.disabled=Q.checkboxDisabled;const{labelHighlights:ae,descriptionHighlights:ue,detailHighlights:ge}=Q;if(Z.iconPath){const ee=(0,n.isDark)(this.themeService.getColorTheme().type)?Z.iconPath.dark:(F=Z.iconPath.light)!==null&&F!==void 0?F:Z.iconPath.dark,W=h.URI.revive(ee);$.icon.className="quick-input-list-icon",$.icon.style.backgroundImage=m.asCSSUrl(W)}else $.icon.style.backgroundImage="",$.icon.className=Z.iconClass?`quick-input-list-icon ${Z.iconClass}`:"";let fe;!Q.saneTooltip&&Q.saneDescription&&(fe={markdown:{value:Q.saneDescription,supportThemeIcons:!0},markdownNotSupportedFallback:Q.saneDescription});const re={matches:ae||[],descriptionTitle:fe,descriptionMatches:ue||[],labelEscapeNewLines:!0};if(re.extraClasses=Z.iconClasses,re.italic=Z.italic,re.strikethrough=Z.strikethrough,$.entry.classList.remove("quick-input-list-separator-as-item"),$.label.setLabel(Q.saneLabel,Q.saneDescription,re),$.keybinding.set(Z.keybinding),Q.saneDetail){let ee;Q.saneTooltip||(ee={markdown:{value:Q.saneDetail,supportThemeIcons:!0},markdownNotSupportedFallback:Q.saneDetail}),$.detail.element.style.display="",$.detail.setLabel(Q.saneDetail,void 0,{matches:ge,title:ee,labelEscapeNewLines:!0})}else $.detail.element.style.display="none";!((X=Q.separator)===null||X===void 0)&&X.label?($.separator.textContent=Q.separator.label,$.separator.style.display="",this.addItemWithSeparator(Q)):$.separator.style.display="none",$.entry.classList.toggle("quick-input-list-separator-border",!!Q.separator);const de=Z.buttons;de&&de.length?($.actionBar.push(de.map((ee,W)=>(0,v.quickInputButtonToAction)(ee,`id-${W}`,()=>Q.fireButtonTriggered({button:ee,item:Q.item}))),{icon:!0,label:!1}),$.entry.classList.add("has-actions")):$.entry.classList.remove("has-actions")}disposeElement(K,U,$){this.removeItemWithSeparator(K.element),super.disposeElement(K,U,$)}isItemWithSeparatorVisible(K){return this._itemsWithSeparatorsFrequency.has(K)}addItemWithSeparator(K){this._itemsWithSeparatorsFrequency.set(K,(this._itemsWithSeparatorsFrequency.get(K)||0)+1)}removeItemWithSeparator(K){const U=this._itemsWithSeparatorsFrequency.get(K)||0;U>1?this._itemsWithSeparatorsFrequency.set(K,U-1):this._itemsWithSeparatorsFrequency.delete(K)}};P.ID="quickpickitem",P=f=Ie([he(1,p.IThemeService)],P);class x extends M{constructor(){super(...arguments),this._visibleSeparatorsFrequency=new Map}get templateId(){return x.ID}get visibleSeparators(){return[...this._visibleSeparatorsFrequency.keys()]}isSeparatorVisible(K){return this._visibleSeparatorsFrequency.has(K)}renderElement(K,U,$){var se;const F=K.element;$.element=F,F.element=(se=$.entry)!==null&&se!==void 0?se:void 0,F.element.classList.toggle("focus-inside",!!F.focusInsideSeparator);const X=F.separator,{labelHighlights:Q,descriptionHighlights:Z,detailHighlights:ae}=F;$.icon.style.backgroundImage="",$.icon.className="";let ue;!F.saneTooltip&&F.saneDescription&&(ue={markdown:{value:F.saneDescription,supportThemeIcons:!0},markdownNotSupportedFallback:F.saneDescription});const ge={matches:Q||[],descriptionTitle:ue,descriptionMatches:Z||[],labelEscapeNewLines:!0};if($.entry.classList.add("quick-input-list-separator-as-item"),$.label.setLabel(F.saneLabel,F.saneDescription,ge),F.saneDetail){let re;F.saneTooltip||(re={markdown:{value:F.saneDetail,supportThemeIcons:!0},markdownNotSupportedFallback:F.saneDetail}),$.detail.element.style.display="",$.detail.setLabel(F.saneDetail,void 0,{matches:ae,title:re,labelEscapeNewLines:!0})}else $.detail.element.style.display="none";$.separator.style.display="none",$.entry.classList.add("quick-input-list-separator-border");const fe=X.buttons;fe&&fe.length?($.actionBar.push(fe.map((re,de)=>(0,v.quickInputButtonToAction)(re,`id-${de}`,()=>F.fireSeparatorButtonTriggered({button:re,separator:F.separator}))),{icon:!0,label:!1}),$.entry.classList.add("has-actions")):$.entry.classList.remove("has-actions"),this.addSeparator(F)}disposeElement(K,U,$){var se;this.removeSeparator(K.element),this.isSeparatorVisible(K.element)||(se=K.element.element)===null||se===void 0||se.classList.remove("focus-inside"),super.disposeElement(K,U,$)}addSeparator(K){this._visibleSeparatorsFrequency.set(K,(this._visibleSeparatorsFrequency.get(K)||0)+1)}removeSeparator(K){const U=this._visibleSeparatorsFrequency.get(K)||0;U>1?this._visibleSeparatorsFrequency.set(K,U-1):this._visibleSeparatorsFrequency.delete(K)}}x.ID="quickpickseparator";let R=class extends w.Disposable{constructor(K,U,$,se,F){super(),this.parent=K,this.hoverDelegate=U,this.linkOpenerDelegate=$,this._onKeyDown=new k.Emitter,this.onKeyDown=this._onKeyDown.event,this._onLeave=new k.Emitter,this.onLeave=this._onLeave.event,this._onChangedAllVisibleChecked=new k.Emitter,this.onChangedAllVisibleChecked=this._onChangedAllVisibleChecked.event,this._onChangedCheckedCount=new k.Emitter,this.onChangedCheckedCount=this._onChangedCheckedCount.event,this._onChangedVisibleCount=new k.Emitter,this.onChangedVisibleCount=this._onChangedVisibleCount.event,this._onChangedCheckedElements=new k.Emitter,this.onChangedCheckedElements=this._onChangedCheckedElements.event,this._onButtonTriggered=new k.Emitter,this.onButtonTriggered=this._onButtonTriggered.event,this._onSeparatorButtonTriggered=new k.Emitter,this.onSeparatorButtonTriggered=this._onSeparatorButtonTriggered.event,this._elementChecked=new k.Emitter,this._inputElements=new Array,this._elementTree=new Array,this._itemElements=new Array,this._elementDisposable=this._register(new w.DisposableStore),this._matchOnDescription=!1,this._matchOnDetail=!1,this._matchOnLabel=!0,this._matchOnLabelMode="fuzzy",this._sortByLabel=!0,this._container=m.append(this.parent,_(".quick-input-list")),this._separatorRenderer=new x(U),this._itemRenderer=F.createInstance(P,U),this._tree=this._register(F.createInstance(y.WorkbenchObjectTree,"QuickInput",this._container,new A,[this._itemRenderer,this._separatorRenderer],{accessibilityProvider:new O,setRowLineHeight:!1,multipleSelectionSupport:!1,hideTwistiesOfChildlessElements:!0,renderIndentGuides:o.RenderIndentGuides.None,findWidgetEnabled:!1,indent:0,horizontalScrolling:!1,allowNonCollapsibleParents:!0,identityProvider:{getId:X=>{var Q,Z,ae,ue,ge,fe,re,de;return(de=(fe=(ue=(Z=(Q=X.item)===null||Q===void 0?void 0:Q.id)!==null&&Z!==void 0?Z:(ae=X.item)===null||ae===void 0?void 0:ae.label)!==null&&ue!==void 0?ue:(ge=X.separator)===null||ge===void 0?void 0:ge.id)!==null&&fe!==void 0?fe:(re=X.separator)===null||re===void 0?void 0:re.label)!==null&&de!==void 0?de:""}},alwaysConsumeMouseWheel:!0})),this._tree.getHTMLElement().id=se,this._registerListeners()}get onDidChangeFocus(){return k.Event.map(this._tree.onDidChangeFocus,K=>K.elements.filter(U=>U instanceof E).map(U=>U.item))}get onDidChangeSelection(){return k.Event.map(this._tree.onDidChangeSelection,K=>({items:K.elements.filter(U=>U instanceof E).map(U=>U.item),event:K.browserEvent}))}get scrollTop(){return this._tree.scrollTop}set scrollTop(K){this._tree.scrollTop=K}get ariaLabel(){return this._tree.ariaLabel}set ariaLabel(K){this._tree.ariaLabel=K??""}set enabled(K){this._tree.getHTMLElement().style.pointerEvents=K?"":"none"}get matchOnDescription(){return this._matchOnDescription}set matchOnDescription(K){this._matchOnDescription=K}get matchOnDetail(){return this._matchOnDetail}set matchOnDetail(K){this._matchOnDetail=K}get matchOnLabel(){return this._matchOnLabel}set matchOnLabel(K){this._matchOnLabel=K}get matchOnLabelMode(){return this._matchOnLabelMode}set matchOnLabelMode(K){this._matchOnLabelMode=K}get sortByLabel(){return this._sortByLabel}set sortByLabel(K){this._sortByLabel=K}_registerListeners(){this._registerOnKeyDown(),this._registerOnContainerClick(),this._registerOnMouseMiddleClick(),this._registerOnElementChecked(),this._registerOnContextMenu(),this._registerHoverListeners(),this._registerSelectionChangeListener(),this._registerSeparatorActionShowingListeners()}_registerOnKeyDown(){this._register(this._tree.onKeyDown(K=>{const U=new C.StandardKeyboardEvent(K);switch(U.keyCode){case 10:this.toggleCheckbox();break;case 31:(b.isMacintosh?K.metaKey:K.ctrlKey)&&this._tree.setFocus(this._itemElements);break;case 16:{const $=this._tree.getFocus();$.length===1&&$[0]===this._itemElements[0]&&this._onLeave.fire();break}case 18:{const $=this._tree.getFocus();$.length===1&&$[0]===this._itemElements[this._itemElements.length-1]&&this._onLeave.fire();break}}this._onKeyDown.fire(U)}))}_registerOnContainerClick(){this._register(m.addDisposableListener(this._container,m.EventType.CLICK,K=>{(K.x||K.y)&&this._onLeave.fire()}))}_registerOnMouseMiddleClick(){this._register(m.addDisposableListener(this._container,m.EventType.AUXCLICK,K=>{K.button===1&&this._onLeave.fire()}))}_registerOnElementChecked(){this._register(this._elementChecked.event(K=>this._fireCheckedEvents()))}_registerOnContextMenu(){this._register(this._tree.onContextMenu(K=>{K.element&&(K.browserEvent.preventDefault(),this._tree.setSelection([K.element]))}))}_registerHoverListeners(){const K=this._register(new g.ThrottledDelayer(this.hoverDelegate.delay));this._register(this._tree.onMouseOver(async U=>{var $;if(U.browserEvent.target instanceof HTMLAnchorElement){K.cancel();return}if(!(!(U.browserEvent.relatedTarget instanceof HTMLAnchorElement)&&m.isAncestor(U.browserEvent.relatedTarget,($=U.element)===null||$===void 0?void 0:$.element)))try{await K.trigger(async()=>{U.element instanceof E&&this.showHover(U.element)})}catch(se){if(!(0,c.isCancellationError)(se))throw se}})),this._register(this._tree.onMouseOut(U=>{var $;m.isAncestor(U.browserEvent.relatedTarget,($=U.element)===null||$===void 0?void 0:$.element)||K.cancel()}))}_registerSeparatorActionShowingListeners(){this._register(this._tree.onDidChangeFocus(K=>{const U=K.elements[0]?this._tree.getParentElement(K.elements[0]):null;for(const $ of this._separatorRenderer.visibleSeparators){const se=$===U;!!($.focusInsideSeparator&T.ACTIVE_ITEM)!==se&&(se?$.focusInsideSeparator|=T.ACTIVE_ITEM:$.focusInsideSeparator&=~T.ACTIVE_ITEM,this._tree.rerender($))}})),this._register(this._tree.onMouseOver(K=>{const U=K.element?this._tree.getParentElement(K.element):null;for(const $ of this._separatorRenderer.visibleSeparators){if($!==U)continue;!!($.focusInsideSeparator&T.MOUSE_HOVER)||($.focusInsideSeparator|=T.MOUSE_HOVER,this._tree.rerender($))}})),this._register(this._tree.onMouseOut(K=>{const U=K.element?this._tree.getParentElement(K.element):null;for(const $ of this._separatorRenderer.visibleSeparators){if($!==U)continue;!!($.focusInsideSeparator&T.MOUSE_HOVER)&&($.focusInsideSeparator&=~T.MOUSE_HOVER,this._tree.rerender($))}}))}_registerSelectionChangeListener(){this._register(this._tree.onDidChangeSelection(K=>{const U=K.elements.filter($=>$ instanceof E);U.length!==K.elements.length&&(K.elements.length===1&&K.elements[0]instanceof N&&(this._tree.setFocus([K.elements[0].children[0]]),this._tree.reveal(K.elements[0],0)),this._tree.setSelection(U))}))}getAllVisibleChecked(){return this._allVisibleChecked(this._itemElements,!1)}getCheckedCount(){return this._itemElements.filter(K=>K.checked).length}getVisibleCount(){return this._itemElements.filter(K=>!K.hidden).length}setAllVisibleChecked(K){this._itemElements.forEach(U=>{!U.hidden&&!U.checkboxDisabled&&(U.checked=K)}),this._fireCheckedEvents()}setElements(K){this._elementDisposable.clear(),this._inputElements=K;const U=this.parent.classList.contains("show-checkboxes");let $;this._itemElements=new Array,this._elementTree=K.reduce((X,Q,Z)=>{let ae;if(Q.type==="separator"){if(!Q.buttons)return X;$=new N(Z,ue=>this.fireSeparatorButtonTriggered(ue),Q),ae=$}else{const ue=Z>0?K[Z-1]:void 0;let ge;ue&&ue.type==="separator"&&!ue.buttons&&($=void 0,ge=ue);const fe=new E(Z,U,re=>this.fireButtonTriggered(re),this._elementChecked,Q,ge);if(this._itemElements.push(fe),$)return $.children.push(fe),X;ae=fe}return X.push(ae),X},new Array);const se=new Array;let F=0;for(const X of this._elementTree)X instanceof N?(se.push({element:X,collapsible:!1,collapsed:!1,children:X.children.map(Q=>({element:Q,collapsible:!1,collapsed:!1}))}),F+=X.children.length+1):(se.push({element:X,collapsible:!1,collapsed:!1}),F++);this._tree.setChildren(null,se),this._onChangedVisibleCount.fire(F)}setFocusedElements(K){const U=K.map($=>this._itemElements.find(se=>se.item===$)).filter($=>!!$);if(this._tree.setFocus(U),K.length>0){const $=this._tree.getFocus()[0];$&&this._tree.reveal($)}}getActiveDescendant(){return this._tree.getHTMLElement().getAttribute("aria-activedescendant")}setSelectedElements(K){const U=K.map($=>this._itemElements.find(se=>se.item===$)).filter($=>!!$);this._tree.setSelection(U)}getCheckedElements(){return this._itemElements.filter(K=>K.checked).map(K=>K.item)}setCheckedElements(K){const U=new Set;for(const $ of K)U.add($);for(const $ of this._itemElements)$.checked=U.has($.item);this._fireCheckedEvents()}focus(K){var U;if(this._itemElements.length)switch(K===S.Second&&this._itemElements.length<2&&(K=S.First),K){case S.First:this._tree.scrollTop=0,this._tree.focusFirst(void 0,$=>$.element instanceof E);break;case S.Second:this._tree.scrollTop=0,this._tree.setFocus([this._itemElements[1]]);break;case S.Last:this._tree.scrollTop=this._tree.scrollHeight,this._tree.setFocus([this._itemElements[this._itemElements.length-1]]);break;case S.Next:this._tree.focusNext(void 0,!0,void 0,$=>$.element instanceof E?(this._tree.reveal($.element),!0):!1);break;case S.Previous:this._tree.focusPrevious(void 0,!0,void 0,$=>{if(!($.element instanceof E))return!1;const se=this._tree.getParentElement($.element);return se===null||se.children[0]!==$.element?this._tree.reveal($.element):this._tree.reveal(se),!0});break;case S.NextPage:this._tree.focusNextPage(void 0,$=>$.element instanceof E?(this._tree.reveal($.element),!0):!1);break;case S.PreviousPage:this._tree.focusPreviousPage(void 0,$=>{if(!($.element instanceof E))return!1;const se=this._tree.getParentElement($.element);return se===null||se.children[0]!==$.element?this._tree.reveal($.element):this._tree.reveal(se),!0});break;case S.NextSeparator:{let $=!1;const se=this._tree.getFocus()[0];this._tree.focusNext(void 0,!0,void 0,X=>{if($)return!0;if(X.element instanceof N)$=!0,this._separatorRenderer.isSeparatorVisible(X.element)?this._tree.reveal(X.element):this._tree.reveal(X.element,0);else if(X.element instanceof E){if(X.element.separator)return this._itemRenderer.isItemWithSeparatorVisible(X.element)?this._tree.reveal(X.element):this._tree.reveal(X.element,0),!0;if(X.element===this._elementTree[0])return this._tree.reveal(X.element,0),!0}return!1});const F=this._tree.getFocus()[0];se===F&&(this._tree.scrollTop=this._tree.scrollHeight,this._tree.setFocus([this._itemElements[this._itemElements.length-1]]));break}case S.PreviousSeparator:{let $,se=!!(!((U=this._tree.getFocus()[0])===null||U===void 0)&&U.separator);this._tree.focusPrevious(void 0,!0,void 0,F=>{if(F.element instanceof N)se?$||(this._separatorRenderer.isSeparatorVisible(F.element)?this._tree.reveal(F.element):this._tree.reveal(F.element,0),$=F.element.children[0]):se=!0;else if(F.element instanceof E&&!$){if(F.element.separator)this._itemRenderer.isItemWithSeparatorVisible(F.element)?this._tree.reveal(F.element):this._tree.reveal(F.element,0),$=F.element;else if(F.element===this._elementTree[0])return this._tree.reveal(F.element,0),!0}return!1}),$&&this._tree.setFocus([$]);break}}}clearFocus(){this._tree.setFocus([])}domFocus(){this._tree.domFocus()}layout(K){this._tree.getHTMLElement().style.maxHeight=K?`${Math.floor(K/44)*44+6}px`:"",this._tree.layout()}filter(K){if(!(this._sortByLabel||this._matchOnLabel||this._matchOnDescription||this._matchOnDetail))return this._tree.layout(),!1;const U=K;if(K=K.trim(),!K||!(this.matchOnLabel||this.matchOnDescription||this.matchOnDetail))this._itemElements.forEach(Q=>{Q.labelHighlights=void 0,Q.descriptionHighlights=void 0,Q.detailHighlights=void 0,Q.hidden=!1;const Z=Q.index&&this._inputElements[Q.index-1];Q.item&&(Q.separator=Z&&Z.type==="separator"&&!Z.buttons?Z:void 0)});else{let Q;this._elementTree.forEach(Z=>{var ae,ue,ge,fe;let re;this.matchOnLabelMode==="fuzzy"?re=this.matchOnLabel&&(ae=(0,d.matchesFuzzyIconAware)(K,(0,d.parseLabelWithIcons)(Z.saneLabel)))!==null&&ae!==void 0?ae:void 0:re=this.matchOnLabel&&(ue=B(U,(0,d.parseLabelWithIcons)(Z.saneLabel)))!==null&&ue!==void 0?ue:void 0;const de=this.matchOnDescription&&(ge=(0,d.matchesFuzzyIconAware)(K,(0,d.parseLabelWithIcons)(Z.saneDescription||"")))!==null&&ge!==void 0?ge:void 0,ee=this.matchOnDetail&&(fe=(0,d.matchesFuzzyIconAware)(K,(0,d.parseLabelWithIcons)(Z.saneDetail||"")))!==null&&fe!==void 0?fe:void 0;if(re||de||ee?(Z.labelHighlights=re,Z.descriptionHighlights=de,Z.detailHighlights=ee,Z.hidden=!1):(Z.labelHighlights=void 0,Z.descriptionHighlights=void 0,Z.detailHighlights=void 0,Z.hidden=Z.item?!Z.item.alwaysShow:!0),Z.item?Z.separator=void 0:Z.separator&&(Z.hidden=!0),!this.sortByLabel){const W=Z.index&&this._inputElements[Z.index-1];Q=W&&W.type==="separator"?W:Q,Q&&!Z.hidden&&(Z.separator=Q,Q=void 0)}})}const $=this._elementTree.filter(Q=>!Q.hidden);if(this.sortByLabel&&K){const Q=K.toLowerCase();$.sort((Z,ae)=>V(Z,ae,Q))}let se;const F=$.reduce((Q,Z,ae)=>(Z instanceof E?se?se.children.push(Z):Q.push(Z):Z instanceof N&&(Z.children=[],se=Z,Q.push(Z)),Q),new Array),X=new Array;for(const Q of F)Q instanceof N?X.push({element:Q,collapsible:!1,collapsed:!1,children:Q.children.map(Z=>({element:Z,collapsible:!1,collapsed:!1}))}):X.push({element:Q,collapsible:!1,collapsed:!1});return this._tree.setChildren(null,X),this._tree.layout(),this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedVisibleCount.fire($.length),!0}toggleCheckbox(){const K=this._tree.getFocus().filter($=>$ instanceof E),U=this._allVisibleChecked(K);for(const $ of K)$.checkboxDisabled||($.checked=!U);this._fireCheckedEvents()}display(K){this._container.style.display=K?"":"none"}isDisplayed(){return this._container.style.display!=="none"}style(K){this._tree.style(K)}toggleHover(){const K=this._tree.getFocus()[0];if(!K?.saneTooltip||!(K instanceof E))return;if(this._lastHover&&!this._lastHover.isDisposed){this._lastHover.dispose();return}this.showHover(K);const U=new w.DisposableStore;U.add(this._tree.onDidChangeFocus($=>{$.elements[0]instanceof E&&this.showHover($.elements[0])})),this._lastHover&&U.add(this._lastHover),this._elementDisposable.add(U)}_allVisibleChecked(K,U=!0){for(let $=0,se=K.length;$<se;$++){const F=K[$];if(!F.hidden)if(F.checked)U=!0;else return!1}return U}_fireCheckedEvents(){this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedCheckedCount.fire(this.getCheckedCount()),this._onChangedCheckedElements.fire(this.getCheckedElements())}fireButtonTriggered(K){this._onButtonTriggered.fire(K)}fireSeparatorButtonTriggered(K){this._onSeparatorButtonTriggered.fire(K)}showHover(K){var U,$,se;this._lastHover&&!this._lastHover.isDisposed&&(($=(U=this.hoverDelegate).onDidHideHover)===null||$===void 0||$.call(U),(se=this._lastHover)===null||se===void 0||se.dispose()),!(!K.element||!K.saneTooltip)&&(this._lastHover=this.hoverDelegate.showHover({content:K.saneTooltip,target:K.element,linkHandler:F=>{this.linkOpenerDelegate(F)},appearance:{showPointer:!0},container:this._container,position:{hoverPosition:1}},!1))}};e.QuickInputTree=R,Ie([a.memoize],R.prototype,"onDidChangeFocus",null),Ie([a.memoize],R.prototype,"onDidChangeSelection",null),e.QuickInputTree=R=Ie([he(4,L.IInstantiationService)],R);function B(q,K){const{text:U,iconOffsets:$}=K;if(!$||$.length===0)return H(q,U);const se=(0,l.ltrim)(U," "),F=U.length-se.length,X=H(q,se);if(X)for(const Q of X){const Z=$[Q.start+F]+F;Q.start+=Z,Q.end+=Z}return X}function H(q,K){const U=K.toLowerCase().indexOf(q.toLowerCase());return U!==-1?[{start:U,end:U+q.length}]:null}function V(q,K,U){const $=q.labelHighlights||[],se=K.labelHighlights||[];return $.length&&!se.length?-1:!$.length&&se.length?1:$.length===0&&se.length===0?0:(0,r.compareAnything)(q.saneSortLabel,K.saneSortLabel,U)}}),define(te[394],ie([1,0,6,48,166,13,15,26,7,2,17,107,30,777,75,369,25,202,393,217]),function(J,e,m,k,D,L,y,p,w,C,b,a,s,i,t,n,h,v,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickInputHoverDelegate=e.InputBox=e.QuickPick=e.backButton=void 0,e.backButton={iconClass:s.ThemeIcon.asClassName(p.Codicon.quickInputBack),tooltip:(0,i.localize)(0,null),handle:-1};class d extends C.Disposable{constructor(c){super(),this.ui=c,this._widgetUpdated=!1,this.visible=!1,this._enabled=!0,this._busy=!1,this._ignoreFocusOut=!1,this._buttons=[],this.buttonsUpdated=!1,this._toggles=[],this.togglesUpdated=!1,this.noValidationMessage=d.noPromptMessage,this._severity=a.default.Ignore,this.onDidTriggerButtonEmitter=this._register(new w.Emitter),this.onDidHideEmitter=this._register(new w.Emitter),this.onWillHideEmitter=this._register(new w.Emitter),this.onDisposeEmitter=this._register(new w.Emitter),this.visibleDisposables=this._register(new C.DisposableStore),this.onDidHide=this.onDidHideEmitter.event}get title(){return this._title}set title(c){this._title=c,this.update()}get description(){return this._description}set description(c){this._description=c,this.update()}get step(){return this._steps}set step(c){this._steps=c,this.update()}get totalSteps(){return this._totalSteps}set totalSteps(c){this._totalSteps=c,this.update()}get enabled(){return this._enabled}set enabled(c){this._enabled=c,this.update()}get contextKey(){return this._contextKey}set contextKey(c){this._contextKey=c,this.update()}get busy(){return this._busy}set busy(c){this._busy=c,this.update()}get ignoreFocusOut(){return this._ignoreFocusOut}set ignoreFocusOut(c){const f=this._ignoreFocusOut!==c&&!b.isIOS;this._ignoreFocusOut=c&&!b.isIOS,f&&this.update()}get buttons(){return this._buttons}set buttons(c){this._buttons=c,this.buttonsUpdated=!0,this.update()}get toggles(){return this._toggles}set toggles(c){this._toggles=c??[],this.togglesUpdated=!0,this.update()}get validationMessage(){return this._validationMessage}set validationMessage(c){this._validationMessage=c,this.update()}get severity(){return this._severity}set severity(c){this._severity=c,this.update()}show(){this.visible||(this.visibleDisposables.add(this.ui.onDidTriggerButton(c=>{this.buttons.indexOf(c)!==-1&&this.onDidTriggerButtonEmitter.fire(c)})),this.ui.show(this),this.visible=!0,this._lastValidationMessage=void 0,this._lastSeverity=void 0,this.buttons.length&&(this.buttonsUpdated=!0),this.toggles.length&&(this.togglesUpdated=!0),this.update())}hide(){this.visible&&this.ui.hide()}didHide(c=t.QuickInputHideReason.Other){this.visible=!1,this.visibleDisposables.clear(),this.onDidHideEmitter.fire({reason:c})}willHide(c=t.QuickInputHideReason.Other){this.onWillHideEmitter.fire({reason:c})}update(){var c,f;if(!this.visible)return;const _=this.getTitle();_&&this.ui.title.textContent!==_?this.ui.title.textContent=_:!_&&this.ui.title.innerHTML!=="&nbsp;"&&(this.ui.title.innerText="\xA0");const S=this.getDescription();if(this.ui.description1.textContent!==S&&(this.ui.description1.textContent=S),this.ui.description2.textContent!==S&&(this.ui.description2.textContent=S),this._widgetUpdated&&(this._widgetUpdated=!1,this._widget?m.reset(this.ui.widget,this._widget):m.reset(this.ui.widget)),this.busy&&!this.busyDelay&&(this.busyDelay=new y.TimeoutTimer,this.busyDelay.setIfNotSet(()=>{this.visible&&this.ui.progressBar.infinite()},800)),!this.busy&&this.busyDelay&&(this.ui.progressBar.stop(),this.busyDelay.cancel(),this.busyDelay=void 0),this.buttonsUpdated){this.buttonsUpdated=!1,this.ui.leftActionBar.clear();const E=this.buttons.filter(N=>N===e.backButton).map((N,A)=>(0,n.quickInputButtonToAction)(N,`id-${A}`,async()=>this.onDidTriggerButtonEmitter.fire(N)));this.ui.leftActionBar.push(E,{icon:!0,label:!1}),this.ui.rightActionBar.clear();const T=this.buttons.filter(N=>N!==e.backButton).map((N,A)=>(0,n.quickInputButtonToAction)(N,`id-${A}`,async()=>this.onDidTriggerButtonEmitter.fire(N)));this.ui.rightActionBar.push(T,{icon:!0,label:!1})}if(this.togglesUpdated){this.togglesUpdated=!1;const E=(f=(c=this.toggles)===null||c===void 0?void 0:c.filter(T=>T instanceof D.Toggle))!==null&&f!==void 0?f:[];this.ui.inputBox.toggles=E}this.ui.ignoreFocusOut=this.ignoreFocusOut,this.ui.setEnabled(this.enabled),this.ui.setContextKey(this.contextKey);const I=this.validationMessage||this.noValidationMessage;this._lastValidationMessage!==I&&(this._lastValidationMessage=I,m.reset(this.ui.message),(0,n.renderQuickInputDescription)(I,this.ui.message,{callback:E=>{this.ui.linkOpenerDelegate(E)},disposables:this.visibleDisposables})),this._lastSeverity!==this.severity&&(this._lastSeverity=this.severity,this.showMessageDecoration(this.severity))}getTitle(){return this.title&&this.step?`${this.title} (${this.getSteps()})`:this.title?this.title:this.step?this.getSteps():""}getDescription(){return this.description||""}getSteps(){return this.step&&this.totalSteps?(0,i.localize)(2,null,this.step,this.totalSteps):this.step?String(this.step):""}showMessageDecoration(c){if(this.ui.inputBox.showDecoration(c),c!==a.default.Ignore){const f=this.ui.inputBox.stylesForType(c);this.ui.message.style.color=f.foreground?`${f.foreground}`:"",this.ui.message.style.backgroundColor=f.background?`${f.background}`:"",this.ui.message.style.border=f.border?`1px solid ${f.border}`:"",this.ui.message.style.marginBottom="-2px"}else this.ui.message.style.color="",this.ui.message.style.backgroundColor="",this.ui.message.style.border="",this.ui.message.style.marginBottom=""}dispose(){this.hide(),this.onDisposeEmitter.fire(),super.dispose()}}d.noPromptMessage=(0,i.localize)(1,null);class r extends d{constructor(){super(...arguments),this._value="",this.onDidChangeValueEmitter=this._register(new w.Emitter),this.onWillAcceptEmitter=this._register(new w.Emitter),this.onDidAcceptEmitter=this._register(new w.Emitter),this.onDidCustomEmitter=this._register(new w.Emitter),this._items=[],this.itemsUpdated=!1,this._canSelectMany=!1,this._canAcceptInBackground=!1,this._matchOnDescription=!1,this._matchOnDetail=!1,this._matchOnLabel=!0,this._matchOnLabelMode="fuzzy",this._sortByLabel=!0,this._keepScrollPosition=!1,this._itemActivation=t.ItemActivation.FIRST,this._activeItems=[],this.activeItemsUpdated=!1,this.activeItemsToConfirm=[],this.onDidChangeActiveEmitter=this._register(new w.Emitter),this._selectedItems=[],this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=[],this.onDidChangeSelectionEmitter=this._register(new w.Emitter),this.onDidTriggerItemButtonEmitter=this._register(new w.Emitter),this.onDidTriggerSeparatorButtonEmitter=this._register(new w.Emitter),this.valueSelectionUpdated=!0,this._ok="default",this._customButton=!1,this.filterValue=c=>c,this.onDidChangeValue=this.onDidChangeValueEmitter.event,this.onWillAccept=this.onWillAcceptEmitter.event,this.onDidAccept=this.onDidAcceptEmitter.event,this.onDidChangeActive=this.onDidChangeActiveEmitter.event,this.onDidChangeSelection=this.onDidChangeSelectionEmitter.event,this.onDidTriggerItemButton=this.onDidTriggerItemButtonEmitter.event,this.onDidTriggerSeparatorButton=this.onDidTriggerSeparatorButtonEmitter.event}get quickNavigate(){return this._quickNavigate}set quickNavigate(c){this._quickNavigate=c,this.update()}get value(){return this._value}set value(c){this.doSetValue(c)}doSetValue(c,f){this._value!==c&&(this._value=c,f||this.update(),this.visible&&this.ui.list.filter(this.filterValue(this._value))&&this.trySelectFirst(),this.onDidChangeValueEmitter.fire(this._value))}set ariaLabel(c){this._ariaLabel=c,this.update()}get ariaLabel(){return this._ariaLabel}get placeholder(){return this._placeholder}set placeholder(c){this._placeholder=c,this.update()}get items(){return this._items}get scrollTop(){return this.ui.list.scrollTop}set scrollTop(c){this.ui.list.scrollTop=c}set items(c){this._items=c,this.itemsUpdated=!0,this.update()}get canSelectMany(){return this._canSelectMany}set canSelectMany(c){this._canSelectMany=c,this.update()}get canAcceptInBackground(){return this._canAcceptInBackground}set canAcceptInBackground(c){this._canAcceptInBackground=c}get matchOnDescription(){return this._matchOnDescription}set matchOnDescription(c){this._matchOnDescription=c,this.update()}get matchOnDetail(){return this._matchOnDetail}set matchOnDetail(c){this._matchOnDetail=c,this.update()}get matchOnLabel(){return this._matchOnLabel}set matchOnLabel(c){this._matchOnLabel=c,this.update()}get matchOnLabelMode(){return this._matchOnLabelMode}set matchOnLabelMode(c){this._matchOnLabelMode=c,this.update()}get sortByLabel(){return this._sortByLabel}set sortByLabel(c){this._sortByLabel=c,this.update()}get keepScrollPosition(){return this._keepScrollPosition}set keepScrollPosition(c){this._keepScrollPosition=c}get itemActivation(){return this._itemActivation}set itemActivation(c){this._itemActivation=c}get activeItems(){return this._activeItems}set activeItems(c){this._activeItems=c,this.activeItemsUpdated=!0,this.update()}get selectedItems(){return this._selectedItems}set selectedItems(c){this._selectedItems=c,this.selectedItemsUpdated=!0,this.update()}get keyMods(){return this._quickNavigate?t.NO_KEY_MODS:this.ui.keyMods}set valueSelection(c){this._valueSelection=c,this.valueSelectionUpdated=!0,this.update()}get customButton(){return this._customButton}set customButton(c){this._customButton=c,this.update()}get customLabel(){return this._customButtonLabel}set customLabel(c){this._customButtonLabel=c,this.update()}get customHover(){return this._customButtonHover}set customHover(c){this._customButtonHover=c,this.update()}get ok(){return this._ok}set ok(c){this._ok=c,this.update()}get hideInput(){return!!this._hideInput}set hideInput(c){this._hideInput=c,this.update()}trySelectFirst(){this.canSelectMany||this.ui.list.focus(u.QuickInputListFocus.First)}show(){this.visible||(this.visibleDisposables.add(this.ui.inputBox.onDidChange(c=>{this.doSetValue(c,!0)})),this.visibleDisposables.add((this._hideInput?this.ui.list:this.ui.inputBox).onKeyDown(c=>{switch(c.keyCode){case 18:(b.isMacintosh?c.metaKey:c.altKey)?this.ui.list.focus(u.QuickInputListFocus.NextSeparator):this.ui.list.focus(u.QuickInputListFocus.Next),this.canSelectMany&&this.ui.list.domFocus(),m.EventHelper.stop(c,!0);break;case 16:(b.isMacintosh?c.metaKey:c.altKey)?this.ui.list.focus(u.QuickInputListFocus.PreviousSeparator):this.ui.list.focus(u.QuickInputListFocus.Previous),this.canSelectMany&&this.ui.list.domFocus(),m.EventHelper.stop(c,!0);break;case 12:this.ui.list.focus(u.QuickInputListFocus.NextPage),this.canSelectMany&&this.ui.list.domFocus(),m.EventHelper.stop(c,!0);break;case 11:this.ui.list.focus(u.QuickInputListFocus.PreviousPage),this.canSelectMany&&this.ui.list.domFocus(),m.EventHelper.stop(c,!0);break;case 17:if(!this._canAcceptInBackground||!this.ui.inputBox.isSelectionAtEnd())return;this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(!0));break;case 14:(c.ctrlKey||c.metaKey)&&!c.shiftKey&&!c.altKey&&(this.ui.list.focus(u.QuickInputListFocus.First),m.EventHelper.stop(c,!0));break;case 13:(c.ctrlKey||c.metaKey)&&!c.shiftKey&&!c.altKey&&(this.ui.list.focus(u.QuickInputListFocus.Last),m.EventHelper.stop(c,!0));break}})),this.visibleDisposables.add(this.ui.onDidAccept(()=>{this.canSelectMany?this.ui.list.getCheckedElements().length||(this._selectedItems=[],this.onDidChangeSelectionEmitter.fire(this.selectedItems)):this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems)),this.handleAccept(!1)})),this.visibleDisposables.add(this.ui.onDidCustom(()=>{this.onDidCustomEmitter.fire()})),this.visibleDisposables.add(this.ui.list.onDidChangeFocus(c=>{this.activeItemsUpdated||this.activeItemsToConfirm!==this._activeItems&&(0,L.equals)(c,this._activeItems,(f,_)=>f===_)||(this._activeItems=c,this.onDidChangeActiveEmitter.fire(c))})),this.visibleDisposables.add(this.ui.list.onDidChangeSelection(({items:c,event:f})=>{if(this.canSelectMany){c.length&&this.ui.list.setSelectedElements([]);return}this.selectedItemsToConfirm!==this._selectedItems&&(0,L.equals)(c,this._selectedItems,(_,S)=>_===S)||(this._selectedItems=c,this.onDidChangeSelectionEmitter.fire(c),c.length&&this.handleAccept(m.isMouseEvent(f)&&f.button===1))})),this.visibleDisposables.add(this.ui.list.onChangedCheckedElements(c=>{this.canSelectMany&&(this.selectedItemsToConfirm!==this._selectedItems&&(0,L.equals)(c,this._selectedItems,(f,_)=>f===_)||(this._selectedItems=c,this.onDidChangeSelectionEmitter.fire(c)))})),this.visibleDisposables.add(this.ui.list.onButtonTriggered(c=>this.onDidTriggerItemButtonEmitter.fire(c))),this.visibleDisposables.add(this.ui.list.onSeparatorButtonTriggered(c=>this.onDidTriggerSeparatorButtonEmitter.fire(c))),this.visibleDisposables.add(this.registerQuickNavigation()),this.valueSelectionUpdated=!0),super.show()}handleAccept(c){let f=!1;this.onWillAcceptEmitter.fire({veto:()=>f=!0}),f||this.onDidAcceptEmitter.fire({inBackground:c})}registerQuickNavigation(){return m.addDisposableListener(this.ui.container,m.EventType.KEY_UP,c=>{if(this.canSelectMany||!this._quickNavigate)return;const f=new k.StandardKeyboardEvent(c),_=f.keyCode;this._quickNavigate.keybindings.some(E=>{const T=E.getChords();return T.length>1?!1:T[0].shiftKey&&_===4?!(f.ctrlKey||f.altKey||f.metaKey):!!(T[0].altKey&&_===6||T[0].ctrlKey&&_===5||T[0].metaKey&&_===57)})&&(this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(!1)),this._quickNavigate=void 0)})}update(){if(!this.visible)return;const c=this.keepScrollPosition?this.scrollTop:0,f=!!this.description,_={title:!!this.title||!!this.step||!!this.buttons.length,description:f,checkAll:this.canSelectMany&&!this._hideCheckAll,checkBox:this.canSelectMany,inputBox:!this._hideInput,progressBar:!this._hideInput||f,visibleCount:!0,count:this.canSelectMany&&!this._hideCountBadge,ok:this.ok==="default"?this.canSelectMany:this.ok,list:!0,message:!!this.validationMessage,customButton:this.customButton};this.ui.setVisibilities(_),super.update(),this.ui.inputBox.value!==this.value&&(this.ui.inputBox.value=this.value),this.valueSelectionUpdated&&(this.valueSelectionUpdated=!1,this.ui.inputBox.select(this._valueSelection&&{start:this._valueSelection[0],end:this._valueSelection[1]})),this.ui.inputBox.placeholder!==(this.placeholder||"")&&(this.ui.inputBox.placeholder=this.placeholder||"");let S=this.ariaLabel;if(!S&&_.inputBox&&(S=this.placeholder||r.DEFAULT_ARIA_LABEL,this.title&&(S+=` - ${this.title}`)),this.ui.list.ariaLabel!==S&&(this.ui.list.ariaLabel=S??null),this.ui.list.matchOnDescription=this.matchOnDescription,this.ui.list.matchOnDetail=this.matchOnDetail,this.ui.list.matchOnLabel=this.matchOnLabel,this.ui.list.matchOnLabelMode=this.matchOnLabelMode,this.ui.list.sortByLabel=this.sortByLabel,this.itemsUpdated){this.itemsUpdated=!1;const I=this._activeItems;switch(this.ui.list.setElements(this.items),this.ui.list.filter(this.filterValue(this.ui.inputBox.value)),this.ui.checkAll.checked=this.ui.list.getAllVisibleChecked(),this.ui.visibleCount.setCount(this.ui.list.getVisibleCount()),this.ui.count.setCount(this.ui.list.getCheckedCount()),this._itemActivation){case t.ItemActivation.NONE:I.length>0&&(this._activeItems=[],this.onDidChangeActiveEmitter.fire(this._activeItems)),this._itemActivation=t.ItemActivation.FIRST;break;case t.ItemActivation.SECOND:this.ui.list.focus(u.QuickInputListFocus.Second),this._itemActivation=t.ItemActivation.FIRST;break;case t.ItemActivation.LAST:this.ui.list.focus(u.QuickInputListFocus.Last),this._itemActivation=t.ItemActivation.FIRST;break;default:this.trySelectFirst();break}}this.ui.container.classList.contains("show-checkboxes")!==!!this.canSelectMany&&(this.canSelectMany?this.ui.list.clearFocus():this.trySelectFirst()),this.activeItemsUpdated&&(this.activeItemsUpdated=!1,this.activeItemsToConfirm=this._activeItems,this.ui.list.setFocusedElements(this.activeItems),this.activeItemsToConfirm===this._activeItems&&(this.activeItemsToConfirm=null)),this.selectedItemsUpdated&&(this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=this._selectedItems,this.canSelectMany?this.ui.list.setCheckedElements(this.selectedItems):this.ui.list.setSelectedElements(this.selectedItems),this.selectedItemsToConfirm===this._selectedItems&&(this.selectedItemsToConfirm=null)),this.ui.customButton.label=this.customLabel||"",this.ui.customButton.element.title=this.customHover||"",_.inputBox||(this.ui.list.domFocus(),this.canSelectMany&&this.ui.list.focus(u.QuickInputListFocus.First)),this.keepScrollPosition&&(this.scrollTop=c)}}e.QuickPick=r,r.DEFAULT_ARIA_LABEL=(0,i.localize)(3,null);class l extends d{constructor(){super(...arguments),this._value="",this.valueSelectionUpdated=!0,this._password=!1,this.onDidValueChangeEmitter=this._register(new w.Emitter),this.onDidAcceptEmitter=this._register(new w.Emitter),this.onDidChangeValue=this.onDidValueChangeEmitter.event,this.onDidAccept=this.onDidAcceptEmitter.event}get value(){return this._value}set value(c){this._value=c||"",this.update()}get placeholder(){return this._placeholder}set placeholder(c){this._placeholder=c,this.update()}get password(){return this._password}set password(c){this._password=c,this.update()}show(){this.visible||(this.visibleDisposables.add(this.ui.inputBox.onDidChange(c=>{c!==this.value&&(this._value=c,this.onDidValueChangeEmitter.fire(c))})),this.visibleDisposables.add(this.ui.onDidAccept(()=>this.onDidAcceptEmitter.fire())),this.valueSelectionUpdated=!0),super.show()}update(){if(!this.visible)return;this.ui.container.classList.remove("hidden-input");const c={title:!!this.title||!!this.step||!!this.buttons.length,description:!!this.description||!!this.step,inputBox:!0,message:!0,progressBar:!0};this.ui.setVisibilities(c),super.update(),this.ui.inputBox.value!==this.value&&(this.ui.inputBox.value=this.value),this.valueSelectionUpdated&&(this.valueSelectionUpdated=!1,this.ui.inputBox.select(this._valueSelection&&{start:this._valueSelection[0],end:this._valueSelection[1]})),this.ui.inputBox.placeholder!==(this.placeholder||"")&&(this.ui.inputBox.placeholder=this.placeholder||""),this.ui.inputBox.password!==this.password&&(this.ui.inputBox.password=this.password)}}e.InputBox=l;let o=class extends v.WorkbenchHoverDelegate{constructor(c,f){super("element",!1,_=>this.getOverrideOptions(_),c,f)}getOverrideOptions(c){var f;const _=(c.content instanceof HTMLElement?(f=c.content.textContent)!==null&&f!==void 0?f:"":typeof c.content=="string"?c.content:c.content.value).includes(`
`);return{persistence:{hideOnKeyDown:!1},appearance:{showHoverHint:_,skipFadeInAnimation:!0}}}};e.QuickInputHoverDelegate=o,e.QuickInputHoverDelegate=o=Ie([he(0,h.IConfigurationService),he(1,v.IHoverService)],o)}),define(te[923],ie([1,0,6,81,245,337,617,20,7,2,107,778,75,825,394,113,52,8,393]),function(J,e,m,k,D,L,y,p,w,C,b,a,s,i,t,n,h,v,u){"use strict";var d;Object.defineProperty(e,"__esModule",{value:!0}),e.QuickInputController=void 0;const r=m.$;let l=d=class extends C.Disposable{get container(){return this._container}constructor(g,c,f){super(),this.options=g,this.layoutService=c,this.instantiationService=f,this.enabled=!0,this.onDidAcceptEmitter=this._register(new w.Emitter),this.onDidCustomEmitter=this._register(new w.Emitter),this.onDidTriggerButtonEmitter=this._register(new w.Emitter),this.keyMods={ctrlCmd:!1,alt:!1},this.controller=null,this.onShowEmitter=this._register(new w.Emitter),this.onShow=this.onShowEmitter.event,this.onHideEmitter=this._register(new w.Emitter),this.onHide=this.onHideEmitter.event,this.idPrefix=g.idPrefix,this._container=g.container,this.styles=g.styles,this._register(w.Event.runAndSubscribe(m.onDidRegisterWindow,({window:_,disposables:S})=>this.registerKeyModsListeners(_,S),{window:h.mainWindow,disposables:this._store})),this._register(m.onWillUnregisterWindow(_=>{this.ui&&m.getWindow(this.ui.container)===_&&(this.reparentUI(this.layoutService.mainContainer),this.layout(this.layoutService.mainContainerDimension,this.layoutService.mainContainerOffset.quickPickTop))}))}registerKeyModsListeners(g,c){const f=_=>{this.keyMods.ctrlCmd=_.ctrlKey||_.metaKey,this.keyMods.alt=_.altKey};for(const _ of[m.EventType.KEY_DOWN,m.EventType.KEY_UP,m.EventType.MOUSE_DOWN])c.add(m.addDisposableListener(g,_,f,!0))}getUI(g){if(this.ui)return g&&m.getWindow(this._container)!==m.getWindow(this.layoutService.activeContainer)&&(this.reparentUI(this.layoutService.activeContainer),this.layout(this.layoutService.activeContainerDimension,this.layoutService.activeContainerOffset.quickPickTop)),this.ui;const c=m.append(this._container,r(".quick-input-widget.show-file-icons"));c.tabIndex=-1,c.style.display="none";const f=m.createStyleSheet(c),_=m.append(c,r(".quick-input-titlebar")),S=this._register(new k.ActionBar(_,{hoverDelegate:this.options.hoverDelegate}));S.domNode.classList.add("quick-input-left-action-bar");const I=m.append(_,r(".quick-input-title")),E=this._register(new k.ActionBar(_,{hoverDelegate:this.options.hoverDelegate}));E.domNode.classList.add("quick-input-right-action-bar");const T=m.append(c,r(".quick-input-header")),N=m.append(T,r("input.quick-input-check-all"));N.type="checkbox",N.setAttribute("aria-label",(0,a.localize)(0,null)),this._register(m.addStandardDisposableListener(N,m.EventType.CHANGE,ue=>{const ge=N.checked;Z.setAllVisibleChecked(ge)})),this._register(m.addDisposableListener(N,m.EventType.CLICK,ue=>{(ue.x||ue.y)&&P.setFocus()}));const A=m.append(T,r(".quick-input-description")),O=m.append(T,r(".quick-input-and-message")),M=m.append(O,r(".quick-input-filter")),P=this._register(new i.QuickInputBox(M,this.styles.inputBox,this.styles.toggle));P.setAttribute("aria-describedby",`${this.idPrefix}message`);const x=m.append(M,r(".quick-input-visible-count"));x.setAttribute("aria-live","polite"),x.setAttribute("aria-atomic","true");const R=new L.CountBadge(x,{countFormat:(0,a.localize)(1,null)},this.styles.countBadge),B=m.append(M,r(".quick-input-count"));B.setAttribute("aria-live","polite");const H=new L.CountBadge(B,{countFormat:(0,a.localize)(2,null)},this.styles.countBadge),V=m.append(T,r(".quick-input-action")),q=this._register(new D.Button(V,this.styles.button));q.label=(0,a.localize)(3,null),this._register(q.onDidClick(ue=>{this.onDidAcceptEmitter.fire()}));const K=m.append(T,r(".quick-input-action")),U=this._register(new D.Button(K,{...this.styles.button,supportIcons:!0}));U.label=(0,a.localize)(4,null),this._register(U.onDidClick(ue=>{this.onDidCustomEmitter.fire()}));const $=m.append(O,r(`#${this.idPrefix}message.quick-input-message`)),se=this._register(new y.ProgressBar(c,this.styles.progressBar));se.getContainer().classList.add("quick-input-progress");const F=m.append(c,r(".quick-input-html-widget"));F.tabIndex=-1;const X=m.append(c,r(".quick-input-description")),Q=this.idPrefix+"list",Z=this._register(this.instantiationService.createInstance(u.QuickInputTree,c,this.options.hoverDelegate,this.options.linkOpenerDelegate,Q));P.setAttribute("aria-controls",Q),this._register(Z.onDidChangeFocus(()=>{var ue;P.setAttribute("aria-activedescendant",(ue=Z.getActiveDescendant())!==null&&ue!==void 0?ue:"")})),this._register(Z.onChangedAllVisibleChecked(ue=>{N.checked=ue})),this._register(Z.onChangedVisibleCount(ue=>{R.setCount(ue)})),this._register(Z.onChangedCheckedCount(ue=>{H.setCount(ue)})),this._register(Z.onLeave(()=>{setTimeout(()=>{this.controller&&(P.setFocus(),this.controller instanceof t.QuickPick&&this.controller.canSelectMany&&Z.clearFocus())},0)}));const ae=m.trackFocus(c);return this._register(ae),this._register(m.addDisposableListener(c,m.EventType.FOCUS,ue=>{m.isAncestor(ue.relatedTarget,c)||(this.previousFocusElement=ue.relatedTarget instanceof HTMLElement?ue.relatedTarget:void 0)},!0)),this._register(ae.onDidBlur(()=>{!this.getUI().ignoreFocusOut&&!this.options.ignoreFocusOut()&&this.hide(s.QuickInputHideReason.Blur),this.previousFocusElement=void 0})),this._register(m.addDisposableListener(c,m.EventType.FOCUS,ue=>{P.setFocus()})),this._register(m.addStandardDisposableListener(c,m.EventType.KEY_DOWN,ue=>{if(!m.isAncestor(ue.target,F))switch(ue.keyCode){case 3:m.EventHelper.stop(ue,!0),this.enabled&&this.onDidAcceptEmitter.fire();break;case 9:m.EventHelper.stop(ue,!0),this.hide(s.QuickInputHideReason.Gesture);break;case 2:if(!ue.altKey&&!ue.ctrlKey&&!ue.metaKey){const ge=[".quick-input-list .monaco-action-bar .always-visible",".quick-input-list-entry:hover .monaco-action-bar",".monaco-list-row.focused .monaco-action-bar"];if(c.classList.contains("show-checkboxes")?ge.push("input"):ge.push("input[type=text]"),this.getUI().list.isDisplayed()&&ge.push(".monaco-list"),this.getUI().message&&ge.push(".quick-input-message a"),this.getUI().widget){if(m.isAncestor(ue.target,this.getUI().widget))break;ge.push(".quick-input-html-widget")}const fe=c.querySelectorAll(ge.join(", "));ue.shiftKey&&ue.target===fe[0]?(m.EventHelper.stop(ue,!0),Z.clearFocus()):!ue.shiftKey&&m.isAncestor(ue.target,fe[fe.length-1])&&(m.EventHelper.stop(ue,!0),fe[0].focus())}break;case 10:ue.ctrlKey&&(m.EventHelper.stop(ue,!0),this.getUI().list.toggleHover());break}})),this.ui={container:c,styleSheet:f,leftActionBar:S,titleBar:_,title:I,description1:X,description2:A,widget:F,rightActionBar:E,checkAll:N,inputContainer:O,filterContainer:M,inputBox:P,visibleCountContainer:x,visibleCount:R,countContainer:B,count:H,okContainer:V,ok:q,message:$,customButtonContainer:K,customButton:U,list:Z,progressBar:se,onDidAccept:this.onDidAcceptEmitter.event,onDidCustom:this.onDidCustomEmitter.event,onDidTriggerButton:this.onDidTriggerButtonEmitter.event,ignoreFocusOut:!1,keyMods:this.keyMods,show:ue=>this.show(ue),hide:()=>this.hide(),setVisibilities:ue=>this.setVisibilities(ue),setEnabled:ue=>this.setEnabled(ue),setContextKey:ue=>this.options.setContextKey(ue),linkOpenerDelegate:ue=>this.options.linkOpenerDelegate(ue)},this.updateStyles(),this.ui}reparentUI(g){this.ui&&(this._container=g,m.append(this._container,this.ui.container))}pick(g,c={},f=p.CancellationToken.None){return new Promise((_,S)=>{let I=A=>{var O;I=_,(O=c.onKeyMods)===null||O===void 0||O.call(c,E.keyMods),_(A)};if(f.isCancellationRequested){I(void 0);return}const E=this.createQuickPick();let T;const N=[E,E.onDidAccept(()=>{if(E.canSelectMany)I(E.selectedItems.slice()),E.hide();else{const A=E.activeItems[0];A&&(I(A),E.hide())}}),E.onDidChangeActive(A=>{const O=A[0];O&&c.onDidFocus&&c.onDidFocus(O)}),E.onDidChangeSelection(A=>{if(!E.canSelectMany){const O=A[0];O&&(I(O),E.hide())}}),E.onDidTriggerItemButton(A=>c.onDidTriggerItemButton&&c.onDidTriggerItemButton({...A,removeItem:()=>{const O=E.items.indexOf(A.item);if(O!==-1){const M=E.items.slice(),P=M.splice(O,1),x=E.activeItems.filter(B=>B!==P[0]),R=E.keepScrollPosition;E.keepScrollPosition=!0,E.items=M,x&&(E.activeItems=x),E.keepScrollPosition=R}}})),E.onDidTriggerSeparatorButton(A=>{var O;return(O=c.onDidTriggerSeparatorButton)===null||O===void 0?void 0:O.call(c,A)}),E.onDidChangeValue(A=>{T&&!A&&(E.activeItems.length!==1||E.activeItems[0]!==T)&&(E.activeItems=[T])}),f.onCancellationRequested(()=>{E.hide()}),E.onDidHide(()=>{(0,C.dispose)(N),I(void 0)})];E.title=c.title,E.canSelectMany=!!c.canPickMany,E.placeholder=c.placeHolder,E.ignoreFocusOut=!!c.ignoreFocusLost,E.matchOnDescription=!!c.matchOnDescription,E.matchOnDetail=!!c.matchOnDetail,E.matchOnLabel=c.matchOnLabel===void 0||c.matchOnLabel,E.quickNavigate=c.quickNavigate,E.hideInput=!!c.hideInput,E.contextKey=c.contextKey,E.busy=!0,Promise.all([g,c.activeItem]).then(([A,O])=>{T=O,E.busy=!1,E.items=A,E.canSelectMany&&(E.selectedItems=A.filter(M=>M.type!=="separator"&&M.picked)),T&&(E.activeItems=[T])}),E.show(),Promise.resolve(g).then(void 0,A=>{S(A),E.hide()})})}createQuickPick(){const g=this.getUI(!0);return new t.QuickPick(g)}createInputBox(){const g=this.getUI(!0);return new t.InputBox(g)}show(g){const c=this.getUI(!0);this.onShowEmitter.fire();const f=this.controller;this.controller=g,f?.didHide(),this.setEnabled(!0),c.leftActionBar.clear(),c.title.textContent="",c.description1.textContent="",c.description2.textContent="",m.reset(c.widget),c.rightActionBar.clear(),c.checkAll.checked=!1,c.inputBox.placeholder="",c.inputBox.password=!1,c.inputBox.showDecoration(b.default.Ignore),c.visibleCount.setCount(0),c.count.setCount(0),m.reset(c.message),c.progressBar.stop(),c.list.setElements([]),c.list.matchOnDescription=!1,c.list.matchOnDetail=!1,c.list.matchOnLabel=!0,c.list.sortByLabel=!0,c.ignoreFocusOut=!1,c.inputBox.toggles=void 0;const _=this.options.backKeybindingLabel();t.backButton.tooltip=_?(0,a.localize)(5,null,_):(0,a.localize)(6,null),c.container.style.display="",this.updateLayout(),c.inputBox.setFocus()}isVisible(){return!!this.ui&&this.ui.container.style.display!=="none"}setVisibilities(g){const c=this.getUI();c.title.style.display=g.title?"":"none",c.description1.style.display=g.description&&(g.inputBox||g.checkAll)?"":"none",c.description2.style.display=g.description&&!(g.inputBox||g.checkAll)?"":"none",c.checkAll.style.display=g.checkAll?"":"none",c.inputContainer.style.display=g.inputBox?"":"none",c.filterContainer.style.display=g.inputBox?"":"none",c.visibleCountContainer.style.display=g.visibleCount?"":"none",c.countContainer.style.display=g.count?"":"none",c.okContainer.style.display=g.ok?"":"none",c.customButtonContainer.style.display=g.customButton?"":"none",c.message.style.display=g.message?"":"none",c.progressBar.getContainer().style.display=g.progressBar?"":"none",c.list.display(!!g.list),c.container.classList.toggle("show-checkboxes",!!g.checkBox),c.container.classList.toggle("hidden-input",!g.inputBox&&!g.description),this.updateLayout()}setEnabled(g){if(g!==this.enabled){this.enabled=g;for(const c of this.getUI().leftActionBar.viewItems)c.action.enabled=g;for(const c of this.getUI().rightActionBar.viewItems)c.action.enabled=g;this.getUI().checkAll.disabled=!g,this.getUI().inputBox.enabled=g,this.getUI().ok.enabled=g,this.getUI().list.enabled=g}}hide(g){var c,f;const _=this.controller;if(!_)return;_.willHide(g);const S=(c=this.ui)===null||c===void 0?void 0:c.container,I=S&&!m.isAncestorOfActiveElement(S);if(this.controller=null,this.onHideEmitter.fire(),S&&(S.style.display="none"),!I){let E=this.previousFocusElement;for(;E&&!E.offsetParent;)E=(f=E.parentElement)!==null&&f!==void 0?f:void 0;E?.offsetParent?(E.focus(),this.previousFocusElement=void 0):this.options.returnFocus()}_.didHide(g)}layout(g,c){this.dimension=g,this.titleBarOffset=c,this.updateLayout()}updateLayout(){if(this.ui&&this.isVisible()){this.ui.container.style.top=`${this.titleBarOffset}px`;const g=this.ui.container.style,c=Math.min(this.dimension.width*.62,d.MAX_WIDTH);g.width=c+"px",g.marginLeft="-"+c/2+"px",this.ui.inputBox.layout(),this.ui.list.layout(this.dimension&&this.dimension.height*.4)}}applyStyles(g){this.styles=g,this.updateStyles()}updateStyles(){if(this.ui){const{quickInputTitleBackground:g,quickInputBackground:c,quickInputForeground:f,widgetBorder:_,widgetShadow:S}=this.styles.widget;this.ui.titleBar.style.backgroundColor=g??"",this.ui.container.style.backgroundColor=c??"",this.ui.container.style.color=f??"",this.ui.container.style.border=_?`1px solid ${_}`:"",this.ui.container.style.boxShadow=S?`0 0 8px 2px ${S}`:"",this.ui.list.style(this.styles.list);const I=[];this.styles.pickerGroup.pickerGroupBorder&&I.push(`.quick-input-list .quick-input-list-entry { border-top-color:  ${this.styles.pickerGroup.pickerGroupBorder}; }`),this.styles.pickerGroup.pickerGroupForeground&&I.push(`.quick-input-list .quick-input-list-separator { color:  ${this.styles.pickerGroup.pickerGroupForeground}; }`),this.styles.pickerGroup.pickerGroupForeground&&I.push(".quick-input-list .quick-input-list-separator-as-item { color: var(--vscode-descriptionForeground); }"),(this.styles.keybindingLabel.keybindingLabelBackground||this.styles.keybindingLabel.keybindingLabelBorder||this.styles.keybindingLabel.keybindingLabelBottomBorder||this.styles.keybindingLabel.keybindingLabelShadow||this.styles.keybindingLabel.keybindingLabelForeground)&&(I.push(".quick-input-list .monaco-keybinding > .monaco-keybinding-key {"),this.styles.keybindingLabel.keybindingLabelBackground&&I.push(`background-color: ${this.styles.keybindingLabel.keybindingLabelBackground};`),this.styles.keybindingLabel.keybindingLabelBorder&&I.push(`border-color: ${this.styles.keybindingLabel.keybindingLabelBorder};`),this.styles.keybindingLabel.keybindingLabelBottomBorder&&I.push(`border-bottom-color: ${this.styles.keybindingLabel.keybindingLabelBottomBorder};`),this.styles.keybindingLabel.keybindingLabelShadow&&I.push(`box-shadow: inset 0 -1px 0 ${this.styles.keybindingLabel.keybindingLabelShadow};`),this.styles.keybindingLabel.keybindingLabelForeground&&I.push(`color: ${this.styles.keybindingLabel.keybindingLabelForeground};`),I.push("}"));const E=I.join(`
`);E!==this.ui.styleSheet.textContent&&(this.ui.styleSheet.textContent=E)}}};e.QuickInputController=l,l.MAX_WIDTH=600,e.QuickInputController=l=d=Ie([he(1,n.ILayoutService),he(2,v.IInstantiationService)],l)}),define(te[924],ie([1,0,20,7,14,8,113,59,840,106,31,23,394,923,25,6]),function(J,e,m,k,D,L,y,p,w,C,b,a,s,i,t,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickInputService=void 0;let h=class extends a.Themable{get controller(){return this._controller||(this._controller=this._register(this.createController())),this._controller}get hasController(){return!!this._controller}get quickAccess(){return this._quickAccess||(this._quickAccess=this._register(this.instantiationService.createInstance(w.QuickAccessController))),this._quickAccess}constructor(u,d,r,l,o){super(r),this.instantiationService=u,this.contextKeyService=d,this.layoutService=l,this.configurationService=o,this._onShow=this._register(new k.Emitter),this._onHide=this._register(new k.Emitter),this.contexts=new Map}createController(u=this.layoutService,d){const r={idPrefix:"quickInput_",container:u.activeContainer,ignoreFocusOut:()=>!1,backKeybindingLabel:()=>{},setContextKey:o=>this.setContextKey(o),linkOpenerDelegate:o=>{this.instantiationService.invokeFunction(g=>{g.get(p.IOpenerService).open(o,{allowCommands:!0,fromUserGesture:!0})})},returnFocus:()=>u.focus(),styles:this.computeStyles(),hoverDelegate:this._register(this.instantiationService.createInstance(s.QuickInputHoverDelegate))},l=this._register(this.instantiationService.createInstance(i.QuickInputController,{...r,...d}));return l.layout(u.activeContainerDimension,u.activeContainerOffset.quickPickTop),this._register(u.onDidLayoutActiveContainer(o=>{(0,n.getWindow)(u.activeContainer)===(0,n.getWindow)(l.container)&&l.layout(o,u.activeContainerOffset.quickPickTop)})),this._register(u.onDidChangeActiveContainer(()=>{l.isVisible()||l.layout(u.activeContainerDimension,u.activeContainerOffset.quickPickTop)})),this._register(l.onShow(()=>{this.resetContextKeys(),this._onShow.fire()})),this._register(l.onHide(()=>{this.resetContextKeys(),this._onHide.fire()})),l}setContextKey(u){let d;u&&(d=this.contexts.get(u),d||(d=new D.RawContextKey(u,!1).bindTo(this.contextKeyService),this.contexts.set(u,d))),!(d&&d.get())&&(this.resetContextKeys(),d?.set(!0))}resetContextKeys(){this.contexts.forEach(u=>{u.get()&&u.reset()})}pick(u,d={},r=m.CancellationToken.None){return this.controller.pick(u,d,r)}createQuickPick(){return this.controller.createQuickPick()}createInputBox(){return this.controller.createInputBox()}updateStyles(){this.hasController&&this.controller.applyStyles(this.computeStyles())}computeStyles(){return{widget:{quickInputBackground:(0,b.asCssVariable)(b.quickInputBackground),quickInputForeground:(0,b.asCssVariable)(b.quickInputForeground),quickInputTitleBackground:(0,b.asCssVariable)(b.quickInputTitleBackground),widgetBorder:(0,b.asCssVariable)(b.widgetBorder),widgetShadow:(0,b.asCssVariable)(b.widgetShadow)},inputBox:C.defaultInputBoxStyles,toggle:C.defaultToggleStyles,countBadge:C.defaultCountBadgeStyles,button:C.defaultButtonStyles,progressBar:C.defaultProgressBarStyles,keybindingLabel:C.defaultKeybindingLabelStyles,list:(0,C.getListStyles)({listBackground:b.quickInputBackground,listFocusBackground:b.quickInputListFocusBackground,listFocusForeground:b.quickInputListFocusForeground,listInactiveFocusForeground:b.quickInputListFocusForeground,listInactiveSelectionIconForeground:b.quickInputListFocusIconForeground,listInactiveFocusBackground:b.quickInputListFocusBackground,listFocusOutline:b.activeContrastBorder,listInactiveFocusOutline:b.activeContrastBorder}),pickerGroup:{pickerGroupBorder:(0,b.asCssVariable)(b.pickerGroupBorder),pickerGroupForeground:(0,b.asCssVariable)(b.pickerGroupForeground)}}}};e.QuickInputService=h,e.QuickInputService=h=Ie([he(0,L.IInstantiationService),he(1,D.IContextKeyService),he(2,a.IThemeService),he(3,y.ILayoutService),he(4,t.IConfigurationService)],h)}),define(te[925],ie([1,0,7,16,23,20,8,14,367,36,924,119,25,509]),function(J,e,m,k,D,L,y,p,w,C,b,a,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickInputEditorWidget=e.QuickInputEditorContribution=e.StandaloneQuickInputService=void 0;let i=class extends b.QuickInputService{constructor(u,d,r,l,o,g){super(d,r,l,new w.EditorScopedLayoutService(u.getContainerDomNode(),o),g),this.host=void 0;const c=n.get(u);if(c){const f=c.widget;this.host={_serviceBrand:void 0,get mainContainer(){return f.getDomNode()},getContainer(){return f.getDomNode()},whenContainerStylesLoaded(){},get containers(){return[f.getDomNode()]},get activeContainer(){return f.getDomNode()},get mainContainerDimension(){return u.getLayoutInfo()},get activeContainerDimension(){return u.getLayoutInfo()},get onDidLayoutMainContainer(){return u.onDidLayoutChange},get onDidLayoutActiveContainer(){return u.onDidLayoutChange},get onDidLayoutContainer(){return m.Event.map(u.onDidLayoutChange,_=>({container:f.getDomNode(),dimension:_}))},get onDidChangeActiveContainer(){return m.Event.None},get onDidAddContainer(){return m.Event.None},get mainContainerOffset(){return{top:0,quickPickTop:0}},get activeContainerOffset(){return{top:0,quickPickTop:0}},focus:()=>u.focus()}}else this.host=void 0}createController(){return super.createController(this.host)}};i=Ie([he(1,y.IInstantiationService),he(2,p.IContextKeyService),he(3,D.IThemeService),he(4,C.ICodeEditorService),he(5,s.IConfigurationService)],i);let t=class{get activeService(){const u=this.codeEditorService.getFocusedCodeEditor();if(!u)throw new Error("Quick input service needs a focused editor to work.");let d=this.mapEditorToService.get(u);if(!d){const r=d=this.instantiationService.createInstance(i,u);this.mapEditorToService.set(u,d),(0,a.createSingleCallFunction)(u.onDidDispose)(()=>{r.dispose(),this.mapEditorToService.delete(u)})}return d}get quickAccess(){return this.activeService.quickAccess}constructor(u,d){this.instantiationService=u,this.codeEditorService=d,this.mapEditorToService=new Map}pick(u,d={},r=L.CancellationToken.None){return this.activeService.pick(u,d,r)}createQuickPick(){return this.activeService.createQuickPick()}createInputBox(){return this.activeService.createInputBox()}};e.StandaloneQuickInputService=t,e.StandaloneQuickInputService=t=Ie([he(0,y.IInstantiationService),he(1,C.ICodeEditorService)],t);class n{static get(u){return u.getContribution(n.ID)}constructor(u){this.editor=u,this.widget=new h(this.editor)}dispose(){this.widget.dispose()}}e.QuickInputEditorContribution=n,n.ID="editor.controller.quickInput";class h{constructor(u){this.codeEditor=u,this.domNode=document.createElement("div"),this.codeEditor.addOverlayWidget(this)}getId(){return h.ID}getDomNode(){return this.domNode}getPosition(){return{preference:2}}dispose(){this.codeEditor.removeOverlayWidget(this)}}e.QuickInputEditorWidget=h,h.ID="editor.contrib.quickInputWidget",(0,k.registerEditorContribution)(n.ID,n,4)}),define(te[207],ie([1,0,8]),function(J,e,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UndoRedoSource=e.UndoRedoGroup=e.ResourceEditStackSnapshot=e.IUndoRedoService=void 0,e.IUndoRedoService=(0,m.createDecorator)("undoRedoService");class k{constructor(p,w){this.resource=p,this.elements=w}}e.ResourceEditStackSnapshot=k;class D{constructor(){this.id=D._ID++,this.order=1}nextOrder(){return this.id===0?0:this.order++}}e.UndoRedoGroup=D,D._ID=0,D.None=new D;class L{constructor(){this.id=L._ID++,this.order=1}nextOrder(){return this.id===0?0:this.order++}}e.UndoRedoSource=L,L._ID=0,L.None=new L}),define(te[37],ie([1,0,13,34,12,7,2,11,22,139,219,60,9,5,24,188,42,33,43,641,903,357,315,548,549,348,642,193,671,125,207]),function(J,e,m,k,D,L,y,p,w,C,b,a,s,i,t,n,h,v,u,d,r,l,o,g,c,f,_,S,I,E,T){"use strict";var N;Object.defineProperty(e,"__esModule",{value:!0}),e.AttachedViews=e.ModelDecorationOptions=e.ModelDecorationInjectedTextOptions=e.ModelDecorationMinimapOptions=e.ModelDecorationGlyphMarginOptions=e.ModelDecorationOverviewRulerOptions=e.TextModel=void 0,e.createTextBufferFactory=A,e.createTextBufferFactoryFromSnapshot=O,e.createTextBuffer=M;function A(Y){const j=new _.PieceTreeTextBufferBuilder;return j.acceptChunk(Y),j.finish()}function O(Y){const j=new _.PieceTreeTextBufferBuilder;let G;for(;typeof(G=Y.read())=="string";)j.acceptChunk(G);return j.finish()}function M(Y,j){let G;return typeof Y=="string"?G=A(Y):u.isITextSnapshot(Y)?G=O(Y):G=Y,G.create(j)}let P=0;const x=999,R=1e4;class B{constructor(j){this._source=j,this._eos=!1}read(){if(this._eos)return null;const j=[];let G=0,oe=0;do{const ne=this._source.read();if(ne===null)return this._eos=!0,G===0?null:j.join("");if(ne.length>0&&(j[G++]=ne,oe+=ne.length),oe>=64*1024)return j.join("")}while(!0)}}const H=()=>{throw new Error("Invalid change accessor")};let V=N=class extends y.Disposable{static resolveOptions(j,G){if(G.detectIndentation){const oe=(0,g.guessIndentation)(j,G.tabSize,G.insertSpaces);return new u.TextModelResolvedOptions({tabSize:oe.tabSize,indentSize:"tabSize",insertSpaces:oe.insertSpaces,trimAutoWhitespace:G.trimAutoWhitespace,defaultEOL:G.defaultEOL,bracketPairColorizationOptions:G.bracketPairColorizationOptions})}return new u.TextModelResolvedOptions(G)}get onDidChangeLanguage(){return this._tokenizationTextModelPart.onDidChangeLanguage}get onDidChangeLanguageConfiguration(){return this._tokenizationTextModelPart.onDidChangeLanguageConfiguration}get onDidChangeTokens(){return this._tokenizationTextModelPart.onDidChangeTokens}onDidChangeContent(j){return this._eventEmitter.slowEvent(G=>j(G.contentChangedEvent))}onDidChangeContentOrInjectedText(j){return(0,y.combinedDisposable)(this._eventEmitter.fastEvent(G=>j(G)),this._onDidChangeInjectedText.event(G=>j(G)))}_isDisposing(){return this.__isDisposing}get tokenization(){return this._tokenizationTextModelPart}get bracketPairs(){return this._bracketPairs}get guides(){return this._guidesTextModelPart}constructor(j,G,oe,ne=null,ce,le,me){super(),this._undoRedoService=ce,this._languageService=le,this._languageConfigurationService=me,this._onWillDispose=this._register(new L.Emitter),this.onWillDispose=this._onWillDispose.event,this._onDidChangeDecorations=this._register(new de(ke=>this.handleBeforeFireDecorationsChangedEvent(ke))),this.onDidChangeDecorations=this._onDidChangeDecorations.event,this._onDidChangeOptions=this._register(new L.Emitter),this.onDidChangeOptions=this._onDidChangeOptions.event,this._onDidChangeAttached=this._register(new L.Emitter),this.onDidChangeAttached=this._onDidChangeAttached.event,this._onDidChangeInjectedText=this._register(new L.Emitter),this._eventEmitter=this._register(new ee),this._languageSelectionListener=this._register(new y.MutableDisposable),this._deltaDecorationCallCnt=0,this._attachedViews=new W,P++,this.id="$model"+P,this.isForSimpleWidget=oe.isForSimpleWidget,typeof ne>"u"||ne===null?this._associatedResource=w.URI.parse("inmemory://model/"+P):this._associatedResource=ne,this._attachedEditorCount=0;const{textBuffer:ve,disposable:Ce}=M(j,oe.defaultEOL);this._buffer=ve,this._bufferDisposable=Ce,this._options=N.resolveOptions(this._buffer,oe);const Se=typeof G=="string"?G:G.languageId;typeof G!="string"&&(this._languageSelectionListener.value=G.onDidChange(()=>this._setLanguage(G.languageId))),this._bracketPairs=this._register(new d.BracketPairsTextModelPart(this,this._languageConfigurationService)),this._guidesTextModelPart=this._register(new o.GuidesTextModelPart(this,this._languageConfigurationService)),this._decorationProvider=this._register(new r.ColorizedBracketPairsDecorationProvider(this)),this._tokenizationTextModelPart=new I.TokenizationTextModelPart(this._languageService,this._languageConfigurationService,this,this._bracketPairs,Se,this._attachedViews);const _e=this._buffer.getLineCount(),Le=this._buffer.getValueLengthInRange(new i.Range(1,1,_e,this._buffer.getLineLength(_e)+1),0);oe.largeFileOptimizations?(this._isTooLargeForTokenization=Le>N.LARGE_FILE_SIZE_THRESHOLD||_e>N.LARGE_FILE_LINE_COUNT_THRESHOLD,this._isTooLargeForHeapOperation=Le>N.LARGE_FILE_HEAP_OPERATION_THRESHOLD):(this._isTooLargeForTokenization=!1,this._isTooLargeForHeapOperation=!1),this._isTooLargeForSyncing=Le>N._MODEL_SYNC_LIMIT,this._versionId=1,this._alternativeVersionId=1,this._initialUndoRedoSnapshot=null,this._isDisposed=!1,this.__isDisposing=!1,this._instanceId=p.singleLetterHash(P),this._lastDecorationId=0,this._decorations=Object.create(null),this._decorationsTree=new se,this._commandManager=new l.EditStack(this,this._undoRedoService),this._isUndoing=!1,this._isRedoing=!1,this._trimAutoWhitespaceLines=null,this._register(this._decorationProvider.onDidChange(()=>{this._onDidChangeDecorations.beginDeferredEmit(),this._onDidChangeDecorations.fire(),this._onDidChangeDecorations.endDeferredEmit()})),this._languageService.requestRichLanguageFeatures(Se)}dispose(){this.__isDisposing=!0,this._onWillDispose.fire(),this._tokenizationTextModelPart.dispose(),this._isDisposed=!0,super.dispose(),this._bufferDisposable.dispose(),this.__isDisposing=!1;const j=new f.PieceTreeTextBuffer([],"",`
`,!1,!1,!0,!0);j.dispose(),this._buffer=j,this._bufferDisposable=y.Disposable.None}_assertNotDisposed(){if(this._isDisposed)throw new Error("Model is disposed!")}_emitContentChangedEvent(j,G){this.__isDisposing||(this._tokenizationTextModelPart.handleDidChangeContent(G),this._bracketPairs.handleDidChangeContent(G),this._eventEmitter.fire(new E.InternalModelContentChangeEvent(j,G)))}setValue(j){if(this._assertNotDisposed(),j==null)throw(0,D.illegalArgument)();const{textBuffer:G,disposable:oe}=M(j,this._options.defaultEOL);this._setValueFromTextBuffer(G,oe)}_createContentChanged2(j,G,oe,ne,ce,le,me,ve){return{changes:[{range:j,rangeOffset:G,rangeLength:oe,text:ne}],eol:this._buffer.getEOL(),isEolChange:ve,versionId:this.getVersionId(),isUndoing:ce,isRedoing:le,isFlush:me}}_setValueFromTextBuffer(j,G){this._assertNotDisposed();const oe=this.getFullModelRange(),ne=this.getValueLengthInRange(oe),ce=this.getLineCount(),le=this.getLineMaxColumn(ce);this._buffer=j,this._bufferDisposable.dispose(),this._bufferDisposable=G,this._increaseVersionId(),this._decorations=Object.create(null),this._decorationsTree=new se,this._commandManager.clear(),this._trimAutoWhitespaceLines=null,this._emitContentChangedEvent(new E.ModelRawContentChangedEvent([new E.ModelRawFlush],this._versionId,!1,!1),this._createContentChanged2(new i.Range(1,1,ce,le),0,ne,this.getValue(),!1,!1,!0,!1))}setEOL(j){this._assertNotDisposed();const G=j===1?`\r
`:`
`;if(this._buffer.getEOL()===G)return;const oe=this.getFullModelRange(),ne=this.getValueLengthInRange(oe),ce=this.getLineCount(),le=this.getLineMaxColumn(ce);this._onBeforeEOLChange(),this._buffer.setEOL(G),this._increaseVersionId(),this._onAfterEOLChange(),this._emitContentChangedEvent(new E.ModelRawContentChangedEvent([new E.ModelRawEOLChanged],this._versionId,!1,!1),this._createContentChanged2(new i.Range(1,1,ce,le),0,ne,this.getValue(),!1,!1,!1,!0))}_onBeforeEOLChange(){this._decorationsTree.ensureAllNodesHaveRanges(this)}_onAfterEOLChange(){const j=this.getVersionId(),G=this._decorationsTree.collectNodesPostOrder();for(let oe=0,ne=G.length;oe<ne;oe++){const ce=G[oe],le=ce.range,me=ce.cachedAbsoluteStart-ce.start,ve=this._buffer.getOffsetAt(le.startLineNumber,le.startColumn),Ce=this._buffer.getOffsetAt(le.endLineNumber,le.endColumn);ce.cachedAbsoluteStart=ve,ce.cachedAbsoluteEnd=Ce,ce.cachedVersionId=j,ce.start=ve-me,ce.end=Ce-me,(0,c.recomputeMaxEnd)(ce)}}onBeforeAttached(){return this._attachedEditorCount++,this._attachedEditorCount===1&&(this._tokenizationTextModelPart.handleDidChangeAttached(),this._onDidChangeAttached.fire(void 0)),this._attachedViews.attachView()}onBeforeDetached(j){this._attachedEditorCount--,this._attachedEditorCount===0&&(this._tokenizationTextModelPart.handleDidChangeAttached(),this._onDidChangeAttached.fire(void 0)),this._attachedViews.detachView(j)}isAttachedToEditor(){return this._attachedEditorCount>0}getAttachedEditorCount(){return this._attachedEditorCount}isTooLargeForSyncing(){return this._isTooLargeForSyncing}isTooLargeForTokenization(){return this._isTooLargeForTokenization}isTooLargeForHeapOperation(){return this._isTooLargeForHeapOperation}isDisposed(){return this._isDisposed}isDominatedByLongLines(){if(this._assertNotDisposed(),this.isTooLargeForTokenization())return!1;let j=0,G=0;const oe=this._buffer.getLineCount();for(let ne=1;ne<=oe;ne++){const ce=this._buffer.getLineLength(ne);ce>=R?G+=ce:j+=ce}return G>j}get uri(){return this._associatedResource}getOptions(){return this._assertNotDisposed(),this._options}getFormattingOptions(){return{tabSize:this._options.indentSize,insertSpaces:this._options.insertSpaces}}updateOptions(j){this._assertNotDisposed();const G=typeof j.tabSize<"u"?j.tabSize:this._options.tabSize,oe=typeof j.indentSize<"u"?j.indentSize:this._options.originalIndentSize,ne=typeof j.insertSpaces<"u"?j.insertSpaces:this._options.insertSpaces,ce=typeof j.trimAutoWhitespace<"u"?j.trimAutoWhitespace:this._options.trimAutoWhitespace,le=typeof j.bracketColorizationOptions<"u"?j.bracketColorizationOptions:this._options.bracketPairColorizationOptions,me=new u.TextModelResolvedOptions({tabSize:G,indentSize:oe,insertSpaces:ne,defaultEOL:this._options.defaultEOL,trimAutoWhitespace:ce,bracketPairColorizationOptions:le});if(this._options.equals(me))return;const ve=this._options.createChangeEvent(me);this._options=me,this._bracketPairs.handleDidChangeOptions(ve),this._decorationProvider.handleDidChangeOptions(ve),this._onDidChangeOptions.fire(ve)}detectIndentation(j,G){this._assertNotDisposed();const oe=(0,g.guessIndentation)(this._buffer,G,j);this.updateOptions({insertSpaces:oe.insertSpaces,tabSize:oe.tabSize,indentSize:oe.tabSize})}normalizeIndentation(j){return this._assertNotDisposed(),(0,b.normalizeIndentation)(j,this._options.indentSize,this._options.insertSpaces)}getVersionId(){return this._assertNotDisposed(),this._versionId}mightContainRTL(){return this._buffer.mightContainRTL()}mightContainUnusualLineTerminators(){return this._buffer.mightContainUnusualLineTerminators()}removeUnusualLineTerminators(j=null){const G=this.findMatches(p.UNUSUAL_LINE_TERMINATORS.source,!1,!0,!1,null,!1,1073741824);this._buffer.resetMightContainUnusualLineTerminators(),this.pushEditOperations(j,G.map(oe=>({range:oe.range,text:null})),()=>null)}mightContainNonBasicASCII(){return this._buffer.mightContainNonBasicASCII()}getAlternativeVersionId(){return this._assertNotDisposed(),this._alternativeVersionId}getInitialUndoRedoSnapshot(){return this._assertNotDisposed(),this._initialUndoRedoSnapshot}getOffsetAt(j){this._assertNotDisposed();const G=this._validatePosition(j.lineNumber,j.column,0);return this._buffer.getOffsetAt(G.lineNumber,G.column)}getPositionAt(j){this._assertNotDisposed();const G=Math.min(this._buffer.getLength(),Math.max(0,j));return this._buffer.getPositionAt(G)}_increaseVersionId(){this._versionId=this._versionId+1,this._alternativeVersionId=this._versionId}_overwriteVersionId(j){this._versionId=j}_overwriteAlternativeVersionId(j){this._alternativeVersionId=j}_overwriteInitialUndoRedoSnapshot(j){this._initialUndoRedoSnapshot=j}getValue(j,G=!1){if(this._assertNotDisposed(),this.isTooLargeForHeapOperation())throw new D.BugIndicatingError("Operation would exceed heap memory limits");const oe=this.getFullModelRange(),ne=this.getValueInRange(oe,j);return G?this._buffer.getBOM()+ne:ne}createSnapshot(j=!1){return new B(this._buffer.createSnapshot(j))}getValueLength(j,G=!1){this._assertNotDisposed();const oe=this.getFullModelRange(),ne=this.getValueLengthInRange(oe,j);return G?this._buffer.getBOM().length+ne:ne}getValueInRange(j,G=0){return this._assertNotDisposed(),this._buffer.getValueInRange(this.validateRange(j),G)}getValueLengthInRange(j,G=0){return this._assertNotDisposed(),this._buffer.getValueLengthInRange(this.validateRange(j),G)}getCharacterCountInRange(j,G=0){return this._assertNotDisposed(),this._buffer.getCharacterCountInRange(this.validateRange(j),G)}getLineCount(){return this._assertNotDisposed(),this._buffer.getLineCount()}getLineContent(j){if(this._assertNotDisposed(),j<1||j>this.getLineCount())throw new D.BugIndicatingError("Illegal value for lineNumber");return this._buffer.getLineContent(j)}getLineLength(j){if(this._assertNotDisposed(),j<1||j>this.getLineCount())throw new D.BugIndicatingError("Illegal value for lineNumber");return this._buffer.getLineLength(j)}getLinesContent(){if(this._assertNotDisposed(),this.isTooLargeForHeapOperation())throw new D.BugIndicatingError("Operation would exceed heap memory limits");return this._buffer.getLinesContent()}getEOL(){return this._assertNotDisposed(),this._buffer.getEOL()}getEndOfLineSequence(){return this._assertNotDisposed(),this._buffer.getEOL()===`
`?0:1}getLineMinColumn(j){return this._assertNotDisposed(),1}getLineMaxColumn(j){if(this._assertNotDisposed(),j<1||j>this.getLineCount())throw new D.BugIndicatingError("Illegal value for lineNumber");return this._buffer.getLineLength(j)+1}getLineFirstNonWhitespaceColumn(j){if(this._assertNotDisposed(),j<1||j>this.getLineCount())throw new D.BugIndicatingError("Illegal value for lineNumber");return this._buffer.getLineFirstNonWhitespaceColumn(j)}getLineLastNonWhitespaceColumn(j){if(this._assertNotDisposed(),j<1||j>this.getLineCount())throw new D.BugIndicatingError("Illegal value for lineNumber");return this._buffer.getLineLastNonWhitespaceColumn(j)}_validateRangeRelaxedNoAllocations(j){const G=this._buffer.getLineCount(),oe=j.startLineNumber,ne=j.startColumn;let ce=Math.floor(typeof oe=="number"&&!isNaN(oe)?oe:1),le=Math.floor(typeof ne=="number"&&!isNaN(ne)?ne:1);if(ce<1)ce=1,le=1;else if(ce>G)ce=G,le=this.getLineMaxColumn(ce);else if(le<=1)le=1;else{const _e=this.getLineMaxColumn(ce);le>=_e&&(le=_e)}const me=j.endLineNumber,ve=j.endColumn;let Ce=Math.floor(typeof me=="number"&&!isNaN(me)?me:1),Se=Math.floor(typeof ve=="number"&&!isNaN(ve)?ve:1);if(Ce<1)Ce=1,Se=1;else if(Ce>G)Ce=G,Se=this.getLineMaxColumn(Ce);else if(Se<=1)Se=1;else{const _e=this.getLineMaxColumn(Ce);Se>=_e&&(Se=_e)}return oe===ce&&ne===le&&me===Ce&&ve===Se&&j instanceof i.Range&&!(j instanceof t.Selection)?j:new i.Range(ce,le,Ce,Se)}_isValidPosition(j,G,oe){if(typeof j!="number"||typeof G!="number"||isNaN(j)||isNaN(G)||j<1||G<1||(j|0)!==j||(G|0)!==G)return!1;const ne=this._buffer.getLineCount();if(j>ne)return!1;if(G===1)return!0;const ce=this.getLineMaxColumn(j);if(G>ce)return!1;if(oe===1){const le=this._buffer.getLineCharCode(j,G-2);if(p.isHighSurrogate(le))return!1}return!0}_validatePosition(j,G,oe){const ne=Math.floor(typeof j=="number"&&!isNaN(j)?j:1),ce=Math.floor(typeof G=="number"&&!isNaN(G)?G:1),le=this._buffer.getLineCount();if(ne<1)return new s.Position(1,1);if(ne>le)return new s.Position(le,this.getLineMaxColumn(le));if(ce<=1)return new s.Position(ne,1);const me=this.getLineMaxColumn(ne);if(ce>=me)return new s.Position(ne,me);if(oe===1){const ve=this._buffer.getLineCharCode(ne,ce-2);if(p.isHighSurrogate(ve))return new s.Position(ne,ce-1)}return new s.Position(ne,ce)}validatePosition(j){return this._assertNotDisposed(),j instanceof s.Position&&this._isValidPosition(j.lineNumber,j.column,1)?j:this._validatePosition(j.lineNumber,j.column,1)}_isValidRange(j,G){const oe=j.startLineNumber,ne=j.startColumn,ce=j.endLineNumber,le=j.endColumn;if(!this._isValidPosition(oe,ne,0)||!this._isValidPosition(ce,le,0))return!1;if(G===1){const me=ne>1?this._buffer.getLineCharCode(oe,ne-2):0,ve=le>1&&le<=this._buffer.getLineLength(ce)?this._buffer.getLineCharCode(ce,le-2):0,Ce=p.isHighSurrogate(me),Se=p.isHighSurrogate(ve);return!Ce&&!Se}return!0}validateRange(j){if(this._assertNotDisposed(),j instanceof i.Range&&!(j instanceof t.Selection)&&this._isValidRange(j,1))return j;const oe=this._validatePosition(j.startLineNumber,j.startColumn,0),ne=this._validatePosition(j.endLineNumber,j.endColumn,0),ce=oe.lineNumber,le=oe.column,me=ne.lineNumber,ve=ne.column;{const Ce=le>1?this._buffer.getLineCharCode(ce,le-2):0,Se=ve>1&&ve<=this._buffer.getLineLength(me)?this._buffer.getLineCharCode(me,ve-2):0,_e=p.isHighSurrogate(Ce),Le=p.isHighSurrogate(Se);return!_e&&!Le?new i.Range(ce,le,me,ve):ce===me&&le===ve?new i.Range(ce,le-1,me,ve-1):_e&&Le?new i.Range(ce,le-1,me,ve+1):_e?new i.Range(ce,le-1,me,ve):new i.Range(ce,le,me,ve+1)}return new i.Range(ce,le,me,ve)}modifyPosition(j,G){this._assertNotDisposed();const oe=this.getOffsetAt(j)+G;return this.getPositionAt(Math.min(this._buffer.getLength(),Math.max(0,oe)))}getFullModelRange(){this._assertNotDisposed();const j=this.getLineCount();return new i.Range(1,1,j,this.getLineMaxColumn(j))}findMatchesLineByLine(j,G,oe,ne){return this._buffer.findMatchesLineByLine(j,G,oe,ne)}findMatches(j,G,oe,ne,ce,le,me=x){this._assertNotDisposed();let ve=null;G!==null&&(Array.isArray(G)||(G=[G]),G.every(_e=>i.Range.isIRange(_e))&&(ve=G.map(_e=>this.validateRange(_e)))),ve===null&&(ve=[this.getFullModelRange()]),ve=ve.sort((_e,Le)=>_e.startLineNumber-Le.startLineNumber||_e.startColumn-Le.startColumn);const Ce=[];Ce.push(ve.reduce((_e,Le)=>i.Range.areIntersecting(_e,Le)?_e.plusRange(Le):(Ce.push(_e),Le)));let Se;if(!oe&&j.indexOf(`
`)<0){const Le=new S.SearchParams(j,oe,ne,ce).parseSearchRequest();if(!Le)return[];Se=ke=>this.findMatchesLineByLine(ke,Le,le,me)}else Se=_e=>S.TextModelSearch.findMatches(this,new S.SearchParams(j,oe,ne,ce),_e,le,me);return Ce.map(Se).reduce((_e,Le)=>_e.concat(Le),[])}findNextMatch(j,G,oe,ne,ce,le){this._assertNotDisposed();const me=this.validatePosition(G);if(!oe&&j.indexOf(`
`)<0){const Ce=new S.SearchParams(j,oe,ne,ce).parseSearchRequest();if(!Ce)return null;const Se=this.getLineCount();let _e=new i.Range(me.lineNumber,me.column,Se,this.getLineMaxColumn(Se)),Le=this.findMatchesLineByLine(_e,Ce,le,1);return S.TextModelSearch.findNextMatch(this,new S.SearchParams(j,oe,ne,ce),me,le),Le.length>0||(_e=new i.Range(1,1,me.lineNumber,this.getLineMaxColumn(me.lineNumber)),Le=this.findMatchesLineByLine(_e,Ce,le,1),Le.length>0)?Le[0]:null}return S.TextModelSearch.findNextMatch(this,new S.SearchParams(j,oe,ne,ce),me,le)}findPreviousMatch(j,G,oe,ne,ce,le){this._assertNotDisposed();const me=this.validatePosition(G);return S.TextModelSearch.findPreviousMatch(this,new S.SearchParams(j,oe,ne,ce),me,le)}pushStackElement(){this._commandManager.pushStackElement()}popStackElement(){this._commandManager.popStackElement()}pushEOL(j){if((this.getEOL()===`
`?0:1)!==j)try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._initialUndoRedoSnapshot===null&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEOL(j)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_validateEditOperation(j){return j instanceof u.ValidAnnotatedEditOperation?j:new u.ValidAnnotatedEditOperation(j.identifier||null,this.validateRange(j.range),j.text,j.forceMoveMarkers||!1,j.isAutoWhitespaceEdit||!1,j._isTracked||!1)}_validateEditOperations(j){const G=[];for(let oe=0,ne=j.length;oe<ne;oe++)G[oe]=this._validateEditOperation(j[oe]);return G}pushEditOperations(j,G,oe,ne){try{return this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._pushEditOperations(j,this._validateEditOperations(G),oe,ne)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_pushEditOperations(j,G,oe,ne){if(this._options.trimAutoWhitespace&&this._trimAutoWhitespaceLines){const ce=G.map(me=>({range:this.validateRange(me.range),text:me.text}));let le=!0;if(j)for(let me=0,ve=j.length;me<ve;me++){const Ce=j[me];let Se=!1;for(let _e=0,Le=ce.length;_e<Le;_e++){const ke=ce[_e].range,Ae=ke.startLineNumber>Ce.endLineNumber,xe=Ce.startLineNumber>ke.endLineNumber;if(!Ae&&!xe){Se=!0;break}}if(!Se){le=!1;break}}if(le)for(let me=0,ve=this._trimAutoWhitespaceLines.length;me<ve;me++){const Ce=this._trimAutoWhitespaceLines[me],Se=this.getLineMaxColumn(Ce);let _e=!0;for(let Le=0,ke=ce.length;Le<ke;Le++){const Ae=ce[Le].range,xe=ce[Le].text;if(!(Ce<Ae.startLineNumber||Ce>Ae.endLineNumber)&&!(Ce===Ae.startLineNumber&&Ae.startColumn===Se&&Ae.isEmpty()&&xe&&xe.length>0&&xe.charAt(0)===`
`)&&!(Ce===Ae.startLineNumber&&Ae.startColumn===1&&Ae.isEmpty()&&xe&&xe.length>0&&xe.charAt(xe.length-1)===`
`)){_e=!1;break}}if(_e){const Le=new i.Range(Ce,1,Ce,Se);G.push(new u.ValidAnnotatedEditOperation(null,Le,null,!1,!1,!1))}}this._trimAutoWhitespaceLines=null}return this._initialUndoRedoSnapshot===null&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEditOperation(j,G,oe,ne)}_applyUndo(j,G,oe,ne){const ce=j.map(le=>{const me=this.getPositionAt(le.newPosition),ve=this.getPositionAt(le.newEnd);return{range:new i.Range(me.lineNumber,me.column,ve.lineNumber,ve.column),text:le.oldText}});this._applyUndoRedoEdits(ce,G,!0,!1,oe,ne)}_applyRedo(j,G,oe,ne){const ce=j.map(le=>{const me=this.getPositionAt(le.oldPosition),ve=this.getPositionAt(le.oldEnd);return{range:new i.Range(me.lineNumber,me.column,ve.lineNumber,ve.column),text:le.newText}});this._applyUndoRedoEdits(ce,G,!1,!0,oe,ne)}_applyUndoRedoEdits(j,G,oe,ne,ce,le){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._isUndoing=oe,this._isRedoing=ne,this.applyEdits(j,!1),this.setEOL(G),this._overwriteAlternativeVersionId(ce)}finally{this._isUndoing=!1,this._isRedoing=!1,this._eventEmitter.endDeferredEmit(le),this._onDidChangeDecorations.endDeferredEmit()}}applyEdits(j,G=!1){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit();const oe=this._validateEditOperations(j);return this._doApplyEdits(oe,G)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_doApplyEdits(j,G){const oe=this._buffer.getLineCount(),ne=this._buffer.applyEdits(j,this._options.trimAutoWhitespace,G),ce=this._buffer.getLineCount(),le=ne.changes;if(this._trimAutoWhitespaceLines=ne.trimAutoWhitespaceLineNumbers,le.length!==0){for(let Ce=0,Se=le.length;Ce<Se;Ce++){const _e=le[Ce];this._decorationsTree.acceptReplace(_e.rangeOffset,_e.rangeLength,_e.text.length,_e.forceMoveMarkers)}const me=[];this._increaseVersionId();let ve=oe;for(let Ce=0,Se=le.length;Ce<Se;Ce++){const _e=le[Ce],[Le]=(0,C.countEOL)(_e.text);this._onDidChangeDecorations.fire();const ke=_e.range.startLineNumber,Ae=_e.range.endLineNumber,xe=Ae-ke,He=Le,Be=Math.min(xe,He),Ee=He-xe,Ne=ce-ve-Ee+ke,pe=Ne,be=Ne+He,Re=this._decorationsTree.getInjectedTextInInterval(this,this.getOffsetAt(new s.Position(pe,1)),this.getOffsetAt(new s.Position(be,this.getLineMaxColumn(be))),0),We=E.LineInjectedText.fromDecorations(Re),qe=new m.ArrayQueue(We);for(let je=Be;je>=0;je--){const Ze=ke+je,Je=Ne+je;qe.takeFromEndWhile(rt=>rt.lineNumber>Je);const st=qe.takeFromEndWhile(rt=>rt.lineNumber===Je);me.push(new E.ModelRawLineChanged(Ze,this.getLineContent(Je),st))}if(Be<xe){const je=ke+Be;me.push(new E.ModelRawLinesDeleted(je+1,Ae))}if(Be<He){const je=new m.ArrayQueue(We),Ze=ke+Be,Je=He-Be,st=ce-ve-Je+Ze+1,rt=[],pt=[];for(let et=0;et<Je;et++){const ut=st+et;pt[et]=this.getLineContent(ut),je.takeWhile(ot=>ot.lineNumber<ut),rt[et]=je.takeWhile(ot=>ot.lineNumber===ut)}me.push(new E.ModelRawLinesInserted(Ze+1,ke+He,pt,rt))}ve+=Ee}this._emitContentChangedEvent(new E.ModelRawContentChangedEvent(me,this.getVersionId(),this._isUndoing,this._isRedoing),{changes:le,eol:this._buffer.getEOL(),isEolChange:!1,versionId:this.getVersionId(),isUndoing:this._isUndoing,isRedoing:this._isRedoing,isFlush:!1})}return ne.reverseEdits===null?void 0:ne.reverseEdits}undo(){return this._undoRedoService.undo(this.uri)}canUndo(){return this._undoRedoService.canUndo(this.uri)}redo(){return this._undoRedoService.redo(this.uri)}canRedo(){return this._undoRedoService.canRedo(this.uri)}handleBeforeFireDecorationsChangedEvent(j){if(j===null||j.size===0)return;const oe=Array.from(j).map(ne=>new E.ModelRawLineChanged(ne,this.getLineContent(ne),this._getInjectedTextInLine(ne)));this._onDidChangeInjectedText.fire(new E.ModelInjectedTextChangedEvent(oe))}changeDecorations(j,G=0){this._assertNotDisposed();try{return this._onDidChangeDecorations.beginDeferredEmit(),this._changeDecorations(G,j)}finally{this._onDidChangeDecorations.endDeferredEmit()}}_changeDecorations(j,G){const oe={addDecoration:(ce,le)=>this._deltaDecorationsImpl(j,[],[{range:ce,options:le}])[0],changeDecoration:(ce,le)=>{this._changeDecorationImpl(ce,le)},changeDecorationOptions:(ce,le)=>{this._changeDecorationOptionsImpl(ce,re(le))},removeDecoration:ce=>{this._deltaDecorationsImpl(j,[ce],[])},deltaDecorations:(ce,le)=>ce.length===0&&le.length===0?[]:this._deltaDecorationsImpl(j,ce,le)};let ne=null;try{ne=G(oe)}catch(ce){(0,D.onUnexpectedError)(ce)}return oe.addDecoration=H,oe.changeDecoration=H,oe.changeDecorationOptions=H,oe.removeDecoration=H,oe.deltaDecorations=H,ne}deltaDecorations(j,G,oe=0){if(this._assertNotDisposed(),j||(j=[]),j.length===0&&G.length===0)return[];try{return this._deltaDecorationCallCnt++,this._deltaDecorationCallCnt>1&&(console.warn("Invoking deltaDecorations recursively could lead to leaking decorations."),(0,D.onUnexpectedError)(new Error("Invoking deltaDecorations recursively could lead to leaking decorations."))),this._onDidChangeDecorations.beginDeferredEmit(),this._deltaDecorationsImpl(oe,j,G)}finally{this._onDidChangeDecorations.endDeferredEmit(),this._deltaDecorationCallCnt--}}_getTrackedRange(j){return this.getDecorationRange(j)}_setTrackedRange(j,G,oe){const ne=j?this._decorations[j]:null;if(!ne)return G?this._deltaDecorationsImpl(0,[],[{range:G,options:fe[oe]}],!0)[0]:null;if(!G)return this._decorationsTree.delete(ne),delete this._decorations[ne.id],null;const ce=this._validateRangeRelaxedNoAllocations(G),le=this._buffer.getOffsetAt(ce.startLineNumber,ce.startColumn),me=this._buffer.getOffsetAt(ce.endLineNumber,ce.endColumn);return this._decorationsTree.delete(ne),ne.reset(this.getVersionId(),le,me,ce),ne.setOptions(fe[oe]),this._decorationsTree.insert(ne),ne.id}removeAllDecorationsWithOwnerId(j){if(this._isDisposed)return;const G=this._decorationsTree.collectNodesFromOwner(j);for(let oe=0,ne=G.length;oe<ne;oe++){const ce=G[oe];this._decorationsTree.delete(ce),delete this._decorations[ce.id]}}getDecorationOptions(j){const G=this._decorations[j];return G?G.options:null}getDecorationRange(j){const G=this._decorations[j];return G?this._decorationsTree.getNodeRange(this,G):null}getLineDecorations(j,G=0,oe=!1){return j<1||j>this.getLineCount()?[]:this.getLinesDecorations(j,j,G,oe)}getLinesDecorations(j,G,oe=0,ne=!1,ce=!1){const le=this.getLineCount(),me=Math.min(le,Math.max(1,j)),ve=Math.min(le,Math.max(1,G)),Ce=this.getLineMaxColumn(ve),Se=new i.Range(me,1,ve,Ce),_e=this._getDecorationsInRange(Se,oe,ne,ce);return(0,m.pushMany)(_e,this._decorationProvider.getDecorationsInRange(Se,oe,ne)),_e}getDecorationsInRange(j,G=0,oe=!1,ne=!1,ce=!1){const le=this.validateRange(j),me=this._getDecorationsInRange(le,G,oe,ce);return(0,m.pushMany)(me,this._decorationProvider.getDecorationsInRange(le,G,oe,ne)),me}getOverviewRulerDecorations(j=0,G=!1){return this._decorationsTree.getAll(this,j,G,!0,!1)}getInjectedTextDecorations(j=0){return this._decorationsTree.getAllInjectedText(this,j)}_getInjectedTextInLine(j){const G=this._buffer.getOffsetAt(j,1),oe=G+this._buffer.getLineLength(j),ne=this._decorationsTree.getInjectedTextInInterval(this,G,oe,0);return E.LineInjectedText.fromDecorations(ne).filter(ce=>ce.lineNumber===j)}getAllDecorations(j=0,G=!1){let oe=this._decorationsTree.getAll(this,j,G,!1,!1);return oe=oe.concat(this._decorationProvider.getAllDecorations(j,G)),oe}getAllMarginDecorations(j=0){return this._decorationsTree.getAll(this,j,!1,!1,!0)}_getDecorationsInRange(j,G,oe,ne){const ce=this._buffer.getOffsetAt(j.startLineNumber,j.startColumn),le=this._buffer.getOffsetAt(j.endLineNumber,j.endColumn);return this._decorationsTree.getAllInInterval(this,ce,le,G,oe,ne)}getRangeAt(j,G){return this._buffer.getRangeAt(j,G-j)}_changeDecorationImpl(j,G){const oe=this._decorations[j];if(!oe)return;if(oe.options.after){const me=this.getDecorationRange(j);this._onDidChangeDecorations.recordLineAffectedByInjectedText(me.endLineNumber)}if(oe.options.before){const me=this.getDecorationRange(j);this._onDidChangeDecorations.recordLineAffectedByInjectedText(me.startLineNumber)}const ne=this._validateRangeRelaxedNoAllocations(G),ce=this._buffer.getOffsetAt(ne.startLineNumber,ne.startColumn),le=this._buffer.getOffsetAt(ne.endLineNumber,ne.endColumn);this._decorationsTree.delete(oe),oe.reset(this.getVersionId(),ce,le,ne),this._decorationsTree.insert(oe),this._onDidChangeDecorations.checkAffectedAndFire(oe.options),oe.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(ne.endLineNumber),oe.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(ne.startLineNumber)}_changeDecorationOptionsImpl(j,G){const oe=this._decorations[j];if(!oe)return;const ne=!!(oe.options.overviewRuler&&oe.options.overviewRuler.color),ce=!!(G.overviewRuler&&G.overviewRuler.color);if(this._onDidChangeDecorations.checkAffectedAndFire(oe.options),this._onDidChangeDecorations.checkAffectedAndFire(G),oe.options.after||G.after){const ve=this._decorationsTree.getNodeRange(this,oe);this._onDidChangeDecorations.recordLineAffectedByInjectedText(ve.endLineNumber)}if(oe.options.before||G.before){const ve=this._decorationsTree.getNodeRange(this,oe);this._onDidChangeDecorations.recordLineAffectedByInjectedText(ve.startLineNumber)}const le=ne!==ce,me=U(G)!==$(oe);le||me?(this._decorationsTree.delete(oe),oe.setOptions(G),this._decorationsTree.insert(oe)):oe.setOptions(G)}_deltaDecorationsImpl(j,G,oe,ne=!1){const ce=this.getVersionId(),le=G.length;let me=0;const ve=oe.length;let Ce=0;this._onDidChangeDecorations.beginDeferredEmit();try{const Se=new Array(ve);for(;me<le||Ce<ve;){let _e=null;if(me<le){do _e=this._decorations[G[me++]];while(!_e&&me<le);if(_e){if(_e.options.after){const Le=this._decorationsTree.getNodeRange(this,_e);this._onDidChangeDecorations.recordLineAffectedByInjectedText(Le.endLineNumber)}if(_e.options.before){const Le=this._decorationsTree.getNodeRange(this,_e);this._onDidChangeDecorations.recordLineAffectedByInjectedText(Le.startLineNumber)}this._decorationsTree.delete(_e),ne||this._onDidChangeDecorations.checkAffectedAndFire(_e.options)}}if(Ce<ve){if(!_e){const Be=++this._lastDecorationId,Ee=`${this._instanceId};${Be}`;_e=new c.IntervalNode(Ee,0,0),this._decorations[Ee]=_e}const Le=oe[Ce],ke=this._validateRangeRelaxedNoAllocations(Le.range),Ae=re(Le.options),xe=this._buffer.getOffsetAt(ke.startLineNumber,ke.startColumn),He=this._buffer.getOffsetAt(ke.endLineNumber,ke.endColumn);_e.ownerId=j,_e.reset(ce,xe,He,ke),_e.setOptions(Ae),_e.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(ke.endLineNumber),_e.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(ke.startLineNumber),ne||this._onDidChangeDecorations.checkAffectedAndFire(Ae),this._decorationsTree.insert(_e),Se[Ce]=_e.id,Ce++}else _e&&delete this._decorations[_e.id]}return Se}finally{this._onDidChangeDecorations.endDeferredEmit()}}getLanguageId(){return this.tokenization.getLanguageId()}setLanguage(j,G){typeof j=="string"?(this._languageSelectionListener.clear(),this._setLanguage(j,G)):(this._languageSelectionListener.value=j.onDidChange(()=>this._setLanguage(j.languageId,G)),this._setLanguage(j.languageId,G))}_setLanguage(j,G){this.tokenization.setLanguageId(j,G),this._languageService.requestRichLanguageFeatures(j)}getLanguageIdAtPosition(j,G){return this.tokenization.getLanguageIdAtPosition(j,G)}getWordAtPosition(j){return this._tokenizationTextModelPart.getWordAtPosition(j)}getWordUntilPosition(j){return this._tokenizationTextModelPart.getWordUntilPosition(j)}normalizePosition(j,G){return j}getLineIndentColumn(j){return q(this.getLineContent(j))+1}};e.TextModel=V,V._MODEL_SYNC_LIMIT=50*1024*1024,V.LARGE_FILE_SIZE_THRESHOLD=20*1024*1024,V.LARGE_FILE_LINE_COUNT_THRESHOLD=300*1e3,V.LARGE_FILE_HEAP_OPERATION_THRESHOLD=256*1024*1024,V.DEFAULT_CREATION_OPTIONS={isForSimpleWidget:!1,tabSize:n.EDITOR_MODEL_DEFAULTS.tabSize,indentSize:n.EDITOR_MODEL_DEFAULTS.indentSize,insertSpaces:n.EDITOR_MODEL_DEFAULTS.insertSpaces,detectIndentation:!1,defaultEOL:1,trimAutoWhitespace:n.EDITOR_MODEL_DEFAULTS.trimAutoWhitespace,largeFileOptimizations:n.EDITOR_MODEL_DEFAULTS.largeFileOptimizations,bracketPairColorizationOptions:n.EDITOR_MODEL_DEFAULTS.bracketPairColorizationOptions},e.TextModel=V=N=Ie([he(4,T.IUndoRedoService),he(5,h.ILanguageService),he(6,v.ILanguageConfigurationService)],V);function q(Y){let j=0;for(const G of Y)if(G===" "||G==="	")j++;else break;return j}function K(Y){return!!(Y.options.overviewRuler&&Y.options.overviewRuler.color)}function U(Y){return!!Y.after||!!Y.before}function $(Y){return!!Y.options.after||!!Y.options.before}class se{constructor(){this._decorationsTree0=new c.IntervalTree,this._decorationsTree1=new c.IntervalTree,this._injectedTextDecorationsTree=new c.IntervalTree}ensureAllNodesHaveRanges(j){this.getAll(j,0,!1,!1,!1)}_ensureNodesHaveRanges(j,G){for(const oe of G)oe.range===null&&(oe.range=j.getRangeAt(oe.cachedAbsoluteStart,oe.cachedAbsoluteEnd));return G}getAllInInterval(j,G,oe,ne,ce,le){const me=j.getVersionId(),ve=this._intervalSearch(G,oe,ne,ce,me,le);return this._ensureNodesHaveRanges(j,ve)}_intervalSearch(j,G,oe,ne,ce,le){const me=this._decorationsTree0.intervalSearch(j,G,oe,ne,ce,le),ve=this._decorationsTree1.intervalSearch(j,G,oe,ne,ce,le),Ce=this._injectedTextDecorationsTree.intervalSearch(j,G,oe,ne,ce,le);return me.concat(ve).concat(Ce)}getInjectedTextInInterval(j,G,oe,ne){const ce=j.getVersionId(),le=this._injectedTextDecorationsTree.intervalSearch(G,oe,ne,!1,ce,!1);return this._ensureNodesHaveRanges(j,le).filter(me=>me.options.showIfCollapsed||!me.range.isEmpty())}getAllInjectedText(j,G){const oe=j.getVersionId(),ne=this._injectedTextDecorationsTree.search(G,!1,oe,!1);return this._ensureNodesHaveRanges(j,ne).filter(ce=>ce.options.showIfCollapsed||!ce.range.isEmpty())}getAll(j,G,oe,ne,ce){const le=j.getVersionId(),me=this._search(G,oe,ne,le,ce);return this._ensureNodesHaveRanges(j,me)}_search(j,G,oe,ne,ce){if(oe)return this._decorationsTree1.search(j,G,ne,ce);{const le=this._decorationsTree0.search(j,G,ne,ce),me=this._decorationsTree1.search(j,G,ne,ce),ve=this._injectedTextDecorationsTree.search(j,G,ne,ce);return le.concat(me).concat(ve)}}collectNodesFromOwner(j){const G=this._decorationsTree0.collectNodesFromOwner(j),oe=this._decorationsTree1.collectNodesFromOwner(j),ne=this._injectedTextDecorationsTree.collectNodesFromOwner(j);return G.concat(oe).concat(ne)}collectNodesPostOrder(){const j=this._decorationsTree0.collectNodesPostOrder(),G=this._decorationsTree1.collectNodesPostOrder(),oe=this._injectedTextDecorationsTree.collectNodesPostOrder();return j.concat(G).concat(oe)}insert(j){$(j)?this._injectedTextDecorationsTree.insert(j):K(j)?this._decorationsTree1.insert(j):this._decorationsTree0.insert(j)}delete(j){$(j)?this._injectedTextDecorationsTree.delete(j):K(j)?this._decorationsTree1.delete(j):this._decorationsTree0.delete(j)}getNodeRange(j,G){const oe=j.getVersionId();return G.cachedVersionId!==oe&&this._resolveNode(G,oe),G.range===null&&(G.range=j.getRangeAt(G.cachedAbsoluteStart,G.cachedAbsoluteEnd)),G.range}_resolveNode(j,G){$(j)?this._injectedTextDecorationsTree.resolveNode(j,G):K(j)?this._decorationsTree1.resolveNode(j,G):this._decorationsTree0.resolveNode(j,G)}acceptReplace(j,G,oe,ne){this._decorationsTree0.acceptReplace(j,G,oe,ne),this._decorationsTree1.acceptReplace(j,G,oe,ne),this._injectedTextDecorationsTree.acceptReplace(j,G,oe,ne)}}function F(Y){return Y.replace(/[^a-z0-9\-_]/gi," ")}class X{constructor(j){this.color=j.color||"",this.darkColor=j.darkColor||""}}class Q extends X{constructor(j){super(j),this._resolvedColor=null,this.position=typeof j.position=="number"?j.position:u.OverviewRulerLane.Center}getColor(j){return this._resolvedColor||(j.type!=="light"&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,j):this._resolvedColor=this._resolveColor(this.color,j)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=null}_resolveColor(j,G){if(typeof j=="string")return j;const oe=j?G.getColor(j.id):null;return oe?oe.toString():""}}e.ModelDecorationOverviewRulerOptions=Q;class Z{constructor(j){var G;this.position=(G=j?.position)!==null&&G!==void 0?G:u.GlyphMarginLane.Center,this.persistLane=j?.persistLane}}e.ModelDecorationGlyphMarginOptions=Z;class ae extends X{constructor(j){var G,oe;super(j),this.position=j.position,this.sectionHeaderStyle=(G=j.sectionHeaderStyle)!==null&&G!==void 0?G:null,this.sectionHeaderText=(oe=j.sectionHeaderText)!==null&&oe!==void 0?oe:null}getColor(j){return this._resolvedColor||(j.type!=="light"&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,j):this._resolvedColor=this._resolveColor(this.color,j)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=void 0}_resolveColor(j,G){return typeof j=="string"?k.Color.fromHex(j):G.getColor(j.id)}}e.ModelDecorationMinimapOptions=ae;class ue{static from(j){return j instanceof ue?j:new ue(j)}constructor(j){this.content=j.content||"",this.inlineClassName=j.inlineClassName||null,this.inlineClassNameAffectsLetterSpacing=j.inlineClassNameAffectsLetterSpacing||!1,this.attachedData=j.attachedData||null,this.cursorStops=j.cursorStops||null}}e.ModelDecorationInjectedTextOptions=ue;class ge{static register(j){return new ge(j)}static createDynamic(j){return new ge(j)}constructor(j){var G,oe,ne,ce,le,me;this.description=j.description,this.blockClassName=j.blockClassName?F(j.blockClassName):null,this.blockDoesNotCollapse=(G=j.blockDoesNotCollapse)!==null&&G!==void 0?G:null,this.blockIsAfterEnd=(oe=j.blockIsAfterEnd)!==null&&oe!==void 0?oe:null,this.blockPadding=(ne=j.blockPadding)!==null&&ne!==void 0?ne:null,this.stickiness=j.stickiness||0,this.zIndex=j.zIndex||0,this.className=j.className?F(j.className):null,this.shouldFillLineOnLineBreak=(ce=j.shouldFillLineOnLineBreak)!==null&&ce!==void 0?ce:null,this.hoverMessage=j.hoverMessage||null,this.glyphMarginHoverMessage=j.glyphMarginHoverMessage||null,this.lineNumberHoverMessage=j.lineNumberHoverMessage||null,this.isWholeLine=j.isWholeLine||!1,this.showIfCollapsed=j.showIfCollapsed||!1,this.collapseOnReplaceEdit=j.collapseOnReplaceEdit||!1,this.overviewRuler=j.overviewRuler?new Q(j.overviewRuler):null,this.minimap=j.minimap?new ae(j.minimap):null,this.glyphMargin=j.glyphMarginClassName?new Z(j.glyphMargin):null,this.glyphMarginClassName=j.glyphMarginClassName?F(j.glyphMarginClassName):null,this.linesDecorationsClassName=j.linesDecorationsClassName?F(j.linesDecorationsClassName):null,this.lineNumberClassName=j.lineNumberClassName?F(j.lineNumberClassName):null,this.linesDecorationsTooltip=j.linesDecorationsTooltip?p.htmlAttributeEncodeValue(j.linesDecorationsTooltip):null,this.firstLineDecorationClassName=j.firstLineDecorationClassName?F(j.firstLineDecorationClassName):null,this.marginClassName=j.marginClassName?F(j.marginClassName):null,this.inlineClassName=j.inlineClassName?F(j.inlineClassName):null,this.inlineClassNameAffectsLetterSpacing=j.inlineClassNameAffectsLetterSpacing||!1,this.beforeContentClassName=j.beforeContentClassName?F(j.beforeContentClassName):null,this.afterContentClassName=j.afterContentClassName?F(j.afterContentClassName):null,this.after=j.after?ue.from(j.after):null,this.before=j.before?ue.from(j.before):null,this.hideInCommentTokens=(le=j.hideInCommentTokens)!==null&&le!==void 0?le:!1,this.hideInStringTokens=(me=j.hideInStringTokens)!==null&&me!==void 0?me:!1}}e.ModelDecorationOptions=ge,ge.EMPTY=ge.register({description:"empty"});const fe=[ge.register({description:"tracked-range-always-grows-when-typing-at-edges",stickiness:0}),ge.register({description:"tracked-range-never-grows-when-typing-at-edges",stickiness:1}),ge.register({description:"tracked-range-grows-only-when-typing-before",stickiness:2}),ge.register({description:"tracked-range-grows-only-when-typing-after",stickiness:3})];function re(Y){return Y instanceof ge?Y:ge.createDynamic(Y)}class de extends y.Disposable{constructor(j){super(),this.handleBeforeFire=j,this._actual=this._register(new L.Emitter),this.event=this._actual.event,this._affectedInjectedTextLines=null,this._deferredCnt=0,this._shouldFireDeferred=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1,this._affectsGlyphMargin=!1,this._affectsLineNumber=!1}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(){var j;this._deferredCnt--,this._deferredCnt===0&&(this._shouldFireDeferred&&this.doFire(),(j=this._affectedInjectedTextLines)===null||j===void 0||j.clear(),this._affectedInjectedTextLines=null)}recordLineAffectedByInjectedText(j){this._affectedInjectedTextLines||(this._affectedInjectedTextLines=new Set),this._affectedInjectedTextLines.add(j)}checkAffectedAndFire(j){var G,oe;this._affectsMinimap||(this._affectsMinimap=!!(!((G=j.minimap)===null||G===void 0)&&G.position)),this._affectsOverviewRuler||(this._affectsOverviewRuler=!!(!((oe=j.overviewRuler)===null||oe===void 0)&&oe.color)),this._affectsGlyphMargin||(this._affectsGlyphMargin=!!j.glyphMarginClassName),this._affectsLineNumber||(this._affectsLineNumber=!!j.lineNumberClassName),this.tryFire()}fire(){this._affectsMinimap=!0,this._affectsOverviewRuler=!0,this._affectsGlyphMargin=!0,this.tryFire()}tryFire(){this._deferredCnt===0?this.doFire():this._shouldFireDeferred=!0}doFire(){this.handleBeforeFire(this._affectedInjectedTextLines);const j={affectsMinimap:this._affectsMinimap,affectsOverviewRuler:this._affectsOverviewRuler,affectsGlyphMargin:this._affectsGlyphMargin,affectsLineNumber:this._affectsLineNumber};this._shouldFireDeferred=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1,this._affectsGlyphMargin=!1,this._actual.fire(j)}}class ee extends y.Disposable{constructor(){super(),this._fastEmitter=this._register(new L.Emitter),this.fastEvent=this._fastEmitter.event,this._slowEmitter=this._register(new L.Emitter),this.slowEvent=this._slowEmitter.event,this._deferredCnt=0,this._deferredEvent=null}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(j=null){if(this._deferredCnt--,this._deferredCnt===0&&this._deferredEvent!==null){this._deferredEvent.rawContentChangedEvent.resultingSelection=j;const G=this._deferredEvent;this._deferredEvent=null,this._fastEmitter.fire(G),this._slowEmitter.fire(G)}}fire(j){if(this._deferredCnt>0){this._deferredEvent?this._deferredEvent=this._deferredEvent.merge(j):this._deferredEvent=j;return}this._fastEmitter.fire(j),this._slowEmitter.fire(j)}}class W{constructor(){this._onDidChangeVisibleRanges=new L.Emitter,this.onDidChangeVisibleRanges=this._onDidChangeVisibleRanges.event,this._views=new Set}attachView(){const j=new z(G=>{this._onDidChangeVisibleRanges.fire({view:j,state:G})});return this._views.add(j),j}detachView(j){this._views.delete(j),this._onDidChangeVisibleRanges.fire({view:j,state:void 0})}}e.AttachedViews=W;class z{constructor(j){this.handleStateChange=j}setVisibleLines(j,G){const oe=j.map(ne=>new a.LineRange(ne.startLineNumber,ne.endLineNumber+1));this.handleStateChange({visibleLineRanges:oe,stabilized:G})}}}),define(te[208],ie([1,0,26,30,37,661,31,85]),function(J,e,m,k,D,L,y,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.diffDeleteDecorationEmpty=e.diffWholeLineDeleteDecoration=e.diffDeleteDecoration=e.diffAddDecorationEmpty=e.diffWholeLineAddDecoration=e.diffAddDecoration=e.diffLineDeleteDecorationBackground=e.diffLineAddDecorationBackground=e.diffLineDeleteDecorationBackgroundWithIndicator=e.diffLineAddDecorationBackgroundWithIndicator=e.diffRemoveIcon=e.diffInsertIcon=e.diffEditorUnchangedRegionShadow=e.diffMoveBorderActive=e.diffMoveBorder=void 0,e.diffMoveBorder=(0,y.registerColor)("diffEditor.move.border",{dark:"#8b8b8b9c",light:"#8b8b8b9c",hcDark:"#8b8b8b9c",hcLight:"#8b8b8b9c"},(0,L.localize)(0,null)),e.diffMoveBorderActive=(0,y.registerColor)("diffEditor.moveActive.border",{dark:"#FFA500",light:"#FFA500",hcDark:"#FFA500",hcLight:"#FFA500"},(0,L.localize)(1,null)),e.diffEditorUnchangedRegionShadow=(0,y.registerColor)("diffEditor.unchangedRegionShadow",{dark:"#000000",light:"#737373BF",hcDark:"#000000",hcLight:"#737373BF"},(0,L.localize)(2,null)),e.diffInsertIcon=(0,p.registerIcon)("diff-insert",m.Codicon.add,(0,L.localize)(3,null)),e.diffRemoveIcon=(0,p.registerIcon)("diff-remove",m.Codicon.remove,(0,L.localize)(4,null)),e.diffLineAddDecorationBackgroundWithIndicator=D.ModelDecorationOptions.register({className:"line-insert",description:"line-insert",isWholeLine:!0,linesDecorationsClassName:"insert-sign "+k.ThemeIcon.asClassName(e.diffInsertIcon),marginClassName:"gutter-insert"}),e.diffLineDeleteDecorationBackgroundWithIndicator=D.ModelDecorationOptions.register({className:"line-delete",description:"line-delete",isWholeLine:!0,linesDecorationsClassName:"delete-sign "+k.ThemeIcon.asClassName(e.diffRemoveIcon),marginClassName:"gutter-delete"}),e.diffLineAddDecorationBackground=D.ModelDecorationOptions.register({className:"line-insert",description:"line-insert",isWholeLine:!0,marginClassName:"gutter-insert"}),e.diffLineDeleteDecorationBackground=D.ModelDecorationOptions.register({className:"line-delete",description:"line-delete",isWholeLine:!0,marginClassName:"gutter-delete"}),e.diffAddDecoration=D.ModelDecorationOptions.register({className:"char-insert",description:"char-insert",shouldFillLineOnLineBreak:!0}),e.diffWholeLineAddDecoration=D.ModelDecorationOptions.register({className:"char-insert",description:"char-insert",isWholeLine:!0}),e.diffAddDecorationEmpty=D.ModelDecorationOptions.register({className:"char-insert diff-range-empty",description:"char-insert diff-range-empty"}),e.diffDeleteDecoration=D.ModelDecorationOptions.register({className:"char-delete",description:"char-delete",shouldFillLineOnLineBreak:!0}),e.diffWholeLineDeleteDecoration=D.ModelDecorationOptions.register({className:"char-delete",description:"char-delete",isWholeLine:!0}),e.diffDeleteDecorationEmpty=D.ModelDecorationOptions.register({className:"char-delete diff-range-empty",description:"char-delete diff-range-empty"})}),define(te[926],ie([1,0,2,32,351,208,82]),function(J,e,m,k,D,L,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffEditorDecorations=void 0;class p extends m.Disposable{constructor(C,b,a,s){super(),this._editors=C,this._diffModel=b,this._options=a,this._decorations=(0,k.derived)(this,i=>{var t;const n=(t=this._diffModel.read(i))===null||t===void 0?void 0:t.diff.read(i);if(!n)return null;const h=this._diffModel.read(i).movedTextToCompare.read(i),v=this._options.renderIndicators.read(i),u=this._options.showEmptyDecorations.read(i),d=[],r=[];if(!h)for(const o of n.mappings)if(o.lineRangeMapping.original.isEmpty||d.push({range:o.lineRangeMapping.original.toInclusiveRange(),options:v?L.diffLineDeleteDecorationBackgroundWithIndicator:L.diffLineDeleteDecorationBackground}),o.lineRangeMapping.modified.isEmpty||r.push({range:o.lineRangeMapping.modified.toInclusiveRange(),options:v?L.diffLineAddDecorationBackgroundWithIndicator:L.diffLineAddDecorationBackground}),o.lineRangeMapping.modified.isEmpty||o.lineRangeMapping.original.isEmpty)o.lineRangeMapping.original.isEmpty||d.push({range:o.lineRangeMapping.original.toInclusiveRange(),options:L.diffWholeLineDeleteDecoration}),o.lineRangeMapping.modified.isEmpty||r.push({range:o.lineRangeMapping.modified.toInclusiveRange(),options:L.diffWholeLineAddDecoration});else for(const g of o.lineRangeMapping.innerChanges||[])o.lineRangeMapping.original.contains(g.originalRange.startLineNumber)&&d.push({range:g.originalRange,options:g.originalRange.isEmpty()&&u?L.diffDeleteDecorationEmpty:L.diffDeleteDecoration}),o.lineRangeMapping.modified.contains(g.modifiedRange.startLineNumber)&&r.push({range:g.modifiedRange,options:g.modifiedRange.isEmpty()&&u?L.diffAddDecorationEmpty:L.diffAddDecoration});if(h)for(const o of h.changes){const g=o.original.toInclusiveRange();g&&d.push({range:g,options:v?L.diffLineDeleteDecorationBackgroundWithIndicator:L.diffLineDeleteDecorationBackground});const c=o.modified.toInclusiveRange();c&&r.push({range:c,options:v?L.diffLineAddDecorationBackgroundWithIndicator:L.diffLineAddDecorationBackground});for(const f of o.innerChanges||[])d.push({range:f.originalRange,options:L.diffDeleteDecoration}),r.push({range:f.modifiedRange,options:L.diffAddDecoration})}const l=this._diffModel.read(i).activeMovedText.read(i);for(const o of n.movedTexts)d.push({range:o.lineRangeMapping.original.toInclusiveRange(),options:{description:"moved",blockClassName:"movedOriginal"+(o===l?" currentMove":""),blockPadding:[D.MovedBlocksLinesFeature.movedCodeBlockPadding,0,D.MovedBlocksLinesFeature.movedCodeBlockPadding,D.MovedBlocksLinesFeature.movedCodeBlockPadding]}}),r.push({range:o.lineRangeMapping.modified.toInclusiveRange(),options:{description:"moved",blockClassName:"movedModified"+(o===l?" currentMove":""),blockPadding:[4,0,4,4]}});return{originalDecorations:d,modifiedDecorations:r}}),this._register((0,y.applyObservableDecorations)(this._editors.original,this._decorations.map(i=>i?.originalDecorations||[]))),this._register((0,y.applyObservableDecorations)(this._editors.modified,this._decorations.map(i=>i?.modifiedDecorations||[])))}}e.DiffEditorDecorations=p}),define(te[927],ie([1,0,6,13,15,26,2,32,30,21,70,208,378,655,677,82,60,9,90,112,58]),function(J,e,m,k,D,L,y,p,w,C,b,a,s,i,t,n,h,v,u,d,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffEditorViewZones=void 0;let l=class extends y.Disposable{constructor(f,_,S,I,E,T,N,A,O,M){super(),this._targetWindow=f,this._editors=_,this._diffModel=S,this._options=I,this._diffEditorWidget=E,this._canIgnoreViewZoneUpdateEvent=T,this._origViewZonesToIgnore=N,this._modViewZonesToIgnore=A,this._clipboardService=O,this._contextMenuService=M,this._originalTopPadding=(0,p.observableValue)(this,0),this._originalScrollOffset=(0,p.observableValue)(this,0),this._originalScrollOffsetAnimated=(0,n.animatedObservable)(this._targetWindow,this._originalScrollOffset,this._store),this._modifiedTopPadding=(0,p.observableValue)(this,0),this._modifiedScrollOffset=(0,p.observableValue)(this,0),this._modifiedScrollOffsetAnimated=(0,n.animatedObservable)(this._targetWindow,this._modifiedScrollOffset,this._store);const P=(0,p.observableValue)("invalidateAlignmentsState",0),x=this._register(new D.RunOnceScheduler(()=>{P.set(P.get()+1,void 0)},0));this._register(this._editors.original.onDidChangeViewZones(U=>{this._canIgnoreViewZoneUpdateEvent()||x.schedule()})),this._register(this._editors.modified.onDidChangeViewZones(U=>{this._canIgnoreViewZoneUpdateEvent()||x.schedule()})),this._register(this._editors.original.onDidChangeConfiguration(U=>{(U.hasChanged(146)||U.hasChanged(67))&&x.schedule()})),this._register(this._editors.modified.onDidChangeConfiguration(U=>{(U.hasChanged(146)||U.hasChanged(67))&&x.schedule()}));const R=this._diffModel.map(U=>U?(0,p.observableFromEvent)(U.model.original.onDidChangeTokens,()=>U.model.original.tokenization.backgroundTokenizationState===2):void 0).map((U,$)=>U?.read($)),B=(0,p.derived)(U=>{const $=this._diffModel.read(U),se=$?.diff.read(U);if(!$||!se)return null;P.read(U);const X=this._options.renderSideBySide.read(U);return o(this._editors.original,this._editors.modified,se.mappings,this._origViewZonesToIgnore,this._modViewZonesToIgnore,X)}),H=(0,p.derived)(U=>{var $;const se=($=this._diffModel.read(U))===null||$===void 0?void 0:$.movedTextToCompare.read(U);if(!se)return null;P.read(U);const F=se.changes.map(X=>new s.DiffMapping(X));return o(this._editors.original,this._editors.modified,F,this._origViewZonesToIgnore,this._modViewZonesToIgnore,!0)});function V(){const U=document.createElement("div");return U.className="diagonal-fill",U}const q=this._register(new y.DisposableStore);this.viewZones=(0,p.derivedWithStore)(this,(U,$)=>{var se,F,X,Q,Z,ae,ue,ge;q.clear();const fe=B.read(U)||[],re=[],de=[],ee=this._modifiedTopPadding.read(U);ee>0&&de.push({afterLineNumber:0,domNode:document.createElement("div"),heightInPx:ee,showInHiddenAreas:!0,suppressMouseDown:!0});const W=this._originalTopPadding.read(U);W>0&&re.push({afterLineNumber:0,domNode:document.createElement("div"),heightInPx:W,showInHiddenAreas:!0,suppressMouseDown:!0});const z=this._options.renderSideBySide.read(U),Y=z||(se=this._editors.modified._getViewModel())===null||se===void 0?void 0:se.createLineBreaksComputer();if(Y){const ve=this._editors.original.getModel();for(const Ce of fe)if(Ce.diff)for(let Se=Ce.originalRange.startLineNumber;Se<Ce.originalRange.endLineNumberExclusive;Se++){if(Se>ve.getLineCount())return{orig:re,mod:de};Y?.addRequest(ve.getLineContent(Se),null,null)}}const j=(F=Y?.finalize())!==null&&F!==void 0?F:[];let G=0;const oe=this._editors.modified.getOption(67),ne=(X=this._diffModel.read(U))===null||X===void 0?void 0:X.movedTextToCompare.read(U),ce=(Z=(Q=this._editors.original.getModel())===null||Q===void 0?void 0:Q.mightContainNonBasicASCII())!==null&&Z!==void 0?Z:!1,le=(ue=(ae=this._editors.original.getModel())===null||ae===void 0?void 0:ae.mightContainRTL())!==null&&ue!==void 0?ue:!1,me=t.RenderOptions.fromEditor(this._editors.modified);for(const ve of fe)if(ve.diff&&!z){if(!ve.originalRange.isEmpty){R.read(U);const Se=document.createElement("div");Se.classList.add("view-lines","line-delete","monaco-mouse-cursor-text");const _e=this._editors.original.getModel();if(ve.originalRange.endLineNumberExclusive-1>_e.getLineCount())return{orig:re,mod:de};const Le=new t.LineSource(ve.originalRange.mapToLineArray(Be=>_e.tokenization.getLineTokens(Be)),ve.originalRange.mapToLineArray(Be=>j[G++]),ce,le),ke=[];for(const Be of ve.diff.innerChanges||[])ke.push(new u.InlineDecoration(Be.originalRange.delta(-(ve.diff.original.startLineNumber-1)),a.diffDeleteDecoration.className,0));const Ae=(0,t.renderLines)(Le,me,ke,Se),xe=document.createElement("div");if(xe.className="inline-deleted-margin-view-zone",(0,b.applyFontInfo)(xe,me.fontInfo),this._options.renderIndicators.read(U))for(let Be=0;Be<Ae.heightInLines;Be++){const Ee=document.createElement("div");Ee.className=`delete-sign ${w.ThemeIcon.asClassName(a.diffRemoveIcon)}`,Ee.setAttribute("style",`position:absolute;top:${Be*oe}px;width:${me.lineDecorationsWidth}px;height:${oe}px;right:0;`),xe.appendChild(Ee)}let He;q.add(new i.InlineDiffDeletedCodeMargin(()=>(0,C.assertIsDefined)(He),xe,this._editors.modified,ve.diff,this._diffEditorWidget,Ae.viewLineCounts,this._editors.original.getModel(),this._contextMenuService,this._clipboardService));for(let Be=0;Be<Ae.viewLineCounts.length;Be++){const Ee=Ae.viewLineCounts[Be];Ee>1&&re.push({afterLineNumber:ve.originalRange.startLineNumber+Be,domNode:V(),heightInPx:(Ee-1)*oe,showInHiddenAreas:!0,suppressMouseDown:!0})}de.push({afterLineNumber:ve.modifiedRange.startLineNumber-1,domNode:Se,heightInPx:Ae.heightInLines*oe,minWidthInPx:Ae.minWidthInPx,marginDomNode:xe,setZoneId(Be){He=Be},showInHiddenAreas:!0,suppressMouseDown:!0})}const Ce=document.createElement("div");Ce.className="gutter-delete",re.push({afterLineNumber:ve.originalRange.endLineNumberExclusive-1,domNode:V(),heightInPx:ve.modifiedHeightInPx,marginDomNode:Ce,showInHiddenAreas:!0,suppressMouseDown:!0})}else{const Ce=ve.modifiedHeightInPx-ve.originalHeightInPx;if(Ce>0){if(ne?.lineRangeMapping.original.delta(-1).deltaLength(2).contains(ve.originalRange.endLineNumberExclusive-1))continue;re.push({afterLineNumber:ve.originalRange.endLineNumberExclusive-1,domNode:V(),heightInPx:Ce,showInHiddenAreas:!0,suppressMouseDown:!0})}else{let Se=function(){const Le=document.createElement("div");return Le.className="arrow-revert-change "+w.ThemeIcon.asClassName(L.Codicon.arrowRight),$.add((0,m.addDisposableListener)(Le,"mousedown",ke=>ke.stopPropagation())),$.add((0,m.addDisposableListener)(Le,"click",ke=>{ke.stopPropagation(),E.revert(ve.diff)})),(0,m.$)("div",{},Le)};if(ne?.lineRangeMapping.modified.delta(-1).deltaLength(2).contains(ve.modifiedRange.endLineNumberExclusive-1))continue;let _e;ve.diff&&ve.diff.modified.isEmpty&&this._options.shouldRenderOldRevertArrows.read(U)&&(_e=Se()),de.push({afterLineNumber:ve.modifiedRange.endLineNumberExclusive-1,domNode:V(),heightInPx:-Ce,marginDomNode:_e,showInHiddenAreas:!0,suppressMouseDown:!0})}}for(const ve of(ge=H.read(U))!==null&&ge!==void 0?ge:[]){if(!ne?.lineRangeMapping.original.intersect(ve.originalRange)||!ne?.lineRangeMapping.modified.intersect(ve.modifiedRange))continue;const Ce=ve.modifiedHeightInPx-ve.originalHeightInPx;Ce>0?re.push({afterLineNumber:ve.originalRange.endLineNumberExclusive-1,domNode:V(),heightInPx:Ce,showInHiddenAreas:!0,suppressMouseDown:!0}):de.push({afterLineNumber:ve.modifiedRange.endLineNumberExclusive-1,domNode:V(),heightInPx:-Ce,showInHiddenAreas:!0,suppressMouseDown:!0})}return{orig:re,mod:de}});let K=!1;this._register(this._editors.original.onDidScrollChange(U=>{U.scrollLeftChanged&&!K&&(K=!0,this._editors.modified.setScrollLeft(U.scrollLeft),K=!1)})),this._register(this._editors.modified.onDidScrollChange(U=>{U.scrollLeftChanged&&!K&&(K=!0,this._editors.original.setScrollLeft(U.scrollLeft),K=!1)})),this._originalScrollTop=(0,p.observableFromEvent)(this._editors.original.onDidScrollChange,()=>this._editors.original.getScrollTop()),this._modifiedScrollTop=(0,p.observableFromEvent)(this._editors.modified.onDidScrollChange,()=>this._editors.modified.getScrollTop()),this._register((0,p.autorun)(U=>{const $=this._originalScrollTop.read(U)-(this._originalScrollOffsetAnimated.get()-this._modifiedScrollOffsetAnimated.read(U))-(this._originalTopPadding.get()-this._modifiedTopPadding.read(U));$!==this._editors.modified.getScrollTop()&&this._editors.modified.setScrollTop($,1)})),this._register((0,p.autorun)(U=>{const $=this._modifiedScrollTop.read(U)-(this._modifiedScrollOffsetAnimated.get()-this._originalScrollOffsetAnimated.read(U))-(this._modifiedTopPadding.get()-this._originalTopPadding.read(U));$!==this._editors.original.getScrollTop()&&this._editors.original.setScrollTop($,1)})),this._register((0,p.autorun)(U=>{var $;const se=($=this._diffModel.read(U))===null||$===void 0?void 0:$.movedTextToCompare.read(U);let F=0;if(se){const X=this._editors.original.getTopForLineNumber(se.lineRangeMapping.original.startLineNumber,!0)-this._originalTopPadding.get();F=this._editors.modified.getTopForLineNumber(se.lineRangeMapping.modified.startLineNumber,!0)-this._modifiedTopPadding.get()-X}F>0?(this._modifiedTopPadding.set(0,void 0),this._originalTopPadding.set(F,void 0)):F<0?(this._modifiedTopPadding.set(-F,void 0),this._originalTopPadding.set(0,void 0)):setTimeout(()=>{this._modifiedTopPadding.set(0,void 0),this._originalTopPadding.set(0,void 0)},400),this._editors.modified.hasTextFocus()?this._originalScrollOffset.set(this._modifiedScrollOffset.get()-F,void 0,!0):this._modifiedScrollOffset.set(this._originalScrollOffset.get()+F,void 0,!0)}))}};e.DiffEditorViewZones=l,e.DiffEditorViewZones=l=Ie([he(8,d.IClipboardService),he(9,r.IContextMenuService)],l);function o(c,f,_,S,I,E){const T=new k.ArrayQueue(g(c,S)),N=new k.ArrayQueue(g(f,I)),A=c.getOption(67),O=f.getOption(67),M=[];let P=0,x=0;function R(B,H){for(;;){let V=T.peek(),q=N.peek();if(V&&V.lineNumber>=B&&(V=void 0),q&&q.lineNumber>=H&&(q=void 0),!V&&!q)break;const K=V?V.lineNumber-P:Number.MAX_VALUE,U=q?q.lineNumber-x:Number.MAX_VALUE;K<U?(T.dequeue(),q={lineNumber:V.lineNumber-P+x,heightInPx:0}):K>U?(N.dequeue(),V={lineNumber:q.lineNumber-x+P,heightInPx:0}):(T.dequeue(),N.dequeue()),M.push({originalRange:h.LineRange.ofLength(V.lineNumber,1),modifiedRange:h.LineRange.ofLength(q.lineNumber,1),originalHeightInPx:A+V.heightInPx,modifiedHeightInPx:O+q.heightInPx,diff:void 0})}}for(const B of _){let U=function($,se){var F,X,Q,Z;if($<K||se<q)return;if(V)V=!1;else if($===K||se===q)return;const ae=new h.LineRange(K,$),ue=new h.LineRange(q,se);if(ae.isEmpty&&ue.isEmpty)return;const ge=(X=(F=T.takeWhile(re=>re.lineNumber<$))===null||F===void 0?void 0:F.reduce((re,de)=>re+de.heightInPx,0))!==null&&X!==void 0?X:0,fe=(Z=(Q=N.takeWhile(re=>re.lineNumber<se))===null||Q===void 0?void 0:Q.reduce((re,de)=>re+de.heightInPx,0))!==null&&Z!==void 0?Z:0;M.push({originalRange:ae,modifiedRange:ue,originalHeightInPx:ae.length*A+ge,modifiedHeightInPx:ue.length*O+fe,diff:B.lineRangeMapping}),K=$,q=se};const H=B.lineRangeMapping;R(H.original.startLineNumber,H.modified.startLineNumber);let V=!0,q=H.modified.startLineNumber,K=H.original.startLineNumber;if(E)for(const $ of H.innerChanges||[]){$.originalRange.startColumn>1&&$.modifiedRange.startColumn>1&&U($.originalRange.startLineNumber,$.modifiedRange.startLineNumber);const se=c.getModel(),F=$.originalRange.endLineNumber<=se.getLineCount()?se.getLineMaxColumn($.originalRange.endLineNumber):Number.MAX_SAFE_INTEGER;$.originalRange.endColumn<F&&U($.originalRange.endLineNumber,$.modifiedRange.endLineNumber)}U(H.original.endLineNumberExclusive,H.modified.endLineNumberExclusive),P=H.original.endLineNumberExclusive,x=H.modified.endLineNumberExclusive}return R(Number.MAX_VALUE,Number.MAX_VALUE),M}function g(c,f){const _=[],S=[],I=c.getOption(146).wrappingColumn!==-1,E=c._getViewModel().coordinatesConverter,T=c.getOption(67);if(I)for(let A=1;A<=c.getModel().getLineCount();A++){const O=E.getModelLineViewLineCount(A);O>1&&S.push({lineNumber:A,heightInPx:T*(O-1)})}for(const A of c.getWhitespaces()){if(f.has(A.id))continue;const O=A.afterLineNumber===0?0:E.convertViewPositionToModelPosition(new v.Position(A.afterLineNumber,1)).lineNumber;_.push({lineNumber:O,heightInPx:A.height})}return(0,n.joinCombine)(_,S,A=>A.lineNumber,(A,O)=>({lineNumber:A.lineNumber,heightInPx:A.heightInPx+O.heightInPx}))}}),define(te[928],ie([1,0,7,2,17,37,188,84,42,200,25,207,121,357,49,55,33]),function(J,e,m,k,D,L,y,p,w,C,b,a,s,i,t,n,h){"use strict";var v;Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultModelSHA1Computer=e.ModelService=void 0;function u(c){return c.toString()}class d{constructor(f,_,S){this.model=f,this._modelEventListeners=new k.DisposableStore,this.model=f,this._modelEventListeners.add(f.onWillDispose(()=>_(f))),this._modelEventListeners.add(f.onDidChangeLanguage(I=>S(f,I)))}dispose(){this._modelEventListeners.dispose()}}const r=D.isLinux||D.isMacintosh?1:2;class l{constructor(f,_,S,I,E,T,N,A){this.uri=f,this.initialUndoRedoSnapshot=_,this.time=S,this.sharesUndoRedoStack=I,this.heapSize=E,this.sha1=T,this.versionId=N,this.alternativeVersionId=A}}let o=v=class extends k.Disposable{constructor(f,_,S,I,E){super(),this._configurationService=f,this._resourcePropertiesService=_,this._undoRedoService=S,this._languageService=I,this._languageConfigurationService=E,this._onModelAdded=this._register(new m.Emitter),this.onModelAdded=this._onModelAdded.event,this._onModelRemoved=this._register(new m.Emitter),this.onModelRemoved=this._onModelRemoved.event,this._onModelModeChanged=this._register(new m.Emitter),this.onModelLanguageChanged=this._onModelModeChanged.event,this._modelCreationOptionsByLanguageAndResource=Object.create(null),this._models={},this._disposedModels=new Map,this._disposedModelsHeapSize=0,this._register(this._configurationService.onDidChangeConfiguration(T=>this._updateModelOptions(T))),this._updateModelOptions(void 0)}static _readModelOptions(f,_){var S;let I=y.EDITOR_MODEL_DEFAULTS.tabSize;if(f.editor&&typeof f.editor.tabSize<"u"){const R=parseInt(f.editor.tabSize,10);isNaN(R)||(I=R),I<1&&(I=1)}let E="tabSize";if(f.editor&&typeof f.editor.indentSize<"u"&&f.editor.indentSize!=="tabSize"){const R=parseInt(f.editor.indentSize,10);isNaN(R)||(E=Math.max(R,1))}let T=y.EDITOR_MODEL_DEFAULTS.insertSpaces;f.editor&&typeof f.editor.insertSpaces<"u"&&(T=f.editor.insertSpaces==="false"?!1:!!f.editor.insertSpaces);let N=r;const A=f.eol;A===`\r
`?N=2:A===`
`&&(N=1);let O=y.EDITOR_MODEL_DEFAULTS.trimAutoWhitespace;f.editor&&typeof f.editor.trimAutoWhitespace<"u"&&(O=f.editor.trimAutoWhitespace==="false"?!1:!!f.editor.trimAutoWhitespace);let M=y.EDITOR_MODEL_DEFAULTS.detectIndentation;f.editor&&typeof f.editor.detectIndentation<"u"&&(M=f.editor.detectIndentation==="false"?!1:!!f.editor.detectIndentation);let P=y.EDITOR_MODEL_DEFAULTS.largeFileOptimizations;f.editor&&typeof f.editor.largeFileOptimizations<"u"&&(P=f.editor.largeFileOptimizations==="false"?!1:!!f.editor.largeFileOptimizations);let x=y.EDITOR_MODEL_DEFAULTS.bracketPairColorizationOptions;return!((S=f.editor)===null||S===void 0)&&S.bracketPairColorization&&typeof f.editor.bracketPairColorization=="object"&&(x={enabled:!!f.editor.bracketPairColorization.enabled,independentColorPoolPerBracketType:!!f.editor.bracketPairColorization.independentColorPoolPerBracketType}),{isForSimpleWidget:_,tabSize:I,indentSize:E,insertSpaces:T,detectIndentation:M,defaultEOL:N,trimAutoWhitespace:O,largeFileOptimizations:P,bracketPairColorizationOptions:x}}_getEOL(f,_){if(f)return this._resourcePropertiesService.getEOL(f,_);const S=this._configurationService.getValue("files.eol",{overrideIdentifier:_});return S&&typeof S=="string"&&S!=="auto"?S:D.OS===3||D.OS===2?`
`:`\r
`}_shouldRestoreUndoStack(){const f=this._configurationService.getValue("files.restoreUndoStack");return typeof f=="boolean"?f:!0}getCreationOptions(f,_,S){const I=typeof f=="string"?f:f.languageId;let E=this._modelCreationOptionsByLanguageAndResource[I+_];if(!E){const T=this._configurationService.getValue("editor",{overrideIdentifier:I,resource:_}),N=this._getEOL(_,I);E=v._readModelOptions({editor:T,eol:N},S),this._modelCreationOptionsByLanguageAndResource[I+_]=E}return E}_updateModelOptions(f){const _=this._modelCreationOptionsByLanguageAndResource;this._modelCreationOptionsByLanguageAndResource=Object.create(null);const S=Object.keys(this._models);for(let I=0,E=S.length;I<E;I++){const T=S[I],N=this._models[T],A=N.model.getLanguageId(),O=N.model.uri;if(f&&!f.affectsConfiguration("editor",{overrideIdentifier:A,resource:O})&&!f.affectsConfiguration("files.eol",{overrideIdentifier:A,resource:O}))continue;const M=_[A+O],P=this.getCreationOptions(A,O,N.model.isForSimpleWidget);v._setModelOptionsForModel(N.model,P,M)}}static _setModelOptionsForModel(f,_,S){S&&S.defaultEOL!==_.defaultEOL&&f.getLineCount()===1&&f.setEOL(_.defaultEOL===1?0:1),!(S&&S.detectIndentation===_.detectIndentation&&S.insertSpaces===_.insertSpaces&&S.tabSize===_.tabSize&&S.indentSize===_.indentSize&&S.trimAutoWhitespace===_.trimAutoWhitespace&&(0,n.equals)(S.bracketPairColorizationOptions,_.bracketPairColorizationOptions))&&(_.detectIndentation?(f.detectIndentation(_.insertSpaces,_.tabSize),f.updateOptions({trimAutoWhitespace:_.trimAutoWhitespace,bracketColorizationOptions:_.bracketPairColorizationOptions})):f.updateOptions({insertSpaces:_.insertSpaces,tabSize:_.tabSize,indentSize:_.indentSize,trimAutoWhitespace:_.trimAutoWhitespace,bracketColorizationOptions:_.bracketPairColorizationOptions}))}_insertDisposedModel(f){this._disposedModels.set(u(f.uri),f),this._disposedModelsHeapSize+=f.heapSize}_removeDisposedModel(f){const _=this._disposedModels.get(u(f));return _&&(this._disposedModelsHeapSize-=_.heapSize),this._disposedModels.delete(u(f)),_}_ensureDisposedModelsHeapSize(f){if(this._disposedModelsHeapSize>f){const _=[];for(this._disposedModels.forEach(S=>{S.sharesUndoRedoStack||_.push(S)}),_.sort((S,I)=>S.time-I.time);_.length>0&&this._disposedModelsHeapSize>f;){const S=_.shift();this._removeDisposedModel(S.uri),S.initialUndoRedoSnapshot!==null&&this._undoRedoService.restoreSnapshot(S.initialUndoRedoSnapshot)}}}_createModelData(f,_,S,I){const E=this.getCreationOptions(_,S,I),T=new L.TextModel(f,_,E,S,this._undoRedoService,this._languageService,this._languageConfigurationService);if(S&&this._disposedModels.has(u(S))){const O=this._removeDisposedModel(S),M=this._undoRedoService.getElements(S),P=this._getSHA1Computer(),x=P.canComputeSHA1(T)?P.computeSHA1(T)===O.sha1:!1;if(x||O.sharesUndoRedoStack){for(const R of M.past)(0,i.isEditStackElement)(R)&&R.matchesResource(S)&&R.setModel(T);for(const R of M.future)(0,i.isEditStackElement)(R)&&R.matchesResource(S)&&R.setModel(T);this._undoRedoService.setElementsValidFlag(S,!0,R=>(0,i.isEditStackElement)(R)&&R.matchesResource(S)),x&&(T._overwriteVersionId(O.versionId),T._overwriteAlternativeVersionId(O.alternativeVersionId),T._overwriteInitialUndoRedoSnapshot(O.initialUndoRedoSnapshot))}else O.initialUndoRedoSnapshot!==null&&this._undoRedoService.restoreSnapshot(O.initialUndoRedoSnapshot)}const N=u(T.uri);if(this._models[N])throw new Error("ModelService: Cannot add model because it already exists!");const A=new d(T,O=>this._onWillDispose(O),(O,M)=>this._onDidChangeLanguage(O,M));return this._models[N]=A,A}createModel(f,_,S,I=!1){let E;return _?E=this._createModelData(f,_,S,I):E=this._createModelData(f,p.PLAINTEXT_LANGUAGE_ID,S,I),this._onModelAdded.fire(E.model),E.model}getModels(){const f=[],_=Object.keys(this._models);for(let S=0,I=_.length;S<I;S++){const E=_[S];f.push(this._models[E].model)}return f}getModel(f){const _=u(f),S=this._models[_];return S?S.model:null}_schemaShouldMaintainUndoRedoElements(f){return f.scheme===t.Schemas.file||f.scheme===t.Schemas.vscodeRemote||f.scheme===t.Schemas.vscodeUserData||f.scheme===t.Schemas.vscodeNotebookCell||f.scheme==="fake-fs"}_onWillDispose(f){const _=u(f.uri),S=this._models[_],I=this._undoRedoService.getUriComparisonKey(f.uri)!==f.uri.toString();let E=!1,T=0;if(I||this._shouldRestoreUndoStack()&&this._schemaShouldMaintainUndoRedoElements(f.uri)){const O=this._undoRedoService.getElements(f.uri);if(O.past.length>0||O.future.length>0){for(const M of O.past)(0,i.isEditStackElement)(M)&&M.matchesResource(f.uri)&&(E=!0,T+=M.heapSize(f.uri),M.setModel(f.uri));for(const M of O.future)(0,i.isEditStackElement)(M)&&M.matchesResource(f.uri)&&(E=!0,T+=M.heapSize(f.uri),M.setModel(f.uri))}}const N=v.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK,A=this._getSHA1Computer();if(E)if(!I&&(T>N||!A.canComputeSHA1(f))){const O=S.model.getInitialUndoRedoSnapshot();O!==null&&this._undoRedoService.restoreSnapshot(O)}else this._ensureDisposedModelsHeapSize(N-T),this._undoRedoService.setElementsValidFlag(f.uri,!1,O=>(0,i.isEditStackElement)(O)&&O.matchesResource(f.uri)),this._insertDisposedModel(new l(f.uri,S.model.getInitialUndoRedoSnapshot(),Date.now(),I,T,A.computeSHA1(f),f.getVersionId(),f.getAlternativeVersionId()));else if(!I){const O=S.model.getInitialUndoRedoSnapshot();O!==null&&this._undoRedoService.restoreSnapshot(O)}delete this._models[_],S.dispose(),delete this._modelCreationOptionsByLanguageAndResource[f.getLanguageId()+f.uri],this._onModelRemoved.fire(f)}_onDidChangeLanguage(f,_){const S=_.oldLanguage,I=f.getLanguageId(),E=this.getCreationOptions(S,f.uri,f.isForSimpleWidget),T=this.getCreationOptions(I,f.uri,f.isForSimpleWidget);v._setModelOptionsForModel(f,T,E),this._onModelModeChanged.fire({model:f,oldLanguageId:S})}_getSHA1Computer(){return new g}};e.ModelService=o,o.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK=20*1024*1024,e.ModelService=o=v=Ie([he(0,b.IConfigurationService),he(1,C.ITextResourcePropertiesService),he(2,a.IUndoRedoService),he(3,w.ILanguageService),he(4,h.ILanguageConfigurationService)],o);class g{canComputeSHA1(f){return f.getValueLength()<=g.MAX_MODEL_SIZE}computeSHA1(f){const _=new s.StringSHA1,S=f.createSnapshot();let I;for(;I=S.read();)_.update(I);return _.digest()}}e.DefaultModelSHA1Computer=g,g.MAX_MODEL_SIZE=10*1024*1024}),define(te[929],ie([1,0,13,9,5,228,37,125,230,573,309,90]),function(J,e,m,k,D,L,y,p,w,C,b,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewModelLinesFromModelAsIs=e.ViewModelLinesFromProjectedModel=void 0;class s{constructor(r,l,o,g,c,f,_,S,I,E){this._editorId=r,this.model=l,this._validModelVersionId=-1,this._domLineBreaksComputerFactory=o,this._monospaceLineBreaksComputerFactory=g,this.fontInfo=c,this.tabSize=f,this.wrappingStrategy=_,this.wrappingColumn=S,this.wrappingIndent=I,this.wordBreak=E,this._constructLines(!0,null)}dispose(){this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,[])}createCoordinatesConverter(){return new h(this)}_constructLines(r,l){this.modelLineProjections=[],r&&(this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,[]));const o=this.model.getLinesContent(),g=this.model.getInjectedTextDecorations(this._editorId),c=o.length,f=this.createLineBreaksComputer(),_=new m.ArrayQueue(p.LineInjectedText.fromDecorations(g));for(let M=0;M<c;M++){const P=_.takeWhile(x=>x.lineNumber===M+1);f.addRequest(o[M],P,l?l[M]:null)}const S=f.finalize(),I=[],E=this.hiddenAreasDecorationIds.map(M=>this.model.getDecorationRange(M)).sort(D.Range.compareRangesUsingStarts);let T=1,N=0,A=-1,O=A+1<E.length?N+1:c+2;for(let M=0;M<c;M++){const P=M+1;P===O&&(A++,T=E[A].startLineNumber,N=E[A].endLineNumber,O=A+1<E.length?N+1:c+2);const x=P>=T&&P<=N,R=(0,C.createModelLineProjection)(S[M],!x);I[M]=R.getViewLineCount(),this.modelLineProjections[M]=R}this._validModelVersionId=this.model.getVersionId(),this.projectedModelLineLineCounts=new b.ConstantTimePrefixSumComputer(I)}getHiddenAreas(){return this.hiddenAreasDecorationIds.map(r=>this.model.getDecorationRange(r))}setHiddenAreas(r){const l=r.map(N=>this.model.validateRange(N)),o=i(l),g=this.hiddenAreasDecorationIds.map(N=>this.model.getDecorationRange(N)).sort(D.Range.compareRangesUsingStarts);if(o.length===g.length){let N=!1;for(let A=0;A<o.length;A++)if(!o[A].equalsRange(g[A])){N=!0;break}if(!N)return!1}const c=o.map(N=>({range:N,options:y.ModelDecorationOptions.EMPTY}));this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,c);const f=o;let _=1,S=0,I=-1,E=I+1<f.length?S+1:this.modelLineProjections.length+2,T=!1;for(let N=0;N<this.modelLineProjections.length;N++){const A=N+1;A===E&&(I++,_=f[I].startLineNumber,S=f[I].endLineNumber,E=I+1<f.length?S+1:this.modelLineProjections.length+2);let O=!1;if(A>=_&&A<=S?this.modelLineProjections[N].isVisible()&&(this.modelLineProjections[N]=this.modelLineProjections[N].setVisible(!1),O=!0):(T=!0,this.modelLineProjections[N].isVisible()||(this.modelLineProjections[N]=this.modelLineProjections[N].setVisible(!0),O=!0)),O){const M=this.modelLineProjections[N].getViewLineCount();this.projectedModelLineLineCounts.setValue(N,M)}}return T||this.setHiddenAreas([]),!0}modelPositionIsVisible(r,l){return r<1||r>this.modelLineProjections.length?!1:this.modelLineProjections[r-1].isVisible()}getModelLineViewLineCount(r){return r<1||r>this.modelLineProjections.length?1:this.modelLineProjections[r-1].getViewLineCount()}setTabSize(r){return this.tabSize===r?!1:(this.tabSize=r,this._constructLines(!1,null),!0)}setWrappingSettings(r,l,o,g,c){const f=this.fontInfo.equals(r),_=this.wrappingStrategy===l,S=this.wrappingColumn===o,I=this.wrappingIndent===g,E=this.wordBreak===c;if(f&&_&&S&&I&&E)return!1;const T=f&&_&&!S&&I&&E;this.fontInfo=r,this.wrappingStrategy=l,this.wrappingColumn=o,this.wrappingIndent=g,this.wordBreak=c;let N=null;if(T){N=[];for(let A=0,O=this.modelLineProjections.length;A<O;A++)N[A]=this.modelLineProjections[A].getProjectionData()}return this._constructLines(!1,N),!0}createLineBreaksComputer(){return(this.wrappingStrategy==="advanced"?this._domLineBreaksComputerFactory:this._monospaceLineBreaksComputerFactory).createLineBreaksComputer(this.fontInfo,this.tabSize,this.wrappingColumn,this.wrappingIndent,this.wordBreak)}onModelFlushed(){this._constructLines(!0,null)}onModelLinesDeleted(r,l,o){if(!r||r<=this._validModelVersionId)return null;const g=l===1?1:this.projectedModelLineLineCounts.getPrefixSum(l-1)+1,c=this.projectedModelLineLineCounts.getPrefixSum(o);return this.modelLineProjections.splice(l-1,o-l+1),this.projectedModelLineLineCounts.removeValues(l-1,o-l+1),new w.ViewLinesDeletedEvent(g,c)}onModelLinesInserted(r,l,o,g){if(!r||r<=this._validModelVersionId)return null;const c=l>2&&!this.modelLineProjections[l-2].isVisible(),f=l===1?1:this.projectedModelLineLineCounts.getPrefixSum(l-1)+1;let _=0;const S=[],I=[];for(let E=0,T=g.length;E<T;E++){const N=(0,C.createModelLineProjection)(g[E],!c);S.push(N);const A=N.getViewLineCount();_+=A,I[E]=A}return this.modelLineProjections=this.modelLineProjections.slice(0,l-1).concat(S).concat(this.modelLineProjections.slice(l-1)),this.projectedModelLineLineCounts.insertValues(l-1,I),new w.ViewLinesInsertedEvent(f,f+_-1)}onModelLineChanged(r,l,o){if(r!==null&&r<=this._validModelVersionId)return[!1,null,null,null];const g=l-1,c=this.modelLineProjections[g].getViewLineCount(),f=this.modelLineProjections[g].isVisible(),_=(0,C.createModelLineProjection)(o,f);this.modelLineProjections[g]=_;const S=this.modelLineProjections[g].getViewLineCount();let I=!1,E=0,T=-1,N=0,A=-1,O=0,M=-1;c>S?(E=this.projectedModelLineLineCounts.getPrefixSum(l-1)+1,T=E+S-1,O=T+1,M=O+(c-S)-1,I=!0):c<S?(E=this.projectedModelLineLineCounts.getPrefixSum(l-1)+1,T=E+c-1,N=T+1,A=N+(S-c)-1,I=!0):(E=this.projectedModelLineLineCounts.getPrefixSum(l-1)+1,T=E+S-1),this.projectedModelLineLineCounts.setValue(g,S);const P=E<=T?new w.ViewLinesChangedEvent(E,T-E+1):null,x=N<=A?new w.ViewLinesInsertedEvent(N,A):null,R=O<=M?new w.ViewLinesDeletedEvent(O,M):null;return[I,P,x,R]}acceptVersionId(r){this._validModelVersionId=r,this.modelLineProjections.length===1&&!this.modelLineProjections[0].isVisible()&&this.setHiddenAreas([])}getViewLineCount(){return this.projectedModelLineLineCounts.getTotalSum()}_toValidViewLineNumber(r){if(r<1)return 1;const l=this.getViewLineCount();return r>l?l:r|0}getActiveIndentGuide(r,l,o){r=this._toValidViewLineNumber(r),l=this._toValidViewLineNumber(l),o=this._toValidViewLineNumber(o);const g=this.convertViewPositionToModelPosition(r,this.getViewLineMinColumn(r)),c=this.convertViewPositionToModelPosition(l,this.getViewLineMinColumn(l)),f=this.convertViewPositionToModelPosition(o,this.getViewLineMinColumn(o)),_=this.model.guides.getActiveIndentGuide(g.lineNumber,c.lineNumber,f.lineNumber),S=this.convertModelPositionToViewPosition(_.startLineNumber,1),I=this.convertModelPositionToViewPosition(_.endLineNumber,this.model.getLineMaxColumn(_.endLineNumber));return{startLineNumber:S.lineNumber,endLineNumber:I.lineNumber,indent:_.indent}}getViewLineInfo(r){r=this._toValidViewLineNumber(r);const l=this.projectedModelLineLineCounts.getIndexOf(r-1),o=l.index,g=l.remainder;return new t(o+1,g)}getMinColumnOfViewLine(r){return this.modelLineProjections[r.modelLineNumber-1].getViewLineMinColumn(this.model,r.modelLineNumber,r.modelLineWrappedLineIdx)}getMaxColumnOfViewLine(r){return this.modelLineProjections[r.modelLineNumber-1].getViewLineMaxColumn(this.model,r.modelLineNumber,r.modelLineWrappedLineIdx)}getModelStartPositionOfViewLine(r){const l=this.modelLineProjections[r.modelLineNumber-1],o=l.getViewLineMinColumn(this.model,r.modelLineNumber,r.modelLineWrappedLineIdx),g=l.getModelColumnOfViewPosition(r.modelLineWrappedLineIdx,o);return new k.Position(r.modelLineNumber,g)}getModelEndPositionOfViewLine(r){const l=this.modelLineProjections[r.modelLineNumber-1],o=l.getViewLineMaxColumn(this.model,r.modelLineNumber,r.modelLineWrappedLineIdx),g=l.getModelColumnOfViewPosition(r.modelLineWrappedLineIdx,o);return new k.Position(r.modelLineNumber,g)}getViewLineInfosGroupedByModelRanges(r,l){const o=this.getViewLineInfo(r),g=this.getViewLineInfo(l),c=new Array;let f=this.getModelStartPositionOfViewLine(o),_=new Array;for(let S=o.modelLineNumber;S<=g.modelLineNumber;S++){const I=this.modelLineProjections[S-1];if(I.isVisible()){const E=S===o.modelLineNumber?o.modelLineWrappedLineIdx:0,T=S===g.modelLineNumber?g.modelLineWrappedLineIdx+1:I.getViewLineCount();for(let N=E;N<T;N++)_.push(new t(S,N))}if(!I.isVisible()&&f){const E=new k.Position(S-1,this.model.getLineMaxColumn(S-1)+1),T=D.Range.fromPositions(f,E);c.push(new n(T,_)),_=[],f=null}else I.isVisible()&&!f&&(f=new k.Position(S,1))}if(f){const S=D.Range.fromPositions(f,this.getModelEndPositionOfViewLine(g));c.push(new n(S,_))}return c}getViewLinesBracketGuides(r,l,o,g){const c=o?this.convertViewPositionToModelPosition(o.lineNumber,o.column):null,f=[];for(const _ of this.getViewLineInfosGroupedByModelRanges(r,l)){const S=_.modelRange.startLineNumber,I=this.model.guides.getLinesBracketGuides(S,_.modelRange.endLineNumber,c,g);for(const E of _.viewLines){const N=I[E.modelLineNumber-S].map(A=>{if(A.forWrappedLinesAfterColumn!==-1&&this.modelLineProjections[E.modelLineNumber-1].getViewPositionOfModelPosition(0,A.forWrappedLinesAfterColumn).lineNumber>=E.modelLineWrappedLineIdx||A.forWrappedLinesBeforeOrAtColumn!==-1&&this.modelLineProjections[E.modelLineNumber-1].getViewPositionOfModelPosition(0,A.forWrappedLinesBeforeOrAtColumn).lineNumber<E.modelLineWrappedLineIdx)return;if(!A.horizontalLine)return A;let O=-1;if(A.column!==-1){const x=this.modelLineProjections[E.modelLineNumber-1].getViewPositionOfModelPosition(0,A.column);if(x.lineNumber===E.modelLineWrappedLineIdx)O=x.column;else if(x.lineNumber<E.modelLineWrappedLineIdx)O=this.getMinColumnOfViewLine(E);else if(x.lineNumber>E.modelLineWrappedLineIdx)return}const M=this.convertModelPositionToViewPosition(E.modelLineNumber,A.horizontalLine.endColumn),P=this.modelLineProjections[E.modelLineNumber-1].getViewPositionOfModelPosition(0,A.horizontalLine.endColumn);return P.lineNumber===E.modelLineWrappedLineIdx?new L.IndentGuide(A.visibleColumn,O,A.className,new L.IndentGuideHorizontalLine(A.horizontalLine.top,M.column),-1,-1):P.lineNumber<E.modelLineWrappedLineIdx||A.visibleColumn!==-1?void 0:new L.IndentGuide(A.visibleColumn,O,A.className,new L.IndentGuideHorizontalLine(A.horizontalLine.top,this.getMaxColumnOfViewLine(E)),-1,-1)});f.push(N.filter(A=>!!A))}}return f}getViewLinesIndentGuides(r,l){r=this._toValidViewLineNumber(r),l=this._toValidViewLineNumber(l);const o=this.convertViewPositionToModelPosition(r,this.getViewLineMinColumn(r)),g=this.convertViewPositionToModelPosition(l,this.getViewLineMaxColumn(l));let c=[];const f=[],_=[],S=o.lineNumber-1,I=g.lineNumber-1;let E=null;for(let O=S;O<=I;O++){const M=this.modelLineProjections[O];if(M.isVisible()){const P=M.getViewLineNumberOfModelPosition(0,O===S?o.column:1),x=M.getViewLineNumberOfModelPosition(0,this.model.getLineMaxColumn(O+1)),R=x-P+1;let B=0;R>1&&M.getViewLineMinColumn(this.model,O+1,x)===1&&(B=P===0?1:2),f.push(R),_.push(B),E===null&&(E=new k.Position(O+1,0))}else E!==null&&(c=c.concat(this.model.guides.getLinesIndentGuides(E.lineNumber,O)),E=null)}E!==null&&(c=c.concat(this.model.guides.getLinesIndentGuides(E.lineNumber,g.lineNumber)),E=null);const T=l-r+1,N=new Array(T);let A=0;for(let O=0,M=c.length;O<M;O++){let P=c[O];const x=Math.min(T-A,f[O]),R=_[O];let B;R===2?B=0:R===1?B=1:B=x;for(let H=0;H<x;H++)H===B&&(P=0),N[A++]=P}return N}getViewLineContent(r){const l=this.getViewLineInfo(r);return this.modelLineProjections[l.modelLineNumber-1].getViewLineContent(this.model,l.modelLineNumber,l.modelLineWrappedLineIdx)}getViewLineLength(r){const l=this.getViewLineInfo(r);return this.modelLineProjections[l.modelLineNumber-1].getViewLineLength(this.model,l.modelLineNumber,l.modelLineWrappedLineIdx)}getViewLineMinColumn(r){const l=this.getViewLineInfo(r);return this.modelLineProjections[l.modelLineNumber-1].getViewLineMinColumn(this.model,l.modelLineNumber,l.modelLineWrappedLineIdx)}getViewLineMaxColumn(r){const l=this.getViewLineInfo(r);return this.modelLineProjections[l.modelLineNumber-1].getViewLineMaxColumn(this.model,l.modelLineNumber,l.modelLineWrappedLineIdx)}getViewLineData(r){const l=this.getViewLineInfo(r);return this.modelLineProjections[l.modelLineNumber-1].getViewLineData(this.model,l.modelLineNumber,l.modelLineWrappedLineIdx)}getViewLinesData(r,l,o){r=this._toValidViewLineNumber(r),l=this._toValidViewLineNumber(l);const g=this.projectedModelLineLineCounts.getIndexOf(r-1);let c=r;const f=g.index,_=g.remainder,S=[];for(let I=f,E=this.model.getLineCount();I<E;I++){const T=this.modelLineProjections[I];if(!T.isVisible())continue;const N=I===f?_:0;let A=T.getViewLineCount()-N,O=!1;if(c+A>l&&(O=!0,A=l-c+1),T.getViewLinesData(this.model,I+1,N,A,c-r,o,S),c+=A,O)break}return S}validateViewPosition(r,l,o){r=this._toValidViewLineNumber(r);const g=this.projectedModelLineLineCounts.getIndexOf(r-1),c=g.index,f=g.remainder,_=this.modelLineProjections[c],S=_.getViewLineMinColumn(this.model,c+1,f),I=_.getViewLineMaxColumn(this.model,c+1,f);l<S&&(l=S),l>I&&(l=I);const E=_.getModelColumnOfViewPosition(f,l);return this.model.validatePosition(new k.Position(c+1,E)).equals(o)?new k.Position(r,l):this.convertModelPositionToViewPosition(o.lineNumber,o.column)}validateViewRange(r,l){const o=this.validateViewPosition(r.startLineNumber,r.startColumn,l.getStartPosition()),g=this.validateViewPosition(r.endLineNumber,r.endColumn,l.getEndPosition());return new D.Range(o.lineNumber,o.column,g.lineNumber,g.column)}convertViewPositionToModelPosition(r,l){const o=this.getViewLineInfo(r),g=this.modelLineProjections[o.modelLineNumber-1].getModelColumnOfViewPosition(o.modelLineWrappedLineIdx,l);return this.model.validatePosition(new k.Position(o.modelLineNumber,g))}convertViewRangeToModelRange(r){const l=this.convertViewPositionToModelPosition(r.startLineNumber,r.startColumn),o=this.convertViewPositionToModelPosition(r.endLineNumber,r.endColumn);return new D.Range(l.lineNumber,l.column,o.lineNumber,o.column)}convertModelPositionToViewPosition(r,l,o=2,g=!1,c=!1){const f=this.model.validatePosition(new k.Position(r,l)),_=f.lineNumber,S=f.column;let I=_-1,E=!1;if(c)for(;I<this.modelLineProjections.length&&!this.modelLineProjections[I].isVisible();)I++,E=!0;else for(;I>0&&!this.modelLineProjections[I].isVisible();)I--,E=!0;if(I===0&&!this.modelLineProjections[I].isVisible())return new k.Position(g?0:1,1);const T=1+this.projectedModelLineLineCounts.getPrefixSum(I);let N;return E?c?N=this.modelLineProjections[I].getViewPositionOfModelPosition(T,1,o):N=this.modelLineProjections[I].getViewPositionOfModelPosition(T,this.model.getLineMaxColumn(I+1),o):N=this.modelLineProjections[_-1].getViewPositionOfModelPosition(T,S,o),N}convertModelRangeToViewRange(r,l=0){if(r.isEmpty()){const o=this.convertModelPositionToViewPosition(r.startLineNumber,r.startColumn,l);return D.Range.fromPositions(o)}else{const o=this.convertModelPositionToViewPosition(r.startLineNumber,r.startColumn,1),g=this.convertModelPositionToViewPosition(r.endLineNumber,r.endColumn,0);return new D.Range(o.lineNumber,o.column,g.lineNumber,g.column)}}getViewLineNumberOfModelPosition(r,l){let o=r-1;if(this.modelLineProjections[o].isVisible()){const c=1+this.projectedModelLineLineCounts.getPrefixSum(o);return this.modelLineProjections[o].getViewLineNumberOfModelPosition(c,l)}for(;o>0&&!this.modelLineProjections[o].isVisible();)o--;if(o===0&&!this.modelLineProjections[o].isVisible())return 1;const g=1+this.projectedModelLineLineCounts.getPrefixSum(o);return this.modelLineProjections[o].getViewLineNumberOfModelPosition(g,this.model.getLineMaxColumn(o+1))}getDecorationsInRange(r,l,o,g,c){const f=this.convertViewPositionToModelPosition(r.startLineNumber,r.startColumn),_=this.convertViewPositionToModelPosition(r.endLineNumber,r.endColumn);if(_.lineNumber-f.lineNumber<=r.endLineNumber-r.startLineNumber)return this.model.getDecorationsInRange(new D.Range(f.lineNumber,1,_.lineNumber,_.column),l,o,g,c);let S=[];const I=f.lineNumber-1,E=_.lineNumber-1;let T=null;for(let M=I;M<=E;M++)if(this.modelLineProjections[M].isVisible())T===null&&(T=new k.Position(M+1,M===I?f.column:1));else if(T!==null){const x=this.model.getLineMaxColumn(M);S=S.concat(this.model.getDecorationsInRange(new D.Range(T.lineNumber,T.column,M,x),l,o,g)),T=null}T!==null&&(S=S.concat(this.model.getDecorationsInRange(new D.Range(T.lineNumber,T.column,_.lineNumber,_.column),l,o,g)),T=null),S.sort((M,P)=>{const x=D.Range.compareRangesUsingStarts(M.range,P.range);return x===0?M.id<P.id?-1:M.id>P.id?1:0:x});const N=[];let A=0,O=null;for(const M of S){const P=M.id;O!==P&&(O=P,N[A++]=M)}return N}getInjectedTextAt(r){const l=this.getViewLineInfo(r.lineNumber);return this.modelLineProjections[l.modelLineNumber-1].getInjectedTextAt(l.modelLineWrappedLineIdx,r.column)}normalizePosition(r,l){const o=this.getViewLineInfo(r.lineNumber);return this.modelLineProjections[o.modelLineNumber-1].normalizePosition(o.modelLineWrappedLineIdx,r,l)}getLineIndentColumn(r){const l=this.getViewLineInfo(r);return l.modelLineWrappedLineIdx===0?this.model.getLineIndentColumn(l.modelLineNumber):0}}e.ViewModelLinesFromProjectedModel=s;function i(d){if(d.length===0)return[];const r=d.slice();r.sort(D.Range.compareRangesUsingStarts);const l=[];let o=r[0].startLineNumber,g=r[0].endLineNumber;for(let c=1,f=r.length;c<f;c++){const _=r[c];_.startLineNumber>g+1?(l.push(new D.Range(o,1,g,1)),o=_.startLineNumber,g=_.endLineNumber):_.endLineNumber>g&&(g=_.endLineNumber)}return l.push(new D.Range(o,1,g,1)),l}class t{constructor(r,l){this.modelLineNumber=r,this.modelLineWrappedLineIdx=l}}class n{constructor(r,l){this.modelRange=r,this.viewLines=l}}class h{constructor(r){this._lines=r}convertViewPositionToModelPosition(r){return this._lines.convertViewPositionToModelPosition(r.lineNumber,r.column)}convertViewRangeToModelRange(r){return this._lines.convertViewRangeToModelRange(r)}validateViewPosition(r,l){return this._lines.validateViewPosition(r.lineNumber,r.column,l)}validateViewRange(r,l){return this._lines.validateViewRange(r,l)}convertModelPositionToViewPosition(r,l,o,g){return this._lines.convertModelPositionToViewPosition(r.lineNumber,r.column,l,o,g)}convertModelRangeToViewRange(r,l){return this._lines.convertModelRangeToViewRange(r,l)}modelPositionIsVisible(r){return this._lines.modelPositionIsVisible(r.lineNumber,r.column)}getModelLineViewLineCount(r){return this._lines.getModelLineViewLineCount(r)}getViewLineNumberOfModelPosition(r,l){return this._lines.getViewLineNumberOfModelPosition(r,l)}}class v{constructor(r){this.model=r}dispose(){}createCoordinatesConverter(){return new u(this)}getHiddenAreas(){return[]}setHiddenAreas(r){return!1}setTabSize(r){return!1}setWrappingSettings(r,l,o,g){return!1}createLineBreaksComputer(){const r=[];return{addRequest:(l,o,g)=>{r.push(null)},finalize:()=>r}}onModelFlushed(){}onModelLinesDeleted(r,l,o){return new w.ViewLinesDeletedEvent(l,o)}onModelLinesInserted(r,l,o,g){return new w.ViewLinesInsertedEvent(l,o)}onModelLineChanged(r,l,o){return[!1,new w.ViewLinesChangedEvent(l,1),null,null]}acceptVersionId(r){}getViewLineCount(){return this.model.getLineCount()}getActiveIndentGuide(r,l,o){return{startLineNumber:r,endLineNumber:r,indent:0}}getViewLinesBracketGuides(r,l,o){return new Array(l-r+1).fill([])}getViewLinesIndentGuides(r,l){const o=l-r+1,g=new Array(o);for(let c=0;c<o;c++)g[c]=0;return g}getViewLineContent(r){return this.model.getLineContent(r)}getViewLineLength(r){return this.model.getLineLength(r)}getViewLineMinColumn(r){return this.model.getLineMinColumn(r)}getViewLineMaxColumn(r){return this.model.getLineMaxColumn(r)}getViewLineData(r){const l=this.model.tokenization.getLineTokens(r),o=l.getLineContent();return new a.ViewLineData(o,!1,1,o.length+1,0,l.inflate(),null)}getViewLinesData(r,l,o){const g=this.model.getLineCount();r=Math.min(Math.max(1,r),g),l=Math.min(Math.max(1,l),g);const c=[];for(let f=r;f<=l;f++){const _=f-r;c[_]=o[_]?this.getViewLineData(f):null}return c}getDecorationsInRange(r,l,o,g,c){return this.model.getDecorationsInRange(r,l,o,g,c)}normalizePosition(r,l){return this.model.normalizePosition(r,l)}getLineIndentColumn(r){return this.model.getLineIndentColumn(r)}getInjectedTextAt(r){return null}}e.ViewModelLinesFromModelAsIs=v;class u{constructor(r){this._lines=r}_validPosition(r){return this._lines.model.validatePosition(r)}_validRange(r){return this._lines.model.validateRange(r)}convertViewPositionToModelPosition(r){return this._validPosition(r)}convertViewRangeToModelRange(r){return this._validRange(r)}validateViewPosition(r,l){return this._validPosition(l)}validateViewRange(r,l){return this._validRange(l)}convertModelPositionToViewPosition(r){return this._validPosition(r)}convertModelRangeToViewRange(r){return this._validRange(r)}modelPositionIsVisible(r){const l=this._lines.model.getLineCount();return!(r.lineNumber<1||r.lineNumber>l)}getModelLineViewLineCount(r){return 1}getViewLineNumberOfModelPosition(r,l){return r}}}),define(te[930],ie([1,0,13,15,34,2,17,11,38,828,77,9,5,125,29,84,354,230,577,356,90,353,231,929,572]),function(J,e,m,k,D,L,y,p,w,C,b,a,s,i,t,n,h,v,u,d,r,l,o,g,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewModel=void 0;const f=!0;class _ extends L.Disposable{constructor(M,P,x,R,B,H,V,q,K){if(super(),this.languageConfigurationService=V,this._themeService=q,this._attachedView=K,this.hiddenAreasModel=new E,this.previousHiddenAreas=[],this._editorId=M,this._configuration=P,this.model=x,this._eventDispatcher=new o.ViewModelEventDispatcher,this.onEvent=this._eventDispatcher.onEvent,this.cursorConfig=new b.CursorConfiguration(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._updateConfigurationViewLineCount=this._register(new k.RunOnceScheduler(()=>this._updateConfigurationViewLineCountNow(),0)),this._hasFocus=!1,this._viewportStart=S.create(this.model),this.glyphLanes=new c.GlyphMarginLanesModel(0),f&&this.model.isTooLargeForTokenization())this._lines=new g.ViewModelLinesFromModelAsIs(this.model);else{const U=this._configuration.options,$=U.get(50),se=U.get(139),F=U.get(146),X=U.get(138),Q=U.get(129);this._lines=new g.ViewModelLinesFromProjectedModel(this._editorId,this.model,R,B,$,this.model.getOptions().tabSize,se,F.wrappingColumn,X,Q)}this.coordinatesConverter=this._lines.createCoordinatesConverter(),this._cursor=this._register(new C.CursorsController(x,this,this.coordinatesConverter,this.cursorConfig)),this.viewLayout=this._register(new u.ViewLayout(this._configuration,this.getLineCount(),H)),this._register(this.viewLayout.onDidScroll(U=>{U.scrollTopChanged&&this._handleVisibleLinesChanged(),U.scrollTopChanged&&this._viewportStart.invalidate(),this._eventDispatcher.emitSingleViewEvent(new v.ViewScrollChangedEvent(U)),this._eventDispatcher.emitOutgoingEvent(new o.ScrollChangedEvent(U.oldScrollWidth,U.oldScrollLeft,U.oldScrollHeight,U.oldScrollTop,U.scrollWidth,U.scrollLeft,U.scrollHeight,U.scrollTop))})),this._register(this.viewLayout.onDidContentSizeChange(U=>{this._eventDispatcher.emitOutgoingEvent(U)})),this._decorations=new l.ViewModelDecorations(this._editorId,this.model,this._configuration,this._lines,this.coordinatesConverter),this._registerModelEvents(),this._register(this._configuration.onDidChangeFast(U=>{try{const $=this._eventDispatcher.beginEmitViewEvents();this._onConfigurationChanged($,U)}finally{this._eventDispatcher.endEmitViewEvents()}})),this._register(d.MinimapTokensColorTracker.getInstance().onDidChange(()=>{this._eventDispatcher.emitSingleViewEvent(new v.ViewTokensColorsChangedEvent)})),this._register(this._themeService.onDidColorThemeChange(U=>{this._invalidateDecorationsColorCache(),this._eventDispatcher.emitSingleViewEvent(new v.ViewThemeChangedEvent(U))})),this._updateConfigurationViewLineCountNow()}dispose(){super.dispose(),this._decorations.dispose(),this._lines.dispose(),this._viewportStart.dispose(),this._eventDispatcher.dispose()}createLineBreaksComputer(){return this._lines.createLineBreaksComputer()}addViewEventHandler(M){this._eventDispatcher.addViewEventHandler(M)}removeViewEventHandler(M){this._eventDispatcher.removeViewEventHandler(M)}_updateConfigurationViewLineCountNow(){this._configuration.setViewLineCount(this._lines.getViewLineCount())}getModelVisibleRanges(){const M=this.viewLayout.getLinesViewportData(),P=new s.Range(M.startLineNumber,this.getLineMinColumn(M.startLineNumber),M.endLineNumber,this.getLineMaxColumn(M.endLineNumber));return this._toModelVisibleRanges(P)}visibleLinesStabilized(){const M=this.getModelVisibleRanges();this._attachedView.setVisibleLines(M,!0)}_handleVisibleLinesChanged(){const M=this.getModelVisibleRanges();this._attachedView.setVisibleLines(M,!1)}setHasFocus(M){this._hasFocus=M,this._cursor.setHasFocus(M),this._eventDispatcher.emitSingleViewEvent(new v.ViewFocusChangedEvent(M)),this._eventDispatcher.emitOutgoingEvent(new o.FocusChangedEvent(!M,M))}onCompositionStart(){this._eventDispatcher.emitSingleViewEvent(new v.ViewCompositionStartEvent)}onCompositionEnd(){this._eventDispatcher.emitSingleViewEvent(new v.ViewCompositionEndEvent)}_captureStableViewport(){if(this._viewportStart.isValid&&this.viewLayout.getCurrentScrollTop()>0){const M=new a.Position(this._viewportStart.viewLineNumber,this.getLineMinColumn(this._viewportStart.viewLineNumber)),P=this.coordinatesConverter.convertViewPositionToModelPosition(M);return new A(P,this._viewportStart.startLineDelta)}return new A(null,0)}_onConfigurationChanged(M,P){const x=this._captureStableViewport(),R=this._configuration.options,B=R.get(50),H=R.get(139),V=R.get(146),q=R.get(138),K=R.get(129);this._lines.setWrappingSettings(B,H,V.wrappingColumn,q,K)&&(M.emitViewEvent(new v.ViewFlushedEvent),M.emitViewEvent(new v.ViewLineMappingChangedEvent),M.emitViewEvent(new v.ViewDecorationsChangedEvent(null)),this._cursor.onLineMappingChanged(M),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this._updateConfigurationViewLineCount.schedule()),P.hasChanged(91)&&(this._decorations.reset(),M.emitViewEvent(new v.ViewDecorationsChangedEvent(null))),P.hasChanged(98)&&(this._decorations.reset(),M.emitViewEvent(new v.ViewDecorationsChangedEvent(null))),M.emitViewEvent(new v.ViewConfigurationChangedEvent(P)),this.viewLayout.onConfigurationChanged(P),x.recoverViewportStart(this.coordinatesConverter,this.viewLayout),b.CursorConfiguration.shouldRecreate(P)&&(this.cursorConfig=new b.CursorConfiguration(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig))}_registerModelEvents(){this._register(this.model.onDidChangeContentOrInjectedText(M=>{try{const x=this._eventDispatcher.beginEmitViewEvents();let R=!1,B=!1;const H=M instanceof i.InternalModelContentChangeEvent?M.rawContentChangedEvent.changes:M.changes,V=M instanceof i.InternalModelContentChangeEvent?M.rawContentChangedEvent.versionId:null,q=this._lines.createLineBreaksComputer();for(const $ of H)switch($.changeType){case 4:{for(let se=0;se<$.detail.length;se++){const F=$.detail[se];let X=$.injectedTexts[se];X&&(X=X.filter(Q=>!Q.ownerId||Q.ownerId===this._editorId)),q.addRequest(F,X,null)}break}case 2:{let se=null;$.injectedText&&(se=$.injectedText.filter(F=>!F.ownerId||F.ownerId===this._editorId)),q.addRequest($.detail,se,null);break}}const K=q.finalize(),U=new m.ArrayQueue(K);for(const $ of H)switch($.changeType){case 1:{this._lines.onModelFlushed(),x.emitViewEvent(new v.ViewFlushedEvent),this._decorations.reset(),this.viewLayout.onFlushed(this.getLineCount()),R=!0;break}case 3:{const se=this._lines.onModelLinesDeleted(V,$.fromLineNumber,$.toLineNumber);se!==null&&(x.emitViewEvent(se),this.viewLayout.onLinesDeleted(se.fromLineNumber,se.toLineNumber)),R=!0;break}case 4:{const se=U.takeCount($.detail.length),F=this._lines.onModelLinesInserted(V,$.fromLineNumber,$.toLineNumber,se);F!==null&&(x.emitViewEvent(F),this.viewLayout.onLinesInserted(F.fromLineNumber,F.toLineNumber)),R=!0;break}case 2:{const se=U.dequeue(),[F,X,Q,Z]=this._lines.onModelLineChanged(V,$.lineNumber,se);B=F,X&&x.emitViewEvent(X),Q&&(x.emitViewEvent(Q),this.viewLayout.onLinesInserted(Q.fromLineNumber,Q.toLineNumber)),Z&&(x.emitViewEvent(Z),this.viewLayout.onLinesDeleted(Z.fromLineNumber,Z.toLineNumber));break}case 5:break}V!==null&&this._lines.acceptVersionId(V),this.viewLayout.onHeightMaybeChanged(),!R&&B&&(x.emitViewEvent(new v.ViewLineMappingChangedEvent),x.emitViewEvent(new v.ViewDecorationsChangedEvent(null)),this._cursor.onLineMappingChanged(x),this._decorations.onLineMappingChanged())}finally{this._eventDispatcher.endEmitViewEvents()}const P=this._viewportStart.isValid;if(this._viewportStart.invalidate(),this._configuration.setModelLineCount(this.model.getLineCount()),this._updateConfigurationViewLineCountNow(),!this._hasFocus&&this.model.getAttachedEditorCount()>=2&&P){const x=this.model._getTrackedRange(this._viewportStart.modelTrackedRange);if(x){const R=this.coordinatesConverter.convertModelPositionToViewPosition(x.getStartPosition()),B=this.viewLayout.getVerticalOffsetForLineNumber(R.lineNumber);this.viewLayout.setScrollPosition({scrollTop:B+this._viewportStart.startLineDelta},1)}}try{const x=this._eventDispatcher.beginEmitViewEvents();M instanceof i.InternalModelContentChangeEvent&&x.emitOutgoingEvent(new o.ModelContentChangedEvent(M.contentChangedEvent)),this._cursor.onModelContentChanged(x,M)}finally{this._eventDispatcher.endEmitViewEvents()}this._handleVisibleLinesChanged()})),this._register(this.model.onDidChangeTokens(M=>{const P=[];for(let x=0,R=M.ranges.length;x<R;x++){const B=M.ranges[x],H=this.coordinatesConverter.convertModelPositionToViewPosition(new a.Position(B.fromLineNumber,1)).lineNumber,V=this.coordinatesConverter.convertModelPositionToViewPosition(new a.Position(B.toLineNumber,this.model.getLineMaxColumn(B.toLineNumber))).lineNumber;P[x]={fromLineNumber:H,toLineNumber:V}}this._eventDispatcher.emitSingleViewEvent(new v.ViewTokensChangedEvent(P)),this._eventDispatcher.emitOutgoingEvent(new o.ModelTokensChangedEvent(M))})),this._register(this.model.onDidChangeLanguageConfiguration(M=>{this._eventDispatcher.emitSingleViewEvent(new v.ViewLanguageConfigurationEvent),this.cursorConfig=new b.CursorConfiguration(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig),this._eventDispatcher.emitOutgoingEvent(new o.ModelLanguageConfigurationChangedEvent(M))})),this._register(this.model.onDidChangeLanguage(M=>{this.cursorConfig=new b.CursorConfiguration(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig),this._eventDispatcher.emitOutgoingEvent(new o.ModelLanguageChangedEvent(M))})),this._register(this.model.onDidChangeOptions(M=>{if(this._lines.setTabSize(this.model.getOptions().tabSize)){try{const P=this._eventDispatcher.beginEmitViewEvents();P.emitViewEvent(new v.ViewFlushedEvent),P.emitViewEvent(new v.ViewLineMappingChangedEvent),P.emitViewEvent(new v.ViewDecorationsChangedEvent(null)),this._cursor.onLineMappingChanged(P),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount())}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule()}this.cursorConfig=new b.CursorConfiguration(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig),this._eventDispatcher.emitOutgoingEvent(new o.ModelOptionsChangedEvent(M))})),this._register(this.model.onDidChangeDecorations(M=>{this._decorations.onModelDecorationsChanged(),this._eventDispatcher.emitSingleViewEvent(new v.ViewDecorationsChangedEvent(M)),this._eventDispatcher.emitOutgoingEvent(new o.ModelDecorationsChangedEvent(M))}))}setHiddenAreas(M,P){var x;this.hiddenAreasModel.setHiddenAreas(P,M);const R=this.hiddenAreasModel.getMergedRanges();if(R===this.previousHiddenAreas)return;this.previousHiddenAreas=R;const B=this._captureStableViewport();let H=!1;try{const V=this._eventDispatcher.beginEmitViewEvents();H=this._lines.setHiddenAreas(R),H&&(V.emitViewEvent(new v.ViewFlushedEvent),V.emitViewEvent(new v.ViewLineMappingChangedEvent),V.emitViewEvent(new v.ViewDecorationsChangedEvent(null)),this._cursor.onLineMappingChanged(V),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this.viewLayout.onHeightMaybeChanged());const q=(x=B.viewportStartModelPosition)===null||x===void 0?void 0:x.lineNumber;q&&R.some(U=>U.startLineNumber<=q&&q<=U.endLineNumber)||B.recoverViewportStart(this.coordinatesConverter,this.viewLayout)}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule(),H&&this._eventDispatcher.emitOutgoingEvent(new o.HiddenAreasChangedEvent)}getVisibleRangesPlusViewportAboveBelow(){const M=this._configuration.options.get(145),P=this._configuration.options.get(67),x=Math.max(20,Math.round(M.height/P)),R=this.viewLayout.getLinesViewportData(),B=Math.max(1,R.completelyVisibleStartLineNumber-x),H=Math.min(this.getLineCount(),R.completelyVisibleEndLineNumber+x);return this._toModelVisibleRanges(new s.Range(B,this.getLineMinColumn(B),H,this.getLineMaxColumn(H)))}getVisibleRanges(){const M=this.getCompletelyVisibleViewRange();return this._toModelVisibleRanges(M)}getHiddenAreas(){return this._lines.getHiddenAreas()}_toModelVisibleRanges(M){const P=this.coordinatesConverter.convertViewRangeToModelRange(M),x=this._lines.getHiddenAreas();if(x.length===0)return[P];const R=[];let B=0,H=P.startLineNumber,V=P.startColumn;const q=P.endLineNumber,K=P.endColumn;for(let U=0,$=x.length;U<$;U++){const se=x[U].startLineNumber,F=x[U].endLineNumber;F<H||se>q||(H<se&&(R[B++]=new s.Range(H,V,se-1,this.model.getLineMaxColumn(se-1))),H=F+1,V=1)}return(H<q||H===q&&V<K)&&(R[B++]=new s.Range(H,V,q,K)),R}getCompletelyVisibleViewRange(){const M=this.viewLayout.getLinesViewportData(),P=M.completelyVisibleStartLineNumber,x=M.completelyVisibleEndLineNumber;return new s.Range(P,this.getLineMinColumn(P),x,this.getLineMaxColumn(x))}getCompletelyVisibleViewRangeAtScrollTop(M){const P=this.viewLayout.getLinesViewportDataAtScrollTop(M),x=P.completelyVisibleStartLineNumber,R=P.completelyVisibleEndLineNumber;return new s.Range(x,this.getLineMinColumn(x),R,this.getLineMaxColumn(R))}saveState(){const M=this.viewLayout.saveState(),P=M.scrollTop,x=this.viewLayout.getLineNumberAtVerticalOffset(P),R=this.coordinatesConverter.convertViewPositionToModelPosition(new a.Position(x,this.getLineMinColumn(x))),B=this.viewLayout.getVerticalOffsetForLineNumber(x)-P;return{scrollLeft:M.scrollLeft,firstPosition:R,firstPositionDeltaTop:B}}reduceRestoreState(M){if(typeof M.firstPosition>"u")return this._reduceRestoreStateCompatibility(M);const P=this.model.validatePosition(M.firstPosition),x=this.coordinatesConverter.convertModelPositionToViewPosition(P),R=this.viewLayout.getVerticalOffsetForLineNumber(x.lineNumber)-M.firstPositionDeltaTop;return{scrollLeft:M.scrollLeft,scrollTop:R}}_reduceRestoreStateCompatibility(M){return{scrollLeft:M.scrollLeft,scrollTop:M.scrollTopWithoutViewZones}}getTabSize(){return this.model.getOptions().tabSize}getLineCount(){return this._lines.getViewLineCount()}setViewport(M,P,x){this._viewportStart.update(this,M)}getActiveIndentGuide(M,P,x){return this._lines.getActiveIndentGuide(M,P,x)}getLinesIndentGuides(M,P){return this._lines.getViewLinesIndentGuides(M,P)}getBracketGuidesInRangeByLine(M,P,x,R){return this._lines.getViewLinesBracketGuides(M,P,x,R)}getLineContent(M){return this._lines.getViewLineContent(M)}getLineLength(M){return this._lines.getViewLineLength(M)}getLineMinColumn(M){return this._lines.getViewLineMinColumn(M)}getLineMaxColumn(M){return this._lines.getViewLineMaxColumn(M)}getLineFirstNonWhitespaceColumn(M){const P=p.firstNonWhitespaceIndex(this.getLineContent(M));return P===-1?0:P+1}getLineLastNonWhitespaceColumn(M){const P=p.lastNonWhitespaceIndex(this.getLineContent(M));return P===-1?0:P+2}getMinimapDecorationsInRange(M){return this._decorations.getMinimapDecorationsInRange(M)}getDecorationsInViewport(M){return this._decorations.getDecorationsViewportData(M).decorations}getInjectedTextAt(M){return this._lines.getInjectedTextAt(M)}getViewportViewLineRenderingData(M,P){const R=this._decorations.getDecorationsViewportData(M).inlineDecorations[P-M.startLineNumber];return this._getViewLineRenderingData(P,R)}getViewLineRenderingData(M){const P=this._decorations.getInlineDecorationsOnLine(M);return this._getViewLineRenderingData(M,P)}_getViewLineRenderingData(M,P){const x=this.model.mightContainRTL(),R=this.model.mightContainNonBasicASCII(),B=this.getTabSize(),H=this._lines.getViewLineData(M);return H.inlineDecorations&&(P=[...P,...H.inlineDecorations.map(V=>V.toInlineDecoration(M))]),new r.ViewLineRenderingData(H.minColumn,H.maxColumn,H.content,H.continuesWithWrappedLine,x,R,H.tokens,P,B,H.startVisibleColumn)}getViewLineData(M){return this._lines.getViewLineData(M)}getMinimapLinesRenderingData(M,P,x){const R=this._lines.getViewLinesData(M,P,x);return new r.MinimapLinesRenderingData(this.getTabSize(),R)}getAllOverviewRulerDecorations(M){const P=this.model.getOverviewRulerDecorations(this._editorId,(0,w.filterValidationDecorations)(this._configuration.options)),x=new I;for(const R of P){const B=R.options,H=B.overviewRuler;if(!H)continue;const V=H.position;if(V===0)continue;const q=H.getColor(M.value),K=this.coordinatesConverter.getViewLineNumberOfModelPosition(R.range.startLineNumber,R.range.startColumn),U=this.coordinatesConverter.getViewLineNumberOfModelPosition(R.range.endLineNumber,R.range.endColumn);x.accept(q,B.zIndex,K,U,V)}return x.asArray}_invalidateDecorationsColorCache(){const M=this.model.getOverviewRulerDecorations();for(const P of M){const x=P.options.overviewRuler;x?.invalidateCachedColor();const R=P.options.minimap;R?.invalidateCachedColor()}}getValueInRange(M,P){const x=this.coordinatesConverter.convertViewRangeToModelRange(M);return this.model.getValueInRange(x,P)}getValueLengthInRange(M,P){const x=this.coordinatesConverter.convertViewRangeToModelRange(M);return this.model.getValueLengthInRange(x,P)}modifyPosition(M,P){const x=this.coordinatesConverter.convertViewPositionToModelPosition(M),R=this.model.modifyPosition(x,P);return this.coordinatesConverter.convertModelPositionToViewPosition(R)}deduceModelPositionRelativeToViewPosition(M,P,x){const R=this.coordinatesConverter.convertViewPositionToModelPosition(M);this.model.getEOL().length===2&&(P<0?P-=x:P+=x);const H=this.model.getOffsetAt(R)+P;return this.model.getPositionAt(H)}getPlainTextToCopy(M,P,x){const R=x?`\r
`:this.model.getEOL();M=M.slice(0),M.sort(s.Range.compareRangesUsingStarts);let B=!1,H=!1;for(const q of M)q.isEmpty()?B=!0:H=!0;if(!H){if(!P)return"";const q=M.map(U=>U.startLineNumber);let K="";for(let U=0;U<q.length;U++)U>0&&q[U-1]===q[U]||(K+=this.model.getLineContent(q[U])+R);return K}if(B&&P){const q=[];let K=0;for(const U of M){const $=U.startLineNumber;U.isEmpty()?$!==K&&q.push(this.model.getLineContent($)):q.push(this.model.getValueInRange(U,x?2:0)),K=$}return q.length===1?q[0]:q}const V=[];for(const q of M)q.isEmpty()||V.push(this.model.getValueInRange(q,x?2:0));return V.length===1?V[0]:V}getRichTextToCopy(M,P){const x=this.model.getLanguageId();if(x===n.PLAINTEXT_LANGUAGE_ID||M.length!==1)return null;let R=M[0];if(R.isEmpty()){if(!P)return null;const U=R.startLineNumber;R=new s.Range(U,this.model.getLineMinColumn(U),U,this.model.getLineMaxColumn(U))}const B=this._configuration.options.get(50),H=this._getColorMap(),q=/[:;\\\/<>]/.test(B.fontFamily)||B.fontFamily===w.EDITOR_FONT_DEFAULTS.fontFamily;let K;return q?K=w.EDITOR_FONT_DEFAULTS.fontFamily:(K=B.fontFamily,K=K.replace(/"/g,"'"),/[,']/.test(K)||/[+ ]/.test(K)&&(K=`'${K}'`),K=`${K}, ${w.EDITOR_FONT_DEFAULTS.fontFamily}`),{mode:x,html:`<div style="color: ${H[1]};background-color: ${H[2]};font-family: ${K};font-weight: ${B.fontWeight};font-size: ${B.fontSize}px;line-height: ${B.lineHeight}px;white-space: pre;">`+this._getHTMLToCopy(R,H)+"</div>"}}_getHTMLToCopy(M,P){const x=M.startLineNumber,R=M.startColumn,B=M.endLineNumber,H=M.endColumn,V=this.getTabSize();let q="";for(let K=x;K<=B;K++){const U=this.model.tokenization.getLineTokens(K),$=U.getLineContent(),se=K===x?R-1:0,F=K===B?H-1:$.length;$===""?q+="<br>":q+=(0,h.tokenizeLineToHTML)($,U.inflate(),P,se,F,V,y.isWindows)}return q}_getColorMap(){const M=t.TokenizationRegistry.getColorMap(),P=["#000000"];if(M)for(let x=1,R=M.length;x<R;x++)P[x]=D.Color.Format.CSS.formatHex(M[x]);return P}getPrimaryCursorState(){return this._cursor.getPrimaryCursorState()}getLastAddedCursorIndex(){return this._cursor.getLastAddedCursorIndex()}getCursorStates(){return this._cursor.getCursorStates()}setCursorStates(M,P,x){return this._withViewEventsCollector(R=>this._cursor.setStates(R,M,P,x))}getCursorColumnSelectData(){return this._cursor.getCursorColumnSelectData()}getCursorAutoClosedCharacters(){return this._cursor.getAutoClosedCharacters()}setCursorColumnSelectData(M){this._cursor.setCursorColumnSelectData(M)}getPrevEditOperationType(){return this._cursor.getPrevEditOperationType()}setPrevEditOperationType(M){this._cursor.setPrevEditOperationType(M)}getSelection(){return this._cursor.getSelection()}getSelections(){return this._cursor.getSelections()}getPosition(){return this._cursor.getPrimaryCursorState().modelState.position}setSelections(M,P,x=0){this._withViewEventsCollector(R=>this._cursor.setSelections(R,M,P,x))}saveCursorState(){return this._cursor.saveState()}restoreCursorState(M){this._withViewEventsCollector(P=>this._cursor.restoreState(P,M))}_executeCursorEdit(M){if(this._cursor.context.cursorConfig.readOnly){this._eventDispatcher.emitOutgoingEvent(new o.ReadOnlyEditAttemptEvent);return}this._withViewEventsCollector(M)}executeEdits(M,P,x){this._executeCursorEdit(R=>this._cursor.executeEdits(R,M,P,x))}startComposition(){this._executeCursorEdit(M=>this._cursor.startComposition(M))}endComposition(M){this._executeCursorEdit(P=>this._cursor.endComposition(P,M))}type(M,P){this._executeCursorEdit(x=>this._cursor.type(x,M,P))}compositionType(M,P,x,R,B){this._executeCursorEdit(H=>this._cursor.compositionType(H,M,P,x,R,B))}paste(M,P,x,R){this._executeCursorEdit(B=>this._cursor.paste(B,M,P,x,R))}cut(M){this._executeCursorEdit(P=>this._cursor.cut(P,M))}executeCommand(M,P){this._executeCursorEdit(x=>this._cursor.executeCommand(x,M,P))}executeCommands(M,P){this._executeCursorEdit(x=>this._cursor.executeCommands(x,M,P))}revealPrimaryCursor(M,P,x=!1){this._withViewEventsCollector(R=>this._cursor.revealPrimary(R,M,x,0,P,0))}revealTopMostCursor(M){const P=this._cursor.getTopMostViewPosition(),x=new s.Range(P.lineNumber,P.column,P.lineNumber,P.column);this._withViewEventsCollector(R=>R.emitViewEvent(new v.ViewRevealRangeRequestEvent(M,!1,x,null,0,!0,0)))}revealBottomMostCursor(M){const P=this._cursor.getBottomMostViewPosition(),x=new s.Range(P.lineNumber,P.column,P.lineNumber,P.column);this._withViewEventsCollector(R=>R.emitViewEvent(new v.ViewRevealRangeRequestEvent(M,!1,x,null,0,!0,0)))}revealRange(M,P,x,R,B){this._withViewEventsCollector(H=>H.emitViewEvent(new v.ViewRevealRangeRequestEvent(M,!1,x,null,R,P,B)))}changeWhitespace(M){this.viewLayout.changeWhitespace(M)&&(this._eventDispatcher.emitSingleViewEvent(new v.ViewZonesChangedEvent),this._eventDispatcher.emitOutgoingEvent(new o.ViewZonesChangedEvent))}_withViewEventsCollector(M){try{const P=this._eventDispatcher.beginEmitViewEvents();return M(P)}finally{this._eventDispatcher.endEmitViewEvents()}}normalizePosition(M,P){return this._lines.normalizePosition(M,P)}getLineIndentColumn(M){return this._lines.getLineIndentColumn(M)}}e.ViewModel=_;class S{static create(M){const P=M._setTrackedRange(null,new s.Range(1,1,1,1),1);return new S(M,1,!1,P,0)}get viewLineNumber(){return this._viewLineNumber}get isValid(){return this._isValid}get modelTrackedRange(){return this._modelTrackedRange}get startLineDelta(){return this._startLineDelta}constructor(M,P,x,R,B){this._model=M,this._viewLineNumber=P,this._isValid=x,this._modelTrackedRange=R,this._startLineDelta=B}dispose(){this._model._setTrackedRange(this._modelTrackedRange,null,1)}update(M,P){const x=M.coordinatesConverter.convertViewPositionToModelPosition(new a.Position(P,M.getLineMinColumn(P))),R=M.model._setTrackedRange(this._modelTrackedRange,new s.Range(x.lineNumber,x.column,x.lineNumber,x.column),1),B=M.viewLayout.getVerticalOffsetForLineNumber(P),H=M.viewLayout.getCurrentScrollTop();this._viewLineNumber=P,this._isValid=!0,this._modelTrackedRange=R,this._startLineDelta=H-B}invalidate(){this._isValid=!1}}class I{constructor(){this._asMap=Object.create(null),this.asArray=[]}accept(M,P,x,R,B){const H=this._asMap[M];if(H){const V=H.data,q=V[V.length-3],K=V[V.length-1];if(q===B&&K+1>=x){R>K&&(V[V.length-1]=R);return}V.push(B,x,R)}else{const V=new r.OverviewRulerDecorationsGroup(M,P,[B,x,R]);this._asMap[M]=V,this.asArray.push(V)}}}class E{constructor(){this.hiddenAreas=new Map,this.shouldRecompute=!1,this.ranges=[]}setHiddenAreas(M,P){const x=this.hiddenAreas.get(M);x&&N(x,P)||(this.hiddenAreas.set(M,P),this.shouldRecompute=!0)}getMergedRanges(){if(!this.shouldRecompute)return this.ranges;this.shouldRecompute=!1;const M=Array.from(this.hiddenAreas.values()).reduce((P,x)=>T(P,x),[]);return N(this.ranges,M)?this.ranges:(this.ranges=M,this.ranges)}}function T(O,M){const P=[];let x=0,R=0;for(;x<O.length&&R<M.length;){const B=O[x],H=M[R];if(B.endLineNumber<H.startLineNumber-1)P.push(O[x++]);else if(H.endLineNumber<B.startLineNumber-1)P.push(M[R++]);else{const V=Math.min(B.startLineNumber,H.startLineNumber),q=Math.max(B.endLineNumber,H.endLineNumber);P.push(new s.Range(V,1,q,1)),x++,R++}}for(;x<O.length;)P.push(O[x++]);for(;R<M.length;)P.push(M[R++]);return P}function N(O,M){if(O.length!==M.length)return!1;for(let P=0;P<O.length;P++)if(!O[P].equalsRange(M[P]))return!1;return!0}class A{constructor(M,P){this.viewportStartModelPosition=M,this.startLineDelta=P}recoverViewportStart(M,P){if(!this.viewportStartModelPosition)return;const x=M.convertModelPositionToViewPosition(this.viewportStartModelPosition),R=P.getVerticalOffsetForLineNumber(x.lineNumber);P.setScrollPosition({scrollTop:R+this.startLineDelta},1)}}}),define(te[209],ie([1,0,6,12,7,2,49,70,809,218,16,36,902,637,297,634,38,89,86,9,5,24,190,305,189,19,33,37,18,574,930,650,74,27,14,8,171,51,31,23,844,469]),function(J,e,m,k,D,L,y,p,w,C,b,a,s,i,t,n,h,v,u,d,r,l,o,g,c,f,_,S,I,E,T,N,A,O,M,P,x,R,B,H){"use strict";var V;Object.defineProperty(e,"__esModule",{value:!0}),e.EditorModeContext=e.BooleanEventEmitter=e.CodeEditorWidget=void 0;let q=V=class extends L.Disposable{get isSimpleWidget(){return this._configuration.isSimpleWidget}constructor(W,z,Y,j,G,oe,ne,ce,le,me,ve,Ce){var Se;super(),this.languageConfigurationService=ve,this._deliveryQueue=(0,D.createEventDeliveryQueue)(),this._contributions=this._register(new n.CodeEditorContributions),this._onDidDispose=this._register(new D.Emitter),this.onDidDispose=this._onDidDispose.event,this._onDidChangeModelContent=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelContent=this._onDidChangeModelContent.event,this._onDidChangeModelLanguage=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelLanguage=this._onDidChangeModelLanguage.event,this._onDidChangeModelLanguageConfiguration=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelLanguageConfiguration=this._onDidChangeModelLanguageConfiguration.event,this._onDidChangeModelOptions=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelOptions=this._onDidChangeModelOptions.event,this._onDidChangeModelDecorations=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelDecorations=this._onDidChangeModelDecorations.event,this._onDidChangeModelTokens=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelTokens=this._onDidChangeModelTokens.event,this._onDidChangeConfiguration=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this._onWillChangeModel=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onWillChangeModel=this._onWillChangeModel.event,this._onDidChangeModel=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeModel=this._onDidChangeModel.event,this._onDidChangeCursorPosition=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeCursorPosition=this._onDidChangeCursorPosition.event,this._onDidChangeCursorSelection=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeCursorSelection=this._onDidChangeCursorSelection.event,this._onDidAttemptReadOnlyEdit=this._register(new se(this._contributions,this._deliveryQueue)),this.onDidAttemptReadOnlyEdit=this._onDidAttemptReadOnlyEdit.event,this._onDidLayoutChange=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidLayoutChange=this._onDidLayoutChange.event,this._editorTextFocus=this._register(new $({deliveryQueue:this._deliveryQueue})),this.onDidFocusEditorText=this._editorTextFocus.onDidChangeToTrue,this.onDidBlurEditorText=this._editorTextFocus.onDidChangeToFalse,this._editorWidgetFocus=this._register(new $({deliveryQueue:this._deliveryQueue})),this.onDidFocusEditorWidget=this._editorWidgetFocus.onDidChangeToTrue,this.onDidBlurEditorWidget=this._editorWidgetFocus.onDidChangeToFalse,this._onWillType=this._register(new se(this._contributions,this._deliveryQueue)),this.onWillType=this._onWillType.event,this._onDidType=this._register(new se(this._contributions,this._deliveryQueue)),this.onDidType=this._onDidType.event,this._onDidCompositionStart=this._register(new se(this._contributions,this._deliveryQueue)),this.onDidCompositionStart=this._onDidCompositionStart.event,this._onDidCompositionEnd=this._register(new se(this._contributions,this._deliveryQueue)),this.onDidCompositionEnd=this._onDidCompositionEnd.event,this._onDidPaste=this._register(new se(this._contributions,this._deliveryQueue)),this.onDidPaste=this._onDidPaste.event,this._onMouseUp=this._register(new se(this._contributions,this._deliveryQueue)),this.onMouseUp=this._onMouseUp.event,this._onMouseDown=this._register(new se(this._contributions,this._deliveryQueue)),this.onMouseDown=this._onMouseDown.event,this._onMouseDrag=this._register(new se(this._contributions,this._deliveryQueue)),this.onMouseDrag=this._onMouseDrag.event,this._onMouseDrop=this._register(new se(this._contributions,this._deliveryQueue)),this.onMouseDrop=this._onMouseDrop.event,this._onMouseDropCanceled=this._register(new se(this._contributions,this._deliveryQueue)),this.onMouseDropCanceled=this._onMouseDropCanceled.event,this._onDropIntoEditor=this._register(new se(this._contributions,this._deliveryQueue)),this.onDropIntoEditor=this._onDropIntoEditor.event,this._onContextMenu=this._register(new se(this._contributions,this._deliveryQueue)),this.onContextMenu=this._onContextMenu.event,this._onMouseMove=this._register(new se(this._contributions,this._deliveryQueue)),this.onMouseMove=this._onMouseMove.event,this._onMouseLeave=this._register(new se(this._contributions,this._deliveryQueue)),this.onMouseLeave=this._onMouseLeave.event,this._onMouseWheel=this._register(new se(this._contributions,this._deliveryQueue)),this.onMouseWheel=this._onMouseWheel.event,this._onKeyUp=this._register(new se(this._contributions,this._deliveryQueue)),this.onKeyUp=this._onKeyUp.event,this._onKeyDown=this._register(new se(this._contributions,this._deliveryQueue)),this.onKeyDown=this._onKeyDown.event,this._onDidContentSizeChange=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._onDidScrollChange=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidScrollChange=this._onDidScrollChange.event,this._onDidChangeViewZones=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeViewZones=this._onDidChangeViewZones.event,this._onDidChangeHiddenAreas=this._register(new D.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeHiddenAreas=this._onDidChangeHiddenAreas.event,this._actions=new Map,this._bannerDomNode=null,this._dropIntoEditorDecorations=this.createDecorationsCollection(),G.willCreateCodeEditor();const _e={...z};this._domElement=W,this._overflowWidgetsDomNode=_e.overflowWidgetsDomNode,delete _e.overflowWidgetsDomNode,this._id=++K,this._decorationTypeKeysToIds={},this._decorationTypeSubtypes={},this._telemetryData=Y.telemetryData,this._configuration=this._register(this._createConfiguration(Y.isSimpleWidget||!1,_e,me)),this._register(this._configuration.onDidChange(Ae=>{this._onDidChangeConfiguration.fire(Ae);const xe=this._configuration.options;if(Ae.hasChanged(145)){const He=xe.get(145);this._onDidLayoutChange.fire(He)}})),this._contextKeyService=this._register(ne.createScoped(this._domElement)),this._notificationService=le,this._codeEditorService=G,this._commandService=oe,this._themeService=ce,this._register(new F(this,this._contextKeyService)),this._register(new X(this,this._contextKeyService,Ce)),this._instantiationService=j.createChild(new x.ServiceCollection([M.IContextKeyService,this._contextKeyService])),this._modelData=null,this._focusTracker=new Q(W,this._overflowWidgetsDomNode),this._register(this._focusTracker.onChange(()=>{this._editorWidgetFocus.setValue(this._focusTracker.hasFocus())})),this._contentWidgets={},this._overlayWidgets={},this._glyphMarginWidgets={};let Le;Array.isArray(Y.contributions)?Le=Y.contributions:Le=b.EditorExtensionsRegistry.getEditorContributions(),this._contributions.initialize(this,Le,this._instantiationService);for(const Ae of b.EditorExtensionsRegistry.getEditorActions()){if(this._actions.has(Ae.id)){(0,k.onUnexpectedError)(new Error(`Cannot have two actions with the same id ${Ae.id}`));continue}const xe=new g.InternalEditorAction(Ae.id,Ae.label,Ae.alias,Ae.metadata,(Se=Ae.precondition)!==null&&Se!==void 0?Se:void 0,He=>this._instantiationService.invokeFunction(Be=>Promise.resolve(Ae.runEditorCommand(Be,this,He))),this._contextKeyService);this._actions.set(xe.id,xe)}const ke=()=>!this._configuration.options.get(91)&&this._configuration.options.get(36).enabled;this._register(new m.DragAndDropObserver(this._domElement,{onDragOver:Ae=>{if(!ke())return;const xe=this.getTargetAtClientPoint(Ae.clientX,Ae.clientY);xe?.position&&this.showDropIndicatorAt(xe.position)},onDrop:async Ae=>{if(!ke()||(this.removeDropIndicator(),!Ae.dataTransfer))return;const xe=this.getTargetAtClientPoint(Ae.clientX,Ae.clientY);xe?.position&&this._onDropIntoEditor.fire({position:xe.position,event:Ae})},onDragLeave:()=>{this.removeDropIndicator()},onDragEnd:()=>{this.removeDropIndicator()}})),this._codeEditorService.addCodeEditor(this)}writeScreenReaderContent(W){var z;(z=this._modelData)===null||z===void 0||z.view.writeScreenReaderContent(W)}_createConfiguration(W,z,Y){return new w.EditorConfiguration(W,z,this._domElement,Y)}getId(){return this.getEditorType()+":"+this._id}getEditorType(){return c.EditorType.ICodeEditor}dispose(){this._codeEditorService.removeCodeEditor(this),this._focusTracker.dispose(),this._actions.clear(),this._contentWidgets={},this._overlayWidgets={},this._removeDecorationTypes(),this._postDetachModelCleanup(this._detachModel()),this._onDidDispose.fire(),super.dispose()}invokeWithinContext(W){return this._instantiationService.invokeFunction(W)}updateOptions(W){this._configuration.updateOptions(W||{})}getOptions(){return this._configuration.options}getOption(W){return this._configuration.options.get(W)}getRawOptions(){return this._configuration.getRawOptions()}getOverflowWidgetsDomNode(){return this._overflowWidgetsDomNode}getConfiguredWordAtPosition(W){return this._modelData?o.WordOperations.getWordAtPosition(this._modelData.model,this._configuration.options.get(131),this._configuration.options.get(130),W):null}getValue(W=null){if(!this._modelData)return"";const z=!!(W&&W.preserveBOM);let Y=0;return W&&W.lineEnding&&W.lineEnding===`
`?Y=1:W&&W.lineEnding&&W.lineEnding===`\r
`&&(Y=2),this._modelData.model.getValue(Y,z)}setValue(W){this._modelData&&this._modelData.model.setValue(W)}getModel(){return this._modelData?this._modelData.model:null}setModel(W=null){var z;const Y=W;if(this._modelData===null&&Y===null||this._modelData&&this._modelData.model===Y)return;const j={oldModelUrl:((z=this._modelData)===null||z===void 0?void 0:z.model.uri)||null,newModelUrl:Y?.uri||null};this._onWillChangeModel.fire(j);const G=this.hasTextFocus(),oe=this._detachModel();this._attachModel(Y),G&&this.hasModel()&&this.focus(),this._removeDecorationTypes(),this._onDidChangeModel.fire(j),this._postDetachModelCleanup(oe),this._contributionsDisposable=this._contributions.onAfterModelAttached()}_removeDecorationTypes(){if(this._decorationTypeKeysToIds={},this._decorationTypeSubtypes){for(const W in this._decorationTypeSubtypes){const z=this._decorationTypeSubtypes[W];for(const Y in z)this._removeDecorationType(W+"-"+Y)}this._decorationTypeSubtypes={}}}getVisibleRanges(){return this._modelData?this._modelData.viewModel.getVisibleRanges():[]}getVisibleRangesPlusViewportAboveBelow(){return this._modelData?this._modelData.viewModel.getVisibleRangesPlusViewportAboveBelow():[]}getWhitespaces(){return this._modelData?this._modelData.viewModel.viewLayout.getWhitespaces():[]}static _getVerticalOffsetAfterPosition(W,z,Y,j){const G=W.model.validatePosition({lineNumber:z,column:Y}),oe=W.viewModel.coordinatesConverter.convertModelPositionToViewPosition(G);return W.viewModel.viewLayout.getVerticalOffsetAfterLineNumber(oe.lineNumber,j)}getTopForLineNumber(W,z=!1){return this._modelData?V._getVerticalOffsetForPosition(this._modelData,W,1,z):-1}getTopForPosition(W,z){return this._modelData?V._getVerticalOffsetForPosition(this._modelData,W,z,!1):-1}static _getVerticalOffsetForPosition(W,z,Y,j=!1){const G=W.model.validatePosition({lineNumber:z,column:Y}),oe=W.viewModel.coordinatesConverter.convertModelPositionToViewPosition(G);return W.viewModel.viewLayout.getVerticalOffsetForLineNumber(oe.lineNumber,j)}getBottomForLineNumber(W,z=!1){return this._modelData?V._getVerticalOffsetAfterPosition(this._modelData,W,1,z):-1}setHiddenAreas(W,z){var Y;(Y=this._modelData)===null||Y===void 0||Y.viewModel.setHiddenAreas(W.map(j=>r.Range.lift(j)),z)}getVisibleColumnFromPosition(W){if(!this._modelData)return W.column;const z=this._modelData.model.validatePosition(W),Y=this._modelData.model.getOptions().tabSize;return v.CursorColumns.visibleColumnFromColumn(this._modelData.model.getLineContent(z.lineNumber),z.column,Y)+1}getPosition(){return this._modelData?this._modelData.viewModel.getPosition():null}setPosition(W,z="api"){if(this._modelData){if(!d.Position.isIPosition(W))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections(z,[{selectionStartLineNumber:W.lineNumber,selectionStartColumn:W.column,positionLineNumber:W.lineNumber,positionColumn:W.column}])}}_sendRevealRange(W,z,Y,j){if(!this._modelData)return;if(!r.Range.isIRange(W))throw new Error("Invalid arguments");const G=this._modelData.model.validateRange(W),oe=this._modelData.viewModel.coordinatesConverter.convertModelRangeToViewRange(G);this._modelData.viewModel.revealRange("api",Y,oe,z,j)}revealLine(W,z=0){this._revealLine(W,0,z)}revealLineInCenter(W,z=0){this._revealLine(W,1,z)}revealLineInCenterIfOutsideViewport(W,z=0){this._revealLine(W,2,z)}revealLineNearTop(W,z=0){this._revealLine(W,5,z)}_revealLine(W,z,Y){if(typeof W!="number")throw new Error("Invalid arguments");this._sendRevealRange(new r.Range(W,1,W,1),z,!1,Y)}revealPosition(W,z=0){this._revealPosition(W,0,!0,z)}revealPositionInCenter(W,z=0){this._revealPosition(W,1,!0,z)}revealPositionInCenterIfOutsideViewport(W,z=0){this._revealPosition(W,2,!0,z)}revealPositionNearTop(W,z=0){this._revealPosition(W,5,!0,z)}_revealPosition(W,z,Y,j){if(!d.Position.isIPosition(W))throw new Error("Invalid arguments");this._sendRevealRange(new r.Range(W.lineNumber,W.column,W.lineNumber,W.column),z,Y,j)}getSelection(){return this._modelData?this._modelData.viewModel.getSelection():null}getSelections(){return this._modelData?this._modelData.viewModel.getSelections():null}setSelection(W,z="api"){const Y=l.Selection.isISelection(W),j=r.Range.isIRange(W);if(!Y&&!j)throw new Error("Invalid arguments");if(Y)this._setSelectionImpl(W,z);else if(j){const G={selectionStartLineNumber:W.startLineNumber,selectionStartColumn:W.startColumn,positionLineNumber:W.endLineNumber,positionColumn:W.endColumn};this._setSelectionImpl(G,z)}}_setSelectionImpl(W,z){if(!this._modelData)return;const Y=new l.Selection(W.selectionStartLineNumber,W.selectionStartColumn,W.positionLineNumber,W.positionColumn);this._modelData.viewModel.setSelections(z,[Y])}revealLines(W,z,Y=0){this._revealLines(W,z,0,Y)}revealLinesInCenter(W,z,Y=0){this._revealLines(W,z,1,Y)}revealLinesInCenterIfOutsideViewport(W,z,Y=0){this._revealLines(W,z,2,Y)}revealLinesNearTop(W,z,Y=0){this._revealLines(W,z,5,Y)}_revealLines(W,z,Y,j){if(typeof W!="number"||typeof z!="number")throw new Error("Invalid arguments");this._sendRevealRange(new r.Range(W,1,z,1),Y,!1,j)}revealRange(W,z=0,Y=!1,j=!0){this._revealRange(W,Y?1:0,j,z)}revealRangeInCenter(W,z=0){this._revealRange(W,1,!0,z)}revealRangeInCenterIfOutsideViewport(W,z=0){this._revealRange(W,2,!0,z)}revealRangeNearTop(W,z=0){this._revealRange(W,5,!0,z)}revealRangeNearTopIfOutsideViewport(W,z=0){this._revealRange(W,6,!0,z)}revealRangeAtTop(W,z=0){this._revealRange(W,3,!0,z)}_revealRange(W,z,Y,j){if(!r.Range.isIRange(W))throw new Error("Invalid arguments");this._sendRevealRange(r.Range.lift(W),z,Y,j)}setSelections(W,z="api",Y=0){if(this._modelData){if(!W||W.length===0)throw new Error("Invalid arguments");for(let j=0,G=W.length;j<G;j++)if(!l.Selection.isISelection(W[j]))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections(z,W,Y)}}getContentWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getContentWidth():-1}getScrollWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollWidth():-1}getScrollLeft(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollLeft():-1}getContentHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getContentHeight():-1}getScrollHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollHeight():-1}getScrollTop(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollTop():-1}setScrollLeft(W,z=1){if(this._modelData){if(typeof W!="number")throw new Error("Invalid arguments");this._modelData.viewModel.viewLayout.setScrollPosition({scrollLeft:W},z)}}setScrollTop(W,z=1){if(this._modelData){if(typeof W!="number")throw new Error("Invalid arguments");this._modelData.viewModel.viewLayout.setScrollPosition({scrollTop:W},z)}}setScrollPosition(W,z=1){this._modelData&&this._modelData.viewModel.viewLayout.setScrollPosition(W,z)}hasPendingScrollAnimation(){return this._modelData?this._modelData.viewModel.viewLayout.hasPendingScrollAnimation():!1}saveViewState(){if(!this._modelData)return null;const W=this._contributions.saveViewState(),z=this._modelData.viewModel.saveCursorState(),Y=this._modelData.viewModel.saveState();return{cursorState:z,viewState:Y,contributionsState:W}}restoreViewState(W){if(!this._modelData||!this._modelData.hasRealView)return;const z=W;if(z&&z.cursorState&&z.viewState){const Y=z.cursorState;Array.isArray(Y)?Y.length>0&&this._modelData.viewModel.restoreCursorState(Y):this._modelData.viewModel.restoreCursorState([Y]),this._contributions.restoreViewState(z.contributionsState||{});const j=this._modelData.viewModel.reduceRestoreState(z.viewState);this._modelData.view.restoreState(j)}}handleInitialized(){var W;(W=this._getViewModel())===null||W===void 0||W.visibleLinesStabilized()}getContribution(W){return this._contributions.get(W)}getActions(){return Array.from(this._actions.values())}getSupportedActions(){let W=this.getActions();return W=W.filter(z=>z.isSupported()),W}getAction(W){return this._actions.get(W)||null}trigger(W,z,Y){switch(Y=Y||{},z){case"compositionStart":this._startComposition();return;case"compositionEnd":this._endComposition(W);return;case"type":{const G=Y;this._type(W,G.text||"");return}case"replacePreviousChar":{const G=Y;this._compositionType(W,G.text||"",G.replaceCharCnt||0,0,0);return}case"compositionType":{const G=Y;this._compositionType(W,G.text||"",G.replacePrevCharCnt||0,G.replaceNextCharCnt||0,G.positionDelta||0);return}case"paste":{const G=Y;this._paste(W,G.text||"",G.pasteOnNewLine||!1,G.multicursorText||null,G.mode||null,G.clipboardEvent);return}case"cut":this._cut(W);return}const j=this.getAction(z);if(j){Promise.resolve(j.run(Y)).then(void 0,k.onUnexpectedError);return}this._modelData&&(this._triggerEditorCommand(W,z,Y)||this._triggerCommand(z,Y))}_triggerCommand(W,z){this._commandService.executeCommand(W,z)}_startComposition(){this._modelData&&(this._modelData.viewModel.startComposition(),this._onDidCompositionStart.fire())}_endComposition(W){this._modelData&&(this._modelData.viewModel.endComposition(W),this._onDidCompositionEnd.fire())}_type(W,z){!this._modelData||z.length===0||(W==="keyboard"&&this._onWillType.fire(z),this._modelData.viewModel.type(z,W),W==="keyboard"&&this._onDidType.fire(z))}_compositionType(W,z,Y,j,G){this._modelData&&this._modelData.viewModel.compositionType(z,Y,j,G,W)}_paste(W,z,Y,j,G,oe){if(!this._modelData)return;const ne=this._modelData.viewModel,ce=ne.getSelection().getStartPosition();ne.paste(z,Y,j,W);const le=ne.getSelection().getStartPosition();W==="keyboard"&&this._onDidPaste.fire({clipboardEvent:oe,range:new r.Range(ce.lineNumber,ce.column,le.lineNumber,le.column),languageId:G})}_cut(W){this._modelData&&this._modelData.viewModel.cut(W)}_triggerEditorCommand(W,z,Y){const j=b.EditorExtensionsRegistry.getEditorCommand(z);return j?(Y=Y||{},Y.source=W,this._instantiationService.invokeFunction(G=>{Promise.resolve(j.runEditorCommand(G,this,Y)).then(void 0,k.onUnexpectedError)}),!0):!1}_getViewModel(){return this._modelData?this._modelData.viewModel:null}pushUndoStop(){return!this._modelData||this._configuration.options.get(91)?!1:(this._modelData.model.pushStackElement(),!0)}popUndoStop(){return!this._modelData||this._configuration.options.get(91)?!1:(this._modelData.model.popStackElement(),!0)}executeEdits(W,z,Y){if(!this._modelData||this._configuration.options.get(91))return!1;let j;return Y?Array.isArray(Y)?j=()=>Y:j=Y:j=()=>null,this._modelData.viewModel.executeEdits(W,z,j),!0}executeCommand(W,z){this._modelData&&this._modelData.viewModel.executeCommand(z,W)}executeCommands(W,z){this._modelData&&this._modelData.viewModel.executeCommands(z,W)}createDecorationsCollection(W){return new Z(this,W)}changeDecorations(W){return this._modelData?this._modelData.model.changeDecorations(W,this._id):null}getLineDecorations(W){return this._modelData?this._modelData.model.getLineDecorations(W,this._id,(0,h.filterValidationDecorations)(this._configuration.options)):null}getDecorationsInRange(W){return this._modelData?this._modelData.model.getDecorationsInRange(W,this._id,(0,h.filterValidationDecorations)(this._configuration.options)):null}deltaDecorations(W,z){return this._modelData?W.length===0&&z.length===0?W:this._modelData.model.deltaDecorations(W,z,this._id):[]}removeDecorations(W){!this._modelData||W.length===0||this._modelData.model.changeDecorations(z=>{z.deltaDecorations(W,[])})}removeDecorationsByType(W){const z=this._decorationTypeKeysToIds[W];z&&this.changeDecorations(Y=>Y.deltaDecorations(z,[])),this._decorationTypeKeysToIds.hasOwnProperty(W)&&delete this._decorationTypeKeysToIds[W],this._decorationTypeSubtypes.hasOwnProperty(W)&&delete this._decorationTypeSubtypes[W]}getLayoutInfo(){return this._configuration.options.get(145)}createOverviewRuler(W){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.createOverviewRuler(W)}getContainerDomNode(){return this._domElement}getDomNode(){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.domNode.domNode}delegateVerticalScrollbarPointerDown(W){!this._modelData||!this._modelData.hasRealView||this._modelData.view.delegateVerticalScrollbarPointerDown(W)}delegateScrollFromMouseWheelEvent(W){!this._modelData||!this._modelData.hasRealView||this._modelData.view.delegateScrollFromMouseWheelEvent(W)}layout(W,z=!1){this._configuration.observeContainer(W),z||this.render()}focus(){!this._modelData||!this._modelData.hasRealView||this._modelData.view.focus()}hasTextFocus(){return!this._modelData||!this._modelData.hasRealView?!1:this._modelData.view.isFocused()}hasWidgetFocus(){return this._focusTracker&&this._focusTracker.hasFocus()}addContentWidget(W){const z={widget:W,position:W.getPosition()};this._contentWidgets.hasOwnProperty(W.getId())&&console.warn("Overwriting a content widget with the same id:"+W.getId()),this._contentWidgets[W.getId()]=z,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addContentWidget(z)}layoutContentWidget(W){const z=W.getId();if(this._contentWidgets.hasOwnProperty(z)){const Y=this._contentWidgets[z];Y.position=W.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutContentWidget(Y)}}removeContentWidget(W){const z=W.getId();if(this._contentWidgets.hasOwnProperty(z)){const Y=this._contentWidgets[z];delete this._contentWidgets[z],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeContentWidget(Y)}}addOverlayWidget(W){const z={widget:W,position:W.getPosition()};this._overlayWidgets.hasOwnProperty(W.getId())&&console.warn("Overwriting an overlay widget with the same id."),this._overlayWidgets[W.getId()]=z,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addOverlayWidget(z)}layoutOverlayWidget(W){const z=W.getId();if(this._overlayWidgets.hasOwnProperty(z)){const Y=this._overlayWidgets[z];Y.position=W.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutOverlayWidget(Y)}}removeOverlayWidget(W){const z=W.getId();if(this._overlayWidgets.hasOwnProperty(z)){const Y=this._overlayWidgets[z];delete this._overlayWidgets[z],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeOverlayWidget(Y)}}addGlyphMarginWidget(W){const z={widget:W,position:W.getPosition()};this._glyphMarginWidgets.hasOwnProperty(W.getId())&&console.warn("Overwriting a glyph margin widget with the same id."),this._glyphMarginWidgets[W.getId()]=z,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addGlyphMarginWidget(z)}layoutGlyphMarginWidget(W){const z=W.getId();if(this._glyphMarginWidgets.hasOwnProperty(z)){const Y=this._glyphMarginWidgets[z];Y.position=W.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutGlyphMarginWidget(Y)}}removeGlyphMarginWidget(W){const z=W.getId();if(this._glyphMarginWidgets.hasOwnProperty(z)){const Y=this._glyphMarginWidgets[z];delete this._glyphMarginWidgets[z],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeGlyphMarginWidget(Y)}}changeViewZones(W){!this._modelData||!this._modelData.hasRealView||this._modelData.view.change(W)}getTargetAtClientPoint(W,z){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.getTargetAtClientPoint(W,z)}getScrolledVisiblePosition(W){if(!this._modelData||!this._modelData.hasRealView)return null;const z=this._modelData.model.validatePosition(W),Y=this._configuration.options,j=Y.get(145),G=V._getVerticalOffsetForPosition(this._modelData,z.lineNumber,z.column)-this.getScrollTop(),oe=this._modelData.view.getOffsetForColumn(z.lineNumber,z.column)+j.glyphMarginWidth+j.lineNumbersWidth+j.decorationsWidth-this.getScrollLeft();return{top:G,left:oe,height:Y.get(67)}}getOffsetForColumn(W,z){return!this._modelData||!this._modelData.hasRealView?-1:this._modelData.view.getOffsetForColumn(W,z)}render(W=!1){!this._modelData||!this._modelData.hasRealView||this._modelData.view.render(!0,W)}setAriaOptions(W){!this._modelData||!this._modelData.hasRealView||this._modelData.view.setAriaOptions(W)}applyFontInfo(W){(0,p.applyFontInfo)(W,this._configuration.options.get(50))}setBanner(W,z){this._bannerDomNode&&this._domElement.contains(this._bannerDomNode)&&this._domElement.removeChild(this._bannerDomNode),this._bannerDomNode=W,this._configuration.setReservedHeight(W?z:0),this._bannerDomNode&&this._domElement.prepend(this._bannerDomNode)}_attachModel(W){if(!W){this._modelData=null;return}const z=[];this._domElement.setAttribute("data-mode-id",W.getLanguageId()),this._configuration.setIsDominatedByLongLines(W.isDominatedByLongLines()),this._configuration.setModelLineCount(W.getLineCount());const Y=W.onBeforeAttached(),j=new T.ViewModel(this._id,this._configuration,W,i.DOMLineBreaksComputerFactory.create(m.getWindow(this._domElement)),E.MonospaceLineBreaksComputerFactory.create(this._configuration.options),ne=>m.scheduleAtNextAnimationFrame(m.getWindow(this._domElement),ne),this.languageConfigurationService,this._themeService,Y);z.push(W.onWillDispose(()=>this.setModel(null))),z.push(j.onEvent(ne=>{switch(ne.kind){case 0:this._onDidContentSizeChange.fire(ne);break;case 1:this._editorTextFocus.setValue(ne.hasFocus);break;case 2:this._onDidScrollChange.fire(ne);break;case 3:this._onDidChangeViewZones.fire();break;case 4:this._onDidChangeHiddenAreas.fire();break;case 5:this._onDidAttemptReadOnlyEdit.fire();break;case 6:{if(ne.reachedMaxCursorCount){const ve=this.getOption(80),Ce=N.localize(0,null,ve);this._notificationService.prompt(R.Severity.Warning,Ce,[{label:"Find and Replace",run:()=>{this._commandService.executeCommand("editor.action.startFindReplaceAction")}},{label:N.localize(1,null),run:()=>{this._commandService.executeCommand("workbench.action.openSettings2",{query:"editor.multiCursorLimit"})}}])}const ce=[];for(let ve=0,Ce=ne.selections.length;ve<Ce;ve++)ce[ve]=ne.selections[ve].getPosition();const le={position:ce[0],secondaryPositions:ce.slice(1),reason:ne.reason,source:ne.source};this._onDidChangeCursorPosition.fire(le);const me={selection:ne.selections[0],secondarySelections:ne.selections.slice(1),modelVersionId:ne.modelVersionId,oldSelections:ne.oldSelections,oldModelVersionId:ne.oldModelVersionId,source:ne.source,reason:ne.reason};this._onDidChangeCursorSelection.fire(me);break}case 7:this._onDidChangeModelDecorations.fire(ne.event);break;case 8:this._domElement.setAttribute("data-mode-id",W.getLanguageId()),this._onDidChangeModelLanguage.fire(ne.event);break;case 9:this._onDidChangeModelLanguageConfiguration.fire(ne.event);break;case 10:this._onDidChangeModelContent.fire(ne.event);break;case 11:this._onDidChangeModelOptions.fire(ne.event);break;case 12:this._onDidChangeModelTokens.fire(ne.event);break}}));const[G,oe]=this._createView(j);if(oe){this._domElement.appendChild(G.domNode.domNode);let ne=Object.keys(this._contentWidgets);for(let ce=0,le=ne.length;ce<le;ce++){const me=ne[ce];G.addContentWidget(this._contentWidgets[me])}ne=Object.keys(this._overlayWidgets);for(let ce=0,le=ne.length;ce<le;ce++){const me=ne[ce];G.addOverlayWidget(this._overlayWidgets[me])}ne=Object.keys(this._glyphMarginWidgets);for(let ce=0,le=ne.length;ce<le;ce++){const me=ne[ce];G.addGlyphMarginWidget(this._glyphMarginWidgets[me])}G.render(!1,!0),G.domNode.domNode.setAttribute("data-uri",W.uri.toString())}this._modelData=new U(W,j,G,oe,z,Y)}_createView(W){let z;this.isSimpleWidget?z={paste:(G,oe,ne,ce)=>{this._paste("keyboard",G,oe,ne,ce)},type:G=>{this._type("keyboard",G)},compositionType:(G,oe,ne,ce)=>{this._compositionType("keyboard",G,oe,ne,ce)},startComposition:()=>{this._startComposition()},endComposition:()=>{this._endComposition("keyboard")},cut:()=>{this._cut("keyboard")}}:z={paste:(G,oe,ne,ce)=>{const le={text:G,pasteOnNewLine:oe,multicursorText:ne,mode:ce};this._commandService.executeCommand("paste",le)},type:G=>{const oe={text:G};this._commandService.executeCommand("type",oe)},compositionType:(G,oe,ne,ce)=>{if(ne||ce){const le={text:G,replacePrevCharCnt:oe,replaceNextCharCnt:ne,positionDelta:ce};this._commandService.executeCommand("compositionType",le)}else{const le={text:G,replaceCharCnt:oe};this._commandService.executeCommand("replacePreviousChar",le)}},startComposition:()=>{this._commandService.executeCommand("compositionStart",{})},endComposition:()=>{this._commandService.executeCommand("compositionEnd",{})},cut:()=>{this._commandService.executeCommand("cut",{})}};const Y=new t.ViewUserInputEvents(W.coordinatesConverter);return Y.onKeyDown=G=>this._onKeyDown.fire(G),Y.onKeyUp=G=>this._onKeyUp.fire(G),Y.onContextMenu=G=>this._onContextMenu.fire(G),Y.onMouseMove=G=>this._onMouseMove.fire(G),Y.onMouseLeave=G=>this._onMouseLeave.fire(G),Y.onMouseDown=G=>this._onMouseDown.fire(G),Y.onMouseUp=G=>this._onMouseUp.fire(G),Y.onMouseDrag=G=>this._onMouseDrag.fire(G),Y.onMouseDrop=G=>this._onMouseDrop.fire(G),Y.onMouseDropCanceled=G=>this._onMouseDropCanceled.fire(G),Y.onMouseWheel=G=>this._onMouseWheel.fire(G),[new s.View(z,this._configuration,this._themeService.getColorTheme(),W,Y,this._overflowWidgetsDomNode,this._instantiationService),!0]}_postDetachModelCleanup(W){W?.removeAllDecorationsWithOwnerId(this._id)}_detachModel(){var W;if((W=this._contributionsDisposable)===null||W===void 0||W.dispose(),this._contributionsDisposable=void 0,!this._modelData)return null;const z=this._modelData.model,Y=this._modelData.hasRealView?this._modelData.view.domNode.domNode:null;return this._modelData.dispose(),this._modelData=null,this._domElement.removeAttribute("data-mode-id"),Y&&this._domElement.contains(Y)&&this._domElement.removeChild(Y),this._bannerDomNode&&this._domElement.contains(this._bannerDomNode)&&this._domElement.removeChild(this._bannerDomNode),z}_removeDecorationType(W){this._codeEditorService.removeDecorationType(W)}hasModel(){return this._modelData!==null}showDropIndicatorAt(W){const z=[{range:new r.Range(W.lineNumber,W.column,W.lineNumber,W.column),options:V.dropIntoEditorDecorationOptions}];this._dropIntoEditorDecorations.set(z),this.revealPosition(W,1)}removeDropIndicator(){this._dropIntoEditorDecorations.clear()}setContextValue(W,z){this._contextKeyService.createKey(W,z)}};e.CodeEditorWidget=q,q.dropIntoEditorDecorationOptions=S.ModelDecorationOptions.register({description:"workbench-dnd-target",className:"dnd-target"}),e.CodeEditorWidget=q=V=Ie([he(3,P.IInstantiationService),he(4,a.ICodeEditorService),he(5,O.ICommandService),he(6,M.IContextKeyService),he(7,H.IThemeService),he(8,R.INotificationService),he(9,A.IAccessibilityService),he(10,_.ILanguageConfigurationService),he(11,I.ILanguageFeaturesService)],q);let K=0;class U{constructor(W,z,Y,j,G,oe){this.model=W,this.viewModel=z,this.view=Y,this.hasRealView=j,this.listenersToRemove=G,this.attachedView=oe}dispose(){(0,L.dispose)(this.listenersToRemove),this.model.onBeforeDetached(this.attachedView),this.hasRealView&&this.view.dispose(),this.viewModel.dispose()}}class $ extends L.Disposable{constructor(W){super(),this._emitterOptions=W,this._onDidChangeToTrue=this._register(new D.Emitter(this._emitterOptions)),this.onDidChangeToTrue=this._onDidChangeToTrue.event,this._onDidChangeToFalse=this._register(new D.Emitter(this._emitterOptions)),this.onDidChangeToFalse=this._onDidChangeToFalse.event,this._value=0}setValue(W){const z=W?2:1;this._value!==z&&(this._value=z,this._value===2?this._onDidChangeToTrue.fire():this._value===1&&this._onDidChangeToFalse.fire())}}e.BooleanEventEmitter=$;class se extends D.Emitter{constructor(W,z){super({deliveryQueue:z}),this._contributions=W}fire(W){this._contributions.onBeforeInteractionEvent(),super.fire(W)}}class F extends L.Disposable{constructor(W,z){super(),this._editor=W,z.createKey("editorId",W.getId()),this._editorSimpleInput=f.EditorContextKeys.editorSimpleInput.bindTo(z),this._editorFocus=f.EditorContextKeys.focus.bindTo(z),this._textInputFocus=f.EditorContextKeys.textInputFocus.bindTo(z),this._editorTextFocus=f.EditorContextKeys.editorTextFocus.bindTo(z),this._tabMovesFocus=f.EditorContextKeys.tabMovesFocus.bindTo(z),this._editorReadonly=f.EditorContextKeys.readOnly.bindTo(z),this._inDiffEditor=f.EditorContextKeys.inDiffEditor.bindTo(z),this._editorColumnSelection=f.EditorContextKeys.columnSelection.bindTo(z),this._hasMultipleSelections=f.EditorContextKeys.hasMultipleSelections.bindTo(z),this._hasNonEmptySelection=f.EditorContextKeys.hasNonEmptySelection.bindTo(z),this._canUndo=f.EditorContextKeys.canUndo.bindTo(z),this._canRedo=f.EditorContextKeys.canRedo.bindTo(z),this._register(this._editor.onDidChangeConfiguration(()=>this._updateFromConfig())),this._register(this._editor.onDidChangeCursorSelection(()=>this._updateFromSelection())),this._register(this._editor.onDidFocusEditorWidget(()=>this._updateFromFocus())),this._register(this._editor.onDidBlurEditorWidget(()=>this._updateFromFocus())),this._register(this._editor.onDidFocusEditorText(()=>this._updateFromFocus())),this._register(this._editor.onDidBlurEditorText(()=>this._updateFromFocus())),this._register(this._editor.onDidChangeModel(()=>this._updateFromModel())),this._register(this._editor.onDidChangeConfiguration(()=>this._updateFromModel())),this._register(C.TabFocus.onDidChangeTabFocus(Y=>this._tabMovesFocus.set(Y))),this._updateFromConfig(),this._updateFromSelection(),this._updateFromFocus(),this._updateFromModel(),this._editorSimpleInput.set(this._editor.isSimpleWidget)}_updateFromConfig(){const W=this._editor.getOptions();this._tabMovesFocus.set(C.TabFocus.getTabFocusMode()),this._editorReadonly.set(W.get(91)),this._inDiffEditor.set(W.get(61)),this._editorColumnSelection.set(W.get(22))}_updateFromSelection(){const W=this._editor.getSelections();W?(this._hasMultipleSelections.set(W.length>1),this._hasNonEmptySelection.set(W.some(z=>!z.isEmpty()))):(this._hasMultipleSelections.reset(),this._hasNonEmptySelection.reset())}_updateFromFocus(){this._editorFocus.set(this._editor.hasWidgetFocus()&&!this._editor.isSimpleWidget),this._editorTextFocus.set(this._editor.hasTextFocus()&&!this._editor.isSimpleWidget),this._textInputFocus.set(this._editor.hasTextFocus())}_updateFromModel(){const W=this._editor.getModel();this._canUndo.set(!!(W&&W.canUndo())),this._canRedo.set(!!(W&&W.canRedo()))}}class X extends L.Disposable{constructor(W,z,Y){super(),this._editor=W,this._contextKeyService=z,this._languageFeaturesService=Y,this._langId=f.EditorContextKeys.languageId.bindTo(z),this._hasCompletionItemProvider=f.EditorContextKeys.hasCompletionItemProvider.bindTo(z),this._hasCodeActionsProvider=f.EditorContextKeys.hasCodeActionsProvider.bindTo(z),this._hasCodeLensProvider=f.EditorContextKeys.hasCodeLensProvider.bindTo(z),this._hasDefinitionProvider=f.EditorContextKeys.hasDefinitionProvider.bindTo(z),this._hasDeclarationProvider=f.EditorContextKeys.hasDeclarationProvider.bindTo(z),this._hasImplementationProvider=f.EditorContextKeys.hasImplementationProvider.bindTo(z),this._hasTypeDefinitionProvider=f.EditorContextKeys.hasTypeDefinitionProvider.bindTo(z),this._hasHoverProvider=f.EditorContextKeys.hasHoverProvider.bindTo(z),this._hasDocumentHighlightProvider=f.EditorContextKeys.hasDocumentHighlightProvider.bindTo(z),this._hasDocumentSymbolProvider=f.EditorContextKeys.hasDocumentSymbolProvider.bindTo(z),this._hasReferenceProvider=f.EditorContextKeys.hasReferenceProvider.bindTo(z),this._hasRenameProvider=f.EditorContextKeys.hasRenameProvider.bindTo(z),this._hasSignatureHelpProvider=f.EditorContextKeys.hasSignatureHelpProvider.bindTo(z),this._hasInlayHintsProvider=f.EditorContextKeys.hasInlayHintsProvider.bindTo(z),this._hasDocumentFormattingProvider=f.EditorContextKeys.hasDocumentFormattingProvider.bindTo(z),this._hasDocumentSelectionFormattingProvider=f.EditorContextKeys.hasDocumentSelectionFormattingProvider.bindTo(z),this._hasMultipleDocumentFormattingProvider=f.EditorContextKeys.hasMultipleDocumentFormattingProvider.bindTo(z),this._hasMultipleDocumentSelectionFormattingProvider=f.EditorContextKeys.hasMultipleDocumentSelectionFormattingProvider.bindTo(z),this._isInEmbeddedEditor=f.EditorContextKeys.isInEmbeddedEditor.bindTo(z);const j=()=>this._update();this._register(W.onDidChangeModel(j)),this._register(W.onDidChangeModelLanguage(j)),this._register(Y.completionProvider.onDidChange(j)),this._register(Y.codeActionProvider.onDidChange(j)),this._register(Y.codeLensProvider.onDidChange(j)),this._register(Y.definitionProvider.onDidChange(j)),this._register(Y.declarationProvider.onDidChange(j)),this._register(Y.implementationProvider.onDidChange(j)),this._register(Y.typeDefinitionProvider.onDidChange(j)),this._register(Y.hoverProvider.onDidChange(j)),this._register(Y.documentHighlightProvider.onDidChange(j)),this._register(Y.documentSymbolProvider.onDidChange(j)),this._register(Y.referenceProvider.onDidChange(j)),this._register(Y.renameProvider.onDidChange(j)),this._register(Y.documentFormattingEditProvider.onDidChange(j)),this._register(Y.documentRangeFormattingEditProvider.onDidChange(j)),this._register(Y.signatureHelpProvider.onDidChange(j)),this._register(Y.inlayHintsProvider.onDidChange(j)),j()}dispose(){super.dispose()}reset(){this._contextKeyService.bufferChangeEvents(()=>{this._langId.reset(),this._hasCompletionItemProvider.reset(),this._hasCodeActionsProvider.reset(),this._hasCodeLensProvider.reset(),this._hasDefinitionProvider.reset(),this._hasDeclarationProvider.reset(),this._hasImplementationProvider.reset(),this._hasTypeDefinitionProvider.reset(),this._hasHoverProvider.reset(),this._hasDocumentHighlightProvider.reset(),this._hasDocumentSymbolProvider.reset(),this._hasReferenceProvider.reset(),this._hasRenameProvider.reset(),this._hasDocumentFormattingProvider.reset(),this._hasDocumentSelectionFormattingProvider.reset(),this._hasSignatureHelpProvider.reset(),this._isInEmbeddedEditor.reset()})}_update(){const W=this._editor.getModel();if(!W){this.reset();return}this._contextKeyService.bufferChangeEvents(()=>{this._langId.set(W.getLanguageId()),this._hasCompletionItemProvider.set(this._languageFeaturesService.completionProvider.has(W)),this._hasCodeActionsProvider.set(this._languageFeaturesService.codeActionProvider.has(W)),this._hasCodeLensProvider.set(this._languageFeaturesService.codeLensProvider.has(W)),this._hasDefinitionProvider.set(this._languageFeaturesService.definitionProvider.has(W)),this._hasDeclarationProvider.set(this._languageFeaturesService.declarationProvider.has(W)),this._hasImplementationProvider.set(this._languageFeaturesService.implementationProvider.has(W)),this._hasTypeDefinitionProvider.set(this._languageFeaturesService.typeDefinitionProvider.has(W)),this._hasHoverProvider.set(this._languageFeaturesService.hoverProvider.has(W)),this._hasDocumentHighlightProvider.set(this._languageFeaturesService.documentHighlightProvider.has(W)),this._hasDocumentSymbolProvider.set(this._languageFeaturesService.documentSymbolProvider.has(W)),this._hasReferenceProvider.set(this._languageFeaturesService.referenceProvider.has(W)),this._hasRenameProvider.set(this._languageFeaturesService.renameProvider.has(W)),this._hasSignatureHelpProvider.set(this._languageFeaturesService.signatureHelpProvider.has(W)),this._hasInlayHintsProvider.set(this._languageFeaturesService.inlayHintsProvider.has(W)),this._hasDocumentFormattingProvider.set(this._languageFeaturesService.documentFormattingEditProvider.has(W)||this._languageFeaturesService.documentRangeFormattingEditProvider.has(W)),this._hasDocumentSelectionFormattingProvider.set(this._languageFeaturesService.documentRangeFormattingEditProvider.has(W)),this._hasMultipleDocumentFormattingProvider.set(this._languageFeaturesService.documentFormattingEditProvider.all(W).length+this._languageFeaturesService.documentRangeFormattingEditProvider.all(W).length>1),this._hasMultipleDocumentSelectionFormattingProvider.set(this._languageFeaturesService.documentRangeFormattingEditProvider.all(W).length>1),this._isInEmbeddedEditor.set(W.uri.scheme===y.Schemas.walkThroughSnippet||W.uri.scheme===y.Schemas.vscodeChatCodeBlock)})}}e.EditorModeContext=X;class Q extends L.Disposable{constructor(W,z){super(),this._onChange=this._register(new D.Emitter),this.onChange=this._onChange.event,this._hadFocus=void 0,this._hasDomElementFocus=!1,this._domFocusTracker=this._register(m.trackFocus(W)),this._overflowWidgetsDomNodeHasFocus=!1,this._register(this._domFocusTracker.onDidFocus(()=>{this._hasDomElementFocus=!0,this._update()})),this._register(this._domFocusTracker.onDidBlur(()=>{this._hasDomElementFocus=!1,this._update()})),z&&(this._overflowWidgetsDomNode=this._register(m.trackFocus(z)),this._register(this._overflowWidgetsDomNode.onDidFocus(()=>{this._overflowWidgetsDomNodeHasFocus=!0,this._update()})),this._register(this._overflowWidgetsDomNode.onDidBlur(()=>{this._overflowWidgetsDomNodeHasFocus=!1,this._update()})))}_update(){const W=this._hasDomElementFocus||this._overflowWidgetsDomNodeHasFocus;this._hadFocus!==W&&(this._hadFocus=W,this._onChange.fire(void 0))}hasFocus(){var W;return(W=this._hadFocus)!==null&&W!==void 0?W:!1}}class Z{get length(){return this._decorationIds.length}constructor(W,z){this._editor=W,this._decorationIds=[],this._isChangingDecorations=!1,Array.isArray(z)&&z.length>0&&this.set(z)}onDidChange(W,z,Y){return this._editor.onDidChangeModelDecorations(j=>{this._isChangingDecorations||W.call(z,j)},Y)}getRange(W){return!this._editor.hasModel()||W>=this._decorationIds.length?null:this._editor.getModel().getDecorationRange(this._decorationIds[W])}getRanges(){if(!this._editor.hasModel())return[];const W=this._editor.getModel(),z=[];for(const Y of this._decorationIds){const j=W.getDecorationRange(Y);j&&z.push(j)}return z}has(W){return this._decorationIds.includes(W.id)}clear(){this._decorationIds.length!==0&&this.set([])}set(W){try{this._isChangingDecorations=!0,this._editor.changeDecorations(z=>{this._decorationIds=z.deltaDecorations(this._decorationIds,W)})}finally{this._isChangingDecorations=!1}return this._decorationIds}append(W){let z=[];try{this._isChangingDecorations=!0,this._editor.changeDecorations(Y=>{z=Y.deltaDecorations([],W),this._decorationIds=this._decorationIds.concat(z)})}finally{this._isChangingDecorations=!1}return z}}const ae=encodeURIComponent("<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 6 3' enable-background='new 0 0 6 3' height='3' width='6'><g fill='"),ue=encodeURIComponent("'><polygon points='5.5,0 2.5,3 1.1,3 4.1,0'/><polygon points='4,0 6,2 6,0.6 5.4,0'/><polygon points='0,2 1,3 2.4,3 0,0.6'/></g></svg>");function ge(ee){return ae+encodeURIComponent(ee.toString())+ue}const fe=encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" height="3" width="12"><g fill="'),re=encodeURIComponent('"><circle cx="1" cy="1" r="1"/><circle cx="5" cy="1" r="1"/><circle cx="9" cy="1" r="1"/></g></svg>');function de(ee){return fe+encodeURIComponent(ee.toString())+re}(0,H.registerThemingParticipant)((ee,W)=>{const z=ee.getColor(B.editorErrorForeground);z&&W.addRule(`.monaco-editor .squiggly-error { background: url("data:image/svg+xml,${ge(z)}") repeat-x bottom left; }`);const Y=ee.getColor(B.editorWarningForeground);Y&&W.addRule(`.monaco-editor .squiggly-warning { background: url("data:image/svg+xml,${ge(Y)}") repeat-x bottom left; }`);const j=ee.getColor(B.editorInfoForeground);j&&W.addRule(`.monaco-editor .squiggly-info { background: url("data:image/svg+xml,${ge(j)}") repeat-x bottom left; }`);const G=ee.getColor(B.editorHintForeground);G&&W.addRule(`.monaco-editor .squiggly-hint { background: url("data:image/svg+xml,${de(G)}") no-repeat bottom left; }`);const oe=ee.getColor(u.editorUnnecessaryCodeOpacity);oe&&W.addRule(`.monaco-editor.showUnused .squiggly-inline-unnecessary { opacity: ${oe.rgba.a}; }`)})}),define(te[176],ie([1,0,55,36,209,33,18,74,27,14,8,51,23]),function(J,e,m,k,D,L,y,p,w,C,b,a,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EmbeddedCodeEditorWidget=void 0;let i=class extends D.CodeEditorWidget{constructor(n,h,v,u,d,r,l,o,g,c,f,_,S){super(n,{...u.getRawOptions(),overflowWidgetsDomNode:u.getOverflowWidgetsDomNode()},v,d,r,l,o,g,c,f,_,S),this._parentEditor=u,this._overwriteOptions=h,super.updateOptions(this._overwriteOptions),this._register(u.onDidChangeConfiguration(I=>this._onParentConfigurationChanged(I)))}getParentEditor(){return this._parentEditor}_onParentConfigurationChanged(n){super.updateOptions(this._parentEditor.getRawOptions()),super.updateOptions(this._overwriteOptions)}updateOptions(n){m.mixin(this._overwriteOptions,n,!0),super.updateOptions(this._overwriteOptions)}};e.EmbeddedCodeEditorWidget=i,e.EmbeddedCodeEditorWidget=i=Ie([he(4,b.IInstantiationService),he(5,k.ICodeEditorService),he(6,w.ICommandService),he(7,C.IContextKeyService),he(8,s.IThemeService),he(9,a.INotificationService),he(10,p.IAccessibilityService),he(11,L.ILanguageConfigurationService),he(12,y.ILanguageFeaturesService)],i)}),define(te[275],ie([1,0,6,66,12,7,2,32,180,16,36,137,209,882,926,635,927,359,351,387,660,82,9,5,189,19,130,14,8,171,91,895,521,666,378,918,471]),function(J,e,m,k,D,L,y,p,w,C,b,a,s,i,t,n,h,v,u,d,r,l,o,g,c,f,_,S,I,E,T,N,A,O,M,P){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffEditorWidget=void 0;let x=class extends A.DelegatingEditor{get onDidContentSizeChange(){return this._editors.onDidContentSizeChange}constructor(H,V,q,K,U,$,se,F){var X;super(),this._domElement=H,this._parentContextKeyService=K,this._parentInstantiationService=U,this._accessibilitySignalService=se,this._editorProgressService=F,this.elements=(0,m.h)("div.monaco-diff-editor.side-by-side",{style:{position:"relative",height:"100%"}},[(0,m.h)("div.noModificationsOverlay@overlay",{style:{position:"absolute",height:"100%",visibility:"hidden"}},[(0,m.$)("span",{},"No Changes")]),(0,m.h)("div.editor.original@original",{style:{position:"absolute",height:"100%",zIndex:"1"}}),(0,m.h)("div.editor.modified@modified",{style:{position:"absolute",height:"100%",zIndex:"1"}}),(0,m.h)("div.accessibleDiffViewer@accessibleDiffViewer",{style:{position:"absolute",height:"100%"}})]),this._diffModel=(0,p.observableValue)(this,void 0),this._shouldDisposeDiffModel=!1,this.onDidChangeModel=L.Event.fromObservableLight(this._diffModel),this._contextKeyService=this._register(this._parentContextKeyService.createScoped(this._domElement)),this._instantiationService=this._parentInstantiationService.createChild(new E.ServiceCollection([S.IContextKeyService,this._contextKeyService])),this._boundarySashes=(0,p.observableValue)(this,void 0),this._accessibleDiffViewerShouldBeVisible=(0,p.observableValue)(this,!1),this._accessibleDiffViewerVisible=(0,p.derived)(this,z=>this._options.onlyShowAccessibleDiffViewer.read(z)?!0:this._accessibleDiffViewerShouldBeVisible.read(z)),this._movedBlocksLinesPart=(0,p.observableValue)(this,void 0),this._layoutInfo=(0,p.derived)(this,z=>{var Y,j,G,oe,ne;const ce=this._rootSizeObserver.width.read(z),le=this._rootSizeObserver.height.read(z),me=this._sash.read(z),ve=this._gutter.read(z),Ce=(Y=ve?.width.read(z))!==null&&Y!==void 0?Y:0,Se=(G=(j=this._overviewRulerPart.read(z))===null||j===void 0?void 0:j.width)!==null&&G!==void 0?G:0;let _e,Le,ke,Ae,xe;if(!!me){const Be=me.sashLeft.read(z),Ee=(ne=(oe=this._movedBlocksLinesPart.read(z))===null||oe===void 0?void 0:oe.width.read(z))!==null&&ne!==void 0?ne:0;_e=0,Le=Be-Ce-Ee,xe=Be-Ce,ke=Be,Ae=ce-ke-Se}else xe=0,_e=Ce,Le=Math.max(5,this._editors.original.getLayoutInfo().decorationsLeft),ke=Ce+Le,Ae=ce-ke-Se;return this.elements.original.style.left=_e+"px",this.elements.original.style.width=Le+"px",this._editors.original.layout({width:Le,height:le},!0),ve?.layout(xe),this.elements.modified.style.left=ke+"px",this.elements.modified.style.width=Ae+"px",this._editors.modified.layout({width:Ae,height:le},!0),{modifiedEditor:this._editors.modified.getLayoutInfo(),originalEditor:this._editors.original.getLayoutInfo()}}),this._diffValue=this._diffModel.map((z,Y)=>z?.diff.read(Y)),this.onDidUpdateDiff=L.Event.fromObservableLight(this._diffValue),$.willCreateDiffEditor(),this._contextKeyService.createKey("isInDiffEditor",!0),this._domElement.appendChild(this.elements.root),this._register((0,y.toDisposable)(()=>this._domElement.removeChild(this.elements.root))),this._rootSizeObserver=this._register(new l.ObservableElementSizeObserver(this.elements.root,V.dimension)),this._rootSizeObserver.setAutomaticLayout((X=V.automaticLayout)!==null&&X!==void 0?X:!1),this._options=new O.DiffEditorOptions(V),this._register((0,p.autorun)(z=>{this._options.setWidth(this._rootSizeObserver.width.read(z))})),this._contextKeyService.createKey(f.EditorContextKeys.isEmbeddedDiffEditor.key,!1),this._register((0,l.bindContextKey)(f.EditorContextKeys.isEmbeddedDiffEditor,this._contextKeyService,z=>this._options.isInEmbeddedEditor.read(z))),this._register((0,l.bindContextKey)(f.EditorContextKeys.comparingMovedCode,this._contextKeyService,z=>{var Y;return!!(!((Y=this._diffModel.read(z))===null||Y===void 0)&&Y.movedTextToCompare.read(z))})),this._register((0,l.bindContextKey)(f.EditorContextKeys.diffEditorRenderSideBySideInlineBreakpointReached,this._contextKeyService,z=>this._options.couldShowInlineViewBecauseOfSize.read(z))),this._register((0,l.bindContextKey)(f.EditorContextKeys.diffEditorInlineMode,this._contextKeyService,z=>!this._options.renderSideBySide.read(z))),this._register((0,l.bindContextKey)(f.EditorContextKeys.hasChanges,this._contextKeyService,z=>{var Y,j,G;return((G=(j=(Y=this._diffModel.read(z))===null||Y===void 0?void 0:Y.diff.read(z))===null||j===void 0?void 0:j.mappings.length)!==null&&G!==void 0?G:0)>0})),this._editors=this._register(this._instantiationService.createInstance(N.DiffEditorEditors,this.elements.original,this.elements.modified,this._options,q,(z,Y,j,G)=>this._createInnerEditor(z,Y,j,G))),this._register((0,l.bindContextKey)(f.EditorContextKeys.diffEditorOriginalWritable,this._contextKeyService,z=>this._options.originalEditable.read(z))),this._register((0,l.bindContextKey)(f.EditorContextKeys.diffEditorModifiedWritable,this._contextKeyService,z=>!this._options.readOnly.read(z))),this._register((0,l.bindContextKey)(f.EditorContextKeys.diffEditorOriginalUri,this._contextKeyService,z=>{var Y,j;return(j=(Y=this._diffModel.read(z))===null||Y===void 0?void 0:Y.model.original.uri.toString())!==null&&j!==void 0?j:""})),this._register((0,l.bindContextKey)(f.EditorContextKeys.diffEditorModifiedUri,this._contextKeyService,z=>{var Y,j;return(j=(Y=this._diffModel.read(z))===null||Y===void 0?void 0:Y.model.modified.uri.toString())!==null&&j!==void 0?j:""})),this._overviewRulerPart=(0,w.derivedDisposable)(this,z=>this._options.renderOverviewRuler.read(z)?this._instantiationService.createInstance((0,l.readHotReloadableExport)(d.OverviewRulerFeature,z),this._editors,this.elements.root,this._diffModel,this._rootSizeObserver.width,this._rootSizeObserver.height,this._layoutInfo.map(Y=>Y.modifiedEditor)):void 0).recomputeInitiallyAndOnChange(this._store),this._sash=(0,w.derivedDisposable)(this,z=>{const Y=this._options.renderSideBySide.read(z);return this.elements.root.classList.toggle("side-by-side",Y),Y?new n.DiffEditorSash(this._options,this.elements.root,{height:this._rootSizeObserver.height,width:this._rootSizeObserver.width.map((j,G)=>{var oe,ne;return j-((ne=(oe=this._overviewRulerPart.read(G))===null||oe===void 0?void 0:oe.width)!==null&&ne!==void 0?ne:0)})},this._boundarySashes):void 0}).recomputeInitiallyAndOnChange(this._store);const Q=(0,w.derivedDisposable)(this,z=>this._instantiationService.createInstance((0,l.readHotReloadableExport)(v.HideUnchangedRegionsFeature,z),this._editors,this._diffModel,this._options)).recomputeInitiallyAndOnChange(this._store);(0,w.derivedDisposable)(this,z=>this._instantiationService.createInstance((0,l.readHotReloadableExport)(t.DiffEditorDecorations,z),this._editors,this._diffModel,this._options,this)).recomputeInitiallyAndOnChange(this._store);const Z=new Set,ae=new Set;let ue=!1;const ge=(0,w.derivedDisposable)(this,z=>this._instantiationService.createInstance((0,l.readHotReloadableExport)(h.DiffEditorViewZones,z),(0,m.getWindow)(this._domElement),this._editors,this._diffModel,this._options,this,()=>ue||Q.get().isUpdatingHiddenAreas,Z,ae)).recomputeInitiallyAndOnChange(this._store),fe=(0,p.derived)(this,z=>{const Y=ge.read(z).viewZones.read(z).orig,j=Q.read(z).viewZones.read(z).origViewZones;return Y.concat(j)}),re=(0,p.derived)(this,z=>{const Y=ge.read(z).viewZones.read(z).mod,j=Q.read(z).viewZones.read(z).modViewZones;return Y.concat(j)});this._register((0,l.applyViewZones)(this._editors.original,fe,z=>{ue=z},Z));let de;this._register((0,l.applyViewZones)(this._editors.modified,re,z=>{ue=z,ue?de=a.StableEditorScrollState.capture(this._editors.modified):(de?.restore(this._editors.modified),de=void 0)},ae)),this._accessibleDiffViewer=(0,w.derivedDisposable)(this,z=>this._instantiationService.createInstance((0,l.readHotReloadableExport)(i.AccessibleDiffViewer,z),this.elements.accessibleDiffViewer,this._accessibleDiffViewerVisible,(Y,j)=>this._accessibleDiffViewerShouldBeVisible.set(Y,j),this._options.onlyShowAccessibleDiffViewer.map(Y=>!Y),this._rootSizeObserver.width,this._rootSizeObserver.height,this._diffModel.map((Y,j)=>{var G;return(G=Y?.diff.read(j))===null||G===void 0?void 0:G.mappings.map(oe=>oe.lineRangeMapping)}),new i.AccessibleDiffViewerModelFromEditors(this._editors))).recomputeInitiallyAndOnChange(this._store);const ee=this._accessibleDiffViewerVisible.map(z=>z?"hidden":"visible");this._register((0,l.applyStyle)(this.elements.modified,{visibility:ee})),this._register((0,l.applyStyle)(this.elements.original,{visibility:ee})),this._createDiffEditorContributions(),$.addDiffEditor(this),this._gutter=(0,w.derivedDisposable)(this,z=>this._options.shouldRenderGutterMenu.read(z)?this._instantiationService.createInstance((0,l.readHotReloadableExport)(P.DiffEditorGutter,z),this.elements.root,this._diffModel,this._editors):void 0),this._register((0,p.recomputeInitiallyAndOnChange)(this._layoutInfo)),(0,w.derivedDisposable)(this,z=>new((0,l.readHotReloadableExport)(u.MovedBlocksLinesFeature,z))(this.elements.root,this._diffModel,this._layoutInfo.map(Y=>Y.originalEditor),this._layoutInfo.map(Y=>Y.modifiedEditor),this._editors)).recomputeInitiallyAndOnChange(this._store,z=>{this._movedBlocksLinesPart.set(z,void 0)}),this._register((0,l.applyStyle)(this.elements.overlay,{width:this._layoutInfo.map((z,Y)=>z.originalEditor.width+(this._options.renderSideBySide.read(Y)?0:z.modifiedEditor.width)),visibility:(0,p.derived)(z=>{var Y,j;return this._options.hideUnchangedRegions.read(z)&&((j=(Y=this._diffModel.read(z))===null||Y===void 0?void 0:Y.diff.read(z))===null||j===void 0?void 0:j.mappings.length)===0?"visible":"hidden"})})),this._register(L.Event.runAndSubscribe(this._editors.modified.onDidChangeCursorPosition,z=>this._handleCursorPositionChange(z,!0))),this._register(L.Event.runAndSubscribe(this._editors.original.onDidChangeCursorPosition,z=>this._handleCursorPositionChange(z,!1)));const W=this._diffModel.map(this,(z,Y)=>{if(z)return z.diff.read(Y)===void 0&&!z.isDiffUpToDate.read(Y)});this._register((0,p.autorunWithStore)((z,Y)=>{if(W.read(z)===!0){const j=this._editorProgressService.show(!0,1e3);Y.add((0,y.toDisposable)(()=>j.done()))}})),this._register((0,y.toDisposable)(()=>{var z;this._shouldDisposeDiffModel&&((z=this._diffModel.get())===null||z===void 0||z.dispose())})),this._register((0,p.autorunWithStore)((z,Y)=>{Y.add(new((0,l.readHotReloadableExport)(r.RevertButtonsFeature,z))(this._editors,this._diffModel,this._options,this))}))}_createInnerEditor(H,V,q,K){return H.createInstance(s.CodeEditorWidget,V,q,K)}_createDiffEditorContributions(){const H=C.EditorExtensionsRegistry.getDiffEditorContributions();for(const V of H)try{this._register(this._instantiationService.createInstance(V.ctor,this))}catch(q){(0,D.onUnexpectedError)(q)}}get _targetEditor(){return this._editors.modified}getEditorType(){return c.EditorType.IDiffEditor}layout(H){this._rootSizeObserver.observe(H)}hasTextFocus(){return this._editors.original.hasTextFocus()||this._editors.modified.hasTextFocus()}saveViewState(){var H;const V=this._editors.original.saveViewState(),q=this._editors.modified.saveViewState();return{original:V,modified:q,modelState:(H=this._diffModel.get())===null||H===void 0?void 0:H.serializeState()}}restoreViewState(H){var V;if(H&&H.original&&H.modified){const q=H;this._editors.original.restoreViewState(q.original),this._editors.modified.restoreViewState(q.modified),q.modelState&&((V=this._diffModel.get())===null||V===void 0||V.restoreSerializedState(q.modelState))}}handleInitialized(){this._editors.original.handleInitialized(),this._editors.modified.handleInitialized()}createViewModel(H){return this._instantiationService.createInstance(M.DiffEditorViewModel,H,this._options)}getModel(){var H,V;return(V=(H=this._diffModel.get())===null||H===void 0?void 0:H.model)!==null&&V!==void 0?V:null}setModel(H,V){!H&&this._diffModel.get()&&this._accessibleDiffViewer.get().close();const q=H?"model"in H?{model:H,shouldDispose:!1}:{model:this.createViewModel(H),shouldDispose:!0}:void 0;this._diffModel.get()!==q?.model&&(0,p.subtransaction)(V,K=>{var U;p.observableFromEvent.batchEventsGlobally(K,()=>{this._editors.original.setModel(q?q.model.model.original:null),this._editors.modified.setModel(q?q.model.model.modified:null)});const $=this._diffModel.get(),se=this._shouldDisposeDiffModel;this._shouldDisposeDiffModel=(U=q?.shouldDispose)!==null&&U!==void 0?U:!1,this._diffModel.set(q?.model,K),se&&$?.dispose()})}updateOptions(H){this._options.updateOptions(H)}getContainerDomNode(){return this._domElement}getOriginalEditor(){return this._editors.original}getModifiedEditor(){return this._editors.modified}getLineChanges(){var H;const V=(H=this._diffModel.get())===null||H===void 0?void 0:H.diff.get();return V?R(V):null}revert(H){const V=this._diffModel.get();!V||!V.isDiffUpToDate.get()||this._editors.modified.executeEdits("diffEditor",[{range:H.modified.toExclusiveRange(),text:V.model.original.getValueInRange(H.original.toExclusiveRange())}])}revertRangeMappings(H){const V=this._diffModel.get();if(!V||!V.isDiffUpToDate.get())return;const q=H.map(K=>({range:K.modifiedRange,text:V.model.original.getValueInRange(K.originalRange)}));this._editors.modified.executeEdits("diffEditor",q)}_goTo(H){this._editors.modified.setPosition(new o.Position(H.lineRangeMapping.modified.startLineNumber,1)),this._editors.modified.revealRangeInCenter(H.lineRangeMapping.modified.toExclusiveRange())}goToDiff(H){var V,q,K,U;const $=(q=(V=this._diffModel.get())===null||V===void 0?void 0:V.diff.get())===null||q===void 0?void 0:q.mappings;if(!$||$.length===0)return;const se=this._editors.modified.getPosition().lineNumber;let F;H==="next"?F=(K=$.find(X=>X.lineRangeMapping.modified.startLineNumber>se))!==null&&K!==void 0?K:$[0]:F=(U=(0,k.findLast)($,X=>X.lineRangeMapping.modified.startLineNumber<se))!==null&&U!==void 0?U:$[$.length-1],this._goTo(F),F.lineRangeMapping.modified.isEmpty?this._accessibilitySignalService.playSignal(_.AccessibilitySignal.diffLineDeleted,{source:"diffEditor.goToDiff"}):F.lineRangeMapping.original.isEmpty?this._accessibilitySignalService.playSignal(_.AccessibilitySignal.diffLineInserted,{source:"diffEditor.goToDiff"}):F&&this._accessibilitySignalService.playSignal(_.AccessibilitySignal.diffLineModified,{source:"diffEditor.goToDiff"})}revealFirstDiff(){const H=this._diffModel.get();H&&this.waitForDiff().then(()=>{var V;const q=(V=H.diff.get())===null||V===void 0?void 0:V.mappings;!q||q.length===0||this._goTo(q[0])})}accessibleDiffViewerNext(){this._accessibleDiffViewer.get().next()}accessibleDiffViewerPrev(){this._accessibleDiffViewer.get().prev()}async waitForDiff(){const H=this._diffModel.get();H&&await H.waitForDiff()}mapToOtherSide(){var H,V;const q=this._editors.modified.hasWidgetFocus(),K=q?this._editors.modified:this._editors.original,U=q?this._editors.original:this._editors.modified;let $;const se=K.getSelection();if(se){const F=(V=(H=this._diffModel.get())===null||H===void 0?void 0:H.diff.get())===null||V===void 0?void 0:V.mappings.map(X=>q?X.lineRangeMapping.flip():X.lineRangeMapping);if(F){const X=(0,l.translatePosition)(se.getStartPosition(),F),Q=(0,l.translatePosition)(se.getEndPosition(),F);$=g.Range.plusRange(X,Q)}}return{destination:U,destinationSelection:$}}switchSide(){const{destination:H,destinationSelection:V}=this.mapToOtherSide();H.focus(),V&&H.setSelection(V)}exitCompareMove(){const H=this._diffModel.get();H&&H.movedTextToCompare.set(void 0,void 0)}collapseAllUnchangedRegions(){var H;const V=(H=this._diffModel.get())===null||H===void 0?void 0:H.unchangedRegions.get();V&&(0,p.transaction)(q=>{for(const K of V)K.collapseAll(q)})}showAllUnchangedRegions(){var H;const V=(H=this._diffModel.get())===null||H===void 0?void 0:H.unchangedRegions.get();V&&(0,p.transaction)(q=>{for(const K of V)K.showAll(q)})}_handleCursorPositionChange(H,V){var q,K;if(H?.reason===3){const U=(K=(q=this._diffModel.get())===null||q===void 0?void 0:q.diff.get())===null||K===void 0?void 0:K.mappings.find($=>V?$.lineRangeMapping.modified.contains(H.position.lineNumber):$.lineRangeMapping.original.contains(H.position.lineNumber));U?.lineRangeMapping.modified.isEmpty?this._accessibilitySignalService.playSignal(_.AccessibilitySignal.diffLineDeleted,{source:"diffEditor.cursorPositionChanged"}):U?.lineRangeMapping.original.isEmpty?this._accessibilitySignalService.playSignal(_.AccessibilitySignal.diffLineInserted,{source:"diffEditor.cursorPositionChanged"}):U&&this._accessibilitySignalService.playSignal(_.AccessibilitySignal.diffLineModified,{source:"diffEditor.cursorPositionChanged"})}}};e.DiffEditorWidget=x,e.DiffEditorWidget=x=Ie([he(3,S.IContextKeyService),he(4,I.IInstantiationService),he(5,b.ICodeEditorService),he(6,_.IAccessibilitySignalService),he(7,T.IEditorProgressService)],x);function R(B){return B.mappings.map(H=>{const V=H.lineRangeMapping;let q,K,U,$,se=V.innerChanges;return V.original.isEmpty?(q=V.original.startLineNumber-1,K=0,se=void 0):(q=V.original.startLineNumber,K=V.original.endLineNumberExclusive-1),V.modified.isEmpty?(U=V.modified.startLineNumber-1,$=0,se=void 0):(U=V.modified.startLineNumber,$=V.modified.endLineNumberExclusive-1),{originalStartLineNumber:q,originalEndLineNumber:K,modifiedStartLineNumber:U,modifiedEndLineNumber:$,charChanges:se?.map(F=>({originalStartLineNumber:F.originalRange.startLineNumber,originalStartColumn:F.originalRange.startColumn,originalEndLineNumber:F.originalRange.endLineNumber,originalEndColumn:F.originalRange.endColumn,modifiedStartLineNumber:F.modifiedRange.startLineNumber,modifiedStartColumn:F.modifiedRange.startColumn,modifiedEndLineNumber:F.modifiedRange.endLineNumber,modifiedEndColumn:F.modifiedRange.endColumn}))}})}}),define(te[931],ie([1,0,6,26,16,36,275,19,651,28,25,14,208]),function(J,e,m,k,D,L,y,p,w,C,b,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AccessibleDiffViewerPrev=e.AccessibleDiffViewerNext=e.RevertHunkOrSelection=e.ShowAllUnchangedRegions=e.CollapseAllUnchangedRegions=e.ExitCompareMove=e.SwitchSide=e.ToggleUseInlineViewWhenSpaceIsLimited=e.ToggleShowMovedCodeBlocks=e.ToggleCollapseUnchangedRegions=void 0,e.findFocusedDiffEditor=c;class s extends C.Action2{constructor(){super({id:"diffEditor.toggleCollapseUnchangedRegions",title:(0,w.localize2)(0,"Toggle Collapse Unchanged Regions"),icon:k.Codicon.map,toggled:a.ContextKeyExpr.has("config.diffEditor.hideUnchangedRegions.enabled"),precondition:a.ContextKeyExpr.has("isInDiffEditor"),menu:{when:a.ContextKeyExpr.has("isInDiffEditor"),id:C.MenuId.EditorTitle,order:22,group:"navigation"}})}run(S,...I){const E=S.get(b.IConfigurationService),T=!E.getValue("diffEditor.hideUnchangedRegions.enabled");E.updateValue("diffEditor.hideUnchangedRegions.enabled",T)}}e.ToggleCollapseUnchangedRegions=s;class i extends C.Action2{constructor(){super({id:"diffEditor.toggleShowMovedCodeBlocks",title:(0,w.localize2)(1,"Toggle Show Moved Code Blocks"),precondition:a.ContextKeyExpr.has("isInDiffEditor")})}run(S,...I){const E=S.get(b.IConfigurationService),T=!E.getValue("diffEditor.experimental.showMoves");E.updateValue("diffEditor.experimental.showMoves",T)}}e.ToggleShowMovedCodeBlocks=i;class t extends C.Action2{constructor(){super({id:"diffEditor.toggleUseInlineViewWhenSpaceIsLimited",title:(0,w.localize2)(2,"Toggle Use Inline View When Space Is Limited"),precondition:a.ContextKeyExpr.has("isInDiffEditor")})}run(S,...I){const E=S.get(b.IConfigurationService),T=!E.getValue("diffEditor.useInlineViewWhenSpaceIsLimited");E.updateValue("diffEditor.useInlineViewWhenSpaceIsLimited",T)}}e.ToggleUseInlineViewWhenSpaceIsLimited=t;const n=(0,w.localize2)(3,"Diff Editor");class h extends D.EditorAction2{constructor(){super({id:"diffEditor.switchSide",title:(0,w.localize2)(4,"Switch Side"),icon:k.Codicon.arrowSwap,precondition:a.ContextKeyExpr.has("isInDiffEditor"),f1:!0,category:n})}runEditorCommand(S,I,E){const T=c(S);if(T instanceof y.DiffEditorWidget){if(E&&E.dryRun)return{destinationSelection:T.mapToOtherSide().destinationSelection};T.switchSide()}}}e.SwitchSide=h;class v extends D.EditorAction2{constructor(){super({id:"diffEditor.exitCompareMove",title:(0,w.localize2)(5,"Exit Compare Move"),icon:k.Codicon.close,precondition:p.EditorContextKeys.comparingMovedCode,f1:!1,category:n,keybinding:{weight:1e4,primary:9}})}runEditorCommand(S,I,...E){const T=c(S);T instanceof y.DiffEditorWidget&&T.exitCompareMove()}}e.ExitCompareMove=v;class u extends D.EditorAction2{constructor(){super({id:"diffEditor.collapseAllUnchangedRegions",title:(0,w.localize2)(6,"Collapse All Unchanged Regions"),icon:k.Codicon.fold,precondition:a.ContextKeyExpr.has("isInDiffEditor"),f1:!0,category:n})}runEditorCommand(S,I,...E){const T=c(S);T instanceof y.DiffEditorWidget&&T.collapseAllUnchangedRegions()}}e.CollapseAllUnchangedRegions=u;class d extends D.EditorAction2{constructor(){super({id:"diffEditor.showAllUnchangedRegions",title:(0,w.localize2)(7,"Show All Unchanged Regions"),icon:k.Codicon.unfold,precondition:a.ContextKeyExpr.has("isInDiffEditor"),f1:!0,category:n})}runEditorCommand(S,I,...E){const T=c(S);T instanceof y.DiffEditorWidget&&T.showAllUnchangedRegions()}}e.ShowAllUnchangedRegions=d;class r extends D.EditorAction2{constructor(){super({id:"diffEditor.revert",title:(0,w.localize2)(8,"Revert"),precondition:a.ContextKeyExpr.has("isInDiffEditor"),f1:!1,category:n})}runEditorCommand(S,I,E){var T;const N=c(S);N instanceof y.DiffEditorWidget&&N.revertRangeMappings((T=E.mapping.innerChanges)!==null&&T!==void 0?T:[])}}e.RevertHunkOrSelection=r;const l=(0,w.localize2)(9,"Accessible Diff Viewer");class o extends C.Action2{constructor(){super({id:o.id,title:(0,w.localize2)(10,"Go to Next Difference"),category:l,precondition:a.ContextKeyExpr.has("isInDiffEditor"),keybinding:{primary:65,weight:100},f1:!0})}run(S){const I=c(S);I?.accessibleDiffViewerNext()}}e.AccessibleDiffViewerNext=o,o.id="editor.action.accessibleDiffViewer.next";class g extends C.Action2{constructor(){super({id:g.id,title:(0,w.localize2)(11,"Go to Previous Difference"),category:l,precondition:a.ContextKeyExpr.has("isInDiffEditor"),keybinding:{primary:1089,weight:100},f1:!0})}run(S){const I=c(S);I?.accessibleDiffViewerPrev()}}e.AccessibleDiffViewerPrev=g,g.id="editor.action.accessibleDiffViewer.prev";function c(_){const I=_.get(L.ICodeEditorService).listDiffEditors(),E=(0,m.getActiveElement)();if(E)for(const T of I){const N=T.getContainerDomNode();if(f(N,E))return T}return null}function f(_,S){let I=S;for(;I;){if(I===_)return!0;I=I.parentElement}return!1}}),define(te[932],ie([1,0,26,931,19,656,28,27,14,208]),function(J,e,m,k,D,L,y,p,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),(0,y.registerAction2)(k.ToggleCollapseUnchangedRegions),(0,y.registerAction2)(k.ToggleShowMovedCodeBlocks),(0,y.registerAction2)(k.ToggleUseInlineViewWhenSpaceIsLimited),y.MenuRegistry.appendMenuItem(y.MenuId.EditorTitle,{command:{id:new k.ToggleUseInlineViewWhenSpaceIsLimited().desc.id,title:(0,L.localize)(0,null),toggled:w.ContextKeyExpr.has("config.diffEditor.useInlineViewWhenSpaceIsLimited"),precondition:w.ContextKeyExpr.has("isInDiffEditor")},order:11,group:"1_diff",when:w.ContextKeyExpr.and(D.EditorContextKeys.diffEditorRenderSideBySideInlineBreakpointReached,w.ContextKeyExpr.has("isInDiffEditor"))}),y.MenuRegistry.appendMenuItem(y.MenuId.EditorTitle,{command:{id:new k.ToggleShowMovedCodeBlocks().desc.id,title:(0,L.localize)(1,null),icon:m.Codicon.move,toggled:w.ContextKeyEqualsExpr.create("config.diffEditor.experimental.showMoves",!0),precondition:w.ContextKeyExpr.has("isInDiffEditor")},order:10,group:"1_diff",when:w.ContextKeyExpr.has("isInDiffEditor")}),(0,y.registerAction2)(k.RevertHunkOrSelection);for(const C of[{icon:m.Codicon.arrowRight,key:D.EditorContextKeys.diffEditorInlineMode.toNegated()},{icon:m.Codicon.discard,key:D.EditorContextKeys.diffEditorInlineMode}])y.MenuRegistry.appendMenuItem(y.MenuId.DiffEditorHunkToolbar,{command:{id:new k.RevertHunkOrSelection().desc.id,title:(0,L.localize)(2,null),icon:C.icon},when:w.ContextKeyExpr.and(D.EditorContextKeys.diffEditorModifiedWritable,C.key),order:5,group:"primary"}),y.MenuRegistry.appendMenuItem(y.MenuId.DiffEditorSelectionToolbar,{command:{id:new k.RevertHunkOrSelection().desc.id,title:(0,L.localize)(3,null),icon:C.icon},when:w.ContextKeyExpr.and(D.EditorContextKeys.diffEditorModifiedWritable,C.key),order:5,group:"primary"});(0,y.registerAction2)(k.SwitchSide),(0,y.registerAction2)(k.ExitCompareMove),(0,y.registerAction2)(k.CollapseAllUnchangedRegions),(0,y.registerAction2)(k.ShowAllUnchangedRegions),y.MenuRegistry.appendMenuItem(y.MenuId.EditorTitle,{command:{id:k.AccessibleDiffViewerNext.id,title:(0,L.localize)(4,null),precondition:w.ContextKeyExpr.has("isInDiffEditor")},order:10,group:"2_diff",when:w.ContextKeyExpr.and(D.EditorContextKeys.accessibleDiffViewerVisible.negate(),w.ContextKeyExpr.has("isInDiffEditor"))}),p.CommandsRegistry.registerCommandAlias("editor.action.diffReview.next",k.AccessibleDiffViewerNext.id),(0,y.registerAction2)(k.AccessibleDiffViewerNext),p.CommandsRegistry.registerCommandAlias("editor.action.diffReview.prev",k.AccessibleDiffViewerPrev.id),(0,y.registerAction2)(k.AccessibleDiffViewerPrev)}),define(te[395],ie([1,0,6,245,26,2,32,135,275,206,28,8,331,117]),function(J,e,m,k,D,L,y,p,w,C,b,a,s,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffEditorItemTemplate=e.TemplateData=void 0;class t{constructor(u,d){this.viewModel=u,this.deltaScrollVertical=d}getId(){return this.viewModel}}e.TemplateData=t;let n=class extends L.Disposable{constructor(u,d,r,l){super(),this._container=u,this._overflowWidgetsDomNode=d,this._workbenchUIElementFactory=r,this._instantiationService=l,this._viewModel=(0,p.observableValue)(this,void 0),this._collapsed=(0,y.derived)(this,g=>{var c;return(c=this._viewModel.read(g))===null||c===void 0?void 0:c.collapsed.read(g)}),this._editorContentHeight=(0,p.observableValue)(this,500),this.contentHeight=(0,y.derived)(this,g=>(this._collapsed.read(g)?0:this._editorContentHeight.read(g))+this._outerEditorHeight),this._modifiedContentWidth=(0,p.observableValue)(this,0),this._modifiedWidth=(0,p.observableValue)(this,0),this._originalContentWidth=(0,p.observableValue)(this,0),this._originalWidth=(0,p.observableValue)(this,0),this.maxScroll=(0,y.derived)(this,g=>{const c=this._modifiedContentWidth.read(g)-this._modifiedWidth.read(g),f=this._originalContentWidth.read(g)-this._originalWidth.read(g);return c>f?{maxScroll:c,width:this._modifiedWidth.read(g)}:{maxScroll:f,width:this._originalWidth.read(g)}}),this._elements=(0,m.h)("div.multiDiffEntry",[(0,m.h)("div.header@header",[(0,m.h)("div.header-content",[(0,m.h)("div.collapse-button@collapseButton"),(0,m.h)("div.file-path",[(0,m.h)("div.title.modified.show-file-icons@primaryPath",[]),(0,m.h)("div.status.deleted@status",["R"]),(0,m.h)("div.title.original.show-file-icons@secondaryPath",[])]),(0,m.h)("div.actions@actions")])]),(0,m.h)("div.editorParent",[(0,m.h)("div.editorContainer@editor")])]),this.editor=this._register(this._instantiationService.createInstance(w.DiffEditorWidget,this._elements.editor,{overflowWidgetsDomNode:this._overflowWidgetsDomNode},{})),this.isModifedFocused=h(this.editor.getModifiedEditor()),this.isOriginalFocused=h(this.editor.getOriginalEditor()),this.isFocused=(0,y.derived)(this,g=>this.isModifedFocused.read(g)||this.isOriginalFocused.read(g)),this._resourceLabel=this._workbenchUIElementFactory.createResourceLabel?this._register(this._workbenchUIElementFactory.createResourceLabel(this._elements.primaryPath)):void 0,this._resourceLabel2=this._workbenchUIElementFactory.createResourceLabel?this._register(this._workbenchUIElementFactory.createResourceLabel(this._elements.secondaryPath)):void 0,this._dataStore=new L.DisposableStore,this._headerHeight=40,this._lastScrollTop=-1,this._isSettingScrollTop=!1;const o=new k.Button(this._elements.collapseButton,{});this._register((0,y.autorun)(g=>{o.element.className="",o.icon=this._collapsed.read(g)?D.Codicon.chevronRight:D.Codicon.chevronDown})),this._register(o.onDidClick(()=>{var g;(g=this._viewModel.get())===null||g===void 0||g.collapsed.set(!this._collapsed.get(),void 0)})),this._register((0,y.autorun)(g=>{this._elements.editor.style.display=this._collapsed.read(g)?"none":"block"})),this._register(this.editor.getModifiedEditor().onDidLayoutChange(g=>{const c=this.editor.getModifiedEditor().getLayoutInfo().contentWidth;this._modifiedWidth.set(c,void 0)})),this._register(this.editor.getOriginalEditor().onDidLayoutChange(g=>{const c=this.editor.getOriginalEditor().getLayoutInfo().contentWidth;this._originalWidth.set(c,void 0)})),this._register(this.editor.onDidContentSizeChange(g=>{(0,p.globalTransaction)(c=>{this._editorContentHeight.set(g.contentHeight,c),this._modifiedContentWidth.set(this.editor.getModifiedEditor().getContentWidth(),c),this._originalContentWidth.set(this.editor.getOriginalEditor().getContentWidth(),c)})})),this._register(this.editor.getOriginalEditor().onDidScrollChange(g=>{if(this._isSettingScrollTop||!g.scrollTopChanged||!this._data)return;const c=g.scrollTop-this._lastScrollTop;this._data.deltaScrollVertical(c)})),this._register((0,y.autorun)(g=>{const c=this.isFocused.read(g);this._elements.root.classList.toggle("focused",c)})),this._container.appendChild(this._elements.root),this._outerEditorHeight=this._headerHeight,this._register(this._instantiationService.createInstance(C.MenuWorkbenchToolBar,this._elements.actions,b.MenuId.MultiDiffEditorFileToolbar,{actionRunner:this._register(new s.ActionRunnerWithContext(()=>{var g;return(g=this._viewModel.get())===null||g===void 0?void 0:g.modifiedUri})),menuOptions:{shouldForwardArgs:!0},toolbarOptions:{primaryGroup:g=>g.startsWith("navigation")},actionViewItemProvider:(g,c)=>(0,i.createActionViewItem)(l,g,c)}))}setScrollLeft(u){this._modifiedContentWidth.get()-this._modifiedWidth.get()>this._originalContentWidth.get()-this._originalWidth.get()?this.editor.getModifiedEditor().setScrollLeft(u):this.editor.getOriginalEditor().setScrollLeft(u)}setData(u){this._data=u;function d(l){return{...l,scrollBeyondLastLine:!1,hideUnchangedRegions:{enabled:!0},scrollbar:{vertical:"hidden",horizontal:"hidden",handleMouseWheel:!1,useShadows:!1},renderOverviewRuler:!1,fixedOverflowWidgets:!0,overviewRulerBorder:!1}}const r=u.viewModel.entry.value;r.onOptionsDidChange&&this._dataStore.add(r.onOptionsDidChange(()=>{var l;this.editor.updateOptions(d((l=r.options)!==null&&l!==void 0?l:{}))})),(0,p.globalTransaction)(l=>{var o,g,c,f;(o=this._resourceLabel)===null||o===void 0||o.setUri((g=u.viewModel.modifiedUri)!==null&&g!==void 0?g:u.viewModel.originalUri,{strikethrough:u.viewModel.modifiedUri===void 0});let _=!1,S=!1,I=!1,E="";u.viewModel.modifiedUri&&u.viewModel.originalUri&&u.viewModel.modifiedUri.path!==u.viewModel.originalUri.path?(E="R",_=!0):u.viewModel.modifiedUri?u.viewModel.originalUri||(E="A",I=!0):(E="D",S=!0),this._elements.status.classList.toggle("renamed",_),this._elements.status.classList.toggle("deleted",S),this._elements.status.classList.toggle("added",I),this._elements.status.innerText=E,(c=this._resourceLabel2)===null||c===void 0||c.setUri(_?u.viewModel.originalUri:void 0,{strikethrough:!0}),this._dataStore.clear(),this._viewModel.set(u.viewModel,l),this.editor.setModel(u.viewModel.diffEditorViewModel,l),this.editor.updateOptions(d((f=r.options)!==null&&f!==void 0?f:{}))})}render(u,d,r,l){this._elements.root.style.visibility="visible",this._elements.root.style.top=`${u.start}px`,this._elements.root.style.height=`${u.length}px`,this._elements.root.style.width=`${d}px`,this._elements.root.style.position="absolute";const o=u.length-this._headerHeight,g=Math.max(0,Math.min(l.start-u.start,o));this._elements.header.style.transform=`translateY(${g}px)`,(0,p.globalTransaction)(c=>{this.editor.layout({width:d-2*8-2*1,height:u.length-this._outerEditorHeight})});try{this._isSettingScrollTop=!0,this._lastScrollTop=r,this.editor.getOriginalEditor().setScrollTop(r)}finally{this._isSettingScrollTop=!1}this._elements.header.classList.toggle("shadow",g>0||r>0),this._elements.header.classList.toggle("collapsed",g===o)}hide(){this._elements.root.style.top="-100000px",this._elements.root.style.visibility="hidden"}};e.DiffEditorItemTemplate=n,e.DiffEditorItemTemplate=n=Ie([he(3,a.IInstantiationService)],n);function h(v){return(0,y.observableFromEvent)(u=>{const d=new L.DisposableStore;return d.add(v.onDidFocusEditorWidget(()=>u(!0))),d.add(v.onDidBlurEditorWidget(()=>u(!1))),d},()=>v.hasTextFocus())}}),define(te[933],ie([1,0,6,79,66,2,32,135,156,82,64,24,19,14,8,171,395,522,473]),function(J,e,m,k,D,L,y,p,w,C,b,a,s,i,t,n,h,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MultiDiffEditorWidgetImpl=void 0;let u=class extends L.Disposable{constructor(l,o,g,c,f,_){super(),this._element=l,this._dimension=o,this._viewModel=g,this._workbenchUIElementFactory=c,this._parentContextKeyService=f,this._parentInstantiationService=_,this._elements=(0,m.h)("div.monaco-component.multiDiffEditor",[(0,m.h)("div@content",{style:{overflow:"hidden"}}),(0,m.h)("div.monaco-editor@overflowWidgetsDomNode",{})]),this._sizeObserver=this._register(new C.ObservableElementSizeObserver(this._element,void 0)),this._objectPool=this._register(new v.ObjectPool(I=>{const E=this._instantiationService.createInstance(h.DiffEditorItemTemplate,this._elements.content,this._elements.overflowWidgetsDomNode,this._workbenchUIElementFactory);return E.setData(I),E})),this._scrollable=this._register(new w.Scrollable({forceIntegerValues:!1,scheduleAtNextAnimationFrame:I=>(0,m.scheduleAtNextAnimationFrame)((0,m.getWindow)(this._element),I),smoothScrollDuration:100})),this._scrollableElement=this._register(new k.SmoothScrollableElement(this._elements.root,{vertical:1,horizontal:1,useShadows:!1},this._scrollable)),this.scrollTop=(0,y.observableFromEvent)(this._scrollableElement.onScroll,()=>this._scrollableElement.getScrollPosition().scrollTop),this.scrollLeft=(0,y.observableFromEvent)(this._scrollableElement.onScroll,()=>this._scrollableElement.getScrollPosition().scrollLeft),this._viewItems=(0,y.derivedWithStore)(this,(I,E)=>{const T=this._viewModel.read(I);return T?T.items.read(I).map(A=>{var O;const M=E.add(new d(A,this._objectPool,this.scrollLeft,x=>{this._scrollableElement.setScrollPosition({scrollTop:this._scrollableElement.getScrollPosition().scrollTop+x})})),P=(O=this._lastDocStates)===null||O===void 0?void 0:O[M.getKey()];return P&&(0,p.transaction)(x=>{M.setViewState(P,x)}),M}):[]}),this._spaceBetweenPx=0,this._totalHeight=this._viewItems.map(this,(I,E)=>I.reduce((T,N)=>T+N.contentHeight.read(E)+this._spaceBetweenPx,0)),this.activeDiffItem=(0,y.derived)(this,I=>this._viewItems.read(I).find(E=>{var T;return(T=E.template.read(I))===null||T===void 0?void 0:T.isFocused.read(I)})),this.lastActiveDiffItem=(0,y.derivedObservableWithCache)((I,E)=>{var T;return(T=this.activeDiffItem.read(I))!==null&&T!==void 0?T:E}),this._contextKeyService=this._register(this._parentContextKeyService.createScoped(this._element)),this._instantiationService=this._parentInstantiationService.createChild(new n.ServiceCollection([i.IContextKeyService,this._contextKeyService])),this._lastDocStates={},this._contextKeyService.createKey(s.EditorContextKeys.inMultiDiffEditor.key,!0),this._register((0,y.autorunWithStore)((I,E)=>{const T=this._viewModel.read(I);if(T&&T.contextKeys)for(const[N,A]of Object.entries(T.contextKeys)){const O=this._contextKeyService.createKey(N,void 0);O.set(A),E.add((0,L.toDisposable)(()=>O.reset()))}}));const S=this._parentContextKeyService.createKey(s.EditorContextKeys.multiDiffEditorAllCollapsed.key,!1);this._register((0,y.autorun)(I=>{const E=this._viewModel.read(I);if(E){const T=E.items.read(I).every(N=>N.collapsed.read(I));S.set(T)}})),this._register((0,y.autorun)(I=>{const E=this.lastActiveDiffItem.read(I);(0,p.transaction)(T=>{var N;(N=this._viewModel.read(I))===null||N===void 0||N.activeDiffItem.set(E?.viewModel,T)})})),this._register((0,y.autorun)(I=>{const E=this._dimension.read(I);this._sizeObserver.observe(E)})),this._elements.content.style.position="relative",this._register((0,y.autorun)(I=>{const E=this._sizeObserver.height.read(I);this._elements.root.style.height=`${E}px`;const T=this._totalHeight.read(I);this._elements.content.style.height=`${T}px`;const N=this._sizeObserver.width.read(I);let A=N;const O=this._viewItems.read(I),M=(0,D.findFirstMaxBy)(O,P=>P.maxScroll.read(I).maxScroll);if(M){const P=M.maxScroll.read(I);A=N+P.maxScroll}this._scrollableElement.setScrollDimensions({width:N,height:E,scrollHeight:T,scrollWidth:A})})),l.replaceChildren(this._scrollableElement.getDomNode()),this._register((0,L.toDisposable)(()=>{l.replaceChildren()})),this._register(this._register((0,y.autorun)(I=>{(0,p.globalTransaction)(E=>{this.render(I)})})))}render(l){const o=this.scrollTop.read(l);let g=0,c=0,f=0;const _=this._sizeObserver.height.read(l),S=b.OffsetRange.ofStartAndLength(o,_),I=this._sizeObserver.width.read(l);for(const E of this._viewItems.read(l)){const T=E.contentHeight.read(l),N=Math.min(T,_),A=b.OffsetRange.ofStartAndLength(c,N),O=b.OffsetRange.ofStartAndLength(f,T);if(O.isBefore(S))g-=T-N,E.hide();else if(O.isAfter(S))E.hide();else{const M=Math.max(0,Math.min(S.start-O.start,T-N));g-=M;const P=b.OffsetRange.ofStartAndLength(o+g,_);E.render(A,M,I,P)}c+=N+this._spaceBetweenPx,f+=T+this._spaceBetweenPx}this._elements.content.style.transform=`translateY(${-(o+g)}px)`}};e.MultiDiffEditorWidgetImpl=u,e.MultiDiffEditorWidgetImpl=u=Ie([he(4,i.IContextKeyService),he(5,t.IInstantiationService)],u);class d extends L.Disposable{constructor(l,o,g,c){super(),this.viewModel=l,this._objectPool=o,this._scrollLeft=g,this._deltaScrollVertical=c,this._templateRef=this._register((0,p.disposableObservableValue)(this,void 0)),this.contentHeight=(0,y.derived)(this,f=>{var _,S,I;return(I=(S=(_=this._templateRef.read(f))===null||_===void 0?void 0:_.object.contentHeight)===null||S===void 0?void 0:S.read(f))!==null&&I!==void 0?I:this.viewModel.lastTemplateData.read(f).contentHeight}),this.maxScroll=(0,y.derived)(this,f=>{var _,S;return(S=(_=this._templateRef.read(f))===null||_===void 0?void 0:_.object.maxScroll.read(f))!==null&&S!==void 0?S:{maxScroll:0,scrollWidth:0}}),this.template=(0,y.derived)(this,f=>{var _;return(_=this._templateRef.read(f))===null||_===void 0?void 0:_.object}),this._isHidden=(0,y.observableValue)(this,!1),this._register((0,y.autorun)(f=>{var _;const S=this._scrollLeft.read(f);(_=this._templateRef.read(f))===null||_===void 0||_.object.setScrollLeft(S)})),this._register((0,y.autorun)(f=>{const _=this._templateRef.read(f);!_||!this._isHidden.read(f)||_.object.isFocused.read(f)||this._clear()}))}dispose(){this._clear(),super.dispose()}toString(){var l;return`VirtualViewItem(${(l=this.viewModel.entry.value.modified)===null||l===void 0?void 0:l.uri.toString()})`}getKey(){return this.viewModel.getKey()}setViewState(l,o){var g;this.viewModel.collapsed.set(l.collapsed,o),this._updateTemplateData(o);const c=this.viewModel.lastTemplateData.get(),f=(g=l.selections)===null||g===void 0?void 0:g.map(a.Selection.liftSelection);this.viewModel.lastTemplateData.set({...c,selections:f},o);const _=this._templateRef.get();_&&f&&_.object.editor.setSelections(f)}_updateTemplateData(l){var o;const g=this._templateRef.get();g&&this.viewModel.lastTemplateData.set({contentHeight:g.object.contentHeight.get(),selections:(o=g.object.editor.getSelections())!==null&&o!==void 0?o:void 0},l)}_clear(){const l=this._templateRef.get();l&&(0,p.transaction)(o=>{this._updateTemplateData(o),l.object.hide(),this._templateRef.set(void 0,o)})}hide(){this._isHidden.set(!0,void 0)}render(l,o,g,c){this._isHidden.set(!1,void 0);let f=this._templateRef.get();if(!f){f=this._objectPool.getUnusedObj(new h.TemplateData(this.viewModel,this._deltaScrollVertical)),this._templateRef.set(f,void 0);const _=this.viewModel.lastTemplateData.get().selections;_&&f.object.editor.setSelections(_)}f.object.render(l,g,o,c)}}}),define(te[934],ie([1,0,2,32,82,933,8,395,876]),function(J,e,m,k,D,L,y,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MultiDiffEditorWidget=void 0;let w=class extends m.Disposable{constructor(b,a,s){super(),this._element=b,this._workbenchUIElementFactory=a,this._instantiationService=s,this._dimension=(0,k.observableValue)(this,void 0),this._viewModel=(0,k.observableValue)(this,void 0),this._widgetImpl=(0,k.derivedWithStore)(this,(i,t)=>((0,D.readHotReloadableExport)(p.DiffEditorItemTemplate,i),t.add(this._instantiationService.createInstance((0,D.readHotReloadableExport)(L.MultiDiffEditorWidgetImpl,i),this._element,this._dimension,this._viewModel,this._workbenchUIElementFactory)))),this._register((0,k.recomputeInitiallyAndOnChange)(this._widgetImpl))}};e.MultiDiffEditorWidget=w,e.MultiDiffEditorWidget=w=Ie([he(2,y.IInstantiationService)],w)}),define(te[935],ie([1,0,15,2,16,9,5,24,19,43,37,679,28,31,23,475]),function(J,e,m,k,D,L,y,p,w,C,b,a,s,i,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketMatchingController=void 0;const n=(0,i.registerColor)("editorOverviewRuler.bracketMatchForeground",{dark:"#A0A0A0",light:"#A0A0A0",hcDark:"#A0A0A0",hcLight:"#A0A0A0"},a.localize(0,null));class h extends D.EditorAction{constructor(){super({id:"editor.action.jumpToBracket",label:a.localize(1,null),alias:"Go to Bracket",precondition:void 0,kbOpts:{kbExpr:w.EditorContextKeys.editorTextFocus,primary:3165,weight:100}})}run(o,g){var c;(c=r.get(g))===null||c===void 0||c.jumpToBracket()}}class v extends D.EditorAction{constructor(){super({id:"editor.action.selectToBracket",label:a.localize(2,null),alias:"Select to Bracket",precondition:void 0,metadata:{description:a.localize2(5,"Select the text inside and including the brackets or curly braces"),args:[{name:"args",schema:{type:"object",properties:{selectBrackets:{type:"boolean",default:!0}}}}]}})}run(o,g,c){var f;let _=!0;c&&c.selectBrackets===!1&&(_=!1),(f=r.get(g))===null||f===void 0||f.selectToBracket(_)}}class u extends D.EditorAction{constructor(){super({id:"editor.action.removeBrackets",label:a.localize(3,null),alias:"Remove Brackets",precondition:void 0,kbOpts:{kbExpr:w.EditorContextKeys.editorTextFocus,primary:2561,weight:100}})}run(o,g){var c;(c=r.get(g))===null||c===void 0||c.removeBrackets(this.id)}}class d{constructor(o,g,c){this.position=o,this.brackets=g,this.options=c}}class r extends k.Disposable{static get(o){return o.getContribution(r.ID)}constructor(o){super(),this._editor=o,this._lastBracketsData=[],this._lastVersionId=0,this._decorations=this._editor.createDecorationsCollection(),this._updateBracketsSoon=this._register(new m.RunOnceScheduler(()=>this._updateBrackets(),50)),this._matchBrackets=this._editor.getOption(72),this._updateBracketsSoon.schedule(),this._register(o.onDidChangeCursorPosition(g=>{this._matchBrackets!=="never"&&this._updateBracketsSoon.schedule()})),this._register(o.onDidChangeModelContent(g=>{this._updateBracketsSoon.schedule()})),this._register(o.onDidChangeModel(g=>{this._lastBracketsData=[],this._updateBracketsSoon.schedule()})),this._register(o.onDidChangeModelLanguageConfiguration(g=>{this._lastBracketsData=[],this._updateBracketsSoon.schedule()})),this._register(o.onDidChangeConfiguration(g=>{g.hasChanged(72)&&(this._matchBrackets=this._editor.getOption(72),this._decorations.clear(),this._lastBracketsData=[],this._lastVersionId=0,this._updateBracketsSoon.schedule())})),this._register(o.onDidBlurEditorWidget(()=>{this._updateBracketsSoon.schedule()})),this._register(o.onDidFocusEditorWidget(()=>{this._updateBracketsSoon.schedule()}))}jumpToBracket(){if(!this._editor.hasModel())return;const o=this._editor.getModel(),g=this._editor.getSelections().map(c=>{const f=c.getStartPosition(),_=o.bracketPairs.matchBracket(f);let S=null;if(_)_[0].containsPosition(f)&&!_[1].containsPosition(f)?S=_[1].getStartPosition():_[1].containsPosition(f)&&(S=_[0].getStartPosition());else{const I=o.bracketPairs.findEnclosingBrackets(f);if(I)S=I[1].getStartPosition();else{const E=o.bracketPairs.findNextBracket(f);E&&E.range&&(S=E.range.getStartPosition())}}return S?new p.Selection(S.lineNumber,S.column,S.lineNumber,S.column):new p.Selection(f.lineNumber,f.column,f.lineNumber,f.column)});this._editor.setSelections(g),this._editor.revealRange(g[0])}selectToBracket(o){if(!this._editor.hasModel())return;const g=this._editor.getModel(),c=[];this._editor.getSelections().forEach(f=>{const _=f.getStartPosition();let S=g.bracketPairs.matchBracket(_);if(!S&&(S=g.bracketPairs.findEnclosingBrackets(_),!S)){const T=g.bracketPairs.findNextBracket(_);T&&T.range&&(S=g.bracketPairs.matchBracket(T.range.getStartPosition()))}let I=null,E=null;if(S){S.sort(y.Range.compareRangesUsingStarts);const[T,N]=S;if(I=o?T.getStartPosition():T.getEndPosition(),E=o?N.getEndPosition():N.getStartPosition(),N.containsPosition(_)){const A=I;I=E,E=A}}I&&E&&c.push(new p.Selection(I.lineNumber,I.column,E.lineNumber,E.column))}),c.length>0&&(this._editor.setSelections(c),this._editor.revealRange(c[0]))}removeBrackets(o){if(!this._editor.hasModel())return;const g=this._editor.getModel();this._editor.getSelections().forEach(c=>{const f=c.getPosition();let _=g.bracketPairs.matchBracket(f);_||(_=g.bracketPairs.findEnclosingBrackets(f)),_&&(this._editor.pushUndoStop(),this._editor.executeEdits(o,[{range:_[0],text:""},{range:_[1],text:""}]),this._editor.pushUndoStop())})}_updateBrackets(){if(this._matchBrackets==="never")return;this._recomputeBrackets();const o=[];let g=0;for(const c of this._lastBracketsData){const f=c.brackets;f&&(o[g++]={range:f[0],options:c.options},o[g++]={range:f[1],options:c.options})}this._decorations.set(o)}_recomputeBrackets(){if(!this._editor.hasModel()||!this._editor.hasWidgetFocus()){this._lastBracketsData=[],this._lastVersionId=0;return}const o=this._editor.getSelections();if(o.length>100){this._lastBracketsData=[],this._lastVersionId=0;return}const g=this._editor.getModel(),c=g.getVersionId();let f=[];this._lastVersionId===c&&(f=this._lastBracketsData);const _=[];let S=0;for(let A=0,O=o.length;A<O;A++){const M=o[A];M.isEmpty()&&(_[S++]=M.getStartPosition())}_.length>1&&_.sort(L.Position.compare);const I=[];let E=0,T=0;const N=f.length;for(let A=0,O=_.length;A<O;A++){const M=_[A];for(;T<N&&f[T].position.isBefore(M);)T++;if(T<N&&f[T].position.equals(M))I[E++]=f[T];else{let P=g.bracketPairs.matchBracket(M,20),x=r._DECORATION_OPTIONS_WITH_OVERVIEW_RULER;!P&&this._matchBrackets==="always"&&(P=g.bracketPairs.findEnclosingBrackets(M,20),x=r._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER),I[E++]=new d(M,P,x)}}this._lastBracketsData=I,this._lastVersionId=c}}e.BracketMatchingController=r,r.ID="editor.contrib.bracketMatchingController",r._DECORATION_OPTIONS_WITH_OVERVIEW_RULER=b.ModelDecorationOptions.register({description:"bracket-match-overview",stickiness:1,className:"bracket-match",overviewRuler:{color:(0,t.themeColorFromId)(n),position:C.OverviewRulerLane.Center}}),r._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER=b.ModelDecorationOptions.register({description:"bracket-match-no-overview",stickiness:1,className:"bracket-match"}),(0,D.registerEditorContribution)(r.ID,r,1),(0,D.registerEditorAction)(v),(0,D.registerEditorAction)(h),(0,D.registerEditorAction)(u),s.MenuRegistry.appendMenuItem(s.MenuId.MenubarGoMenu,{group:"5_infile_nav",command:{id:"editor.action.jumpToBracket",title:a.localize(4,null)},order:2})}),define(te[276],ie([1,0,6,45,12,99,2,9,37,18,151,853,877,380,174,686,880,27,25,14,8,104,91,31,93,23,127,379]),function(J,e,m,k,D,L,y,p,w,C,b,a,s,i,t,n,h,v,u,d,r,l,o,g,c,f,_,S){"use strict";var I;Object.defineProperty(e,"__esModule",{value:!0}),e.CodeActionController=void 0;const E="quickfix-edit-highlight";let T=I=class extends y.Disposable{static get(A){return A.getContribution(I.ID)}constructor(A,O,M,P,x,R,B,H,V,q){super(),this._commandService=B,this._configurationService=H,this._actionWidgetService=V,this._instantiationService=q,this._activeCodeActions=this._register(new y.MutableDisposable),this._showDisabled=!1,this._disposed=!1,this._editor=A,this._model=this._register(new S.CodeActionModel(this._editor,x.codeActionProvider,O,M,R,H)),this._register(this._model.onDidChangeState(K=>this.update(K))),this._lightBulbWidget=new L.Lazy(()=>{const K=this._editor.getContribution(i.LightBulbWidget.ID);return K&&this._register(K.onClick(U=>this.showCodeActionsFromLightbulb(U.actions,U))),K}),this._resolver=P.createInstance(a.CodeActionKeybindingResolver),this._register(this._editor.onDidLayoutChange(()=>this._actionWidgetService.hide()))}dispose(){this._disposed=!0,super.dispose()}async showCodeActionsFromLightbulb(A,O){if(A.allAIFixes&&A.validActions.length===1){const M=A.validActions[0],P=M.action.command;P&&P.id==="inlineChat.start"&&P.arguments&&P.arguments.length>=1&&(P.arguments[0]={...P.arguments[0],autoSend:!1}),await this._applyCodeAction(M,!1,!1,b.ApplyCodeActionReason.FromAILightbulb);return}await this.showCodeActionList(A,O,{includeDisabledActions:!1,fromLightbulb:!0})}showCodeActions(A,O,M){return this.showCodeActionList(O,M,{includeDisabledActions:!1,fromLightbulb:!1})}manualTriggerAtCurrentPosition(A,O,M,P){var x;if(!this._editor.hasModel())return;(x=t.MessageController.get(this._editor))===null||x===void 0||x.closeMessage();const R=this._editor.getPosition();this._trigger({type:1,triggerAction:O,filter:M,autoApply:P,context:{notAvailableMessage:A,position:R}})}_trigger(A){return this._model.trigger(A)}async _applyCodeAction(A,O,M,P){try{await this._instantiationService.invokeFunction(b.applyCodeAction,A,P,{preview:M,editor:this._editor})}finally{O&&this._trigger({type:2,triggerAction:_.CodeActionTriggerSource.QuickFix,filter:{}})}}async update(A){var O,M,P,x,R,B,H;if(A.type!==1){(O=this._lightBulbWidget.rawValue)===null||O===void 0||O.hide();return}let V;try{V=await A.actions}catch(q){(0,D.onUnexpectedError)(q);return}if(!this._disposed)if((M=this._lightBulbWidget.value)===null||M===void 0||M.update(V,A.trigger,A.position),A.trigger.type===1){if(!((P=A.trigger.filter)===null||P===void 0)&&P.include){const K=this.tryGetValidActionToApply(A.trigger,V);if(K){try{(x=this._lightBulbWidget.value)===null||x===void 0||x.hide(),await this._applyCodeAction(K,!1,!1,b.ApplyCodeActionReason.FromCodeActions)}finally{V.dispose()}return}if(A.trigger.context){const U=this.getInvalidActionThatWouldHaveBeenApplied(A.trigger,V);if(U&&U.action.disabled){(R=t.MessageController.get(this._editor))===null||R===void 0||R.showMessage(U.action.disabled,A.trigger.context.position),V.dispose();return}}}const q=!!(!((B=A.trigger.filter)===null||B===void 0)&&B.include);if(A.trigger.context&&(!V.allActions.length||!q&&!V.validActions.length)){(H=t.MessageController.get(this._editor))===null||H===void 0||H.showMessage(A.trigger.context.notAvailableMessage,A.trigger.context.position),this._activeCodeActions.value=V,V.dispose();return}this._activeCodeActions.value=V,this.showCodeActionList(V,this.toCoords(A.position),{includeDisabledActions:q,fromLightbulb:!1})}else this._actionWidgetService.isVisible?V.dispose():this._activeCodeActions.value=V}getInvalidActionThatWouldHaveBeenApplied(A,O){if(O.allActions.length&&(A.autoApply==="first"&&O.validActions.length===0||A.autoApply==="ifSingle"&&O.allActions.length===1))return O.allActions.find(({action:M})=>M.disabled)}tryGetValidActionToApply(A,O){if(O.validActions.length&&(A.autoApply==="first"&&O.validActions.length>0||A.autoApply==="ifSingle"&&O.validActions.length===1))return O.validActions[0]}async showCodeActionList(A,O,M){const P=this._editor.createDecorationsCollection(),x=this._editor.getDomNode();if(!x)return;const R=M.includeDisabledActions&&(this._showDisabled||A.validActions.length===0)?A.allActions:A.validActions;if(!R.length)return;const B=p.Position.isIPosition(O)?this.toCoords(O):O,H={onSelect:async(V,q)=>{this._applyCodeAction(V,!0,!!q,b.ApplyCodeActionReason.FromCodeActions),this._actionWidgetService.hide(),P.clear()},onHide:()=>{var V;(V=this._editor)===null||V===void 0||V.focus(),P.clear()},onHover:async(V,q)=>{var K;if(!q.isCancellationRequested)return{canPreview:!!(!((K=V.action.edit)===null||K===void 0)&&K.edits.length)}},onFocus:V=>{var q,K;if(V&&V.action){const U=V.action.ranges,$=V.action.diagnostics;if(P.clear(),U&&U.length>0){const se=$&&$?.length>1?$.map(F=>({range:F,options:I.DECORATION})):U.map(F=>({range:F,options:I.DECORATION}));P.set(se)}else if($&&$.length>0){const se=$.map(X=>({range:X,options:I.DECORATION}));P.set(se);const F=$[0];if(F.startLineNumber&&F.startColumn){const X=(K=(q=this._editor.getModel())===null||q===void 0?void 0:q.getWordAtPosition({lineNumber:F.startLineNumber,column:F.startColumn}))===null||K===void 0?void 0:K.word;k.status((0,n.localize)(0,null,X,F.startLineNumber,F.startColumn))}}}else P.clear()}};this._actionWidgetService.show("codeActionWidget",!0,(0,s.toMenuItems)(R,this._shouldShowHeaders(),this._resolver.getResolver()),H,B,x,this._getActionBarActions(A,O,M))}toCoords(A){if(!this._editor.hasModel())return{x:0,y:0};this._editor.revealPosition(A,1),this._editor.render();const O=this._editor.getScrolledVisiblePosition(A),M=(0,m.getDomNodePagePosition)(this._editor.getDomNode()),P=M.left+O.left,x=M.top+O.top+O.height;return{x:P,y:x}}_shouldShowHeaders(){var A;const O=(A=this._editor)===null||A===void 0?void 0:A.getModel();return this._configurationService.getValue("editor.codeActionWidget.showHeaders",{resource:O?.uri})}_getActionBarActions(A,O,M){if(M.fromLightbulb)return[];const P=A.documentation.map(x=>{var R;return{id:x.id,label:x.title,tooltip:(R=x.tooltip)!==null&&R!==void 0?R:"",class:void 0,enabled:!0,run:()=>{var B;return this._commandService.executeCommand(x.id,...(B=x.arguments)!==null&&B!==void 0?B:[])}}});return M.includeDisabledActions&&A.validActions.length>0&&A.allActions.length!==A.validActions.length&&P.push(this._showDisabled?{id:"hideMoreActions",label:(0,n.localize)(1,null),enabled:!0,tooltip:"",class:void 0,run:()=>(this._showDisabled=!1,this.showCodeActionList(A,O,M))}:{id:"showMoreActions",label:(0,n.localize)(2,null),enabled:!0,tooltip:"",class:void 0,run:()=>(this._showDisabled=!0,this.showCodeActionList(A,O,M))}),P}};e.CodeActionController=T,T.ID="editor.contrib.codeActionController",T.DECORATION=w.ModelDecorationOptions.register({description:"quickfix-highlight",className:E}),e.CodeActionController=T=I=Ie([he(1,l.IMarkerService),he(2,d.IContextKeyService),he(3,r.IInstantiationService),he(4,C.ILanguageFeaturesService),he(5,o.IEditorProgressService),he(6,v.ICommandService),he(7,u.IConfigurationService),he(8,h.IActionWidgetService),he(9,r.IInstantiationService)],T),(0,f.registerThemingParticipant)((N,A)=>{((P,x)=>{x&&A.addRule(`.monaco-editor ${P} { background-color: ${x}; }`)})(".quickfix-edit-highlight",N.getColor(g.editorFindMatchHighlight));const M=N.getColor(g.editorFindMatchHighlightBorder);M&&A.addRule(`.monaco-editor .quickfix-edit-highlight { border: 1px ${(0,c.isHighContrast)(N.type)?"dotted":"solid"} ${M}; box-sizing: border-box; }`)})}),define(te[936],ie([1,0,94,11,16,19,151,684,14,127,276,379]),function(J,e,m,k,D,L,y,p,w,C,b,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AutoFixAction=e.FixAllAction=e.OrganizeImportsAction=e.SourceAction=e.RefactorAction=e.CodeActionCommand=e.QuickFixAction=void 0;function s(o){return w.ContextKeyExpr.regex(a.SUPPORTED_CODE_ACTIONS.keys()[0],new RegExp("(\\s|^)"+(0,k.escapeRegExpCharacters)(o.value)+"\\b"))}const i={type:"object",defaultSnippets:[{body:{kind:""}}],properties:{kind:{type:"string",description:p.localize(0,null)},apply:{type:"string",description:p.localize(1,null),default:"ifSingle",enum:["first","ifSingle","never"],enumDescriptions:[p.localize(2,null),p.localize(3,null),p.localize(4,null)]},preferred:{type:"boolean",default:!1,description:p.localize(5,null)}}};function t(o,g,c,f,_=C.CodeActionTriggerSource.Default){if(o.hasModel()){const S=b.CodeActionController.get(o);S?.manualTriggerAtCurrentPosition(g,_,c,f)}}class n extends D.EditorAction{constructor(){super({id:y.quickFixCommandId,label:p.localize(6,null),alias:"Quick Fix...",precondition:w.ContextKeyExpr.and(L.EditorContextKeys.writable,L.EditorContextKeys.hasCodeActionsProvider),kbOpts:{kbExpr:L.EditorContextKeys.textInputFocus,primary:2137,weight:100}})}run(g,c){return t(c,p.localize(7,null),void 0,void 0,C.CodeActionTriggerSource.QuickFix)}}e.QuickFixAction=n;class h extends D.EditorCommand{constructor(){super({id:y.codeActionCommandId,precondition:w.ContextKeyExpr.and(L.EditorContextKeys.writable,L.EditorContextKeys.hasCodeActionsProvider),metadata:{description:"Trigger a code action",args:[{name:"args",schema:i}]}})}runEditorCommand(g,c,f){const _=C.CodeActionCommandArgs.fromUser(f,{kind:m.HierarchicalKind.Empty,apply:"ifSingle"});return t(c,typeof f?.kind=="string"?_.preferred?p.localize(8,null,f.kind):p.localize(9,null,f.kind):_.preferred?p.localize(10,null):p.localize(11,null),{include:_.kind,includeSourceActions:!0,onlyIncludePreferredActions:_.preferred},_.apply)}}e.CodeActionCommand=h;class v extends D.EditorAction{constructor(){super({id:y.refactorCommandId,label:p.localize(12,null),alias:"Refactor...",precondition:w.ContextKeyExpr.and(L.EditorContextKeys.writable,L.EditorContextKeys.hasCodeActionsProvider),kbOpts:{kbExpr:L.EditorContextKeys.textInputFocus,primary:3120,mac:{primary:1328},weight:100},contextMenuOpts:{group:"1_modification",order:2,when:w.ContextKeyExpr.and(L.EditorContextKeys.writable,s(C.CodeActionKind.Refactor))},metadata:{description:"Refactor...",args:[{name:"args",schema:i}]}})}run(g,c,f){const _=C.CodeActionCommandArgs.fromUser(f,{kind:C.CodeActionKind.Refactor,apply:"never"});return t(c,typeof f?.kind=="string"?_.preferred?p.localize(13,null,f.kind):p.localize(14,null,f.kind):_.preferred?p.localize(15,null):p.localize(16,null),{include:C.CodeActionKind.Refactor.contains(_.kind)?_.kind:m.HierarchicalKind.None,onlyIncludePreferredActions:_.preferred},_.apply,C.CodeActionTriggerSource.Refactor)}}e.RefactorAction=v;class u extends D.EditorAction{constructor(){super({id:y.sourceActionCommandId,label:p.localize(17,null),alias:"Source Action...",precondition:w.ContextKeyExpr.and(L.EditorContextKeys.writable,L.EditorContextKeys.hasCodeActionsProvider),contextMenuOpts:{group:"1_modification",order:2.1,when:w.ContextKeyExpr.and(L.EditorContextKeys.writable,s(C.CodeActionKind.Source))},metadata:{description:"Source Action...",args:[{name:"args",schema:i}]}})}run(g,c,f){const _=C.CodeActionCommandArgs.fromUser(f,{kind:C.CodeActionKind.Source,apply:"never"});return t(c,typeof f?.kind=="string"?_.preferred?p.localize(18,null,f.kind):p.localize(19,null,f.kind):_.preferred?p.localize(20,null):p.localize(21,null),{include:C.CodeActionKind.Source.contains(_.kind)?_.kind:m.HierarchicalKind.None,includeSourceActions:!0,onlyIncludePreferredActions:_.preferred},_.apply,C.CodeActionTriggerSource.SourceAction)}}e.SourceAction=u;class d extends D.EditorAction{constructor(){super({id:y.organizeImportsCommandId,label:p.localize(22,null),alias:"Organize Imports",precondition:w.ContextKeyExpr.and(L.EditorContextKeys.writable,s(C.CodeActionKind.SourceOrganizeImports)),kbOpts:{kbExpr:L.EditorContextKeys.textInputFocus,primary:1581,weight:100}})}run(g,c){return t(c,p.localize(23,null),{include:C.CodeActionKind.SourceOrganizeImports,includeSourceActions:!0},"ifSingle",C.CodeActionTriggerSource.OrganizeImports)}}e.OrganizeImportsAction=d;class r extends D.EditorAction{constructor(){super({id:y.fixAllCommandId,label:p.localize(24,null),alias:"Fix All",precondition:w.ContextKeyExpr.and(L.EditorContextKeys.writable,s(C.CodeActionKind.SourceFixAll))})}run(g,c){return t(c,p.localize(25,null),{include:C.CodeActionKind.SourceFixAll,includeSourceActions:!0},"ifSingle",C.CodeActionTriggerSource.FixAll)}}e.FixAllAction=r;class l extends D.EditorAction{constructor(){super({id:y.autoFixCommandId,label:p.localize(26,null),alias:"Auto Fix...",precondition:w.ContextKeyExpr.and(L.EditorContextKeys.writable,s(C.CodeActionKind.QuickFix)),kbOpts:{kbExpr:L.EditorContextKeys.textInputFocus,primary:1625,mac:{primary:2649},weight:100}})}run(g,c){return t(c,p.localize(27,null),{include:C.CodeActionKind.QuickFix,onlyIncludePreferredActions:!0},"ifSingle",C.CodeActionTriggerSource.AutoFix)}}e.AutoFixAction=l}),define(te[937],ie([1,0,16,260,936,276,380,685,105,39]),function(J,e,m,k,D,L,y,p,w,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),(0,m.registerEditorContribution)(L.CodeActionController.ID,L.CodeActionController,3),(0,m.registerEditorContribution)(y.LightBulbWidget.ID,y.LightBulbWidget,4),(0,m.registerEditorAction)(D.QuickFixAction),(0,m.registerEditorAction)(D.RefactorAction),(0,m.registerEditorAction)(D.SourceAction),(0,m.registerEditorAction)(D.OrganizeImportsAction),(0,m.registerEditorAction)(D.AutoFixAction),(0,m.registerEditorAction)(D.FixAllAction),(0,m.registerEditorCommand)(new D.CodeActionCommand),C.Registry.as(w.Extensions.Configuration).registerConfiguration({...k.editorConfigurationBaseNode,properties:{"editor.codeActionWidget.showHeaders":{type:"boolean",scope:5,description:p.localize(0,null),default:!0}}}),C.Registry.as(w.Extensions.Configuration).registerConfiguration({...k.editorConfigurationBaseNode,properties:{"editor.codeActionWidget.includeNearbyQuickFixes":{type:"boolean",scope:5,description:p.localize(1,null),default:!0}}})}),define(te[938],ie([1,0,6,108,5,37,477]),function(J,e,m,k,D,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeLensWidget=e.CodeLensHelper=void 0;class y{constructor(s,i,t){this.afterColumn=1073741824,this.afterLineNumber=s,this.heightInPx=i,this._onHeight=t,this.suppressMouseDown=!0,this.domNode=document.createElement("div")}onComputedHeight(s){this._lastHeight===void 0?this._lastHeight=s:this._lastHeight!==s&&(this._lastHeight=s,this._onHeight())}isVisible(){return this._lastHeight!==0&&this.domNode.hasAttribute("monaco-visible-view-zone")}}class p{constructor(s,i){this.allowEditorOverflow=!1,this.suppressMouseDown=!0,this._commands=new Map,this._isEmpty=!0,this._editor=s,this._id=`codelens.widget-${p._idPool++}`,this.updatePosition(i),this._domNode=document.createElement("span"),this._domNode.className="codelens-decoration"}withCommands(s,i){this._commands.clear();const t=[];let n=!1;for(let h=0;h<s.length;h++){const v=s[h];if(v&&(n=!0,v.command)){const u=(0,k.renderLabelWithIcons)(v.command.title.trim());if(v.command.id){const d=`c${p._idPool++}`;t.push(m.$("a",{id:d,title:v.command.tooltip,role:"button"},...u)),this._commands.set(d,v.command)}else t.push(m.$("span",{title:v.command.tooltip},...u));h+1<s.length&&t.push(m.$("span",void 0,"\xA0|\xA0"))}}n?(m.reset(this._domNode,...t),this._isEmpty&&i&&this._domNode.classList.add("fadein"),this._isEmpty=!1):m.reset(this._domNode,m.$("span",void 0,"no commands"))}getCommand(s){return s.parentElement===this._domNode?this._commands.get(s.id):void 0}getId(){return this._id}getDomNode(){return this._domNode}updatePosition(s){const i=this._editor.getModel().getLineFirstNonWhitespaceColumn(s);this._widgetPosition={position:{lineNumber:s,column:i},preference:[1]}}getPosition(){return this._widgetPosition||null}}p._idPool=0;class w{constructor(){this._removeDecorations=[],this._addDecorations=[],this._addDecorationsCallbacks=[]}addDecoration(s,i){this._addDecorations.push(s),this._addDecorationsCallbacks.push(i)}removeDecoration(s){this._removeDecorations.push(s)}commit(s){const i=s.deltaDecorations(this._removeDecorations,this._addDecorations);for(let t=0,n=i.length;t<n;t++)this._addDecorationsCallbacks[t](i[t])}}e.CodeLensHelper=w;const C=L.ModelDecorationOptions.register({collapseOnReplaceEdit:!0,description:"codelens"});class b{constructor(s,i,t,n,h,v){this._isDisposed=!1,this._editor=i,this._data=s,this._decorationIds=[];let u;const d=[];this._data.forEach((r,l)=>{r.symbol.command&&d.push(r.symbol),t.addDecoration({range:r.symbol.range,options:C},o=>this._decorationIds[l]=o),u?u=D.Range.plusRange(u,r.symbol.range):u=D.Range.lift(r.symbol.range)}),this._viewZone=new y(u.startLineNumber-1,h,v),this._viewZoneId=n.addZone(this._viewZone),d.length>0&&(this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(d,!1))}_createContentWidgetIfNecessary(){this._contentWidget?this._editor.layoutContentWidget(this._contentWidget):(this._contentWidget=new p(this._editor,this._viewZone.afterLineNumber+1),this._editor.addContentWidget(this._contentWidget))}dispose(s,i){this._decorationIds.forEach(s.removeDecoration,s),this._decorationIds=[],i?.removeZone(this._viewZoneId),this._contentWidget&&(this._editor.removeContentWidget(this._contentWidget),this._contentWidget=void 0),this._isDisposed=!0}isDisposed(){return this._isDisposed}isValid(){return this._decorationIds.some((s,i)=>{const t=this._editor.getModel().getDecorationRange(s),n=this._data[i].symbol;return!!(t&&D.Range.isEmpty(n.range)===t.isEmpty())})}updateCodeLensSymbols(s,i){this._decorationIds.forEach(i.removeDecoration,i),this._decorationIds=[],this._data=s,this._data.forEach((t,n)=>{i.addDecoration({range:t.symbol.range,options:C},h=>this._decorationIds[n]=h)})}updateHeight(s,i){this._viewZone.heightInPx=s,i.layoutZone(this._viewZoneId),this._contentWidget&&this._editor.layoutContentWidget(this._contentWidget)}computeIfNecessary(s){if(!this._viewZone.isVisible())return null;for(let i=0;i<this._decorationIds.length;i++){const t=s.getDecorationRange(this._decorationIds[i]);t&&(this._data[i].symbol.range=t)}return this._data}updateCommands(s){this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(s,!0);for(let i=0;i<this._data.length;i++){const t=s[i];if(t){const{symbol:n}=this._data[i];n.command=t.command||n.command}}}getCommand(s){var i;return(i=this._contentWidget)===null||i===void 0?void 0:i.getCommand(s)}getLineNumber(){const s=this._editor.getModel().getDecorationRange(this._decorationIds[0]);return s?s.startLineNumber:-1}update(s){if(this.isValid()){const i=this._editor.getModel().getDecorationRange(this._decorationIds[0]);i&&(this._viewZone.afterLineNumber=i.startLineNumber-1,s.layoutZone(this._viewZoneId),this._contentWidget&&(this._contentWidget.updatePosition(i.startLineNumber),this._editor.layoutContentWidget(this._contentWidget)))}}}e.CodeLensWidget=b}),define(te[939],ie([1,0,15,12,2,137,16,38,19,361,842,938,689,27,51,75,83,18]),function(J,e,m,k,D,L,y,p,w,C,b,a,s,i,t,n,h,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeLensContribution=void 0;let u=class{constructor(r,l,o,g,c,f){this._editor=r,this._languageFeaturesService=l,this._commandService=g,this._notificationService=c,this._codeLensCache=f,this._disposables=new D.DisposableStore,this._localToDispose=new D.DisposableStore,this._lenses=[],this._oldCodeLensModels=new D.DisposableStore,this._provideCodeLensDebounce=o.for(l.codeLensProvider,"CodeLensProvide",{min:250}),this._resolveCodeLensesDebounce=o.for(l.codeLensProvider,"CodeLensResolve",{min:250,salt:"resolve"}),this._resolveCodeLensesScheduler=new m.RunOnceScheduler(()=>this._resolveCodeLensesInViewport(),this._resolveCodeLensesDebounce.default()),this._disposables.add(this._editor.onDidChangeModel(()=>this._onModelChange())),this._disposables.add(this._editor.onDidChangeModelLanguage(()=>this._onModelChange())),this._disposables.add(this._editor.onDidChangeConfiguration(_=>{(_.hasChanged(50)||_.hasChanged(19)||_.hasChanged(18))&&this._updateLensStyle(),_.hasChanged(17)&&this._onModelChange()})),this._disposables.add(l.codeLensProvider.onDidChange(this._onModelChange,this)),this._onModelChange(),this._updateLensStyle()}dispose(){var r;this._localDispose(),this._disposables.dispose(),this._oldCodeLensModels.dispose(),(r=this._currentCodeLensModel)===null||r===void 0||r.dispose()}_getLayoutInfo(){const r=Math.max(1.3,this._editor.getOption(67)/this._editor.getOption(52));let l=this._editor.getOption(19);return(!l||l<5)&&(l=this._editor.getOption(52)*.9|0),{fontSize:l,codeLensHeight:l*r|0}}_updateLensStyle(){const{codeLensHeight:r,fontSize:l}=this._getLayoutInfo(),o=this._editor.getOption(18),g=this._editor.getOption(50),{style:c}=this._editor.getContainerDomNode();c.setProperty("--vscode-editorCodeLens-lineHeight",`${r}px`),c.setProperty("--vscode-editorCodeLens-fontSize",`${l}px`),c.setProperty("--vscode-editorCodeLens-fontFeatureSettings",g.fontFeatureSettings),o&&(c.setProperty("--vscode-editorCodeLens-fontFamily",o),c.setProperty("--vscode-editorCodeLens-fontFamilyDefault",p.EDITOR_FONT_DEFAULTS.fontFamily)),this._editor.changeViewZones(f=>{for(const _ of this._lenses)_.updateHeight(r,f)})}_localDispose(){var r,l,o;(r=this._getCodeLensModelPromise)===null||r===void 0||r.cancel(),this._getCodeLensModelPromise=void 0,(l=this._resolveCodeLensesPromise)===null||l===void 0||l.cancel(),this._resolveCodeLensesPromise=void 0,this._localToDispose.clear(),this._oldCodeLensModels.clear(),(o=this._currentCodeLensModel)===null||o===void 0||o.dispose()}_onModelChange(){this._localDispose();const r=this._editor.getModel();if(!r||!this._editor.getOption(17)||r.isTooLargeForTokenization())return;const l=this._codeLensCache.get(r);if(l&&this._renderCodeLensSymbols(l),!this._languageFeaturesService.codeLensProvider.has(r)){l&&(0,m.disposableTimeout)(()=>{const g=this._codeLensCache.get(r);l===g&&(this._codeLensCache.delete(r),this._onModelChange())},30*1e3,this._localToDispose);return}for(const g of this._languageFeaturesService.codeLensProvider.all(r))if(typeof g.onDidChange=="function"){const c=g.onDidChange(()=>o.schedule());this._localToDispose.add(c)}const o=new m.RunOnceScheduler(()=>{var g;const c=Date.now();(g=this._getCodeLensModelPromise)===null||g===void 0||g.cancel(),this._getCodeLensModelPromise=(0,m.createCancelablePromise)(f=>(0,C.getCodeLensModel)(this._languageFeaturesService.codeLensProvider,r,f)),this._getCodeLensModelPromise.then(f=>{this._currentCodeLensModel&&this._oldCodeLensModels.add(this._currentCodeLensModel),this._currentCodeLensModel=f,this._codeLensCache.put(r,f);const _=this._provideCodeLensDebounce.update(r,Date.now()-c);o.delay=_,this._renderCodeLensSymbols(f),this._resolveCodeLensesInViewportSoon()},k.onUnexpectedError)},this._provideCodeLensDebounce.get(r));this._localToDispose.add(o),this._localToDispose.add((0,D.toDisposable)(()=>this._resolveCodeLensesScheduler.cancel())),this._localToDispose.add(this._editor.onDidChangeModelContent(()=>{var g;this._editor.changeDecorations(c=>{this._editor.changeViewZones(f=>{const _=[];let S=-1;this._lenses.forEach(E=>{!E.isValid()||S===E.getLineNumber()?_.push(E):(E.update(f),S=E.getLineNumber())});const I=new a.CodeLensHelper;_.forEach(E=>{E.dispose(I,f),this._lenses.splice(this._lenses.indexOf(E),1)}),I.commit(c)})}),o.schedule(),this._resolveCodeLensesScheduler.cancel(),(g=this._resolveCodeLensesPromise)===null||g===void 0||g.cancel(),this._resolveCodeLensesPromise=void 0})),this._localToDispose.add(this._editor.onDidFocusEditorWidget(()=>{o.schedule()})),this._localToDispose.add(this._editor.onDidBlurEditorText(()=>{o.cancel()})),this._localToDispose.add(this._editor.onDidScrollChange(g=>{g.scrollTopChanged&&this._lenses.length>0&&this._resolveCodeLensesInViewportSoon()})),this._localToDispose.add(this._editor.onDidLayoutChange(()=>{this._resolveCodeLensesInViewportSoon()})),this._localToDispose.add((0,D.toDisposable)(()=>{if(this._editor.getModel()){const g=L.StableEditorScrollState.capture(this._editor);this._editor.changeDecorations(c=>{this._editor.changeViewZones(f=>{this._disposeAllLenses(c,f)})}),g.restore(this._editor)}else this._disposeAllLenses(void 0,void 0)})),this._localToDispose.add(this._editor.onMouseDown(g=>{if(g.target.type!==9)return;let c=g.target.element;if(c?.tagName==="SPAN"&&(c=c.parentElement),c?.tagName==="A")for(const f of this._lenses){const _=f.getCommand(c);if(_){this._commandService.executeCommand(_.id,..._.arguments||[]).catch(S=>this._notificationService.error(S));break}}})),o.schedule()}_disposeAllLenses(r,l){const o=new a.CodeLensHelper;for(const g of this._lenses)g.dispose(o,l);r&&o.commit(r),this._lenses.length=0}_renderCodeLensSymbols(r){if(!this._editor.hasModel())return;const l=this._editor.getModel().getLineCount(),o=[];let g;for(const _ of r.lenses){const S=_.symbol.range.startLineNumber;S<1||S>l||(g&&g[g.length-1].symbol.range.startLineNumber===S?g.push(_):(g=[_],o.push(g)))}if(!o.length&&!this._lenses.length)return;const c=L.StableEditorScrollState.capture(this._editor),f=this._getLayoutInfo();this._editor.changeDecorations(_=>{this._editor.changeViewZones(S=>{const I=new a.CodeLensHelper;let E=0,T=0;for(;T<o.length&&E<this._lenses.length;){const N=o[T][0].symbol.range.startLineNumber,A=this._lenses[E].getLineNumber();A<N?(this._lenses[E].dispose(I,S),this._lenses.splice(E,1)):A===N?(this._lenses[E].updateCodeLensSymbols(o[T],I),T++,E++):(this._lenses.splice(E,0,new a.CodeLensWidget(o[T],this._editor,I,S,f.codeLensHeight,()=>this._resolveCodeLensesInViewportSoon())),E++,T++)}for(;E<this._lenses.length;)this._lenses[E].dispose(I,S),this._lenses.splice(E,1);for(;T<o.length;)this._lenses.push(new a.CodeLensWidget(o[T],this._editor,I,S,f.codeLensHeight,()=>this._resolveCodeLensesInViewportSoon())),T++;I.commit(_)})}),c.restore(this._editor)}_resolveCodeLensesInViewportSoon(){this._editor.getModel()&&this._resolveCodeLensesScheduler.schedule()}_resolveCodeLensesInViewport(){var r;(r=this._resolveCodeLensesPromise)===null||r===void 0||r.cancel(),this._resolveCodeLensesPromise=void 0;const l=this._editor.getModel();if(!l)return;const o=[],g=[];if(this._lenses.forEach(_=>{const S=_.computeIfNecessary(l);S&&(o.push(S),g.push(_))}),o.length===0)return;const c=Date.now(),f=(0,m.createCancelablePromise)(_=>{const S=o.map((I,E)=>{const T=new Array(I.length),N=I.map((A,O)=>!A.symbol.command&&typeof A.provider.resolveCodeLens=="function"?Promise.resolve(A.provider.resolveCodeLens(l,A.symbol,_)).then(M=>{T[O]=M},k.onUnexpectedExternalError):(T[O]=A.symbol,Promise.resolve(void 0)));return Promise.all(N).then(()=>{!_.isCancellationRequested&&!g[E].isDisposed()&&g[E].updateCommands(T)})});return Promise.all(S)});this._resolveCodeLensesPromise=f,this._resolveCodeLensesPromise.then(()=>{const _=this._resolveCodeLensesDebounce.update(l,Date.now()-c);this._resolveCodeLensesScheduler.delay=_,this._currentCodeLensModel&&this._codeLensCache.put(l,this._currentCodeLensModel),this._oldCodeLensModels.clear(),f===this._resolveCodeLensesPromise&&(this._resolveCodeLensesPromise=void 0)},_=>{(0,k.onUnexpectedError)(_),f===this._resolveCodeLensesPromise&&(this._resolveCodeLensesPromise=void 0)})}async getModel(){var r;return await this._getCodeLensModelPromise,await this._resolveCodeLensesPromise,!((r=this._currentCodeLensModel)===null||r===void 0)&&r.isDisposed?void 0:this._currentCodeLensModel}};e.CodeLensContribution=u,u.ID="css.editor.codeLens",e.CodeLensContribution=u=Ie([he(1,v.ILanguageFeaturesService),he(2,h.ILanguageFeatureDebounceService),he(3,i.ICommandService),he(4,t.INotificationService),he(5,b.ICodeLensCache)],u),(0,y.registerEditorContribution)(u.ID,u,1),(0,y.registerEditorAction)(class extends y.EditorAction{constructor(){super({id:"codelens.showLensesInCurrentLine",precondition:w.EditorContextKeys.hasCodeLensProvider,label:(0,s.localize)(0,null),alias:"Show CodeLens Commands For Current Line"})}async run(r,l){if(!l.hasModel())return;const o=r.get(n.IQuickInputService),g=r.get(i.ICommandService),c=r.get(t.INotificationService),f=l.getSelection().positionLineNumber,_=l.getContribution(u.ID);if(!_)return;const S=await _.getModel();if(!S)return;const I=[];for(const N of S.lenses)N.symbol.command&&N.symbol.range.startLineNumber===f&&I.push({label:N.symbol.command.title,command:N.symbol.command});if(I.length===0)return;const E=await o.pick(I,{canPickMany:!1,placeHolder:(0,s.localize)(1,null)});if(!E)return;let T=E.command;if(S.isDisposed){const N=await _.getModel(),A=N?.lenses.find(O=>{var M;return O.symbol.range.startLineNumber===f&&((M=O.symbol.command)===null||M===void 0?void 0:M.title)===T.title});if(!A||!A.symbol.command)return;T=A.symbol.command}try{await g.executeCommand(T.id,...T.arguments||[])}catch(N){c.error(N)}}})}),define(te[396],ie([1,0,15,34,12,7,2,63,11,175,16,5,37,83,18,373,25]),function(J,e,m,k,D,L,y,p,w,C,b,a,s,i,t,n,h){"use strict";var v;Object.defineProperty(e,"__esModule",{value:!0}),e.DecoratorLimitReporter=e.ColorDetector=e.ColorDecorationInjectedTextMarker=void 0,e.ColorDecorationInjectedTextMarker=Object.create({});let u=v=class extends y.Disposable{constructor(l,o,g,c){super(),this._editor=l,this._configurationService=o,this._languageFeaturesService=g,this._localToDispose=this._register(new y.DisposableStore),this._decorationsIds=[],this._colorDatas=new Map,this._colorDecoratorIds=this._editor.createDecorationsCollection(),this._ruleFactory=new C.DynamicCssRules(this._editor),this._decoratorLimitReporter=new d,this._colorDecorationClassRefs=this._register(new y.DisposableStore),this._debounceInformation=c.for(g.colorProvider,"Document Colors",{min:v.RECOMPUTE_TIME}),this._register(l.onDidChangeModel(()=>{this._isColorDecoratorsEnabled=this.isEnabled(),this.updateColors()})),this._register(l.onDidChangeModelLanguage(()=>this.updateColors())),this._register(g.colorProvider.onDidChange(()=>this.updateColors())),this._register(l.onDidChangeConfiguration(f=>{const _=this._isColorDecoratorsEnabled;this._isColorDecoratorsEnabled=this.isEnabled(),this._isDefaultColorDecoratorsEnabled=this._editor.getOption(147);const S=_!==this._isColorDecoratorsEnabled||f.hasChanged(21),I=f.hasChanged(147);(S||I)&&(this._isColorDecoratorsEnabled?this.updateColors():this.removeAllDecorations())})),this._timeoutTimer=null,this._computePromise=null,this._isColorDecoratorsEnabled=this.isEnabled(),this._isDefaultColorDecoratorsEnabled=this._editor.getOption(147),this.updateColors()}isEnabled(){const l=this._editor.getModel();if(!l)return!1;const o=l.getLanguageId(),g=this._configurationService.getValue(o);if(g&&typeof g=="object"){const c=g.colorDecorators;if(c&&c.enable!==void 0&&!c.enable)return c.enable}return this._editor.getOption(20)}static get(l){return l.getContribution(this.ID)}dispose(){this.stop(),this.removeAllDecorations(),super.dispose()}updateColors(){if(this.stop(),!this._isColorDecoratorsEnabled)return;const l=this._editor.getModel();!l||!this._languageFeaturesService.colorProvider.has(l)||(this._localToDispose.add(this._editor.onDidChangeModelContent(()=>{this._timeoutTimer||(this._timeoutTimer=new m.TimeoutTimer,this._timeoutTimer.cancelAndSet(()=>{this._timeoutTimer=null,this.beginCompute()},this._debounceInformation.get(l)))})),this.beginCompute())}async beginCompute(){this._computePromise=(0,m.createCancelablePromise)(async l=>{const o=this._editor.getModel();if(!o)return[];const g=new p.StopWatch(!1),c=await(0,n.getColors)(this._languageFeaturesService.colorProvider,o,l,this._isDefaultColorDecoratorsEnabled);return this._debounceInformation.update(o,g.elapsed()),c});try{const l=await this._computePromise;this.updateDecorations(l),this.updateColorDecorators(l),this._computePromise=null}catch(l){(0,D.onUnexpectedError)(l)}}stop(){this._timeoutTimer&&(this._timeoutTimer.cancel(),this._timeoutTimer=null),this._computePromise&&(this._computePromise.cancel(),this._computePromise=null),this._localToDispose.clear()}updateDecorations(l){const o=l.map(g=>({range:{startLineNumber:g.colorInfo.range.startLineNumber,startColumn:g.colorInfo.range.startColumn,endLineNumber:g.colorInfo.range.endLineNumber,endColumn:g.colorInfo.range.endColumn},options:s.ModelDecorationOptions.EMPTY}));this._editor.changeDecorations(g=>{this._decorationsIds=g.deltaDecorations(this._decorationsIds,o),this._colorDatas=new Map,this._decorationsIds.forEach((c,f)=>this._colorDatas.set(c,l[f]))})}updateColorDecorators(l){this._colorDecorationClassRefs.clear();const o=[],g=this._editor.getOption(21);for(let f=0;f<l.length&&o.length<g;f++){const{red:_,green:S,blue:I,alpha:E}=l[f].colorInfo.color,T=new k.RGBA(Math.round(_*255),Math.round(S*255),Math.round(I*255),E),N=`rgba(${T.r}, ${T.g}, ${T.b}, ${T.a})`,A=this._colorDecorationClassRefs.add(this._ruleFactory.createClassNameRef({backgroundColor:N}));o.push({range:{startLineNumber:l[f].colorInfo.range.startLineNumber,startColumn:l[f].colorInfo.range.startColumn,endLineNumber:l[f].colorInfo.range.endLineNumber,endColumn:l[f].colorInfo.range.endColumn},options:{description:"colorDetector",before:{content:w.noBreakWhitespace,inlineClassName:`${A.className} colorpicker-color-decoration`,inlineClassNameAffectsLetterSpacing:!0,attachedData:e.ColorDecorationInjectedTextMarker}}})}const c=g<l.length?g:!1;this._decoratorLimitReporter.update(l.length,c),this._colorDecoratorIds.set(o)}removeAllDecorations(){this._editor.removeDecorations(this._decorationsIds),this._decorationsIds=[],this._colorDecoratorIds.clear(),this._colorDecorationClassRefs.clear()}getColorData(l){const o=this._editor.getModel();if(!o)return null;const g=o.getDecorationsInRange(a.Range.fromPositions(l,l)).filter(c=>this._colorDatas.has(c.id));return g.length===0?null:this._colorDatas.get(g[0].id)}isColorDecoration(l){return this._colorDecoratorIds.has(l)}};e.ColorDetector=u,u.ID="editor.contrib.colorDetector",u.RECOMPUTE_TIME=1e3,e.ColorDetector=u=v=Ie([he(1,h.IConfigurationService),he(2,t.ILanguageFeaturesService),he(3,i.ILanguageFeatureDebounceService)],u);class d{constructor(){this._onDidChange=new L.Emitter,this._computed=0,this._limited=!1}update(l,o){(l!==this._computed||o!==this._limited)&&(this._computed=l,this._limited=o,this._onDidChange.fire())}}e.DecoratorLimitReporter=d,(0,b.registerEditorContribution)(u.ID,u,1)}),define(te[397],ie([1,0,15,20,34,2,5,373,396,579,883,23,6]),function(J,e,m,k,D,L,y,p,w,C,b,a,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandaloneColorPickerParticipant=e.StandaloneColorPickerHover=e.ColorHoverParticipant=e.ColorHover=void 0;class i{constructor(o,g,c,f){this.owner=o,this.range=g,this.model=c,this.provider=f,this.forceShowAtRange=!0}isValidForHoverAnchor(o){return o.type===1&&this.range.startColumn<=o.range.startColumn&&this.range.endColumn>=o.range.endColumn}}e.ColorHover=i;let t=class{constructor(o,g){this._editor=o,this._themeService=g,this.hoverOrdinal=2}computeSync(o,g){return[]}computeAsync(o,g,c){return m.AsyncIterableObject.fromPromise(this._computeAsync(o,g,c))}async _computeAsync(o,g,c){if(!this._editor.hasModel())return[];const f=w.ColorDetector.get(this._editor);if(!f)return[];for(const _ of g){if(!f.isColorDecoration(_))continue;const S=f.getColorData(_.range.getStartPosition());if(S)return[await v(this,this._editor.getModel(),S.colorInfo,S.provider)]}return[]}renderHoverParts(o,g){return u(this,this._editor,this._themeService,g,o)}};e.ColorHoverParticipant=t,e.ColorHoverParticipant=t=Ie([he(1,a.IThemeService)],t);class n{constructor(o,g,c,f){this.owner=o,this.range=g,this.model=c,this.provider=f}}e.StandaloneColorPickerHover=n;let h=class{constructor(o,g){this._editor=o,this._themeService=g,this._color=null}async createColorHover(o,g,c){if(!this._editor.hasModel()||!w.ColorDetector.get(this._editor))return null;const _=await(0,p.getColors)(c,this._editor.getModel(),k.CancellationToken.None);let S=null,I=null;for(const A of _){const O=A.colorInfo;y.Range.containsRange(O.range,o.range)&&(S=O,I=A.provider)}const E=S??o,T=I??g,N=!!S;return{colorHover:await v(this,this._editor.getModel(),E,T),foundInEditor:N}}async updateEditorModel(o){if(!this._editor.hasModel())return;const g=o.model;let c=new y.Range(o.range.startLineNumber,o.range.startColumn,o.range.endLineNumber,o.range.endColumn);this._color&&(await r(this._editor.getModel(),g,this._color,c,o),c=d(this._editor,c,g))}renderHoverParts(o,g){return u(this,this._editor,this._themeService,g,o)}set color(o){this._color=o}get color(){return this._color}};e.StandaloneColorPickerParticipant=h,e.StandaloneColorPickerParticipant=h=Ie([he(1,a.IThemeService)],h);async function v(l,o,g,c){const f=o.getValueInRange(g.range),{red:_,green:S,blue:I,alpha:E}=g.color,T=new D.RGBA(Math.round(_*255),Math.round(S*255),Math.round(I*255),E),N=new D.Color(T),A=await(0,p.getColorPresentations)(o,g,c,k.CancellationToken.None),O=new C.ColorPickerModel(N,[],0);return O.colorPresentations=A||[],O.guessColorPresentation(N,f),l instanceof t?new i(l,y.Range.lift(g.range),O,c):new n(l,y.Range.lift(g.range),O,c)}function u(l,o,g,c,f){if(c.length===0||!o.hasModel())return L.Disposable.None;if(f.setMinimumDimensions){const O=o.getOption(67)+8;f.setMinimumDimensions(new s.Dimension(302,O))}const _=new L.DisposableStore,S=c[0],I=o.getModel(),E=S.model,T=_.add(new b.ColorPickerWidget(f.fragment,E,o.getOption(143),g,l instanceof h));f.setColorPicker(T);let N=!1,A=new y.Range(S.range.startLineNumber,S.range.startColumn,S.range.endLineNumber,S.range.endColumn);if(l instanceof h){const O=c[0].model.color;l.color=O,r(I,E,O,A,S),_.add(E.onColorFlushed(M=>{l.color=M}))}else _.add(E.onColorFlushed(async O=>{await r(I,E,O,A,S),N=!0,A=d(o,A,E)}));return _.add(E.onDidChangeColor(O=>{r(I,E,O,A,S)})),_.add(o.onDidChangeModelContent(O=>{N?N=!1:(f.hide(),o.focus())})),_}function d(l,o,g){var c,f;const _=[],S=(c=g.presentation.textEdit)!==null&&c!==void 0?c:{range:o,text:g.presentation.label,forceMoveMarkers:!1};_.push(S),g.presentation.additionalTextEdits&&_.push(...g.presentation.additionalTextEdits);const I=y.Range.lift(S.range),E=l.getModel()._setTrackedRange(null,I,3);return l.executeEdits("colorpicker",_),l.pushUndoStop(),(f=l.getModel()._getTrackedRange(E))!==null&&f!==void 0?f:I}async function r(l,o,g,c,f){const _=await(0,p.getColorPresentations)(l,{range:c,color:{red:g.rgba.r/255,green:g.rgba.g/255,blue:g.rgba.b/255,alpha:g.rgba.a}},f.provider,k.CancellationToken.None);o.colorPresentations=_||[]}}),define(te[940],ie([1,0,2,17,16,9,5,24,37,581,478]),function(J,e,m,k,D,L,y,p,w,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DragAndDropController=void 0;function b(s){return k.isMacintosh?s.altKey:s.ctrlKey}class a extends m.Disposable{constructor(i){super(),this._editor=i,this._dndDecorationIds=this._editor.createDecorationsCollection(),this._register(this._editor.onMouseDown(t=>this._onEditorMouseDown(t))),this._register(this._editor.onMouseUp(t=>this._onEditorMouseUp(t))),this._register(this._editor.onMouseDrag(t=>this._onEditorMouseDrag(t))),this._register(this._editor.onMouseDrop(t=>this._onEditorMouseDrop(t))),this._register(this._editor.onMouseDropCanceled(()=>this._onEditorMouseDropCanceled())),this._register(this._editor.onKeyDown(t=>this.onEditorKeyDown(t))),this._register(this._editor.onKeyUp(t=>this.onEditorKeyUp(t))),this._register(this._editor.onDidBlurEditorWidget(()=>this.onEditorBlur())),this._register(this._editor.onDidBlurEditorText(()=>this.onEditorBlur())),this._mouseDown=!1,this._modifierPressed=!1,this._dragSelection=null}onEditorBlur(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1}onEditorKeyDown(i){!this._editor.getOption(35)||this._editor.getOption(22)||(b(i)&&(this._modifierPressed=!0),this._mouseDown&&b(i)&&this._editor.updateOptions({mouseStyle:"copy"}))}onEditorKeyUp(i){!this._editor.getOption(35)||this._editor.getOption(22)||(b(i)&&(this._modifierPressed=!1),this._mouseDown&&i.keyCode===a.TRIGGER_KEY_VALUE&&this._editor.updateOptions({mouseStyle:"default"}))}_onEditorMouseDown(i){this._mouseDown=!0}_onEditorMouseUp(i){this._mouseDown=!1,this._editor.updateOptions({mouseStyle:"text"})}_onEditorMouseDrag(i){const t=i.target;if(this._dragSelection===null){const h=(this._editor.getSelections()||[]).filter(v=>t.position&&v.containsPosition(t.position));if(h.length===1)this._dragSelection=h[0];else return}b(i.event)?this._editor.updateOptions({mouseStyle:"copy"}):this._editor.updateOptions({mouseStyle:"default"}),t.position&&(this._dragSelection.containsPosition(t.position)?this._removeDecoration():this.showAt(t.position))}_onEditorMouseDropCanceled(){this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}_onEditorMouseDrop(i){if(i.target&&(this._hitContent(i.target)||this._hitMargin(i.target))&&i.target.position){const t=new L.Position(i.target.position.lineNumber,i.target.position.column);if(this._dragSelection===null){let n=null;if(i.event.shiftKey){const h=this._editor.getSelection();if(h){const{selectionStartLineNumber:v,selectionStartColumn:u}=h;n=[new p.Selection(v,u,t.lineNumber,t.column)]}}else n=(this._editor.getSelections()||[]).map(h=>h.containsPosition(t)?new p.Selection(t.lineNumber,t.column,t.lineNumber,t.column):h);this._editor.setSelections(n||[],"mouse",3)}else(!this._dragSelection.containsPosition(t)||(b(i.event)||this._modifierPressed)&&(this._dragSelection.getEndPosition().equals(t)||this._dragSelection.getStartPosition().equals(t)))&&(this._editor.pushUndoStop(),this._editor.executeCommand(a.ID,new C.DragAndDropCommand(this._dragSelection,t,b(i.event)||this._modifierPressed)),this._editor.pushUndoStop())}this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}showAt(i){this._dndDecorationIds.set([{range:new y.Range(i.lineNumber,i.column,i.lineNumber,i.column),options:a._DECORATION_OPTIONS}]),this._editor.revealPosition(i,1)}_removeDecoration(){this._dndDecorationIds.clear()}_hitContent(i){return i.type===6||i.type===7}_hitMargin(i){return i.type===2||i.type===3||i.type===4}dispose(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1,super.dispose()}}e.DragAndDropController=a,a.ID="editor.contrib.dragAndDrop",a.TRIGGER_KEY_VALUE=k.isMacintosh?6:5,a._DECORATION_OPTIONS=w.ModelDecorationOptions.register({description:"dnd-target",className:"dnd-target"}),(0,D.registerEditorContribution)(a.ID,a,2)}),define(te[941],ie([1,0,5,43,37,31,23]),function(J,e,m,k,D,L,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FindDecorations=void 0;class p{constructor(C){this._editor=C,this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null,this._startPosition=this._editor.getPosition()}dispose(){this._editor.removeDecorations(this._allDecorations()),this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}reset(){this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}getCount(){return this._decorations.length}getFindScope(){return this._findScopeDecorationIds[0]?this._editor.getModel().getDecorationRange(this._findScopeDecorationIds[0]):null}getFindScopes(){if(this._findScopeDecorationIds.length){const C=this._findScopeDecorationIds.map(b=>this._editor.getModel().getDecorationRange(b)).filter(b=>!!b);if(C.length)return C}return null}getStartPosition(){return this._startPosition}setStartPosition(C){this._startPosition=C,this.setCurrentFindMatch(null)}_getDecorationIndex(C){const b=this._decorations.indexOf(C);return b>=0?b+1:1}getDecorationRangeAt(C){const b=C<this._decorations.length?this._decorations[C]:null;return b?this._editor.getModel().getDecorationRange(b):null}getCurrentMatchesPosition(C){const b=this._editor.getModel().getDecorationsInRange(C);for(const a of b){const s=a.options;if(s===p._FIND_MATCH_DECORATION||s===p._CURRENT_FIND_MATCH_DECORATION)return this._getDecorationIndex(a.id)}return 0}setCurrentFindMatch(C){let b=null,a=0;if(C)for(let s=0,i=this._decorations.length;s<i;s++){const t=this._editor.getModel().getDecorationRange(this._decorations[s]);if(C.equalsRange(t)){b=this._decorations[s],a=s+1;break}}return(this._highlightedDecorationId!==null||b!==null)&&this._editor.changeDecorations(s=>{if(this._highlightedDecorationId!==null&&(s.changeDecorationOptions(this._highlightedDecorationId,p._FIND_MATCH_DECORATION),this._highlightedDecorationId=null),b!==null&&(this._highlightedDecorationId=b,s.changeDecorationOptions(this._highlightedDecorationId,p._CURRENT_FIND_MATCH_DECORATION)),this._rangeHighlightDecorationId!==null&&(s.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),b!==null){let i=this._editor.getModel().getDecorationRange(b);if(i.startLineNumber!==i.endLineNumber&&i.endColumn===1){const t=i.endLineNumber-1,n=this._editor.getModel().getLineMaxColumn(t);i=new m.Range(i.startLineNumber,i.startColumn,t,n)}this._rangeHighlightDecorationId=s.addDecoration(i,p._RANGE_HIGHLIGHT_DECORATION)}}),a}set(C,b){this._editor.changeDecorations(a=>{let s=p._FIND_MATCH_DECORATION;const i=[];if(C.length>1e3){s=p._FIND_MATCH_NO_OVERVIEW_DECORATION;const n=this._editor.getModel().getLineCount(),v=this._editor.getLayoutInfo().height/n,u=Math.max(2,Math.ceil(3/v));let d=C[0].range.startLineNumber,r=C[0].range.endLineNumber;for(let l=1,o=C.length;l<o;l++){const g=C[l].range;r+u>=g.startLineNumber?g.endLineNumber>r&&(r=g.endLineNumber):(i.push({range:new m.Range(d,1,r,1),options:p._FIND_MATCH_ONLY_OVERVIEW_DECORATION}),d=g.startLineNumber,r=g.endLineNumber)}i.push({range:new m.Range(d,1,r,1),options:p._FIND_MATCH_ONLY_OVERVIEW_DECORATION})}const t=new Array(C.length);for(let n=0,h=C.length;n<h;n++)t[n]={range:C[n].range,options:s};this._decorations=a.deltaDecorations(this._decorations,t),this._overviewRulerApproximateDecorations=a.deltaDecorations(this._overviewRulerApproximateDecorations,i),this._rangeHighlightDecorationId&&(a.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),this._findScopeDecorationIds.length&&(this._findScopeDecorationIds.forEach(n=>a.removeDecoration(n)),this._findScopeDecorationIds=[]),b?.length&&(this._findScopeDecorationIds=b.map(n=>a.addDecoration(n,p._FIND_SCOPE_DECORATION)))})}matchBeforePosition(C){if(this._decorations.length===0)return null;for(let b=this._decorations.length-1;b>=0;b--){const a=this._decorations[b],s=this._editor.getModel().getDecorationRange(a);if(!(!s||s.endLineNumber>C.lineNumber)){if(s.endLineNumber<C.lineNumber)return s;if(!(s.endColumn>C.column))return s}}return this._editor.getModel().getDecorationRange(this._decorations[this._decorations.length-1])}matchAfterPosition(C){if(this._decorations.length===0)return null;for(let b=0,a=this._decorations.length;b<a;b++){const s=this._decorations[b],i=this._editor.getModel().getDecorationRange(s);if(!(!i||i.startLineNumber<C.lineNumber)){if(i.startLineNumber>C.lineNumber)return i;if(!(i.startColumn<C.column))return i}}return this._editor.getModel().getDecorationRange(this._decorations[0])}_allDecorations(){let C=[];return C=C.concat(this._decorations),C=C.concat(this._overviewRulerApproximateDecorations),this._findScopeDecorationIds.length&&C.push(...this._findScopeDecorationIds),this._rangeHighlightDecorationId&&C.push(this._rangeHighlightDecorationId),C}}e.FindDecorations=p,p._CURRENT_FIND_MATCH_DECORATION=D.ModelDecorationOptions.register({description:"current-find-match",stickiness:1,zIndex:13,className:"currentFindMatch",showIfCollapsed:!0,overviewRuler:{color:(0,y.themeColorFromId)(L.overviewRulerFindMatchForeground),position:k.OverviewRulerLane.Center},minimap:{color:(0,y.themeColorFromId)(L.minimapFindMatch),position:1}}),p._FIND_MATCH_DECORATION=D.ModelDecorationOptions.register({description:"find-match",stickiness:1,zIndex:10,className:"findMatch",showIfCollapsed:!0,overviewRuler:{color:(0,y.themeColorFromId)(L.overviewRulerFindMatchForeground),position:k.OverviewRulerLane.Center},minimap:{color:(0,y.themeColorFromId)(L.minimapFindMatch),position:1}}),p._FIND_MATCH_NO_OVERVIEW_DECORATION=D.ModelDecorationOptions.register({description:"find-match-no-overview",stickiness:1,className:"findMatch",showIfCollapsed:!0}),p._FIND_MATCH_ONLY_OVERVIEW_DECORATION=D.ModelDecorationOptions.register({description:"find-match-only-overview",stickiness:1,overviewRuler:{color:(0,y.themeColorFromId)(L.overviewRulerFindMatchForeground),position:k.OverviewRulerLane.Center}}),p._RANGE_HIGHLIGHT_DECORATION=D.ModelDecorationOptions.register({description:"find-range-highlight",stickiness:1,className:"rangeHighlight",isWholeLine:!0}),p._FIND_SCOPE_DECORATION=D.ModelDecorationOptions.register({description:"find-scope",className:"findScope",isWholeLine:!0})}),define(te[210],ie([1,0,66,15,2,140,9,5,24,193,941,582,583,14]),function(J,e,m,k,D,L,y,p,w,C,b,a,s,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FindModelBoundToEditorModel=e.MATCHES_LIMIT=e.FIND_IDS=e.TogglePreserveCaseKeybinding=e.ToggleSearchScopeKeybinding=e.ToggleRegexKeybinding=e.ToggleWholeWordKeybinding=e.ToggleCaseSensitiveKeybinding=e.CONTEXT_REPLACE_INPUT_FOCUSED=e.CONTEXT_FIND_INPUT_FOCUSED=e.CONTEXT_FIND_WIDGET_NOT_VISIBLE=e.CONTEXT_FIND_WIDGET_VISIBLE=void 0,e.CONTEXT_FIND_WIDGET_VISIBLE=new i.RawContextKey("findWidgetVisible",!1),e.CONTEXT_FIND_WIDGET_NOT_VISIBLE=e.CONTEXT_FIND_WIDGET_VISIBLE.toNegated(),e.CONTEXT_FIND_INPUT_FOCUSED=new i.RawContextKey("findInputFocussed",!1),e.CONTEXT_REPLACE_INPUT_FOCUSED=new i.RawContextKey("replaceInputFocussed",!1),e.ToggleCaseSensitiveKeybinding={primary:545,mac:{primary:2593}},e.ToggleWholeWordKeybinding={primary:565,mac:{primary:2613}},e.ToggleRegexKeybinding={primary:560,mac:{primary:2608}},e.ToggleSearchScopeKeybinding={primary:554,mac:{primary:2602}},e.TogglePreserveCaseKeybinding={primary:558,mac:{primary:2606}},e.FIND_IDS={StartFindAction:"actions.find",StartFindWithSelection:"actions.findWithSelection",StartFindWithArgs:"editor.actions.findWithArgs",NextMatchFindAction:"editor.action.nextMatchFindAction",PreviousMatchFindAction:"editor.action.previousMatchFindAction",GoToMatchFindAction:"editor.action.goToMatchFindAction",NextSelectionMatchFindAction:"editor.action.nextSelectionMatchFindAction",PreviousSelectionMatchFindAction:"editor.action.previousSelectionMatchFindAction",StartFindReplaceAction:"editor.action.startFindReplaceAction",CloseFindWidgetCommand:"closeFindWidget",ToggleCaseSensitiveCommand:"toggleFindCaseSensitive",ToggleWholeWordCommand:"toggleFindWholeWord",ToggleRegexCommand:"toggleFindRegex",ToggleSearchScopeCommand:"toggleFindInSelection",TogglePreserveCaseCommand:"togglePreserveCase",ReplaceOneAction:"editor.action.replaceOne",ReplaceAllAction:"editor.action.replaceAll",SelectAllMatchesAction:"editor.action.selectAllMatches"},e.MATCHES_LIMIT=19999;const t=240;class n{constructor(v,u){this._toDispose=new D.DisposableStore,this._editor=v,this._state=u,this._isDisposed=!1,this._startSearchingTimer=new k.TimeoutTimer,this._decorations=new b.FindDecorations(v),this._toDispose.add(this._decorations),this._updateDecorationsScheduler=new k.RunOnceScheduler(()=>this.research(!1),100),this._toDispose.add(this._updateDecorationsScheduler),this._toDispose.add(this._editor.onDidChangeCursorPosition(d=>{(d.reason===3||d.reason===5||d.reason===6)&&this._decorations.setStartPosition(this._editor.getPosition())})),this._ignoreModelContentChanged=!1,this._toDispose.add(this._editor.onDidChangeModelContent(d=>{this._ignoreModelContentChanged||(d.isFlush&&this._decorations.reset(),this._decorations.setStartPosition(this._editor.getPosition()),this._updateDecorationsScheduler.schedule())})),this._toDispose.add(this._state.onFindReplaceStateChange(d=>this._onStateChanged(d))),this.research(!1,this._state.searchScope)}dispose(){this._isDisposed=!0,(0,D.dispose)(this._startSearchingTimer),this._toDispose.dispose()}_onStateChanged(v){this._isDisposed||this._editor.hasModel()&&(v.searchString||v.isReplaceRevealed||v.isRegex||v.wholeWord||v.matchCase||v.searchScope)&&(this._editor.getModel().isTooLargeForSyncing()?(this._startSearchingTimer.cancel(),this._startSearchingTimer.setIfNotSet(()=>{v.searchScope?this.research(v.moveCursor,this._state.searchScope):this.research(v.moveCursor)},t)):v.searchScope?this.research(v.moveCursor,this._state.searchScope):this.research(v.moveCursor))}static _getSearchRange(v,u){return u||v.getFullModelRange()}research(v,u){let d=null;typeof u<"u"?u!==null&&(Array.isArray(u)?d=u:d=[u]):d=this._decorations.getFindScopes(),d!==null&&(d=d.map(g=>{if(g.startLineNumber!==g.endLineNumber){let c=g.endLineNumber;return g.endColumn===1&&(c=c-1),new p.Range(g.startLineNumber,1,c,this._editor.getModel().getLineMaxColumn(c))}return g}));const r=this._findMatches(d,!1,e.MATCHES_LIMIT);this._decorations.set(r,d);const l=this._editor.getSelection();let o=this._decorations.getCurrentMatchesPosition(l);if(o===0&&r.length>0){const g=(0,m.findFirstIdxMonotonousOrArrLen)(r.map(c=>c.range),c=>p.Range.compareRangesUsingStarts(c,l)>=0);o=g>0?g-1+1:o}this._state.changeMatchInfo(o,this._decorations.getCount(),void 0),v&&this._editor.getOption(41).cursorMoveOnType&&this._moveToNextMatch(this._decorations.getStartPosition())}_hasMatches(){return this._state.matchesCount>0}_cannotFind(){if(!this._hasMatches()){const v=this._decorations.getFindScope();return v&&this._editor.revealRangeInCenterIfOutsideViewport(v,0),!0}return!1}_setCurrentFindMatch(v){const u=this._decorations.setCurrentFindMatch(v);this._state.changeMatchInfo(u,this._decorations.getCount(),v),this._editor.setSelection(v),this._editor.revealRangeInCenterIfOutsideViewport(v,0)}_prevSearchPosition(v){const u=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0);let{lineNumber:d,column:r}=v;const l=this._editor.getModel();return u||r===1?(d===1?d=l.getLineCount():d--,r=l.getLineMaxColumn(d)):r--,new y.Position(d,r)}_moveToPrevMatch(v,u=!1){if(!this._state.canNavigateBack()){const _=this._decorations.matchAfterPosition(v);_&&this._setCurrentFindMatch(_);return}if(this._decorations.getCount()<e.MATCHES_LIMIT){let _=this._decorations.matchBeforePosition(v);_&&_.isEmpty()&&_.getStartPosition().equals(v)&&(v=this._prevSearchPosition(v),_=this._decorations.matchBeforePosition(v)),_&&this._setCurrentFindMatch(_);return}if(this._cannotFind())return;const d=this._decorations.getFindScope(),r=n._getSearchRange(this._editor.getModel(),d);r.getEndPosition().isBefore(v)&&(v=r.getEndPosition()),v.isBefore(r.getStartPosition())&&(v=r.getEndPosition());const{lineNumber:l,column:o}=v,g=this._editor.getModel();let c=new y.Position(l,o),f=g.findPreviousMatch(this._state.searchString,c,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(131):null,!1);if(f&&f.range.isEmpty()&&f.range.getStartPosition().equals(c)&&(c=this._prevSearchPosition(c),f=g.findPreviousMatch(this._state.searchString,c,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(131):null,!1)),!!f){if(!u&&!r.containsRange(f.range))return this._moveToPrevMatch(f.range.getStartPosition(),!0);this._setCurrentFindMatch(f.range)}}moveToPrevMatch(){this._moveToPrevMatch(this._editor.getSelection().getStartPosition())}_nextSearchPosition(v){const u=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0);let{lineNumber:d,column:r}=v;const l=this._editor.getModel();return u||r===l.getLineMaxColumn(d)?(d===l.getLineCount()?d=1:d++,r=1):r++,new y.Position(d,r)}_moveToNextMatch(v){if(!this._state.canNavigateForward()){const d=this._decorations.matchBeforePosition(v);d&&this._setCurrentFindMatch(d);return}if(this._decorations.getCount()<e.MATCHES_LIMIT){let d=this._decorations.matchAfterPosition(v);d&&d.isEmpty()&&d.getStartPosition().equals(v)&&(v=this._nextSearchPosition(v),d=this._decorations.matchAfterPosition(v)),d&&this._setCurrentFindMatch(d);return}const u=this._getNextMatch(v,!1,!0);u&&this._setCurrentFindMatch(u.range)}_getNextMatch(v,u,d,r=!1){if(this._cannotFind())return null;const l=this._decorations.getFindScope(),o=n._getSearchRange(this._editor.getModel(),l);o.getEndPosition().isBefore(v)&&(v=o.getStartPosition()),v.isBefore(o.getStartPosition())&&(v=o.getStartPosition());const{lineNumber:g,column:c}=v,f=this._editor.getModel();let _=new y.Position(g,c),S=f.findNextMatch(this._state.searchString,_,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(131):null,u);return d&&S&&S.range.isEmpty()&&S.range.getStartPosition().equals(_)&&(_=this._nextSearchPosition(_),S=f.findNextMatch(this._state.searchString,_,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(131):null,u)),S?!r&&!o.containsRange(S.range)?this._getNextMatch(S.range.getEndPosition(),u,d,!0):S:null}moveToNextMatch(){this._moveToNextMatch(this._editor.getSelection().getEndPosition())}_moveToMatch(v){const u=this._decorations.getDecorationRangeAt(v);u&&this._setCurrentFindMatch(u)}moveToMatch(v){this._moveToMatch(v)}_getReplacePattern(){return this._state.isRegex?(0,s.parseReplaceString)(this._state.replaceString):s.ReplacePattern.fromStaticValue(this._state.replaceString)}replace(){if(!this._hasMatches())return;const v=this._getReplacePattern(),u=this._editor.getSelection(),d=this._getNextMatch(u.getStartPosition(),!0,!1);if(d)if(u.equalsRange(d.range)){const r=v.buildReplaceString(d.matches,this._state.preserveCase),l=new L.ReplaceCommand(u,r);this._executeEditorCommand("replace",l),this._decorations.setStartPosition(new y.Position(u.startLineNumber,u.startColumn+r.length)),this.research(!0)}else this._decorations.setStartPosition(this._editor.getPosition()),this._setCurrentFindMatch(d.range)}_findMatches(v,u,d){const r=(v||[null]).map(l=>n._getSearchRange(this._editor.getModel(),l));return this._editor.getModel().findMatches(this._state.searchString,r,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(131):null,u,d)}replaceAll(){if(!this._hasMatches())return;const v=this._decorations.getFindScopes();v===null&&this._state.matchesCount>=e.MATCHES_LIMIT?this._largeReplaceAll():this._regularReplaceAll(v),this.research(!1)}_largeReplaceAll(){const u=new C.SearchParams(this._state.searchString,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(131):null).parseSearchRequest();if(!u)return;let d=u.regex;if(!d.multiline){let S="mu";d.ignoreCase&&(S+="i"),d.global&&(S+="g"),d=new RegExp(d.source,S)}const r=this._editor.getModel(),l=r.getValue(1),o=r.getFullModelRange(),g=this._getReplacePattern();let c;const f=this._state.preserveCase;g.hasReplacementPatterns||f?c=l.replace(d,function(){return g.buildReplaceString(arguments,f)}):c=l.replace(d,g.buildReplaceString(null,f));const _=new L.ReplaceCommandThatPreservesSelection(o,c,this._editor.getSelection());this._executeEditorCommand("replaceAll",_)}_regularReplaceAll(v){const u=this._getReplacePattern(),d=this._findMatches(v,u.hasReplacementPatterns||this._state.preserveCase,1073741824),r=[];for(let o=0,g=d.length;o<g;o++)r[o]=u.buildReplaceString(d[o].matches,this._state.preserveCase);const l=new a.ReplaceAllCommand(this._editor.getSelection(),d.map(o=>o.range),r);this._executeEditorCommand("replaceAll",l)}selectAllMatches(){if(!this._hasMatches())return;const v=this._decorations.getFindScopes();let d=this._findMatches(v,!1,1073741824).map(l=>new w.Selection(l.range.startLineNumber,l.range.startColumn,l.range.endLineNumber,l.range.endColumn));const r=this._editor.getSelection();for(let l=0,o=d.length;l<o;l++)if(d[l].equalsRange(r)){d=[r].concat(d.slice(0,l)).concat(d.slice(l+1));break}this._editor.setSelections(d)}_executeEditorCommand(v,u){try{this._ignoreModelContentChanged=!0,this._editor.pushUndoStop(),this._editor.executeCommand(v,u),this._editor.pushUndoStop()}finally{this._ignoreModelContentChanged=!1}}}e.FindModelBoundToEditorModel=n}),define(te[942],ie([1,0,6,342,78,15,210,31,44,480]),function(J,e,m,k,D,L,y,p,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FindOptionsWidget=void 0;class C extends D.Widget{constructor(a,s,i){super(),this._hideSoon=this._register(new L.RunOnceScheduler(()=>this._hide(),2e3)),this._isVisible=!1,this._editor=a,this._state=s,this._keybindingService=i,this._domNode=document.createElement("div"),this._domNode.className="findOptionsWidget",this._domNode.style.display="none",this._domNode.style.top="10px",this._domNode.style.zIndex="12",this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true");const t={inputActiveOptionBorder:(0,p.asCssVariable)(p.inputActiveOptionBorder),inputActiveOptionForeground:(0,p.asCssVariable)(p.inputActiveOptionForeground),inputActiveOptionBackground:(0,p.asCssVariable)(p.inputActiveOptionBackground)},n=this._register((0,w.createInstantHoverDelegate)());this.caseSensitive=this._register(new k.CaseSensitiveToggle({appendTitle:this._keybindingLabelFor(y.FIND_IDS.ToggleCaseSensitiveCommand),isChecked:this._state.matchCase,hoverDelegate:n,...t})),this._domNode.appendChild(this.caseSensitive.domNode),this._register(this.caseSensitive.onChange(()=>{this._state.change({matchCase:this.caseSensitive.checked},!1)})),this.wholeWords=this._register(new k.WholeWordsToggle({appendTitle:this._keybindingLabelFor(y.FIND_IDS.ToggleWholeWordCommand),isChecked:this._state.wholeWord,hoverDelegate:n,...t})),this._domNode.appendChild(this.wholeWords.domNode),this._register(this.wholeWords.onChange(()=>{this._state.change({wholeWord:this.wholeWords.checked},!1)})),this.regex=this._register(new k.RegexToggle({appendTitle:this._keybindingLabelFor(y.FIND_IDS.ToggleRegexCommand),isChecked:this._state.isRegex,hoverDelegate:n,...t})),this._domNode.appendChild(this.regex.domNode),this._register(this.regex.onChange(()=>{this._state.change({isRegex:this.regex.checked},!1)})),this._editor.addOverlayWidget(this),this._register(this._state.onFindReplaceStateChange(h=>{let v=!1;h.isRegex&&(this.regex.checked=this._state.isRegex,v=!0),h.wholeWord&&(this.wholeWords.checked=this._state.wholeWord,v=!0),h.matchCase&&(this.caseSensitive.checked=this._state.matchCase,v=!0),!this._state.isRevealed&&v&&this._revealTemporarily()})),this._register(m.addDisposableListener(this._domNode,m.EventType.MOUSE_LEAVE,h=>this._onMouseLeave())),this._register(m.addDisposableListener(this._domNode,"mouseover",h=>this._onMouseOver()))}_keybindingLabelFor(a){const s=this._keybindingService.lookupKeybinding(a);return s?` (${s.getLabel()})`:""}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return C.ID}getDomNode(){return this._domNode}getPosition(){return{preference:0}}highlightFindOptions(){this._revealTemporarily()}_revealTemporarily(){this._show(),this._hideSoon.schedule()}_onMouseLeave(){this._hideSoon.schedule()}_onMouseOver(){this._hideSoon.cancel()}_show(){this._isVisible||(this._isVisible=!0,this._domNode.style.display="block")}_hide(){this._isVisible&&(this._isVisible=!1,this._domNode.style.display="none")}}e.FindOptionsWidget=C,C.ID="editor.contrib.findOptionsWidget"}),define(te[943],ie([1,0,7,2,5,210]),function(J,e,m,k,D,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FindReplaceState=void 0;function y(w,C){return w===1?!0:w===2?!1:C}class p extends k.Disposable{get searchString(){return this._searchString}get replaceString(){return this._replaceString}get isRevealed(){return this._isRevealed}get isReplaceRevealed(){return this._isReplaceRevealed}get isRegex(){return y(this._isRegexOverride,this._isRegex)}get wholeWord(){return y(this._wholeWordOverride,this._wholeWord)}get matchCase(){return y(this._matchCaseOverride,this._matchCase)}get preserveCase(){return y(this._preserveCaseOverride,this._preserveCase)}get actualIsRegex(){return this._isRegex}get actualWholeWord(){return this._wholeWord}get actualMatchCase(){return this._matchCase}get actualPreserveCase(){return this._preserveCase}get searchScope(){return this._searchScope}get matchesPosition(){return this._matchesPosition}get matchesCount(){return this._matchesCount}get currentMatch(){return this._currentMatch}constructor(){super(),this._onFindReplaceStateChange=this._register(new m.Emitter),this.onFindReplaceStateChange=this._onFindReplaceStateChange.event,this._searchString="",this._replaceString="",this._isRevealed=!1,this._isReplaceRevealed=!1,this._isRegex=!1,this._isRegexOverride=0,this._wholeWord=!1,this._wholeWordOverride=0,this._matchCase=!1,this._matchCaseOverride=0,this._preserveCase=!1,this._preserveCaseOverride=0,this._searchScope=null,this._matchesPosition=0,this._matchesCount=0,this._currentMatch=null,this._loop=!0,this._isSearching=!1,this._filters=null}changeMatchInfo(C,b,a){const s={moveCursor:!1,updateHistory:!1,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1,isSearching:!1,filters:!1};let i=!1;b===0&&(C=0),C>b&&(C=b),this._matchesPosition!==C&&(this._matchesPosition=C,s.matchesPosition=!0,i=!0),this._matchesCount!==b&&(this._matchesCount=b,s.matchesCount=!0,i=!0),typeof a<"u"&&(D.Range.equalsRange(this._currentMatch,a)||(this._currentMatch=a,s.currentMatch=!0,i=!0)),i&&this._onFindReplaceStateChange.fire(s)}change(C,b,a=!0){var s;const i={moveCursor:b,updateHistory:a,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1,isSearching:!1,filters:!1};let t=!1;const n=this.isRegex,h=this.wholeWord,v=this.matchCase,u=this.preserveCase;typeof C.searchString<"u"&&this._searchString!==C.searchString&&(this._searchString=C.searchString,i.searchString=!0,t=!0),typeof C.replaceString<"u"&&this._replaceString!==C.replaceString&&(this._replaceString=C.replaceString,i.replaceString=!0,t=!0),typeof C.isRevealed<"u"&&this._isRevealed!==C.isRevealed&&(this._isRevealed=C.isRevealed,i.isRevealed=!0,t=!0),typeof C.isReplaceRevealed<"u"&&this._isReplaceRevealed!==C.isReplaceRevealed&&(this._isReplaceRevealed=C.isReplaceRevealed,i.isReplaceRevealed=!0,t=!0),typeof C.isRegex<"u"&&(this._isRegex=C.isRegex),typeof C.wholeWord<"u"&&(this._wholeWord=C.wholeWord),typeof C.matchCase<"u"&&(this._matchCase=C.matchCase),typeof C.preserveCase<"u"&&(this._preserveCase=C.preserveCase),typeof C.searchScope<"u"&&(!((s=C.searchScope)===null||s===void 0)&&s.every(d=>{var r;return(r=this._searchScope)===null||r===void 0?void 0:r.some(l=>!D.Range.equalsRange(l,d))})||(this._searchScope=C.searchScope,i.searchScope=!0,t=!0)),typeof C.loop<"u"&&this._loop!==C.loop&&(this._loop=C.loop,i.loop=!0,t=!0),typeof C.isSearching<"u"&&this._isSearching!==C.isSearching&&(this._isSearching=C.isSearching,i.isSearching=!0,t=!0),typeof C.filters<"u"&&(this._filters?this._filters.update(C.filters):this._filters=C.filters,i.filters=!0,t=!0),this._isRegexOverride=typeof C.isRegexOverride<"u"?C.isRegexOverride:0,this._wholeWordOverride=typeof C.wholeWordOverride<"u"?C.wholeWordOverride:0,this._matchCaseOverride=typeof C.matchCaseOverride<"u"?C.matchCaseOverride:0,this._preserveCaseOverride=typeof C.preserveCaseOverride<"u"?C.preserveCaseOverride:0,n!==this.isRegex&&(t=!0,i.isRegex=!0),h!==this.wholeWord&&(t=!0,i.wholeWord=!0),v!==this.matchCase&&(t=!0,i.matchCase=!0),u!==this.preserveCase&&(t=!0,i.preserveCase=!0),t&&this._onFindReplaceStateChange.fire(i)}canNavigateBack(){return this.canNavigateInLoop()||this.matchesPosition!==1}canNavigateForward(){return this.canNavigateInLoop()||this.matchesPosition<this.matchesCount}canNavigateInLoop(){return this._loop||this.matchesCount>=L.MATCHES_LIMIT}}e.FindReplaceState=p}),define(te[944],ie([1,0,6,45,166,165,78,15,26,12,2,17,11,5,210,702,376,799,31,85,23,30,93,21,106,80,44,481]),function(J,e,m,k,D,L,y,p,w,C,b,a,s,i,t,n,h,v,u,d,r,l,o,g,c,f,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SimpleButton=e.FindWidget=e.FindWidgetViewZone=e.NLS_NO_RESULTS=e.NLS_MATCHES_LOCATION=e.findNextMatchIcon=e.findPreviousMatchIcon=e.findReplaceAllIcon=e.findReplaceIcon=void 0;const S=(0,d.registerIcon)("find-selection",w.Codicon.selection,n.localize(0,null)),I=(0,d.registerIcon)("find-collapsed",w.Codicon.chevronRight,n.localize(1,null)),E=(0,d.registerIcon)("find-expanded",w.Codicon.chevronDown,n.localize(2,null));e.findReplaceIcon=(0,d.registerIcon)("find-replace",w.Codicon.replace,n.localize(3,null)),e.findReplaceAllIcon=(0,d.registerIcon)("find-replace-all",w.Codicon.replaceAll,n.localize(4,null)),e.findPreviousMatchIcon=(0,d.registerIcon)("find-previous-match",w.Codicon.arrowUp,n.localize(5,null)),e.findNextMatchIcon=(0,d.registerIcon)("find-next-match",w.Codicon.arrowDown,n.localize(6,null));const T=n.localize(7,null),N=n.localize(8,null),A=n.localize(9,null),O=n.localize(10,null),M=n.localize(11,null),P=n.localize(12,null),x=n.localize(13,null),R=n.localize(14,null),B=n.localize(15,null),H=n.localize(16,null),V=n.localize(17,null),q=n.localize(18,null),K=n.localize(19,null,t.MATCHES_LIMIT);e.NLS_MATCHES_LOCATION=n.localize(20,null),e.NLS_NO_RESULTS=n.localize(21,null);const U=419,se=275-54;let F=69;const X=33,Q="ctrlEnterReplaceAll.windows.donotask",Z=a.isMacintosh?256:2048;class ae{constructor(ee){this.afterLineNumber=ee,this.heightInPx=X,this.suppressMouseDown=!1,this.domNode=document.createElement("div"),this.domNode.className="dock-find-viewzone"}}e.FindWidgetViewZone=ae;function ue(de,ee,W){const z=!!ee.match(/\n/);if(W&&z&&W.selectionStart>0){de.stopPropagation();return}}function ge(de,ee,W){const z=!!ee.match(/\n/);if(W&&z&&W.selectionEnd<W.value.length){de.stopPropagation();return}}class fe extends y.Widget{constructor(ee,W,z,Y,j,G,oe,ne,ce){super(),this._cachedHeight=null,this._revealTimeouts=[],this._codeEditor=ee,this._controller=W,this._state=z,this._contextViewProvider=Y,this._keybindingService=j,this._contextKeyService=G,this._storageService=ne,this._notificationService=ce,this._ctrlEnterReplaceAllWarningPrompted=!!ne.getBoolean(Q,0),this._isVisible=!1,this._isReplaceVisible=!1,this._ignoreChangeEvent=!1,this._updateHistoryDelayer=new p.Delayer(500),this._register((0,b.toDisposable)(()=>this._updateHistoryDelayer.cancel())),this._register(this._state.onFindReplaceStateChange(le=>this._onStateChanged(le))),this._buildDomNode(),this._updateButtons(),this._tryUpdateWidgetWidth(),this._findInput.inputBox.layout(),this._register(this._codeEditor.onDidChangeConfiguration(le=>{if(le.hasChanged(91)&&(this._codeEditor.getOption(91)&&this._state.change({isReplaceRevealed:!1},!1),this._updateButtons()),le.hasChanged(145)&&this._tryUpdateWidgetWidth(),le.hasChanged(2)&&this.updateAccessibilitySupport(),le.hasChanged(41)){const me=this._codeEditor.getOption(41).loop;this._state.change({loop:me},!1);const ve=this._codeEditor.getOption(41).addExtraSpaceOnTop;ve&&!this._viewZone&&(this._viewZone=new ae(0),this._showViewZone()),!ve&&this._viewZone&&this._removeViewZone()}})),this.updateAccessibilitySupport(),this._register(this._codeEditor.onDidChangeCursorSelection(()=>{this._isVisible&&this._updateToggleSelectionFindButton()})),this._register(this._codeEditor.onDidFocusEditorWidget(async()=>{if(this._isVisible){const le=await this._controller.getGlobalBufferTerm();le&&le!==this._state.searchString&&(this._state.change({searchString:le},!1),this._findInput.select())}})),this._findInputFocused=t.CONTEXT_FIND_INPUT_FOCUSED.bindTo(G),this._findFocusTracker=this._register(m.trackFocus(this._findInput.inputBox.inputElement)),this._register(this._findFocusTracker.onDidFocus(()=>{this._findInputFocused.set(!0),this._updateSearchScope()})),this._register(this._findFocusTracker.onDidBlur(()=>{this._findInputFocused.set(!1)})),this._replaceInputFocused=t.CONTEXT_REPLACE_INPUT_FOCUSED.bindTo(G),this._replaceFocusTracker=this._register(m.trackFocus(this._replaceInput.inputBox.inputElement)),this._register(this._replaceFocusTracker.onDidFocus(()=>{this._replaceInputFocused.set(!0),this._updateSearchScope()})),this._register(this._replaceFocusTracker.onDidBlur(()=>{this._replaceInputFocused.set(!1)})),this._codeEditor.addOverlayWidget(this),this._codeEditor.getOption(41).addExtraSpaceOnTop&&(this._viewZone=new ae(0)),this._register(this._codeEditor.onDidChangeModel(()=>{this._isVisible&&(this._viewZoneId=void 0)})),this._register(this._codeEditor.onDidScrollChange(le=>{if(le.scrollTopChanged){this._layoutViewZone();return}setTimeout(()=>{this._layoutViewZone()},0)}))}getId(){return fe.ID}getDomNode(){return this._domNode}getPosition(){return this._isVisible?{preference:0}:null}_onStateChanged(ee){if(ee.searchString){try{this._ignoreChangeEvent=!0,this._findInput.setValue(this._state.searchString)}finally{this._ignoreChangeEvent=!1}this._updateButtons()}if(ee.replaceString&&(this._replaceInput.inputBox.value=this._state.replaceString),ee.isRevealed&&(this._state.isRevealed?this._reveal():this._hide(!0)),ee.isReplaceRevealed&&(this._state.isReplaceRevealed?!this._codeEditor.getOption(91)&&!this._isReplaceVisible&&(this._isReplaceVisible=!0,this._replaceInput.width=m.getTotalWidth(this._findInput.domNode),this._updateButtons(),this._replaceInput.inputBox.layout()):this._isReplaceVisible&&(this._isReplaceVisible=!1,this._updateButtons())),(ee.isRevealed||ee.isReplaceRevealed)&&(this._state.isRevealed||this._state.isReplaceRevealed)&&this._tryUpdateHeight()&&this._showViewZone(),ee.isRegex&&this._findInput.setRegex(this._state.isRegex),ee.wholeWord&&this._findInput.setWholeWords(this._state.wholeWord),ee.matchCase&&this._findInput.setCaseSensitive(this._state.matchCase),ee.preserveCase&&this._replaceInput.setPreserveCase(this._state.preserveCase),ee.searchScope&&(this._state.searchScope?this._toggleSelectionFind.checked=!0:this._toggleSelectionFind.checked=!1,this._updateToggleSelectionFindButton()),ee.searchString||ee.matchesCount||ee.matchesPosition){const W=this._state.searchString.length>0&&this._state.matchesCount===0;this._domNode.classList.toggle("no-results",W),this._updateMatchesCount(),this._updateButtons()}(ee.searchString||ee.currentMatch)&&this._layoutViewZone(),ee.updateHistory&&this._delayedUpdateHistory(),ee.loop&&this._updateButtons()}_delayedUpdateHistory(){this._updateHistoryDelayer.trigger(this._updateHistory.bind(this)).then(void 0,C.onUnexpectedError)}_updateHistory(){this._state.searchString&&this._findInput.inputBox.addToHistory(),this._state.replaceString&&this._replaceInput.inputBox.addToHistory()}_updateMatchesCount(){this._matchesCount.style.minWidth=F+"px",this._state.matchesCount>=t.MATCHES_LIMIT?this._matchesCount.title=K:this._matchesCount.title="",this._matchesCount.firstChild&&this._matchesCount.removeChild(this._matchesCount.firstChild);let ee;if(this._state.matchesCount>0){let W=String(this._state.matchesCount);this._state.matchesCount>=t.MATCHES_LIMIT&&(W+="+");let z=String(this._state.matchesPosition);z==="0"&&(z="?"),ee=s.format(e.NLS_MATCHES_LOCATION,z,W)}else ee=e.NLS_NO_RESULTS;this._matchesCount.appendChild(document.createTextNode(ee)),(0,k.alert)(this._getAriaLabel(ee,this._state.currentMatch,this._state.searchString)),F=Math.max(F,this._matchesCount.clientWidth)}_getAriaLabel(ee,W,z){if(ee===e.NLS_NO_RESULTS)return z===""?n.localize(22,null,ee):n.localize(23,null,ee,z);if(W){const Y=n.localize(24,null,ee,z,W.startLineNumber+":"+W.startColumn),j=this._codeEditor.getModel();return j&&W.startLineNumber<=j.getLineCount()&&W.startLineNumber>=1?`${j.getLineContent(W.startLineNumber)}, ${Y}`:Y}return n.localize(25,null,ee,z)}_updateToggleSelectionFindButton(){const ee=this._codeEditor.getSelection(),W=ee?ee.startLineNumber!==ee.endLineNumber||ee.startColumn!==ee.endColumn:!1,z=this._toggleSelectionFind.checked;this._isVisible&&(z||W)?this._toggleSelectionFind.enable():this._toggleSelectionFind.disable()}_updateButtons(){this._findInput.setEnabled(this._isVisible),this._replaceInput.setEnabled(this._isVisible&&this._isReplaceVisible),this._updateToggleSelectionFindButton(),this._closeBtn.setEnabled(this._isVisible);const ee=this._state.searchString.length>0,W=!!this._state.matchesCount;this._prevBtn.setEnabled(this._isVisible&&ee&&W&&this._state.canNavigateBack()),this._nextBtn.setEnabled(this._isVisible&&ee&&W&&this._state.canNavigateForward()),this._replaceBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&ee),this._replaceAllBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&ee),this._domNode.classList.toggle("replaceToggled",this._isReplaceVisible),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible);const z=!this._codeEditor.getOption(91);this._toggleReplaceBtn.setEnabled(this._isVisible&&z)}_reveal(){if(this._revealTimeouts.forEach(ee=>{clearTimeout(ee)}),this._revealTimeouts=[],!this._isVisible){this._isVisible=!0;const ee=this._codeEditor.getSelection();switch(this._codeEditor.getOption(41).autoFindInSelection){case"always":this._toggleSelectionFind.checked=!0;break;case"never":this._toggleSelectionFind.checked=!1;break;case"multiline":{const z=!!ee&&ee.startLineNumber!==ee.endLineNumber;this._toggleSelectionFind.checked=z;break}default:break}this._tryUpdateWidgetWidth(),this._updateButtons(),this._revealTimeouts.push(setTimeout(()=>{this._domNode.classList.add("visible"),this._domNode.setAttribute("aria-hidden","false")},0)),this._revealTimeouts.push(setTimeout(()=>{this._findInput.validate()},200)),this._codeEditor.layoutOverlayWidget(this);let W=!0;if(this._codeEditor.getOption(41).seedSearchStringFromSelection&&ee){const z=this._codeEditor.getDomNode();if(z){const Y=m.getDomNodePagePosition(z),j=this._codeEditor.getScrolledVisiblePosition(ee.getStartPosition()),G=Y.left+(j?j.left:0),oe=j?j.top:0;if(this._viewZone&&oe<this._viewZone.heightInPx){ee.endLineNumber>ee.startLineNumber&&(W=!1);const ne=m.getTopLeftOffset(this._domNode).left;G>ne&&(W=!1);const ce=this._codeEditor.getScrolledVisiblePosition(ee.getEndPosition());Y.left+(ce?ce.left:0)>ne&&(W=!1)}}}this._showViewZone(W)}}_hide(ee){this._revealTimeouts.forEach(W=>{clearTimeout(W)}),this._revealTimeouts=[],this._isVisible&&(this._isVisible=!1,this._updateButtons(),this._domNode.classList.remove("visible"),this._domNode.setAttribute("aria-hidden","true"),this._findInput.clearMessage(),ee&&this._codeEditor.focus(),this._codeEditor.layoutOverlayWidget(this),this._removeViewZone())}_layoutViewZone(ee){if(!this._codeEditor.getOption(41).addExtraSpaceOnTop){this._removeViewZone();return}if(!this._isVisible)return;const z=this._viewZone;this._viewZoneId!==void 0||!z||this._codeEditor.changeViewZones(Y=>{z.heightInPx=this._getHeight(),this._viewZoneId=Y.addZone(z),this._codeEditor.setScrollTop(ee||this._codeEditor.getScrollTop()+z.heightInPx)})}_showViewZone(ee=!0){if(!this._isVisible||!this._codeEditor.getOption(41).addExtraSpaceOnTop)return;this._viewZone===void 0&&(this._viewZone=new ae(0));const z=this._viewZone;this._codeEditor.changeViewZones(Y=>{if(this._viewZoneId!==void 0){const j=this._getHeight();if(j===z.heightInPx)return;const G=j-z.heightInPx;z.heightInPx=j,Y.layoutZone(this._viewZoneId),ee&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+G);return}else{let j=this._getHeight();if(j-=this._codeEditor.getOption(84).top,j<=0)return;z.heightInPx=j,this._viewZoneId=Y.addZone(z),ee&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+j)}})}_removeViewZone(){this._codeEditor.changeViewZones(ee=>{this._viewZoneId!==void 0&&(ee.removeZone(this._viewZoneId),this._viewZoneId=void 0,this._viewZone&&(this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()-this._viewZone.heightInPx),this._viewZone=void 0))})}_tryUpdateWidgetWidth(){if(!this._isVisible||!this._domNode.isConnected)return;const ee=this._codeEditor.getLayoutInfo();if(ee.contentWidth<=0){this._domNode.classList.add("hiddenEditor");return}else this._domNode.classList.contains("hiddenEditor")&&this._domNode.classList.remove("hiddenEditor");const z=ee.width,Y=ee.minimap.minimapWidth;let j=!1,G=!1,oe=!1;if(this._resized&&m.getTotalWidth(this._domNode)>U){this._domNode.style.maxWidth=`${z-28-Y-15}px`,this._replaceInput.width=m.getTotalWidth(this._findInput.domNode);return}if(U+28+Y>=z&&(G=!0),U+28+Y-F>=z&&(oe=!0),U+28+Y-F>=z+50&&(j=!0),this._domNode.classList.toggle("collapsed-find-widget",j),this._domNode.classList.toggle("narrow-find-widget",oe),this._domNode.classList.toggle("reduced-find-widget",G),!oe&&!j&&(this._domNode.style.maxWidth=`${z-28-Y-15}px`),this._findInput.layout({collapsedFindWidget:j,narrowFindWidget:oe,reducedFindWidget:G}),this._resized){const ne=this._findInput.inputBox.element.clientWidth;ne>0&&(this._replaceInput.width=ne)}else this._isReplaceVisible&&(this._replaceInput.width=m.getTotalWidth(this._findInput.domNode))}_getHeight(){let ee=0;return ee+=4,ee+=this._findInput.inputBox.height+2,this._isReplaceVisible&&(ee+=4,ee+=this._replaceInput.inputBox.height+2),ee+=4,ee}_tryUpdateHeight(){const ee=this._getHeight();return this._cachedHeight!==null&&this._cachedHeight===ee?!1:(this._cachedHeight=ee,this._domNode.style.height=`${ee}px`,!0)}focusFindInput(){this._findInput.select(),this._findInput.focus()}focusReplaceInput(){this._replaceInput.select(),this._replaceInput.focus()}highlightFindOptions(){this._findInput.highlightFindOptions()}_updateSearchScope(){if(this._codeEditor.hasModel()&&this._toggleSelectionFind.checked){const ee=this._codeEditor.getSelections();ee.map(W=>{W.endColumn===1&&W.endLineNumber>W.startLineNumber&&(W=W.setEndPosition(W.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(W.endLineNumber-1)));const z=this._state.currentMatch;return W.startLineNumber!==W.endLineNumber&&!i.Range.equalsRange(W,z)?W:null}).filter(W=>!!W),ee.length&&this._state.change({searchScope:ee},!0)}}_onFindInputMouseDown(ee){ee.middleButton&&ee.stopPropagation()}_onFindInputKeyDown(ee){if(ee.equals(Z|3))if(this._keybindingService.dispatchEvent(ee,ee.target)){ee.preventDefault();return}else{this._findInput.inputBox.insertAtCursor(`
`),ee.preventDefault();return}if(ee.equals(2)){this._isReplaceVisible?this._replaceInput.focus():this._findInput.focusOnCaseSensitive(),ee.preventDefault();return}if(ee.equals(2066)){this._codeEditor.focus(),ee.preventDefault();return}if(ee.equals(16))return ue(ee,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea"));if(ee.equals(18))return ge(ee,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea"))}_onReplaceInputKeyDown(ee){if(ee.equals(Z|3))if(this._keybindingService.dispatchEvent(ee,ee.target)){ee.preventDefault();return}else{a.isWindows&&a.isNative&&!this._ctrlEnterReplaceAllWarningPrompted&&(this._notificationService.info(n.localize(26,null)),this._ctrlEnterReplaceAllWarningPrompted=!0,this._storageService.store(Q,!0,0,0)),this._replaceInput.inputBox.insertAtCursor(`
`),ee.preventDefault();return}if(ee.equals(2)){this._findInput.focusOnCaseSensitive(),ee.preventDefault();return}if(ee.equals(1026)){this._findInput.focus(),ee.preventDefault();return}if(ee.equals(2066)){this._codeEditor.focus(),ee.preventDefault();return}if(ee.equals(16))return ue(ee,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea"));if(ee.equals(18))return ge(ee,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea"))}getVerticalSashLeft(ee){return 0}_keybindingLabelFor(ee){const W=this._keybindingService.lookupKeybinding(ee);return W?` (${W.getLabel()})`:""}_buildDomNode(){this._findInput=this._register(new h.ContextScopedFindInput(null,this._contextViewProvider,{width:se,label:N,placeholder:A,appendCaseSensitiveLabel:this._keybindingLabelFor(t.FIND_IDS.ToggleCaseSensitiveCommand),appendWholeWordsLabel:this._keybindingLabelFor(t.FIND_IDS.ToggleWholeWordCommand),appendRegexLabel:this._keybindingLabelFor(t.FIND_IDS.ToggleRegexCommand),validation:le=>{if(le.length===0||!this._findInput.getRegex())return null;try{return new RegExp(le,"gu"),null}catch(me){return{content:me.message}}},flexibleHeight:!0,flexibleWidth:!0,flexibleMaxHeight:118,showCommonFindToggles:!0,showHistoryHint:()=>(0,v.showHistoryKeybindingHint)(this._keybindingService),inputBoxStyles:c.defaultInputBoxStyles,toggleStyles:c.defaultToggleStyles},this._contextKeyService)),this._findInput.setRegex(!!this._state.isRegex),this._findInput.setCaseSensitive(!!this._state.matchCase),this._findInput.setWholeWords(!!this._state.wholeWord),this._register(this._findInput.onKeyDown(le=>this._onFindInputKeyDown(le))),this._register(this._findInput.inputBox.onDidChange(()=>{this._ignoreChangeEvent||this._state.change({searchString:this._findInput.getValue()},!0)})),this._register(this._findInput.onDidOptionChange(()=>{this._state.change({isRegex:this._findInput.getRegex(),wholeWord:this._findInput.getWholeWords(),matchCase:this._findInput.getCaseSensitive()},!0)})),this._register(this._findInput.onCaseSensitiveKeyDown(le=>{le.equals(1026)&&this._isReplaceVisible&&(this._replaceInput.focus(),le.preventDefault())})),this._register(this._findInput.onRegexKeyDown(le=>{le.equals(2)&&this._isReplaceVisible&&(this._replaceInput.focusOnPreserve(),le.preventDefault())})),this._register(this._findInput.inputBox.onDidHeightChange(le=>{this._tryUpdateHeight()&&this._showViewZone()})),a.isLinux&&this._register(this._findInput.onMouseDown(le=>this._onFindInputMouseDown(le))),this._matchesCount=document.createElement("div"),this._matchesCount.className="matchesCount",this._updateMatchesCount();const z=this._register((0,_.createInstantHoverDelegate)());this._prevBtn=this._register(new re({label:O+this._keybindingLabelFor(t.FIND_IDS.PreviousMatchFindAction),icon:e.findPreviousMatchIcon,hoverDelegate:z,onTrigger:()=>{(0,g.assertIsDefined)(this._codeEditor.getAction(t.FIND_IDS.PreviousMatchFindAction)).run().then(void 0,C.onUnexpectedError)}})),this._nextBtn=this._register(new re({label:M+this._keybindingLabelFor(t.FIND_IDS.NextMatchFindAction),icon:e.findNextMatchIcon,hoverDelegate:z,onTrigger:()=>{(0,g.assertIsDefined)(this._codeEditor.getAction(t.FIND_IDS.NextMatchFindAction)).run().then(void 0,C.onUnexpectedError)}}));const Y=document.createElement("div");Y.className="find-part",Y.appendChild(this._findInput.domNode);const j=document.createElement("div");j.className="find-actions",Y.appendChild(j),j.appendChild(this._matchesCount),j.appendChild(this._prevBtn.domNode),j.appendChild(this._nextBtn.domNode),this._toggleSelectionFind=this._register(new D.Toggle({icon:S,title:P+this._keybindingLabelFor(t.FIND_IDS.ToggleSearchScopeCommand),isChecked:!1,hoverDelegate:z,inputActiveOptionBackground:(0,u.asCssVariable)(u.inputActiveOptionBackground),inputActiveOptionBorder:(0,u.asCssVariable)(u.inputActiveOptionBorder),inputActiveOptionForeground:(0,u.asCssVariable)(u.inputActiveOptionForeground)})),this._register(this._toggleSelectionFind.onChange(()=>{if(this._toggleSelectionFind.checked){if(this._codeEditor.hasModel()){let le=this._codeEditor.getSelections();le=le.map(me=>(me.endColumn===1&&me.endLineNumber>me.startLineNumber&&(me=me.setEndPosition(me.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(me.endLineNumber-1))),me.isEmpty()?null:me)).filter(me=>!!me),le.length&&this._state.change({searchScope:le},!0)}}else this._state.change({searchScope:null},!0)})),j.appendChild(this._toggleSelectionFind.domNode),this._closeBtn=this._register(new re({label:x+this._keybindingLabelFor(t.FIND_IDS.CloseFindWidgetCommand),icon:d.widgetClose,hoverDelegate:z,onTrigger:()=>{this._state.change({isRevealed:!1,searchScope:null},!1)},onKeyDown:le=>{le.equals(2)&&this._isReplaceVisible&&(this._replaceBtn.isEnabled()?this._replaceBtn.focus():this._codeEditor.focus(),le.preventDefault())}})),this._replaceInput=this._register(new h.ContextScopedReplaceInput(null,void 0,{label:R,placeholder:B,appendPreserveCaseLabel:this._keybindingLabelFor(t.FIND_IDS.TogglePreserveCaseCommand),history:[],flexibleHeight:!0,flexibleWidth:!0,flexibleMaxHeight:118,showHistoryHint:()=>(0,v.showHistoryKeybindingHint)(this._keybindingService),inputBoxStyles:c.defaultInputBoxStyles,toggleStyles:c.defaultToggleStyles},this._contextKeyService,!0)),this._replaceInput.setPreserveCase(!!this._state.preserveCase),this._register(this._replaceInput.onKeyDown(le=>this._onReplaceInputKeyDown(le))),this._register(this._replaceInput.inputBox.onDidChange(()=>{this._state.change({replaceString:this._replaceInput.inputBox.value},!1)})),this._register(this._replaceInput.inputBox.onDidHeightChange(le=>{this._isReplaceVisible&&this._tryUpdateHeight()&&this._showViewZone()})),this._register(this._replaceInput.onDidOptionChange(()=>{this._state.change({preserveCase:this._replaceInput.getPreserveCase()},!0)})),this._register(this._replaceInput.onPreserveCaseKeyDown(le=>{le.equals(2)&&(this._prevBtn.isEnabled()?this._prevBtn.focus():this._nextBtn.isEnabled()?this._nextBtn.focus():this._toggleSelectionFind.enabled?this._toggleSelectionFind.focus():this._closeBtn.isEnabled()&&this._closeBtn.focus(),le.preventDefault())}));const G=this._register((0,_.createInstantHoverDelegate)());this._replaceBtn=this._register(new re({label:H+this._keybindingLabelFor(t.FIND_IDS.ReplaceOneAction),icon:e.findReplaceIcon,hoverDelegate:G,onTrigger:()=>{this._controller.replace()},onKeyDown:le=>{le.equals(1026)&&(this._closeBtn.focus(),le.preventDefault())}})),this._replaceAllBtn=this._register(new re({label:V+this._keybindingLabelFor(t.FIND_IDS.ReplaceAllAction),icon:e.findReplaceAllIcon,hoverDelegate:G,onTrigger:()=>{this._controller.replaceAll()}}));const oe=document.createElement("div");oe.className="replace-part",oe.appendChild(this._replaceInput.domNode);const ne=document.createElement("div");ne.className="replace-actions",oe.appendChild(ne),ne.appendChild(this._replaceBtn.domNode),ne.appendChild(this._replaceAllBtn.domNode),this._toggleReplaceBtn=this._register(new re({label:q,className:"codicon toggle left",onTrigger:()=>{this._state.change({isReplaceRevealed:!this._isReplaceVisible},!1),this._isReplaceVisible&&(this._replaceInput.width=m.getTotalWidth(this._findInput.domNode),this._replaceInput.inputBox.layout()),this._showViewZone()}})),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible),this._domNode=document.createElement("div"),this._domNode.className="editor-widget find-widget",this._domNode.setAttribute("aria-hidden","true"),this._domNode.ariaLabel=T,this._domNode.role="dialog",this._domNode.style.width=`${U}px`,this._domNode.appendChild(this._toggleReplaceBtn.domNode),this._domNode.appendChild(Y),this._domNode.appendChild(this._closeBtn.domNode),this._domNode.appendChild(oe),this._resizeSash=this._register(new L.Sash(this._domNode,this,{orientation:0,size:2})),this._resized=!1;let ce=U;this._register(this._resizeSash.onDidStart(()=>{ce=m.getTotalWidth(this._domNode)})),this._register(this._resizeSash.onDidChange(le=>{this._resized=!0;const me=ce+le.startX-le.currentX;if(me<U)return;const ve=parseFloat(m.getComputedStyle(this._domNode).maxWidth)||0;me>ve||(this._domNode.style.width=`${me}px`,this._isReplaceVisible&&(this._replaceInput.width=m.getTotalWidth(this._findInput.domNode)),this._findInput.inputBox.layout(),this._tryUpdateHeight())})),this._register(this._resizeSash.onDidReset(()=>{const le=m.getTotalWidth(this._domNode);if(le<U)return;let me=U;if(!this._resized||le===U){const ve=this._codeEditor.getLayoutInfo();me=ve.width-28-ve.minimap.minimapWidth-15,this._resized=!0}this._domNode.style.width=`${me}px`,this._isReplaceVisible&&(this._replaceInput.width=m.getTotalWidth(this._findInput.domNode)),this._findInput.inputBox.layout()}))}updateAccessibilitySupport(){const ee=this._codeEditor.getOption(2);this._findInput.setFocusInputOnOptionClick(ee!==2)}}e.FindWidget=fe,fe.ID="editor.contrib.findWidget";class re extends y.Widget{constructor(ee){var W;super(),this._opts=ee;let z="button";this._opts.className&&(z=z+" "+this._opts.className),this._opts.icon&&(z=z+" "+l.ThemeIcon.asClassName(this._opts.icon)),this._domNode=document.createElement("div"),this._domNode.tabIndex=0,this._domNode.className=z,this._domNode.setAttribute("role","button"),this._domNode.setAttribute("aria-label",this._opts.label),this._register((0,f.setupCustomHover)((W=ee.hoverDelegate)!==null&&W!==void 0?W:(0,_.getDefaultHoverDelegate)("element"),this._domNode,this._opts.label)),this.onclick(this._domNode,Y=>{this._opts.onTrigger(),Y.preventDefault()}),this.onkeydown(this._domNode,Y=>{var j,G;if(Y.equals(10)||Y.equals(3)){this._opts.onTrigger(),Y.preventDefault();return}(G=(j=this._opts).onKeyDown)===null||G===void 0||G.call(j,Y)})}get domNode(){return this._domNode}isEnabled(){return this._domNode.tabIndex>=0}focus(){this._domNode.focus()}setEnabled(ee){this._domNode.classList.toggle("disabled",!ee),this._domNode.setAttribute("aria-disabled",String(!ee)),this._domNode.tabIndex=ee?0:-1}setExpanded(ee){this._domNode.setAttribute("aria-expanded",String(!!ee)),ee?(this._domNode.classList.remove(...l.ThemeIcon.asClassNameArray(I)),this._domNode.classList.add(...l.ThemeIcon.asClassNameArray(E))):(this._domNode.classList.remove(...l.ThemeIcon.asClassNameArray(E)),this._domNode.classList.add(...l.ThemeIcon.asClassNameArray(I)))}}e.SimpleButton=re,(0,r.registerThemingParticipant)((de,ee)=>{const W=de.getColor(u.editorFindMatchHighlightBorder);W&&ee.addRule(`.monaco-editor .findMatch { border: 1px ${(0,o.isHighContrast)(de.type)?"dotted":"solid"} ${W}; box-sizing: border-box; }`);const z=de.getColor(u.editorFindRangeHighlightBorder);z&&ee.addRule(`.monaco-editor .findScope { border: 1px ${(0,o.isHighContrast)(de.type)?"dashed":"solid"} ${z}; }`);const Y=de.getColor(u.contrastBorder);Y&&ee.addRule(`.monaco-editor .find-widget { border: 1px solid ${Y}; }`)})}),define(te[398],ie([1,0,15,2,11,16,86,19,43,210,942,943,944,701,28,112,14,58,35,51,75,97,23]),function(J,e,m,k,D,L,y,p,w,C,b,a,s,i,t,n,h,v,u,d,r,l,o){"use strict";var g;Object.defineProperty(e,"__esModule",{value:!0}),e.StartFindReplaceAction=e.PreviousSelectionMatchFindAction=e.NextSelectionMatchFindAction=e.SelectionMatchFindAction=e.MoveToMatchFindAction=e.PreviousMatchFindAction=e.NextMatchFindAction=e.MatchFindAction=e.StartFindWithSelectionAction=e.StartFindWithArgsAction=e.StartFindAction=e.FindController=e.CommonFindController=void 0,e.getSelectionSearchString=f;const c=524288;function f(H,V="single",q=!1){if(!H.hasModel())return null;const K=H.getSelection();if(V==="single"&&K.startLineNumber===K.endLineNumber||V==="multiple"){if(K.isEmpty()){const U=H.getConfiguredWordAtPosition(K.getStartPosition());if(U&&q===!1)return U.word}else if(H.getModel().getValueLengthInRange(K)<c)return H.getModel().getValueInRange(K)}return null}let _=g=class extends k.Disposable{get editor(){return this._editor}static get(V){return V.getContribution(g.ID)}constructor(V,q,K,U,$){super(),this._editor=V,this._findWidgetVisible=C.CONTEXT_FIND_WIDGET_VISIBLE.bindTo(q),this._contextKeyService=q,this._storageService=K,this._clipboardService=U,this._notificationService=$,this._updateHistoryDelayer=new m.Delayer(500),this._state=this._register(new a.FindReplaceState),this.loadQueryState(),this._register(this._state.onFindReplaceStateChange(se=>this._onStateChanged(se))),this._model=null,this._register(this._editor.onDidChangeModel(()=>{const se=this._editor.getModel()&&this._state.isRevealed;this.disposeModel(),this._state.change({searchScope:null,matchCase:this._storageService.getBoolean("editor.matchCase",1,!1),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,!1),isRegex:this._storageService.getBoolean("editor.isRegex",1,!1),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,!1)},!1),se&&this._start({forceRevealReplace:!1,seedSearchStringFromSelection:"none",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!1,updateSearchScope:!1,loop:this._editor.getOption(41).loop})}))}dispose(){this.disposeModel(),super.dispose()}disposeModel(){this._model&&(this._model.dispose(),this._model=null)}_onStateChanged(V){this.saveQueryState(V),V.isRevealed&&(this._state.isRevealed?this._findWidgetVisible.set(!0):(this._findWidgetVisible.reset(),this.disposeModel())),V.searchString&&this.setGlobalBufferTerm(this._state.searchString)}saveQueryState(V){V.isRegex&&this._storageService.store("editor.isRegex",this._state.actualIsRegex,1,1),V.wholeWord&&this._storageService.store("editor.wholeWord",this._state.actualWholeWord,1,1),V.matchCase&&this._storageService.store("editor.matchCase",this._state.actualMatchCase,1,1),V.preserveCase&&this._storageService.store("editor.preserveCase",this._state.actualPreserveCase,1,1)}loadQueryState(){this._state.change({matchCase:this._storageService.getBoolean("editor.matchCase",1,this._state.matchCase),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,this._state.wholeWord),isRegex:this._storageService.getBoolean("editor.isRegex",1,this._state.isRegex),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,this._state.preserveCase)},!1)}isFindInputFocused(){return!!C.CONTEXT_FIND_INPUT_FOCUSED.getValue(this._contextKeyService)}getState(){return this._state}closeFindWidget(){this._state.change({isRevealed:!1,searchScope:null},!1),this._editor.focus()}toggleCaseSensitive(){this._state.change({matchCase:!this._state.matchCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleWholeWords(){this._state.change({wholeWord:!this._state.wholeWord},!1),this._state.isRevealed||this.highlightFindOptions()}toggleRegex(){this._state.change({isRegex:!this._state.isRegex},!1),this._state.isRevealed||this.highlightFindOptions()}togglePreserveCase(){this._state.change({preserveCase:!this._state.preserveCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleSearchScope(){if(this._state.searchScope)this._state.change({searchScope:null},!0);else if(this._editor.hasModel()){let V=this._editor.getSelections();V=V.map(q=>(q.endColumn===1&&q.endLineNumber>q.startLineNumber&&(q=q.setEndPosition(q.endLineNumber-1,this._editor.getModel().getLineMaxColumn(q.endLineNumber-1))),q.isEmpty()?null:q)).filter(q=>!!q),V.length&&this._state.change({searchScope:V},!0)}}setSearchString(V){this._state.isRegex&&(V=D.escapeRegExpCharacters(V)),this._state.change({searchString:V},!1)}highlightFindOptions(V=!1){}async _start(V,q){if(this.disposeModel(),!this._editor.hasModel())return;const K={...q,isRevealed:!0};if(V.seedSearchStringFromSelection==="single"){const U=f(this._editor,V.seedSearchStringFromSelection,V.seedSearchStringFromNonEmptySelection);U&&(this._state.isRegex?K.searchString=D.escapeRegExpCharacters(U):K.searchString=U)}else if(V.seedSearchStringFromSelection==="multiple"&&!V.updateSearchScope){const U=f(this._editor,V.seedSearchStringFromSelection);U&&(K.searchString=U)}if(!K.searchString&&V.seedSearchStringFromGlobalClipboard){const U=await this.getGlobalBufferTerm();if(!this._editor.hasModel())return;U&&(K.searchString=U)}if(V.forceRevealReplace||K.isReplaceRevealed?K.isReplaceRevealed=!0:this._findWidgetVisible.get()||(K.isReplaceRevealed=!1),V.updateSearchScope){const U=this._editor.getSelections();U.some($=>!$.isEmpty())&&(K.searchScope=U)}K.loop=V.loop,this._state.change(K,!1),this._model||(this._model=new C.FindModelBoundToEditorModel(this._editor,this._state))}start(V,q){return this._start(V,q)}moveToNextMatch(){return this._model?(this._model.moveToNextMatch(),!0):!1}moveToPrevMatch(){return this._model?(this._model.moveToPrevMatch(),!0):!1}goToMatch(V){return this._model?(this._model.moveToMatch(V),!0):!1}replace(){return this._model?(this._model.replace(),!0):!1}replaceAll(){var V;return this._model?!((V=this._editor.getModel())===null||V===void 0)&&V.isTooLargeForHeapOperation()?(this._notificationService.warn(i.localize(0,null)),!1):(this._model.replaceAll(),!0):!1}selectAllMatches(){return this._model?(this._model.selectAllMatches(),this._editor.focus(),!0):!1}async getGlobalBufferTerm(){return this._editor.getOption(41).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()?this._clipboardService.readFindText():""}setGlobalBufferTerm(V){this._editor.getOption(41).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()&&this._clipboardService.writeFindText(V)}};e.CommonFindController=_,_.ID="editor.contrib.findController",e.CommonFindController=_=g=Ie([he(1,h.IContextKeyService),he(2,l.IStorageService),he(3,n.IClipboardService),he(4,d.INotificationService)],_);let S=class extends _{constructor(V,q,K,U,$,se,F,X){super(V,K,F,X,se),this._contextViewService=q,this._keybindingService=U,this._themeService=$,this._widget=null,this._findOptionsWidget=null}async _start(V,q){this._widget||this._createFindWidget();const K=this._editor.getSelection();let U=!1;switch(this._editor.getOption(41).autoFindInSelection){case"always":U=!0;break;case"never":U=!1;break;case"multiline":{U=!!K&&K.startLineNumber!==K.endLineNumber;break}default:break}V.updateSearchScope=V.updateSearchScope||U,await super._start(V,q),this._widget&&(V.shouldFocus===2?this._widget.focusReplaceInput():V.shouldFocus===1&&this._widget.focusFindInput())}highlightFindOptions(V=!1){this._widget||this._createFindWidget(),this._state.isRevealed&&!V?this._widget.highlightFindOptions():this._findOptionsWidget.highlightFindOptions()}_createFindWidget(){this._widget=this._register(new s.FindWidget(this._editor,this,this._state,this._contextViewService,this._keybindingService,this._contextKeyService,this._themeService,this._storageService,this._notificationService)),this._findOptionsWidget=this._register(new b.FindOptionsWidget(this._editor,this._state,this._keybindingService))}};e.FindController=S,e.FindController=S=Ie([he(1,v.IContextViewService),he(2,h.IContextKeyService),he(3,u.IKeybindingService),he(4,o.IThemeService),he(5,d.INotificationService),he(6,l.IStorageService),he(7,n.IClipboardService)],S),e.StartFindAction=(0,L.registerMultiEditorAction)(new L.MultiEditorAction({id:C.FIND_IDS.StartFindAction,label:i.localize(1,null),alias:"Find",precondition:h.ContextKeyExpr.or(p.EditorContextKeys.focus,h.ContextKeyExpr.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2084,weight:100},menuOpts:{menuId:t.MenuId.MenubarEditMenu,group:"3_find",title:i.localize(2,null),order:1}})),e.StartFindAction.addImplementation(0,(H,V,q)=>{const K=_.get(V);return K?K.start({forceRevealReplace:!1,seedSearchStringFromSelection:V.getOption(41).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:V.getOption(41).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:V.getOption(41).globalFindClipboard,shouldFocus:1,shouldAnimate:!0,updateSearchScope:!1,loop:V.getOption(41).loop}):!1});const I={description:"Open a new In-Editor Find Widget.",args:[{name:"Open a new In-Editor Find Widget args",schema:{properties:{searchString:{type:"string"},replaceString:{type:"string"},isRegex:{type:"boolean"},matchWholeWord:{type:"boolean"},isCaseSensitive:{type:"boolean"},preserveCase:{type:"boolean"},findInSelection:{type:"boolean"}}}}]};class E extends L.EditorAction{constructor(){super({id:C.FIND_IDS.StartFindWithArgs,label:i.localize(3,null),alias:"Find With Arguments",precondition:void 0,kbOpts:{kbExpr:null,primary:0,weight:100},metadata:I})}async run(V,q,K){const U=_.get(q);if(U){const $=K?{searchString:K.searchString,replaceString:K.replaceString,isReplaceRevealed:K.replaceString!==void 0,isRegex:K.isRegex,wholeWord:K.matchWholeWord,matchCase:K.isCaseSensitive,preserveCase:K.preserveCase}:{};await U.start({forceRevealReplace:!1,seedSearchStringFromSelection:U.getState().searchString.length===0&&q.getOption(41).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:q.getOption(41).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:!0,shouldFocus:1,shouldAnimate:!0,updateSearchScope:K?.findInSelection||!1,loop:q.getOption(41).loop},$),U.setGlobalBufferTerm(U.getState().searchString)}}}e.StartFindWithArgsAction=E;class T extends L.EditorAction{constructor(){super({id:C.FIND_IDS.StartFindWithSelection,label:i.localize(4,null),alias:"Find With Selection",precondition:void 0,kbOpts:{kbExpr:null,primary:0,mac:{primary:2083},weight:100}})}async run(V,q){const K=_.get(q);K&&(await K.start({forceRevealReplace:!1,seedSearchStringFromSelection:"multiple",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:q.getOption(41).loop}),K.setGlobalBufferTerm(K.getState().searchString))}}e.StartFindWithSelectionAction=T;class N extends L.EditorAction{async run(V,q){const K=_.get(q);K&&!this._run(K)&&(await K.start({forceRevealReplace:!1,seedSearchStringFromSelection:K.getState().searchString.length===0&&q.getOption(41).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:q.getOption(41).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:!0,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:q.getOption(41).loop}),this._run(K))}}e.MatchFindAction=N;class A extends N{constructor(){super({id:C.FIND_IDS.NextMatchFindAction,label:i.localize(5,null),alias:"Find Next",precondition:void 0,kbOpts:[{kbExpr:p.EditorContextKeys.focus,primary:61,mac:{primary:2085,secondary:[61]},weight:100},{kbExpr:h.ContextKeyExpr.and(p.EditorContextKeys.focus,C.CONTEXT_FIND_INPUT_FOCUSED),primary:3,weight:100}]})}_run(V){return V.moveToNextMatch()?(V.editor.pushUndoStop(),!0):!1}}e.NextMatchFindAction=A;class O extends N{constructor(){super({id:C.FIND_IDS.PreviousMatchFindAction,label:i.localize(6,null),alias:"Find Previous",precondition:void 0,kbOpts:[{kbExpr:p.EditorContextKeys.focus,primary:1085,mac:{primary:3109,secondary:[1085]},weight:100},{kbExpr:h.ContextKeyExpr.and(p.EditorContextKeys.focus,C.CONTEXT_FIND_INPUT_FOCUSED),primary:1027,weight:100}]})}_run(V){return V.moveToPrevMatch()}}e.PreviousMatchFindAction=O;class M extends L.EditorAction{constructor(){super({id:C.FIND_IDS.GoToMatchFindAction,label:i.localize(7,null),alias:"Go to Match...",precondition:C.CONTEXT_FIND_WIDGET_VISIBLE}),this._highlightDecorations=[]}run(V,q,K){const U=_.get(q);if(!U)return;const $=U.getState().matchesCount;if($<1){V.get(d.INotificationService).notify({severity:d.Severity.Warning,message:i.localize(8,null)});return}const F=V.get(r.IQuickInputService).createInputBox();F.placeholder=i.localize(9,null,$);const X=Z=>{const ae=parseInt(Z);if(isNaN(ae))return;const ue=U.getState().matchesCount;if(ae>0&&ae<=ue)return ae-1;if(ae<0&&ae>=-ue)return ue+ae},Q=Z=>{const ae=X(Z);if(typeof ae=="number"){F.validationMessage=void 0,U.goToMatch(ae);const ue=U.getState().currentMatch;ue&&this.addDecorations(q,ue)}else F.validationMessage=i.localize(10,null,U.getState().matchesCount),this.clearDecorations(q)};F.onDidChangeValue(Z=>{Q(Z)}),F.onDidAccept(()=>{const Z=X(F.value);typeof Z=="number"?(U.goToMatch(Z),F.hide()):F.validationMessage=i.localize(11,null,U.getState().matchesCount)}),F.onDidHide(()=>{this.clearDecorations(q),F.dispose()}),F.show()}clearDecorations(V){V.changeDecorations(q=>{this._highlightDecorations=q.deltaDecorations(this._highlightDecorations,[])})}addDecorations(V,q){V.changeDecorations(K=>{this._highlightDecorations=K.deltaDecorations(this._highlightDecorations,[{range:q,options:{description:"find-match-quick-access-range-highlight",className:"rangeHighlight",isWholeLine:!0}},{range:q,options:{description:"find-match-quick-access-range-highlight-overview",overviewRuler:{color:(0,o.themeColorFromId)(y.overviewRulerRangeHighlight),position:w.OverviewRulerLane.Full}}}])})}}e.MoveToMatchFindAction=M;class P extends L.EditorAction{async run(V,q){const K=_.get(q);if(!K)return;const U=f(q,"single",!1);U&&K.setSearchString(U),this._run(K)||(await K.start({forceRevealReplace:!1,seedSearchStringFromSelection:"none",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:q.getOption(41).loop}),this._run(K))}}e.SelectionMatchFindAction=P;class x extends P{constructor(){super({id:C.FIND_IDS.NextSelectionMatchFindAction,label:i.localize(12,null),alias:"Find Next Selection",precondition:void 0,kbOpts:{kbExpr:p.EditorContextKeys.focus,primary:2109,weight:100}})}_run(V){return V.moveToNextMatch()}}e.NextSelectionMatchFindAction=x;class R extends P{constructor(){super({id:C.FIND_IDS.PreviousSelectionMatchFindAction,label:i.localize(13,null),alias:"Find Previous Selection",precondition:void 0,kbOpts:{kbExpr:p.EditorContextKeys.focus,primary:3133,weight:100}})}_run(V){return V.moveToPrevMatch()}}e.PreviousSelectionMatchFindAction=R,e.StartFindReplaceAction=(0,L.registerMultiEditorAction)(new L.MultiEditorAction({id:C.FIND_IDS.StartFindReplaceAction,label:i.localize(14,null),alias:"Replace",precondition:h.ContextKeyExpr.or(p.EditorContextKeys.focus,h.ContextKeyExpr.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2086,mac:{primary:2596},weight:100},menuOpts:{menuId:t.MenuId.MenubarEditMenu,group:"3_find",title:i.localize(15,null),order:2}})),e.StartFindReplaceAction.addImplementation(0,(H,V,q)=>{if(!V.hasModel()||V.getOption(91))return!1;const K=_.get(V);if(!K)return!1;const U=V.getSelection(),$=K.isFindInputFocused(),se=!U.isEmpty()&&U.startLineNumber===U.endLineNumber&&V.getOption(41).seedSearchStringFromSelection!=="never"&&!$,F=$||se?2:1;return K.start({forceRevealReplace:!0,seedSearchStringFromSelection:se?"single":"none",seedSearchStringFromNonEmptySelection:V.getOption(41).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:V.getOption(41).seedSearchStringFromSelection!=="never",shouldFocus:F,shouldAnimate:!0,updateSearchScope:!1,loop:V.getOption(41).loop})}),(0,L.registerEditorContribution)(_.ID,S,0),(0,L.registerEditorAction)(E),(0,L.registerEditorAction)(T),(0,L.registerEditorAction)(A),(0,L.registerEditorAction)(O),(0,L.registerEditorAction)(M),(0,L.registerEditorAction)(x),(0,L.registerEditorAction)(R);const B=L.EditorCommand.bindToContribution(_.get);(0,L.registerEditorCommand)(new B({id:C.FIND_IDS.CloseFindWidgetCommand,precondition:C.CONTEXT_FIND_WIDGET_VISIBLE,handler:H=>H.closeFindWidget(),kbOpts:{weight:105,kbExpr:h.ContextKeyExpr.and(p.EditorContextKeys.focus,h.ContextKeyExpr.not("isComposing")),primary:9,secondary:[1033]}})),(0,L.registerEditorCommand)(new B({id:C.FIND_IDS.ToggleCaseSensitiveCommand,precondition:void 0,handler:H=>H.toggleCaseSensitive(),kbOpts:{weight:105,kbExpr:p.EditorContextKeys.focus,primary:C.ToggleCaseSensitiveKeybinding.primary,mac:C.ToggleCaseSensitiveKeybinding.mac,win:C.ToggleCaseSensitiveKeybinding.win,linux:C.ToggleCaseSensitiveKeybinding.linux}})),(0,L.registerEditorCommand)(new B({id:C.FIND_IDS.ToggleWholeWordCommand,precondition:void 0,handler:H=>H.toggleWholeWords(),kbOpts:{weight:105,kbExpr:p.EditorContextKeys.focus,primary:C.ToggleWholeWordKeybinding.primary,mac:C.ToggleWholeWordKeybinding.mac,win:C.ToggleWholeWordKeybinding.win,linux:C.ToggleWholeWordKeybinding.linux}})),(0,L.registerEditorCommand)(new B({id:C.FIND_IDS.ToggleRegexCommand,precondition:void 0,handler:H=>H.toggleRegex(),kbOpts:{weight:105,kbExpr:p.EditorContextKeys.focus,primary:C.ToggleRegexKeybinding.primary,mac:C.ToggleRegexKeybinding.mac,win:C.ToggleRegexKeybinding.win,linux:C.ToggleRegexKeybinding.linux}})),(0,L.registerEditorCommand)(new B({id:C.FIND_IDS.ToggleSearchScopeCommand,precondition:void 0,handler:H=>H.toggleSearchScope(),kbOpts:{weight:105,kbExpr:p.EditorContextKeys.focus,primary:C.ToggleSearchScopeKeybinding.primary,mac:C.ToggleSearchScopeKeybinding.mac,win:C.ToggleSearchScopeKeybinding.win,linux:C.ToggleSearchScopeKeybinding.linux}})),(0,L.registerEditorCommand)(new B({id:C.FIND_IDS.TogglePreserveCaseCommand,precondition:void 0,handler:H=>H.togglePreserveCase(),kbOpts:{weight:105,kbExpr:p.EditorContextKeys.focus,primary:C.TogglePreserveCaseKeybinding.primary,mac:C.TogglePreserveCaseKeybinding.mac,win:C.TogglePreserveCaseKeybinding.win,linux:C.TogglePreserveCaseKeybinding.linux}})),(0,L.registerEditorCommand)(new B({id:C.FIND_IDS.ReplaceOneAction,precondition:C.CONTEXT_FIND_WIDGET_VISIBLE,handler:H=>H.replace(),kbOpts:{weight:105,kbExpr:p.EditorContextKeys.focus,primary:3094}})),(0,L.registerEditorCommand)(new B({id:C.FIND_IDS.ReplaceOneAction,precondition:C.CONTEXT_FIND_WIDGET_VISIBLE,handler:H=>H.replace(),kbOpts:{weight:105,kbExpr:h.ContextKeyExpr.and(p.EditorContextKeys.focus,C.CONTEXT_REPLACE_INPUT_FOCUSED),primary:3}})),(0,L.registerEditorCommand)(new B({id:C.FIND_IDS.ReplaceAllAction,precondition:C.CONTEXT_FIND_WIDGET_VISIBLE,handler:H=>H.replaceAll(),kbOpts:{weight:105,kbExpr:p.EditorContextKeys.focus,primary:2563}})),(0,L.registerEditorCommand)(new B({id:C.FIND_IDS.ReplaceAllAction,precondition:C.CONTEXT_FIND_WIDGET_VISIBLE,handler:H=>H.replaceAll(),kbOpts:{weight:105,kbExpr:h.ContextKeyExpr.and(p.EditorContextKeys.focus,C.CONTEXT_REPLACE_INPUT_FOCUSED),primary:void 0,mac:{primary:2051}}})),(0,L.registerEditorCommand)(new B({id:C.FIND_IDS.SelectAllMatchesAction,precondition:C.CONTEXT_FIND_WIDGET_VISIBLE,handler:H=>H.selectAllMatches(),kbOpts:{weight:105,kbExpr:p.EditorContextKeys.focus,primary:515}}))}),define(te[399],ie([1,0,26,37,704,31,85,23,30]),function(J,e,m,k,D,L,y,p,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FoldingDecorationProvider=e.foldingManualExpandedIcon=e.foldingManualCollapsedIcon=e.foldingCollapsedIcon=e.foldingExpandedIcon=void 0;const C=(0,L.registerColor)("editor.foldBackground",{light:(0,L.transparent)(L.editorSelectionBackground,.3),dark:(0,L.transparent)(L.editorSelectionBackground,.3),hcDark:null,hcLight:null},(0,D.localize)(0,null),!0);(0,L.registerColor)("editorGutter.foldingControlForeground",{dark:L.iconForeground,light:L.iconForeground,hcDark:L.iconForeground,hcLight:L.iconForeground},(0,D.localize)(1,null)),e.foldingExpandedIcon=(0,y.registerIcon)("folding-expanded",m.Codicon.chevronDown,(0,D.localize)(2,null)),e.foldingCollapsedIcon=(0,y.registerIcon)("folding-collapsed",m.Codicon.chevronRight,(0,D.localize)(3,null)),e.foldingManualCollapsedIcon=(0,y.registerIcon)("folding-manual-collapsed",e.foldingCollapsedIcon,(0,D.localize)(4,null)),e.foldingManualExpandedIcon=(0,y.registerIcon)("folding-manual-expanded",e.foldingExpandedIcon,(0,D.localize)(5,null));const b={color:(0,p.themeColorFromId)(C),position:1},a=(0,D.localize)(6,null),s=(0,D.localize)(7,null);class i{constructor(n){this.editor=n,this.showFoldingControls="mouseover",this.showFoldingHighlights=!0}getDecorationOption(n,h,v){return h?i.HIDDEN_RANGE_DECORATION:this.showFoldingControls==="never"?n?this.showFoldingHighlights?i.NO_CONTROLS_COLLAPSED_HIGHLIGHTED_RANGE_DECORATION:i.NO_CONTROLS_COLLAPSED_RANGE_DECORATION:i.NO_CONTROLS_EXPANDED_RANGE_DECORATION:n?v?this.showFoldingHighlights?i.MANUALLY_COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION:i.MANUALLY_COLLAPSED_VISUAL_DECORATION:this.showFoldingHighlights?i.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION:i.COLLAPSED_VISUAL_DECORATION:this.showFoldingControls==="mouseover"?v?i.MANUALLY_EXPANDED_AUTO_HIDE_VISUAL_DECORATION:i.EXPANDED_AUTO_HIDE_VISUAL_DECORATION:v?i.MANUALLY_EXPANDED_VISUAL_DECORATION:i.EXPANDED_VISUAL_DECORATION}changeDecorations(n){return this.editor.changeDecorations(n)}removeDecorations(n){this.editor.removeDecorations(n)}}e.FoldingDecorationProvider=i,i.COLLAPSED_VISUAL_DECORATION=k.ModelDecorationOptions.register({description:"folding-collapsed-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",isWholeLine:!0,linesDecorationsTooltip:a,firstLineDecorationClassName:w.ThemeIcon.asClassName(e.foldingCollapsedIcon)}),i.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION=k.ModelDecorationOptions.register({description:"folding-collapsed-highlighted-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",className:"folded-background",minimap:b,isWholeLine:!0,linesDecorationsTooltip:a,firstLineDecorationClassName:w.ThemeIcon.asClassName(e.foldingCollapsedIcon)}),i.MANUALLY_COLLAPSED_VISUAL_DECORATION=k.ModelDecorationOptions.register({description:"folding-manually-collapsed-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",isWholeLine:!0,linesDecorationsTooltip:a,firstLineDecorationClassName:w.ThemeIcon.asClassName(e.foldingManualCollapsedIcon)}),i.MANUALLY_COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION=k.ModelDecorationOptions.register({description:"folding-manually-collapsed-highlighted-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",className:"folded-background",minimap:b,isWholeLine:!0,linesDecorationsTooltip:a,firstLineDecorationClassName:w.ThemeIcon.asClassName(e.foldingManualCollapsedIcon)}),i.NO_CONTROLS_COLLAPSED_RANGE_DECORATION=k.ModelDecorationOptions.register({description:"folding-no-controls-range-decoration",stickiness:0,afterContentClassName:"inline-folded",isWholeLine:!0,linesDecorationsTooltip:a}),i.NO_CONTROLS_COLLAPSED_HIGHLIGHTED_RANGE_DECORATION=k.ModelDecorationOptions.register({description:"folding-no-controls-range-decoration",stickiness:0,afterContentClassName:"inline-folded",className:"folded-background",minimap:b,isWholeLine:!0,linesDecorationsTooltip:a}),i.EXPANDED_VISUAL_DECORATION=k.ModelDecorationOptions.register({description:"folding-expanded-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:"alwaysShowFoldIcons "+w.ThemeIcon.asClassName(e.foldingExpandedIcon),linesDecorationsTooltip:s}),i.EXPANDED_AUTO_HIDE_VISUAL_DECORATION=k.ModelDecorationOptions.register({description:"folding-expanded-auto-hide-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:w.ThemeIcon.asClassName(e.foldingExpandedIcon),linesDecorationsTooltip:s}),i.MANUALLY_EXPANDED_VISUAL_DECORATION=k.ModelDecorationOptions.register({description:"folding-manually-expanded-visual-decoration",stickiness:0,isWholeLine:!0,firstLineDecorationClassName:"alwaysShowFoldIcons "+w.ThemeIcon.asClassName(e.foldingManualExpandedIcon),linesDecorationsTooltip:s}),i.MANUALLY_EXPANDED_AUTO_HIDE_VISUAL_DECORATION=k.ModelDecorationOptions.register({description:"folding-manually-expanded-auto-hide-visual-decoration",stickiness:0,isWholeLine:!0,firstLineDecorationClassName:w.ThemeIcon.asClassName(e.foldingManualExpandedIcon),linesDecorationsTooltip:s}),i.NO_CONTROLS_EXPANDED_RANGE_DECORATION=k.ModelDecorationOptions.register({description:"folding-no-controls-range-decoration",stickiness:0,isWholeLine:!0}),i.HIDDEN_RANGE_DECORATION=k.ModelDecorationOptions.register({description:"folding-hidden-range-decoration",stickiness:1})}),define(te[277],ie([1,0,15,20,12,68,2,11,21,137,16,19,29,33,320,584,321,703,14,399,194,322,51,83,63,18,7,27,22,53,25,482]),function(J,e,m,k,D,L,y,p,w,C,b,a,s,i,t,n,h,v,u,d,r,l,o,g,c,f,_,S,I,E,T){"use strict";var N;Object.defineProperty(e,"__esModule",{value:!0}),e.RangesLimitReporter=e.FoldingController=void 0;const A=new u.RawContextKey("foldingEnabled",!1);let O=N=class extends y.Disposable{static get(ee){return ee.getContribution(N.ID)}static getFoldingRangeProviders(ee,W){var z,Y;const j=ee.foldingRangeProvider.ordered(W);return(Y=(z=N._foldingRangeSelector)===null||z===void 0?void 0:z.call(N,j,W))!==null&&Y!==void 0?Y:j}constructor(ee,W,z,Y,j,G){super(),this.contextKeyService=W,this.languageConfigurationService=z,this.languageFeaturesService=G,this.localToDispose=this._register(new y.DisposableStore),this.editor=ee,this._foldingLimitReporter=new M(ee);const oe=this.editor.getOptions();this._isEnabled=oe.get(43),this._useFoldingProviders=oe.get(44)!=="indentation",this._unfoldOnClickAfterEndOfLine=oe.get(48),this._restoringViewState=!1,this._currentModelHasFoldedImports=!1,this._foldingImportsByDefault=oe.get(46),this.updateDebounceInfo=j.for(G.foldingRangeProvider,"Folding",{min:200}),this.foldingModel=null,this.hiddenRangeModel=null,this.rangeProvider=null,this.foldingRegionPromise=null,this.foldingModelPromise=null,this.updateScheduler=null,this.cursorChangedScheduler=null,this.mouseDownInfo=null,this.foldingDecorationProvider=new d.FoldingDecorationProvider(ee),this.foldingDecorationProvider.showFoldingControls=oe.get(110),this.foldingDecorationProvider.showFoldingHighlights=oe.get(45),this.foldingEnabled=A.bindTo(this.contextKeyService),this.foldingEnabled.set(this._isEnabled),this._register(this.editor.onDidChangeModel(()=>this.onModelChanged())),this._register(this.editor.onDidChangeConfiguration(ne=>{if(ne.hasChanged(43)&&(this._isEnabled=this.editor.getOptions().get(43),this.foldingEnabled.set(this._isEnabled),this.onModelChanged()),ne.hasChanged(47)&&this.onModelChanged(),ne.hasChanged(110)||ne.hasChanged(45)){const ce=this.editor.getOptions();this.foldingDecorationProvider.showFoldingControls=ce.get(110),this.foldingDecorationProvider.showFoldingHighlights=ce.get(45),this.triggerFoldingModelChanged()}ne.hasChanged(44)&&(this._useFoldingProviders=this.editor.getOptions().get(44)!=="indentation",this.onFoldingStrategyChanged()),ne.hasChanged(48)&&(this._unfoldOnClickAfterEndOfLine=this.editor.getOptions().get(48)),ne.hasChanged(46)&&(this._foldingImportsByDefault=this.editor.getOptions().get(46))})),this.onModelChanged()}saveViewState(){const ee=this.editor.getModel();if(!ee||!this._isEnabled||ee.isTooLargeForTokenization())return{};if(this.foldingModel){const W=this.foldingModel.getMemento(),z=this.rangeProvider?this.rangeProvider.id:void 0;return{collapsedRegions:W,lineCount:ee.getLineCount(),provider:z,foldedImports:this._currentModelHasFoldedImports}}}restoreViewState(ee){const W=this.editor.getModel();if(!(!W||!this._isEnabled||W.isTooLargeForTokenization()||!this.hiddenRangeModel)&&ee&&(this._currentModelHasFoldedImports=!!ee.foldedImports,ee.collapsedRegions&&ee.collapsedRegions.length>0&&this.foldingModel)){this._restoringViewState=!0;try{this.foldingModel.applyMemento(ee.collapsedRegions)}finally{this._restoringViewState=!1}}}onModelChanged(){this.localToDispose.clear();const ee=this.editor.getModel();!this._isEnabled||!ee||ee.isTooLargeForTokenization()||(this._currentModelHasFoldedImports=!1,this.foldingModel=new t.FoldingModel(ee,this.foldingDecorationProvider),this.localToDispose.add(this.foldingModel),this.hiddenRangeModel=new n.HiddenRangeModel(this.foldingModel),this.localToDispose.add(this.hiddenRangeModel),this.localToDispose.add(this.hiddenRangeModel.onDidChange(W=>this.onHiddenRangesChanges(W))),this.updateScheduler=new m.Delayer(this.updateDebounceInfo.get(ee)),this.cursorChangedScheduler=new m.RunOnceScheduler(()=>this.revealCursor(),200),this.localToDispose.add(this.cursorChangedScheduler),this.localToDispose.add(this.languageFeaturesService.foldingRangeProvider.onDidChange(()=>this.onFoldingStrategyChanged())),this.localToDispose.add(this.editor.onDidChangeModelLanguageConfiguration(()=>this.onFoldingStrategyChanged())),this.localToDispose.add(this.editor.onDidChangeModelContent(W=>this.onDidChangeModelContent(W))),this.localToDispose.add(this.editor.onDidChangeCursorPosition(()=>this.onCursorPositionChanged())),this.localToDispose.add(this.editor.onMouseDown(W=>this.onEditorMouseDown(W))),this.localToDispose.add(this.editor.onMouseUp(W=>this.onEditorMouseUp(W))),this.localToDispose.add({dispose:()=>{var W,z;this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),(W=this.updateScheduler)===null||W===void 0||W.cancel(),this.updateScheduler=null,this.foldingModel=null,this.foldingModelPromise=null,this.hiddenRangeModel=null,this.cursorChangedScheduler=null,(z=this.rangeProvider)===null||z===void 0||z.dispose(),this.rangeProvider=null}}),this.triggerFoldingModelChanged())}onFoldingStrategyChanged(){var ee;(ee=this.rangeProvider)===null||ee===void 0||ee.dispose(),this.rangeProvider=null,this.triggerFoldingModelChanged()}getRangeProvider(ee){if(this.rangeProvider)return this.rangeProvider;const W=new h.IndentRangeProvider(ee,this.languageConfigurationService,this._foldingLimitReporter);if(this.rangeProvider=W,this._useFoldingProviders&&this.foldingModel){const z=N.getFoldingRangeProviders(this.languageFeaturesService,ee);z.length>0&&(this.rangeProvider=new l.SyntaxRangeProvider(ee,z,()=>this.triggerFoldingModelChanged(),this._foldingLimitReporter,W))}return this.rangeProvider}getFoldingModel(){return this.foldingModelPromise}onDidChangeModelContent(ee){var W;(W=this.hiddenRangeModel)===null||W===void 0||W.notifyChangeModelContent(ee),this.triggerFoldingModelChanged()}triggerFoldingModelChanged(){this.updateScheduler&&(this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),this.foldingModelPromise=this.updateScheduler.trigger(()=>{const ee=this.foldingModel;if(!ee)return null;const W=new c.StopWatch,z=this.getRangeProvider(ee.textModel),Y=this.foldingRegionPromise=(0,m.createCancelablePromise)(j=>z.compute(j));return Y.then(j=>{if(j&&Y===this.foldingRegionPromise){let G;if(this._foldingImportsByDefault&&!this._currentModelHasFoldedImports){const le=j.setCollapsedAllOfType(s.FoldingRangeKind.Imports.value,!0);le&&(G=C.StableEditorScrollState.capture(this.editor),this._currentModelHasFoldedImports=le)}const oe=this.editor.getSelections(),ne=oe?oe.map(le=>le.startLineNumber):[];ee.update(j,ne),G?.restore(this.editor);const ce=this.updateDebounceInfo.update(ee.textModel,W.elapsed());this.updateScheduler&&(this.updateScheduler.defaultDelay=ce)}return ee})}).then(void 0,ee=>((0,D.onUnexpectedError)(ee),null)))}onHiddenRangesChanges(ee){if(this.hiddenRangeModel&&ee.length&&!this._restoringViewState){const W=this.editor.getSelections();W&&this.hiddenRangeModel.adjustSelections(W)&&this.editor.setSelections(W)}this.editor.setHiddenAreas(ee,this)}onCursorPositionChanged(){this.hiddenRangeModel&&this.hiddenRangeModel.hasRanges()&&this.cursorChangedScheduler.schedule()}revealCursor(){const ee=this.getFoldingModel();ee&&ee.then(W=>{if(W){const z=this.editor.getSelections();if(z&&z.length>0){const Y=[];for(const j of z){const G=j.selectionStartLineNumber;this.hiddenRangeModel&&this.hiddenRangeModel.isHidden(G)&&Y.push(...W.getAllRegionsAtLine(G,oe=>oe.isCollapsed&&G>oe.startLineNumber))}Y.length&&(W.toggleCollapseState(Y),this.reveal(z[0].getPosition()))}}}).then(void 0,D.onUnexpectedError)}onEditorMouseDown(ee){if(this.mouseDownInfo=null,!this.hiddenRangeModel||!ee.target||!ee.target.range||!ee.event.leftButton&&!ee.event.middleButton)return;const W=ee.target.range;let z=!1;switch(ee.target.type){case 4:{const Y=ee.target.detail,j=ee.target.element.offsetLeft;if(Y.offsetX-j<4)return;z=!0;break}case 7:{if(this._unfoldOnClickAfterEndOfLine&&this.hiddenRangeModel.hasRanges()&&!ee.target.detail.isAfterLines)break;return}case 6:{if(this.hiddenRangeModel.hasRanges()){const Y=this.editor.getModel();if(Y&&W.startColumn===Y.getLineMaxColumn(W.startLineNumber))break}return}default:return}this.mouseDownInfo={lineNumber:W.startLineNumber,iconClicked:z}}onEditorMouseUp(ee){const W=this.foldingModel;if(!W||!this.mouseDownInfo||!ee.target)return;const z=this.mouseDownInfo.lineNumber,Y=this.mouseDownInfo.iconClicked,j=ee.target.range;if(!j||j.startLineNumber!==z)return;if(Y){if(ee.target.type!==4)return}else{const oe=this.editor.getModel();if(!oe||j.startColumn!==oe.getLineMaxColumn(z))return}const G=W.getRegionAtLine(z);if(G&&G.startLineNumber===z){const oe=G.isCollapsed;if(Y||oe){const ne=ee.event.altKey;let ce=[];if(ne){const le=ve=>!ve.containedBy(G)&&!G.containedBy(ve),me=W.getRegionsInside(null,le);for(const ve of me)ve.isCollapsed&&ce.push(ve);ce.length===0&&(ce=me)}else{const le=ee.event.middleButton||ee.event.shiftKey;if(le)for(const me of W.getRegionsInside(G))me.isCollapsed===oe&&ce.push(me);(oe||!le||ce.length===0)&&ce.push(G)}W.toggleCollapseState(ce),this.reveal({lineNumber:z,column:1})}}}reveal(ee){this.editor.revealPositionInCenterIfOutsideViewport(ee,0)}};e.FoldingController=O,O.ID="editor.contrib.folding",e.FoldingController=O=N=Ie([he(1,u.IContextKeyService),he(2,i.ILanguageConfigurationService),he(3,o.INotificationService),he(4,g.ILanguageFeatureDebounceService),he(5,f.ILanguageFeaturesService)],O);class M{constructor(ee){this.editor=ee,this._onDidChange=new _.Emitter,this._computed=0,this._limited=!1}get limit(){return this.editor.getOptions().get(47)}update(ee,W){(ee!==this._computed||W!==this._limited)&&(this._computed=ee,this._limited=W,this._onDidChange.fire())}}e.RangesLimitReporter=M;class P extends b.EditorAction{runEditorCommand(ee,W,z){const Y=ee.get(i.ILanguageConfigurationService),j=O.get(W);if(!j)return;const G=j.getFoldingModel();if(G)return this.reportTelemetry(ee,W),G.then(oe=>{if(oe){this.invoke(j,oe,W,z,Y);const ne=W.getSelection();ne&&j.reveal(ne.getStartPosition())}})}getSelectedLines(ee){const W=ee.getSelections();return W?W.map(z=>z.startLineNumber):[]}getLineNumbers(ee,W){return ee&&ee.selectionLines?ee.selectionLines.map(z=>z+1):this.getSelectedLines(W)}run(ee,W){}}function x(de){if(!w.isUndefined(de)){if(!w.isObject(de))return!1;const ee=de;if(!w.isUndefined(ee.levels)&&!w.isNumber(ee.levels)||!w.isUndefined(ee.direction)&&!w.isString(ee.direction)||!w.isUndefined(ee.selectionLines)&&(!Array.isArray(ee.selectionLines)||!ee.selectionLines.every(w.isNumber)))return!1}return!0}class R extends P{constructor(){super({id:"editor.unfold",label:v.localize(0,null),alias:"Unfold",precondition:A,kbOpts:{kbExpr:a.EditorContextKeys.editorTextFocus,primary:3166,mac:{primary:2654},weight:100},metadata:{description:"Unfold the content in the editor",args:[{name:"Unfold editor argument",description:`Property-value pairs that can be passed through this argument:
						* 'levels': Number of levels to unfold. If not set, defaults to 1.
						* 'direction': If 'up', unfold given number of levels up otherwise unfolds down.
						* 'selectionLines': Array of the start lines (0-based) of the editor selections to apply the unfold action to. If not set, the active selection(s) will be used.
						`,constraint:x,schema:{type:"object",properties:{levels:{type:"number",default:1},direction:{type:"string",enum:["up","down"],default:"down"},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(ee,W,z,Y){const j=Y&&Y.levels||1,G=this.getLineNumbers(Y,z);Y&&Y.direction==="up"?(0,t.setCollapseStateLevelsUp)(W,!1,j,G):(0,t.setCollapseStateLevelsDown)(W,!1,j,G)}}class B extends P{constructor(){super({id:"editor.unfoldRecursively",label:v.localize(1,null),alias:"Unfold Recursively",precondition:A,kbOpts:{kbExpr:a.EditorContextKeys.editorTextFocus,primary:(0,L.KeyChord)(2089,2142),weight:100}})}invoke(ee,W,z,Y){(0,t.setCollapseStateLevelsDown)(W,!1,Number.MAX_VALUE,this.getSelectedLines(z))}}class H extends P{constructor(){super({id:"editor.fold",label:v.localize(2,null),alias:"Fold",precondition:A,kbOpts:{kbExpr:a.EditorContextKeys.editorTextFocus,primary:3164,mac:{primary:2652},weight:100},metadata:{description:"Fold the content in the editor",args:[{name:"Fold editor argument",description:`Property-value pairs that can be passed through this argument:
							* 'levels': Number of levels to fold.
							* 'direction': If 'up', folds given number of levels up otherwise folds down.
							* 'selectionLines': Array of the start lines (0-based) of the editor selections to apply the fold action to. If not set, the active selection(s) will be used.
							If no levels or direction is set, folds the region at the locations or if already collapsed, the first uncollapsed parent instead.
						`,constraint:x,schema:{type:"object",properties:{levels:{type:"number"},direction:{type:"string",enum:["up","down"]},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(ee,W,z,Y){const j=this.getLineNumbers(Y,z),G=Y&&Y.levels,oe=Y&&Y.direction;typeof G!="number"&&typeof oe!="string"?(0,t.setCollapseStateUp)(W,!0,j):oe==="up"?(0,t.setCollapseStateLevelsUp)(W,!0,G||1,j):(0,t.setCollapseStateLevelsDown)(W,!0,G||1,j)}}class V extends P{constructor(){super({id:"editor.toggleFold",label:v.localize(3,null),alias:"Toggle Fold",precondition:A,kbOpts:{kbExpr:a.EditorContextKeys.editorTextFocus,primary:(0,L.KeyChord)(2089,2090),weight:100}})}invoke(ee,W,z){const Y=this.getSelectedLines(z);(0,t.toggleCollapseState)(W,1,Y)}}class q extends P{constructor(){super({id:"editor.foldRecursively",label:v.localize(4,null),alias:"Fold Recursively",precondition:A,kbOpts:{kbExpr:a.EditorContextKeys.editorTextFocus,primary:(0,L.KeyChord)(2089,2140),weight:100}})}invoke(ee,W,z){const Y=this.getSelectedLines(z);(0,t.setCollapseStateLevelsDown)(W,!0,Number.MAX_VALUE,Y)}}class K extends P{constructor(){super({id:"editor.foldAllBlockComments",label:v.localize(5,null),alias:"Fold All Block Comments",precondition:A,kbOpts:{kbExpr:a.EditorContextKeys.editorTextFocus,primary:(0,L.KeyChord)(2089,2138),weight:100}})}invoke(ee,W,z,Y,j){if(W.regions.hasTypes())(0,t.setCollapseStateForType)(W,s.FoldingRangeKind.Comment.value,!0);else{const G=z.getModel();if(!G)return;const oe=j.getLanguageConfiguration(G.getLanguageId()).comments;if(oe&&oe.blockCommentStartToken){const ne=new RegExp("^\\s*"+(0,p.escapeRegExpCharacters)(oe.blockCommentStartToken));(0,t.setCollapseStateForMatchingLines)(W,ne,!0)}}}}class U extends P{constructor(){super({id:"editor.foldAllMarkerRegions",label:v.localize(6,null),alias:"Fold All Regions",precondition:A,kbOpts:{kbExpr:a.EditorContextKeys.editorTextFocus,primary:(0,L.KeyChord)(2089,2077),weight:100}})}invoke(ee,W,z,Y,j){if(W.regions.hasTypes())(0,t.setCollapseStateForType)(W,s.FoldingRangeKind.Region.value,!0);else{const G=z.getModel();if(!G)return;const oe=j.getLanguageConfiguration(G.getLanguageId()).foldingRules;if(oe&&oe.markers&&oe.markers.start){const ne=new RegExp(oe.markers.start);(0,t.setCollapseStateForMatchingLines)(W,ne,!0)}}}}class $ extends P{constructor(){super({id:"editor.unfoldAllMarkerRegions",label:v.localize(7,null),alias:"Unfold All Regions",precondition:A,kbOpts:{kbExpr:a.EditorContextKeys.editorTextFocus,primary:(0,L.KeyChord)(2089,2078),weight:100}})}invoke(ee,W,z,Y,j){if(W.regions.hasTypes())(0,t.setCollapseStateForType)(W,s.FoldingRangeKind.Region.value,!1);else{const G=z.getModel();if(!G)return;const oe=j.getLanguageConfiguration(G.getLanguageId()).foldingRules;if(oe&&oe.markers&&oe.markers.start){const ne=new RegExp(oe.markers.start);(0,t.setCollapseStateForMatchingLines)(W,ne,!1)}}}}class se extends P{constructor(){super({id:"editor.foldAllExcept",label:v.localize(8,null),alias:"Fold All Except Selected",precondition:A,kbOpts:{kbExpr:a.EditorContextKeys.editorTextFocus,primary:(0,L.KeyChord)(2089,2136),weight:100}})}invoke(ee,W,z){const Y=this.getSelectedLines(z);(0,t.setCollapseStateForRest)(W,!0,Y)}}class F extends P{constructor(){super({id:"editor.unfoldAllExcept",label:v.localize(9,null),alias:"Unfold All Except Selected",precondition:A,kbOpts:{kbExpr:a.EditorContextKeys.editorTextFocus,primary:(0,L.KeyChord)(2089,2134),weight:100}})}invoke(ee,W,z){const Y=this.getSelectedLines(z);(0,t.setCollapseStateForRest)(W,!1,Y)}}class X extends P{constructor(){super({id:"editor.foldAll",label:v.localize(10,null),alias:"Fold All",precondition:A,kbOpts:{kbExpr:a.EditorContextKeys.editorTextFocus,primary:(0,L.KeyChord)(2089,2069),weight:100}})}invoke(ee,W,z){(0,t.setCollapseStateLevelsDown)(W,!0)}}class Q extends P{constructor(){super({id:"editor.unfoldAll",label:v.localize(11,null),alias:"Unfold All",precondition:A,kbOpts:{kbExpr:a.EditorContextKeys.editorTextFocus,primary:(0,L.KeyChord)(2089,2088),weight:100}})}invoke(ee,W,z){(0,t.setCollapseStateLevelsDown)(W,!1)}}class Z extends P{getFoldingLevel(){return parseInt(this.id.substr(Z.ID_PREFIX.length))}invoke(ee,W,z){(0,t.setCollapseStateAtLevel)(W,this.getFoldingLevel(),!0,this.getSelectedLines(z))}}Z.ID_PREFIX="editor.foldLevel",Z.ID=de=>Z.ID_PREFIX+de;class ae extends P{constructor(){super({id:"editor.gotoParentFold",label:v.localize(12,null),alias:"Go to Parent Fold",precondition:A,kbOpts:{kbExpr:a.EditorContextKeys.editorTextFocus,weight:100}})}invoke(ee,W,z){const Y=this.getSelectedLines(z);if(Y.length>0){const j=(0,t.getParentFoldLine)(Y[0],W);j!==null&&z.setSelection({startLineNumber:j,startColumn:1,endLineNumber:j,endColumn:1})}}}class ue extends P{constructor(){super({id:"editor.gotoPreviousFold",label:v.localize(13,null),alias:"Go to Previous Folding Range",precondition:A,kbOpts:{kbExpr:a.EditorContextKeys.editorTextFocus,weight:100}})}invoke(ee,W,z){const Y=this.getSelectedLines(z);if(Y.length>0){const j=(0,t.getPreviousFoldLine)(Y[0],W);j!==null&&z.setSelection({startLineNumber:j,startColumn:1,endLineNumber:j,endColumn:1})}}}class ge extends P{constructor(){super({id:"editor.gotoNextFold",label:v.localize(14,null),alias:"Go to Next Folding Range",precondition:A,kbOpts:{kbExpr:a.EditorContextKeys.editorTextFocus,weight:100}})}invoke(ee,W,z){const Y=this.getSelectedLines(z);if(Y.length>0){const j=(0,t.getNextFoldLine)(Y[0],W);j!==null&&z.setSelection({startLineNumber:j,startColumn:1,endLineNumber:j,endColumn:1})}}}class fe extends P{constructor(){super({id:"editor.createFoldingRangeFromSelection",label:v.localize(15,null),alias:"Create Folding Range from Selection",precondition:A,kbOpts:{kbExpr:a.EditorContextKeys.editorTextFocus,primary:(0,L.KeyChord)(2089,2135),weight:100}})}invoke(ee,W,z){var Y;const j=[],G=z.getSelections();if(G){for(const oe of G){let ne=oe.endLineNumber;oe.endColumn===1&&--ne,ne>oe.startLineNumber&&(j.push({startLineNumber:oe.startLineNumber,endLineNumber:ne,type:void 0,isCollapsed:!0,source:1}),z.setSelection({startLineNumber:oe.startLineNumber,startColumn:1,endLineNumber:oe.startLineNumber,endColumn:1}))}if(j.length>0){j.sort((ne,ce)=>ne.startLineNumber-ce.startLineNumber);const oe=r.FoldingRegions.sanitizeAndMerge(W.regions,j,(Y=z.getModel())===null||Y===void 0?void 0:Y.getLineCount());W.updatePost(r.FoldingRegions.fromFoldRanges(oe))}}}}class re extends P{constructor(){super({id:"editor.removeManualFoldingRanges",label:v.localize(16,null),alias:"Remove Manual Folding Ranges",precondition:A,kbOpts:{kbExpr:a.EditorContextKeys.editorTextFocus,primary:(0,L.KeyChord)(2089,2137),weight:100}})}invoke(ee,W,z){const Y=z.getSelections();if(Y){const j=[];for(const G of Y){const{startLineNumber:oe,endLineNumber:ne}=G;j.push(ne>=oe?{startLineNumber:oe,endLineNumber:ne}:{endLineNumber:ne,startLineNumber:oe})}W.removeManualRanges(j),ee.triggerFoldingModelChanged()}}}(0,b.registerEditorContribution)(O.ID,O,0),(0,b.registerEditorAction)(R),(0,b.registerEditorAction)(B),(0,b.registerEditorAction)(H),(0,b.registerEditorAction)(q),(0,b.registerEditorAction)(X),(0,b.registerEditorAction)(Q),(0,b.registerEditorAction)(K),(0,b.registerEditorAction)(U),(0,b.registerEditorAction)($),(0,b.registerEditorAction)(se),(0,b.registerEditorAction)(F),(0,b.registerEditorAction)(V),(0,b.registerEditorAction)(ae),(0,b.registerEditorAction)(ue),(0,b.registerEditorAction)(ge),(0,b.registerEditorAction)(fe),(0,b.registerEditorAction)(re);for(let de=1;de<=7;de++)(0,b.registerInstantiatedEditorAction)(new Z({id:Z.ID(de),label:v.localize(17,null,de),alias:`Fold Level ${de}`,precondition:A,kbOpts:{kbExpr:a.EditorContextKeys.editorTextFocus,primary:(0,L.KeyChord)(2089,2048|21+de),weight:100}}));S.CommandsRegistry.registerCommand("_executeFoldingRangeProvider",async function(de,...ee){const[W]=ee;if(!(W instanceof I.URI))throw(0,D.illegalArgument)();const z=de.get(f.ILanguageFeaturesService),Y=de.get(E.IModelService).getModel(W);if(!Y)throw(0,D.illegalArgument)();const j=de.get(T.IConfigurationService);if(!j.getValue("editor.folding",{resource:W}))return[];const G=de.get(i.ILanguageConfigurationService),oe=j.getValue("editor.foldingStrategy",{resource:W}),ne={get limit(){return j.getValue("editor.foldingMaximumRegions",{resource:W})},update:(Ce,Se)=>{}},ce=new h.IndentRangeProvider(Y,G,ne);let le=ce;if(oe!=="indentation"){const Ce=O.getFoldingRangeProviders(z,Y);Ce.length&&(le=new l.SyntaxRangeProvider(Y,Ce,()=>{},ne,ce))}const me=await le.compute(k.CancellationToken.None),ve=[];try{if(me)for(let Ce=0;Ce<me.length;Ce++){const Se=me.getType(Ce);ve.push({start:me.getStartLineNumber(Ce),end:me.getEndLineNumber(Ce),kind:Se?s.FoldingRangeKind.fromValue(Se):void 0})}return ve}finally{le.dispose()}})}),define(te[400],ie([1,0,6,243,13,2,9,5,37,29,349,95,8,35,15,19,14,644,25,74]),function(J,e,m,k,D,L,y,p,w,C,b,a,s,i,t,n,h,v,u,d){"use strict";var r,l;Object.defineProperty(e,"__esModule",{value:!0}),e.EditorHoverStatusBar=e.ContentHoverWidget=e.ContentHoverController=void 0;const o=m.$;let g=r=class extends L.Disposable{constructor(P,x,R){super(),this._editor=P,this._instantiationService=x,this._keybindingService=R,this._currentResult=null,this._widget=this._register(this._instantiationService.createInstance(T,this._editor)),this._participants=[];for(const B of a.HoverParticipantRegistry.getAll())this._participants.push(this._instantiationService.createInstance(B,this._editor));this._participants.sort((B,H)=>B.hoverOrdinal-H.hoverOrdinal),this._computer=new A(this._editor,this._participants),this._hoverOperation=this._register(new b.HoverOperation(this._editor,this._computer)),this._register(this._hoverOperation.onResult(B=>{if(!this._computer.anchor)return;const H=B.hasLoadingMessage?this._addLoadingMessage(B.value):B.value;this._withResult(new c(this._computer.anchor,H,B.isComplete))})),this._register(m.addStandardDisposableListener(this._widget.getDomNode(),"keydown",B=>{B.equals(9)&&this.hide()})),this._register(C.TokenizationRegistry.onDidChange(()=>{this._widget.position&&this._currentResult&&this._setCurrentResult(this._currentResult)}))}_startShowingOrUpdateHover(P,x,R,B,H){return!this._widget.position||!this._currentResult?P?(this._startHoverOperationIfNecessary(P,x,R,B,!1),!0):!1:this._editor.getOption(60).sticky&&H&&this._widget.isMouseGettingCloser(H.event.posx,H.event.posy)?(P&&this._startHoverOperationIfNecessary(P,x,R,B,!0),!0):P?P&&this._currentResult.anchor.equals(P)?!0:P.canAdoptVisibleHover(this._currentResult.anchor,this._widget.position)?(this._setCurrentResult(this._currentResult.filter(P)),this._startHoverOperationIfNecessary(P,x,R,B,!1),!0):(this._setCurrentResult(null),this._startHoverOperationIfNecessary(P,x,R,B,!1),!0):(this._setCurrentResult(null),!1)}_startHoverOperationIfNecessary(P,x,R,B,H){this._computer.anchor&&this._computer.anchor.equals(P)||(this._hoverOperation.cancel(),this._computer.anchor=P,this._computer.shouldFocus=B,this._computer.source=R,this._computer.insistOnKeepingHoverVisible=H,this._hoverOperation.start(x))}_setCurrentResult(P){this._currentResult!==P&&(P&&P.messages.length===0&&(P=null),this._currentResult=P,this._currentResult?this._renderMessages(this._currentResult.anchor,this._currentResult.messages):this._widget.hide())}_addLoadingMessage(P){if(this._computer.anchor){for(const x of this._participants)if(x.createLoadingMessage){const R=x.createLoadingMessage(this._computer.anchor);if(R)return P.slice(0).concat([R])}}return P}_withResult(P){this._widget.position&&this._currentResult&&this._currentResult.isComplete&&(!P.isComplete||this._computer.insistOnKeepingHoverVisible&&P.messages.length===0)||this._setCurrentResult(P)}_renderMessages(P,x){const{showAtPosition:R,showAtSecondaryPosition:B,highlightRange:H}=r.computeHoverRanges(this._editor,P.range,x),V=new L.DisposableStore,q=V.add(new N(this._keybindingService)),K=document.createDocumentFragment();let U=null;const $={fragment:K,statusBar:q,setColorPicker:F=>U=F,onContentsChanged:()=>this._widget.onContentsChanged(),setMinimumDimensions:F=>this._widget.setMinimumDimensions(F),hide:()=>this.hide()};for(const F of this._participants){const X=x.filter(Q=>Q.owner===F);X.length>0&&V.add(F.renderHoverParts($,X))}const se=x.some(F=>F.isBeforeContent);if(q.hasContent&&K.appendChild(q.hoverElement),K.hasChildNodes()){if(H){const F=this._editor.createDecorationsCollection();F.set([{range:H,options:r._DECORATION_OPTIONS}]),V.add((0,L.toDisposable)(()=>{F.clear()}))}this._widget.showAt(K,new _(P.initialMousePosX,P.initialMousePosY,U,R,B,this._editor.getOption(60).above,this._computer.shouldFocus,this._computer.source,se,V))}else V.dispose()}static computeHoverRanges(P,x,R){let B=1;if(P.hasModel()){const se=P._getViewModel(),F=se.coordinatesConverter,X=F.convertModelRangeToViewRange(x),Q=new y.Position(X.startLineNumber,se.getLineMinColumn(X.startLineNumber));B=F.convertViewPositionToModelPosition(Q).column}const H=x.startLineNumber;let V=x.startColumn,q=R[0].range,K=null;for(const se of R)q=p.Range.plusRange(q,se.range),se.range.startLineNumber===H&&se.range.endLineNumber===H&&(V=Math.max(Math.min(V,se.range.startColumn),B)),se.forceShowAtRange&&(K=se.range);const U=K?K.getStartPosition():new y.Position(H,x.startColumn),$=K?K.getStartPosition():new y.Position(H,V);return{showAtPosition:U,showAtSecondaryPosition:$,highlightRange:q}}showsOrWillShow(P){if(this._widget.isResizing)return!0;const x=[];for(const B of this._participants)if(B.suggestHoverAnchor){const H=B.suggestHoverAnchor(P);H&&x.push(H)}const R=P.target;if(R.type===6&&x.push(new a.HoverRangeAnchor(0,R.range,P.event.posx,P.event.posy)),R.type===7){const B=this._editor.getOption(50).typicalHalfwidthCharacterWidth/2;!R.detail.isAfterLines&&typeof R.detail.horizontalDistanceToText=="number"&&R.detail.horizontalDistanceToText<B&&x.push(new a.HoverRangeAnchor(0,R.range,P.event.posx,P.event.posy))}return x.length===0?this._startShowingOrUpdateHover(null,0,0,!1,P):(x.sort((B,H)=>H.priority-B.priority),this._startShowingOrUpdateHover(x[0],0,0,!1,P))}startShowingAtRange(P,x,R,B){this._startShowingOrUpdateHover(new a.HoverRangeAnchor(0,P,void 0,void 0),x,R,B,null)}containsNode(P){return P?this._widget.getDomNode().contains(P):!1}focus(){this._widget.focus()}scrollUp(){this._widget.scrollUp()}scrollDown(){this._widget.scrollDown()}scrollLeft(){this._widget.scrollLeft()}scrollRight(){this._widget.scrollRight()}pageUp(){this._widget.pageUp()}pageDown(){this._widget.pageDown()}goToTop(){this._widget.goToTop()}goToBottom(){this._widget.goToBottom()}hide(){this._computer.anchor=null,this._hoverOperation.cancel(),this._setCurrentResult(null)}get isColorPickerVisible(){return this._widget.isColorPickerVisible}get isVisibleFromKeyboard(){return this._widget.isVisibleFromKeyboard}get isVisible(){return this._widget.isVisible}get isFocused(){return this._widget.isFocused}get isResizing(){return this._widget.isResizing}get widget(){return this._widget}};e.ContentHoverController=g,g._DECORATION_OPTIONS=w.ModelDecorationOptions.register({description:"content-hover-highlight",className:"hoverHighlight"}),e.ContentHoverController=g=r=Ie([he(1,s.IInstantiationService),he(2,i.IKeybindingService)],g);class c{constructor(P,x,R){this.anchor=P,this.messages=x,this.isComplete=R}filter(P){const x=this.messages.filter(R=>R.isValidForHoverAnchor(P));return x.length===this.messages.length?this:new f(this,this.anchor,x,this.isComplete)}}class f extends c{constructor(P,x,R,B){super(x,R,B),this.original=P}filter(P){return this.original.filter(P)}}class _{constructor(P,x,R,B,H,V,q,K,U,$){this.initialMousePosX=P,this.initialMousePosY=x,this.colorPicker=R,this.showAtPosition=B,this.showAtSecondaryPosition=H,this.preferAbove=V,this.stoleFocus=q,this.source=K,this.isBeforeContent=U,this.disposables=$,this.closestMouseDistance=void 0}}const S=30,I=10,E=6;let T=l=class extends v.ResizableContentWidget{get isColorPickerVisible(){var P;return!!(!((P=this._visibleData)===null||P===void 0)&&P.colorPicker)}get isVisibleFromKeyboard(){var P;return((P=this._visibleData)===null||P===void 0?void 0:P.source)===1}get isVisible(){var P;return(P=this._hoverVisibleKey.get())!==null&&P!==void 0?P:!1}get isFocused(){var P;return(P=this._hoverFocusedKey.get())!==null&&P!==void 0?P:!1}constructor(P,x,R,B,H){const V=P.getOption(67)+8,q=150,K=new m.Dimension(q,V);super(P,K),this._configurationService=R,this._accessibilityService=B,this._keybindingService=H,this._hover=this._register(new k.HoverWidget),this._minimumSize=K,this._hoverVisibleKey=n.EditorContextKeys.hoverVisible.bindTo(x),this._hoverFocusedKey=n.EditorContextKeys.hoverFocused.bindTo(x),m.append(this._resizableNode.domNode,this._hover.containerDomNode),this._resizableNode.domNode.style.zIndex="50",this._register(this._editor.onDidLayoutChange(()=>{this.isVisible&&this._updateMaxDimensions()})),this._register(this._editor.onDidChangeConfiguration($=>{$.hasChanged(50)&&this._updateFont()}));const U=this._register(m.trackFocus(this._resizableNode.domNode));this._register(U.onDidFocus(()=>{this._hoverFocusedKey.set(!0)})),this._register(U.onDidBlur(()=>{this._hoverFocusedKey.set(!1)})),this._setHoverData(void 0),this._editor.addContentWidget(this)}dispose(){var P;super.dispose(),(P=this._visibleData)===null||P===void 0||P.disposables.dispose(),this._editor.removeContentWidget(this)}getId(){return l.ID}static _applyDimensions(P,x,R){const B=typeof x=="number"?`${x}px`:x,H=typeof R=="number"?`${R}px`:R;P.style.width=B,P.style.height=H}_setContentsDomNodeDimensions(P,x){const R=this._hover.contentsDomNode;return l._applyDimensions(R,P,x)}_setContainerDomNodeDimensions(P,x){const R=this._hover.containerDomNode;return l._applyDimensions(R,P,x)}_setHoverWidgetDimensions(P,x){this._setContentsDomNodeDimensions(P,x),this._setContainerDomNodeDimensions(P,x),this._layoutContentWidget()}static _applyMaxDimensions(P,x,R){const B=typeof x=="number"?`${x}px`:x,H=typeof R=="number"?`${R}px`:R;P.style.maxWidth=B,P.style.maxHeight=H}_setHoverWidgetMaxDimensions(P,x){l._applyMaxDimensions(this._hover.contentsDomNode,P,x),l._applyMaxDimensions(this._hover.containerDomNode,P,x),this._hover.containerDomNode.style.setProperty("--vscode-hover-maxWidth",typeof P=="number"?`${P}px`:P),this._layoutContentWidget()}_hasHorizontalScrollbar(){const P=this._hover.scrollbar.getScrollDimensions();return P.scrollWidth>P.width}_adjustContentsBottomPadding(){const P=this._hover.contentsDomNode,x=`${this._hover.scrollbar.options.horizontalScrollbarSize}px`;P.style.paddingBottom!==x&&(P.style.paddingBottom=x)}_setAdjustedHoverWidgetDimensions(P){this._setHoverWidgetMaxDimensions("none","none");const x=P.width,R=P.height;this._setHoverWidgetDimensions(x,R),this._hasHorizontalScrollbar()&&(this._adjustContentsBottomPadding(),this._setContentsDomNodeDimensions(x,R-I))}_updateResizableNodeMaxDimensions(){var P,x;const R=(P=this._findMaximumRenderingWidth())!==null&&P!==void 0?P:1/0,B=(x=this._findMaximumRenderingHeight())!==null&&x!==void 0?x:1/0;this._resizableNode.maxSize=new m.Dimension(R,B),this._setHoverWidgetMaxDimensions(R,B)}_resize(P){var x,R;l._lastDimensions=new m.Dimension(P.width,P.height),this._setAdjustedHoverWidgetDimensions(P),this._resizableNode.layout(P.height,P.width),this._updateResizableNodeMaxDimensions(),this._hover.scrollbar.scanDomNode(),this._editor.layoutContentWidget(this),(R=(x=this._visibleData)===null||x===void 0?void 0:x.colorPicker)===null||R===void 0||R.layout()}_findAvailableSpaceVertically(){var P;const x=(P=this._visibleData)===null||P===void 0?void 0:P.showAtPosition;if(x)return this._positionPreference===1?this._availableVerticalSpaceAbove(x):this._availableVerticalSpaceBelow(x)}_findMaximumRenderingHeight(){const P=this._findAvailableSpaceVertically();if(!P)return;let x=E;return Array.from(this._hover.contentsDomNode.children).forEach(R=>{x+=R.clientHeight}),this._hasHorizontalScrollbar()&&(x+=I),Math.min(P,x)}_isHoverTextOverflowing(){this._hover.containerDomNode.style.setProperty("--vscode-hover-whiteSpace","nowrap"),this._hover.containerDomNode.style.setProperty("--vscode-hover-sourceWhiteSpace","nowrap");const P=Array.from(this._hover.contentsDomNode.children).some(x=>x.scrollWidth>x.clientWidth);return this._hover.containerDomNode.style.removeProperty("--vscode-hover-whiteSpace"),this._hover.containerDomNode.style.removeProperty("--vscode-hover-sourceWhiteSpace"),P}_findMaximumRenderingWidth(){if(!this._editor||!this._editor.hasModel())return;const P=this._isHoverTextOverflowing(),x=typeof this._contentWidth>"u"?0:this._contentWidth-2;return P||this._hover.containerDomNode.clientWidth<x?m.getClientArea(this._hover.containerDomNode.ownerDocument.body).width-14:this._hover.containerDomNode.clientWidth+2}isMouseGettingCloser(P,x){if(!this._visibleData)return!1;if(typeof this._visibleData.initialMousePosX>"u"||typeof this._visibleData.initialMousePosY>"u")return this._visibleData.initialMousePosX=P,this._visibleData.initialMousePosY=x,!1;const R=m.getDomNodePagePosition(this.getDomNode());typeof this._visibleData.closestMouseDistance>"u"&&(this._visibleData.closestMouseDistance=O(this._visibleData.initialMousePosX,this._visibleData.initialMousePosY,R.left,R.top,R.width,R.height));const B=O(P,x,R.left,R.top,R.width,R.height);return B>this._visibleData.closestMouseDistance+4?!1:(this._visibleData.closestMouseDistance=Math.min(this._visibleData.closestMouseDistance,B),!0)}_setHoverData(P){var x;(x=this._visibleData)===null||x===void 0||x.disposables.dispose(),this._visibleData=P,this._hoverVisibleKey.set(!!P),this._hover.containerDomNode.classList.toggle("hidden",!P)}_updateFont(){const{fontSize:P,lineHeight:x}=this._editor.getOption(50),R=this._hover.contentsDomNode;R.style.fontSize=`${P}px`,R.style.lineHeight=`${x/P}`,Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code")).forEach(H=>this._editor.applyFontInfo(H))}_updateContent(P){const x=this._hover.contentsDomNode;x.style.paddingBottom="",x.textContent="",x.appendChild(P)}_layoutContentWidget(){this._editor.layoutContentWidget(this),this._hover.onContentsChanged()}_updateMaxDimensions(){const P=Math.max(this._editor.getLayoutInfo().height/4,250,l._lastDimensions.height),x=Math.max(this._editor.getLayoutInfo().width*.66,500,l._lastDimensions.width);this._setHoverWidgetMaxDimensions(x,P)}_render(P,x){this._setHoverData(x),this._updateFont(),this._updateContent(P),this._updateMaxDimensions(),this.onContentsChanged(),this._editor.render()}getPosition(){var P;return this._visibleData?{position:this._visibleData.showAtPosition,secondaryPosition:this._visibleData.showAtSecondaryPosition,positionAffinity:this._visibleData.isBeforeContent?3:void 0,preference:[(P=this._positionPreference)!==null&&P!==void 0?P:1]}:null}showAt(P,x){var R,B,H,V;if(!this._editor||!this._editor.hasModel())return;this._render(P,x);const q=m.getTotalHeight(this._hover.containerDomNode),K=x.showAtPosition;this._positionPreference=(R=this._findPositionPreference(q,K))!==null&&R!==void 0?R:1,this.onContentsChanged(),x.stoleFocus&&this._hover.containerDomNode.focus(),(B=x.colorPicker)===null||B===void 0||B.layout();const $=this._hover.containerDomNode.ownerDocument.activeElement===this._hover.containerDomNode&&(0,k.getHoverAccessibleViewHint)(this._configurationService.getValue("accessibility.verbosity.hover")===!0&&this._accessibilityService.isScreenReaderOptimized(),(V=(H=this._keybindingService.lookupKeybinding("editor.action.accessibleView"))===null||H===void 0?void 0:H.getAriaLabel())!==null&&V!==void 0?V:"");$&&(this._hover.contentsDomNode.ariaLabel=this._hover.contentsDomNode.textContent+", "+$)}hide(){if(!this._visibleData)return;const P=this._visibleData.stoleFocus||this._hoverFocusedKey.get();this._setHoverData(void 0),this._resizableNode.maxSize=new m.Dimension(1/0,1/0),this._resizableNode.clearSashHoverState(),this._hoverFocusedKey.set(!1),this._editor.layoutContentWidget(this),P&&this._editor.focus()}_removeConstraintsRenderNormally(){const P=this._editor.getLayoutInfo();this._resizableNode.layout(P.height,P.width),this._setHoverWidgetDimensions("auto","auto")}_adjustHoverHeightForScrollbar(P){var x;const R=this._hover.containerDomNode,B=this._hover.contentsDomNode,H=(x=this._findMaximumRenderingHeight())!==null&&x!==void 0?x:1/0;this._setContainerDomNodeDimensions(m.getTotalWidth(R),Math.min(H,P)),this._setContentsDomNodeDimensions(m.getTotalWidth(B),Math.min(H,P-I))}setMinimumDimensions(P){this._minimumSize=new m.Dimension(Math.max(this._minimumSize.width,P.width),Math.max(this._minimumSize.height,P.height)),this._updateMinimumWidth()}_updateMinimumWidth(){const P=typeof this._contentWidth>"u"?this._minimumSize.width:Math.min(this._contentWidth,this._minimumSize.width);this._resizableNode.minSize=new m.Dimension(P,this._minimumSize.height)}onContentsChanged(){var P;this._removeConstraintsRenderNormally();const x=this._hover.containerDomNode;let R=m.getTotalHeight(x),B=m.getTotalWidth(x);if(this._resizableNode.layout(R,B),this._setHoverWidgetDimensions(B,R),R=m.getTotalHeight(x),B=m.getTotalWidth(x),this._contentWidth=B,this._updateMinimumWidth(),this._resizableNode.layout(R,B),this._hasHorizontalScrollbar()&&(this._adjustContentsBottomPadding(),this._adjustHoverHeightForScrollbar(R)),!((P=this._visibleData)===null||P===void 0)&&P.showAtPosition){const H=m.getTotalHeight(this._hover.containerDomNode);this._positionPreference=this._findPositionPreference(H,this._visibleData.showAtPosition)}this._layoutContentWidget()}focus(){this._hover.containerDomNode.focus()}scrollUp(){const P=this._hover.scrollbar.getScrollPosition().scrollTop,x=this._editor.getOption(50);this._hover.scrollbar.setScrollPosition({scrollTop:P-x.lineHeight})}scrollDown(){const P=this._hover.scrollbar.getScrollPosition().scrollTop,x=this._editor.getOption(50);this._hover.scrollbar.setScrollPosition({scrollTop:P+x.lineHeight})}scrollLeft(){const P=this._hover.scrollbar.getScrollPosition().scrollLeft;this._hover.scrollbar.setScrollPosition({scrollLeft:P-S})}scrollRight(){const P=this._hover.scrollbar.getScrollPosition().scrollLeft;this._hover.scrollbar.setScrollPosition({scrollLeft:P+S})}pageUp(){const P=this._hover.scrollbar.getScrollPosition().scrollTop,x=this._hover.scrollbar.getScrollDimensions().height;this._hover.scrollbar.setScrollPosition({scrollTop:P-x})}pageDown(){const P=this._hover.scrollbar.getScrollPosition().scrollTop,x=this._hover.scrollbar.getScrollDimensions().height;this._hover.scrollbar.setScrollPosition({scrollTop:P+x})}goToTop(){this._hover.scrollbar.setScrollPosition({scrollTop:0})}goToBottom(){this._hover.scrollbar.setScrollPosition({scrollTop:this._hover.scrollbar.getScrollDimensions().scrollHeight})}};e.ContentHoverWidget=T,T.ID="editor.contrib.resizableContentHoverWidget",T._lastDimensions=new m.Dimension(0,0),e.ContentHoverWidget=T=l=Ie([he(1,h.IContextKeyService),he(2,u.IConfigurationService),he(3,d.IAccessibilityService),he(4,i.IKeybindingService)],T);let N=class extends L.Disposable{get hasContent(){return this._hasContent}constructor(P){super(),this._keybindingService=P,this._hasContent=!1,this.hoverElement=o("div.hover-row.status-bar"),this.actionsElement=m.append(this.hoverElement,o("div.actions"))}addAction(P){const x=this._keybindingService.lookupKeybinding(P.commandId),R=x?x.getLabel():null;return this._hasContent=!0,this._register(k.HoverAction.render(this.actionsElement,P,R))}append(P){const x=m.append(this.actionsElement,P);return this._hasContent=!0,x}};e.EditorHoverStatusBar=N,e.EditorHoverStatusBar=N=Ie([he(0,i.IKeybindingService)],N);class A{get anchor(){return this._anchor}set anchor(P){this._anchor=P}get shouldFocus(){return this._shouldFocus}set shouldFocus(P){this._shouldFocus=P}get source(){return this._source}set source(P){this._source=P}get insistOnKeepingHoverVisible(){return this._insistOnKeepingHoverVisible}set insistOnKeepingHoverVisible(P){this._insistOnKeepingHoverVisible=P}constructor(P,x){this._editor=P,this._participants=x,this._anchor=null,this._shouldFocus=!1,this._source=0,this._insistOnKeepingHoverVisible=!1}static _getLineDecorations(P,x){if(x.type!==1&&!x.supportsMarkerHover)return[];const R=P.getModel(),B=x.range.startLineNumber;if(B>R.getLineCount())return[];const H=R.getLineMaxColumn(B);return P.getLineDecorations(B).filter(V=>{if(V.options.isWholeLine)return!0;const q=V.range.startLineNumber===B?V.range.startColumn:1,K=V.range.endLineNumber===B?V.range.endColumn:H;if(V.options.showIfCollapsed){if(q>x.range.startColumn+1||x.range.endColumn-1>K)return!1}else if(q>x.range.startColumn||x.range.endColumn>K)return!1;return!0})}computeAsync(P){const x=this._anchor;if(!this._editor.hasModel()||!x)return t.AsyncIterableObject.EMPTY;const R=A._getLineDecorations(this._editor,x);return t.AsyncIterableObject.merge(this._participants.map(B=>B.computeAsync?B.computeAsync(x,R,P):t.AsyncIterableObject.EMPTY))}computeSync(){if(!this._editor.hasModel()||!this._anchor)return[];const P=A._getLineDecorations(this._editor,this._anchor);let x=[];for(const R of this._participants)x=x.concat(R.computeSync(this._anchor,P));return(0,D.coalesce)(x)}}function O(M,P,x,R,B,H){const V=x+B/2,q=R+H/2,K=Math.max(Math.abs(M-V)-B/2,0),U=Math.max(Math.abs(P-q)-H/2,0);return Math.sqrt(K*K+U*U)}}),define(te[945],ie([1,0,2,397,8,400,35,7,18,16,19,14,53,33,372,6,216]),function(J,e,m,k,D,L,y,p,w,C,b,a,s,i,t,n){"use strict";var h,v;Object.defineProperty(e,"__esModule",{value:!0}),e.StandaloneColorPickerWidget=e.StandaloneColorPickerController=void 0;let u=h=class extends m.Disposable{constructor(c,f,_,S,I,E,T){super(),this._editor=c,this._modelService=_,this._keybindingService=S,this._instantiationService=I,this._languageFeatureService=E,this._languageConfigurationService=T,this._standaloneColorPickerWidget=null,this._standaloneColorPickerVisible=b.EditorContextKeys.standaloneColorPickerVisible.bindTo(f),this._standaloneColorPickerFocused=b.EditorContextKeys.standaloneColorPickerFocused.bindTo(f)}showOrFocus(){var c;this._editor.hasModel()&&(this._standaloneColorPickerVisible.get()?this._standaloneColorPickerFocused.get()||(c=this._standaloneColorPickerWidget)===null||c===void 0||c.focus():this._standaloneColorPickerWidget=new l(this._editor,this._standaloneColorPickerVisible,this._standaloneColorPickerFocused,this._instantiationService,this._modelService,this._keybindingService,this._languageFeatureService,this._languageConfigurationService))}hide(){var c;this._standaloneColorPickerFocused.set(!1),this._standaloneColorPickerVisible.set(!1),(c=this._standaloneColorPickerWidget)===null||c===void 0||c.hide(),this._editor.focus()}insertColor(){var c;(c=this._standaloneColorPickerWidget)===null||c===void 0||c.updateEditor(),this.hide()}static get(c){return c.getContribution(h.ID)}};e.StandaloneColorPickerController=u,u.ID="editor.contrib.standaloneColorPickerController",e.StandaloneColorPickerController=u=h=Ie([he(1,a.IContextKeyService),he(2,s.IModelService),he(3,y.IKeybindingService),he(4,D.IInstantiationService),he(5,w.ILanguageFeaturesService),he(6,i.ILanguageConfigurationService)],u),(0,C.registerEditorContribution)(u.ID,u,1);const d=8,r=22;let l=v=class extends m.Disposable{constructor(c,f,_,S,I,E,T,N){var A;super(),this._editor=c,this._standaloneColorPickerVisible=f,this._standaloneColorPickerFocused=_,this._modelService=I,this._keybindingService=E,this._languageFeaturesService=T,this._languageConfigurationService=N,this.allowEditorOverflow=!0,this._position=void 0,this._body=document.createElement("div"),this._colorHover=null,this._selectionSetInEditor=!1,this._onResult=this._register(new p.Emitter),this.onResult=this._onResult.event,this._standaloneColorPickerVisible.set(!0),this._standaloneColorPickerParticipant=S.createInstance(k.StandaloneColorPickerParticipant,this._editor),this._position=(A=this._editor._getViewModel())===null||A===void 0?void 0:A.getPrimaryCursorState().modelState.position;const O=this._editor.getSelection(),M=O?{startLineNumber:O.startLineNumber,startColumn:O.startColumn,endLineNumber:O.endLineNumber,endColumn:O.endColumn}:{startLineNumber:0,endLineNumber:0,endColumn:0,startColumn:0},P=this._register(n.trackFocus(this._body));this._register(P.onDidBlur(x=>{this.hide()})),this._register(P.onDidFocus(x=>{this.focus()})),this._register(this._editor.onDidChangeCursorPosition(()=>{this._selectionSetInEditor?this._selectionSetInEditor=!1:this.hide()})),this._register(this._editor.onMouseMove(x=>{var R;const B=(R=x.target.element)===null||R===void 0?void 0:R.classList;B&&B.contains("colorpicker-color-decoration")&&this.hide()})),this._register(this.onResult(x=>{this._render(x.value,x.foundInEditor)})),this._start(M),this._body.style.zIndex="50",this._editor.addContentWidget(this)}updateEditor(){this._colorHover&&this._standaloneColorPickerParticipant.updateEditorModel(this._colorHover)}getId(){return v.ID}getDomNode(){return this._body}getPosition(){if(!this._position)return null;const c=this._editor.getOption(60).above;return{position:this._position,secondaryPosition:this._position,preference:c?[1,2]:[2,1],positionAffinity:2}}hide(){this.dispose(),this._standaloneColorPickerVisible.set(!1),this._standaloneColorPickerFocused.set(!1),this._editor.removeContentWidget(this),this._editor.focus()}focus(){this._standaloneColorPickerFocused.set(!0),this._body.focus()}async _start(c){const f=await this._computeAsync(c);f&&this._onResult.fire(new o(f.result,f.foundInEditor))}async _computeAsync(c){if(!this._editor.hasModel())return null;const f={range:c,color:{red:0,green:0,blue:0,alpha:1}},_=await this._standaloneColorPickerParticipant.createColorHover(f,new t.DefaultDocumentColorProvider(this._modelService,this._languageConfigurationService),this._languageFeaturesService.colorProvider);return _?{result:_.colorHover,foundInEditor:_.foundInEditor}:null}_render(c,f){const _=document.createDocumentFragment(),S=this._register(new L.EditorHoverStatusBar(this._keybindingService));let I;const E={fragment:_,statusBar:S,setColorPicker:B=>I=B,onContentsChanged:()=>{},hide:()=>this.hide()};if(this._colorHover=c,this._register(this._standaloneColorPickerParticipant.renderHoverParts(E,[c])),I===void 0)return;this._body.classList.add("standalone-colorpicker-body"),this._body.style.maxHeight=Math.max(this._editor.getLayoutInfo().height/4,250)+"px",this._body.style.maxWidth=Math.max(this._editor.getLayoutInfo().width*.66,500)+"px",this._body.tabIndex=0,this._body.appendChild(_),I.layout();const T=I.body,N=T.saturationBox.domNode.clientWidth,A=T.domNode.clientWidth-N-r-d,O=I.body.enterButton;O?.onClicked(()=>{this.updateEditor(),this.hide()});const M=I.header,P=M.pickedColorNode;P.style.width=N+d+"px";const x=M.originalColorNode;x.style.width=A+"px";const R=I.header.closeButton;R?.onClicked(()=>{this.hide()}),f&&(O&&(O.button.textContent="Replace"),this._selectionSetInEditor=!0,this._editor.setSelection(c.range)),this._editor.layoutContentWidget(this)}};e.StandaloneColorPickerWidget=l,l.ID="editor.contrib.standaloneColorPickerWidget",e.StandaloneColorPickerWidget=l=v=Ie([he(3,D.IInstantiationService),he(4,s.IModelService),he(5,y.IKeybindingService),he(6,w.ILanguageFeaturesService),he(7,i.ILanguageConfigurationService)],l);class o{constructor(c,f){this.value=c,this.foundInEditor=f}}}),define(te[946],ie([1,0,16,691,945,19,28,216]),function(J,e,m,k,D,L,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ShowOrFocusStandaloneColorPicker=void 0;class p extends m.EditorAction2{constructor(){super({id:"editor.action.showOrFocusStandaloneColorPicker",title:{...(0,k.localize2)(3,"Show or Focus Standalone Color Picker"),mnemonicTitle:(0,k.localize)(0,null)},precondition:void 0,menu:[{id:y.MenuId.CommandPalette}]})}runEditorCommand(a,s){var i;(i=D.StandaloneColorPickerController.get(s))===null||i===void 0||i.showOrFocus()}}e.ShowOrFocusStandaloneColorPicker=p;class w extends m.EditorAction{constructor(){super({id:"editor.action.hideColorPicker",label:(0,k.localize)(1,null),alias:"Hide the Color Picker",precondition:L.EditorContextKeys.standaloneColorPickerVisible.isEqualTo(!0),kbOpts:{primary:9,weight:100}})}run(a,s){var i;(i=D.StandaloneColorPickerController.get(s))===null||i===void 0||i.hide()}}class C extends m.EditorAction{constructor(){super({id:"editor.action.insertColorWithStandaloneColorPicker",label:(0,k.localize)(2,null),alias:"Insert Color with Standalone Color Picker",precondition:L.EditorContextKeys.standaloneColorPickerFocused.isEqualTo(!0),kbOpts:{primary:3,weight:100}})}run(a,s){var i;(i=D.StandaloneColorPickerController.get(s))===null||i===void 0||i.insertColor()}}(0,m.registerEditorAction)(w),(0,m.registerEditorAction)(C),(0,y.registerAction2)(p)}),define(te[947],ie([1,0,15,12,115,16,5,24,19,37,111,719,585,487]),function(J,e,m,k,D,L,y,p,w,C,b,a,s){"use strict";var i;Object.defineProperty(e,"__esModule",{value:!0});let t=i=class{static get(u){return u.getContribution(i.ID)}constructor(u,d){this.editor=u,this.editorWorkerService=d,this.decorations=this.editor.createDecorationsCollection()}dispose(){}run(u,d){var r;(r=this.currentRequest)===null||r===void 0||r.cancel();const l=this.editor.getSelection(),o=this.editor.getModel();if(!o||!l)return;let g=l;if(g.startLineNumber!==g.endLineNumber)return;const c=new D.EditorState(this.editor,5),f=o.uri;return this.editorWorkerService.canNavigateValueSet(f)?(this.currentRequest=(0,m.createCancelablePromise)(_=>this.editorWorkerService.navigateValueSet(f,g,d)),this.currentRequest.then(_=>{var S;if(!_||!_.range||!_.value||!c.validate(this.editor))return;const I=y.Range.lift(_.range);let E=_.range;const T=_.value.length-(g.endColumn-g.startColumn);E={startLineNumber:E.startLineNumber,startColumn:E.startColumn,endLineNumber:E.endLineNumber,endColumn:E.startColumn+_.value.length},T>1&&(g=new p.Selection(g.startLineNumber,g.startColumn,g.endLineNumber,g.endColumn+T-1));const N=new s.InPlaceReplaceCommand(I,g,_.value);this.editor.pushUndoStop(),this.editor.executeCommand(u,N),this.editor.pushUndoStop(),this.decorations.set([{range:E,options:i.DECORATION}]),(S=this.decorationRemover)===null||S===void 0||S.cancel(),this.decorationRemover=(0,m.timeout)(350),this.decorationRemover.then(()=>this.decorations.clear()).catch(k.onUnexpectedError)}).catch(k.onUnexpectedError)):Promise.resolve(void 0)}};t.ID="editor.contrib.inPlaceReplaceController",t.DECORATION=C.ModelDecorationOptions.register({description:"in-place-replace",className:"valueSetReplacement"}),t=i=Ie([he(1,b.IEditorWorkerService)],t);class n extends L.EditorAction{constructor(){super({id:"editor.action.inPlaceReplace.up",label:a.localize(0,null),alias:"Replace with Previous Value",precondition:w.EditorContextKeys.writable,kbOpts:{kbExpr:w.EditorContextKeys.editorTextFocus,primary:3159,weight:100}})}run(u,d){const r=t.get(d);return r?r.run(this.id,!1):Promise.resolve(void 0)}}class h extends L.EditorAction{constructor(){super({id:"editor.action.inPlaceReplace.down",label:a.localize(1,null),alias:"Replace with Next Value",precondition:w.EditorContextKeys.writable,kbOpts:{kbExpr:w.EditorContextKeys.editorTextFocus,primary:3161,weight:100}})}run(u,d){const r=t.get(d);return r?r.run(this.id,!0):Promise.resolve(void 0)}}(0,L.registerEditorContribution)(t.ID,t,4),(0,L.registerEditorAction)(n),(0,L.registerEditorAction)(h)}),define(te[278],ie([1,0,6,15,26,2,11,30,5,37,8,492]),function(J,e,m,k,D,L,y,p,w,C,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlineProgressManager=void 0;const a=C.ModelDecorationOptions.register({description:"inline-progress-widget",stickiness:1,showIfCollapsed:!0,after:{content:y.noBreakWhitespace,inlineClassName:"inline-editor-progress-decoration",inlineClassNameAffectsLetterSpacing:!0}});class s extends L.Disposable{constructor(n,h,v,u,d){super(),this.typeId=n,this.editor=h,this.range=v,this.delegate=d,this.allowEditorOverflow=!1,this.suppressMouseDown=!0,this.create(u),this.editor.addContentWidget(this),this.editor.layoutContentWidget(this)}create(n){this.domNode=m.$(".inline-progress-widget"),this.domNode.role="button",this.domNode.title=n;const h=m.$("span.icon");this.domNode.append(h),h.classList.add(...p.ThemeIcon.asClassNameArray(D.Codicon.loading),"codicon-modifier-spin");const v=()=>{const u=this.editor.getOption(67);this.domNode.style.height=`${u}px`,this.domNode.style.width=`${Math.ceil(.8*u)}px`};v(),this._register(this.editor.onDidChangeConfiguration(u=>{(u.hasChanged(52)||u.hasChanged(67))&&v()})),this._register(m.addDisposableListener(this.domNode,m.EventType.CLICK,u=>{this.delegate.cancel()}))}getId(){return s.baseId+"."+this.typeId}getDomNode(){return this.domNode}getPosition(){return{position:{lineNumber:this.range.startLineNumber,column:this.range.startColumn},preference:[0]}}dispose(){super.dispose(),this.editor.removeContentWidget(this)}}s.baseId="editor.widget.inlineProgressWidget";let i=class extends L.Disposable{constructor(n,h,v){super(),this.id=n,this._editor=h,this._instantiationService=v,this._showDelay=500,this._showPromise=this._register(new L.MutableDisposable),this._currentWidget=new L.MutableDisposable,this._operationIdPool=0,this._currentDecorations=h.createDecorationsCollection()}async showWhile(n,h,v){const u=this._operationIdPool++;this._currentOperation=u,this.clear(),this._showPromise.value=(0,k.disposableTimeout)(()=>{const d=w.Range.fromPositions(n);this._currentDecorations.set([{range:d,options:a}]).length>0&&(this._currentWidget.value=this._instantiationService.createInstance(s,this.id,this._editor,d,h,v))},this._showDelay);try{return await v}finally{this._currentOperation===u&&(this.clear(),this._currentOperation=void 0)}}clear(){this._showPromise.clear(),this._currentDecorations.clear(),this._currentWidget.clear()}};e.InlineProgressManager=i,e.InlineProgressManager=i=Ie([he(2,b.IInstantiationService)],i)}),define(te[948],ie([1,0,13,15,186,94,2,371,5,18,313,802,115,278,699,25,14,370,8,255,364]),function(J,e,m,k,D,L,y,p,w,C,b,a,s,i,t,n,h,v,u,d,r){"use strict";var l;Object.defineProperty(e,"__esModule",{value:!0}),e.DropIntoEditorController=e.dropWidgetVisibleCtx=e.changeDropTypeCommandId=e.defaultProviderConfig=void 0,e.defaultProviderConfig="editor.experimental.dropIntoEditor.defaultProvider",e.changeDropTypeCommandId="editor.changeDropType",e.dropWidgetVisibleCtx=new h.RawContextKey("dropWidgetVisible",!1,(0,t.localize)(0,null));let o=l=class extends y.Disposable{static get(c){return c.getContribution(l.ID)}constructor(c,f,_,S,I){super(),this._configService=_,this._languageFeaturesService=S,this._treeViewsDragAndDropService=I,this.treeItemsTransfer=v.LocalSelectionTransfer.getInstance(),this._dropProgressManager=this._register(f.createInstance(i.InlineProgressManager,"dropIntoEditor",c)),this._postDropWidgetManager=this._register(f.createInstance(r.PostEditWidgetManager,"dropIntoEditor",c,e.dropWidgetVisibleCtx,{id:e.changeDropTypeCommandId,label:(0,t.localize)(1,null)})),this._register(c.onDropIntoEditor(E=>this.onDropIntoEditor(c,E.position,E.event)))}clearWidgets(){this._postDropWidgetManager.clear()}changeDropType(){this._postDropWidgetManager.tryShowSelector()}async onDropIntoEditor(c,f,_){var S;if(!_.dataTransfer||!c.hasModel())return;(S=this._currentOperation)===null||S===void 0||S.cancel(),c.focus(),c.setPosition(f);const I=(0,k.createCancelablePromise)(async E=>{const T=new s.EditorStateCancellationTokenSource(c,1,void 0,E);try{const N=await this.extractDataTransferData(_);if(N.size===0||T.token.isCancellationRequested)return;const A=c.getModel();if(!A)return;const O=this._languageFeaturesService.documentOnDropEditProvider.ordered(A).filter(P=>P.dropMimeTypes?P.dropMimeTypes.some(x=>N.matches(x)):!0),M=await this.getDropEdits(O,A,f,N,T);if(T.token.isCancellationRequested)return;if(M.length){const P=this.getInitialActiveEditIndex(A,M),x=c.getOption(36).showDropSelector==="afterDrop";await this._postDropWidgetManager.applyEditAndShowIfNeeded([w.Range.fromPositions(f)],{activeEditIndex:P,allEdits:M},x,async R=>R,E)}}finally{T.dispose(),this._currentOperation===I&&(this._currentOperation=void 0)}});this._dropProgressManager.showWhile(f,(0,t.localize)(2,null),I),this._currentOperation=I}async getDropEdits(c,f,_,S,I){const E=await(0,k.raceCancellation)(Promise.all(c.map(async N=>{try{const A=await N.provideDocumentOnDropEdits(f,_,S,I.token);return A?.map(O=>({...O,providerId:N.id}))}catch(A){console.error(A)}})),I.token),T=(0,m.coalesce)(E??[]).flat();return(0,d.sortEditsByYieldTo)(T)}getInitialActiveEditIndex(c,f){const _=this._configService.getValue(e.defaultProviderConfig,{resource:c.uri});for(const[S,I]of Object.entries(_)){const E=new L.HierarchicalKind(I),T=f.findIndex(N=>E.value===N.providerId&&N.handledMimeType&&(0,D.matchesMimeType)(S,[N.handledMimeType]));if(T>=0)return T}return 0}async extractDataTransferData(c){if(!c.dataTransfer)return new D.VSDataTransfer;const f=(0,p.toExternalVSDataTransfer)(c.dataTransfer);if(this.treeItemsTransfer.hasData(b.DraggedTreeItemsIdentifier.prototype)){const _=this.treeItemsTransfer.getData(b.DraggedTreeItemsIdentifier.prototype);if(Array.isArray(_))for(const S of _){const I=await this._treeViewsDragAndDropService.removeDragOperationTransfer(S.identifier);if(I)for(const[E,T]of I)f.replace(E,T)}}return f}};e.DropIntoEditorController=o,o.ID="editor.contrib.dropIntoEditorController",e.DropIntoEditorController=o=l=Ie([he(1,u.IInstantiationService),he(2,n.IConfigurationService),he(3,C.ILanguageFeaturesService),he(4,a.ITreeViewsDnDService)],o)}),define(te[949],ie([1,0,13,15,20,34,12,7,2,11,22,16,36,9,5,19,37,33,729,14,18,31,83,63,493]),function(J,e,m,k,D,L,y,p,w,C,b,a,s,i,t,n,h,v,u,d,r,l,o,g){"use strict";var c;Object.defineProperty(e,"__esModule",{value:!0}),e.editorLinkedEditingBackground=e.LinkedEditingAction=e.LinkedEditingContribution=e.CONTEXT_ONTYPE_RENAME_INPUT_VISIBLE=void 0,e.CONTEXT_ONTYPE_RENAME_INPUT_VISIBLE=new d.RawContextKey("LinkedEditingInputVisible",!1);const f="linked-editing-decoration";let _=c=class extends w.Disposable{static get(N){return N.getContribution(c.ID)}constructor(N,A,O,M,P){super(),this.languageConfigurationService=M,this._syncRangesToken=0,this._localToDispose=this._register(new w.DisposableStore),this._editor=N,this._providers=O.linkedEditingRangeProvider,this._enabled=!1,this._visibleContextKey=e.CONTEXT_ONTYPE_RENAME_INPUT_VISIBLE.bindTo(A),this._debounceInformation=P.for(this._providers,"Linked Editing",{max:200}),this._currentDecorations=this._editor.createDecorationsCollection(),this._languageWordPattern=null,this._currentWordPattern=null,this._ignoreChangeEvent=!1,this._localToDispose=this._register(new w.DisposableStore),this._rangeUpdateTriggerPromise=null,this._rangeSyncTriggerPromise=null,this._currentRequestCts=null,this._currentRequestPosition=null,this._currentRequestModelVersion=null,this._register(this._editor.onDidChangeModel(()=>this.reinitialize(!0))),this._register(this._editor.onDidChangeConfiguration(x=>{(x.hasChanged(70)||x.hasChanged(93))&&this.reinitialize(!1)})),this._register(this._providers.onDidChange(()=>this.reinitialize(!1))),this._register(this._editor.onDidChangeModelLanguage(()=>this.reinitialize(!0))),this.reinitialize(!0)}reinitialize(N){const A=this._editor.getModel(),O=A!==null&&(this._editor.getOption(70)||this._editor.getOption(93))&&this._providers.has(A);if(O===this._enabled&&!N||(this._enabled=O,this.clearRanges(),this._localToDispose.clear(),!O||A===null))return;this._localToDispose.add(p.Event.runAndSubscribe(A.onDidChangeLanguageConfiguration,()=>{this._languageWordPattern=this.languageConfigurationService.getLanguageConfiguration(A.getLanguageId()).getWordDefinition()}));const M=new k.Delayer(this._debounceInformation.get(A)),P=()=>{var B;this._rangeUpdateTriggerPromise=M.trigger(()=>this.updateRanges(),(B=this._debounceDuration)!==null&&B!==void 0?B:this._debounceInformation.get(A))},x=new k.Delayer(0),R=B=>{this._rangeSyncTriggerPromise=x.trigger(()=>this._syncRanges(B))};this._localToDispose.add(this._editor.onDidChangeCursorPosition(()=>{P()})),this._localToDispose.add(this._editor.onDidChangeModelContent(B=>{if(!this._ignoreChangeEvent&&this._currentDecorations.length>0){const H=this._currentDecorations.getRange(0);if(H&&B.changes.every(V=>H.intersectRanges(V.range))){R(this._syncRangesToken);return}}P()})),this._localToDispose.add({dispose:()=>{M.dispose(),x.dispose()}}),this.updateRanges()}_syncRanges(N){if(!this._editor.hasModel()||N!==this._syncRangesToken||this._currentDecorations.length===0)return;const A=this._editor.getModel(),O=this._currentDecorations.getRange(0);if(!O||O.startLineNumber!==O.endLineNumber)return this.clearRanges();const M=A.getValueInRange(O);if(this._currentWordPattern){const x=M.match(this._currentWordPattern);if((x?x[0].length:0)!==M.length)return this.clearRanges()}const P=[];for(let x=1,R=this._currentDecorations.length;x<R;x++){const B=this._currentDecorations.getRange(x);if(B)if(B.startLineNumber!==B.endLineNumber)P.push({range:B,text:M});else{let H=A.getValueInRange(B),V=M,q=B.startColumn,K=B.endColumn;const U=C.commonPrefixLength(H,V);q+=U,H=H.substr(U),V=V.substr(U);const $=C.commonSuffixLength(H,V);K-=$,H=H.substr(0,H.length-$),V=V.substr(0,V.length-$),(q!==K||V.length!==0)&&P.push({range:new t.Range(B.startLineNumber,q,B.endLineNumber,K),text:V})}}if(P.length!==0)try{this._editor.popUndoStop(),this._ignoreChangeEvent=!0;const x=this._editor._getViewModel().getPrevEditOperationType();this._editor.executeEdits("linkedEditing",P),this._editor._getViewModel().setPrevEditOperationType(x)}finally{this._ignoreChangeEvent=!1}}dispose(){this.clearRanges(),super.dispose()}clearRanges(){this._visibleContextKey.set(!1),this._currentDecorations.clear(),this._currentRequestCts&&(this._currentRequestCts.cancel(),this._currentRequestCts=null,this._currentRequestPosition=null)}async updateRanges(N=!1){if(!this._editor.hasModel()){this.clearRanges();return}const A=this._editor.getPosition();if(!this._enabled&&!N||this._editor.getSelections().length>1){this.clearRanges();return}const O=this._editor.getModel(),M=O.getVersionId();if(this._currentRequestPosition&&this._currentRequestModelVersion===M){if(A.equals(this._currentRequestPosition))return;if(this._currentDecorations.length>0){const x=this._currentDecorations.getRange(0);if(x&&x.containsPosition(A))return}}this.clearRanges(),this._currentRequestPosition=A,this._currentRequestModelVersion=M;const P=this._currentRequestCts=new D.CancellationTokenSource;try{const x=new g.StopWatch(!1),R=await E(this._providers,O,A,P.token);if(this._debounceInformation.update(O,x.elapsed()),P!==this._currentRequestCts||(this._currentRequestCts=null,M!==O.getVersionId()))return;let B=[];R?.ranges&&(B=R.ranges),this._currentWordPattern=R?.wordPattern||this._languageWordPattern;let H=!1;for(let q=0,K=B.length;q<K;q++)if(t.Range.containsPosition(B[q],A)){if(H=!0,q!==0){const U=B[q];B.splice(q,1),B.unshift(U)}break}if(!H){this.clearRanges();return}const V=B.map(q=>({range:q,options:c.DECORATION}));this._visibleContextKey.set(!0),this._currentDecorations.set(V),this._syncRangesToken++}catch(x){(0,y.isCancellationError)(x)||(0,y.onUnexpectedError)(x),(this._currentRequestCts===P||!this._currentRequestCts)&&this.clearRanges()}}};e.LinkedEditingContribution=_,_.ID="editor.contrib.linkedEditing",_.DECORATION=h.ModelDecorationOptions.register({description:"linked-editing",stickiness:0,className:f}),e.LinkedEditingContribution=_=c=Ie([he(1,d.IContextKeyService),he(2,r.ILanguageFeaturesService),he(3,v.ILanguageConfigurationService),he(4,o.ILanguageFeatureDebounceService)],_);class S extends a.EditorAction{constructor(){super({id:"editor.action.linkedEditing",label:u.localize(0,null),alias:"Start Linked Editing",precondition:d.ContextKeyExpr.and(n.EditorContextKeys.writable,n.EditorContextKeys.hasRenameProvider),kbOpts:{kbExpr:n.EditorContextKeys.editorTextFocus,primary:3132,weight:100}})}runCommand(N,A){const O=N.get(s.ICodeEditorService),[M,P]=Array.isArray(A)&&A||[void 0,void 0];return b.URI.isUri(M)&&i.Position.isIPosition(P)?O.openCodeEditor({resource:M},O.getActiveCodeEditor()).then(x=>{x&&(x.setPosition(P),x.invokeWithinContext(R=>(this.reportTelemetry(R,x),this.run(R,x))))},y.onUnexpectedError):super.runCommand(N,A)}run(N,A){const O=_.get(A);return O?Promise.resolve(O.updateRanges(!0)):Promise.resolve()}}e.LinkedEditingAction=S;const I=a.EditorCommand.bindToContribution(_.get);(0,a.registerEditorCommand)(new I({id:"cancelLinkedEditingInput",precondition:e.CONTEXT_ONTYPE_RENAME_INPUT_VISIBLE,handler:T=>T.clearRanges(),kbOpts:{kbExpr:n.EditorContextKeys.editorTextFocus,weight:199,primary:9,secondary:[1033]}}));function E(T,N,A,O){const M=T.ordered(N);return(0,k.first)(M.map(P=>async()=>{try{return await P.provideLinkedEditingRanges(N,A,O)}catch(x){(0,y.onUnexpectedExternalError)(x);return}}),P=>!!P&&m.isNonEmptyArray(P?.ranges))}e.editorLinkedEditingBackground=(0,l.registerColor)("editor.linkedEditingBackground",{dark:L.Color.fromHex("#f00").transparent(.3),light:L.Color.fromHex("#f00").transparent(.3),hcDark:L.Color.fromHex("#f00").transparent(.3),hcLight:L.Color.white},u.localize(1,null)),(0,a.registerModelAndPositionCommand)("_executeLinkedEditingProvider",(T,N,A)=>{const{linkedEditingRangeProvider:O}=T.get(r.ILanguageFeaturesService);return E(O,N,A,D.CancellationToken.None)}),(0,a.registerEditorContribution)(_.ID,_,1),(0,a.registerEditorAction)(S)}),define(te[950],ie([1,0,15,20,12,57,2,49,17,50,63,22,16,37,83,18,199,804,730,51,59,494]),function(J,e,m,k,D,L,y,p,w,C,b,a,s,i,t,n,h,v,u,d,r){"use strict";var l;Object.defineProperty(e,"__esModule",{value:!0}),e.LinkDetector=void 0;let o=l=class extends y.Disposable{static get(I){return I.getContribution(l.ID)}constructor(I,E,T,N,A){super(),this.editor=I,this.openerService=E,this.notificationService=T,this.languageFeaturesService=N,this.providers=this.languageFeaturesService.linkProvider,this.debounceInformation=A.for(this.providers,"Links",{min:1e3,max:4e3}),this.computeLinks=this._register(new m.RunOnceScheduler(()=>this.computeLinksNow(),1e3)),this.computePromise=null,this.activeLinksList=null,this.currentOccurrences={},this.activeLinkDecorationId=null;const O=this._register(new h.ClickLinkGesture(I));this._register(O.onMouseMoveOrRelevantKeyDown(([M,P])=>{this._onEditorMouseMove(M,P)})),this._register(O.onExecute(M=>{this.onEditorMouseUp(M)})),this._register(O.onCancel(M=>{this.cleanUpActiveLinkDecoration()})),this._register(I.onDidChangeConfiguration(M=>{M.hasChanged(71)&&(this.updateDecorations([]),this.stop(),this.computeLinks.schedule(0))})),this._register(I.onDidChangeModelContent(M=>{this.editor.hasModel()&&this.computeLinks.schedule(this.debounceInformation.get(this.editor.getModel()))})),this._register(I.onDidChangeModel(M=>{this.currentOccurrences={},this.activeLinkDecorationId=null,this.stop(),this.computeLinks.schedule(0)})),this._register(I.onDidChangeModelLanguage(M=>{this.stop(),this.computeLinks.schedule(0)})),this._register(this.providers.onDidChange(M=>{this.stop(),this.computeLinks.schedule(0)})),this.computeLinks.schedule(0)}async computeLinksNow(){if(!this.editor.hasModel()||!this.editor.getOption(71))return;const I=this.editor.getModel();if(!I.isTooLargeForSyncing()&&this.providers.has(I)){this.activeLinksList&&(this.activeLinksList.dispose(),this.activeLinksList=null),this.computePromise=(0,m.createCancelablePromise)(E=>(0,v.getLinks)(this.providers,I,E));try{const E=new b.StopWatch(!1);if(this.activeLinksList=await this.computePromise,this.debounceInformation.update(I,E.elapsed()),I.isDisposed())return;this.updateDecorations(this.activeLinksList.links)}catch(E){(0,D.onUnexpectedError)(E)}finally{this.computePromise=null}}}updateDecorations(I){const E=this.editor.getOption(78)==="altKey",T=[],N=Object.keys(this.currentOccurrences);for(const O of N){const M=this.currentOccurrences[O];T.push(M.decorationId)}const A=[];if(I)for(const O of I)A.push(c.decoration(O,E));this.editor.changeDecorations(O=>{const M=O.deltaDecorations(T,A);this.currentOccurrences={},this.activeLinkDecorationId=null;for(let P=0,x=M.length;P<x;P++){const R=new c(I[P],M[P]);this.currentOccurrences[R.decorationId]=R}})}_onEditorMouseMove(I,E){const T=this.editor.getOption(78)==="altKey";if(this.isEnabled(I,E)){this.cleanUpActiveLinkDecoration();const N=this.getLinkOccurrence(I.target.position);N&&this.editor.changeDecorations(A=>{N.activate(A,T),this.activeLinkDecorationId=N.decorationId})}else this.cleanUpActiveLinkDecoration()}cleanUpActiveLinkDecoration(){const I=this.editor.getOption(78)==="altKey";if(this.activeLinkDecorationId){const E=this.currentOccurrences[this.activeLinkDecorationId];E&&this.editor.changeDecorations(T=>{E.deactivate(T,I)}),this.activeLinkDecorationId=null}}onEditorMouseUp(I){if(!this.isEnabled(I))return;const E=this.getLinkOccurrence(I.target.position);E&&this.openLinkOccurrence(E,I.hasSideBySideModifier,!0)}openLinkOccurrence(I,E,T=!1){if(!this.openerService)return;const{link:N}=I;N.resolve(k.CancellationToken.None).then(A=>{if(typeof A=="string"&&this.editor.hasModel()){const O=this.editor.getModel().uri;if(O.scheme===p.Schemas.file&&A.startsWith(`${p.Schemas.file}:`)){const M=a.URI.parse(A);if(M.scheme===p.Schemas.file){const P=C.originalFSPath(M);let x=null;P.startsWith("/./")?x=`.${P.substr(1)}`:P.startsWith("//./")&&(x=`.${P.substr(2)}`),x&&(A=C.joinPath(O,x))}}}return this.openerService.open(A,{openToSide:E,fromUserGesture:T,allowContributedOpeners:!0,allowCommands:!0,fromWorkspace:!0})},A=>{const O=A instanceof Error?A.message:A;O==="invalid"?this.notificationService.warn(u.localize(0,null,N.url.toString())):O==="missing"?this.notificationService.warn(u.localize(1,null)):(0,D.onUnexpectedError)(A)})}getLinkOccurrence(I){if(!this.editor.hasModel()||!I)return null;const E=this.editor.getModel().getDecorationsInRange({startLineNumber:I.lineNumber,startColumn:I.column,endLineNumber:I.lineNumber,endColumn:I.column},0,!0);for(const T of E){const N=this.currentOccurrences[T.id];if(N)return N}return null}isEnabled(I,E){return!!(I.target.type===6&&(I.hasTriggerModifier||E&&E.keyCodeIsTriggerKey))}stop(){var I;this.computeLinks.cancel(),this.activeLinksList&&((I=this.activeLinksList)===null||I===void 0||I.dispose(),this.activeLinksList=null),this.computePromise&&(this.computePromise.cancel(),this.computePromise=null)}dispose(){super.dispose(),this.stop()}};e.LinkDetector=o,o.ID="editor.linkDetector",e.LinkDetector=o=l=Ie([he(1,r.IOpenerService),he(2,d.INotificationService),he(3,n.ILanguageFeaturesService),he(4,t.ILanguageFeatureDebounceService)],o);const g={general:i.ModelDecorationOptions.register({description:"detected-link",stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link"}),active:i.ModelDecorationOptions.register({description:"detected-link-active",stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link-active"})};class c{static decoration(I,E){return{range:I.range,options:c._getOptions(I,E,!1)}}static _getOptions(I,E,T){const N={...T?g.active:g.general};return N.hoverMessage=f(I,E),N}constructor(I,E){this.link=I,this.decorationId=E}activate(I,E){I.changeDecorationOptions(this.decorationId,c._getOptions(this.link,E,!0))}deactivate(I,E){I.changeDecorationOptions(this.decorationId,c._getOptions(this.link,E,!1))}}function f(S,I){const E=S.url&&/^command:/i.test(S.url.toString()),T=S.tooltip?S.tooltip:E?u.localize(2,null):u.localize(3,null),N=I?w.isMacintosh?u.localize(4,null):u.localize(5,null):w.isMacintosh?u.localize(6,null):u.localize(7,null);if(S.url){let A="";if(/^command:/i.test(S.url.toString())){const M=S.url.toString().match(/^command:([^?#]+)/);if(M){const P=M[1];A=u.localize(8,null,P)}}return new L.MarkdownString("",!0).appendLink(S.url.toString(!0).replace(/ /g,"%20"),T,A).appendMarkdown(` (${N})`)}else return new L.MarkdownString().appendText(`${T} (${N})`)}class _ extends s.EditorAction{constructor(){super({id:"editor.action.openLink",label:u.localize(9,null),alias:"Open Link",precondition:void 0})}run(I,E){const T=o.get(E);if(!T||!E.hasModel())return;const N=E.getSelections();for(const A of N){const O=T.getLinkOccurrence(A.getEndPosition());O&&T.openLinkOccurrence(O,!1)}}}(0,s.registerEditorContribution)(o.ID,o,1),(0,s.registerEditorAction)(_)}),define(te[951],ie([1,0,15,2,16,33,37,111]),function(J,e,m,k,D,L,y,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SectionHeaderDetector=void 0;let w=class extends k.Disposable{constructor(a,s,i){super(),this.editor=a,this.languageConfigurationService=s,this.editorWorkerService=i,this.decorations=this.editor.createDecorationsCollection(),this.options=this.createOptions(a.getOption(73)),this.computePromise=null,this.currentOccurrences={},this._register(a.onDidChangeModel(t=>{this.currentOccurrences={},this.options=this.createOptions(a.getOption(73)),this.stop(),this.computeSectionHeaders.schedule(0)})),this._register(a.onDidChangeModelLanguage(t=>{this.currentOccurrences={},this.options=this.createOptions(a.getOption(73)),this.stop(),this.computeSectionHeaders.schedule(0)})),this._register(s.onDidChange(t=>{var n;const h=(n=this.editor.getModel())===null||n===void 0?void 0:n.getLanguageId();h&&t.affects(h)&&(this.currentOccurrences={},this.options=this.createOptions(a.getOption(73)),this.stop(),this.computeSectionHeaders.schedule(0))})),this._register(a.onDidChangeConfiguration(t=>{this.options&&!t.hasChanged(73)||(this.options=this.createOptions(a.getOption(73)),this.updateDecorations([]),this.stop(),this.computeSectionHeaders.schedule(0))})),this._register(this.editor.onDidChangeModelContent(t=>{this.computeSectionHeaders.schedule()})),this.computeSectionHeaders=this._register(new m.RunOnceScheduler(()=>{this.findSectionHeaders()},250)),this.computeSectionHeaders.schedule(0)}createOptions(a){if(!a||!this.editor.hasModel())return;const s=this.editor.getModel().getLanguageId();if(!s)return;const i=this.languageConfigurationService.getLanguageConfiguration(s).comments,t=this.languageConfigurationService.getLanguageConfiguration(s).foldingRules;if(!(!i&&!t?.markers))return{foldingRules:t,findMarkSectionHeaders:a.showMarkSectionHeaders,findRegionSectionHeaders:a.showRegionSectionHeaders}}findSectionHeaders(){var a,s;if(!this.editor.hasModel()||!(!((a=this.options)===null||a===void 0)&&a.findMarkSectionHeaders)&&!(!((s=this.options)===null||s===void 0)&&s.findRegionSectionHeaders))return;const i=this.editor.getModel();if(i.isDisposed()||i.isTooLargeForSyncing())return;const t=i.getVersionId();this.editorWorkerService.findSectionHeaders(i.uri,this.options).then(n=>{i.isDisposed()||i.getVersionId()!==t||this.updateDecorations(n)})}updateDecorations(a){const s=this.editor.getModel();s&&(a=a.filter(n=>{if(!n.shouldBeInComments)return!0;const h=s.validateRange(n.range),v=s.tokenization.getLineTokens(h.startLineNumber),u=v.findTokenIndexAtOffset(h.startColumn-1),d=v.getStandardTokenType(u);return v.getLanguageId(u)===s.getLanguageId()&&d===1}));const i=Object.values(this.currentOccurrences).map(n=>n.decorationId),t=a.map(n=>C(n));this.editor.changeDecorations(n=>{const h=n.deltaDecorations(i,t);this.currentOccurrences={};for(let v=0,u=h.length;v<u;v++){const d={sectionHeader:a[v],decorationId:h[v]};this.currentOccurrences[d.decorationId]=d}})}stop(){this.computeSectionHeaders.cancel(),this.computePromise&&(this.computePromise.cancel(),this.computePromise=null)}dispose(){super.dispose(),this.stop(),this.decorations.clear()}};e.SectionHeaderDetector=w,w.ID="editor.sectionHeaderDetector",e.SectionHeaderDetector=w=Ie([he(1,L.ILanguageConfigurationService),he(2,p.IEditorWorkerService)],w);function C(b){return{range:b.range,options:y.ModelDecorationOptions.createDynamic({description:"section-header",stickiness:3,collapseOnReplaceEdit:!0,minimap:{color:void 0,position:1,sectionHeaderStyle:b.hasSeparatorLine?2:1,sectionHeaderText:b.text}})}}(0,D.registerEditorContribution)(w.ID,w,1)}),define(te[952],ie([1,0,2,18,173,15,277,322,321,33,12,327,54,8]),function(J,e,m,k,D,L,y,p,w,C,b,a,s,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StickyModelProvider=void 0;var t;(function(o){o.OUTLINE_MODEL="outlineModel",o.FOLDING_PROVIDER_MODEL="foldingProviderModel",o.INDENTATION_MODEL="indentationModel"})(t||(t={}));var n;(function(o){o[o.VALID=0]="VALID",o[o.INVALID=1]="INVALID",o[o.CANCELED=2]="CANCELED"})(n||(n={}));let h=class extends m.Disposable{constructor(g,c,f,_){switch(super(),this._editor=g,this._languageConfigurationService=f,this._languageFeaturesService=_,this._modelProviders=[],this._modelPromise=null,this._updateScheduler=this._register(new L.Delayer(300)),this._updateOperation=this._register(new m.DisposableStore),this._editor.getOption(115).defaultModel){case t.OUTLINE_MODEL:this._modelProviders.push(new u(this._editor,_));case t.FOLDING_PROVIDER_MODEL:this._modelProviders.push(new l(this._editor,c,_));case t.INDENTATION_MODEL:this._modelProviders.push(new r(this._editor,f));break}}dispose(){this._modelProviders.forEach(g=>g.dispose()),this._updateOperation.clear(),this._cancelModelPromise(),super.dispose()}_cancelModelPromise(){this._modelPromise&&(this._modelPromise.cancel(),this._modelPromise=null)}async update(g){return this._updateOperation.clear(),this._updateOperation.add({dispose:()=>{this._cancelModelPromise(),this._updateScheduler.cancel()}}),this._cancelModelPromise(),await this._updateScheduler.trigger(async()=>{for(const c of this._modelProviders){const{statusPromise:f,modelPromise:_}=c.computeStickyModel(g);this._modelPromise=_;const S=await f;if(this._modelPromise!==_)return null;switch(S){case n.CANCELED:return this._updateOperation.clear(),null;case n.VALID:return c.stickyModel}}return null}).catch(c=>((0,b.onUnexpectedError)(c),null))}};e.StickyModelProvider=h,e.StickyModelProvider=h=Ie([he(2,i.IInstantiationService),he(3,k.ILanguageFeaturesService)],h);class v extends m.Disposable{constructor(g){super(),this._editor=g,this._stickyModel=null}get stickyModel(){return this._stickyModel}_invalid(){return this._stickyModel=null,n.INVALID}computeStickyModel(g){if(g.isCancellationRequested||!this.isProviderValid())return{statusPromise:this._invalid(),modelPromise:null};const c=(0,L.createCancelablePromise)(f=>this.createModelFromProvider(f));return{statusPromise:c.then(f=>this.isModelValid(f)?g.isCancellationRequested?n.CANCELED:(this._stickyModel=this.createStickyModel(g,f),n.VALID):this._invalid()).then(void 0,f=>((0,b.onUnexpectedError)(f),n.CANCELED)),modelPromise:c}}isModelValid(g){return!0}isProviderValid(){return!0}}let u=class extends v{constructor(g,c){super(g),this._languageFeaturesService=c}createModelFromProvider(g){return D.OutlineModel.create(this._languageFeaturesService.documentSymbolProvider,this._editor.getModel(),g)}createStickyModel(g,c){var f;const{stickyOutlineElement:_,providerID:S}=this._stickyModelFromOutlineModel(c,(f=this._stickyModel)===null||f===void 0?void 0:f.outlineProviderId),I=this._editor.getModel();return new a.StickyModel(I.uri,I.getVersionId(),_,S)}isModelValid(g){return g&&g.children.size>0}_stickyModelFromOutlineModel(g,c){let f;if(s.Iterable.first(g.children.values())instanceof D.OutlineGroup){const E=s.Iterable.find(g.children.values(),T=>T.id===c);if(E)f=E.children;else{let T="",N=-1,A;for(const[O,M]of g.children.entries()){const P=this._findSumOfRangesOfGroup(M);P>N&&(A=M,N=P,T=M.id)}c=T,f=A.children}}else f=g.children;const _=[],S=Array.from(f.values()).sort((E,T)=>{const N=new a.StickyRange(E.symbol.range.startLineNumber,E.symbol.range.endLineNumber),A=new a.StickyRange(T.symbol.range.startLineNumber,T.symbol.range.endLineNumber);return this._comparator(N,A)});for(const E of S)_.push(this._stickyModelFromOutlineElement(E,E.symbol.selectionRange.startLineNumber));return{stickyOutlineElement:new a.StickyElement(void 0,_,void 0),providerID:c}}_stickyModelFromOutlineElement(g,c){const f=[];for(const S of g.children.values())if(S.symbol.selectionRange.startLineNumber!==S.symbol.range.endLineNumber)if(S.symbol.selectionRange.startLineNumber!==c)f.push(this._stickyModelFromOutlineElement(S,S.symbol.selectionRange.startLineNumber));else for(const I of S.children.values())f.push(this._stickyModelFromOutlineElement(I,S.symbol.selectionRange.startLineNumber));f.sort((S,I)=>this._comparator(S.range,I.range));const _=new a.StickyRange(g.symbol.selectionRange.startLineNumber,g.symbol.range.endLineNumber);return new a.StickyElement(_,f,void 0)}_comparator(g,c){return g.startLineNumber!==c.startLineNumber?g.startLineNumber-c.startLineNumber:c.endLineNumber-g.endLineNumber}_findSumOfRangesOfGroup(g){let c=0;for(const f of g.children.values())c+=this._findSumOfRangesOfGroup(f);return g instanceof D.OutlineElement?c+g.symbol.range.endLineNumber-g.symbol.selectionRange.startLineNumber:c}};u=Ie([he(1,k.ILanguageFeaturesService)],u);class d extends v{constructor(g){super(g),this._foldingLimitReporter=new y.RangesLimitReporter(g)}createStickyModel(g,c){const f=this._fromFoldingRegions(c),_=this._editor.getModel();return new a.StickyModel(_.uri,_.getVersionId(),f,void 0)}isModelValid(g){return g!==null}_fromFoldingRegions(g){const c=g.length,f=[],_=new a.StickyElement(void 0,[],void 0);for(let S=0;S<c;S++){const I=g.getParentIndex(S);let E;I!==-1?E=f[I]:E=_;const T=new a.StickyElement(new a.StickyRange(g.getStartLineNumber(S),g.getEndLineNumber(S)+1),[],E);E.children.push(T),f.push(T)}return _}}let r=class extends d{constructor(g,c){super(g),this._languageConfigurationService=c,this.provider=this._register(new w.IndentRangeProvider(g.getModel(),this._languageConfigurationService,this._foldingLimitReporter))}async createModelFromProvider(g){return this.provider.compute(g)}};r=Ie([he(1,C.ILanguageConfigurationService)],r);let l=class extends d{constructor(g,c,f){super(g),this._languageFeaturesService=f;const _=y.FoldingController.getFoldingRangeProviders(this._languageFeaturesService,g.getModel());_.length>0&&(this.provider=this._register(new p.SyntaxRangeProvider(g.getModel(),_,c,this._foldingLimitReporter,void 0)))}isProviderValid(){return this.provider!==void 0}async createModelFromProvider(g){var c,f;return(f=(c=this.provider)===null||c===void 0?void 0:c.compute(g))!==null&&f!==void 0?f:null}};l=Ie([he(2,k.ILanguageFeaturesService)],l)}),define(te[953],ie([1,0,2,18,20,15,13,7,33,952]),function(J,e,m,k,D,L,y,p,w,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StickyLineCandidateProvider=e.StickyLineCandidate=void 0;class b{constructor(i,t,n){this.startLineNumber=i,this.endLineNumber=t,this.nestingDepth=n}}e.StickyLineCandidate=b;let a=class extends m.Disposable{constructor(i,t,n){super(),this._languageFeaturesService=t,this._languageConfigurationService=n,this._onDidChangeStickyScroll=this._register(new p.Emitter),this.onDidChangeStickyScroll=this._onDidChangeStickyScroll.event,this._model=null,this._cts=null,this._stickyModelProvider=null,this._editor=i,this._sessionStore=this._register(new m.DisposableStore),this._updateSoon=this._register(new L.RunOnceScheduler(()=>this.update(),50)),this._register(this._editor.onDidChangeConfiguration(h=>{h.hasChanged(115)&&this.readConfiguration()})),this.readConfiguration()}readConfiguration(){this._sessionStore.clear(),this._editor.getOption(115).enabled&&(this._sessionStore.add(this._editor.onDidChangeModel(()=>{this._model=null,this.updateStickyModelProvider(),this._onDidChangeStickyScroll.fire(),this.update()})),this._sessionStore.add(this._editor.onDidChangeHiddenAreas(()=>this.update())),this._sessionStore.add(this._editor.onDidChangeModelContent(()=>this._updateSoon.schedule())),this._sessionStore.add(this._languageFeaturesService.documentSymbolProvider.onDidChange(()=>this.update())),this._sessionStore.add((0,m.toDisposable)(()=>{var t;(t=this._stickyModelProvider)===null||t===void 0||t.dispose(),this._stickyModelProvider=null})),this.updateStickyModelProvider(),this.update())}getVersionId(){var i;return(i=this._model)===null||i===void 0?void 0:i.version}updateStickyModelProvider(){var i;(i=this._stickyModelProvider)===null||i===void 0||i.dispose(),this._stickyModelProvider=null;const t=this._editor;t.hasModel()&&(this._stickyModelProvider=new C.StickyModelProvider(t,()=>this._updateSoon.schedule(),this._languageConfigurationService,this._languageFeaturesService))}async update(){var i;(i=this._cts)===null||i===void 0||i.dispose(!0),this._cts=new D.CancellationTokenSource,await this.updateStickyModel(this._cts.token),this._onDidChangeStickyScroll.fire()}async updateStickyModel(i){if(!this._editor.hasModel()||!this._stickyModelProvider||this._editor.getModel().isTooLargeForTokenization()){this._model=null;return}const t=await this._stickyModelProvider.update(i);i.isCancellationRequested||(this._model=t)}updateIndex(i){return i===-1?i=0:i<0&&(i=-i-2),i}getCandidateStickyLinesIntersectingFromStickyModel(i,t,n,h,v){if(t.children.length===0)return;let u=v;const d=[];for(let o=0;o<t.children.length;o++){const g=t.children[o];g.range&&d.push(g.range.startLineNumber)}const r=this.updateIndex((0,y.binarySearch)(d,i.startLineNumber,(o,g)=>o-g)),l=this.updateIndex((0,y.binarySearch)(d,i.startLineNumber+h,(o,g)=>o-g));for(let o=r;o<=l;o++){const g=t.children[o];if(!g)return;if(g.range){const c=g.range.startLineNumber,f=g.range.endLineNumber;i.startLineNumber<=f+1&&c-1<=i.endLineNumber&&c!==u&&(u=c,n.push(new b(c,f-1,h+1)),this.getCandidateStickyLinesIntersectingFromStickyModel(i,g,n,h+1,c))}else this.getCandidateStickyLinesIntersectingFromStickyModel(i,g,n,h,v)}}getCandidateStickyLinesIntersecting(i){var t,n;if(!(!((t=this._model)===null||t===void 0)&&t.element))return[];let h=[];this.getCandidateStickyLinesIntersectingFromStickyModel(i,this._model.element,h,0,-1);const v=(n=this._editor._getViewModel())===null||n===void 0?void 0:n.getHiddenAreas();if(v)for(const u of v)h=h.filter(d=>!(d.startLineNumber>=u.startLineNumber&&d.endLineNumber<=u.endLineNumber+1));return h}};e.StickyLineCandidateProvider=a,e.StickyLineCandidateProvider=a=Ie([he(1,k.ILanguageFeaturesService),he(2,w.ILanguageConfigurationService)],a)}),define(te[954],ie([1,0,6,98,13,2,30,271,176,9,110,145,129,399,500]),function(J,e,m,k,D,L,y,p,w,C,b,a,s,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StickyScrollWidget=e.StickyScrollWidgetState=void 0;class t{constructor(c,f,_,S=null){this.startLineNumbers=c,this.endLineNumbers=f,this.lastLineRelativePosition=_,this.showEndForLine=S}equals(c){return!!c&&this.lastLineRelativePosition===c.lastLineRelativePosition&&this.showEndForLine===c.showEndForLine&&(0,D.equals)(this.startLineNumbers,c.startLineNumbers)&&(0,D.equals)(this.endLineNumbers,c.endLineNumbers)}}e.StickyScrollWidgetState=t;const n=(0,k.createTrustedTypesPolicy)("stickyScrollViewLayer",{createHTML:g=>g}),h="data-sticky-line-index",v="data-sticky-is-line",u="data-sticky-is-line-number",d="data-sticky-is-folding-icon";class r extends L.Disposable{constructor(c){super(),this._editor=c,this._foldingIconStore=new L.DisposableStore,this._rootDomNode=document.createElement("div"),this._lineNumbersDomNode=document.createElement("div"),this._linesDomNodeScrollable=document.createElement("div"),this._linesDomNode=document.createElement("div"),this._lineHeight=this._editor.getOption(67),this._renderedStickyLines=[],this._lineNumbers=[],this._lastLineRelativePosition=0,this._minContentWidthInPx=0,this._isOnGlyphMargin=!1,this._lineNumbersDomNode.className="sticky-widget-line-numbers",this._lineNumbersDomNode.setAttribute("role","none"),this._linesDomNode.className="sticky-widget-lines",this._linesDomNode.setAttribute("role","list"),this._linesDomNodeScrollable.className="sticky-widget-lines-scrollable",this._linesDomNodeScrollable.appendChild(this._linesDomNode),this._rootDomNode.className="sticky-widget",this._rootDomNode.classList.toggle("peek",c instanceof w.EmbeddedCodeEditorWidget),this._rootDomNode.appendChild(this._lineNumbersDomNode),this._rootDomNode.appendChild(this._linesDomNodeScrollable);const f=()=>{this._linesDomNode.style.left=this._editor.getOption(115).scrollWithEditor?`-${this._editor.getScrollLeft()}px`:"0px"};this._register(this._editor.onDidChangeConfiguration(_=>{_.hasChanged(115)&&f(),_.hasChanged(67)&&(this._lineHeight=this._editor.getOption(67))})),this._register(this._editor.onDidScrollChange(_=>{_.scrollLeftChanged&&f(),_.scrollWidthChanged&&this._updateWidgetWidth()})),this._register(this._editor.onDidChangeModel(()=>{f(),this._updateWidgetWidth()})),this._register(this._foldingIconStore),f(),this._register(this._editor.onDidLayoutChange(_=>{this._updateWidgetWidth()})),this._updateWidgetWidth()}get lineNumbers(){return this._lineNumbers}get lineNumberCount(){return this._lineNumbers.length}getRenderedStickyLine(c){return this._renderedStickyLines.find(f=>f.lineNumber===c)}getCurrentLines(){return this._lineNumbers}setState(c,f,_){if(_===void 0&&(!this._previousState&&!c||this._previousState&&this._previousState.equals(c)))return;const S=this._isWidgetHeightZero(c),I=S?void 0:c,E=S?0:this._findLineToRebuildWidgetFrom(c,_);this._renderRootNode(I,f,E),this._previousState=c}_isWidgetHeightZero(c){if(!c)return!0;const f=c.startLineNumbers.length*this._lineHeight+c.lastLineRelativePosition;if(f>0){this._lastLineRelativePosition=c.lastLineRelativePosition;const _=[...c.startLineNumbers];c.showEndForLine!==null&&(_[c.showEndForLine]=c.endLineNumbers[c.showEndForLine]),this._lineNumbers=_}else this._lastLineRelativePosition=0,this._lineNumbers=[];return f===0}_findLineToRebuildWidgetFrom(c,f){if(!c||!this._previousState)return 0;if(f!==void 0)return f;const _=this._previousState,S=c.startLineNumbers.findIndex(I=>!_.startLineNumbers.includes(I));return S===-1?0:S}_updateWidgetWidth(){const c=this._editor.getLayoutInfo(),f=c.contentLeft;this._lineNumbersDomNode.style.width=`${f}px`,this._linesDomNodeScrollable.style.setProperty("--vscode-editorStickyScroll-scrollableWidth",`${this._editor.getScrollWidth()-c.verticalScrollbarWidth}px`),this._rootDomNode.style.width=`${c.width-c.verticalScrollbarWidth}px`}_clearStickyLinesFromLine(c){this._foldingIconStore.clear();for(let f=c;f<this._renderedStickyLines.length;f++){const _=this._renderedStickyLines[f];_.lineNumberDomNode.remove(),_.lineDomNode.remove()}this._renderedStickyLines=this._renderedStickyLines.slice(0,c),this._rootDomNode.style.display="none"}_useFoldingOpacityTransition(c){this._lineNumbersDomNode.style.setProperty("--vscode-editorStickyScroll-foldingOpacityTransition",`opacity ${c?.5:0}s`)}_setFoldingIconsVisibility(c){for(const f of this._renderedStickyLines){const _=f.foldingIcon;_&&_.setVisible(c?!0:_.isCollapsed)}}async _renderRootNode(c,f,_){if(this._clearStickyLinesFromLine(_),!c)return;for(const T of this._renderedStickyLines)this._updateTopAndZIndexOfStickyLine(T);const S=this._editor.getLayoutInfo(),I=this._lineNumbers.slice(_);for(const[T,N]of I.entries()){const A=this._renderChildNode(T+_,N,f,S);A&&(this._linesDomNode.appendChild(A.lineDomNode),this._lineNumbersDomNode.appendChild(A.lineNumberDomNode),this._renderedStickyLines.push(A))}f&&(this._setFoldingHoverListeners(),this._useFoldingOpacityTransition(!this._isOnGlyphMargin));const E=this._lineNumbers.length*this._lineHeight+this._lastLineRelativePosition;this._rootDomNode.style.display="block",this._lineNumbersDomNode.style.height=`${E}px`,this._linesDomNodeScrollable.style.height=`${E}px`,this._rootDomNode.style.height=`${E}px`,this._rootDomNode.style.marginLeft="0px",this._minContentWidthInPx=Math.max(...this._renderedStickyLines.map(T=>T.scrollWidth))+S.verticalScrollbarWidth,this._editor.layoutOverlayWidget(this)}_setFoldingHoverListeners(){this._editor.getOption(110)==="mouseover"&&(this._foldingIconStore.add(m.addDisposableListener(this._lineNumbersDomNode,m.EventType.MOUSE_ENTER,()=>{this._isOnGlyphMargin=!0,this._setFoldingIconsVisibility(!0)})),this._foldingIconStore.add(m.addDisposableListener(this._lineNumbersDomNode,m.EventType.MOUSE_LEAVE,()=>{this._isOnGlyphMargin=!1,this._useFoldingOpacityTransition(!0),this._setFoldingIconsVisibility(!1)})))}_renderChildNode(c,f,_,S){const I=this._editor._getViewModel();if(!I)return;const E=I.coordinatesConverter.convertModelPositionToViewPosition(new C.Position(f,1)).lineNumber,T=I.getViewLineRenderingData(E),N=this._editor.getOption(68);let A;try{A=a.LineDecoration.filter(T.inlineDecorations,E,T.minColumn,T.maxColumn)}catch{A=[]}const O=new s.RenderLineInput(!0,!0,T.content,T.continuesWithWrappedLine,T.isBasicASCII,T.containsRTL,0,T.tokens,A,T.tabSize,T.startVisibleColumn,1,1,1,500,"none",!0,!0,null),M=new b.StringBuilder(2e3),P=(0,s.renderViewLine)(O,M);let x;n?x=n.createHTML(M.build()):x=M.build();const R=document.createElement("span");R.setAttribute(h,String(c)),R.setAttribute(v,""),R.setAttribute("role","listitem"),R.tabIndex=0,R.className="sticky-line-content",R.classList.add(`stickyLine${f}`),R.style.lineHeight=`${this._lineHeight}px`,R.innerHTML=x;const B=document.createElement("span");B.setAttribute(h,String(c)),B.setAttribute(u,""),B.className="sticky-line-number",B.style.lineHeight=`${this._lineHeight}px`;const H=S.contentLeft;B.style.width=`${H}px`;const V=document.createElement("span");N.renderType===1||N.renderType===3&&f%10===0?V.innerText=f.toString():N.renderType===2&&(V.innerText=Math.abs(f-this._editor.getPosition().lineNumber).toString()),V.className="sticky-line-number-inner",V.style.lineHeight=`${this._lineHeight}px`,V.style.width=`${S.lineNumbersWidth}px`,V.style.paddingLeft=`${S.lineNumbersLeft}px`,B.appendChild(V);const q=this._renderFoldingIconForLine(_,f);q&&B.appendChild(q.domNode),this._editor.applyFontInfo(R),this._editor.applyFontInfo(V),B.style.lineHeight=`${this._lineHeight}px`,R.style.lineHeight=`${this._lineHeight}px`,B.style.height=`${this._lineHeight}px`,R.style.height=`${this._lineHeight}px`;const K=new l(c,f,R,B,q,P.characterMapping,R.scrollWidth);return this._updateTopAndZIndexOfStickyLine(K)}_updateTopAndZIndexOfStickyLine(c){var f;const _=c.index,S=c.lineDomNode,I=c.lineNumberDomNode,E=_===this._lineNumbers.length-1,T="0",N="1";S.style.zIndex=E?T:N,I.style.zIndex=E?T:N;const A=`${_*this._lineHeight+this._lastLineRelativePosition+(!((f=c.foldingIcon)===null||f===void 0)&&f.isCollapsed?1:0)}px`,O=`${_*this._lineHeight}px`;return S.style.top=E?A:O,I.style.top=E?A:O,c}_renderFoldingIconForLine(c,f){const _=this._editor.getOption(110);if(!c||_==="never")return;const S=c.regions,I=S.findRange(f),E=S.getStartLineNumber(I);if(!(f===E))return;const N=S.isCollapsed(I),A=new o(N,E,S.getEndLineNumber(I),this._lineHeight);return A.setVisible(this._isOnGlyphMargin?!0:N||_==="always"),A.domNode.setAttribute(d,""),A}getId(){return"editor.contrib.stickyScrollWidget"}getDomNode(){return this._rootDomNode}getPosition(){return{preference:null}}getMinContentWidthInPx(){return this._minContentWidthInPx}focusLineWithIndex(c){0<=c&&c<this._renderedStickyLines.length&&this._renderedStickyLines[c].lineDomNode.focus()}getEditorPositionFromNode(c){if(!c||c.children.length>0)return null;const f=this._getRenderedStickyLineFromChildDomNode(c);if(!f)return null;const _=(0,p.getColumnOfNodeOffset)(f.characterMapping,c,0);return new C.Position(f.lineNumber,_)}getLineNumberFromChildDomNode(c){var f,_;return(_=(f=this._getRenderedStickyLineFromChildDomNode(c))===null||f===void 0?void 0:f.lineNumber)!==null&&_!==void 0?_:null}_getRenderedStickyLineFromChildDomNode(c){const f=this.getLineIndexFromChildDomNode(c);return f===null||f<0||f>=this._renderedStickyLines.length?null:this._renderedStickyLines[f]}getLineIndexFromChildDomNode(c){const f=this._getAttributeValue(c,h);return f?parseInt(f,10):null}isInStickyLine(c){return this._getAttributeValue(c,v)!==void 0}isInFoldingIconDomNode(c){return this._getAttributeValue(c,d)!==void 0}_getAttributeValue(c,f){for(;c&&c!==this._rootDomNode;){const _=c.getAttribute(f);if(_!==null)return _;c=c.parentElement}}}e.StickyScrollWidget=r;class l{constructor(c,f,_,S,I,E,T){this.index=c,this.lineNumber=f,this.lineDomNode=_,this.lineNumberDomNode=S,this.foldingIcon=I,this.characterMapping=E,this.scrollWidth=T}}class o{constructor(c,f,_,S){this.isCollapsed=c,this.foldingStartLine=f,this.foldingEndLine=_,this.dimension=S,this.domNode=document.createElement("div"),this.domNode.style.width=`${S}px`,this.domNode.style.height=`${S}px`,this.domNode.className=y.ThemeIcon.asClassName(c?i.foldingCollapsedIcon:i.foldingExpandedIcon)}setVisible(c){this.domNode.style.cursor=c?"pointer":"default",this.domNode.style.opacity=c?"1":"0"}}}),define(te[955],ie([1,0,6,109,15,12,7,2,134,11,176,917,747,14,8,97,31,93,23,241,149,374,912,106,45,187,501,270]),function(J,e,m,k,D,L,y,p,w,C,b,a,s,i,t,n,h,v,u,d,r,l,o,g,c){"use strict";var f;Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestContentWidget=e.SuggestWidget=e.editorSuggestWidgetSelectedBackground=void 0,(0,h.registerColor)("editorSuggestWidget.background",{dark:h.editorWidgetBackground,light:h.editorWidgetBackground,hcDark:h.editorWidgetBackground,hcLight:h.editorWidgetBackground},s.localize(0,null)),(0,h.registerColor)("editorSuggestWidget.border",{dark:h.editorWidgetBorder,light:h.editorWidgetBorder,hcDark:h.editorWidgetBorder,hcLight:h.editorWidgetBorder},s.localize(1,null));const _=(0,h.registerColor)("editorSuggestWidget.foreground",{dark:h.editorForeground,light:h.editorForeground,hcDark:h.editorForeground,hcLight:h.editorForeground},s.localize(2,null));(0,h.registerColor)("editorSuggestWidget.selectedForeground",{dark:h.quickInputListFocusForeground,light:h.quickInputListFocusForeground,hcDark:h.quickInputListFocusForeground,hcLight:h.quickInputListFocusForeground},s.localize(3,null)),(0,h.registerColor)("editorSuggestWidget.selectedIconForeground",{dark:h.quickInputListFocusIconForeground,light:h.quickInputListFocusIconForeground,hcDark:h.quickInputListFocusIconForeground,hcLight:h.quickInputListFocusIconForeground},s.localize(4,null)),e.editorSuggestWidgetSelectedBackground=(0,h.registerColor)("editorSuggestWidget.selectedBackground",{dark:h.quickInputListFocusBackground,light:h.quickInputListFocusBackground,hcDark:h.quickInputListFocusBackground,hcLight:h.quickInputListFocusBackground},s.localize(5,null)),(0,h.registerColor)("editorSuggestWidget.highlightForeground",{dark:h.listHighlightForeground,light:h.listHighlightForeground,hcDark:h.listHighlightForeground,hcLight:h.listHighlightForeground},s.localize(6,null)),(0,h.registerColor)("editorSuggestWidget.focusHighlightForeground",{dark:h.listFocusHighlightForeground,light:h.listFocusHighlightForeground,hcDark:h.listFocusHighlightForeground,hcLight:h.listFocusHighlightForeground},s.localize(7,null)),(0,h.registerColor)("editorSuggestWidgetStatus.foreground",{dark:(0,h.transparent)(_,.5),light:(0,h.transparent)(_,.5),hcDark:(0,h.transparent)(_,.5),hcLight:(0,h.transparent)(_,.5)},s.localize(8,null));class S{constructor(N,A){this._service=N,this._key=`suggestWidget.size/${A.getEditorType()}/${A instanceof b.EmbeddedCodeEditorWidget}`}restore(){var N;const A=(N=this._service.get(this._key,0))!==null&&N!==void 0?N:"";try{const O=JSON.parse(A);if(m.Dimension.is(O))return m.Dimension.lift(O)}catch{}}store(N){this._service.store(this._key,JSON.stringify(N),0,1)}reset(){this._service.remove(this._key,0)}}let I=f=class{constructor(N,A,O,M,P){this.editor=N,this._storageService=A,this._state=0,this._isAuto=!1,this._pendingLayout=new p.MutableDisposable,this._pendingShowDetails=new p.MutableDisposable,this._ignoreFocusEvents=!1,this._forceRenderingAbove=!1,this._explainMode=!1,this._showTimeout=new D.TimeoutTimer,this._disposables=new p.DisposableStore,this._onDidSelect=new y.PauseableEmitter,this._onDidFocus=new y.PauseableEmitter,this._onDidHide=new y.Emitter,this._onDidShow=new y.Emitter,this.onDidSelect=this._onDidSelect.event,this.onDidFocus=this._onDidFocus.event,this.onDidHide=this._onDidHide.event,this.onDidShow=this._onDidShow.event,this._onDetailsKeydown=new y.Emitter,this.onDetailsKeyDown=this._onDetailsKeydown.event,this.element=new d.ResizableHTMLElement,this.element.domNode.classList.add("editor-widget","suggest-widget"),this._contentWidget=new E(this,N),this._persistedSize=new S(A,N);class x{constructor(U,$,se=!1,F=!1){this.persistedSize=U,this.currentSize=$,this.persistHeight=se,this.persistWidth=F}}let R;this._disposables.add(this.element.onDidWillResize(()=>{this._contentWidget.lockPreference(),R=new x(this._persistedSize.restore(),this.element.size)})),this._disposables.add(this.element.onDidResize(K=>{var U,$,se,F;if(this._resize(K.dimension.width,K.dimension.height),R&&(R.persistHeight=R.persistHeight||!!K.north||!!K.south,R.persistWidth=R.persistWidth||!!K.east||!!K.west),!!K.done){if(R){const{itemHeight:X,defaultSize:Q}=this.getLayoutInfo(),Z=Math.round(X/2);let{width:ae,height:ue}=this.element.size;(!R.persistHeight||Math.abs(R.currentSize.height-ue)<=Z)&&(ue=($=(U=R.persistedSize)===null||U===void 0?void 0:U.height)!==null&&$!==void 0?$:Q.height),(!R.persistWidth||Math.abs(R.currentSize.width-ae)<=Z)&&(ae=(F=(se=R.persistedSize)===null||se===void 0?void 0:se.width)!==null&&F!==void 0?F:Q.width),this._persistedSize.store(new m.Dimension(ae,ue))}this._contentWidget.unlockPreference(),R=void 0}})),this._messageElement=m.append(this.element.domNode,m.$(".message")),this._listElement=m.append(this.element.domNode,m.$(".tree"));const B=this._disposables.add(P.createInstance(l.SuggestDetailsWidget,this.editor));B.onDidClose(this.toggleDetails,this,this._disposables),this._details=new l.SuggestDetailsOverlay(B,this.editor);const H=()=>this.element.domNode.classList.toggle("no-icons",!this.editor.getOption(118).showIcons);H();const V=P.createInstance(o.ItemRenderer,this.editor);this._disposables.add(V),this._disposables.add(V.onDidToggleDetails(()=>this.toggleDetails())),this._list=new k.List("SuggestWidget",this._listElement,{getHeight:K=>this.getLayoutInfo().itemHeight,getTemplateId:K=>"suggestion"},[V],{alwaysConsumeMouseWheel:!0,useShadows:!1,mouseSupport:!1,multipleSelectionSupport:!1,accessibilityProvider:{getRole:()=>"option",getWidgetAriaLabel:()=>s.localize(11,null),getWidgetRole:()=>"listbox",getAriaLabel:K=>{let U=K.textLabel;if(typeof K.completion.label!="string"){const{detail:X,description:Q}=K.completion.label;X&&Q?U=s.localize(12,null,U,X,Q):X?U=s.localize(13,null,U,X):Q&&(U=s.localize(14,null,U,Q))}if(!K.isResolved||!this._isDetailsVisible())return U;const{documentation:$,detail:se}=K.completion,F=C.format("{0}{1}",se||"",$?typeof $=="string"?$:$.value:"");return s.localize(15,null,U,F)}}}),this._list.style((0,g.getListStyles)({listInactiveFocusBackground:e.editorSuggestWidgetSelectedBackground,listInactiveFocusOutline:h.activeContrastBorder})),this._status=P.createInstance(a.SuggestWidgetStatus,this.element.domNode,r.suggestWidgetStatusbarMenu);const q=()=>this.element.domNode.classList.toggle("with-status-bar",this.editor.getOption(118).showStatusBar);q(),this._disposables.add(M.onDidColorThemeChange(K=>this._onThemeChange(K))),this._onThemeChange(M.getColorTheme()),this._disposables.add(this._list.onMouseDown(K=>this._onListMouseDownOrTap(K))),this._disposables.add(this._list.onTap(K=>this._onListMouseDownOrTap(K))),this._disposables.add(this._list.onDidChangeSelection(K=>this._onListSelection(K))),this._disposables.add(this._list.onDidChangeFocus(K=>this._onListFocus(K))),this._disposables.add(this.editor.onDidChangeCursorSelection(()=>this._onCursorSelectionChanged())),this._disposables.add(this.editor.onDidChangeConfiguration(K=>{K.hasChanged(118)&&(q(),H()),this._completionModel&&(K.hasChanged(50)||K.hasChanged(119)||K.hasChanged(120))&&this._list.splice(0,this._list.length,this._completionModel.items)})),this._ctxSuggestWidgetVisible=r.Context.Visible.bindTo(O),this._ctxSuggestWidgetDetailsVisible=r.Context.DetailsVisible.bindTo(O),this._ctxSuggestWidgetMultipleSuggestions=r.Context.MultipleSuggestions.bindTo(O),this._ctxSuggestWidgetHasFocusedSuggestion=r.Context.HasFocusedSuggestion.bindTo(O),this._disposables.add(m.addStandardDisposableListener(this._details.widget.domNode,"keydown",K=>{this._onDetailsKeydown.fire(K)})),this._disposables.add(this.editor.onMouseDown(K=>this._onEditorMouseDown(K)))}dispose(){var N;this._details.widget.dispose(),this._details.dispose(),this._list.dispose(),this._status.dispose(),this._disposables.dispose(),(N=this._loadingTimeout)===null||N===void 0||N.dispose(),this._pendingLayout.dispose(),this._pendingShowDetails.dispose(),this._showTimeout.dispose(),this._contentWidget.dispose(),this.element.dispose()}_onEditorMouseDown(N){this._details.widget.domNode.contains(N.target.element)?this._details.widget.domNode.focus():this.element.domNode.contains(N.target.element)&&this.editor.focus()}_onCursorSelectionChanged(){this._state!==0&&this._contentWidget.layout()}_onListMouseDownOrTap(N){typeof N.element>"u"||typeof N.index>"u"||(N.browserEvent.preventDefault(),N.browserEvent.stopPropagation(),this._select(N.element,N.index))}_onListSelection(N){N.elements.length&&this._select(N.elements[0],N.indexes[0])}_select(N,A){const O=this._completionModel;O&&(this._onDidSelect.fire({item:N,index:A,model:O}),this.editor.focus())}_onThemeChange(N){this._details.widget.borderWidth=(0,v.isHighContrast)(N.type)?2:1}_onListFocus(N){var A;if(this._ignoreFocusEvents)return;if(!N.elements.length){this._currentSuggestionDetails&&(this._currentSuggestionDetails.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=void 0),this.editor.setAriaOptions({activeDescendant:void 0}),this._ctxSuggestWidgetHasFocusedSuggestion.set(!1);return}if(!this._completionModel)return;this._ctxSuggestWidgetHasFocusedSuggestion.set(!0);const O=N.elements[0],M=N.indexes[0];O!==this._focusedItem&&((A=this._currentSuggestionDetails)===null||A===void 0||A.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=O,this._list.reveal(M),this._currentSuggestionDetails=(0,D.createCancelablePromise)(async P=>{const x=(0,D.disposableTimeout)(()=>{this._isDetailsVisible()&&this.showDetails(!0)},250),R=P.onCancellationRequested(()=>x.dispose());try{return await O.resolve(P)}finally{x.dispose(),R.dispose()}}),this._currentSuggestionDetails.then(()=>{M>=this._list.length||O!==this._list.element(M)||(this._ignoreFocusEvents=!0,this._list.splice(M,1,[O]),this._list.setFocus([M]),this._ignoreFocusEvents=!1,this._isDetailsVisible()?this.showDetails(!1):this.element.domNode.classList.remove("docs-side"),this.editor.setAriaOptions({activeDescendant:(0,o.getAriaId)(M)}))}).catch(L.onUnexpectedError)),this._onDidFocus.fire({item:O,index:M,model:this._completionModel})}_setState(N){if(this._state!==N)switch(this._state=N,this.element.domNode.classList.toggle("frozen",N===4),this.element.domNode.classList.remove("message"),N){case 0:m.hide(this._messageElement,this._listElement,this._status.element),this._details.hide(!0),this._status.hide(),this._contentWidget.hide(),this._ctxSuggestWidgetVisible.reset(),this._ctxSuggestWidgetMultipleSuggestions.reset(),this._ctxSuggestWidgetHasFocusedSuggestion.reset(),this._showTimeout.cancel(),this.element.domNode.classList.remove("visible"),this._list.splice(0,this._list.length),this._focusedItem=void 0,this._cappedHeight=void 0,this._explainMode=!1;break;case 1:this.element.domNode.classList.add("message"),this._messageElement.textContent=f.LOADING_MESSAGE,m.hide(this._listElement,this._status.element),m.show(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0,(0,c.status)(f.LOADING_MESSAGE);break;case 2:this.element.domNode.classList.add("message"),this._messageElement.textContent=f.NO_SUGGESTIONS_MESSAGE,m.hide(this._listElement,this._status.element),m.show(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0,(0,c.status)(f.NO_SUGGESTIONS_MESSAGE);break;case 3:m.hide(this._messageElement),m.show(this._listElement,this._status.element),this._show();break;case 4:m.hide(this._messageElement),m.show(this._listElement,this._status.element),this._show();break;case 5:m.hide(this._messageElement),m.show(this._listElement,this._status.element),this._details.show(),this._show();break}}_show(){this._status.show(),this._contentWidget.show(),this._layout(this._persistedSize.restore()),this._ctxSuggestWidgetVisible.set(!0),this._showTimeout.cancelAndSet(()=>{this.element.domNode.classList.add("visible"),this._onDidShow.fire(this)},100)}showTriggered(N,A){this._state===0&&(this._contentWidget.setPosition(this.editor.getPosition()),this._isAuto=!!N,this._isAuto||(this._loadingTimeout=(0,D.disposableTimeout)(()=>this._setState(1),A)))}showSuggestions(N,A,O,M,P){var x,R;if(this._contentWidget.setPosition(this.editor.getPosition()),(x=this._loadingTimeout)===null||x===void 0||x.dispose(),(R=this._currentSuggestionDetails)===null||R===void 0||R.cancel(),this._currentSuggestionDetails=void 0,this._completionModel!==N&&(this._completionModel=N),O&&this._state!==2&&this._state!==0){this._setState(4);return}const B=this._completionModel.items.length,H=B===0;if(this._ctxSuggestWidgetMultipleSuggestions.set(B>1),H){this._setState(M?0:2),this._completionModel=void 0;return}this._focusedItem=void 0,this._onDidFocus.pause(),this._onDidSelect.pause();try{this._list.splice(0,this._list.length,this._completionModel.items),this._setState(O?4:3),this._list.reveal(A,0),this._list.setFocus(P?[]:[A])}finally{this._onDidFocus.resume(),this._onDidSelect.resume()}this._pendingLayout.value=m.runAtThisOrScheduleAtNextAnimationFrame(m.getWindow(this.element.domNode),()=>{this._pendingLayout.clear(),this._layout(this.element.size),this._details.widget.domNode.classList.remove("focused")})}focusSelected(){this._list.length>0&&this._list.setFocus([0])}selectNextPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageDown(),!0;case 1:return!this._isAuto;default:return this._list.focusNextPage(),!0}}selectNext(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusNext(1,!0),!0}}selectLast(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollBottom(),!0;case 1:return!this._isAuto;default:return this._list.focusLast(),!0}}selectPreviousPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageUp(),!0;case 1:return!this._isAuto;default:return this._list.focusPreviousPage(),!0}}selectPrevious(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusPrevious(1,!0),!1}}selectFirst(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollTop(),!0;case 1:return!this._isAuto;default:return this._list.focusFirst(),!0}}getFocusedItem(){if(this._state!==0&&this._state!==2&&this._state!==1&&this._completionModel&&this._list.getFocus().length>0)return{item:this._list.getFocusedElements()[0],index:this._list.getFocus()[0],model:this._completionModel}}toggleDetailsFocus(){this._state===5?(this._setState(3),this._details.widget.domNode.classList.remove("focused")):this._state===3&&this._isDetailsVisible()&&(this._setState(5),this._details.widget.domNode.classList.add("focused"))}toggleDetails(){this._isDetailsVisible()?(this._pendingShowDetails.clear(),this._ctxSuggestWidgetDetailsVisible.set(!1),this._setDetailsVisible(!1),this._details.hide(),this.element.domNode.classList.remove("shows-details")):((0,l.canExpandCompletionItem)(this._list.getFocusedElements()[0])||this._explainMode)&&(this._state===3||this._state===5||this._state===4)&&(this._ctxSuggestWidgetDetailsVisible.set(!0),this._setDetailsVisible(!0),this.showDetails(!1))}showDetails(N){this._pendingShowDetails.value=m.runAtThisOrScheduleAtNextAnimationFrame(m.getWindow(this.element.domNode),()=>{this._pendingShowDetails.clear(),this._details.show(),N?this._details.widget.renderLoading():this._details.widget.renderItem(this._list.getFocusedElements()[0],this._explainMode),this._details.widget.isEmpty?this._details.hide():(this._positionDetails(),this.element.domNode.classList.add("shows-details")),this.editor.focus()})}toggleExplainMode(){this._list.getFocusedElements()[0]&&(this._explainMode=!this._explainMode,this._isDetailsVisible()?this.showDetails(!1):this.toggleDetails())}resetPersistedSize(){this._persistedSize.reset()}hideWidget(){var N;this._pendingLayout.clear(),this._pendingShowDetails.clear(),(N=this._loadingTimeout)===null||N===void 0||N.dispose(),this._setState(0),this._onDidHide.fire(this),this.element.clearSashHoverState();const A=this._persistedSize.restore(),O=Math.ceil(this.getLayoutInfo().itemHeight*4.3);A&&A.height<O&&this._persistedSize.store(A.with(void 0,O))}isFrozen(){return this._state===4}_afterRender(N){if(N===null){this._isDetailsVisible()&&this._details.hide();return}this._state===2||this._state===1||(this._isDetailsVisible()&&!this._details.widget.isEmpty&&this._details.show(),this._positionDetails())}_layout(N){var A,O,M;if(!this.editor.hasModel()||!this.editor.getDomNode())return;const P=m.getClientArea(this.element.domNode.ownerDocument.body),x=this.getLayoutInfo();N||(N=x.defaultSize);let R=N.height,B=N.width;if(this._status.element.style.height=`${x.itemHeight}px`,this._state===2||this._state===1)R=x.itemHeight+x.borderHeight,B=x.defaultSize.width/2,this.element.enableSashes(!1,!1,!1,!1),this.element.minSize=this.element.maxSize=new m.Dimension(B,R),this._contentWidget.setPreference(2);else{const H=P.width-x.borderHeight-2*x.horizontalPadding;B>H&&(B=H);const V=this._completionModel?this._completionModel.stats.pLabelLen*x.typicalHalfwidthCharacterWidth:B,q=x.statusBarHeight+this._list.contentHeight+x.borderHeight,K=x.itemHeight+x.statusBarHeight,U=m.getDomNodePagePosition(this.editor.getDomNode()),$=this.editor.getScrolledVisiblePosition(this.editor.getPosition()),se=U.top+$.top+$.height,F=Math.min(P.height-se-x.verticalPadding,q),X=U.top+$.top-x.verticalPadding,Q=Math.min(X,q);let Z=Math.min(Math.max(Q,F)+x.borderHeight,q);R===((A=this._cappedHeight)===null||A===void 0?void 0:A.capped)&&(R=this._cappedHeight.wanted),R<K&&(R=K),R>Z&&(R=Z),R>F||this._forceRenderingAbove&&X>150?(this._contentWidget.setPreference(1),this.element.enableSashes(!0,!0,!1,!1),Z=Q):(this._contentWidget.setPreference(2),this.element.enableSashes(!1,!0,!0,!1),Z=F),this.element.preferredSize=new m.Dimension(V,x.defaultSize.height),this.element.maxSize=new m.Dimension(H,Z),this.element.minSize=new m.Dimension(220,K),this._cappedHeight=R===q?{wanted:(M=(O=this._cappedHeight)===null||O===void 0?void 0:O.wanted)!==null&&M!==void 0?M:N.height,capped:R}:void 0}this._resize(B,R)}_resize(N,A){const{width:O,height:M}=this.element.maxSize;N=Math.min(O,N),A=Math.min(M,A);const{statusBarHeight:P}=this.getLayoutInfo();this._list.layout(A-P,N),this._listElement.style.height=`${A-P}px`,this.element.layout(A,N),this._contentWidget.layout(),this._positionDetails()}_positionDetails(){var N;this._isDetailsVisible()&&this._details.placeAtAnchor(this.element.domNode,((N=this._contentWidget.getPosition())===null||N===void 0?void 0:N.preference[0])===2)}getLayoutInfo(){const N=this.editor.getOption(50),A=(0,w.clamp)(this.editor.getOption(120)||N.lineHeight,8,1e3),O=!this.editor.getOption(118).showStatusBar||this._state===2||this._state===1?0:A,M=this._details.widget.borderWidth,P=2*M;return{itemHeight:A,statusBarHeight:O,borderWidth:M,borderHeight:P,typicalHalfwidthCharacterWidth:N.typicalHalfwidthCharacterWidth,verticalPadding:22,horizontalPadding:14,defaultSize:new m.Dimension(430,O+12*A+P)}}_isDetailsVisible(){return this._storageService.getBoolean("expandSuggestionDocs",0,!1)}_setDetailsVisible(N){this._storageService.store("expandSuggestionDocs",N,0,0)}forceRenderingAbove(){this._forceRenderingAbove||(this._forceRenderingAbove=!0,this._layout(this._persistedSize.restore()))}stopForceRenderingAbove(){this._forceRenderingAbove=!1}};e.SuggestWidget=I,I.LOADING_MESSAGE=s.localize(9,null),I.NO_SUGGESTIONS_MESSAGE=s.localize(10,null),e.SuggestWidget=I=f=Ie([he(1,n.IStorageService),he(2,i.IContextKeyService),he(3,u.IThemeService),he(4,t.IInstantiationService)],I);class E{constructor(N,A){this._widget=N,this._editor=A,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._preferenceLocked=!1,this._added=!1,this._hidden=!1}dispose(){this._added&&(this._added=!1,this._editor.removeContentWidget(this))}getId(){return"editor.widget.suggestWidget"}getDomNode(){return this._widget.element.domNode}show(){this._hidden=!1,this._added||(this._added=!0,this._editor.addContentWidget(this))}hide(){this._hidden||(this._hidden=!0,this.layout())}layout(){this._editor.layoutContentWidget(this)}getPosition(){return this._hidden||!this._position||!this._preference?null:{position:this._position,preference:[this._preference]}}beforeRender(){const{height:N,width:A}=this._widget.element.size,{borderWidth:O,horizontalPadding:M}=this._widget.getLayoutInfo();return new m.Dimension(A+2*O+M,N+2*O)}afterRender(N){this._widget._afterRender(N)}setPreference(N){this._preferenceLocked||(this._preference=N)}lockPreference(){this._preferenceLocked=!0}unlockPreference(){this._preferenceLocked=!1}setPosition(N){this._position=N}}e.SuggestContentWidget=E}),define(te[401],ie([1,0,43,37,29,756,31,23,505]),function(J,e,m,k,D,L,y,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getHighlightDecorationOptions=u,e.getSelectionHighlightDecorationOptions=d;const w=(0,y.registerColor)("editor.wordHighlightBackground",{dark:"#575757B8",light:"#57575740",hcDark:null,hcLight:null},L.localize(0,null),!0);(0,y.registerColor)("editor.wordHighlightStrongBackground",{dark:"#004972B8",light:"#0e639c40",hcDark:null,hcLight:null},L.localize(1,null),!0),(0,y.registerColor)("editor.wordHighlightTextBackground",{light:w,dark:w,hcDark:w,hcLight:w},L.localize(2,null),!0);const C=(0,y.registerColor)("editor.wordHighlightBorder",{light:null,dark:null,hcDark:y.activeContrastBorder,hcLight:y.activeContrastBorder},L.localize(3,null));(0,y.registerColor)("editor.wordHighlightStrongBorder",{light:null,dark:null,hcDark:y.activeContrastBorder,hcLight:y.activeContrastBorder},L.localize(4,null)),(0,y.registerColor)("editor.wordHighlightTextBorder",{light:C,dark:C,hcDark:C,hcLight:C},L.localize(5,null));const b=(0,y.registerColor)("editorOverviewRuler.wordHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hcDark:"#A0A0A0CC",hcLight:"#A0A0A0CC"},L.localize(6,null),!0),a=(0,y.registerColor)("editorOverviewRuler.wordHighlightStrongForeground",{dark:"#C0A0C0CC",light:"#C0A0C0CC",hcDark:"#C0A0C0CC",hcLight:"#C0A0C0CC"},L.localize(7,null),!0),s=(0,y.registerColor)("editorOverviewRuler.wordHighlightTextForeground",{dark:y.overviewRulerSelectionHighlightForeground,light:y.overviewRulerSelectionHighlightForeground,hcDark:y.overviewRulerSelectionHighlightForeground,hcLight:y.overviewRulerSelectionHighlightForeground},L.localize(8,null),!0),i=k.ModelDecorationOptions.register({description:"word-highlight-strong",stickiness:1,className:"wordHighlightStrong",overviewRuler:{color:(0,p.themeColorFromId)(a),position:m.OverviewRulerLane.Center},minimap:{color:(0,p.themeColorFromId)(y.minimapSelectionOccurrenceHighlight),position:1}}),t=k.ModelDecorationOptions.register({description:"word-highlight-text",stickiness:1,className:"wordHighlightText",overviewRuler:{color:(0,p.themeColorFromId)(s),position:m.OverviewRulerLane.Center},minimap:{color:(0,p.themeColorFromId)(y.minimapSelectionOccurrenceHighlight),position:1}}),n=k.ModelDecorationOptions.register({description:"selection-highlight-overview",stickiness:1,className:"selectionHighlight",overviewRuler:{color:(0,p.themeColorFromId)(y.overviewRulerSelectionHighlightForeground),position:m.OverviewRulerLane.Center},minimap:{color:(0,p.themeColorFromId)(y.minimapSelectionOccurrenceHighlight),position:1}}),h=k.ModelDecorationOptions.register({description:"selection-highlight",stickiness:1,className:"selectionHighlight"}),v=k.ModelDecorationOptions.register({description:"word-highlight",stickiness:1,className:"wordHighlight",overviewRuler:{color:(0,p.themeColorFromId)(b),position:m.OverviewRulerLane.Center},minimap:{color:(0,p.themeColorFromId)(y.minimapSelectionOccurrenceHighlight),position:1}});function u(r){return r===D.DocumentHighlightKind.Write?i:r===D.DocumentHighlightKind.Text?t:v}function d(r){return r?h:n}(0,p.registerThemingParticipant)((r,l)=>{const o=r.getColor(y.editorSelectionHighlight);o&&l.addRule(`.monaco-editor .selectionHighlight { background-color: ${o.transparent(.5)}; }`)})}),define(te[956],ie([1,0,45,15,68,2,16,224,5,24,19,398,732,28,14,18,401,8]),function(J,e,m,k,D,L,y,p,w,C,b,a,s,i,t,n,h,v){"use strict";var u;Object.defineProperty(e,"__esModule",{value:!0}),e.FocusPreviousCursor=e.FocusNextCursor=e.SelectionHighlighter=e.CompatChangeAll=e.SelectHighlightsAction=e.MoveSelectionToPreviousFindMatchAction=e.MoveSelectionToNextFindMatchAction=e.AddSelectionToPreviousFindMatchAction=e.AddSelectionToNextFindMatchAction=e.MultiCursorSelectionControllerAction=e.MultiCursorSelectionController=e.MultiCursorSession=e.MultiCursorSessionResult=e.InsertCursorBelow=e.InsertCursorAbove=void 0;function d(q,K){const U=K.filter($=>!q.find(se=>se.equals($)));if(U.length>=1){const $=U.map(F=>`line ${F.viewState.position.lineNumber} column ${F.viewState.position.column}`).join(", "),se=U.length===1?s.localize(0,null,$):s.localize(1,null,$);(0,m.status)(se)}}class r extends y.EditorAction{constructor(){super({id:"editor.action.insertCursorAbove",label:s.localize(2,null),alias:"Add Cursor Above",precondition:void 0,kbOpts:{kbExpr:b.EditorContextKeys.editorTextFocus,primary:2576,linux:{primary:1552,secondary:[3088]},weight:100},menuOpts:{menuId:i.MenuId.MenubarSelectionMenu,group:"3_multi",title:s.localize(3,null),order:2}})}run(K,U,$){if(!U.hasModel())return;let se=!0;$&&$.logicalLine===!1&&(se=!1);const F=U._getViewModel();if(F.cursorConfig.readOnly)return;F.model.pushStackElement();const X=F.getCursorStates();F.setCursorStates($.source,3,p.CursorMoveCommands.addCursorUp(F,X,se)),F.revealTopMostCursor($.source),d(X,F.getCursorStates())}}e.InsertCursorAbove=r;class l extends y.EditorAction{constructor(){super({id:"editor.action.insertCursorBelow",label:s.localize(4,null),alias:"Add Cursor Below",precondition:void 0,kbOpts:{kbExpr:b.EditorContextKeys.editorTextFocus,primary:2578,linux:{primary:1554,secondary:[3090]},weight:100},menuOpts:{menuId:i.MenuId.MenubarSelectionMenu,group:"3_multi",title:s.localize(5,null),order:3}})}run(K,U,$){if(!U.hasModel())return;let se=!0;$&&$.logicalLine===!1&&(se=!1);const F=U._getViewModel();if(F.cursorConfig.readOnly)return;F.model.pushStackElement();const X=F.getCursorStates();F.setCursorStates($.source,3,p.CursorMoveCommands.addCursorDown(F,X,se)),F.revealBottomMostCursor($.source),d(X,F.getCursorStates())}}e.InsertCursorBelow=l;class o extends y.EditorAction{constructor(){super({id:"editor.action.insertCursorAtEndOfEachLineSelected",label:s.localize(6,null),alias:"Add Cursors to Line Ends",precondition:void 0,kbOpts:{kbExpr:b.EditorContextKeys.editorTextFocus,primary:1575,weight:100},menuOpts:{menuId:i.MenuId.MenubarSelectionMenu,group:"3_multi",title:s.localize(7,null),order:4}})}getCursorsForSelection(K,U,$){if(!K.isEmpty()){for(let se=K.startLineNumber;se<K.endLineNumber;se++){const F=U.getLineMaxColumn(se);$.push(new C.Selection(se,F,se,F))}K.endColumn>1&&$.push(new C.Selection(K.endLineNumber,K.endColumn,K.endLineNumber,K.endColumn))}}run(K,U){if(!U.hasModel())return;const $=U.getModel(),se=U.getSelections(),F=U._getViewModel(),X=F.getCursorStates(),Q=[];se.forEach(Z=>this.getCursorsForSelection(Z,$,Q)),Q.length>0&&U.setSelections(Q),d(X,F.getCursorStates())}}class g extends y.EditorAction{constructor(){super({id:"editor.action.addCursorsToBottom",label:s.localize(8,null),alias:"Add Cursors To Bottom",precondition:void 0})}run(K,U){if(!U.hasModel())return;const $=U.getSelections(),se=U.getModel().getLineCount(),F=[];for(let Z=$[0].startLineNumber;Z<=se;Z++)F.push(new C.Selection(Z,$[0].startColumn,Z,$[0].endColumn));const X=U._getViewModel(),Q=X.getCursorStates();F.length>0&&U.setSelections(F),d(Q,X.getCursorStates())}}class c extends y.EditorAction{constructor(){super({id:"editor.action.addCursorsToTop",label:s.localize(9,null),alias:"Add Cursors To Top",precondition:void 0})}run(K,U){if(!U.hasModel())return;const $=U.getSelections(),se=[];for(let Q=$[0].startLineNumber;Q>=1;Q--)se.push(new C.Selection(Q,$[0].startColumn,Q,$[0].endColumn));const F=U._getViewModel(),X=F.getCursorStates();se.length>0&&U.setSelections(se),d(X,F.getCursorStates())}}class f{constructor(K,U,$){this.selections=K,this.revealRange=U,this.revealScrollType=$}}e.MultiCursorSessionResult=f;class _{static create(K,U){if(!K.hasModel())return null;const $=U.getState();if(!K.hasTextFocus()&&$.isRevealed&&$.searchString.length>0)return new _(K,U,!1,$.searchString,$.wholeWord,$.matchCase,null);let se=!1,F,X;const Q=K.getSelections();Q.length===1&&Q[0].isEmpty()?(se=!0,F=!0,X=!0):(F=$.wholeWord,X=$.matchCase);const Z=K.getSelection();let ae,ue=null;if(Z.isEmpty()){const ge=K.getConfiguredWordAtPosition(Z.getStartPosition());if(!ge)return null;ae=ge.word,ue=new C.Selection(Z.startLineNumber,ge.startColumn,Z.startLineNumber,ge.endColumn)}else ae=K.getModel().getValueInRange(Z).replace(/\r\n/g,`
`);return new _(K,U,se,ae,F,X,ue)}constructor(K,U,$,se,F,X,Q){this._editor=K,this.findController=U,this.isDisconnectedFromFindController=$,this.searchText=se,this.wholeWord=F,this.matchCase=X,this.currentMatch=Q}addSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;const K=this._getNextMatch();if(!K)return null;const U=this._editor.getSelections();return new f(U.concat(K),K,0)}moveSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;const K=this._getNextMatch();if(!K)return null;const U=this._editor.getSelections();return new f(U.slice(0,U.length-1).concat(K),K,0)}_getNextMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){const se=this.currentMatch;return this.currentMatch=null,se}this.findController.highlightFindOptions();const K=this._editor.getSelections(),U=K[K.length-1],$=this._editor.getModel().findNextMatch(this.searchText,U.getEndPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(131):null,!1);return $?new C.Selection($.range.startLineNumber,$.range.startColumn,$.range.endLineNumber,$.range.endColumn):null}addSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;const K=this._getPreviousMatch();if(!K)return null;const U=this._editor.getSelections();return new f(U.concat(K),K,0)}moveSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;const K=this._getPreviousMatch();if(!K)return null;const U=this._editor.getSelections();return new f(U.slice(0,U.length-1).concat(K),K,0)}_getPreviousMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){const se=this.currentMatch;return this.currentMatch=null,se}this.findController.highlightFindOptions();const K=this._editor.getSelections(),U=K[K.length-1],$=this._editor.getModel().findPreviousMatch(this.searchText,U.getStartPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(131):null,!1);return $?new C.Selection($.range.startLineNumber,$.range.startColumn,$.range.endLineNumber,$.range.endColumn):null}selectAll(K){if(!this._editor.hasModel())return[];this.findController.highlightFindOptions();const U=this._editor.getModel();return K?U.findMatches(this.searchText,K,!1,this.matchCase,this.wholeWord?this._editor.getOption(131):null,!1,1073741824):U.findMatches(this.searchText,!0,!1,this.matchCase,this.wholeWord?this._editor.getOption(131):null,!1,1073741824)}}e.MultiCursorSession=_;class S extends L.Disposable{static get(K){return K.getContribution(S.ID)}constructor(K){super(),this._sessionDispose=this._register(new L.DisposableStore),this._editor=K,this._ignoreSelectionChange=!1,this._session=null}dispose(){this._endSession(),super.dispose()}_beginSessionIfNeeded(K){if(!this._session){const U=_.create(this._editor,K);if(!U)return;this._session=U;const $={searchString:this._session.searchText};this._session.isDisconnectedFromFindController&&($.wholeWordOverride=1,$.matchCaseOverride=1,$.isRegexOverride=2),K.getState().change($,!1),this._sessionDispose.add(this._editor.onDidChangeCursorSelection(se=>{this._ignoreSelectionChange||this._endSession()})),this._sessionDispose.add(this._editor.onDidBlurEditorText(()=>{this._endSession()})),this._sessionDispose.add(K.getState().onFindReplaceStateChange(se=>{(se.matchCase||se.wholeWord)&&this._endSession()}))}}_endSession(){if(this._sessionDispose.clear(),this._session&&this._session.isDisconnectedFromFindController){const K={wholeWordOverride:0,matchCaseOverride:0,isRegexOverride:0};this._session.findController.getState().change(K,!1)}this._session=null}_setSelections(K){this._ignoreSelectionChange=!0,this._editor.setSelections(K),this._ignoreSelectionChange=!1}_expandEmptyToWord(K,U){if(!U.isEmpty())return U;const $=this._editor.getConfiguredWordAtPosition(U.getStartPosition());return $?new C.Selection(U.startLineNumber,$.startColumn,U.startLineNumber,$.endColumn):U}_applySessionResult(K){K&&(this._setSelections(K.selections),K.revealRange&&this._editor.revealRangeInCenterIfOutsideViewport(K.revealRange,K.revealScrollType))}getSession(K){return this._session}addSelectionToNextFindMatch(K){if(this._editor.hasModel()){if(!this._session){const U=this._editor.getSelections();if(U.length>1){const se=K.getState().matchCase;if(!R(this._editor.getModel(),U,se)){const X=this._editor.getModel(),Q=[];for(let Z=0,ae=U.length;Z<ae;Z++)Q[Z]=this._expandEmptyToWord(X,U[Z]);this._editor.setSelections(Q);return}}}this._beginSessionIfNeeded(K),this._session&&this._applySessionResult(this._session.addSelectionToNextFindMatch())}}addSelectionToPreviousFindMatch(K){this._beginSessionIfNeeded(K),this._session&&this._applySessionResult(this._session.addSelectionToPreviousFindMatch())}moveSelectionToNextFindMatch(K){this._beginSessionIfNeeded(K),this._session&&this._applySessionResult(this._session.moveSelectionToNextFindMatch())}moveSelectionToPreviousFindMatch(K){this._beginSessionIfNeeded(K),this._session&&this._applySessionResult(this._session.moveSelectionToPreviousFindMatch())}selectAll(K){if(!this._editor.hasModel())return;let U=null;const $=K.getState();if($.isRevealed&&$.searchString.length>0&&$.isRegex){const se=this._editor.getModel();$.searchScope?U=se.findMatches($.searchString,$.searchScope,$.isRegex,$.matchCase,$.wholeWord?this._editor.getOption(131):null,!1,1073741824):U=se.findMatches($.searchString,!0,$.isRegex,$.matchCase,$.wholeWord?this._editor.getOption(131):null,!1,1073741824)}else{if(this._beginSessionIfNeeded(K),!this._session)return;U=this._session.selectAll($.searchScope)}if(U.length>0){const se=this._editor.getSelection();for(let F=0,X=U.length;F<X;F++){const Q=U[F];if(Q.range.intersectRanges(se)){U[F]=U[0],U[0]=Q;break}}this._setSelections(U.map(F=>new C.Selection(F.range.startLineNumber,F.range.startColumn,F.range.endLineNumber,F.range.endColumn)))}}}e.MultiCursorSelectionController=S,S.ID="editor.contrib.multiCursorController";class I extends y.EditorAction{run(K,U){const $=S.get(U);if(!$)return;const se=U._getViewModel();if(se){const F=se.getCursorStates(),X=a.CommonFindController.get(U);if(X)this._run($,X);else{const Q=K.get(v.IInstantiationService).createInstance(a.CommonFindController,U);this._run($,Q),Q.dispose()}d(F,se.getCursorStates())}}}e.MultiCursorSelectionControllerAction=I;class E extends I{constructor(){super({id:"editor.action.addSelectionToNextFindMatch",label:s.localize(10,null),alias:"Add Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:b.EditorContextKeys.focus,primary:2082,weight:100},menuOpts:{menuId:i.MenuId.MenubarSelectionMenu,group:"3_multi",title:s.localize(11,null),order:5}})}_run(K,U){K.addSelectionToNextFindMatch(U)}}e.AddSelectionToNextFindMatchAction=E;class T extends I{constructor(){super({id:"editor.action.addSelectionToPreviousFindMatch",label:s.localize(12,null),alias:"Add Selection To Previous Find Match",precondition:void 0,menuOpts:{menuId:i.MenuId.MenubarSelectionMenu,group:"3_multi",title:s.localize(13,null),order:6}})}_run(K,U){K.addSelectionToPreviousFindMatch(U)}}e.AddSelectionToPreviousFindMatchAction=T;class N extends I{constructor(){super({id:"editor.action.moveSelectionToNextFindMatch",label:s.localize(14,null),alias:"Move Last Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:b.EditorContextKeys.focus,primary:(0,D.KeyChord)(2089,2082),weight:100}})}_run(K,U){K.moveSelectionToNextFindMatch(U)}}e.MoveSelectionToNextFindMatchAction=N;class A extends I{constructor(){super({id:"editor.action.moveSelectionToPreviousFindMatch",label:s.localize(15,null),alias:"Move Last Selection To Previous Find Match",precondition:void 0})}_run(K,U){K.moveSelectionToPreviousFindMatch(U)}}e.MoveSelectionToPreviousFindMatchAction=A;class O extends I{constructor(){super({id:"editor.action.selectHighlights",label:s.localize(16,null),alias:"Select All Occurrences of Find Match",precondition:void 0,kbOpts:{kbExpr:b.EditorContextKeys.focus,primary:3114,weight:100},menuOpts:{menuId:i.MenuId.MenubarSelectionMenu,group:"3_multi",title:s.localize(17,null),order:7}})}_run(K,U){K.selectAll(U)}}e.SelectHighlightsAction=O;class M extends I{constructor(){super({id:"editor.action.changeAll",label:s.localize(18,null),alias:"Change All Occurrences",precondition:t.ContextKeyExpr.and(b.EditorContextKeys.writable,b.EditorContextKeys.editorTextFocus),kbOpts:{kbExpr:b.EditorContextKeys.editorTextFocus,primary:2108,weight:100},contextMenuOpts:{group:"1_modification",order:1.2}})}_run(K,U){K.selectAll(U)}}e.CompatChangeAll=M;class P{constructor(K,U,$,se,F){this._model=K,this._searchText=U,this._matchCase=$,this._wordSeparators=se,this._modelVersionId=this._model.getVersionId(),this._cachedFindMatches=null,F&&this._model===F._model&&this._searchText===F._searchText&&this._matchCase===F._matchCase&&this._wordSeparators===F._wordSeparators&&this._modelVersionId===F._modelVersionId&&(this._cachedFindMatches=F._cachedFindMatches)}findMatches(){return this._cachedFindMatches===null&&(this._cachedFindMatches=this._model.findMatches(this._searchText,!0,!1,this._matchCase,this._wordSeparators,!1).map(K=>K.range),this._cachedFindMatches.sort(w.Range.compareRangesUsingStarts)),this._cachedFindMatches}}let x=u=class extends L.Disposable{constructor(K,U){super(),this._languageFeaturesService=U,this.editor=K,this._isEnabled=K.getOption(108),this._decorations=K.createDecorationsCollection(),this.updateSoon=this._register(new k.RunOnceScheduler(()=>this._update(),300)),this.state=null,this._register(K.onDidChangeConfiguration(se=>{this._isEnabled=K.getOption(108)})),this._register(K.onDidChangeCursorSelection(se=>{this._isEnabled&&(se.selection.isEmpty()?se.reason===3?(this.state&&this._setState(null),this.updateSoon.schedule()):this._setState(null):this._update())})),this._register(K.onDidChangeModel(se=>{this._setState(null)})),this._register(K.onDidChangeModelContent(se=>{this._isEnabled&&this.updateSoon.schedule()}));const $=a.CommonFindController.get(K);$&&this._register($.getState().onFindReplaceStateChange(se=>{this._update()})),this.updateSoon.schedule()}_update(){this._setState(u._createState(this.state,this._isEnabled,this.editor))}static _createState(K,U,$){if(!U||!$.hasModel())return null;const se=$.getSelection();if(se.startLineNumber!==se.endLineNumber)return null;const F=S.get($);if(!F)return null;const X=a.CommonFindController.get($);if(!X)return null;let Q=F.getSession(X);if(!Q){const ue=$.getSelections();if(ue.length>1){const fe=X.getState().matchCase;if(!R($.getModel(),ue,fe))return null}Q=_.create($,X)}if(!Q||Q.currentMatch||/^[ \t]+$/.test(Q.searchText)||Q.searchText.length>200)return null;const Z=X.getState(),ae=Z.matchCase;if(Z.isRevealed){let ue=Z.searchString;ae||(ue=ue.toLowerCase());let ge=Q.searchText;if(ae||(ge=ge.toLowerCase()),ue===ge&&Q.matchCase===Z.matchCase&&Q.wholeWord===Z.wholeWord&&!Z.isRegex)return null}return new P($.getModel(),Q.searchText,Q.matchCase,Q.wholeWord?$.getOption(131):null,K)}_setState(K){if(this.state=K,!this.state){this._decorations.clear();return}if(!this.editor.hasModel())return;const U=this.editor.getModel();if(U.isTooLargeForTokenization())return;const $=this.state.findMatches(),se=this.editor.getSelections();se.sort(w.Range.compareRangesUsingStarts);const F=[];for(let ae=0,ue=0,ge=$.length,fe=se.length;ae<ge;){const re=$[ae];if(ue>=fe)F.push(re),ae++;else{const de=w.Range.compareRangesUsingStarts(re,se[ue]);de<0?((se[ue].isEmpty()||!w.Range.areIntersecting(re,se[ue]))&&F.push(re),ae++):(de>0||ae++,ue++)}}const X=this.editor.getOption(81)!=="off",Q=this._languageFeaturesService.documentHighlightProvider.has(U)&&X,Z=F.map(ae=>({range:ae,options:(0,h.getSelectionHighlightDecorationOptions)(Q)}));this._decorations.set(Z)}dispose(){this._setState(null),super.dispose()}};e.SelectionHighlighter=x,x.ID="editor.contrib.selectionHighlighter",e.SelectionHighlighter=x=u=Ie([he(1,n.ILanguageFeaturesService)],x);function R(q,K,U){const $=B(q,K[0],!U);for(let se=1,F=K.length;se<F;se++){const X=K[se];if(X.isEmpty())return!1;const Q=B(q,X,!U);if($!==Q)return!1}return!0}function B(q,K,U){const $=q.getValueInRange(K);return U?$.toLowerCase():$}class H extends y.EditorAction{constructor(){super({id:"editor.action.focusNextCursor",label:s.localize(19,null),metadata:{description:s.localize(20,null),args:[]},alias:"Focus Next Cursor",precondition:void 0})}run(K,U,$){if(!U.hasModel())return;const se=U._getViewModel();if(se.cursorConfig.readOnly)return;se.model.pushStackElement();const F=Array.from(se.getCursorStates()),X=F.shift();X&&(F.push(X),se.setCursorStates($.source,3,F),se.revealPrimaryCursor($.source,!0),d(F,se.getCursorStates()))}}e.FocusNextCursor=H;class V extends y.EditorAction{constructor(){super({id:"editor.action.focusPreviousCursor",label:s.localize(21,null),metadata:{description:s.localize(22,null),args:[]},alias:"Focus Previous Cursor",precondition:void 0})}run(K,U,$){if(!U.hasModel())return;const se=U._getViewModel();if(se.cursorConfig.readOnly)return;se.model.pushStackElement();const F=Array.from(se.getCursorStates()),X=F.pop();X&&(F.unshift(X),se.setCursorStates($.source,3,F),se.revealPrimaryCursor($.source,!0),d(F,se.getCursorStates()))}}e.FocusPreviousCursor=V,(0,y.registerEditorContribution)(S.ID,S,4),(0,y.registerEditorContribution)(x.ID,x,1),(0,y.registerEditorAction)(r),(0,y.registerEditorAction)(l),(0,y.registerEditorAction)(o),(0,y.registerEditorAction)(E),(0,y.registerEditorAction)(T),(0,y.registerEditorAction)(N),(0,y.registerEditorAction)(A),(0,y.registerEditorAction)(O),(0,y.registerEditorAction)(M),(0,y.registerEditorAction)(g),(0,y.registerEditorAction)(c),(0,y.registerEditorAction)(H),(0,y.registerEditorAction)(V)}),define(te[957],ie([1,0,757,13,45,15,20,12,2,162,16,36,5,19,29,43,18,401,14,49,47,347]),function(J,e,m,k,D,L,y,p,w,C,b,a,s,i,t,n,h,v,u,d,r,l){"use strict";var o,g;Object.defineProperty(e,"__esModule",{value:!0}),e.WordHighlighterContribution=void 0,e.getOccurrencesAtPosition=f,e.getOccurrencesAcrossMultipleModels=_;const c=new u.RawContextKey("hasWordHighlights",!1);function f(H,V,q,K){const U=H.ordered(V);return(0,L.first)(U.map($=>()=>Promise.resolve($.provideDocumentHighlights(V,q,K)).then(void 0,p.onUnexpectedExternalError)),k.isNonEmptyArray).then($=>{if($){const se=new r.ResourceMap;return se.set(V.uri,$),se}return new r.ResourceMap})}function _(H,V,q,K,U,$){const se=H.ordered(V);return(0,L.first)(se.map(F=>()=>{const X=$.filter(Q=>(0,n.shouldSynchronizeModel)(Q)).filter(Q=>(0,l.score)(F.selector,Q.uri,Q.getLanguageId(),!0,void 0,void 0)>0);return Promise.resolve(F.provideMultiDocumentHighlights(V,q,X,U)).then(void 0,p.onUnexpectedExternalError)}),F=>F instanceof r.ResourceMap&&F.size>0)}class S{constructor(V,q,K){this._model=V,this._selection=q,this._wordSeparators=K,this._wordRange=this._getCurrentWordRange(V,q),this._result=null}get result(){return this._result||(this._result=(0,L.createCancelablePromise)(V=>this._compute(this._model,this._selection,this._wordSeparators,V))),this._result}_getCurrentWordRange(V,q){const K=V.getWordAtPosition(q.getPosition());return K?new s.Range(q.startLineNumber,K.startColumn,q.startLineNumber,K.endColumn):null}isValid(V,q,K){const U=q.startLineNumber,$=q.startColumn,se=q.endColumn,F=this._getCurrentWordRange(V,q);let X=!!(this._wordRange&&this._wordRange.equalsRange(F));for(let Q=0,Z=K.length;!X&&Q<Z;Q++){const ae=K.getRange(Q);ae&&ae.startLineNumber===U&&ae.startColumn<=$&&ae.endColumn>=se&&(X=!0)}return X}cancel(){this.result.cancel()}}class I extends S{constructor(V,q,K,U){super(V,q,K),this._providers=U}_compute(V,q,K,U){return f(this._providers,V,q.getPosition(),U).then($=>$||new r.ResourceMap)}}class E extends S{constructor(V,q,K,U,$){super(V,q,K),this._providers=U,this._otherModels=$}_compute(V,q,K,U){return _(this._providers,V,q.getPosition(),K,U,this._otherModels).then($=>$||new r.ResourceMap)}}class T extends S{constructor(V,q,K,U,$){super(V,q,U),this._otherModels=$,this._selectionIsEmpty=q.isEmpty(),this._word=K}_compute(V,q,K,U){return(0,L.timeout)(250,U).then(()=>{const $=new r.ResourceMap;let se;if(this._word?se=this._word:se=V.getWordAtPosition(q.getPosition()),!se)return new r.ResourceMap;const F=[V,...this._otherModels];for(const X of F){if(X.isDisposed())continue;const Z=X.findMatches(se.word,!0,!1,!0,K,!1).map(ae=>({range:ae.range,kind:t.DocumentHighlightKind.Text}));Z&&$.set(X.uri,Z)}return $})}isValid(V,q,K){const U=q.isEmpty();return this._selectionIsEmpty!==U?!1:super.isValid(V,q,K)}}function N(H,V,q,K,U){return H.has(V)?new I(V,q,U,H):new T(V,q,K,U,[])}function A(H,V,q,K,U,$){return H.has(V)?new E(V,q,U,H,$):new T(V,q,K,U,$)}(0,b.registerModelAndPositionCommand)("_executeDocumentHighlights",async(H,V,q)=>{const K=H.get(h.ILanguageFeaturesService),U=await f(K.documentHighlightProvider,V,q,y.CancellationToken.None);return U?.get(V.uri)});let O=o=class{constructor(V,q,K,U,$){this.toUnhook=new w.DisposableStore,this.workerRequestTokenId=0,this.workerRequestCompleted=!1,this.workerRequestValue=new r.ResourceMap,this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1,this.editor=V,this.providers=q,this.multiDocumentProviders=K,this.codeEditorService=$,this._hasWordHighlights=c.bindTo(U),this._ignorePositionChangeEvent=!1,this.occurrencesHighlight=this.editor.getOption(81),this.model=this.editor.getModel(),this.toUnhook.add(V.onDidChangeCursorPosition(se=>{this._ignorePositionChangeEvent||this.occurrencesHighlight!=="off"&&this._onPositionChanged(se)})),this.toUnhook.add(V.onDidFocusEditorText(se=>{this.occurrencesHighlight!=="off"&&(this.workerRequest||this._run())})),this.toUnhook.add(V.onDidChangeModelContent(se=>{this._stopAll()})),this.toUnhook.add(V.onDidChangeModel(se=>{!se.newModelUrl&&se.oldModelUrl?this._stopSingular():o.query&&this._run()})),this.toUnhook.add(V.onDidChangeConfiguration(se=>{const F=this.editor.getOption(81);this.occurrencesHighlight!==F&&(this.occurrencesHighlight=F,this._stopAll())})),this.decorations=this.editor.createDecorationsCollection(),this.workerRequestTokenId=0,this.workerRequest=null,this.workerRequestCompleted=!1,this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1,o.query&&this._run()}hasDecorations(){return this.decorations.length>0}restore(){this.occurrencesHighlight!=="off"&&this._run()}_getSortedHighlights(){return this.decorations.getRanges().sort(s.Range.compareRangesUsingStarts)}moveNext(){const V=this._getSortedHighlights(),K=(V.findIndex($=>$.containsPosition(this.editor.getPosition()))+1)%V.length,U=V[K];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(U.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(U);const $=this._getWord();if($){const se=this.editor.getModel().getLineContent(U.startLineNumber);(0,D.alert)(`${se}, ${K+1} of ${V.length} for '${$.word}'`)}}finally{this._ignorePositionChangeEvent=!1}}moveBack(){const V=this._getSortedHighlights(),K=(V.findIndex($=>$.containsPosition(this.editor.getPosition()))-1+V.length)%V.length,U=V[K];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(U.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(U);const $=this._getWord();if($){const se=this.editor.getModel().getLineContent(U.startLineNumber);(0,D.alert)(`${se}, ${K+1} of ${V.length} for '${$.word}'`)}}finally{this._ignorePositionChangeEvent=!1}}_removeSingleDecorations(){if(!this.editor.hasModel())return;const V=o.storedDecorations.get(this.editor.getModel().uri);V&&(this.editor.removeDecorations(V),o.storedDecorations.delete(this.editor.getModel().uri),this.decorations.length>0&&(this.decorations.clear(),this._hasWordHighlights.set(!1)))}_removeAllDecorations(){const V=this.codeEditorService.listCodeEditors(),q=[];for(const K of V){if(!K.hasModel())continue;const U=o.storedDecorations.get(K.getModel().uri);if(!U)continue;K.removeDecorations(U),q.push(K.getModel().uri);const $=M.get(K);$?.wordHighlighter&&$.wordHighlighter.decorations.length>0&&($.wordHighlighter.decorations.clear(),$.wordHighlighter.workerRequest=null,$.wordHighlighter._hasWordHighlights.set(!1))}for(const K of q)o.storedDecorations.delete(K)}_stopSingular(){var V,q,K,U;this._removeSingleDecorations(),this.editor.hasTextFocus()&&(((V=this.editor.getModel())===null||V===void 0?void 0:V.uri.scheme)!==d.Schemas.vscodeNotebookCell&&((K=(q=o.query)===null||q===void 0?void 0:q.modelInfo)===null||K===void 0?void 0:K.model.uri.scheme)!==d.Schemas.vscodeNotebookCell?(o.query=null,this._run()):!((U=o.query)===null||U===void 0)&&U.modelInfo&&(o.query.modelInfo=null)),this.renderDecorationsTimer!==-1&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1),this.workerRequest!==null&&(this.workerRequest.cancel(),this.workerRequest=null),this.workerRequestCompleted||(this.workerRequestTokenId++,this.workerRequestCompleted=!0)}_stopAll(){this._removeAllDecorations(),this.renderDecorationsTimer!==-1&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1),this.workerRequest!==null&&(this.workerRequest.cancel(),this.workerRequest=null),this.workerRequestCompleted||(this.workerRequestTokenId++,this.workerRequestCompleted=!0)}_onPositionChanged(V){var q;if(this.occurrencesHighlight==="off"){this._stopAll();return}if(V.reason!==3&&((q=this.editor.getModel())===null||q===void 0?void 0:q.uri.scheme)!==d.Schemas.vscodeNotebookCell){this._stopAll();return}this._run()}_getWord(){const V=this.editor.getSelection(),q=V.startLineNumber,K=V.startColumn;return this.model.isDisposed()?null:this.model.getWordAtPosition({lineNumber:q,column:K})}getOtherModelsToHighlight(V){if(!V)return[];if(V.uri.scheme===d.Schemas.vscodeNotebookCell){const $=[],se=this.codeEditorService.listCodeEditors();for(const F of se){const X=F.getModel();X&&X!==V&&X.uri.scheme===d.Schemas.vscodeNotebookCell&&$.push(X)}return $}const K=[],U=this.codeEditorService.listCodeEditors();for(const $ of U){if(!(0,C.isDiffEditor)($))continue;const se=$.getModel();se&&V===se.modified&&K.push(se.modified)}if(K.length)return K;if(this.occurrencesHighlight==="singleFile")return[];for(const $ of U){const se=$.getModel();se&&se!==V&&K.push(se)}return K}_run(){var V;let q;if(this.editor.hasTextFocus()){const U=this.editor.getSelection();if(!U||U.startLineNumber!==U.endLineNumber){o.query=null,this._stopAll();return}const $=U.startColumn,se=U.endColumn,F=this._getWord();if(!F||F.startColumn>$||F.endColumn<se){o.query=null,this._stopAll();return}q=this.workerRequest&&this.workerRequest.isValid(this.model,U,this.decorations),o.query={modelInfo:{model:this.model,selection:U},word:F}}else if(!o.query)return;if(this.lastCursorPositionChangeTime=new Date().getTime(),q)this.workerRequestCompleted&&this.renderDecorationsTimer!==-1&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1,this._beginRenderDecorations());else{this._stopAll();const U=++this.workerRequestTokenId;this.workerRequestCompleted=!1;const $=this.getOtherModelsToHighlight(this.editor.getModel());if(!o.query.modelInfo||o.query.modelInfo.model.isDisposed())return;this.workerRequest=this.computeWithModel(o.query.modelInfo.model,o.query.modelInfo.selection,o.query.word,$),(V=this.workerRequest)===null||V===void 0||V.result.then(se=>{U===this.workerRequestTokenId&&(this.workerRequestCompleted=!0,this.workerRequestValue=se||[],this._beginRenderDecorations())},p.onUnexpectedError)}}computeWithModel(V,q,K,U){return U.length?A(this.multiDocumentProviders,V,q,K,this.editor.getOption(131),U):N(this.providers,V,q,K,this.editor.getOption(131))}_beginRenderDecorations(){const V=new Date().getTime(),q=this.lastCursorPositionChangeTime+250;V>=q?(this.renderDecorationsTimer=-1,this.renderDecorations()):this.renderDecorationsTimer=setTimeout(()=>{this.renderDecorations()},q-V)}renderDecorations(){var V,q,K;this.renderDecorationsTimer=-1;const U=this.codeEditorService.listCodeEditors();for(const $ of U){const se=M.get($);if(!se)continue;const F=[],X=(V=$.getModel())===null||V===void 0?void 0:V.uri;if(X&&this.workerRequestValue.has(X)){const Q=o.storedDecorations.get(X),Z=this.workerRequestValue.get(X);if(Z)for(const ue of Z)ue.range&&F.push({range:ue.range,options:(0,v.getHighlightDecorationOptions)(ue.kind)});let ae=[];$.changeDecorations(ue=>{ae=ue.deltaDecorations(Q??[],F)}),o.storedDecorations=o.storedDecorations.set(X,ae),F.length>0&&((q=se.wordHighlighter)===null||q===void 0||q.decorations.set(F),(K=se.wordHighlighter)===null||K===void 0||K._hasWordHighlights.set(!0))}}}dispose(){this._stopSingular(),this.toUnhook.dispose()}};O.storedDecorations=new r.ResourceMap,O.query=null,O=o=Ie([he(4,a.ICodeEditorService)],O);let M=g=class extends w.Disposable{static get(V){return V.getContribution(g.ID)}constructor(V,q,K,U){super(),this._wordHighlighter=null;const $=()=>{V.hasModel()&&!V.getModel().isTooLargeForTokenization()&&(this._wordHighlighter=new O(V,K.documentHighlightProvider,K.multiDocumentHighlightProvider,q,U))};this._register(V.onDidChangeModel(se=>{this._wordHighlighter&&(this._wordHighlighter.dispose(),this._wordHighlighter=null),$()})),$()}get wordHighlighter(){return this._wordHighlighter}saveViewState(){return!!(this._wordHighlighter&&this._wordHighlighter.hasDecorations())}moveNext(){var V;(V=this._wordHighlighter)===null||V===void 0||V.moveNext()}moveBack(){var V;(V=this._wordHighlighter)===null||V===void 0||V.moveBack()}restoreViewState(V){this._wordHighlighter&&V&&this._wordHighlighter.restore()}dispose(){this._wordHighlighter&&(this._wordHighlighter.dispose(),this._wordHighlighter=null),super.dispose()}};e.WordHighlighterContribution=M,M.ID="editor.contrib.wordHighlighter",e.WordHighlighterContribution=M=g=Ie([he(1,u.IContextKeyService),he(2,h.ILanguageFeaturesService),he(3,a.ICodeEditorService)],M);class P extends b.EditorAction{constructor(V,q){super(q),this._isNext=V}run(V,q){const K=M.get(q);K&&(this._isNext?K.moveNext():K.moveBack())}}class x extends P{constructor(){super(!0,{id:"editor.action.wordHighlight.next",label:m.localize(0,null),alias:"Go to Next Symbol Highlight",precondition:c,kbOpts:{kbExpr:i.EditorContextKeys.editorTextFocus,primary:65,weight:100}})}}class R extends P{constructor(){super(!1,{id:"editor.action.wordHighlight.prev",label:m.localize(1,null),alias:"Go to Previous Symbol Highlight",precondition:c,kbOpts:{kbExpr:i.EditorContextKeys.editorTextFocus,primary:1089,weight:100}})}}class B extends b.EditorAction{constructor(){super({id:"editor.action.wordHighlight.trigger",label:m.localize(2,null),alias:"Trigger Symbol Highlight",precondition:c.toNegated(),kbOpts:{kbExpr:i.EditorContextKeys.editorTextFocus,primary:0,weight:100}})}run(V,q,K){const U=M.get(q);U&&U.restoreViewState(!0)}}(0,b.registerEditorContribution)(M.ID,M,0),(0,b.registerEditorAction)(x),(0,b.registerEditorAction)(R),(0,b.registerEditorAction)(B)}),define(te[958],ie([1,0,6,165,34,178,2,55,5,37,506]),function(J,e,m,k,D,L,y,p,w,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ZoneWidget=e.OverlayWidgetDelegate=void 0;const b=new D.Color(new D.RGBA(0,122,204)),a={showArrow:!0,showFrame:!0,className:"",frameColor:b,arrowColor:b,keepEditorSelection:!1},s="vs.editor.contrib.zoneWidget";class i{constructor(u,d,r,l,o,g,c,f){this.id="",this.domNode=u,this.afterLineNumber=d,this.afterColumn=r,this.heightInLines=l,this.showInHiddenAreas=c,this.ordinal=f,this._onDomNodeTop=o,this._onComputedHeight=g}onDomNodeTop(u){this._onDomNodeTop(u)}onComputedHeight(u){this._onComputedHeight(u)}}class t{constructor(u,d){this._id=u,this._domNode=d}getId(){return this._id}getDomNode(){return this._domNode}getPosition(){return null}}e.OverlayWidgetDelegate=t;class n{constructor(u){this._editor=u,this._ruleName=n._IdGenerator.nextId(),this._decorations=this._editor.createDecorationsCollection(),this._color=null,this._height=-1}dispose(){this.hide(),m.removeCSSRulesContainingSelector(this._ruleName)}set color(u){this._color!==u&&(this._color=u,this._updateStyle())}set height(u){this._height!==u&&(this._height=u,this._updateStyle())}_updateStyle(){m.removeCSSRulesContainingSelector(this._ruleName),m.createCSSRule(`.monaco-editor ${this._ruleName}`,`border-style: solid; border-color: transparent; border-bottom-color: ${this._color}; border-width: ${this._height}px; bottom: -${this._height}px !important; margin-left: -${this._height}px; `)}show(u){u.column===1&&(u={lineNumber:u.lineNumber,column:2}),this._decorations.set([{range:w.Range.fromPositions(u),options:{description:"zone-widget-arrow",className:this._ruleName,stickiness:1}}])}hide(){this._decorations.clear()}}n._IdGenerator=new L.IdGenerator(".arrow-decoration-");class h{constructor(u,d={}){this._arrow=null,this._overlayWidget=null,this._resizeSash=null,this._viewZone=null,this._disposables=new y.DisposableStore,this.container=null,this._isShowing=!1,this.editor=u,this._positionMarkerId=this.editor.createDecorationsCollection(),this.options=p.deepClone(d),p.mixin(this.options,a,!1),this.domNode=document.createElement("div"),this.options.isAccessible||(this.domNode.setAttribute("aria-hidden","true"),this.domNode.setAttribute("role","presentation")),this._disposables.add(this.editor.onDidLayoutChange(r=>{const l=this._getWidth(r);this.domNode.style.width=l+"px",this.domNode.style.left=this._getLeft(r)+"px",this._onWidth(l)}))}dispose(){this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._viewZone&&this.editor.changeViewZones(u=>{this._viewZone&&u.removeZone(this._viewZone.id),this._viewZone=null}),this._positionMarkerId.clear(),this._disposables.dispose()}create(){this.domNode.classList.add("zone-widget"),this.options.className&&this.domNode.classList.add(this.options.className),this.container=document.createElement("div"),this.container.classList.add("zone-widget-container"),this.domNode.appendChild(this.container),this.options.showArrow&&(this._arrow=new n(this.editor),this._disposables.add(this._arrow)),this._fillContainer(this.container),this._initSash(),this._applyStyles()}style(u){u.frameColor&&(this.options.frameColor=u.frameColor),u.arrowColor&&(this.options.arrowColor=u.arrowColor),this._applyStyles()}_applyStyles(){if(this.container&&this.options.frameColor){const u=this.options.frameColor.toString();this.container.style.borderTopColor=u,this.container.style.borderBottomColor=u}if(this._arrow&&this.options.arrowColor){const u=this.options.arrowColor.toString();this._arrow.color=u}}_getWidth(u){return u.width-u.minimap.minimapWidth-u.verticalScrollbarWidth}_getLeft(u){return u.minimap.minimapWidth>0&&u.minimap.minimapLeft===0?u.minimap.minimapWidth:0}_onViewZoneTop(u){this.domNode.style.top=u+"px"}_onViewZoneHeight(u){var d;if(this.domNode.style.height=`${u}px`,this.container){const r=u-this._decoratingElementsHeight();this.container.style.height=`${r}px`;const l=this.editor.getLayoutInfo();this._doLayout(r,this._getWidth(l))}(d=this._resizeSash)===null||d===void 0||d.layout()}get position(){const u=this._positionMarkerId.getRange(0);if(u)return u.getStartPosition()}show(u,d){const r=w.Range.isIRange(u)?w.Range.lift(u):w.Range.fromPositions(u);this._isShowing=!0,this._showImpl(r,d),this._isShowing=!1,this._positionMarkerId.set([{range:r,options:C.ModelDecorationOptions.EMPTY}])}hide(){var u;this._viewZone&&(this.editor.changeViewZones(d=>{this._viewZone&&d.removeZone(this._viewZone.id)}),this._viewZone=null),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),(u=this._arrow)===null||u===void 0||u.hide(),this._positionMarkerId.clear()}_decoratingElementsHeight(){const u=this.editor.getOption(67);let d=0;if(this.options.showArrow){const r=Math.round(u/3);d+=2*r}if(this.options.showFrame){const r=Math.round(u/9);d+=2*r}return d}_showImpl(u,d){const r=u.getStartPosition(),l=this.editor.getLayoutInfo(),o=this._getWidth(l);this.domNode.style.width=`${o}px`,this.domNode.style.left=this._getLeft(l)+"px";const g=document.createElement("div");g.style.overflow="hidden";const c=this.editor.getOption(67);if(!this.options.allowUnlimitedHeight){const E=Math.max(12,this.editor.getLayoutInfo().height/c*.8);d=Math.min(d,E)}let f=0,_=0;if(this._arrow&&this.options.showArrow&&(f=Math.round(c/3),this._arrow.height=f,this._arrow.show(r)),this.options.showFrame&&(_=Math.round(c/9)),this.editor.changeViewZones(E=>{this._viewZone&&E.removeZone(this._viewZone.id),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this.domNode.style.top="-1000px",this._viewZone=new i(g,r.lineNumber,r.column,d,T=>this._onViewZoneTop(T),T=>this._onViewZoneHeight(T),this.options.showInHiddenAreas,this.options.ordinal),this._viewZone.id=E.addZone(this._viewZone),this._overlayWidget=new t(s+this._viewZone.id,this.domNode),this.editor.addOverlayWidget(this._overlayWidget)}),this.container&&this.options.showFrame){const E=this.options.frameWidth?this.options.frameWidth:_;this.container.style.borderTopWidth=E+"px",this.container.style.borderBottomWidth=E+"px"}const S=d*c-this._decoratingElementsHeight();this.container&&(this.container.style.top=f+"px",this.container.style.height=S+"px",this.container.style.overflow="hidden"),this._doLayout(S,o),this.options.keepEditorSelection||this.editor.setSelection(u);const I=this.editor.getModel();if(I){const E=I.validateRange(new w.Range(u.startLineNumber,1,u.endLineNumber+1,1));this.revealRange(E,E.startLineNumber===I.getLineCount())}}revealRange(u,d){d?this.editor.revealLineNearTop(u.endLineNumber,0):this.editor.revealRange(u,0)}setCssClass(u,d){this.container&&(d&&this.container.classList.remove(d),this.container.classList.add(u))}_onWidth(u){}_doLayout(u,d){}_relayout(u){this._viewZone&&this._viewZone.heightInLines!==u&&this.editor.changeViewZones(d=>{this._viewZone&&(this._viewZone.heightInLines=u,d.layoutZone(this._viewZone.id))})}_initSash(){if(this._resizeSash)return;this._resizeSash=this._disposables.add(new k.Sash(this.domNode,this,{orientation:1})),this.options.isResizeable||(this._resizeSash.state=0);let u;this._disposables.add(this._resizeSash.onDidStart(d=>{this._viewZone&&(u={startY:d.startY,heightInLines:this._viewZone.heightInLines})})),this._disposables.add(this._resizeSash.onDidEnd(()=>{u=void 0})),this._disposables.add(this._resizeSash.onDidChange(d=>{if(u){const r=(d.currentY-u.startY)/this.editor.getOption(67),l=r<0?Math.ceil(r):Math.floor(r),o=u.heightInLines+l;o>5&&o<35&&this._relayout(o)}}))}getHorizontalSashLeft(){return 0}getHorizontalSashTop(){return(this.domNode.style.height===null?0:parseInt(this.domNode.style.height))-this._decoratingElementsHeight()/2}getHorizontalSashWidth(){const u=this.editor.getLayoutInfo();return u.width-u.minimap.minimapWidth}}e.ZoneWidget=h}),define(te[152],ie([1,0,6,81,41,26,30,34,7,55,16,36,176,958,735,117,14,46,8,31,497]),function(J,e,m,k,D,L,y,p,w,C,b,a,s,i,t,n,h,v,u,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.peekViewEditorMatchHighlightBorder=e.peekViewEditorMatchHighlight=e.peekViewResultsMatchHighlight=e.peekViewEditorStickyScrollBackground=e.peekViewEditorGutterBackground=e.peekViewEditorBackground=e.peekViewResultsSelectionForeground=e.peekViewResultsSelectionBackground=e.peekViewResultsFileForeground=e.peekViewResultsMatchForeground=e.peekViewResultsBackground=e.peekViewBorder=e.peekViewTitleInfoForeground=e.peekViewTitleForeground=e.peekViewTitleBackground=e.PeekViewWidget=e.PeekContext=e.IPeekViewService=void 0,e.getOuterEditor=o,e.IPeekViewService=(0,u.createDecorator)("IPeekViewService"),(0,v.registerSingleton)(e.IPeekViewService,class{constructor(){this._widgets=new Map}addExclusiveWidget(f,_){const S=this._widgets.get(f);S&&(S.listener.dispose(),S.widget.dispose());const I=()=>{const E=this._widgets.get(f);E&&E.widget===_&&(E.listener.dispose(),this._widgets.delete(f))};this._widgets.set(f,{widget:_,listener:_.onDidClose(I)})}},1);var r;(function(f){f.inPeekEditor=new h.RawContextKey("inReferenceSearchEditor",!0,t.localize(0,null)),f.notInPeekEditor=f.inPeekEditor.toNegated()})(r||(e.PeekContext=r={}));let l=class{constructor(_,S){_ instanceof s.EmbeddedCodeEditorWidget&&r.inPeekEditor.bindTo(S)}dispose(){}};l.ID="editor.contrib.referenceController",l=Ie([he(1,h.IContextKeyService)],l),(0,b.registerEditorContribution)(l.ID,l,0);function o(f){const _=f.get(a.ICodeEditorService).getFocusedCodeEditor();return _ instanceof s.EmbeddedCodeEditorWidget?_.getParentEditor():_}const g={headerBackgroundColor:p.Color.white,primaryHeadingColor:p.Color.fromHex("#333333"),secondaryHeadingColor:p.Color.fromHex("#6c6c6cb3")};let c=class extends i.ZoneWidget{constructor(_,S,I){super(_,S),this.instantiationService=I,this._onDidClose=new w.Emitter,this.onDidClose=this._onDidClose.event,C.mixin(this.options,g,!1)}dispose(){this.disposed||(this.disposed=!0,super.dispose(),this._onDidClose.fire(this))}style(_){const S=this.options;_.headerBackgroundColor&&(S.headerBackgroundColor=_.headerBackgroundColor),_.primaryHeadingColor&&(S.primaryHeadingColor=_.primaryHeadingColor),_.secondaryHeadingColor&&(S.secondaryHeadingColor=_.secondaryHeadingColor),super.style(_)}_applyStyles(){super._applyStyles();const _=this.options;this._headElement&&_.headerBackgroundColor&&(this._headElement.style.backgroundColor=_.headerBackgroundColor.toString()),this._primaryHeading&&_.primaryHeadingColor&&(this._primaryHeading.style.color=_.primaryHeadingColor.toString()),this._secondaryHeading&&_.secondaryHeadingColor&&(this._secondaryHeading.style.color=_.secondaryHeadingColor.toString()),this._bodyElement&&_.frameColor&&(this._bodyElement.style.borderColor=_.frameColor.toString())}_fillContainer(_){this.setCssClass("peekview-widget"),this._headElement=m.$(".head"),this._bodyElement=m.$(".body"),this._fillHead(this._headElement),this._fillBody(this._bodyElement),_.appendChild(this._headElement),_.appendChild(this._bodyElement)}_fillHead(_,S){this._titleElement=m.$(".peekview-title"),this.options.supportOnTitleClick&&(this._titleElement.classList.add("clickable"),m.addStandardDisposableListener(this._titleElement,"click",T=>this._onTitleClick(T))),m.append(this._headElement,this._titleElement),this._fillTitleIcon(this._titleElement),this._primaryHeading=m.$("span.filename"),this._secondaryHeading=m.$("span.dirname"),this._metaHeading=m.$("span.meta"),m.append(this._titleElement,this._primaryHeading,this._secondaryHeading,this._metaHeading);const I=m.$(".peekview-actions");m.append(this._headElement,I);const E=this._getActionBarOptions();this._actionbarWidget=new k.ActionBar(I,E),this._disposables.add(this._actionbarWidget),S||this._actionbarWidget.push(new D.Action("peekview.close",t.localize(1,null),y.ThemeIcon.asClassName(L.Codicon.close),!0,()=>(this.dispose(),Promise.resolve())),{label:!1,icon:!0})}_fillTitleIcon(_){}_getActionBarOptions(){return{actionViewItemProvider:n.createActionViewItem.bind(void 0,this.instantiationService),orientation:0}}_onTitleClick(_){}setTitle(_,S){this._primaryHeading&&this._secondaryHeading&&(this._primaryHeading.innerText=_,this._primaryHeading.setAttribute("title",_),S?this._secondaryHeading.innerText=S:m.clearNode(this._secondaryHeading))}setMetaTitle(_){this._metaHeading&&(_?(this._metaHeading.innerText=_,m.show(this._metaHeading)):m.hide(this._metaHeading))}_doLayout(_,S){if(!this._isShowing&&_<0){this.dispose();return}const I=Math.ceil(this.editor.getOption(67)*1.2),E=Math.round(_-(I+2));this._doLayoutHead(I,S),this._doLayoutBody(E,S)}_doLayoutHead(_,S){this._headElement&&(this._headElement.style.height=`${_}px`,this._headElement.style.lineHeight=this._headElement.style.height)}_doLayoutBody(_,S){this._bodyElement&&(this._bodyElement.style.height=`${_}px`)}};e.PeekViewWidget=c,e.PeekViewWidget=c=Ie([he(2,u.IInstantiationService)],c),e.peekViewTitleBackground=(0,d.registerColor)("peekViewTitle.background",{dark:"#252526",light:"#F3F3F3",hcDark:p.Color.black,hcLight:p.Color.white},t.localize(2,null)),e.peekViewTitleForeground=(0,d.registerColor)("peekViewTitleLabel.foreground",{dark:p.Color.white,light:p.Color.black,hcDark:p.Color.white,hcLight:d.editorForeground},t.localize(3,null)),e.peekViewTitleInfoForeground=(0,d.registerColor)("peekViewTitleDescription.foreground",{dark:"#ccccccb3",light:"#616161",hcDark:"#FFFFFF99",hcLight:"#292929"},t.localize(4,null)),e.peekViewBorder=(0,d.registerColor)("peekView.border",{dark:d.editorInfoForeground,light:d.editorInfoForeground,hcDark:d.contrastBorder,hcLight:d.contrastBorder},t.localize(5,null)),e.peekViewResultsBackground=(0,d.registerColor)("peekViewResult.background",{dark:"#252526",light:"#F3F3F3",hcDark:p.Color.black,hcLight:p.Color.white},t.localize(6,null)),e.peekViewResultsMatchForeground=(0,d.registerColor)("peekViewResult.lineForeground",{dark:"#bbbbbb",light:"#646465",hcDark:p.Color.white,hcLight:d.editorForeground},t.localize(7,null)),e.peekViewResultsFileForeground=(0,d.registerColor)("peekViewResult.fileForeground",{dark:p.Color.white,light:"#1E1E1E",hcDark:p.Color.white,hcLight:d.editorForeground},t.localize(8,null)),e.peekViewResultsSelectionBackground=(0,d.registerColor)("peekViewResult.selectionBackground",{dark:"#3399ff33",light:"#3399ff33",hcDark:null,hcLight:null},t.localize(9,null)),e.peekViewResultsSelectionForeground=(0,d.registerColor)("peekViewResult.selectionForeground",{dark:p.Color.white,light:"#6C6C6C",hcDark:p.Color.white,hcLight:d.editorForeground},t.localize(10,null)),e.peekViewEditorBackground=(0,d.registerColor)("peekViewEditor.background",{dark:"#001F33",light:"#F2F8FC",hcDark:p.Color.black,hcLight:p.Color.white},t.localize(11,null)),e.peekViewEditorGutterBackground=(0,d.registerColor)("peekViewEditorGutter.background",{dark:e.peekViewEditorBackground,light:e.peekViewEditorBackground,hcDark:e.peekViewEditorBackground,hcLight:e.peekViewEditorBackground},t.localize(12,null)),e.peekViewEditorStickyScrollBackground=(0,d.registerColor)("peekViewEditorStickyScroll.background",{dark:e.peekViewEditorBackground,light:e.peekViewEditorBackground,hcDark:e.peekViewEditorBackground,hcLight:e.peekViewEditorBackground},t.localize(13,null)),e.peekViewResultsMatchHighlight=(0,d.registerColor)("peekViewResult.matchHighlightBackground",{dark:"#ea5c004d",light:"#ea5c004d",hcDark:null,hcLight:null},t.localize(14,null)),e.peekViewEditorMatchHighlight=(0,d.registerColor)("peekViewEditor.matchHighlightBackground",{dark:"#ff8f0099",light:"#f5d802de",hcDark:null,hcLight:null},t.localize(15,null)),e.peekViewEditorMatchHighlightBorder=(0,d.registerColor)("peekViewEditor.matchHighlightBorder",{dark:null,light:null,hcDark:d.activeContrastBorder,hcLight:d.activeContrastBorder},t.localize(16,null))}),define(te[959],ie([1,0,6,79,13,34,7,2,50,11,5,152,708,117,28,14,8,172,104,59,841,31,23,483]),function(J,e,m,k,D,L,y,p,w,C,b,a,s,i,t,n,h,v,u,d,r,l,o){"use strict";var g;Object.defineProperty(e,"__esModule",{value:!0}),e.MarkerNavigationWidget=void 0;class c{constructor(R,B,H,V,q){this._openerService=V,this._labelService=q,this._lines=0,this._longestLineLength=0,this._relatedDiagnostics=new WeakMap,this._disposables=new p.DisposableStore,this._editor=B;const K=document.createElement("div");K.className="descriptioncontainer",this._messageBlock=document.createElement("div"),this._messageBlock.classList.add("message"),this._messageBlock.setAttribute("aria-live","assertive"),this._messageBlock.setAttribute("role","alert"),K.appendChild(this._messageBlock),this._relatedBlock=document.createElement("div"),K.appendChild(this._relatedBlock),this._disposables.add(m.addStandardDisposableListener(this._relatedBlock,"click",U=>{U.preventDefault();const $=this._relatedDiagnostics.get(U.target);$&&H($)})),this._scrollable=new k.ScrollableElement(K,{horizontal:1,vertical:1,useShadows:!1,horizontalScrollbarSize:6,verticalScrollbarSize:6}),R.appendChild(this._scrollable.getDomNode()),this._disposables.add(this._scrollable.onScroll(U=>{K.style.left=`-${U.scrollLeft}px`,K.style.top=`-${U.scrollTop}px`})),this._disposables.add(this._scrollable)}dispose(){(0,p.dispose)(this._disposables)}update(R){const{source:B,message:H,relatedInformation:V,code:q}=R;let K=(B?.length||0)+2;q&&(typeof q=="string"?K+=q.length:K+=q.value.length);const U=(0,C.splitLines)(H);this._lines=U.length,this._longestLineLength=0;for(const Q of U)this._longestLineLength=Math.max(Q.length+K,this._longestLineLength);m.clearNode(this._messageBlock),this._messageBlock.setAttribute("aria-label",this.getAriaLabel(R)),this._editor.applyFontInfo(this._messageBlock);let $=this._messageBlock;for(const Q of U)$=document.createElement("div"),$.innerText=Q,Q===""&&($.style.height=this._messageBlock.style.lineHeight),this._messageBlock.appendChild($);if(B||q){const Q=document.createElement("span");if(Q.classList.add("details"),$.appendChild(Q),B){const Z=document.createElement("span");Z.innerText=B,Z.classList.add("source"),Q.appendChild(Z)}if(q)if(typeof q=="string"){const Z=document.createElement("span");Z.innerText=`(${q})`,Z.classList.add("code"),Q.appendChild(Z)}else{this._codeLink=m.$("a.code-link"),this._codeLink.setAttribute("href",`${q.target.toString()}`),this._codeLink.onclick=ae=>{this._openerService.open(q.target,{allowCommands:!0}),ae.preventDefault(),ae.stopPropagation()};const Z=m.append(this._codeLink,m.$("span"));Z.innerText=q.value,Q.appendChild(this._codeLink)}}if(m.clearNode(this._relatedBlock),this._editor.applyFontInfo(this._relatedBlock),(0,D.isNonEmptyArray)(V)){const Q=this._relatedBlock.appendChild(document.createElement("div"));Q.style.paddingTop=`${Math.floor(this._editor.getOption(67)*.66)}px`,this._lines+=1;for(const Z of V){const ae=document.createElement("div"),ue=document.createElement("a");ue.classList.add("filename"),ue.innerText=`${this._labelService.getUriBasenameLabel(Z.resource)}(${Z.startLineNumber}, ${Z.startColumn}): `,ue.title=this._labelService.getUriLabel(Z.resource),this._relatedDiagnostics.set(ue,Z);const ge=document.createElement("span");ge.innerText=Z.message,ae.appendChild(ue),ae.appendChild(ge),this._lines+=1,Q.appendChild(ae)}}const se=this._editor.getOption(50),F=Math.ceil(se.typicalFullwidthCharacterWidth*this._longestLineLength*.75),X=se.lineHeight*this._lines;this._scrollable.setScrollDimensions({scrollWidth:F,scrollHeight:X})}layout(R,B){this._scrollable.getDomNode().style.height=`${R}px`,this._scrollable.getDomNode().style.width=`${B}px`,this._scrollable.setScrollDimensions({width:B,height:R})}getHeightInLines(){return Math.min(17,this._lines)}getAriaLabel(R){let B="";switch(R.severity){case u.MarkerSeverity.Error:B=s.localize(0,null);break;case u.MarkerSeverity.Warning:B=s.localize(1,null);break;case u.MarkerSeverity.Info:B=s.localize(2,null);break;case u.MarkerSeverity.Hint:B=s.localize(3,null);break}let H=s.localize(4,null,B,R.startLineNumber+":"+R.startColumn);const V=this._editor.getModel();return V&&R.startLineNumber<=V.getLineCount()&&R.startLineNumber>=1&&(H=`${V.getLineContent(R.startLineNumber)}, ${H}`),H}}let f=g=class extends a.PeekViewWidget{constructor(R,B,H,V,q,K,U){super(R,{showArrow:!0,showFrame:!0,isAccessible:!0,frameWidth:1},q),this._themeService=B,this._openerService=H,this._menuService=V,this._contextKeyService=K,this._labelService=U,this._callOnDispose=new p.DisposableStore,this._onDidSelectRelatedInformation=new y.Emitter,this.onDidSelectRelatedInformation=this._onDidSelectRelatedInformation.event,this._severity=u.MarkerSeverity.Warning,this._backgroundColor=L.Color.white,this._applyTheme(B.getColorTheme()),this._callOnDispose.add(B.onDidColorThemeChange(this._applyTheme.bind(this))),this.create()}_applyTheme(R){this._backgroundColor=R.getColor(P);let B=E,H=T;this._severity===u.MarkerSeverity.Warning?(B=N,H=A):this._severity===u.MarkerSeverity.Info&&(B=O,H=M);const V=R.getColor(B),q=R.getColor(H);this.style({arrowColor:V,frameColor:V,headerBackgroundColor:q,primaryHeadingColor:R.getColor(a.peekViewTitleForeground),secondaryHeadingColor:R.getColor(a.peekViewTitleInfoForeground)})}_applyStyles(){this._parentContainer&&(this._parentContainer.style.backgroundColor=this._backgroundColor?this._backgroundColor.toString():""),super._applyStyles()}dispose(){this._callOnDispose.dispose(),super.dispose()}_fillHead(R){super._fillHead(R),this._disposables.add(this._actionbarWidget.actionRunner.onWillRun(V=>this.editor.focus()));const B=[],H=this._menuService.createMenu(g.TitleMenu,this._contextKeyService);(0,i.createAndFillInActionBarActions)(H,void 0,B),this._actionbarWidget.push(B,{label:!1,icon:!0,index:0}),H.dispose()}_fillTitleIcon(R){this._icon=m.append(R,m.$(""))}_fillBody(R){this._parentContainer=R,R.classList.add("marker-widget"),this._parentContainer.tabIndex=0,this._parentContainer.setAttribute("role","tooltip"),this._container=document.createElement("div"),R.appendChild(this._container),this._message=new c(this._container,this.editor,B=>this._onDidSelectRelatedInformation.fire(B),this._openerService,this._labelService),this._disposables.add(this._message)}show(){throw new Error("call showAtMarker")}showAtMarker(R,B,H){this._container.classList.remove("stale"),this._message.update(R),this._severity=R.severity,this._applyTheme(this._themeService.getColorTheme());const V=b.Range.lift(R),q=this.editor.getPosition(),K=q&&V.containsPosition(q)?q:V.getStartPosition();super.show(K,this.computeRequiredHeight());const U=this.editor.getModel();if(U){const $=H>1?s.localize(5,null,B,H):s.localize(6,null,B,H);this.setTitle((0,w.basename)(U.uri),$)}this._icon.className=`codicon ${r.SeverityIcon.className(u.MarkerSeverity.toSeverity(this._severity))}`,this.editor.revealPositionNearTop(K,0),this.editor.focus()}updateMarker(R){this._container.classList.remove("stale"),this._message.update(R)}showStale(){this._container.classList.add("stale"),this._relayout()}_doLayoutBody(R,B){super._doLayoutBody(R,B),this._heightInPixel=R,this._message.layout(R,B),this._container.style.height=`${R}px`}_onWidth(R){this._message.layout(this._heightInPixel,R)}_relayout(){super._relayout(this.computeRequiredHeight())}computeRequiredHeight(){return 3+this._message.getHeightInLines()}};e.MarkerNavigationWidget=f,f.TitleMenu=new t.MenuId("gotoErrorTitleMenu"),e.MarkerNavigationWidget=f=g=Ie([he(1,o.IThemeService),he(2,d.IOpenerService),he(3,t.IMenuService),he(4,h.IInstantiationService),he(5,n.IContextKeyService),he(6,v.ILabelService)],f);const _=(0,l.oneOf)(l.editorErrorForeground,l.editorErrorBorder),S=(0,l.oneOf)(l.editorWarningForeground,l.editorWarningBorder),I=(0,l.oneOf)(l.editorInfoForeground,l.editorInfoBorder),E=(0,l.registerColor)("editorMarkerNavigationError.background",{dark:_,light:_,hcDark:l.contrastBorder,hcLight:l.contrastBorder},s.localize(7,null)),T=(0,l.registerColor)("editorMarkerNavigationError.headerBackground",{dark:(0,l.transparent)(E,.1),light:(0,l.transparent)(E,.1),hcDark:null,hcLight:null},s.localize(8,null)),N=(0,l.registerColor)("editorMarkerNavigationWarning.background",{dark:S,light:S,hcDark:l.contrastBorder,hcLight:l.contrastBorder},s.localize(9,null)),A=(0,l.registerColor)("editorMarkerNavigationWarning.headerBackground",{dark:(0,l.transparent)(N,.1),light:(0,l.transparent)(N,.1),hcDark:"#0C141F",hcLight:(0,l.transparent)(N,.2)},s.localize(10,null)),O=(0,l.registerColor)("editorMarkerNavigationInfo.background",{dark:I,light:I,hcDark:l.contrastBorder,hcLight:l.contrastBorder},s.localize(11,null)),M=(0,l.registerColor)("editorMarkerNavigationInfo.headerBackground",{dark:(0,l.transparent)(O,.1),light:(0,l.transparent)(O,.1),hcDark:null,hcLight:null},s.localize(12,null)),P=(0,l.registerColor)("editorMarkerNavigation.background",{dark:l.editorBackground,light:l.editorBackground,hcDark:l.editorBackground,hcLight:l.editorBackground},s.localize(13,null))}),define(te[402],ie([1,0,26,2,16,36,9,5,19,820,707,28,14,8,85,959]),function(J,e,m,k,D,L,y,p,w,C,b,a,s,i,t,n){"use strict";var h;Object.defineProperty(e,"__esModule",{value:!0}),e.NextMarkerAction=e.MarkerController=void 0;let v=h=class{static get(_){return _.getContribution(h.ID)}constructor(_,S,I,E,T){this._markerNavigationService=S,this._contextKeyService=I,this._editorService=E,this._instantiationService=T,this._sessionDispoables=new k.DisposableStore,this._editor=_,this._widgetVisible=g.bindTo(this._contextKeyService)}dispose(){this._cleanUp(),this._sessionDispoables.dispose()}_cleanUp(){this._widgetVisible.reset(),this._sessionDispoables.clear(),this._widget=void 0,this._model=void 0}_getOrCreateModel(_){if(this._model&&this._model.matches(_))return this._model;let S=!1;return this._model&&(S=!0,this._cleanUp()),this._model=this._markerNavigationService.getMarkerList(_),S&&this._model.move(!0,this._editor.getModel(),this._editor.getPosition()),this._widget=this._instantiationService.createInstance(n.MarkerNavigationWidget,this._editor),this._widget.onDidClose(()=>this.close(),this,this._sessionDispoables),this._widgetVisible.set(!0),this._sessionDispoables.add(this._model),this._sessionDispoables.add(this._widget),this._sessionDispoables.add(this._editor.onDidChangeCursorPosition(I=>{var E,T,N;(!(!((E=this._model)===null||E===void 0)&&E.selected)||!p.Range.containsPosition((T=this._model)===null||T===void 0?void 0:T.selected.marker,I.position))&&((N=this._model)===null||N===void 0||N.resetIndex())})),this._sessionDispoables.add(this._model.onDidChange(()=>{if(!this._widget||!this._widget.position||!this._model)return;const I=this._model.find(this._editor.getModel().uri,this._widget.position);I?this._widget.updateMarker(I.marker):this._widget.showStale()})),this._sessionDispoables.add(this._widget.onDidSelectRelatedInformation(I=>{this._editorService.openCodeEditor({resource:I.resource,options:{pinned:!0,revealIfOpened:!0,selection:p.Range.lift(I).collapseToStart()}},this._editor),this.close(!1)})),this._sessionDispoables.add(this._editor.onDidChangeModel(()=>this._cleanUp())),this._model}close(_=!0){this._cleanUp(),_&&this._editor.focus()}showAtMarker(_){if(this._editor.hasModel()){const S=this._getOrCreateModel(this._editor.getModel().uri);S.resetIndex(),S.move(!0,this._editor.getModel(),new y.Position(_.startLineNumber,_.startColumn)),S.selected&&this._widget.showAtMarker(S.selected.marker,S.selected.index,S.selected.total)}}async nagivate(_,S){var I,E;if(this._editor.hasModel()){const T=this._getOrCreateModel(S?void 0:this._editor.getModel().uri);if(T.move(_,this._editor.getModel(),this._editor.getPosition()),!T.selected)return;if(T.selected.marker.resource.toString()!==this._editor.getModel().uri.toString()){this._cleanUp();const N=await this._editorService.openCodeEditor({resource:T.selected.marker.resource,options:{pinned:!1,revealIfOpened:!0,selectionRevealType:2,selection:T.selected.marker}},this._editor);N&&((I=h.get(N))===null||I===void 0||I.close(),(E=h.get(N))===null||E===void 0||E.nagivate(_,S))}else this._widget.showAtMarker(T.selected.marker,T.selected.index,T.selected.total)}}};e.MarkerController=v,v.ID="editor.contrib.markerController",e.MarkerController=v=h=Ie([he(1,C.IMarkerNavigationService),he(2,s.IContextKeyService),he(3,L.ICodeEditorService),he(4,i.IInstantiationService)],v);class u extends D.EditorAction{constructor(_,S,I){super(I),this._next=_,this._multiFile=S}async run(_,S){var I;S.hasModel()&&((I=v.get(S))===null||I===void 0||I.nagivate(this._next,this._multiFile))}}class d extends u{constructor(){super(!0,!1,{id:d.ID,label:d.LABEL,alias:"Go to Next Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:w.EditorContextKeys.focus,primary:578,weight:100},menuOpts:{menuId:n.MarkerNavigationWidget.TitleMenu,title:d.LABEL,icon:(0,t.registerIcon)("marker-navigation-next",m.Codicon.arrowDown,b.localize(1,null)),group:"navigation",order:1}})}}e.NextMarkerAction=d,d.ID="editor.action.marker.next",d.LABEL=b.localize(0,null);class r extends u{constructor(){super(!1,!1,{id:r.ID,label:r.LABEL,alias:"Go to Previous Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:w.EditorContextKeys.focus,primary:1602,weight:100},menuOpts:{menuId:n.MarkerNavigationWidget.TitleMenu,title:r.LABEL,icon:(0,t.registerIcon)("marker-navigation-previous",m.Codicon.arrowUp,b.localize(3,null)),group:"navigation",order:2}})}}r.ID="editor.action.marker.prev",r.LABEL=b.localize(2,null);class l extends u{constructor(){super(!0,!0,{id:"editor.action.marker.nextInFiles",label:b.localize(4,null),alias:"Go to Next Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:w.EditorContextKeys.focus,primary:66,weight:100},menuOpts:{menuId:a.MenuId.MenubarGoMenu,title:b.localize(5,null),group:"6_problem_nav",order:1}})}}class o extends u{constructor(){super(!1,!0,{id:"editor.action.marker.prevInFiles",label:b.localize(6,null),alias:"Go to Previous Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:w.EditorContextKeys.focus,primary:1090,weight:100},menuOpts:{menuId:a.MenuId.MenubarGoMenu,title:b.localize(7,null),group:"6_problem_nav",order:2}})}}(0,D.registerEditorContribution)(v.ID,v,4),(0,D.registerEditorAction)(d),(0,D.registerEditorAction)(r),(0,D.registerEditorAction)(l),(0,D.registerEditorAction)(o);const g=new s.RawContextKey("markersNavigationVisible",!1),c=D.EditorCommand.bindToContribution(v.get);(0,D.registerEditorCommand)(new c({id:"closeMarkersNavigation",precondition:g,handler:f=>f.close(),kbOpts:{weight:150,kbExpr:w.EditorContextKeys.focus,primary:9,secondary:[1033]}}))}),define(te[960],ie([1,0,6,339,34,7,2,49,50,176,5,37,33,84,42,73,878,152,713,8,35,172,205,23,207,169,485]),function(J,e,m,k,D,L,y,p,w,C,b,a,s,i,t,n,h,v,u,d,r,l,o,g,c,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReferenceWidget=e.LayoutData=void 0;class _{constructor(N,A){this._editor=N,this._model=A,this._decorations=new Map,this._decorationIgnoreSet=new Set,this._callOnDispose=new y.DisposableStore,this._callOnModelChange=new y.DisposableStore,this._callOnDispose.add(this._editor.onDidChangeModel(()=>this._onModelChanged())),this._onModelChanged()}dispose(){this._callOnModelChange.dispose(),this._callOnDispose.dispose(),this.removeDecorations()}_onModelChanged(){this._callOnModelChange.clear();const N=this._editor.getModel();if(N){for(const A of this._model.references)if(A.uri.toString()===N.uri.toString()){this._addDecorations(A.parent);return}}}_addDecorations(N){if(!this._editor.hasModel())return;this._callOnModelChange.add(this._editor.getModel().onDidChangeDecorations(()=>this._onDecorationChanged()));const A=[],O=[];for(let M=0,P=N.children.length;M<P;M++){const x=N.children[M];this._decorationIgnoreSet.has(x.id)||x.uri.toString()===this._editor.getModel().uri.toString()&&(A.push({range:x.range,options:_.DecorationOptions}),O.push(M))}this._editor.changeDecorations(M=>{const P=M.deltaDecorations([],A);for(let x=0;x<P.length;x++)this._decorations.set(P[x],N.children[O[x]])})}_onDecorationChanged(){const N=[],A=this._editor.getModel();if(A){for(const[O,M]of this._decorations){const P=A.getDecorationRange(O);if(!P)continue;let x=!1;if(!b.Range.equalsRange(P,M.range)){if(b.Range.spansMultipleLines(P))x=!0;else{const R=M.range.endColumn-M.range.startColumn,B=P.endColumn-P.startColumn;R!==B&&(x=!0)}x?(this._decorationIgnoreSet.add(M.id),N.push(O)):M.range=P}}for(let O=0,M=N.length;O<M;O++)this._decorations.delete(N[O]);this._editor.removeDecorations(N)}}removeDecorations(){this._editor.removeDecorations([...this._decorations.keys()]),this._decorations.clear()}}_.DecorationOptions=a.ModelDecorationOptions.register({description:"reference-decoration",stickiness:1,className:"reference-decoration"});class S{constructor(){this.ratio=.7,this.heightInLines=18}static fromJSON(N){let A,O;try{const M=JSON.parse(N);A=M.ratio,O=M.heightInLines}catch{}return{ratio:A||.7,heightInLines:O||18}}}e.LayoutData=S;class I extends o.WorkbenchAsyncDataTree{}let E=class extends v.PeekViewWidget{constructor(N,A,O,M,P,x,R,B,H,V,q,K){super(N,{showFrame:!1,showArrow:!0,isResizeable:!0,isAccessible:!0,supportOnTitleClick:!0},x),this._defaultTreeKeyboardSupport=A,this.layoutData=O,this._textModelResolverService=P,this._instantiationService=x,this._peekViewService=R,this._uriLabel=B,this._undoRedoService=H,this._keybindingService=V,this._languageService=q,this._languageConfigurationService=K,this._disposeOnNewModel=new y.DisposableStore,this._callOnDispose=new y.DisposableStore,this._onDidSelectReference=new L.Emitter,this.onDidSelectReference=this._onDidSelectReference.event,this._dim=new m.Dimension(0,0),this._applyTheme(M.getColorTheme()),this._callOnDispose.add(M.onDidColorThemeChange(this._applyTheme.bind(this))),this._peekViewService.addExclusiveWidget(N,this),this.create()}dispose(){this.setModel(void 0),this._callOnDispose.dispose(),this._disposeOnNewModel.dispose(),(0,y.dispose)(this._preview),(0,y.dispose)(this._previewNotAvailableMessage),(0,y.dispose)(this._tree),(0,y.dispose)(this._previewModelReference),this._splitView.dispose(),super.dispose()}_applyTheme(N){const A=N.getColor(v.peekViewBorder)||D.Color.transparent;this.style({arrowColor:A,frameColor:A,headerBackgroundColor:N.getColor(v.peekViewTitleBackground)||D.Color.transparent,primaryHeadingColor:N.getColor(v.peekViewTitleForeground),secondaryHeadingColor:N.getColor(v.peekViewTitleInfoForeground)})}show(N){super.show(N,this.layoutData.heightInLines||18)}focusOnReferenceTree(){this._tree.domFocus()}focusOnPreviewEditor(){this._preview.focus()}isPreviewEditorFocused(){return this._preview.hasTextFocus()}_onTitleClick(N){this._preview&&this._preview.getModel()&&this._onDidSelectReference.fire({element:this._getFocusedReference(),kind:N.ctrlKey||N.metaKey||N.altKey?"side":"open",source:"title"})}_fillBody(N){this.setCssClass("reference-zone-widget"),this._messageContainer=m.append(N,m.$("div.messages")),m.hide(this._messageContainer),this._splitView=new k.SplitView(N,{orientation:1}),this._previewContainer=m.append(N,m.$("div.preview.inline"));const A={scrollBeyondLastLine:!1,scrollbar:{verticalScrollbarSize:14,horizontal:"auto",useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,alwaysConsumeMouseWheel:!0},overviewRulerLanes:2,fixedOverflowWidgets:!0,minimap:{enabled:!1}};this._preview=this._instantiationService.createInstance(C.EmbeddedCodeEditorWidget,this._previewContainer,A,{},this.editor),m.hide(this._previewContainer),this._previewNotAvailableMessage=new a.TextModel(u.localize(0,null),i.PLAINTEXT_LANGUAGE_ID,a.TextModel.DEFAULT_CREATION_OPTIONS,null,this._undoRedoService,this._languageService,this._languageConfigurationService),this._treeContainer=m.append(N,m.$("div.ref-tree.inline"));const O={keyboardSupport:this._defaultTreeKeyboardSupport,accessibilityProvider:new h.AccessibilityProvider,keyboardNavigationLabelProvider:this._instantiationService.createInstance(h.StringRepresentationProvider),identityProvider:new h.IdentityProvider,openOnSingleClick:!0,selectionNavigation:!0,overrideStyles:{listBackground:v.peekViewResultsBackground}};this._defaultTreeKeyboardSupport&&this._callOnDispose.add(m.addStandardDisposableListener(this._treeContainer,"keydown",P=>{P.equals(9)&&(this._keybindingService.dispatchEvent(P,P.target),P.stopPropagation())},!0)),this._tree=this._instantiationService.createInstance(I,"ReferencesWidget",this._treeContainer,new h.Delegate,[this._instantiationService.createInstance(h.FileReferencesRenderer),this._instantiationService.createInstance(h.OneReferenceRenderer)],this._instantiationService.createInstance(h.DataSource),O),this._splitView.addView({onDidChange:L.Event.None,element:this._previewContainer,minimumSize:200,maximumSize:Number.MAX_VALUE,layout:P=>{this._preview.layout({height:this._dim.height,width:P})}},k.Sizing.Distribute),this._splitView.addView({onDidChange:L.Event.None,element:this._treeContainer,minimumSize:100,maximumSize:Number.MAX_VALUE,layout:P=>{this._treeContainer.style.height=`${this._dim.height}px`,this._treeContainer.style.width=`${P}px`,this._tree.layout(this._dim.height,P)}},k.Sizing.Distribute),this._disposables.add(this._splitView.onDidSashChange(()=>{this._dim.width&&(this.layoutData.ratio=this._splitView.getViewSize(0)/this._dim.width)},void 0));const M=(P,x)=>{P instanceof f.OneReference&&(x==="show"&&this._revealReference(P,!1),this._onDidSelectReference.fire({element:P,kind:x,source:"tree"}))};this._tree.onDidOpen(P=>{P.sideBySide?M(P.element,"side"):P.editorOptions.pinned?M(P.element,"goto"):M(P.element,"show")}),m.hide(this._treeContainer)}_onWidth(N){this._dim&&this._doLayoutBody(this._dim.height,N)}_doLayoutBody(N,A){super._doLayoutBody(N,A),this._dim=new m.Dimension(A,N),this.layoutData.heightInLines=this._viewZone?this._viewZone.heightInLines:this.layoutData.heightInLines,this._splitView.layout(A),this._splitView.resizeView(0,A*this.layoutData.ratio)}setSelection(N){return this._revealReference(N,!0).then(()=>{this._model&&(this._tree.setSelection([N]),this._tree.setFocus([N]))})}setModel(N){return this._disposeOnNewModel.clear(),this._model=N,this._model?this._onNewModel():Promise.resolve()}_onNewModel(){return this._model?this._model.isEmpty?(this.setTitle(""),this._messageContainer.innerText=u.localize(1,null),m.show(this._messageContainer),Promise.resolve(void 0)):(m.hide(this._messageContainer),this._decorationsManager=new _(this._preview,this._model),this._disposeOnNewModel.add(this._decorationsManager),this._disposeOnNewModel.add(this._model.onDidChangeReferenceRange(N=>this._tree.rerender(N))),this._disposeOnNewModel.add(this._preview.onMouseDown(N=>{const{event:A,target:O}=N;if(A.detail!==2)return;const M=this._getFocusedReference();M&&this._onDidSelectReference.fire({element:{uri:M.uri,range:O.range},kind:A.ctrlKey||A.metaKey||A.altKey?"side":"open",source:"editor"})})),this.container.classList.add("results-loaded"),m.show(this._treeContainer),m.show(this._previewContainer),this._splitView.layout(this._dim.width),this.focusOnReferenceTree(),this._tree.setInput(this._model.groups.length===1?this._model.groups[0]:this._model)):Promise.resolve(void 0)}_getFocusedReference(){const[N]=this._tree.getFocus();if(N instanceof f.OneReference)return N;if(N instanceof f.FileReferences&&N.children.length>0)return N.children[0]}async revealReference(N){await this._revealReference(N,!1),this._onDidSelectReference.fire({element:N,kind:"goto",source:"tree"})}async _revealReference(N,A){if(this._revealedReference===N)return;this._revealedReference=N,N.uri.scheme!==p.Schemas.inMemory?this.setTitle((0,w.basenameOrAuthority)(N.uri),this._uriLabel.getUriLabel((0,w.dirname)(N.uri))):this.setTitle(u.localize(2,null));const O=this._textModelResolverService.createModelReference(N.uri);this._tree.getInput()===N.parent?this._tree.reveal(N):(A&&this._tree.reveal(N.parent),await this._tree.expand(N.parent),this._tree.reveal(N));const M=await O;if(!this._model){M.dispose();return}(0,y.dispose)(this._previewModelReference);const P=M.object;if(P){const x=this._preview.getModel()===P.textEditorModel?0:1,R=b.Range.lift(N.range).collapseToStart();this._previewModelReference=M,this._preview.setModel(P.textEditorModel),this._preview.setSelection(R),this._preview.revealRangeInCenter(R,x)}else this._preview.setModel(this._previewNotAvailableMessage),M.dispose()}};e.ReferenceWidget=E,e.ReferenceWidget=E=Ie([he(3,g.IThemeService),he(4,n.ITextModelService),he(5,d.IInstantiationService),he(6,v.IPeekViewService),he(7,l.ILabelService),he(8,c.IUndoRedoService),he(9,r.IKeybindingService),he(10,t.ILanguageService),he(11,s.ILanguageConfigurationService)],E)}),define(te[403],ie([1,0,15,12,68,2,36,9,5,152,711,27,25,14,8,131,205,51,97,169,960,19,201]),function(J,e,m,k,D,L,y,p,w,C,b,a,s,i,t,n,h,v,u,d,r,l,o){"use strict";var g;Object.defineProperty(e,"__esModule",{value:!0}),e.ReferencesController=e.ctxReferenceSearchVisible=void 0,e.ctxReferenceSearchVisible=new i.RawContextKey("referenceSearchVisible",!1,b.localize(0,null));let c=g=class{static get(S){return S.getContribution(g.ID)}constructor(S,I,E,T,N,A,O,M){this._defaultTreeKeyboardSupport=S,this._editor=I,this._editorService=T,this._notificationService=N,this._instantiationService=A,this._storageService=O,this._configurationService=M,this._disposables=new L.DisposableStore,this._requestIdPool=0,this._ignoreModelChangeEvent=!1,this._referenceSearchVisible=e.ctxReferenceSearchVisible.bindTo(E)}dispose(){var S,I;this._referenceSearchVisible.reset(),this._disposables.dispose(),(S=this._widget)===null||S===void 0||S.dispose(),(I=this._model)===null||I===void 0||I.dispose(),this._widget=void 0,this._model=void 0}toggleWidget(S,I,E){let T;if(this._widget&&(T=this._widget.position),this.closeWidget(),T&&S.containsPosition(T))return;this._peekMode=E,this._referenceSearchVisible.set(!0),this._disposables.add(this._editor.onDidChangeModelLanguage(()=>{this.closeWidget()})),this._disposables.add(this._editor.onDidChangeModel(()=>{this._ignoreModelChangeEvent||this.closeWidget()}));const N="peekViewLayout",A=r.LayoutData.fromJSON(this._storageService.get(N,0,"{}"));this._widget=this._instantiationService.createInstance(r.ReferenceWidget,this._editor,this._defaultTreeKeyboardSupport,A),this._widget.setTitle(b.localize(1,null)),this._widget.show(S),this._disposables.add(this._widget.onDidClose(()=>{I.cancel(),this._widget&&(this._storageService.store(N,JSON.stringify(this._widget.layoutData),0,1),this._widget=void 0),this.closeWidget()})),this._disposables.add(this._widget.onDidSelectReference(M=>{const{element:P,kind:x}=M;if(P)switch(x){case"open":(M.source!=="editor"||!this._configurationService.getValue("editor.stablePeek"))&&this.openReference(P,!1,!1);break;case"side":this.openReference(P,!0,!1);break;case"goto":E?this._gotoReference(P,!0):this.openReference(P,!1,!0);break}}));const O=++this._requestIdPool;I.then(M=>{var P;if(O!==this._requestIdPool||!this._widget){M.dispose();return}return(P=this._model)===null||P===void 0||P.dispose(),this._model=M,this._widget.setModel(this._model).then(()=>{if(this._widget&&this._model&&this._editor.hasModel()){this._model.isEmpty?this._widget.setMetaTitle(""):this._widget.setMetaTitle(b.localize(2,null,this._model.title,this._model.references.length));const x=this._editor.getModel().uri,R=new p.Position(S.startLineNumber,S.startColumn),B=this._model.nearestReference(x,R);if(B)return this._widget.setSelection(B).then(()=>{this._widget&&this._editor.getOption(87)==="editor"&&this._widget.focusOnPreviewEditor()})}})},M=>{this._notificationService.error(M)})}changeFocusBetweenPreviewAndReferences(){this._widget&&(this._widget.isPreviewEditorFocused()?this._widget.focusOnReferenceTree():this._widget.focusOnPreviewEditor())}async goToNextOrPreviousReference(S){if(!this._editor.hasModel()||!this._model||!this._widget)return;const I=this._widget.position;if(!I)return;const E=this._model.nearestReference(this._editor.getModel().uri,I);if(!E)return;const T=this._model.nextOrPreviousReference(E,S),N=this._editor.hasTextFocus(),A=this._widget.isPreviewEditorFocused();await this._widget.setSelection(T),await this._gotoReference(T,!1),N?this._editor.focus():this._widget&&A&&this._widget.focusOnPreviewEditor()}async revealReference(S){!this._editor.hasModel()||!this._model||!this._widget||await this._widget.revealReference(S)}closeWidget(S=!0){var I,E;(I=this._widget)===null||I===void 0||I.dispose(),(E=this._model)===null||E===void 0||E.dispose(),this._referenceSearchVisible.reset(),this._disposables.clear(),this._widget=void 0,this._model=void 0,S&&this._editor.focus(),this._requestIdPool+=1}_gotoReference(S,I){var E;(E=this._widget)===null||E===void 0||E.hide(),this._ignoreModelChangeEvent=!0;const T=w.Range.lift(S.range).collapseToStart();return this._editorService.openCodeEditor({resource:S.uri,options:{selection:T,selectionSource:"code.jump",pinned:I}},this._editor).then(N=>{var A;if(this._ignoreModelChangeEvent=!1,!N||!this._widget){this.closeWidget();return}if(this._editor===N)this._widget.show(T),this._widget.focusOnReferenceTree();else{const O=g.get(N),M=this._model.clone();this.closeWidget(),N.focus(),O?.toggleWidget(T,(0,m.createCancelablePromise)(P=>Promise.resolve(M)),(A=this._peekMode)!==null&&A!==void 0?A:!1)}},N=>{this._ignoreModelChangeEvent=!1,(0,k.onUnexpectedError)(N)})}openReference(S,I,E){I||this.closeWidget();const{uri:T,range:N}=S;this._editorService.openCodeEditor({resource:T,options:{selection:N,selectionSource:"code.jump",pinned:E}},this._editor,I)}};e.ReferencesController=c,c.ID="editor.contrib.referencesController",e.ReferencesController=c=g=Ie([he(2,i.IContextKeyService),he(3,y.ICodeEditorService),he(4,v.INotificationService),he(5,t.IInstantiationService),he(6,u.IStorageService),he(7,s.IConfigurationService)],c);function f(_,S){const I=(0,C.getOuterEditor)(_);if(!I)return;const E=c.get(I);E&&S(E)}n.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"togglePeekWidgetFocus",weight:100,primary:(0,D.KeyChord)(2089,60),when:i.ContextKeyExpr.or(e.ctxReferenceSearchVisible,C.PeekContext.inPeekEditor),handler(_){f(_,S=>{S.changeFocusBetweenPreviewAndReferences()})}}),n.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"goToNextReference",weight:90,primary:62,secondary:[70],when:i.ContextKeyExpr.or(e.ctxReferenceSearchVisible,C.PeekContext.inPeekEditor),handler(_){f(_,S=>{S.goToNextOrPreviousReference(!0)})}}),n.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"goToPreviousReference",weight:90,primary:1086,secondary:[1094],when:i.ContextKeyExpr.or(e.ctxReferenceSearchVisible,C.PeekContext.inPeekEditor),handler(_){f(_,S=>{S.goToNextOrPreviousReference(!1)})}}),a.CommandsRegistry.registerCommandAlias("goToNextReferenceFromEmbeddedEditor","goToNextReference"),a.CommandsRegistry.registerCommandAlias("goToPreviousReferenceFromEmbeddedEditor","goToPreviousReference"),a.CommandsRegistry.registerCommandAlias("closeReferenceSearchEditor","closeReferenceSearch"),a.CommandsRegistry.registerCommand("closeReferenceSearch",_=>f(_,S=>S.closeWidget())),n.KeybindingsRegistry.registerKeybindingRule({id:"closeReferenceSearch",weight:-1,primary:9,secondary:[1033],when:i.ContextKeyExpr.and(C.PeekContext.inPeekEditor,i.ContextKeyExpr.not("config.editor.stablePeek"))}),n.KeybindingsRegistry.registerKeybindingRule({id:"closeReferenceSearch",weight:250,primary:9,secondary:[1033],when:i.ContextKeyExpr.and(e.ctxReferenceSearchVisible,i.ContextKeyExpr.not("config.editor.stablePeek"),i.ContextKeyExpr.or(l.EditorContextKeys.editorTextFocus,o.InputFocusedContext.negate()))}),n.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"revealReference",weight:200,primary:3,mac:{primary:3,secondary:[2066]},when:i.ContextKeyExpr.and(e.ctxReferenceSearchVisible,h.WorkbenchListFocusContextKey,h.WorkbenchTreeElementCanCollapse.negate(),h.WorkbenchTreeElementCanExpand.negate()),handler(_){var S;const E=(S=_.get(h.IListService).lastFocusedList)===null||S===void 0?void 0:S.getFocus();Array.isArray(E)&&E[0]instanceof d.OneReference&&f(_,T=>T.revealReference(E[0]))}}),n.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"openReferenceToSide",weight:100,primary:2051,mac:{primary:259},when:i.ContextKeyExpr.and(e.ctxReferenceSearchVisible,h.WorkbenchListFocusContextKey,h.WorkbenchTreeElementCanCollapse.negate(),h.WorkbenchTreeElementCanExpand.negate()),handler(_){var S;const E=(S=_.get(h.IListService).lastFocusedList)===null||S===void 0?void 0:S.getFocus();Array.isArray(E)&&E[0]instanceof d.OneReference&&f(_,T=>T.openReference(E[0],!0,!0))}}),a.CommandsRegistry.registerCommand("openReference",_=>{var S;const E=(S=_.get(h.IListService).lastFocusedList)===null||S===void 0?void 0:S.getFocus();Array.isArray(E)&&E[0]instanceof d.OneReference&&f(_,T=>T.openReference(E[0],!1,!0))})}),define(te[279],ie([1,0,45,15,68,21,22,115,162,16,36,176,9,5,19,29,403,169,856,174,152,709,28,27,14,8,51,91,266,18,54,201]),function(J,e,m,k,D,L,y,p,w,C,b,a,s,i,t,n,h,v,u,d,r,l,o,g,c,f,_,S,I,E,T,N){"use strict";var A,O,M,P,x,R,B,H;Object.defineProperty(e,"__esModule",{value:!0}),e.DefinitionAction=e.SymbolNavigationAction=e.SymbolNavigationAnchor=void 0,o.MenuRegistry.appendMenuItem(o.MenuId.EditorContext,{submenu:o.MenuId.EditorContextPeek,title:l.localize(0,null),group:"navigation",order:100});class V{static is(Z){return!Z||typeof Z!="object"?!1:!!(Z instanceof V||s.Position.isIPosition(Z.position)&&Z.model)}constructor(Z,ae){this.model=Z,this.position=ae}}e.SymbolNavigationAnchor=V;class q extends C.EditorAction2{static all(){return q._allSymbolNavigationCommands.values()}static _patchConfig(Z){const ae={...Z,f1:!0};if(ae.menu)for(const ue of T.Iterable.wrap(ae.menu))(ue.id===o.MenuId.EditorContext||ue.id===o.MenuId.EditorContextPeek)&&(ue.when=c.ContextKeyExpr.and(Z.precondition,ue.when));return ae}constructor(Z,ae){super(q._patchConfig(ae)),this.configuration=Z,q._allSymbolNavigationCommands.set(ae.id,this)}runEditorCommand(Z,ae,ue,ge){if(!ae.hasModel())return Promise.resolve(void 0);const fe=Z.get(_.INotificationService),re=Z.get(b.ICodeEditorService),de=Z.get(S.IEditorProgressService),ee=Z.get(u.ISymbolNavigationService),W=Z.get(E.ILanguageFeaturesService),z=Z.get(f.IInstantiationService),Y=ae.getModel(),j=ae.getPosition(),G=V.is(ue)?ue:new V(Y,j),oe=new p.EditorStateCancellationTokenSource(ae,5),ne=(0,k.raceCancellation)(this._getLocationModel(W,G.model,G.position,oe.token),oe.token).then(async ce=>{var le;if(!ce||oe.token.isCancellationRequested)return;(0,m.alert)(ce.ariaMessage);let me;if(ce.referenceAt(Y.uri,j)){const Ce=this._getAlternativeCommand(ae);!q._activeAlternativeCommands.has(Ce)&&q._allSymbolNavigationCommands.has(Ce)&&(me=q._allSymbolNavigationCommands.get(Ce))}const ve=ce.references.length;if(ve===0){if(!this.configuration.muteMessage){const Ce=Y.getWordAtPosition(j);(le=d.MessageController.get(ae))===null||le===void 0||le.showMessage(this._getNoResultFoundMessage(Ce),j)}}else if(ve===1&&me)q._activeAlternativeCommands.add(this.desc.id),z.invokeFunction(Ce=>me.runEditorCommand(Ce,ae,ue,ge).finally(()=>{q._activeAlternativeCommands.delete(this.desc.id)}));else return this._onResult(re,ee,ae,ce,ge)},ce=>{fe.error(ce)}).finally(()=>{oe.dispose()});return de.showWhile(ne,250),ne}async _onResult(Z,ae,ue,ge,fe){const re=this._getGoToPreference(ue);if(!(ue instanceof a.EmbeddedCodeEditorWidget)&&(this.configuration.openInPeek||re==="peek"&&ge.references.length>1))this._openInPeek(ue,ge,fe);else{const de=ge.firstReference(),ee=ge.references.length>1&&re==="gotoAndPeek",W=await this._openReference(ue,Z,de,this.configuration.openToSide,!ee);ee&&W?this._openInPeek(W,ge,fe):ge.dispose(),re==="goto"&&ae.put(de)}}async _openReference(Z,ae,ue,ge,fe){let re;if((0,n.isLocationLink)(ue)&&(re=ue.targetSelectionRange),re||(re=ue.range),!re)return;const de=await ae.openCodeEditor({resource:ue.uri,options:{selection:i.Range.collapseToStart(re),selectionRevealType:3,selectionSource:"code.jump"}},Z,ge);if(de){if(fe){const ee=de.getModel(),W=de.createDecorationsCollection([{range:re,options:{description:"symbol-navigate-action-highlight",className:"symbolHighlight"}}]);setTimeout(()=>{de.getModel()===ee&&W.clear()},350)}return de}}_openInPeek(Z,ae,ue){const ge=h.ReferencesController.get(Z);ge&&Z.hasModel()?ge.toggleWidget(ue??Z.getSelection(),(0,k.createCancelablePromise)(fe=>Promise.resolve(ae)),this.configuration.openInPeek):ae.dispose()}}e.SymbolNavigationAction=q,q._allSymbolNavigationCommands=new Map,q._activeAlternativeCommands=new Set;class K extends q{async _getLocationModel(Z,ae,ue,ge){return new v.ReferencesModel(await(0,I.getDefinitionsAtPosition)(Z.definitionProvider,ae,ue,ge),l.localize(1,null))}_getNoResultFoundMessage(Z){return Z&&Z.word?l.localize(2,null,Z.word):l.localize(3,null)}_getAlternativeCommand(Z){return Z.getOption(58).alternativeDefinitionCommand}_getGoToPreference(Z){return Z.getOption(58).multipleDefinitions}}e.DefinitionAction=K,(0,o.registerAction2)((A=class extends K{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:A.id,title:{...l.localize2(27,"Go to Definition"),mnemonicTitle:l.localize(4,null)},precondition:t.EditorContextKeys.hasDefinitionProvider,keybinding:[{when:t.EditorContextKeys.editorTextFocus,primary:70,weight:100},{when:c.ContextKeyExpr.and(t.EditorContextKeys.editorTextFocus,N.IsWebContext),primary:2118,weight:100}],menu:[{id:o.MenuId.EditorContext,group:"navigation",order:1.1},{id:o.MenuId.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:2}]}),g.CommandsRegistry.registerCommandAlias("editor.action.goToDeclaration",A.id)}},A.id="editor.action.revealDefinition",A)),(0,o.registerAction2)((O=class extends K{constructor(){super({openToSide:!0,openInPeek:!1,muteMessage:!1},{id:O.id,title:l.localize2(28,"Open Definition to the Side"),precondition:c.ContextKeyExpr.and(t.EditorContextKeys.hasDefinitionProvider,t.EditorContextKeys.isInEmbeddedEditor.toNegated()),keybinding:[{when:t.EditorContextKeys.editorTextFocus,primary:(0,D.KeyChord)(2089,70),weight:100},{when:c.ContextKeyExpr.and(t.EditorContextKeys.editorTextFocus,N.IsWebContext),primary:(0,D.KeyChord)(2089,2118),weight:100}]}),g.CommandsRegistry.registerCommandAlias("editor.action.openDeclarationToTheSide",O.id)}},O.id="editor.action.revealDefinitionAside",O)),(0,o.registerAction2)((M=class extends K{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:M.id,title:l.localize2(29,"Peek Definition"),precondition:c.ContextKeyExpr.and(t.EditorContextKeys.hasDefinitionProvider,r.PeekContext.notInPeekEditor,t.EditorContextKeys.isInEmbeddedEditor.toNegated()),keybinding:{when:t.EditorContextKeys.editorTextFocus,primary:582,linux:{primary:3140},weight:100},menu:{id:o.MenuId.EditorContextPeek,group:"peek",order:2}}),g.CommandsRegistry.registerCommandAlias("editor.action.previewDeclaration",M.id)}},M.id="editor.action.peekDefinition",M));class U extends q{async _getLocationModel(Z,ae,ue,ge){return new v.ReferencesModel(await(0,I.getDeclarationsAtPosition)(Z.declarationProvider,ae,ue,ge),l.localize(5,null))}_getNoResultFoundMessage(Z){return Z&&Z.word?l.localize(6,null,Z.word):l.localize(7,null)}_getAlternativeCommand(Z){return Z.getOption(58).alternativeDeclarationCommand}_getGoToPreference(Z){return Z.getOption(58).multipleDeclarations}}(0,o.registerAction2)((P=class extends U{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:P.id,title:{...l.localize2(30,"Go to Declaration"),mnemonicTitle:l.localize(8,null)},precondition:c.ContextKeyExpr.and(t.EditorContextKeys.hasDeclarationProvider,t.EditorContextKeys.isInEmbeddedEditor.toNegated()),menu:[{id:o.MenuId.EditorContext,group:"navigation",order:1.3},{id:o.MenuId.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:3}]})}_getNoResultFoundMessage(Z){return Z&&Z.word?l.localize(9,null,Z.word):l.localize(10,null)}},P.id="editor.action.revealDeclaration",P)),(0,o.registerAction2)(class extends U{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.peekDeclaration",title:l.localize2(31,"Peek Declaration"),precondition:c.ContextKeyExpr.and(t.EditorContextKeys.hasDeclarationProvider,r.PeekContext.notInPeekEditor,t.EditorContextKeys.isInEmbeddedEditor.toNegated()),menu:{id:o.MenuId.EditorContextPeek,group:"peek",order:3}})}});class $ extends q{async _getLocationModel(Z,ae,ue,ge){return new v.ReferencesModel(await(0,I.getTypeDefinitionsAtPosition)(Z.typeDefinitionProvider,ae,ue,ge),l.localize(11,null))}_getNoResultFoundMessage(Z){return Z&&Z.word?l.localize(12,null,Z.word):l.localize(13,null)}_getAlternativeCommand(Z){return Z.getOption(58).alternativeTypeDefinitionCommand}_getGoToPreference(Z){return Z.getOption(58).multipleTypeDefinitions}}(0,o.registerAction2)((x=class extends ${constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:x.ID,title:{...l.localize2(32,"Go to Type Definition"),mnemonicTitle:l.localize(14,null)},precondition:t.EditorContextKeys.hasTypeDefinitionProvider,keybinding:{when:t.EditorContextKeys.editorTextFocus,primary:0,weight:100},menu:[{id:o.MenuId.EditorContext,group:"navigation",order:1.4},{id:o.MenuId.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:3}]})}},x.ID="editor.action.goToTypeDefinition",x)),(0,o.registerAction2)((R=class extends ${constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:R.ID,title:l.localize2(33,"Peek Type Definition"),precondition:c.ContextKeyExpr.and(t.EditorContextKeys.hasTypeDefinitionProvider,r.PeekContext.notInPeekEditor,t.EditorContextKeys.isInEmbeddedEditor.toNegated()),menu:{id:o.MenuId.EditorContextPeek,group:"peek",order:4}})}},R.ID="editor.action.peekTypeDefinition",R));class se extends q{async _getLocationModel(Z,ae,ue,ge){return new v.ReferencesModel(await(0,I.getImplementationsAtPosition)(Z.implementationProvider,ae,ue,ge),l.localize(15,null))}_getNoResultFoundMessage(Z){return Z&&Z.word?l.localize(16,null,Z.word):l.localize(17,null)}_getAlternativeCommand(Z){return Z.getOption(58).alternativeImplementationCommand}_getGoToPreference(Z){return Z.getOption(58).multipleImplementations}}(0,o.registerAction2)((B=class extends se{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:B.ID,title:{...l.localize2(34,"Go to Implementations"),mnemonicTitle:l.localize(18,null)},precondition:t.EditorContextKeys.hasImplementationProvider,keybinding:{when:t.EditorContextKeys.editorTextFocus,primary:2118,weight:100},menu:[{id:o.MenuId.EditorContext,group:"navigation",order:1.45},{id:o.MenuId.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:4}]})}},B.ID="editor.action.goToImplementation",B)),(0,o.registerAction2)((H=class extends se{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:H.ID,title:l.localize2(35,"Peek Implementations"),precondition:c.ContextKeyExpr.and(t.EditorContextKeys.hasImplementationProvider,r.PeekContext.notInPeekEditor,t.EditorContextKeys.isInEmbeddedEditor.toNegated()),keybinding:{when:t.EditorContextKeys.editorTextFocus,primary:3142,weight:100},menu:{id:o.MenuId.EditorContextPeek,group:"peek",order:5}})}},H.ID="editor.action.peekImplementation",H));class F extends q{_getNoResultFoundMessage(Z){return Z?l.localize(19,null,Z.word):l.localize(20,null)}_getAlternativeCommand(Z){return Z.getOption(58).alternativeReferenceCommand}_getGoToPreference(Z){return Z.getOption(58).multipleReferences}}(0,o.registerAction2)(class extends F{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:"editor.action.goToReferences",title:{...l.localize2(36,"Go to References"),mnemonicTitle:l.localize(21,null)},precondition:c.ContextKeyExpr.and(t.EditorContextKeys.hasReferenceProvider,r.PeekContext.notInPeekEditor,t.EditorContextKeys.isInEmbeddedEditor.toNegated()),keybinding:{when:t.EditorContextKeys.editorTextFocus,primary:1094,weight:100},menu:[{id:o.MenuId.EditorContext,group:"navigation",order:1.45},{id:o.MenuId.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:5}]})}async _getLocationModel(Z,ae,ue,ge){return new v.ReferencesModel(await(0,I.getReferencesAtPosition)(Z.referenceProvider,ae,ue,!0,ge),l.localize(22,null))}}),(0,o.registerAction2)(class extends F{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.referenceSearch.trigger",title:l.localize2(37,"Peek References"),precondition:c.ContextKeyExpr.and(t.EditorContextKeys.hasReferenceProvider,r.PeekContext.notInPeekEditor,t.EditorContextKeys.isInEmbeddedEditor.toNegated()),menu:{id:o.MenuId.EditorContextPeek,group:"peek",order:6}})}async _getLocationModel(Z,ae,ue,ge){return new v.ReferencesModel(await(0,I.getReferencesAtPosition)(Z.referenceProvider,ae,ue,!1,ge),l.localize(23,null))}});class X extends q{constructor(Z,ae,ue){super(Z,{id:"editor.action.goToLocation",title:l.localize2(38,"Go to Any Symbol"),precondition:c.ContextKeyExpr.and(r.PeekContext.notInPeekEditor,t.EditorContextKeys.isInEmbeddedEditor.toNegated())}),this._references=ae,this._gotoMultipleBehaviour=ue}async _getLocationModel(Z,ae,ue,ge){return new v.ReferencesModel(this._references,l.localize(24,null))}_getNoResultFoundMessage(Z){return Z&&l.localize(25,null,Z.word)||""}_getGoToPreference(Z){var ae;return(ae=this._gotoMultipleBehaviour)!==null&&ae!==void 0?ae:Z.getOption(58).multipleReferences}_getAlternativeCommand(){return""}}g.CommandsRegistry.registerCommand({id:"editor.action.goToLocations",metadata:{description:"Go to locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:y.URI},{name:"position",description:"The position at which to start",constraint:s.Position.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto`"},{name:"noResultsMessage",description:"Human readable message that shows when locations is empty."}]},handler:async(Q,Z,ae,ue,ge,fe,re)=>{(0,L.assertType)(y.URI.isUri(Z)),(0,L.assertType)(s.Position.isIPosition(ae)),(0,L.assertType)(Array.isArray(ue)),(0,L.assertType)(typeof ge>"u"||typeof ge=="string"),(0,L.assertType)(typeof re>"u"||typeof re=="boolean");const de=Q.get(b.ICodeEditorService),ee=await de.openCodeEditor({resource:Z},de.getFocusedCodeEditor());if((0,w.isCodeEditor)(ee))return ee.setPosition(ae),ee.revealPositionInCenterIfOutsideViewport(ae,0),ee.invokeWithinContext(W=>{const z=new class extends X{_getNoResultFoundMessage(Y){return fe||super._getNoResultFoundMessage(Y)}}({muteMessage:!fe,openInPeek:!!re,openToSide:!1},ue,ge);W.get(f.IInstantiationService).invokeFunction(z.run.bind(z),ee)})}}),g.CommandsRegistry.registerCommand({id:"editor.action.peekLocations",metadata:{description:"Peek locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:y.URI},{name:"position",description:"The position at which to start",constraint:s.Position.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto`"}]},handler:async(Q,Z,ae,ue,ge)=>{Q.get(g.ICommandService).executeCommand("editor.action.goToLocations",Z,ae,ue,ge,void 0,!0)}}),g.CommandsRegistry.registerCommand({id:"editor.action.findReferences",handler:(Q,Z,ae)=>{(0,L.assertType)(y.URI.isUri(Z)),(0,L.assertType)(s.Position.isIPosition(ae));const ue=Q.get(E.ILanguageFeaturesService),ge=Q.get(b.ICodeEditorService);return ge.openCodeEditor({resource:Z},ge.getFocusedCodeEditor()).then(fe=>{if(!(0,w.isCodeEditor)(fe)||!fe.hasModel())return;const re=h.ReferencesController.get(fe);if(!re)return;const de=(0,k.createCancelablePromise)(W=>(0,I.getReferencesAtPosition)(ue.referenceProvider,fe.getModel(),s.Position.lift(ae),!1,W).then(z=>new v.ReferencesModel(z,l.localize(26,null)))),ee=new i.Range(ae.lineNumber,ae.column,ae.lineNumber,ae.column);return Promise.resolve(re.toggleWidget(ee,de,!1))})}}),g.CommandsRegistry.registerCommandAlias("editor.action.showReferences","editor.action.peekLocations")}),define(te[404],ie([1,0,15,12,57,2,115,16,5,42,73,199,152,710,14,279,266,18,37,484]),function(J,e,m,k,D,L,y,p,w,C,b,a,s,i,t,n,h,v,u){"use strict";var d;Object.defineProperty(e,"__esModule",{value:!0}),e.GotoDefinitionAtPositionEditorContribution=void 0;let r=d=class{constructor(o,g,c,f){this.textModelResolverService=g,this.languageService=c,this.languageFeaturesService=f,this.toUnhook=new L.DisposableStore,this.toUnhookForKeyboard=new L.DisposableStore,this.currentWordAtPosition=null,this.previousPromise=null,this.editor=o,this.linkDecorations=this.editor.createDecorationsCollection();const _=new a.ClickLinkGesture(o);this.toUnhook.add(_),this.toUnhook.add(_.onMouseMoveOrRelevantKeyDown(([S,I])=>{this.startFindDefinitionFromMouse(S,I??void 0)})),this.toUnhook.add(_.onExecute(S=>{this.isEnabled(S)&&this.gotoDefinition(S.target.position,S.hasSideBySideModifier).catch(I=>{(0,k.onUnexpectedError)(I)}).finally(()=>{this.removeLinkDecorations()})})),this.toUnhook.add(_.onCancel(()=>{this.removeLinkDecorations(),this.currentWordAtPosition=null}))}static get(o){return o.getContribution(d.ID)}async startFindDefinitionFromCursor(o){await this.startFindDefinition(o),this.toUnhookForKeyboard.add(this.editor.onDidChangeCursorPosition(()=>{this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear()})),this.toUnhookForKeyboard.add(this.editor.onKeyDown(g=>{g&&(this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear())}))}startFindDefinitionFromMouse(o,g){if(o.target.type===9&&this.linkDecorations.length>0)return;if(!this.editor.hasModel()||!this.isEnabled(o,g)){this.currentWordAtPosition=null,this.removeLinkDecorations();return}const c=o.target.position;this.startFindDefinition(c)}async startFindDefinition(o){var g;this.toUnhookForKeyboard.clear();const c=o?(g=this.editor.getModel())===null||g===void 0?void 0:g.getWordAtPosition(o):null;if(!c){this.currentWordAtPosition=null,this.removeLinkDecorations();return}if(this.currentWordAtPosition&&this.currentWordAtPosition.startColumn===c.startColumn&&this.currentWordAtPosition.endColumn===c.endColumn&&this.currentWordAtPosition.word===c.word)return;this.currentWordAtPosition=c;const f=new y.EditorState(this.editor,15);this.previousPromise&&(this.previousPromise.cancel(),this.previousPromise=null),this.previousPromise=(0,m.createCancelablePromise)(I=>this.findDefinition(o,I));let _;try{_=await this.previousPromise}catch(I){(0,k.onUnexpectedError)(I);return}if(!_||!_.length||!f.validate(this.editor)){this.removeLinkDecorations();return}const S=_[0].originSelectionRange?w.Range.lift(_[0].originSelectionRange):new w.Range(o.lineNumber,c.startColumn,o.lineNumber,c.endColumn);if(_.length>1){let I=S;for(const{originSelectionRange:E}of _)E&&(I=w.Range.plusRange(I,E));this.addDecoration(I,new D.MarkdownString().appendText(i.localize(0,null,_.length)))}else{const I=_[0];if(!I.uri)return;this.textModelResolverService.createModelReference(I.uri).then(E=>{if(!E.object||!E.object.textEditorModel){E.dispose();return}const{object:{textEditorModel:T}}=E,{startLineNumber:N}=I.range;if(N<1||N>T.getLineCount()){E.dispose();return}const A=this.getPreviewValue(T,N,I),O=this.languageService.guessLanguageIdByFilepathOrFirstLine(T.uri);this.addDecoration(S,A?new D.MarkdownString().appendCodeblock(O||"",A):void 0),E.dispose()})}}getPreviewValue(o,g,c){let f=c.range;return f.endLineNumber-f.startLineNumber>=d.MAX_SOURCE_PREVIEW_LINES&&(f=this.getPreviewRangeBasedOnIndentation(o,g)),this.stripIndentationFromPreviewRange(o,g,f)}stripIndentationFromPreviewRange(o,g,c){let _=o.getLineFirstNonWhitespaceColumn(g);for(let I=g+1;I<c.endLineNumber;I++){const E=o.getLineFirstNonWhitespaceColumn(I);_=Math.min(_,E)}return o.getValueInRange(c).replace(new RegExp(`^\\s{${_-1}}`,"gm"),"").trim()}getPreviewRangeBasedOnIndentation(o,g){const c=o.getLineFirstNonWhitespaceColumn(g),f=Math.min(o.getLineCount(),g+d.MAX_SOURCE_PREVIEW_LINES);let _=g+1;for(;_<f;_++){const S=o.getLineFirstNonWhitespaceColumn(_);if(c===S)break}return new w.Range(g,1,_+1,1)}addDecoration(o,g){const c={range:o,options:{description:"goto-definition-link",inlineClassName:"goto-definition-link",hoverMessage:g}};this.linkDecorations.set([c])}removeLinkDecorations(){this.linkDecorations.clear()}isEnabled(o,g){var c;return this.editor.hasModel()&&o.isLeftClick&&o.isNoneOrSingleMouseDown&&o.target.type===6&&!(((c=o.target.detail.injectedText)===null||c===void 0?void 0:c.options)instanceof u.ModelDecorationInjectedTextOptions)&&(o.hasTriggerModifier||(g?g.keyCodeIsTriggerKey:!1))&&this.languageFeaturesService.definitionProvider.has(this.editor.getModel())}findDefinition(o,g){const c=this.editor.getModel();return c?(0,h.getDefinitionsAtPosition)(this.languageFeaturesService.definitionProvider,c,o,g):Promise.resolve(null)}gotoDefinition(o,g){return this.editor.setPosition(o),this.editor.invokeWithinContext(c=>{const f=!g&&this.editor.getOption(88)&&!this.isInPeekEditor(c);return new n.DefinitionAction({openToSide:g,openInPeek:f,muteMessage:!0},{title:{value:"",original:""},id:"",precondition:void 0}).run(c)})}isInPeekEditor(o){const g=o.get(t.IContextKeyService);return s.PeekContext.inPeekEditor.getValue(g)}dispose(){this.toUnhook.dispose(),this.toUnhookForKeyboard.dispose()}};e.GotoDefinitionAtPositionEditorContribution=r,r.ID="editor.contrib.gotodefinitionatposition",r.MAX_SOURCE_PREVIEW_LINES=8,e.GotoDefinitionAtPositionEditorContribution=r=d=Ie([he(1,b.ITextModelService),he(2,C.ILanguageService),he(3,v.ILanguageFeaturesService)],r),(0,p.registerEditorContribution)(r.ID,r,2)}),define(te[961],ie([1,0,6,13,15,12,2,50,5,18,253,151,276,127,402,718,104,59,91]),function(J,e,m,k,D,L,y,p,w,C,b,a,s,i,t,n,h,v,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarkerHoverParticipant=e.MarkerHover=void 0;const d=m.$;class r{constructor(c,f,_){this.owner=c,this.range=f,this.marker=_}isValidForHoverAnchor(c){return c.type===1&&this.range.startColumn<=c.range.startColumn&&this.range.endColumn>=c.range.endColumn}}e.MarkerHover=r;const l={type:1,filter:{include:i.CodeActionKind.QuickFix},triggerAction:i.CodeActionTriggerSource.QuickFixHover};let o=class{constructor(c,f,_,S){this._editor=c,this._markerDecorationsService=f,this._openerService=_,this._languageFeaturesService=S,this.hoverOrdinal=1,this.recentMarkerCodeActionsInfo=void 0}computeSync(c,f){if(!this._editor.hasModel()||c.type!==1&&!c.supportsMarkerHover)return[];const _=this._editor.getModel(),S=c.range.startLineNumber,I=_.getLineMaxColumn(S),E=[];for(const T of f){const N=T.range.startLineNumber===S?T.range.startColumn:1,A=T.range.endLineNumber===S?T.range.endColumn:I,O=this._markerDecorationsService.getMarker(_.uri,T);if(!O)continue;const M=new w.Range(c.range.startLineNumber,N,c.range.startLineNumber,A);E.push(new r(this,M,O))}return E}renderHoverParts(c,f){if(!f.length)return y.Disposable.None;const _=new y.DisposableStore;f.forEach(I=>c.fragment.appendChild(this.renderMarkerHover(I,_)));const S=f.length===1?f[0]:f.sort((I,E)=>h.MarkerSeverity.compare(I.marker.severity,E.marker.severity))[0];return this.renderMarkerStatusbar(c,S,_),_}renderMarkerHover(c,f){const _=d("div.hover-row"),S=m.append(_,d("div.marker.hover-contents")),{source:I,message:E,code:T,relatedInformation:N}=c.marker;this._editor.applyFontInfo(S);const A=m.append(S,d("span"));if(A.style.whiteSpace="pre-wrap",A.innerText=E,I||T)if(T&&typeof T!="string"){const O=d("span");if(I){const R=m.append(O,d("span"));R.innerText=I}const M=m.append(O,d("a.code-link"));M.setAttribute("href",T.target.toString()),f.add(m.addDisposableListener(M,"click",R=>{this._openerService.open(T.target,{allowCommands:!0}),R.preventDefault(),R.stopPropagation()}));const P=m.append(M,d("span"));P.innerText=T.value;const x=m.append(S,O);x.style.opacity="0.6",x.style.paddingLeft="6px"}else{const O=m.append(S,d("span"));O.style.opacity="0.6",O.style.paddingLeft="6px",O.innerText=I&&T?`${I}(${T})`:I||`(${T})`}if((0,k.isNonEmptyArray)(N))for(const{message:O,resource:M,startLineNumber:P,startColumn:x}of N){const R=m.append(S,d("div"));R.style.marginTop="8px";const B=m.append(R,d("a"));B.innerText=`${(0,p.basename)(M)}(${P}, ${x}): `,B.style.cursor="pointer",f.add(m.addDisposableListener(B,"click",V=>{V.stopPropagation(),V.preventDefault(),this._openerService&&this._openerService.open(M,{fromUserGesture:!0,editorOptions:{selection:{startLineNumber:P,startColumn:x}}}).catch(L.onUnexpectedError)}));const H=m.append(R,d("span"));H.innerText=O,this._editor.applyFontInfo(H)}return _}renderMarkerStatusbar(c,f,_){if(f.marker.severity===h.MarkerSeverity.Error||f.marker.severity===h.MarkerSeverity.Warning||f.marker.severity===h.MarkerSeverity.Info){const S=t.MarkerController.get(this._editor);S&&c.statusBar.addAction({label:n.localize(0,null),commandId:t.NextMarkerAction.ID,run:()=>{c.hide(),S.showAtMarker(f.marker),this._editor.focus()}})}if(!this._editor.getOption(91)){const S=c.statusBar.append(d("div"));this.recentMarkerCodeActionsInfo&&(h.IMarkerData.makeKey(this.recentMarkerCodeActionsInfo.marker)===h.IMarkerData.makeKey(f.marker)?this.recentMarkerCodeActionsInfo.hasCodeActions||(S.textContent=n.localize(1,null)):this.recentMarkerCodeActionsInfo=void 0);const I=this.recentMarkerCodeActionsInfo&&!this.recentMarkerCodeActionsInfo.hasCodeActions?y.Disposable.None:(0,D.disposableTimeout)(()=>S.textContent=n.localize(2,null),200,_);S.textContent||(S.textContent="\xA0");const E=this.getCodeActions(f.marker);_.add((0,y.toDisposable)(()=>E.cancel())),E.then(T=>{if(I.dispose(),this.recentMarkerCodeActionsInfo={marker:f.marker,hasCodeActions:T.validActions.length>0},!this.recentMarkerCodeActionsInfo.hasCodeActions){T.dispose(),S.textContent=n.localize(3,null);return}S.style.display="none";let N=!1;_.add((0,y.toDisposable)(()=>{N||T.dispose()})),c.statusBar.addAction({label:n.localize(4,null),commandId:a.quickFixCommandId,run:A=>{N=!0;const O=s.CodeActionController.get(this._editor),M=m.getDomNodePagePosition(A);c.hide(),O?.showCodeActions(l,T,{x:M.left,y:M.top,width:M.width,height:M.height})}})},L.onUnexpectedError)}}getCodeActions(c){return(0,D.createCancelablePromise)(f=>(0,a.getCodeActions)(this._languageFeaturesService.codeActionProvider,this._editor.getModel(),new w.Range(c.startLineNumber,c.startColumn,c.endLineNumber,c.endColumn),l,u.Progress.None,f))}};e.MarkerHoverParticipant=o,e.MarkerHoverParticipant=o=Ie([he(1,b.IMarkerDecorationsService),he(2,v.IOpenerService),he(3,C.ILanguageFeaturesService)],o)}),define(te[405],ie([1,0,68,2,16,5,19,42,404,400,833,8,59,31,23,95,267,961,273,35,15,716,486]),function(J,e,m,k,D,L,y,p,w,C,b,a,s,i,t,n,h,v,u,d,r,l){"use strict";var o;Object.defineProperty(e,"__esModule",{value:!0}),e.HoverController=void 0;const g=!1;let c=o=class extends k.Disposable{constructor(R,B,H,V,q){super(),this._editor=R,this._instantiationService=B,this._openerService=H,this._languageService=V,this._keybindingService=q,this._listenersStore=new k.DisposableStore,this._hoverState={mouseDown:!1,contentHoverFocused:!1,activatedByDecoratorClick:!1},this._reactToEditorMouseMoveRunner=this._register(new r.RunOnceScheduler(()=>this._reactToEditorMouseMove(this._mouseMoveEvent),0)),this._hookListeners(),this._register(this._editor.onDidChangeConfiguration(K=>{K.hasChanged(60)&&(this._unhookListeners(),this._hookListeners())}))}static get(R){return R.getContribution(o.ID)}_hookListeners(){const R=this._editor.getOption(60);this._hoverSettings={enabled:R.enabled,sticky:R.sticky,hidingDelay:R.delay},R.enabled?(this._listenersStore.add(this._editor.onMouseDown(B=>this._onEditorMouseDown(B))),this._listenersStore.add(this._editor.onMouseUp(()=>this._onEditorMouseUp())),this._listenersStore.add(this._editor.onMouseMove(B=>this._onEditorMouseMove(B))),this._listenersStore.add(this._editor.onKeyDown(B=>this._onKeyDown(B)))):(this._listenersStore.add(this._editor.onMouseMove(B=>this._onEditorMouseMove(B))),this._listenersStore.add(this._editor.onKeyDown(B=>this._onKeyDown(B)))),this._listenersStore.add(this._editor.onMouseLeave(B=>this._onEditorMouseLeave(B))),this._listenersStore.add(this._editor.onDidChangeModel(()=>{this._cancelScheduler(),this._hideWidgets()})),this._listenersStore.add(this._editor.onDidChangeModelContent(()=>this._cancelScheduler())),this._listenersStore.add(this._editor.onDidScrollChange(B=>this._onEditorScrollChanged(B)))}_unhookListeners(){this._listenersStore.clear()}_cancelScheduler(){this._mouseMoveEvent=void 0,this._reactToEditorMouseMoveRunner.cancel()}_onEditorScrollChanged(R){(R.scrollTopChanged||R.scrollLeftChanged)&&this._hideWidgets()}_onEditorMouseDown(R){var B;this._hoverState.mouseDown=!0;const H=R.target;if(H.type===9&&H.detail===C.ContentHoverWidget.ID){this._hoverState.contentHoverFocused=!0;return}H.type===12&&H.detail===b.MarginHoverWidget.ID||(H.type!==12&&(this._hoverState.contentHoverFocused=!1),!(!((B=this._contentWidget)===null||B===void 0)&&B.widget.isResizing)&&this._hideWidgets())}_onEditorMouseUp(){this._hoverState.mouseDown=!1}_onEditorMouseLeave(R){var B,H;this._cancelScheduler();const V=R.event.browserEvent.relatedTarget;!((B=this._contentWidget)===null||B===void 0)&&B.widget.isResizing||!((H=this._contentWidget)===null||H===void 0)&&H.containsNode(V)||g||this._hideWidgets()}_isMouseOverWidget(R){var B,H,V,q,K;const U=R.target,$=this._hoverSettings.sticky;return!!($&&U.type===9&&U.detail===C.ContentHoverWidget.ID||$&&(!((B=this._contentWidget)===null||B===void 0)&&B.containsNode((H=R.event.browserEvent.view)===null||H===void 0?void 0:H.document.activeElement))&&!(!((q=(V=R.event.browserEvent.view)===null||V===void 0?void 0:V.getSelection())===null||q===void 0)&&q.isCollapsed)||!$&&U.type===9&&U.detail===C.ContentHoverWidget.ID&&(!((K=this._contentWidget)===null||K===void 0)&&K.isColorPickerVisible)||$&&U.type===12&&U.detail===b.MarginHoverWidget.ID)}_onEditorMouseMove(R){var B,H,V,q;if(this._mouseMoveEvent=R,!((B=this._contentWidget)===null||B===void 0)&&B.isFocused||!((H=this._contentWidget)===null||H===void 0)&&H.isResizing||this._hoverState.mouseDown&&this._hoverState.contentHoverFocused)return;const K=this._hoverSettings.sticky;if(K&&(!((V=this._contentWidget)===null||V===void 0)&&V.isVisibleFromKeyboard))return;if(this._isMouseOverWidget(R)){this._reactToEditorMouseMoveRunner.cancel();return}const $=this._hoverSettings.hidingDelay;if(!((q=this._contentWidget)===null||q===void 0)&&q.isVisible&&K&&$>0){this._reactToEditorMouseMoveRunner.isScheduled()||this._reactToEditorMouseMoveRunner.schedule($);return}this._reactToEditorMouseMove(R)}_reactToEditorMouseMove(R){var B,H,V,q;if(!R)return;const K=R.target,U=(B=K.element)===null||B===void 0?void 0:B.classList.contains("colorpicker-color-decoration"),$=this._editor.getOption(148),se=this._hoverSettings.enabled,F=this._hoverState.activatedByDecoratorClick;if(U&&($==="click"&&!F||$==="hover"&&!se&&!g||$==="clickAndHover"&&!se&&!F)||!U&&!se&&!F){this._hideWidgets();return}if(this._getOrCreateContentWidget().showsOrWillShow(R)){(H=this._glyphWidget)===null||H===void 0||H.hide();return}if(K.type===2&&K.position&&K.detail.glyphMarginLane){(V=this._contentWidget)===null||V===void 0||V.hide(),this._getOrCreateGlyphWidget().startShowingAt(K.position.lineNumber,K.detail.glyphMarginLane);return}if(K.type===3&&K.position){(q=this._contentWidget)===null||q===void 0||q.hide(),this._getOrCreateGlyphWidget().startShowingAt(K.position.lineNumber,"lineNo");return}g||this._hideWidgets()}_onKeyDown(R){var B;if(!this._editor.hasModel())return;const H=this._keybindingService.softDispatch(R,this._editor.getDomNode()),V=H.kind===1||H.kind===2&&H.commandId==="editor.action.showHover"&&((B=this._contentWidget)===null||B===void 0?void 0:B.isVisible);R.keyCode===5||R.keyCode===6||R.keyCode===57||R.keyCode===4||V||this._hideWidgets()}_hideWidgets(){var R,B,H;g||this._hoverState.mouseDown&&this._hoverState.contentHoverFocused&&(!((R=this._contentWidget)===null||R===void 0)&&R.isColorPickerVisible)||u.InlineSuggestionHintsContentWidget.dropDownVisible||(this._hoverState.activatedByDecoratorClick=!1,this._hoverState.contentHoverFocused=!1,(B=this._glyphWidget)===null||B===void 0||B.hide(),(H=this._contentWidget)===null||H===void 0||H.hide())}_getOrCreateContentWidget(){return this._contentWidget||(this._contentWidget=this._instantiationService.createInstance(C.ContentHoverController,this._editor)),this._contentWidget}_getOrCreateGlyphWidget(){return this._glyphWidget||(this._glyphWidget=new b.MarginHoverWidget(this._editor,this._languageService,this._openerService)),this._glyphWidget}showContentHover(R,B,H,V,q=!1){this._hoverState.activatedByDecoratorClick=q,this._getOrCreateContentWidget().startShowingAtRange(R,B,H,V)}focus(){var R;(R=this._contentWidget)===null||R===void 0||R.focus()}scrollUp(){var R;(R=this._contentWidget)===null||R===void 0||R.scrollUp()}scrollDown(){var R;(R=this._contentWidget)===null||R===void 0||R.scrollDown()}scrollLeft(){var R;(R=this._contentWidget)===null||R===void 0||R.scrollLeft()}scrollRight(){var R;(R=this._contentWidget)===null||R===void 0||R.scrollRight()}pageUp(){var R;(R=this._contentWidget)===null||R===void 0||R.pageUp()}pageDown(){var R;(R=this._contentWidget)===null||R===void 0||R.pageDown()}goToTop(){var R;(R=this._contentWidget)===null||R===void 0||R.goToTop()}goToBottom(){var R;(R=this._contentWidget)===null||R===void 0||R.goToBottom()}get isColorPickerVisible(){var R;return(R=this._contentWidget)===null||R===void 0?void 0:R.isColorPickerVisible}get isHoverVisible(){var R;return(R=this._contentWidget)===null||R===void 0?void 0:R.isVisible}dispose(){var R,B;super.dispose(),this._unhookListeners(),this._listenersStore.dispose(),(R=this._glyphWidget)===null||R===void 0||R.dispose(),(B=this._contentWidget)===null||B===void 0||B.dispose()}};e.HoverController=c,c.ID="editor.contrib.hover",e.HoverController=c=o=Ie([he(1,a.IInstantiationService),he(2,s.IOpenerService),he(3,p.ILanguageService),he(4,d.IKeybindingService)],c);var f;(function(x){x.NoAutoFocus="noAutoFocus",x.FocusIfVisible="focusIfVisible",x.AutoFocusImmediately="autoFocusImmediately"})(f||(f={}));class _ extends D.EditorAction{constructor(){super({id:"editor.action.showHover",label:l.localize(0,null),metadata:{description:"Show or Focus Hover",args:[{name:"args",schema:{type:"object",properties:{focus:{description:"Controls if and when the hover should take focus upon being triggered by this action.",enum:[f.NoAutoFocus,f.FocusIfVisible,f.AutoFocusImmediately],enumDescriptions:[l.localize(1,null),l.localize(2,null),l.localize(3,null)],default:f.FocusIfVisible}}}}]},alias:"Show or Focus Hover",precondition:void 0,kbOpts:{kbExpr:y.EditorContextKeys.editorTextFocus,primary:(0,m.KeyChord)(2089,2087),weight:100}})}run(R,B,H){if(!B.hasModel())return;const V=c.get(B);if(!V)return;const q=H?.focus;let K=f.FocusIfVisible;Object.values(f).includes(q)?K=q:typeof q=="boolean"&&q&&(K=f.AutoFocusImmediately);const U=se=>{const F=B.getPosition(),X=new L.Range(F.lineNumber,F.column,F.lineNumber,F.column);V.showContentHover(X,1,1,se)},$=B.getOption(2)===2;V.isHoverVisible?K!==f.NoAutoFocus?V.focus():U($):U($||K===f.AutoFocusImmediately)}}class S extends D.EditorAction{constructor(){super({id:"editor.action.showDefinitionPreviewHover",label:l.localize(4,null),alias:"Show Definition Preview Hover",precondition:void 0})}run(R,B){const H=c.get(B);if(!H)return;const V=B.getPosition();if(!V)return;const q=new L.Range(V.lineNumber,V.column,V.lineNumber,V.column),K=w.GotoDefinitionAtPositionEditorContribution.get(B);if(!K)return;K.startFindDefinitionFromCursor(V).then(()=>{H.showContentHover(q,1,1,!0)})}}class I extends D.EditorAction{constructor(){super({id:"editor.action.scrollUpHover",label:l.localize(5,null),alias:"Scroll Up Hover",precondition:y.EditorContextKeys.hoverFocused,kbOpts:{kbExpr:y.EditorContextKeys.hoverFocused,primary:16,weight:100}})}run(R,B){const H=c.get(B);H&&H.scrollUp()}}class E extends D.EditorAction{constructor(){super({id:"editor.action.scrollDownHover",label:l.localize(6,null),alias:"Scroll Down Hover",precondition:y.EditorContextKeys.hoverFocused,kbOpts:{kbExpr:y.EditorContextKeys.hoverFocused,primary:18,weight:100}})}run(R,B){const H=c.get(B);H&&H.scrollDown()}}class T extends D.EditorAction{constructor(){super({id:"editor.action.scrollLeftHover",label:l.localize(7,null),alias:"Scroll Left Hover",precondition:y.EditorContextKeys.hoverFocused,kbOpts:{kbExpr:y.EditorContextKeys.hoverFocused,primary:15,weight:100}})}run(R,B){const H=c.get(B);H&&H.scrollLeft()}}class N extends D.EditorAction{constructor(){super({id:"editor.action.scrollRightHover",label:l.localize(8,null),alias:"Scroll Right Hover",precondition:y.EditorContextKeys.hoverFocused,kbOpts:{kbExpr:y.EditorContextKeys.hoverFocused,primary:17,weight:100}})}run(R,B){const H=c.get(B);H&&H.scrollRight()}}class A extends D.EditorAction{constructor(){super({id:"editor.action.pageUpHover",label:l.localize(9,null),alias:"Page Up Hover",precondition:y.EditorContextKeys.hoverFocused,kbOpts:{kbExpr:y.EditorContextKeys.hoverFocused,primary:11,secondary:[528],weight:100}})}run(R,B){const H=c.get(B);H&&H.pageUp()}}class O extends D.EditorAction{constructor(){super({id:"editor.action.pageDownHover",label:l.localize(10,null),alias:"Page Down Hover",precondition:y.EditorContextKeys.hoverFocused,kbOpts:{kbExpr:y.EditorContextKeys.hoverFocused,primary:12,secondary:[530],weight:100}})}run(R,B){const H=c.get(B);H&&H.pageDown()}}class M extends D.EditorAction{constructor(){super({id:"editor.action.goToTopHover",label:l.localize(11,null),alias:"Go To Bottom Hover",precondition:y.EditorContextKeys.hoverFocused,kbOpts:{kbExpr:y.EditorContextKeys.hoverFocused,primary:14,secondary:[2064],weight:100}})}run(R,B){const H=c.get(B);H&&H.goToTop()}}class P extends D.EditorAction{constructor(){super({id:"editor.action.goToBottomHover",label:l.localize(12,null),alias:"Go To Bottom Hover",precondition:y.EditorContextKeys.hoverFocused,kbOpts:{kbExpr:y.EditorContextKeys.hoverFocused,primary:13,secondary:[2066],weight:100}})}run(R,B){const H=c.get(B);H&&H.goToBottom()}}(0,D.registerEditorContribution)(c.ID,c,2),(0,D.registerEditorAction)(_),(0,D.registerEditorAction)(S),(0,D.registerEditorAction)(I),(0,D.registerEditorAction)(E),(0,D.registerEditorAction)(T),(0,D.registerEditorAction)(N),(0,D.registerEditorAction)(A),(0,D.registerEditorAction)(O),(0,D.registerEditorAction)(M),(0,D.registerEditorAction)(P),n.HoverParticipantRegistry.register(h.MarkdownHoverParticipant),n.HoverParticipantRegistry.register(v.MarkerHoverParticipant),(0,t.registerThemingParticipant)((x,R)=>{const B=x.getColor(i.editorHoverBorder);B&&(R.addRule(`.monaco-editor .monaco-hover .hover-row:not(:first-child):not(:empty) { border-top: 1px solid ${B.transparent(.5)}; }`),R.addRule(`.monaco-editor .monaco-hover hr { border-top: 1px solid ${B.transparent(.5)}; }`),R.addRule(`.monaco-editor .monaco-hover hr { border-bottom: 0px solid ${B.transparent(.5)}; }`))})}),define(te[962],ie([1,0,2,16,5,396,397,405,95]),function(J,e,m,k,D,L,y,p,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorContribution=void 0;class C extends m.Disposable{constructor(a){super(),this._editor=a,this._register(a.onMouseDown(s=>this.onMouseDown(s)))}dispose(){super.dispose()}onMouseDown(a){const s=this._editor.getOption(148);if(s!=="click"&&s!=="clickAndHover")return;const i=a.target;if(i.type!==6||!i.detail.injectedText||i.detail.injectedText.options.attachedData!==L.ColorDecorationInjectedTextMarker||!i.range)return;const t=this._editor.getContribution(p.HoverController.ID);if(t&&!t.isColorPickerVisible){const n=new D.Range(i.range.startLineNumber,i.range.startColumn+1,i.range.endLineNumber,i.range.endColumn+1);t.showContentHover(n,1,0,!1,!0)}}}e.ColorContribution=C,C.ID="editor.contrib.colorContribution",(0,k.registerEditorContribution)(C.ID,C,2),w.HoverParticipantRegistry.register(y.ColorHoverParticipant)}),define(te[406],ie([1,0,6,41,20,185,5,73,279,152,28,27,14,58,8,51]),function(J,e,m,k,D,L,y,p,w,C,b,a,s,i,t,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.showGoToContextMenu=h,e.goToDefinitionWithLocation=v;async function h(u,d,r,l){var o;const g=u.get(p.ITextModelService),c=u.get(i.IContextMenuService),f=u.get(a.ICommandService),_=u.get(t.IInstantiationService),S=u.get(n.INotificationService);if(await l.item.resolve(D.CancellationToken.None),!l.part.location)return;const I=l.part.location,E=[],T=new Set(b.MenuRegistry.getMenuItems(b.MenuId.EditorContext).map(A=>(0,b.isIMenuItem)(A)?A.command.id:(0,L.generateUuid)()));for(const A of w.SymbolNavigationAction.all())T.has(A.desc.id)&&E.push(new k.Action(A.desc.id,b.MenuItemAction.label(A.desc,{renderShortTitle:!0}),void 0,!0,async()=>{const O=await g.createModelReference(I.uri);try{const M=new w.SymbolNavigationAnchor(O.object.textEditorModel,y.Range.getStartPosition(I.range)),P=l.item.anchor.range;await _.invokeFunction(A.runEditorCommand.bind(A),d,M,P)}finally{O.dispose()}}));if(l.part.command){const{command:A}=l.part;E.push(new k.Separator),E.push(new k.Action(A.id,A.title,void 0,!0,async()=>{var O;try{await f.executeCommand(A.id,...(O=A.arguments)!==null&&O!==void 0?O:[])}catch(M){S.notify({severity:n.Severity.Error,source:l.item.provider.displayName,message:M})}}))}const N=d.getOption(127);c.showContextMenu({domForShadowRoot:N&&(o=d.getDomNode())!==null&&o!==void 0?o:void 0,getAnchor:()=>{const A=m.getDomNodePagePosition(r);return{x:A.left,y:A.top+A.height+8}},getActions:()=>E,onHide:()=>{d.focus()},autoSelectFirstItem:!0})}async function v(u,d,r,l){const g=await u.get(p.ITextModelService).createModelReference(l.uri);await r.invokeWithinContext(async c=>{const f=d.hasSideBySideModifier,_=c.get(s.IContextKeyService),S=C.PeekContext.inPeekEditor.getValue(_),I=!f&&r.getOption(88)&&!S;return new w.DefinitionAction({openToSide:f,openInPeek:I,muteMessage:!0},{title:{value:"",original:""},id:"",precondition:void 0}).run(c,new w.SymbolNavigationAnchor(g.object.textEditorModel,y.Range.getStartPosition(l.range)),y.Range.lift(l.range))}),g.dispose()}}),define(te[407],ie([1,0,6,13,15,20,12,2,47,21,22,175,137,38,71,5,29,43,37,83,18,73,199,350,406,27,46,8,51,31,23]),function(J,e,m,k,D,L,y,p,w,C,b,a,s,i,t,n,h,v,u,d,r,l,o,g,c,f,_,S,I,E,T){"use strict";var N;Object.defineProperty(e,"__esModule",{value:!0}),e.InlayHintsController=e.RenderedInlayHintLabelPart=void 0;class A{constructor(){this._entries=new w.LRUCache(50)}get(H){const V=A._key(H);return this._entries.get(V)}set(H,V){const q=A._key(H);this._entries.set(q,V)}static _key(H){return`${H.uri.toString()}/${H.getVersionId()}`}}const O=(0,S.createDecorator)("IInlayHintsCache");(0,_.registerSingleton)(O,A,1);class M{constructor(H,V){this.item=H,this.index=V}get part(){const H=this.item.hint.label;return typeof H=="string"?{label:H}:H[this.index]}}e.RenderedInlayHintLabelPart=M;class P{constructor(H,V){this.part=H,this.hasTriggerModifier=V}}let x=N=class{static get(H){var V;return(V=H.getContribution(N.ID))!==null&&V!==void 0?V:void 0}constructor(H,V,q,K,U,$,se){this._editor=H,this._languageFeaturesService=V,this._inlayHintsCache=K,this._commandService=U,this._notificationService=$,this._instaService=se,this._disposables=new p.DisposableStore,this._sessionDisposables=new p.DisposableStore,this._decorationsMetadata=new Map,this._ruleFactory=new a.DynamicCssRules(this._editor),this._activeRenderMode=0,this._debounceInfo=q.for(V.inlayHintsProvider,"InlayHint",{min:25}),this._disposables.add(V.inlayHintsProvider.onDidChange(()=>this._update())),this._disposables.add(H.onDidChangeModel(()=>this._update())),this._disposables.add(H.onDidChangeModelLanguage(()=>this._update())),this._disposables.add(H.onDidChangeConfiguration(F=>{F.hasChanged(141)&&this._update()})),this._update()}dispose(){this._sessionDisposables.dispose(),this._removeAllDecorations(),this._disposables.dispose()}_update(){this._sessionDisposables.clear(),this._removeAllDecorations();const H=this._editor.getOption(141);if(H.enabled==="off")return;const V=this._editor.getModel();if(!V||!this._languageFeaturesService.inlayHintsProvider.has(V))return;if(H.enabled==="on")this._activeRenderMode=0;else{let se,F;H.enabled==="onUnlessPressed"?(se=0,F=1):(se=1,F=0),this._activeRenderMode=se,this._sessionDisposables.add(m.ModifierKeyEmitter.getInstance().event(X=>{if(!this._editor.hasModel())return;const Q=X.altKey&&X.ctrlKey&&!(X.shiftKey||X.metaKey)?F:se;if(Q!==this._activeRenderMode){this._activeRenderMode=Q;const Z=this._editor.getModel(),ae=this._copyInlayHintsWithCurrentAnchor(Z);this._updateHintsDecorators([Z.getFullModelRange()],ae),$.schedule(0)}}))}const q=this._inlayHintsCache.get(V);q&&this._updateHintsDecorators([V.getFullModelRange()],q),this._sessionDisposables.add((0,p.toDisposable)(()=>{V.isDisposed()||this._cacheHintsForFastRestore(V)}));let K;const U=new Set,$=new D.RunOnceScheduler(async()=>{const se=Date.now();K?.dispose(!0),K=new L.CancellationTokenSource;const F=V.onWillDispose(()=>K?.cancel());try{const X=K.token,Q=await g.InlayHintsFragments.create(this._languageFeaturesService.inlayHintsProvider,V,this._getHintsRanges(),X);if($.delay=this._debounceInfo.update(V,Date.now()-se),X.isCancellationRequested){Q.dispose();return}for(const Z of Q.provider)typeof Z.onDidChangeInlayHints=="function"&&!U.has(Z)&&(U.add(Z),this._sessionDisposables.add(Z.onDidChangeInlayHints(()=>{$.isScheduled()||$.schedule()})));this._sessionDisposables.add(Q),this._updateHintsDecorators(Q.ranges,Q.items),this._cacheHintsForFastRestore(V)}catch(X){(0,y.onUnexpectedError)(X)}finally{K.dispose(),F.dispose()}},this._debounceInfo.get(V));this._sessionDisposables.add($),this._sessionDisposables.add((0,p.toDisposable)(()=>K?.dispose(!0))),$.schedule(0),this._sessionDisposables.add(this._editor.onDidScrollChange(se=>{(se.scrollTopChanged||!$.isScheduled())&&$.schedule()})),this._sessionDisposables.add(this._editor.onDidChangeModelContent(se=>{K?.cancel();const F=Math.max($.delay,1250);$.schedule(F)})),this._sessionDisposables.add(this._installDblClickGesture(()=>$.schedule(0))),this._sessionDisposables.add(this._installLinkGesture()),this._sessionDisposables.add(this._installContextMenu())}_installLinkGesture(){const H=new p.DisposableStore,V=H.add(new o.ClickLinkGesture(this._editor)),q=new p.DisposableStore;return H.add(q),H.add(V.onMouseMoveOrRelevantKeyDown(K=>{const[U]=K,$=this._getInlayHintLabelPart(U),se=this._editor.getModel();if(!$||!se){q.clear();return}const F=new L.CancellationTokenSource;q.add((0,p.toDisposable)(()=>F.dispose(!0))),$.item.resolve(F.token),this._activeInlayHintPart=$.part.command||$.part.location?new P($,U.hasTriggerModifier):void 0;const X=se.validatePosition($.item.hint.position).lineNumber,Q=new n.Range(X,1,X,se.getLineMaxColumn(X)),Z=this._getInlineHintsForRange(Q);this._updateHintsDecorators([Q],Z),q.add((0,p.toDisposable)(()=>{this._activeInlayHintPart=void 0,this._updateHintsDecorators([Q],Z)}))})),H.add(V.onCancel(()=>q.clear())),H.add(V.onExecute(async K=>{const U=this._getInlayHintLabelPart(K);if(U){const $=U.part;$.location?this._instaService.invokeFunction(c.goToDefinitionWithLocation,K,this._editor,$.location):h.Command.is($.command)&&await this._invokeCommand($.command,U.item)}})),H}_getInlineHintsForRange(H){const V=new Set;for(const q of this._decorationsMetadata.values())H.containsRange(q.item.anchor.range)&&V.add(q.item);return Array.from(V)}_installDblClickGesture(H){return this._editor.onMouseUp(async V=>{if(V.event.detail!==2)return;const q=this._getInlayHintLabelPart(V);if(q&&(V.event.preventDefault(),await q.item.resolve(L.CancellationToken.None),(0,k.isNonEmptyArray)(q.item.hint.textEdits))){const K=q.item.hint.textEdits.map(U=>t.EditOperation.replace(n.Range.lift(U.range),U.text));this._editor.executeEdits("inlayHint.default",K),H()}})}_installContextMenu(){return this._editor.onContextMenu(async H=>{if(!(H.event.target instanceof HTMLElement))return;const V=this._getInlayHintLabelPart(H);V&&await this._instaService.invokeFunction(c.showGoToContextMenu,this._editor,H.event.target,V)})}_getInlayHintLabelPart(H){var V;if(H.target.type!==6)return;const q=(V=H.target.detail.injectedText)===null||V===void 0?void 0:V.options;if(q instanceof u.ModelDecorationInjectedTextOptions&&q?.attachedData instanceof M)return q.attachedData}async _invokeCommand(H,V){var q;try{await this._commandService.executeCommand(H.id,...(q=H.arguments)!==null&&q!==void 0?q:[])}catch(K){this._notificationService.notify({severity:I.Severity.Error,source:V.provider.displayName,message:K})}}_cacheHintsForFastRestore(H){const V=this._copyInlayHintsWithCurrentAnchor(H);this._inlayHintsCache.set(H,V)}_copyInlayHintsWithCurrentAnchor(H){const V=new Map;for(const[q,K]of this._decorationsMetadata){if(V.has(K.item))continue;const U=H.getDecorationRange(q);if(U){const $=new g.InlayHintAnchor(U,K.item.anchor.direction),se=K.item.with({anchor:$});V.set(K.item,se)}}return Array.from(V.values())}_getHintsRanges(){const V=this._editor.getModel(),q=this._editor.getVisibleRangesPlusViewportAboveBelow(),K=[];for(const U of q.sort(n.Range.compareRangesUsingStarts)){const $=V.validateRange(new n.Range(U.startLineNumber-30,U.startColumn,U.endLineNumber+30,U.endColumn));K.length===0||!n.Range.areIntersectingOrTouching(K[K.length-1],$)?K.push($):K[K.length-1]=n.Range.plusRange(K[K.length-1],$)}return K}_updateHintsDecorators(H,V){var q,K;const U=[],$=(re,de,ee,W,z)=>{const Y={content:ee,inlineClassNameAffectsLetterSpacing:!0,inlineClassName:de.className,cursorStops:W,attachedData:z};U.push({item:re,classNameRef:de,decoration:{range:re.anchor.range,options:{description:"InlayHint",showIfCollapsed:re.anchor.range.isEmpty(),collapseOnReplaceEdit:!re.anchor.range.isEmpty(),stickiness:0,[re.anchor.direction]:this._activeRenderMode===0?Y:void 0}}})},se=(re,de)=>{const ee=this._ruleFactory.createClassNameRef({width:`${F/3|0}px`,display:"inline-block"});$(re,ee,"\u200A",de?v.InjectedTextCursorStops.Right:v.InjectedTextCursorStops.None)},{fontSize:F,fontFamily:X,padding:Q,isUniform:Z}=this._getLayoutInfo(),ae="--code-editorInlayHintsFontFamily";this._editor.getContainerDomNode().style.setProperty(ae,X);let ue={line:0,totalLen:0};for(const re of V){if(ue.line!==re.anchor.range.startLineNumber&&(ue={line:re.anchor.range.startLineNumber,totalLen:0}),ue.totalLen>N._MAX_LABEL_LEN)continue;re.hint.paddingLeft&&se(re,!1);const de=typeof re.hint.label=="string"?[{label:re.hint.label}]:re.hint.label;for(let ee=0;ee<de.length;ee++){const W=de[ee],z=ee===0,Y=ee===de.length-1,j={fontSize:`${F}px`,fontFamily:`var(${ae}), ${i.EDITOR_FONT_DEFAULTS.fontFamily}`,verticalAlign:Z?"baseline":"middle",unicodeBidi:"isolate"};(0,k.isNonEmptyArray)(re.hint.textEdits)&&(j.cursor="default"),this._fillInColors(j,re.hint),(W.command||W.location)&&((q=this._activeInlayHintPart)===null||q===void 0?void 0:q.part.item)===re&&this._activeInlayHintPart.part.index===ee&&(j.textDecoration="underline",this._activeInlayHintPart.hasTriggerModifier&&(j.color=(0,T.themeColorFromId)(E.editorActiveLinkForeground),j.cursor="pointer")),Q&&(z&&Y?(j.padding=`1px ${Math.max(1,F/4)|0}px`,j.borderRadius=`${F/4|0}px`):z?(j.padding=`1px 0 1px ${Math.max(1,F/4)|0}px`,j.borderRadius=`${F/4|0}px 0 0 ${F/4|0}px`):Y?(j.padding=`1px ${Math.max(1,F/4)|0}px 1px 0`,j.borderRadius=`0 ${F/4|0}px ${F/4|0}px 0`):j.padding="1px 0 1px 0");let G=W.label;ue.totalLen+=G.length;let oe=!1;const ne=ue.totalLen-N._MAX_LABEL_LEN;if(ne>0&&(G=G.slice(0,-ne)+"\u2026",oe=!0),$(re,this._ruleFactory.createClassNameRef(j),R(G),Y&&!re.hint.paddingRight?v.InjectedTextCursorStops.Right:v.InjectedTextCursorStops.None,new M(re,ee)),oe)break}if(re.hint.paddingRight&&se(re,!0),U.length>N._MAX_DECORATORS)break}const ge=[];for(const[re,de]of this._decorationsMetadata){const ee=(K=this._editor.getModel())===null||K===void 0?void 0:K.getDecorationRange(re);ee&&H.some(W=>W.containsRange(ee))&&(ge.push(re),de.classNameRef.dispose(),this._decorationsMetadata.delete(re))}const fe=s.StableEditorScrollState.capture(this._editor);this._editor.changeDecorations(re=>{const de=re.deltaDecorations(ge,U.map(ee=>ee.decoration));for(let ee=0;ee<de.length;ee++){const W=U[ee];this._decorationsMetadata.set(de[ee],W)}}),fe.restore(this._editor)}_fillInColors(H,V){V.kind===h.InlayHintKind.Parameter?(H.backgroundColor=(0,T.themeColorFromId)(E.editorInlayHintParameterBackground),H.color=(0,T.themeColorFromId)(E.editorInlayHintParameterForeground)):V.kind===h.InlayHintKind.Type?(H.backgroundColor=(0,T.themeColorFromId)(E.editorInlayHintTypeBackground),H.color=(0,T.themeColorFromId)(E.editorInlayHintTypeForeground)):(H.backgroundColor=(0,T.themeColorFromId)(E.editorInlayHintBackground),H.color=(0,T.themeColorFromId)(E.editorInlayHintForeground))}_getLayoutInfo(){const H=this._editor.getOption(141),V=H.padding,q=this._editor.getOption(52),K=this._editor.getOption(49);let U=H.fontSize;(!U||U<5||U>q)&&(U=q);const $=H.fontFamily||K;return{fontSize:U,fontFamily:$,padding:V,isUniform:!V&&$===K&&U===q}}_removeAllDecorations(){this._editor.removeDecorations(Array.from(this._decorationsMetadata.keys()));for(const H of this._decorationsMetadata.values())H.classNameRef.dispose();this._decorationsMetadata.clear()}};e.InlayHintsController=x,x.ID="editor.contrib.InlayHints",x._MAX_DECORATORS=1500,x._MAX_LABEL_LEN=43,e.InlayHintsController=x=N=Ie([he(1,r.ILanguageFeaturesService),he(2,d.ILanguageFeatureDebounceService),he(3,O),he(4,f.ICommandService),he(5,I.INotificationService),he(6,S.IInstantiationService)],x);function R(B){return B.replace(/[ \t]/g,"\xA0")}f.CommandsRegistry.registerCommand("_executeInlayHintProvider",async(B,...H)=>{const[V,q]=H;(0,C.assertType)(b.URI.isUri(V)),(0,C.assertType)(n.Range.isIRange(q));const{inlayHintsProvider:K}=B.get(r.ILanguageFeaturesService),U=await B.get(l.ITextModelService).createModelReference(V);try{const $=await g.InlayHintsFragments.create(K,U.object.textEditorModel,[n.Range.lift(q)],L.CancellationToken.None),se=$.items.map(F=>F.hint);return setTimeout(()=>$.dispose(),0),se}finally{U.dispose()}})}),define(te[963],ie([1,0,15,57,9,37,95,42,73,382,267,407,25,59,18,721,17,350,13]),function(J,e,m,k,D,L,y,p,w,C,b,a,s,i,t,n,h,v,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlayHintsHover=void 0;class d extends y.HoverForeignElementAnchor{constructor(o,g,c,f){super(10,g,o.item.anchor.range,c,f,!0),this.part=o}}let r=class extends b.MarkdownHoverParticipant{constructor(o,g,c,f,_,S){super(o,g,c,f,S),this._resolverService=_,this.hoverOrdinal=6}suggestHoverAnchor(o){var g;if(!a.InlayHintsController.get(this._editor)||o.target.type!==6)return null;const f=(g=o.target.detail.injectedText)===null||g===void 0?void 0:g.options;return f instanceof L.ModelDecorationInjectedTextOptions&&f.attachedData instanceof a.RenderedInlayHintLabelPart?new d(f.attachedData,this,o.event.posx,o.event.posy):null}computeSync(){return[]}computeAsync(o,g,c){return o instanceof d?new m.AsyncIterableObject(async f=>{const{part:_}=o;if(await _.item.resolve(c),c.isCancellationRequested)return;let S;typeof _.item.hint.tooltip=="string"?S=new k.MarkdownString().appendText(_.item.hint.tooltip):_.item.hint.tooltip&&(S=_.item.hint.tooltip),S&&f.emitOne(new b.MarkdownHover(this,o.range,[S],!1,0)),(0,u.isNonEmptyArray)(_.item.hint.textEdits)&&f.emitOne(new b.MarkdownHover(this,o.range,[new k.MarkdownString().appendText((0,n.localize)(0,null))],!1,10001));let I;if(typeof _.part.tooltip=="string"?I=new k.MarkdownString().appendText(_.part.tooltip):_.part.tooltip&&(I=_.part.tooltip),I&&f.emitOne(new b.MarkdownHover(this,o.range,[I],!1,1)),_.part.location||_.part.command){let T;const A=this._editor.getOption(78)==="altKey"?h.isMacintosh?(0,n.localize)(1,null):(0,n.localize)(2,null):h.isMacintosh?(0,n.localize)(3,null):(0,n.localize)(4,null);_.part.location&&_.part.command?T=new k.MarkdownString().appendText((0,n.localize)(5,null,A)):_.part.location?T=new k.MarkdownString().appendText((0,n.localize)(6,null,A)):_.part.command&&(T=new k.MarkdownString(`[${(0,n.localize)(7,null)}](${(0,v.asCommandLink)(_.part.command)} "${_.part.command.title}") (${A})`,{isTrusted:!0})),T&&f.emitOne(new b.MarkdownHover(this,o.range,[T],!1,1e4))}const E=await this._resolveInlayHintLabelPartHover(_,c);for await(const T of E)f.emitOne(T)}):m.AsyncIterableObject.EMPTY}async _resolveInlayHintLabelPartHover(o,g){if(!o.part.location)return m.AsyncIterableObject.EMPTY;const{uri:c,range:f}=o.part.location,_=await this._resolverService.createModelReference(c);try{const S=_.object.textEditorModel;return this._languageFeaturesService.hoverProvider.has(S)?(0,C.getHover)(this._languageFeaturesService.hoverProvider,S,new D.Position(f.startLineNumber,f.startColumn),g).filter(I=>!(0,k.isEmptyMarkdownString)(I.hover.contents)).map(I=>new b.MarkdownHover(this,o.item.anchor.range,I.hover.contents,!1,2+I.ordinal)):m.AsyncIterableObject.EMPTY}finally{_.dispose()}}};e.InlayHintsHover=r,e.InlayHintsHover=r=Ie([he(1,p.ILanguageService),he(2,i.IOpenerService),he(3,s.IConfigurationService),he(4,w.ITextModelService),he(5,t.ILanguageFeaturesService)],r)}),define(te[964],ie([1,0,16,95,407,963]),function(J,e,m,k,D,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),(0,m.registerEditorContribution)(D.InlayHintsController.ID,D.InlayHintsController,1),k.HoverParticipantRegistry.register(L.InlayHintsHover)}),define(te[408],ie([1,0,2,18,954,953,8,58,28,14,19,199,5,266,406,9,20,33,83,6,327,72,277,320]),function(J,e,m,k,D,L,y,p,w,C,b,a,s,i,t,n,h,v,u,d,r,l,o,g){"use strict";var c;Object.defineProperty(e,"__esModule",{value:!0}),e.StickyScrollController=void 0;let f=c=class extends m.Disposable{constructor(S,I,E,T,N,A,O){super(),this._editor=S,this._contextMenuService=I,this._languageFeaturesService=E,this._instaService=T,this._contextKeyService=O,this._sessionStore=new m.DisposableStore,this._foldingModel=null,this._maxStickyLines=Number.MAX_SAFE_INTEGER,this._candidateDefinitionsLength=-1,this._focusedStickyElementIndex=-1,this._enabled=!1,this._focused=!1,this._positionRevealed=!1,this._onMouseDown=!1,this._endLineNumbers=[],this._showEndForLine=null,this._stickyScrollWidget=new D.StickyScrollWidget(this._editor),this._stickyLineCandidateProvider=new L.StickyLineCandidateProvider(this._editor,E,N),this._register(this._stickyScrollWidget),this._register(this._stickyLineCandidateProvider),this._widgetState=new D.StickyScrollWidgetState([],[],0),this._onDidResize(),this._readConfiguration();const M=this._stickyScrollWidget.getDomNode();this._register(this._editor.onDidChangeConfiguration(x=>{(x.hasChanged(115)||x.hasChanged(73)||x.hasChanged(67)||x.hasChanged(110))&&this._readConfiguration()})),this._register(d.addDisposableListener(M,d.EventType.CONTEXT_MENU,async x=>{this._onContextMenu(d.getWindow(M),x)})),this._stickyScrollFocusedContextKey=b.EditorContextKeys.stickyScrollFocused.bindTo(this._contextKeyService),this._stickyScrollVisibleContextKey=b.EditorContextKeys.stickyScrollVisible.bindTo(this._contextKeyService);const P=this._register(d.trackFocus(M));this._register(P.onDidBlur(x=>{this._positionRevealed===!1&&M.clientHeight===0?(this._focusedStickyElementIndex=-1,this.focus()):this._disposeFocusStickyScrollStore()})),this._register(P.onDidFocus(x=>{this.focus()})),this._registerMouseListeners(),this._register(d.addDisposableListener(M,d.EventType.MOUSE_DOWN,x=>{this._onMouseDown=!0}))}static get(S){return S.getContribution(c.ID)}_disposeFocusStickyScrollStore(){var S;this._stickyScrollFocusedContextKey.set(!1),(S=this._focusDisposableStore)===null||S===void 0||S.dispose(),this._focused=!1,this._positionRevealed=!1,this._onMouseDown=!1}focus(){if(this._onMouseDown){this._onMouseDown=!1,this._editor.focus();return}this._stickyScrollFocusedContextKey.get()!==!0&&(this._focused=!0,this._focusDisposableStore=new m.DisposableStore,this._stickyScrollFocusedContextKey.set(!0),this._focusedStickyElementIndex=this._stickyScrollWidget.lineNumbers.length-1,this._stickyScrollWidget.focusLineWithIndex(this._focusedStickyElementIndex))}focusNext(){this._focusedStickyElementIndex<this._stickyScrollWidget.lineNumberCount-1&&this._focusNav(!0)}focusPrevious(){this._focusedStickyElementIndex>0&&this._focusNav(!1)}selectEditor(){this._editor.focus()}_focusNav(S){this._focusedStickyElementIndex=S?this._focusedStickyElementIndex+1:this._focusedStickyElementIndex-1,this._stickyScrollWidget.focusLineWithIndex(this._focusedStickyElementIndex)}goToFocused(){const S=this._stickyScrollWidget.lineNumbers;this._disposeFocusStickyScrollStore(),this._revealPosition({lineNumber:S[this._focusedStickyElementIndex],column:1})}_revealPosition(S){this._reveaInEditor(S,()=>this._editor.revealPosition(S))}_revealLineInCenterIfOutsideViewport(S){this._reveaInEditor(S,()=>this._editor.revealLineInCenterIfOutsideViewport(S.lineNumber,0))}_reveaInEditor(S,I){this._focused&&this._disposeFocusStickyScrollStore(),this._positionRevealed=!0,I(),this._editor.setSelection(s.Range.fromPositions(S)),this._editor.focus()}_registerMouseListeners(){const S=this._register(new m.DisposableStore),I=this._register(new a.ClickLinkGesture(this._editor,{extractLineNumberFromMouseEvent:N=>{const A=this._stickyScrollWidget.getEditorPositionFromNode(N.target.element);return A?A.lineNumber:0}})),E=N=>{if(!this._editor.hasModel()||N.target.type!==12||N.target.detail!==this._stickyScrollWidget.getId())return null;const A=N.target.element;if(!A||A.innerText!==A.innerHTML)return null;const O=this._stickyScrollWidget.getEditorPositionFromNode(A);return O?{range:new s.Range(O.lineNumber,O.column,O.lineNumber,O.column+A.innerText.length),textElement:A}:null},T=this._stickyScrollWidget.getDomNode();this._register(d.addStandardDisposableListener(T,d.EventType.CLICK,N=>{if(N.ctrlKey||N.altKey||N.metaKey||!N.leftButton)return;if(N.shiftKey){const P=this._stickyScrollWidget.getLineIndexFromChildDomNode(N.target);if(P===null)return;const x=new n.Position(this._endLineNumbers[P],1);this._revealLineInCenterIfOutsideViewport(x);return}if(this._stickyScrollWidget.isInFoldingIconDomNode(N.target)){const P=this._stickyScrollWidget.getLineNumberFromChildDomNode(N.target);this._toggleFoldingRegionForLine(P);return}if(!this._stickyScrollWidget.isInStickyLine(N.target))return;let M=this._stickyScrollWidget.getEditorPositionFromNode(N.target);if(!M){const P=this._stickyScrollWidget.getLineNumberFromChildDomNode(N.target);if(P===null)return;M=new n.Position(P,1)}this._revealPosition(M)})),this._register(d.addStandardDisposableListener(T,d.EventType.MOUSE_MOVE,N=>{if(N.shiftKey){const A=this._stickyScrollWidget.getLineIndexFromChildDomNode(N.target);if(A===null||this._showEndForLine!==null&&this._showEndForLine===A)return;this._showEndForLine=A,this._renderStickyScroll();return}this._showEndForLine!==null&&(this._showEndForLine=null,this._renderStickyScroll())})),this._register(d.addDisposableListener(T,d.EventType.MOUSE_LEAVE,N=>{this._showEndForLine!==null&&(this._showEndForLine=null,this._renderStickyScroll())})),this._register(I.onMouseMoveOrRelevantKeyDown(([N,A])=>{const O=E(N);if(!O||!N.hasTriggerModifier||!this._editor.hasModel()){S.clear();return}const{range:M,textElement:P}=O;if(!M.equalsRange(this._stickyRangeProjectedOnEditor))this._stickyRangeProjectedOnEditor=M,S.clear();else if(P.style.textDecoration==="underline")return;const x=new h.CancellationTokenSource;S.add((0,m.toDisposable)(()=>x.dispose(!0)));let R;(0,i.getDefinitionsAtPosition)(this._languageFeaturesService.definitionProvider,this._editor.getModel(),new n.Position(M.startLineNumber,M.startColumn+1),x.token).then(B=>{if(!x.token.isCancellationRequested)if(B.length!==0){this._candidateDefinitionsLength=B.length;const H=P;R!==H?(S.clear(),R=H,R.style.textDecoration="underline",S.add((0,m.toDisposable)(()=>{R.style.textDecoration="none"}))):R||(R=H,R.style.textDecoration="underline",S.add((0,m.toDisposable)(()=>{R.style.textDecoration="none"})))}else S.clear()})})),this._register(I.onCancel(()=>{S.clear()})),this._register(I.onExecute(async N=>{if(N.target.type!==12||N.target.detail!==this._stickyScrollWidget.getId())return;const A=this._stickyScrollWidget.getEditorPositionFromNode(N.target.element);A&&(!this._editor.hasModel()||!this._stickyRangeProjectedOnEditor||(this._candidateDefinitionsLength>1&&(this._focused&&this._disposeFocusStickyScrollStore(),this._revealPosition({lineNumber:A.lineNumber,column:1})),this._instaService.invokeFunction(t.goToDefinitionWithLocation,N,this._editor,{uri:this._editor.getModel().uri,range:this._stickyRangeProjectedOnEditor})))}))}_onContextMenu(S,I){const E=new l.StandardMouseEvent(S,I);this._contextMenuService.showContextMenu({menuId:w.MenuId.StickyScrollContext,getAnchor:()=>E})}_toggleFoldingRegionForLine(S){if(!this._foldingModel||S===null)return;const I=this._stickyScrollWidget.getRenderedStickyLine(S),E=I?.foldingIcon;if(!E)return;(0,g.toggleCollapseState)(this._foldingModel,Number.MAX_VALUE,[S]),E.isCollapsed=!E.isCollapsed;const T=(E.isCollapsed?this._editor.getTopForLineNumber(E.foldingEndLine):this._editor.getTopForLineNumber(E.foldingStartLine))-this._editor.getOption(67)*I.index+1;this._editor.setScrollTop(T),this._renderStickyScroll(S)}_readConfiguration(){const S=this._editor.getOption(115);if(S.enabled===!1){this._editor.removeOverlayWidget(this._stickyScrollWidget),this._sessionStore.clear(),this._enabled=!1;return}else S.enabled&&!this._enabled&&(this._editor.addOverlayWidget(this._stickyScrollWidget),this._sessionStore.add(this._editor.onDidScrollChange(E=>{E.scrollTopChanged&&(this._showEndForLine=null,this._renderStickyScroll())})),this._sessionStore.add(this._editor.onDidLayoutChange(()=>this._onDidResize())),this._sessionStore.add(this._editor.onDidChangeModelTokens(E=>this._onTokensChange(E))),this._sessionStore.add(this._stickyLineCandidateProvider.onDidChangeStickyScroll(()=>{this._showEndForLine=null,this._renderStickyScroll()})),this._enabled=!0);this._editor.getOption(68).renderType===2&&this._sessionStore.add(this._editor.onDidChangeCursorPosition(()=>{this._showEndForLine=null,this._renderStickyScroll(0)}))}_needsUpdate(S){const I=this._stickyScrollWidget.getCurrentLines();for(const E of I)for(const T of S.ranges)if(E>=T.fromLineNumber&&E<=T.toLineNumber)return!0;return!1}_onTokensChange(S){this._needsUpdate(S)&&this._renderStickyScroll(0)}_onDidResize(){const I=this._editor.getLayoutInfo().height/this._editor.getOption(67);this._maxStickyLines=Math.round(I*.25)}async _renderStickyScroll(S){var I,E;const T=this._editor.getModel();if(!T||T.isTooLargeForTokenization()){this._foldingModel=null,this._stickyScrollWidget.setState(void 0,null);return}const N=this._stickyLineCandidateProvider.getVersionId();if(N===void 0||N===T.getVersionId())if(this._foldingModel=(E=await((I=o.FoldingController.get(this._editor))===null||I===void 0?void 0:I.getFoldingModel()))!==null&&E!==void 0?E:null,this._widgetState=this.findScrollWidgetState(),this._stickyScrollVisibleContextKey.set(this._widgetState.startLineNumbers.length!==0),!this._focused)this._stickyScrollWidget.setState(this._widgetState,this._foldingModel,S);else if(this._focusedStickyElementIndex===-1)this._stickyScrollWidget.setState(this._widgetState,this._foldingModel,S),this._focusedStickyElementIndex=this._stickyScrollWidget.lineNumberCount-1,this._focusedStickyElementIndex!==-1&&this._stickyScrollWidget.focusLineWithIndex(this._focusedStickyElementIndex);else{const A=this._stickyScrollWidget.lineNumbers[this._focusedStickyElementIndex];this._stickyScrollWidget.setState(this._widgetState,this._foldingModel,S),this._stickyScrollWidget.lineNumberCount===0?this._focusedStickyElementIndex=-1:(this._stickyScrollWidget.lineNumbers.includes(A)||(this._focusedStickyElementIndex=this._stickyScrollWidget.lineNumberCount-1),this._stickyScrollWidget.focusLineWithIndex(this._focusedStickyElementIndex))}}findScrollWidgetState(){const S=this._editor.getOption(67),I=Math.min(this._maxStickyLines,this._editor.getOption(115).maxLineCount),E=this._editor.getScrollTop();let T=0;const N=[],A=[],O=this._editor.getVisibleRanges();if(O.length!==0){const M=new r.StickyRange(O[0].startLineNumber,O[O.length-1].endLineNumber),P=this._stickyLineCandidateProvider.getCandidateStickyLinesIntersecting(M);for(const x of P){const R=x.startLineNumber,B=x.endLineNumber,H=x.nestingDepth;if(B-R>0){const V=(H-1)*S,q=H*S,K=this._editor.getBottomForLineNumber(R)-E,U=this._editor.getTopForLineNumber(B)-E,$=this._editor.getBottomForLineNumber(B)-E;if(V>U&&V<=$){N.push(R),A.push(B+1),T=$-q;break}else q>K&&q<=$&&(N.push(R),A.push(B+1));if(N.length===I)break}}}return this._endLineNumbers=A,new D.StickyScrollWidgetState(N,A,T,this._showEndForLine)}dispose(){super.dispose(),this._sessionStore.dispose()}};e.StickyScrollController=f,f.ID="store.contrib.stickyScrollController",e.StickyScrollController=f=c=Ie([he(1,p.IContextMenuService),he(2,k.ILanguageFeaturesService),he(3,y.IInstantiationService),he(4,v.ILanguageConfigurationService),he(5,u.ILanguageFeatureDebounceService),he(6,C.IContextKeyService)],f)}),define(te[965],ie([1,0,16,744,795,28,25,14,19,408]),function(J,e,m,k,D,L,y,p,w,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectEditor=e.GoToStickyScrollLine=e.SelectPreviousStickyScrollLine=e.SelectNextStickyScrollLine=e.FocusStickyScroll=e.ToggleStickyScroll=void 0;class b extends L.Action2{constructor(){super({id:"editor.action.toggleStickyScroll",title:{...(0,k.localize2)(4,"Toggle Editor Sticky Scroll"),mnemonicTitle:(0,k.localize)(0,null)},category:D.Categories.View,toggled:{condition:p.ContextKeyExpr.equals("config.editor.stickyScroll.enabled",!0),title:(0,k.localize)(1,null),mnemonicTitle:(0,k.localize)(2,null)},menu:[{id:L.MenuId.CommandPalette},{id:L.MenuId.MenubarAppearanceMenu,group:"4_editor",order:3},{id:L.MenuId.StickyScrollContext}]})}async run(u){const d=u.get(y.IConfigurationService),r=!d.getValue("editor.stickyScroll.enabled");return d.updateValue("editor.stickyScroll.enabled",r)}}e.ToggleStickyScroll=b;const a=100;class s extends m.EditorAction2{constructor(){super({id:"editor.action.focusStickyScroll",title:{...(0,k.localize2)(5,"Focus Sticky Scroll"),mnemonicTitle:(0,k.localize)(3,null)},precondition:p.ContextKeyExpr.and(p.ContextKeyExpr.has("config.editor.stickyScroll.enabled"),w.EditorContextKeys.stickyScrollVisible),menu:[{id:L.MenuId.CommandPalette}]})}runEditorCommand(u,d){var r;(r=C.StickyScrollController.get(d))===null||r===void 0||r.focus()}}e.FocusStickyScroll=s;class i extends m.EditorAction2{constructor(){super({id:"editor.action.selectNextStickyScrollLine",title:(0,k.localize2)(6,"Select next sticky scroll line"),precondition:w.EditorContextKeys.stickyScrollFocused.isEqualTo(!0),keybinding:{weight:a,primary:18}})}runEditorCommand(u,d){var r;(r=C.StickyScrollController.get(d))===null||r===void 0||r.focusNext()}}e.SelectNextStickyScrollLine=i;class t extends m.EditorAction2{constructor(){super({id:"editor.action.selectPreviousStickyScrollLine",title:(0,k.localize2)(7,"Select previous sticky scroll line"),precondition:w.EditorContextKeys.stickyScrollFocused.isEqualTo(!0),keybinding:{weight:a,primary:16}})}runEditorCommand(u,d){var r;(r=C.StickyScrollController.get(d))===null||r===void 0||r.focusPrevious()}}e.SelectPreviousStickyScrollLine=t;class n extends m.EditorAction2{constructor(){super({id:"editor.action.goToFocusedStickyScrollLine",title:(0,k.localize2)(8,"Go to focused sticky scroll line"),precondition:w.EditorContextKeys.stickyScrollFocused.isEqualTo(!0),keybinding:{weight:a,primary:3}})}runEditorCommand(u,d){var r;(r=C.StickyScrollController.get(d))===null||r===void 0||r.goToFocused()}}e.GoToStickyScrollLine=n;class h extends m.EditorAction2{constructor(){super({id:"editor.action.selectEditor",title:(0,k.localize2)(9,"Select Editor"),precondition:w.EditorContextKeys.stickyScrollFocused.isEqualTo(!0),keybinding:{weight:a,primary:9}})}runEditorCommand(u,d){var r;(r=C.StickyScrollController.get(d))===null||r===void 0||r.selectEditor()}}e.SelectEditor=h}),define(te[966],ie([1,0,16,965,408,28]),function(J,e,m,k,D,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),(0,m.registerEditorContribution)(D.StickyScrollController.ID,D.StickyScrollController,1),(0,L.registerAction2)(k.ToggleStickyScroll),(0,L.registerAction2)(k.FocusStickyScroll),(0,L.registerAction2)(k.SelectPreviousStickyScrollLine),(0,L.registerAction2)(k.SelectNextStickyScrollLine),(0,L.registerAction2)(k.GoToStickyScrollLine),(0,L.registerAction2)(k.SelectEditor)}),define(te[967],ie([1,0,16,36,403,25,14,8,51,97]),function(J,e,m,k,D,L,y,p,w,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandaloneReferencesController=void 0;let b=class extends D.ReferencesController{constructor(s,i,t,n,h,v,u){super(!0,s,i,t,n,h,v,u)}};e.StandaloneReferencesController=b,e.StandaloneReferencesController=b=Ie([he(1,y.IContextKeyService),he(2,k.ICodeEditorService),he(3,w.INotificationService),he(4,p.IInstantiationService),he(5,C.IStorageService),he(6,L.IConfigurationService)],b),(0,m.registerEditorContribution)(D.ReferencesController.ID,b,4)}),define(te[968],ie([1,0,12,2,49,107,792,170,46,51,207]),function(J,e,m,k,D,L,y,p,w,C,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UndoRedoService=void 0;const a=!1;function s(g){return g.scheme===D.Schemas.file?g.fsPath:g.path}let i=0;class t{constructor(c,f,_,S,I,E,T){this.id=++i,this.type=0,this.actual=c,this.label=c.label,this.confirmBeforeUndo=c.confirmBeforeUndo||!1,this.resourceLabel=f,this.strResource=_,this.resourceLabels=[this.resourceLabel],this.strResources=[this.strResource],this.groupId=S,this.groupOrder=I,this.sourceId=E,this.sourceOrder=T,this.isValid=!0}setValid(c){this.isValid=c}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.isValid?"  VALID":"INVALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class n{constructor(c,f){this.resourceLabel=c,this.reason=f}}class h{constructor(){this.elements=new Map}createMessage(){const c=[],f=[];for(const[,S]of this.elements)(S.reason===0?c:f).push(S.resourceLabel);const _=[];return c.length>0&&_.push(y.localize(0,null,c.join(", "))),f.length>0&&_.push(y.localize(1,null,f.join(", "))),_.join(`
`)}get size(){return this.elements.size}has(c){return this.elements.has(c)}set(c,f){this.elements.set(c,f)}delete(c){return this.elements.delete(c)}}class v{constructor(c,f,_,S,I,E,T){this.id=++i,this.type=1,this.actual=c,this.label=c.label,this.confirmBeforeUndo=c.confirmBeforeUndo||!1,this.resourceLabels=f,this.strResources=_,this.groupId=S,this.groupOrder=I,this.sourceId=E,this.sourceOrder=T,this.removedResources=null,this.invalidatedResources=null}canSplit(){return typeof this.actual.split=="function"}removeResource(c,f,_){this.removedResources||(this.removedResources=new h),this.removedResources.has(f)||this.removedResources.set(f,new n(c,_))}setValid(c,f,_){_?this.invalidatedResources&&(this.invalidatedResources.delete(f),this.invalidatedResources.size===0&&(this.invalidatedResources=null)):(this.invalidatedResources||(this.invalidatedResources=new h),this.invalidatedResources.has(f)||this.invalidatedResources.set(f,new n(c,0)))}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.invalidatedResources?"INVALID":"  VALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class u{constructor(c,f){this.resourceLabel=c,this.strResource=f,this._past=[],this._future=[],this.locked=!1,this.versionId=1}dispose(){for(const c of this._past)c.type===1&&c.removeResource(this.resourceLabel,this.strResource,0);for(const c of this._future)c.type===1&&c.removeResource(this.resourceLabel,this.strResource,0);this.versionId++}toString(){const c=[];c.push(`* ${this.strResource}:`);for(let f=0;f<this._past.length;f++)c.push(`   * [UNDO] ${this._past[f]}`);for(let f=this._future.length-1;f>=0;f--)c.push(`   * [REDO] ${this._future[f]}`);return c.join(`
`)}flushAllElements(){this._past=[],this._future=[],this.versionId++}_setElementValidFlag(c,f){c.type===1?c.setValid(this.resourceLabel,this.strResource,f):c.setValid(f)}setElementsValidFlag(c,f){for(const _ of this._past)f(_.actual)&&this._setElementValidFlag(_,c);for(const _ of this._future)f(_.actual)&&this._setElementValidFlag(_,c)}pushElement(c){for(const f of this._future)f.type===1&&f.removeResource(this.resourceLabel,this.strResource,1);this._future=[],this._past.push(c),this.versionId++}createSnapshot(c){const f=[];for(let _=0,S=this._past.length;_<S;_++)f.push(this._past[_].id);for(let _=this._future.length-1;_>=0;_--)f.push(this._future[_].id);return new b.ResourceEditStackSnapshot(c,f)}restoreSnapshot(c){const f=c.elements.length;let _=!0,S=0,I=-1;for(let T=0,N=this._past.length;T<N;T++,S++){const A=this._past[T];_&&(S>=f||A.id!==c.elements[S])&&(_=!1,I=0),!_&&A.type===1&&A.removeResource(this.resourceLabel,this.strResource,0)}let E=-1;for(let T=this._future.length-1;T>=0;T--,S++){const N=this._future[T];_&&(S>=f||N.id!==c.elements[S])&&(_=!1,E=T),!_&&N.type===1&&N.removeResource(this.resourceLabel,this.strResource,0)}I!==-1&&(this._past=this._past.slice(0,I)),E!==-1&&(this._future=this._future.slice(E+1)),this.versionId++}getElements(){const c=[],f=[];for(const _ of this._past)c.push(_.actual);for(const _ of this._future)f.push(_.actual);return{past:c,future:f}}getClosestPastElement(){return this._past.length===0?null:this._past[this._past.length-1]}getSecondClosestPastElement(){return this._past.length<2?null:this._past[this._past.length-2]}getClosestFutureElement(){return this._future.length===0?null:this._future[this._future.length-1]}hasPastElements(){return this._past.length>0}hasFutureElements(){return this._future.length>0}splitPastWorkspaceElement(c,f){for(let _=this._past.length-1;_>=0;_--)if(this._past[_]===c){f.has(this.strResource)?this._past[_]=f.get(this.strResource):this._past.splice(_,1);break}this.versionId++}splitFutureWorkspaceElement(c,f){for(let _=this._future.length-1;_>=0;_--)if(this._future[_]===c){f.has(this.strResource)?this._future[_]=f.get(this.strResource):this._future.splice(_,1);break}this.versionId++}moveBackward(c){this._past.pop(),this._future.push(c),this.versionId++}moveForward(c){this._future.pop(),this._past.push(c),this.versionId++}}class d{constructor(c){this.editStacks=c,this._versionIds=[];for(let f=0,_=this.editStacks.length;f<_;f++)this._versionIds[f]=this.editStacks[f].versionId}isValid(){for(let c=0,f=this.editStacks.length;c<f;c++)if(this._versionIds[c]!==this.editStacks[c].versionId)return!1;return!0}}const r=new u("","");r.locked=!0;let l=class{constructor(c,f){this._dialogService=c,this._notificationService=f,this._editStacks=new Map,this._uriComparisonKeyComputers=[]}getUriComparisonKey(c){for(const f of this._uriComparisonKeyComputers)if(f[0]===c.scheme)return f[1].getComparisonKey(c);return c.toString()}_print(c){console.log("------------------------------------"),console.log(`AFTER ${c}: `);const f=[];for(const _ of this._editStacks)f.push(_[1].toString());console.log(f.join(`
`))}pushElement(c,f=b.UndoRedoGroup.None,_=b.UndoRedoSource.None){if(c.type===0){const S=s(c.resource),I=this.getUriComparisonKey(c.resource);this._pushElement(new t(c,S,I,f.id,f.nextOrder(),_.id,_.nextOrder()))}else{const S=new Set,I=[],E=[];for(const T of c.resources){const N=s(T),A=this.getUriComparisonKey(T);S.has(A)||(S.add(A),I.push(N),E.push(A))}I.length===1?this._pushElement(new t(c,I[0],E[0],f.id,f.nextOrder(),_.id,_.nextOrder())):this._pushElement(new v(c,I,E,f.id,f.nextOrder(),_.id,_.nextOrder()))}a&&this._print("pushElement")}_pushElement(c){for(let f=0,_=c.strResources.length;f<_;f++){const S=c.resourceLabels[f],I=c.strResources[f];let E;this._editStacks.has(I)?E=this._editStacks.get(I):(E=new u(S,I),this._editStacks.set(I,E)),E.pushElement(c)}}getLastElement(c){const f=this.getUriComparisonKey(c);if(this._editStacks.has(f)){const _=this._editStacks.get(f);if(_.hasFutureElements())return null;const S=_.getClosestPastElement();return S?S.actual:null}return null}_splitPastWorkspaceElement(c,f){const _=c.actual.split(),S=new Map;for(const I of _){const E=s(I.resource),T=this.getUriComparisonKey(I.resource),N=new t(I,E,T,0,0,0,0);S.set(N.strResource,N)}for(const I of c.strResources){if(f&&f.has(I))continue;this._editStacks.get(I).splitPastWorkspaceElement(c,S)}}_splitFutureWorkspaceElement(c,f){const _=c.actual.split(),S=new Map;for(const I of _){const E=s(I.resource),T=this.getUriComparisonKey(I.resource),N=new t(I,E,T,0,0,0,0);S.set(N.strResource,N)}for(const I of c.strResources){if(f&&f.has(I))continue;this._editStacks.get(I).splitFutureWorkspaceElement(c,S)}}removeElements(c){const f=typeof c=="string"?c:this.getUriComparisonKey(c);this._editStacks.has(f)&&(this._editStacks.get(f).dispose(),this._editStacks.delete(f)),a&&this._print("removeElements")}setElementsValidFlag(c,f,_){const S=this.getUriComparisonKey(c);this._editStacks.has(S)&&this._editStacks.get(S).setElementsValidFlag(f,_),a&&this._print("setElementsValidFlag")}createSnapshot(c){const f=this.getUriComparisonKey(c);return this._editStacks.has(f)?this._editStacks.get(f).createSnapshot(c):new b.ResourceEditStackSnapshot(c,[])}restoreSnapshot(c){const f=this.getUriComparisonKey(c.resource);if(this._editStacks.has(f)){const _=this._editStacks.get(f);_.restoreSnapshot(c),!_.hasPastElements()&&!_.hasFutureElements()&&(_.dispose(),this._editStacks.delete(f))}a&&this._print("restoreSnapshot")}getElements(c){const f=this.getUriComparisonKey(c);return this._editStacks.has(f)?this._editStacks.get(f).getElements():{past:[],future:[]}}_findClosestUndoElementWithSource(c){if(!c)return[null,null];let f=null,_=null;for(const[S,I]of this._editStacks){const E=I.getClosestPastElement();E&&E.sourceId===c&&(!f||E.sourceOrder>f.sourceOrder)&&(f=E,_=S)}return[f,_]}canUndo(c){if(c instanceof b.UndoRedoSource){const[,_]=this._findClosestUndoElementWithSource(c.id);return!!_}const f=this.getUriComparisonKey(c);return this._editStacks.has(f)?this._editStacks.get(f).hasPastElements():!1}_onError(c,f){(0,m.onUnexpectedError)(c);for(const _ of f.strResources)this.removeElements(_);this._notificationService.error(c)}_acquireLocks(c){for(const f of c.editStacks)if(f.locked)throw new Error("Cannot acquire edit stack lock");for(const f of c.editStacks)f.locked=!0;return()=>{for(const f of c.editStacks)f.locked=!1}}_safeInvokeWithLocks(c,f,_,S,I){const E=this._acquireLocks(_);let T;try{T=f()}catch(N){return E(),S.dispose(),this._onError(N,c)}return T?T.then(()=>(E(),S.dispose(),I()),N=>(E(),S.dispose(),this._onError(N,c))):(E(),S.dispose(),I())}async _invokeWorkspacePrepare(c){if(typeof c.actual.prepareUndoRedo>"u")return k.Disposable.None;const f=c.actual.prepareUndoRedo();return typeof f>"u"?k.Disposable.None:f}_invokeResourcePrepare(c,f){if(c.actual.type!==1||typeof c.actual.prepareUndoRedo>"u")return f(k.Disposable.None);const _=c.actual.prepareUndoRedo();return _?(0,k.isDisposable)(_)?f(_):_.then(S=>f(S)):f(k.Disposable.None)}_getAffectedEditStacks(c){const f=[];for(const _ of c.strResources)f.push(this._editStacks.get(_)||r);return new d(f)}_tryToSplitAndUndo(c,f,_,S){if(f.canSplit())return this._splitPastWorkspaceElement(f,_),this._notificationService.warn(S),new o(this._undo(c,0,!0));for(const I of f.strResources)this.removeElements(I);return this._notificationService.warn(S),new o}_checkWorkspaceUndo(c,f,_,S){if(f.removedResources)return this._tryToSplitAndUndo(c,f,f.removedResources,y.localize(2,null,f.label,f.removedResources.createMessage()));if(S&&f.invalidatedResources)return this._tryToSplitAndUndo(c,f,f.invalidatedResources,y.localize(3,null,f.label,f.invalidatedResources.createMessage()));const I=[];for(const T of _.editStacks)T.getClosestPastElement()!==f&&I.push(T.resourceLabel);if(I.length>0)return this._tryToSplitAndUndo(c,f,null,y.localize(4,null,f.label,I.join(", ")));const E=[];for(const T of _.editStacks)T.locked&&E.push(T.resourceLabel);return E.length>0?this._tryToSplitAndUndo(c,f,null,y.localize(5,null,f.label,E.join(", "))):_.isValid()?null:this._tryToSplitAndUndo(c,f,null,y.localize(6,null,f.label))}_workspaceUndo(c,f,_){const S=this._getAffectedEditStacks(f),I=this._checkWorkspaceUndo(c,f,S,!1);return I?I.returnValue:this._confirmAndExecuteWorkspaceUndo(c,f,S,_)}_isPartOfUndoGroup(c){if(!c.groupId)return!1;for(const[,f]of this._editStacks){const _=f.getClosestPastElement();if(_){if(_===c){const S=f.getSecondClosestPastElement();if(S&&S.groupId===c.groupId)return!0}if(_.groupId===c.groupId)return!0}}return!1}async _confirmAndExecuteWorkspaceUndo(c,f,_,S){if(f.canSplit()&&!this._isPartOfUndoGroup(f)){let T;(function(O){O[O.All=0]="All",O[O.This=1]="This",O[O.Cancel=2]="Cancel"})(T||(T={}));const{result:N}=await this._dialogService.prompt({type:L.default.Info,message:y.localize(7,null,f.label),buttons:[{label:y.localize(8,null,_.editStacks.length),run:()=>T.All},{label:y.localize(9,null),run:()=>T.This}],cancelButton:{run:()=>T.Cancel}});if(N===T.Cancel)return;if(N===T.This)return this._splitPastWorkspaceElement(f,null),this._undo(c,0,!0);const A=this._checkWorkspaceUndo(c,f,_,!1);if(A)return A.returnValue;S=!0}let I;try{I=await this._invokeWorkspacePrepare(f)}catch(T){return this._onError(T,f)}const E=this._checkWorkspaceUndo(c,f,_,!0);if(E)return I.dispose(),E.returnValue;for(const T of _.editStacks)T.moveBackward(f);return this._safeInvokeWithLocks(f,()=>f.actual.undo(),_,I,()=>this._continueUndoInGroup(f.groupId,S))}_resourceUndo(c,f,_){if(!f.isValid){c.flushAllElements();return}if(c.locked){const S=y.localize(10,null,f.label);this._notificationService.warn(S);return}return this._invokeResourcePrepare(f,S=>(c.moveBackward(f),this._safeInvokeWithLocks(f,()=>f.actual.undo(),new d([c]),S,()=>this._continueUndoInGroup(f.groupId,_))))}_findClosestUndoElementInGroup(c){if(!c)return[null,null];let f=null,_=null;for(const[S,I]of this._editStacks){const E=I.getClosestPastElement();E&&E.groupId===c&&(!f||E.groupOrder>f.groupOrder)&&(f=E,_=S)}return[f,_]}_continueUndoInGroup(c,f){if(!c)return;const[,_]=this._findClosestUndoElementInGroup(c);if(_)return this._undo(_,0,f)}undo(c){if(c instanceof b.UndoRedoSource){const[,f]=this._findClosestUndoElementWithSource(c.id);return f?this._undo(f,c.id,!1):void 0}return typeof c=="string"?this._undo(c,0,!1):this._undo(this.getUriComparisonKey(c),0,!1)}_undo(c,f=0,_){if(!this._editStacks.has(c))return;const S=this._editStacks.get(c),I=S.getClosestPastElement();if(!I)return;if(I.groupId){const[T,N]=this._findClosestUndoElementInGroup(I.groupId);if(I!==T&&N)return this._undo(N,f,_)}if((I.sourceId!==f||I.confirmBeforeUndo)&&!_)return this._confirmAndContinueUndo(c,f,I);try{return I.type===1?this._workspaceUndo(c,I,_):this._resourceUndo(S,I,_)}finally{a&&this._print("undo")}}async _confirmAndContinueUndo(c,f,_){if((await this._dialogService.confirm({message:y.localize(11,null,_.label),primaryButton:y.localize(12,null),cancelButton:y.localize(13,null)})).confirmed)return this._undo(c,f,!0)}_findClosestRedoElementWithSource(c){if(!c)return[null,null];let f=null,_=null;for(const[S,I]of this._editStacks){const E=I.getClosestFutureElement();E&&E.sourceId===c&&(!f||E.sourceOrder<f.sourceOrder)&&(f=E,_=S)}return[f,_]}canRedo(c){if(c instanceof b.UndoRedoSource){const[,_]=this._findClosestRedoElementWithSource(c.id);return!!_}const f=this.getUriComparisonKey(c);return this._editStacks.has(f)?this._editStacks.get(f).hasFutureElements():!1}_tryToSplitAndRedo(c,f,_,S){if(f.canSplit())return this._splitFutureWorkspaceElement(f,_),this._notificationService.warn(S),new o(this._redo(c));for(const I of f.strResources)this.removeElements(I);return this._notificationService.warn(S),new o}_checkWorkspaceRedo(c,f,_,S){if(f.removedResources)return this._tryToSplitAndRedo(c,f,f.removedResources,y.localize(14,null,f.label,f.removedResources.createMessage()));if(S&&f.invalidatedResources)return this._tryToSplitAndRedo(c,f,f.invalidatedResources,y.localize(15,null,f.label,f.invalidatedResources.createMessage()));const I=[];for(const T of _.editStacks)T.getClosestFutureElement()!==f&&I.push(T.resourceLabel);if(I.length>0)return this._tryToSplitAndRedo(c,f,null,y.localize(16,null,f.label,I.join(", ")));const E=[];for(const T of _.editStacks)T.locked&&E.push(T.resourceLabel);return E.length>0?this._tryToSplitAndRedo(c,f,null,y.localize(17,null,f.label,E.join(", "))):_.isValid()?null:this._tryToSplitAndRedo(c,f,null,y.localize(18,null,f.label))}_workspaceRedo(c,f){const _=this._getAffectedEditStacks(f),S=this._checkWorkspaceRedo(c,f,_,!1);return S?S.returnValue:this._executeWorkspaceRedo(c,f,_)}async _executeWorkspaceRedo(c,f,_){let S;try{S=await this._invokeWorkspacePrepare(f)}catch(E){return this._onError(E,f)}const I=this._checkWorkspaceRedo(c,f,_,!0);if(I)return S.dispose(),I.returnValue;for(const E of _.editStacks)E.moveForward(f);return this._safeInvokeWithLocks(f,()=>f.actual.redo(),_,S,()=>this._continueRedoInGroup(f.groupId))}_resourceRedo(c,f){if(!f.isValid){c.flushAllElements();return}if(c.locked){const _=y.localize(19,null,f.label);this._notificationService.warn(_);return}return this._invokeResourcePrepare(f,_=>(c.moveForward(f),this._safeInvokeWithLocks(f,()=>f.actual.redo(),new d([c]),_,()=>this._continueRedoInGroup(f.groupId))))}_findClosestRedoElementInGroup(c){if(!c)return[null,null];let f=null,_=null;for(const[S,I]of this._editStacks){const E=I.getClosestFutureElement();E&&E.groupId===c&&(!f||E.groupOrder<f.groupOrder)&&(f=E,_=S)}return[f,_]}_continueRedoInGroup(c){if(!c)return;const[,f]=this._findClosestRedoElementInGroup(c);if(f)return this._redo(f)}redo(c){if(c instanceof b.UndoRedoSource){const[,f]=this._findClosestRedoElementWithSource(c.id);return f?this._redo(f):void 0}return typeof c=="string"?this._redo(c):this._redo(this.getUriComparisonKey(c))}_redo(c){if(!this._editStacks.has(c))return;const f=this._editStacks.get(c),_=f.getClosestFutureElement();if(_){if(_.groupId){const[S,I]=this._findClosestRedoElementInGroup(_.groupId);if(_!==S&&I)return this._redo(I)}try{return _.type===1?this._workspaceRedo(c,_):this._resourceRedo(f,_)}finally{a&&this._print("redo")}}}};e.UndoRedoService=l,e.UndoRedoService=l=Ie([he(0,p.IDialogService),he(1,C.INotificationService)],l);class o{constructor(c){this.returnValue=c}}(0,w.registerSingleton)(b.IUndoRedoService,l,1)}),define(te[177],ie([1,0,793,96,214,22,8]),function(J,e,m,k,D,L,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.STANDALONE_EDITOR_WORKSPACE_ID=e.WORKSPACE_FILTER=e.WORKSPACE_EXTENSION=e.WorkspaceFolder=e.Workspace=e.UNKNOWN_EMPTY_WINDOW_WORKSPACE=e.EXTENSION_DEVELOPMENT_EMPTY_WINDOW_WORKSPACE=e.IWorkspaceContextService=void 0,e.isSingleFolderWorkspaceIdentifier=p,e.isEmptyWorkspaceIdentifier=w,e.toWorkspaceIdentifier=C,e.isWorkspaceIdentifier=b,e.isStandaloneEditorWorkspace=i,e.IWorkspaceContextService=(0,y.createDecorator)("contextService");function p(t){const n=t;return typeof n?.id=="string"&&L.URI.isUri(n.uri)}function w(t){const n=t;return typeof n?.id=="string"&&!p(t)&&!b(t)}e.EXTENSION_DEVELOPMENT_EMPTY_WINDOW_WORKSPACE={id:"ext-dev"},e.UNKNOWN_EMPTY_WINDOW_WORKSPACE={id:"empty-window"};function C(t,n){if(typeof t=="string"||typeof t>"u")return typeof t=="string"?{id:(0,k.basename)(t)}:n?e.EXTENSION_DEVELOPMENT_EMPTY_WINDOW_WORKSPACE:e.UNKNOWN_EMPTY_WINDOW_WORKSPACE;const h=t;return h.configuration?{id:h.id,configPath:h.configuration}:h.folders.length===1?{id:h.id,uri:h.folders[0].uri}:{id:h.id}}function b(t){const n=t;return typeof n?.id=="string"&&L.URI.isUri(n.configPath)}class a{constructor(n,h,v,u,d){this._id=n,this._transient=v,this._configuration=u,this._ignorePathCasing=d,this._foldersMap=D.TernarySearchTree.forUris(this._ignorePathCasing,()=>!0),this.folders=h}get folders(){return this._folders}set folders(n){this._folders=n,this.updateFoldersMap()}get id(){return this._id}get transient(){return this._transient}get configuration(){return this._configuration}set configuration(n){this._configuration=n}getFolder(n){return n&&this._foldersMap.findSubstr(n)||null}updateFoldersMap(){this._foldersMap=D.TernarySearchTree.forUris(this._ignorePathCasing,()=>!0);for(const n of this.folders)this._foldersMap.set(n.uri,n)}toJSON(){return{id:this.id,folders:this.folders,transient:this.transient,configuration:this.configuration}}}e.Workspace=a;class s{constructor(n,h){this.raw=h,this.uri=n.uri,this.index=n.index,this.name=n.name}toJSON(){return{uri:this.uri,name:this.name,index:this.index}}}e.WorkspaceFolder=s,e.WORKSPACE_EXTENSION="code-workspace",e.WORKSPACE_FILTER=[{name:(0,m.localize)(0,null),extensions:[e.WORKSPACE_EXTENSION]}],e.STANDALONE_EDITOR_WORKSPACE_ID="4064f6ec-cb38-4ad0-af64-ee6467e63c82";function i(t){return t.id===e.STANDALONE_EDITOR_WORKSPACE_ID}}),define(te[969],ie([1,0,6,146,41,2,17,16,19,693,28,14,58,35,25,177]),function(J,e,m,k,D,L,y,p,w,C,b,a,s,i,t,n){"use strict";var h;Object.defineProperty(e,"__esModule",{value:!0}),e.ContextMenuController=void 0;let v=h=class{static get(r){return r.getContribution(h.ID)}constructor(r,l,o,g,c,f,_,S){this._contextMenuService=l,this._contextViewService=o,this._contextKeyService=g,this._keybindingService=c,this._menuService=f,this._configurationService=_,this._workspaceContextService=S,this._toDispose=new L.DisposableStore,this._contextMenuIsBeingShownCount=0,this._editor=r,this._toDispose.add(this._editor.onContextMenu(I=>this._onContextMenu(I))),this._toDispose.add(this._editor.onMouseWheel(I=>{if(this._contextMenuIsBeingShownCount>0){const E=this._contextViewService.getContextViewElement(),T=I.srcElement;T.shadowRoot&&m.getShadowRoot(E)===T.shadowRoot||this._contextViewService.hideContextView()}})),this._toDispose.add(this._editor.onKeyDown(I=>{this._editor.getOption(24)&&I.keyCode===58&&(I.preventDefault(),I.stopPropagation(),this.showContextMenu())}))}_onContextMenu(r){if(!this._editor.hasModel())return;if(!this._editor.getOption(24)){this._editor.focus(),r.target.position&&!this._editor.getSelection().containsPosition(r.target.position)&&this._editor.setPosition(r.target.position);return}if(r.target.type===12||r.target.type===6&&r.target.detail.injectedText)return;if(r.event.preventDefault(),r.event.stopPropagation(),r.target.type===11)return this._showScrollbarContextMenu(r.event);if(r.target.type!==6&&r.target.type!==7&&r.target.type!==1)return;if(this._editor.focus(),r.target.position){let o=!1;for(const g of this._editor.getSelections())if(g.containsPosition(r.target.position)){o=!0;break}o||this._editor.setPosition(r.target.position)}let l=null;r.target.type!==1&&(l=r.event),this.showContextMenu(l)}showContextMenu(r){if(!this._editor.getOption(24)||!this._editor.hasModel())return;const l=this._getMenuActions(this._editor.getModel(),this._editor.isSimpleWidget?b.MenuId.SimpleEditorContext:b.MenuId.EditorContext);l.length>0&&this._doShowContextMenu(l,r)}_getMenuActions(r,l){const o=[],g=this._menuService.createMenu(l,this._contextKeyService),c=g.getActions({arg:r.uri});g.dispose();for(const f of c){const[,_]=f;let S=0;for(const I of _)if(I instanceof b.SubmenuItemAction){const E=this._getMenuActions(r,I.item.submenu);E.length>0&&(o.push(new D.SubmenuAction(I.id,I.label,E)),S++)}else o.push(I),S++;S&&o.push(new D.Separator)}return o.length&&o.pop(),o}_doShowContextMenu(r,l=null){if(!this._editor.hasModel())return;const o=this._editor.getOption(60);this._editor.updateOptions({hover:{enabled:!1}});let g=l;if(!g){this._editor.revealPosition(this._editor.getPosition(),1),this._editor.render();const f=this._editor.getScrolledVisiblePosition(this._editor.getPosition()),_=m.getDomNodePagePosition(this._editor.getDomNode()),S=_.left+f.left,I=_.top+f.top+f.height;g={x:S,y:I}}const c=this._editor.getOption(127)&&!y.isIOS;this._contextMenuIsBeingShownCount++,this._contextMenuService.showContextMenu({domForShadowRoot:c?this._editor.getDomNode():void 0,getAnchor:()=>g,getActions:()=>r,getActionViewItem:f=>{const _=this._keybindingFor(f);if(_)return new k.ActionViewItem(f,f,{label:!0,keybinding:_.getLabel(),isMenu:!0});const S=f;return typeof S.getActionViewItem=="function"?S.getActionViewItem():new k.ActionViewItem(f,f,{icon:!0,label:!0,isMenu:!0})},getKeyBinding:f=>this._keybindingFor(f),onHide:f=>{this._contextMenuIsBeingShownCount--,this._editor.updateOptions({hover:o})}})}_showScrollbarContextMenu(r){if(!this._editor.hasModel()||(0,n.isStandaloneEditorWorkspace)(this._workspaceContextService.getWorkspace()))return;const l=this._editor.getOption(73);let o=0;const g=I=>({id:`menu-action-${++o}`,label:I.label,tooltip:"",class:void 0,enabled:typeof I.enabled>"u"?!0:I.enabled,checked:I.checked,run:I.run}),c=(I,E)=>new D.SubmenuAction(`menu-action-${++o}`,I,E,void 0),f=(I,E,T,N,A)=>{if(!E)return g({label:I,enabled:E,run:()=>{}});const O=P=>()=>{this._configurationService.updateValue(T,P)},M=[];for(const P of A)M.push(g({label:P.label,checked:N===P.value,run:O(P.value)}));return c(I,M)},_=[];_.push(g({label:C.localize(0,null),checked:l.enabled,run:()=>{this._configurationService.updateValue("editor.minimap.enabled",!l.enabled)}})),_.push(new D.Separator),_.push(g({label:C.localize(1,null),enabled:l.enabled,checked:l.renderCharacters,run:()=>{this._configurationService.updateValue("editor.minimap.renderCharacters",!l.renderCharacters)}})),_.push(f(C.localize(2,null),l.enabled,"editor.minimap.size",l.size,[{label:C.localize(3,null),value:"proportional"},{label:C.localize(4,null),value:"fill"},{label:C.localize(5,null),value:"fit"}])),_.push(f(C.localize(6,null),l.enabled,"editor.minimap.showSlider",l.showSlider,[{label:C.localize(7,null),value:"mouseover"},{label:C.localize(8,null),value:"always"}]));const S=this._editor.getOption(127)&&!y.isIOS;this._contextMenuIsBeingShownCount++,this._contextMenuService.showContextMenu({domForShadowRoot:S?this._editor.getDomNode():void 0,getAnchor:()=>r,getActions:()=>_,onHide:I=>{this._contextMenuIsBeingShownCount--,this._editor.focus()}})}_keybindingFor(r){return this._keybindingService.lookupKeybinding(r.id)}dispose(){this._contextMenuIsBeingShownCount>0&&this._contextViewService.hideContextView(),this._toDispose.dispose()}};e.ContextMenuController=v,v.ID="editor.contrib.contextmenu",e.ContextMenuController=v=h=Ie([he(1,s.IContextMenuService),he(2,s.IContextViewService),he(3,a.IContextKeyService),he(4,i.IKeybindingService),he(5,b.IMenuService),he(6,t.IConfigurationService),he(7,n.IWorkspaceContextService)],v);class u extends p.EditorAction{constructor(){super({id:"editor.action.showContextMenu",label:C.localize(9,null),alias:"Show Editor Context Menu",precondition:void 0,kbOpts:{kbExpr:w.EditorContextKeys.textInputFocus,primary:1092,weight:100}})}run(r,l){var o;(o=v.get(l))===null||o===void 0||o.showContextMenu()}}(0,p.registerEditorContribution)(v.ID,v,2),(0,p.registerEditorAction)(u)}),define(te[280],ie([1,0,13,186,94,2,120,49,50,22,29,18,697,177]),function(J,e,m,k,D,L,y,p,w,C,b,a,s,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultPasteProvidersFeature=e.DefaultDropProvidersFeature=e.DefaultTextPasteOrDropEditProvider=void 0;class t{async provideDocumentPasteEdits(g,c,f,_,S){const I=await this.getEdit(f,S);if(I)return{dispose(){},edits:[{insertText:I.insertText,title:I.title,kind:I.kind,handledMimeType:I.handledMimeType,yieldTo:I.yieldTo}]}}async provideDocumentOnDropEdits(g,c,f,_){const S=await this.getEdit(f,_);return S?[{insertText:S.insertText,title:S.title,kind:S.kind,handledMimeType:S.handledMimeType,yieldTo:S.yieldTo}]:void 0}}class n extends t{constructor(){super(...arguments),this.kind=n.kind,this.dropMimeTypes=[y.Mimes.text],this.pasteMimeTypes=[y.Mimes.text]}async getEdit(g,c){const f=g.get(y.Mimes.text);if(!f||g.has(y.Mimes.uriList))return;const _=await f.asString();return{handledMimeType:y.Mimes.text,title:(0,s.localize)(0,null),insertText:_,kind:this.kind}}}e.DefaultTextPasteOrDropEditProvider=n,n.id="text",n.kind=new D.HierarchicalKind("text.plain");class h extends t{constructor(){super(...arguments),this.kind=new D.HierarchicalKind("uri.absolute"),this.dropMimeTypes=[y.Mimes.uriList],this.pasteMimeTypes=[y.Mimes.uriList]}async getEdit(g,c){const f=await d(g);if(!f.length||c.isCancellationRequested)return;let _=0;const S=f.map(({uri:E,originalText:T})=>E.scheme===p.Schemas.file?E.fsPath:(_++,T)).join(" ");let I;return _>0?I=f.length>1?(0,s.localize)(1,null):(0,s.localize)(2,null):I=f.length>1?(0,s.localize)(3,null):(0,s.localize)(4,null),{handledMimeType:y.Mimes.uriList,insertText:S,title:I,kind:this.kind}}}let v=class extends t{constructor(g){super(),this._workspaceContextService=g,this.kind=new D.HierarchicalKind("uri.relative"),this.dropMimeTypes=[y.Mimes.uriList],this.pasteMimeTypes=[y.Mimes.uriList]}async getEdit(g,c){const f=await d(g);if(!f.length||c.isCancellationRequested)return;const _=(0,m.coalesce)(f.map(({uri:S})=>{const I=this._workspaceContextService.getWorkspaceFolder(S);return I?(0,w.relativePath)(I.uri,S):void 0}));if(_.length)return{handledMimeType:y.Mimes.uriList,insertText:_.join(" "),title:f.length>1?(0,s.localize)(5,null):(0,s.localize)(6,null),kind:this.kind}}};v=Ie([he(0,i.IWorkspaceContextService)],v);class u{constructor(){this.kind=new D.HierarchicalKind("html"),this.pasteMimeTypes=["text/html"],this._yieldTo=[{mimeType:y.Mimes.text}]}async provideDocumentPasteEdits(g,c,f,_,S){var I;if(_.triggerKind!==b.DocumentPasteTriggerKind.PasteAs&&!(!((I=_.only)===null||I===void 0)&&I.contains(this.kind)))return;const E=f.get("text/html"),T=await E?.asString();if(!(!T||S.isCancellationRequested))return{dispose(){},edits:[{insertText:T,yieldTo:this._yieldTo,title:(0,s.localize)(7,null),kind:this.kind}]}}}async function d(o){const g=o.get(y.Mimes.uriList);if(!g)return[];const c=await g.asString(),f=[];for(const _ of k.UriList.parse(c))try{f.push({uri:C.URI.parse(_),originalText:_})}catch{}return f}let r=class extends L.Disposable{constructor(g,c){super(),this._register(g.documentOnDropEditProvider.register("*",new n)),this._register(g.documentOnDropEditProvider.register("*",new h)),this._register(g.documentOnDropEditProvider.register("*",new v(c)))}};e.DefaultDropProvidersFeature=r,e.DefaultDropProvidersFeature=r=Ie([he(0,a.ILanguageFeaturesService),he(1,i.IWorkspaceContextService)],r);let l=class extends L.Disposable{constructor(g,c){super(),this._register(g.documentPasteEditProvider.register("*",new n)),this._register(g.documentPasteEditProvider.register("*",new h)),this._register(g.documentPasteEditProvider.register("*",new v(c))),this._register(g.documentPasteEditProvider.register("*",new u))}};e.DefaultPasteProvidersFeature=l,e.DefaultPasteProvidersFeature=l=Ie([he(0,a.ILanguageFeaturesService),he(1,i.IWorkspaceContextService)],l)}),define(te[409],ie([1,0,6,13,15,186,94,2,120,17,185,203,371,147,5,29,18,280,255,115,278,174,696,112,14,8,91,75,364]),function(J,e,m,k,D,L,y,p,w,C,b,a,s,i,t,n,h,v,u,d,r,l,o,g,c,f,_,S,I){"use strict";var E;Object.defineProperty(e,"__esModule",{value:!0}),e.CopyPasteController=e.pasteWidgetVisibleCtx=e.changePasteTypeCommandId=void 0,e.changePasteTypeCommandId="editor.changePasteType",e.pasteWidgetVisibleCtx=new c.RawContextKey("pasteWidgetVisible",!1,(0,o.localize)(0,null));const T="application/vnd.code.copyMetadata";let N=E=class extends p.Disposable{static get(O){return O.getContribution(E.ID)}constructor(O,M,P,x,R,B,H){super(),this._bulkEditService=P,this._clipboardService=x,this._languageFeaturesService=R,this._quickInputService=B,this._progressService=H,this._editor=O;const V=O.getContainerDomNode();this._register((0,m.addDisposableListener)(V,"copy",q=>this.handleCopy(q))),this._register((0,m.addDisposableListener)(V,"cut",q=>this.handleCopy(q))),this._register((0,m.addDisposableListener)(V,"paste",q=>this.handlePaste(q),!0)),this._pasteProgressManager=this._register(new r.InlineProgressManager("pasteIntoEditor",O,M)),this._postPasteWidgetManager=this._register(M.createInstance(I.PostEditWidgetManager,"pasteIntoEditor",O,e.pasteWidgetVisibleCtx,{id:e.changePasteTypeCommandId,label:(0,o.localize)(1,null)}))}changePasteType(){this._postPasteWidgetManager.tryShowSelector()}pasteAs(O){this._editor.focus();try{this._pasteAsActionContext={preferred:O},(0,m.getActiveDocument)().execCommand("paste")}finally{this._pasteAsActionContext=void 0}}clearWidgets(){this._postPasteWidgetManager.clear()}isPasteAsEnabled(){return this._editor.getOption(85).enabled&&!this._editor.getOption(91)}async finishedPaste(){await this._currentPasteOperation}handleCopy(O){var M,P;if(!this._editor.hasTextFocus()||(C.isWeb&&this._clipboardService.writeResources([]),!O.clipboardData||!this.isPasteAsEnabled()))return;const x=this._editor.getModel(),R=this._editor.getSelections();if(!x||!R?.length)return;const B=this._editor.getOption(37);let H=R;const V=R.length===1&&R[0].isEmpty();if(V){if(!B)return;H=[new t.Range(H[0].startLineNumber,1,H[0].startLineNumber,1+x.getLineLength(H[0].startLineNumber))]}const q=(M=this._editor._getViewModel())===null||M===void 0?void 0:M.getPlainTextToCopy(R,B,C.isWindows),U={multicursorText:Array.isArray(q)?q:null,pasteOnNewLine:V,mode:null},$=this._languageFeaturesService.documentPasteEditProvider.ordered(x).filter(Z=>!!Z.prepareDocumentPaste);if(!$.length){this.setCopyMetadata(O.clipboardData,{defaultPastePayload:U});return}const se=(0,s.toVSDataTransfer)(O.clipboardData),F=$.flatMap(Z=>{var ae;return(ae=Z.copyMimeTypes)!==null&&ae!==void 0?ae:[]}),X=(0,b.generateUuid)();this.setCopyMetadata(O.clipboardData,{id:X,providerCopyMimeTypes:F,defaultPastePayload:U});const Q=(0,D.createCancelablePromise)(async Z=>{const ae=(0,k.coalesce)(await Promise.all($.map(async ue=>{try{return await ue.prepareDocumentPaste(x,H,se,Z)}catch(ge){console.error(ge);return}})));ae.reverse();for(const ue of ae)for(const[ge,fe]of ue)se.replace(ge,fe);return se});(P=E._currentCopyOperation)===null||P===void 0||P.dataTransferPromise.cancel(),E._currentCopyOperation={handle:X,dataTransferPromise:Q}}async handlePaste(O){var M,P,x,R;if(!O.clipboardData||!this._editor.hasTextFocus())return;(M=l.MessageController.get(this._editor))===null||M===void 0||M.closeMessage(),(P=this._currentPasteOperation)===null||P===void 0||P.cancel(),this._currentPasteOperation=void 0;const B=this._editor.getModel(),H=this._editor.getSelections();if(!H?.length||!B||!this.isPasteAsEnabled()&&!this._pasteAsActionContext)return;const V=this.fetchCopyMetadata(O),q=(0,s.toExternalVSDataTransfer)(O.clipboardData);q.delete(T);const K=[...O.clipboardData.types,...(x=V?.providerCopyMimeTypes)!==null&&x!==void 0?x:[],w.Mimes.uriList],U=this._languageFeaturesService.documentPasteEditProvider.ordered(B).filter($=>{var se,F;const X=(se=this._pasteAsActionContext)===null||se===void 0?void 0:se.preferred;return X&&$.providedPasteEditKinds&&!this.providerMatchesPreference($,X)?!1:(F=$.pasteMimeTypes)===null||F===void 0?void 0:F.some(Q=>(0,L.matchesMimeType)(Q,K))});if(!U.length){!((R=this._pasteAsActionContext)===null||R===void 0)&&R.preferred&&this.showPasteAsNoEditMessage(H,this._pasteAsActionContext.preferred);return}O.preventDefault(),O.stopImmediatePropagation(),this._pasteAsActionContext?this.showPasteAsPick(this._pasteAsActionContext.preferred,U,H,q,V):this.doPasteInline(U,H,q,V,O)}showPasteAsNoEditMessage(O,M){var P;(P=l.MessageController.get(this._editor))===null||P===void 0||P.showMessage((0,o.localize)(2,null,M instanceof y.HierarchicalKind?M.value:M.providerId),O[0].getStartPosition())}doPasteInline(O,M,P,x,R){const B=(0,D.createCancelablePromise)(async H=>{const V=this._editor;if(!V.hasModel())return;const q=V.getModel(),K=new d.EditorStateCancellationTokenSource(V,3,void 0,H);try{if(await this.mergeInDataFromCopy(P,x,K.token),K.token.isCancellationRequested)return;const U=O.filter(F=>this.isSupportedPasteProvider(F,P));if(!U.length||U.length===1&&U[0]instanceof v.DefaultTextPasteOrDropEditProvider)return this.applyDefaultPasteHandler(P,x,K.token,R);const $={triggerKind:n.DocumentPasteTriggerKind.Automatic},se=await this.getPasteEdits(U,P,q,M,$,K.token);if(K.token.isCancellationRequested)return;if(se.length===1&&se[0].provider instanceof v.DefaultTextPasteOrDropEditProvider)return this.applyDefaultPasteHandler(P,x,K.token,R);if(se.length){const F=V.getOption(85).showPasteSelector==="afterPaste";return this._postPasteWidgetManager.applyEditAndShowIfNeeded(M,{activeEditIndex:0,allEdits:se},F,async(X,Q)=>{var Z,ae;const ue=await((ae=(Z=X.provider).resolveDocumentPasteEdit)===null||ae===void 0?void 0:ae.call(Z,X,Q));return ue&&(X.additionalEdit=ue.additionalEdit),X},K.token)}await this.applyDefaultPasteHandler(P,x,K.token,R)}finally{K.dispose(),this._currentPasteOperation===B&&(this._currentPasteOperation=void 0)}});this._pasteProgressManager.showWhile(M[0].getEndPosition(),(0,o.localize)(3,null),B),this._currentPasteOperation=B}showPasteAsPick(O,M,P,x,R){const B=(0,D.createCancelablePromise)(async H=>{const V=this._editor;if(!V.hasModel())return;const q=V.getModel(),K=new d.EditorStateCancellationTokenSource(V,3,void 0,H);try{if(await this.mergeInDataFromCopy(x,R,K.token),K.token.isCancellationRequested)return;let U=M.filter(Q=>this.isSupportedPasteProvider(Q,x,O));O&&(U=U.filter(Q=>this.providerMatchesPreference(Q,O)));const $={triggerKind:n.DocumentPasteTriggerKind.PasteAs,only:O&&O instanceof y.HierarchicalKind?O:void 0};let se=await this.getPasteEdits(U,x,q,P,$,K.token);if(K.token.isCancellationRequested)return;if(O&&(se=se.filter(Q=>O instanceof y.HierarchicalKind?O.contains(Q.kind):O.providerId===Q.provider.id)),!se.length){$.only&&this.showPasteAsNoEditMessage(P,$.only);return}let F;if(O)F=se.at(0);else{const Q=await this._quickInputService.pick(se.map(Z=>{var ae;return{label:Z.title,description:(ae=Z.kind)===null||ae===void 0?void 0:ae.value,edit:Z}}),{placeHolder:(0,o.localize)(4,null)});F=Q?.edit}if(!F)return;const X=(0,u.createCombinedWorkspaceEdit)(q.uri,P,F);await this._bulkEditService.apply(X,{editor:this._editor})}finally{K.dispose(),this._currentPasteOperation===B&&(this._currentPasteOperation=void 0)}});this._progressService.withProgress({location:10,title:(0,o.localize)(5,null)},()=>B)}setCopyMetadata(O,M){O.setData(T,JSON.stringify(M))}fetchCopyMetadata(O){var M;if(!O.clipboardData)return;const P=O.clipboardData.getData(T);if(P)try{return JSON.parse(P)}catch{return}const[x,R]=a.ClipboardEventUtils.getTextData(O.clipboardData);if(R)return{defaultPastePayload:{mode:R.mode,multicursorText:(M=R.multicursorText)!==null&&M!==void 0?M:null,pasteOnNewLine:!!R.isFromEmptySelection}}}async mergeInDataFromCopy(O,M,P){var x;if(M?.id&&((x=E._currentCopyOperation)===null||x===void 0?void 0:x.handle)===M.id){const R=await E._currentCopyOperation.dataTransferPromise;if(P.isCancellationRequested)return;for(const[B,H]of R)O.replace(B,H)}if(!O.has(w.Mimes.uriList)){const R=await this._clipboardService.readResources();if(P.isCancellationRequested)return;R.length&&O.append(w.Mimes.uriList,(0,L.createStringDataTransferItem)(L.UriList.create(R)))}}async getPasteEdits(O,M,P,x,R,B){const H=await(0,D.raceCancellation)(Promise.all(O.map(async q=>{var K,U;try{const $=await((K=q.provideDocumentPasteEdits)===null||K===void 0?void 0:K.call(q,P,x,M,R,B));return(U=$?.edits)===null||U===void 0?void 0:U.map(se=>({...se,provider:q}))}catch($){console.error($)}})),B),V=(0,k.coalesce)(H??[]).flat().filter(q=>!R.only||R.only.contains(q.kind));return(0,u.sortEditsByYieldTo)(V)}async applyDefaultPasteHandler(O,M,P,x){var R,B,H,V;const q=(R=O.get(w.Mimes.text))!==null&&R!==void 0?R:O.get("text"),K=(B=await q?.asString())!==null&&B!==void 0?B:"";if(P.isCancellationRequested)return;const U={clipboardEvent:x,text:K,pasteOnNewLine:(H=M?.defaultPastePayload.pasteOnNewLine)!==null&&H!==void 0?H:!1,multicursorText:(V=M?.defaultPastePayload.multicursorText)!==null&&V!==void 0?V:null,mode:null};this._editor.trigger("keyboard","paste",U)}isSupportedPasteProvider(O,M,P){var x;return!((x=O.pasteMimeTypes)===null||x===void 0)&&x.some(R=>M.matches(R))?!P||this.providerMatchesPreference(O,P):!1}providerMatchesPreference(O,M){return M instanceof y.HierarchicalKind?O.providedPasteEditKinds?O.providedPasteEditKinds.some(P=>M.contains(P)):!0:O.id===M.providerId}};e.CopyPasteController=N,N.ID="editor.contrib.copyPasteActionController",e.CopyPasteController=N=E=Ie([he(1,f.IInstantiationService),he(2,i.IBulkEditService),he(3,g.IClipboardService),he(4,h.ILanguageFeaturesService),he(5,S.IQuickInputService),he(6,_.IProgressService)],N)}),define(te[970],ie([1,0,62,6,17,203,16,36,19,409,682,28,112,14]),function(J,e,m,k,D,L,y,p,w,C,b,a,s,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PasteAction=e.CopyAction=e.CutAction=void 0;const t="9_cutcopypaste",n=D.isNative||document.queryCommandSupported("cut"),h=D.isNative||document.queryCommandSupported("copy"),v=typeof navigator.clipboard>"u"||m.isFirefox?document.queryCommandSupported("paste"):!0;function u(l){return l.register(),l}e.CutAction=n?u(new y.MultiCommand({id:"editor.action.clipboardCutAction",precondition:void 0,kbOpts:D.isNative?{primary:2102,win:{primary:2102,secondary:[1044]},weight:100}:void 0,menuOpts:[{menuId:a.MenuId.MenubarEditMenu,group:"2_ccp",title:b.localize(0,null),order:1},{menuId:a.MenuId.EditorContext,group:t,title:b.localize(1,null),when:w.EditorContextKeys.writable,order:1},{menuId:a.MenuId.CommandPalette,group:"",title:b.localize(2,null),order:1},{menuId:a.MenuId.SimpleEditorContext,group:t,title:b.localize(3,null),when:w.EditorContextKeys.writable,order:1}]})):void 0,e.CopyAction=h?u(new y.MultiCommand({id:"editor.action.clipboardCopyAction",precondition:void 0,kbOpts:D.isNative?{primary:2081,win:{primary:2081,secondary:[2067]},weight:100}:void 0,menuOpts:[{menuId:a.MenuId.MenubarEditMenu,group:"2_ccp",title:b.localize(4,null),order:2},{menuId:a.MenuId.EditorContext,group:t,title:b.localize(5,null),order:2},{menuId:a.MenuId.CommandPalette,group:"",title:b.localize(6,null),order:1},{menuId:a.MenuId.SimpleEditorContext,group:t,title:b.localize(7,null),order:2}]})):void 0,a.MenuRegistry.appendMenuItem(a.MenuId.MenubarEditMenu,{submenu:a.MenuId.MenubarCopy,title:b.localize2(13,"Copy As"),group:"2_ccp",order:3}),a.MenuRegistry.appendMenuItem(a.MenuId.EditorContext,{submenu:a.MenuId.EditorContextCopy,title:b.localize2(14,"Copy As"),group:t,order:3}),a.MenuRegistry.appendMenuItem(a.MenuId.EditorContext,{submenu:a.MenuId.EditorContextShare,title:b.localize2(15,"Share"),group:"11_share",order:-1,when:i.ContextKeyExpr.and(i.ContextKeyExpr.notEquals("resourceScheme","output"),w.EditorContextKeys.editorTextFocus)}),a.MenuRegistry.appendMenuItem(a.MenuId.EditorTitleContext,{submenu:a.MenuId.EditorTitleContextShare,title:b.localize2(16,"Share"),group:"11_share",order:-1}),a.MenuRegistry.appendMenuItem(a.MenuId.ExplorerContext,{submenu:a.MenuId.ExplorerContextShare,title:b.localize2(17,"Share"),group:"11_share",order:-1}),e.PasteAction=v?u(new y.MultiCommand({id:"editor.action.clipboardPasteAction",precondition:void 0,kbOpts:D.isNative?{primary:2100,win:{primary:2100,secondary:[1043]},linux:{primary:2100,secondary:[1043]},weight:100}:void 0,menuOpts:[{menuId:a.MenuId.MenubarEditMenu,group:"2_ccp",title:b.localize(8,null),order:4},{menuId:a.MenuId.EditorContext,group:t,title:b.localize(9,null),when:w.EditorContextKeys.writable,order:4},{menuId:a.MenuId.CommandPalette,group:"",title:b.localize(10,null),order:1},{menuId:a.MenuId.SimpleEditorContext,group:t,title:b.localize(11,null),when:w.EditorContextKeys.writable,order:4}]})):void 0;class d extends y.EditorAction{constructor(){super({id:"editor.action.clipboardCopyWithSyntaxHighlightingAction",label:b.localize(12,null),alias:"Copy With Syntax Highlighting",precondition:void 0,kbOpts:{kbExpr:w.EditorContextKeys.textInputFocus,primary:0,weight:100}})}run(o,g){!g.hasModel()||!g.getOption(37)&&g.getSelection().isEmpty()||(L.CopyOptions.forceCopyWithSyntaxHighlighting=!0,g.focus(),g.getContainerDomNode().ownerDocument.execCommand("copy"),L.CopyOptions.forceCopyWithSyntaxHighlighting=!1)}}function r(l,o){l&&(l.addImplementation(1e4,"code-editor",(g,c)=>{const f=g.get(p.ICodeEditorService).getFocusedCodeEditor();if(f&&f.hasTextFocus()){const _=f.getOption(37),S=f.getSelection();return S&&S.isEmpty()&&!_||f.getContainerDomNode().ownerDocument.execCommand(o),!0}return!1}),l.addImplementation(0,"generic-dom",(g,c)=>((0,k.getActiveDocument)().execCommand(o),!0)))}r(e.CutAction,"cut"),r(e.CopyAction,"copy"),e.PasteAction&&(e.PasteAction.addImplementation(1e4,"code-editor",(l,o)=>{var g,c;const f=l.get(p.ICodeEditorService),_=l.get(s.IClipboardService),S=f.getFocusedCodeEditor();return S&&S.hasTextFocus()?S.getContainerDomNode().ownerDocument.execCommand("paste")?(c=(g=C.CopyPasteController.get(S))===null||g===void 0?void 0:g.finishedPaste())!==null&&c!==void 0?c:Promise.resolve():D.isWeb?(async()=>{const E=await _.readText();if(E!==""){const T=L.InMemoryClipboardMetadataManager.INSTANCE.get(E);let N=!1,A=null,O=null;T&&(N=S.getOption(37)&&!!T.isFromEmptySelection,A=typeof T.multicursorText<"u"?T.multicursorText:null,O=T.mode),S.trigger("keyboard","paste",{text:E,pasteOnNewLine:N,multicursorText:A,mode:O})}})():!0:!1}),e.PasteAction.addImplementation(0,"generic-dom",(l,o)=>((0,k.getActiveDocument)().execCommand("paste"),!0))),h&&(0,y.registerEditorAction)(d)}),define(te[971],ie([1,0,94,16,19,141,409,280,695]),function(J,e,m,k,D,L,y,p,w){"use strict";var C;Object.defineProperty(e,"__esModule",{value:!0}),(0,k.registerEditorContribution)(y.CopyPasteController.ID,y.CopyPasteController,0),(0,L.registerEditorFeature)(p.DefaultPasteProvidersFeature),(0,k.registerEditorCommand)(new class extends k.EditorCommand{constructor(){super({id:y.changePasteTypeCommandId,precondition:y.pasteWidgetVisibleCtx,kbOpts:{weight:100,primary:2137}})}runEditorCommand(b,a){var s;return(s=y.CopyPasteController.get(a))===null||s===void 0?void 0:s.changePasteType()}}),(0,k.registerEditorCommand)(new class extends k.EditorCommand{constructor(){super({id:"editor.hidePasteWidget",precondition:y.pasteWidgetVisibleCtx,kbOpts:{weight:100,primary:9}})}runEditorCommand(b,a){var s;(s=y.CopyPasteController.get(a))===null||s===void 0||s.clearWidgets()}}),(0,k.registerEditorAction)((C=class extends k.EditorAction{constructor(){super({id:"editor.action.pasteAs",label:w.localize(1,null),alias:"Paste As...",precondition:D.EditorContextKeys.writable,metadata:{description:"Paste as",args:[{name:"args",schema:C.argsSchema}]}})}run(a,s,i){var t;let n=typeof i?.kind=="string"?i.kind:void 0;return!n&&i&&(n=typeof i.id=="string"?i.id:void 0),(t=y.CopyPasteController.get(s))===null||t===void 0?void 0:t.pasteAs(n?new m.HierarchicalKind(n):void 0)}},C.argsSchema={type:"object",properties:{kind:{type:"string",description:w.localize(0,null)}}},C)),(0,k.registerEditorAction)(class extends k.EditorAction{constructor(){super({id:"editor.action.pasteAsText",label:w.localize(2,null),alias:"Paste as Text",precondition:D.EditorContextKeys.writable})}run(b,a){var s;return(s=y.CopyPasteController.get(a))===null||s===void 0?void 0:s.pasteAs({providerId:p.DefaultTextPasteOrDropEditProvider.id})}})}),define(te[972],ie([1,0,16,260,141,280,698,105,39,948]),function(J,e,m,k,D,L,y,p,w,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),(0,m.registerEditorContribution)(C.DropIntoEditorController.ID,C.DropIntoEditorController,2),(0,D.registerEditorFeature)(L.DefaultDropProvidersFeature),(0,m.registerEditorCommand)(new class extends m.EditorCommand{constructor(){super({id:C.changeDropTypeCommandId,precondition:C.dropWidgetVisibleCtx,kbOpts:{weight:100,primary:2137}})}runEditorCommand(b,a,s){var i;(i=C.DropIntoEditorController.get(a))===null||i===void 0||i.changeDropType()}}),(0,m.registerEditorCommand)(new class extends m.EditorCommand{constructor(){super({id:"editor.hideDropWidget",precondition:C.dropWidgetVisibleCtx,kbOpts:{weight:100,primary:9}})}runEditorCommand(b,a,s){var i;(i=C.DropIntoEditorController.get(a))===null||i===void 0||i.clearWidgets()}}),w.Registry.as(p.Extensions.Configuration).registerConfiguration({...k.editorConfigurationBaseNode,properties:{[C.defaultProviderConfig]:{type:"object",scope:5,description:y.localize(0,null),default:{},additionalProperties:{type:"string"}}}})}),define(te[973],ie([1,0,614,96,50,11,185,33,128,743,177]),function(J,e,m,k,D,L,y,p,w,C,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RandomBasedVariableResolver=e.WorkspaceBasedVariableResolver=e.TimeBasedVariableResolver=e.CommentBasedVariableResolver=e.ClipboardBasedVariableResolver=e.ModelBasedVariableResolver=e.SelectionBasedVariableResolver=e.CompositeSnippetVariableResolver=e.KnownSnippetVariableNames=void 0,e.KnownSnippetVariableNames=Object.freeze({CURRENT_YEAR:!0,CURRENT_YEAR_SHORT:!0,CURRENT_MONTH:!0,CURRENT_DATE:!0,CURRENT_HOUR:!0,CURRENT_MINUTE:!0,CURRENT_SECOND:!0,CURRENT_DAY_NAME:!0,CURRENT_DAY_NAME_SHORT:!0,CURRENT_MONTH_NAME:!0,CURRENT_MONTH_NAME_SHORT:!0,CURRENT_SECONDS_UNIX:!0,CURRENT_TIMEZONE_OFFSET:!0,SELECTION:!0,CLIPBOARD:!0,TM_SELECTED_TEXT:!0,TM_CURRENT_LINE:!0,TM_CURRENT_WORD:!0,TM_LINE_INDEX:!0,TM_LINE_NUMBER:!0,TM_FILENAME:!0,TM_FILENAME_BASE:!0,TM_DIRECTORY:!0,TM_FILEPATH:!0,CURSOR_INDEX:!0,CURSOR_NUMBER:!0,RELATIVE_FILEPATH:!0,BLOCK_COMMENT_START:!0,BLOCK_COMMENT_END:!0,LINE_COMMENT:!0,WORKSPACE_NAME:!0,WORKSPACE_FOLDER:!0,RANDOM:!0,RANDOM_HEX:!0,UUID:!0});class a{constructor(r){this._delegates=r}resolve(r){for(const l of this._delegates){const o=l.resolve(r);if(o!==void 0)return o}}}e.CompositeSnippetVariableResolver=a;class s{constructor(r,l,o,g){this._model=r,this._selection=l,this._selectionIdx=o,this._overtypingCapturer=g}resolve(r){const{name:l}=r;if(l==="SELECTION"||l==="TM_SELECTED_TEXT"){let o=this._model.getValueInRange(this._selection)||void 0,g=this._selection.startLineNumber!==this._selection.endLineNumber;if(!o&&this._overtypingCapturer){const c=this._overtypingCapturer.getLastOvertypedInfo(this._selectionIdx);c&&(o=c.value,g=c.multiline)}if(o&&g&&r.snippet){const c=this._model.getLineContent(this._selection.startLineNumber),f=(0,L.getLeadingWhitespace)(c,0,this._selection.startColumn-1);let _=f;r.snippet.walk(I=>I===r?!1:(I instanceof w.Text&&(_=(0,L.getLeadingWhitespace)((0,L.splitLines)(I.value).pop())),!0));const S=(0,L.commonPrefixLength)(_,f);o=o.replace(/(\r\n|\r|\n)(.*)/g,(I,E,T)=>`${E}${_.substr(S)}${T}`)}return o}else{if(l==="TM_CURRENT_LINE")return this._model.getLineContent(this._selection.positionLineNumber);if(l==="TM_CURRENT_WORD"){const o=this._model.getWordAtPosition({lineNumber:this._selection.positionLineNumber,column:this._selection.positionColumn});return o&&o.word||void 0}else{if(l==="TM_LINE_INDEX")return String(this._selection.positionLineNumber-1);if(l==="TM_LINE_NUMBER")return String(this._selection.positionLineNumber);if(l==="CURSOR_INDEX")return String(this._selectionIdx);if(l==="CURSOR_NUMBER")return String(this._selectionIdx+1)}}}}e.SelectionBasedVariableResolver=s;class i{constructor(r,l){this._labelService=r,this._model=l}resolve(r){const{name:l}=r;if(l==="TM_FILENAME")return k.basename(this._model.uri.fsPath);if(l==="TM_FILENAME_BASE"){const o=k.basename(this._model.uri.fsPath),g=o.lastIndexOf(".");return g<=0?o:o.slice(0,g)}else{if(l==="TM_DIRECTORY")return k.dirname(this._model.uri.fsPath)==="."?"":this._labelService.getUriLabel((0,D.dirname)(this._model.uri));if(l==="TM_FILEPATH")return this._labelService.getUriLabel(this._model.uri);if(l==="RELATIVE_FILEPATH")return this._labelService.getUriLabel(this._model.uri,{relative:!0,noPrefix:!0})}}}e.ModelBasedVariableResolver=i;class t{constructor(r,l,o,g){this._readClipboardText=r,this._selectionIdx=l,this._selectionCount=o,this._spread=g}resolve(r){if(r.name!=="CLIPBOARD")return;const l=this._readClipboardText();if(l){if(this._spread){const o=l.split(/\r\n|\n|\r/).filter(g=>!(0,L.isFalsyOrWhitespace)(g));if(o.length===this._selectionCount)return o[this._selectionIdx]}return l}}}e.ClipboardBasedVariableResolver=t;let n=class{constructor(r,l,o){this._model=r,this._selection=l,this._languageConfigurationService=o}resolve(r){const{name:l}=r,o=this._model.getLanguageIdAtPosition(this._selection.selectionStartLineNumber,this._selection.selectionStartColumn),g=this._languageConfigurationService.getLanguageConfiguration(o).comments;if(g){if(l==="LINE_COMMENT")return g.lineCommentToken||void 0;if(l==="BLOCK_COMMENT_START")return g.blockCommentStartToken||void 0;if(l==="BLOCK_COMMENT_END")return g.blockCommentEndToken||void 0}}};e.CommentBasedVariableResolver=n,e.CommentBasedVariableResolver=n=Ie([he(2,p.ILanguageConfigurationService)],n);class h{constructor(){this._date=new Date}resolve(r){const{name:l}=r;if(l==="CURRENT_YEAR")return String(this._date.getFullYear());if(l==="CURRENT_YEAR_SHORT")return String(this._date.getFullYear()).slice(-2);if(l==="CURRENT_MONTH")return String(this._date.getMonth().valueOf()+1).padStart(2,"0");if(l==="CURRENT_DATE")return String(this._date.getDate().valueOf()).padStart(2,"0");if(l==="CURRENT_HOUR")return String(this._date.getHours().valueOf()).padStart(2,"0");if(l==="CURRENT_MINUTE")return String(this._date.getMinutes().valueOf()).padStart(2,"0");if(l==="CURRENT_SECOND")return String(this._date.getSeconds().valueOf()).padStart(2,"0");if(l==="CURRENT_DAY_NAME")return h.dayNames[this._date.getDay()];if(l==="CURRENT_DAY_NAME_SHORT")return h.dayNamesShort[this._date.getDay()];if(l==="CURRENT_MONTH_NAME")return h.monthNames[this._date.getMonth()];if(l==="CURRENT_MONTH_NAME_SHORT")return h.monthNamesShort[this._date.getMonth()];if(l==="CURRENT_SECONDS_UNIX")return String(Math.floor(this._date.getTime()/1e3));if(l==="CURRENT_TIMEZONE_OFFSET"){const o=this._date.getTimezoneOffset(),g=o>0?"-":"+",c=Math.trunc(Math.abs(o/60)),f=c<10?"0"+c:c,_=Math.abs(o)-c*60,S=_<10?"0"+_:_;return g+f+":"+S}}}e.TimeBasedVariableResolver=h,h.dayNames=[C.localize(0,null),C.localize(1,null),C.localize(2,null),C.localize(3,null),C.localize(4,null),C.localize(5,null),C.localize(6,null)],h.dayNamesShort=[C.localize(7,null),C.localize(8,null),C.localize(9,null),C.localize(10,null),C.localize(11,null),C.localize(12,null),C.localize(13,null)],h.monthNames=[C.localize(14,null),C.localize(15,null),C.localize(16,null),C.localize(17,null),C.localize(18,null),C.localize(19,null),C.localize(20,null),C.localize(21,null),C.localize(22,null),C.localize(23,null),C.localize(24,null),C.localize(25,null)],h.monthNamesShort=[C.localize(26,null),C.localize(27,null),C.localize(28,null),C.localize(29,null),C.localize(30,null),C.localize(31,null),C.localize(32,null),C.localize(33,null),C.localize(34,null),C.localize(35,null),C.localize(36,null),C.localize(37,null)];class v{constructor(r){this._workspaceService=r}resolve(r){if(!this._workspaceService)return;const l=(0,b.toWorkspaceIdentifier)(this._workspaceService.getWorkspace());if(!(0,b.isEmptyWorkspaceIdentifier)(l)){if(r.name==="WORKSPACE_NAME")return this._resolveWorkspaceName(l);if(r.name==="WORKSPACE_FOLDER")return this._resoveWorkspacePath(l)}}_resolveWorkspaceName(r){if((0,b.isSingleFolderWorkspaceIdentifier)(r))return k.basename(r.uri.path);let l=k.basename(r.configPath.path);return l.endsWith(b.WORKSPACE_EXTENSION)&&(l=l.substr(0,l.length-b.WORKSPACE_EXTENSION.length-1)),l}_resoveWorkspacePath(r){if((0,b.isSingleFolderWorkspaceIdentifier)(r))return(0,m.normalizeDriveLetter)(r.uri.fsPath);const l=k.basename(r.configPath.path);let o=r.configPath.fsPath;return o.endsWith(l)&&(o=o.substr(0,o.length-l.length-1)),o?(0,m.normalizeDriveLetter)(o):"/"}}e.WorkspaceBasedVariableResolver=v;class u{resolve(r){const{name:l}=r;if(l==="RANDOM")return Math.random().toString().slice(-6);if(l==="RANDOM_HEX")return Math.random().toString(16).slice(-6);if(l==="UUID")return(0,y.generateUuid)()}}e.RandomBasedVariableResolver=u}),define(te[410],ie([1,0,13,2,11,71,5,24,33,37,172,177,128,973,499]),function(J,e,m,k,D,L,y,p,w,C,b,a,s,i){"use strict";var t;Object.defineProperty(e,"__esModule",{value:!0}),e.SnippetSession=e.OneSnippet=void 0;class n{constructor(d,r,l){this._editor=d,this._snippet=r,this._snippetLineLeadingWhitespace=l,this._offset=-1,this._nestingLevel=1,this._placeholderGroups=(0,m.groupBy)(r.placeholders,s.Placeholder.compareByIndex),this._placeholderGroupsIdx=-1}initialize(d){this._offset=d.newPosition}dispose(){this._placeholderDecorations&&this._editor.removeDecorations([...this._placeholderDecorations.values()]),this._placeholderGroups.length=0}_initDecorations(){if(this._offset===-1)throw new Error("Snippet not initialized!");if(this._placeholderDecorations)return;this._placeholderDecorations=new Map;const d=this._editor.getModel();this._editor.changeDecorations(r=>{for(const l of this._snippet.placeholders){const o=this._snippet.offset(l),g=this._snippet.fullLen(l),c=y.Range.fromPositions(d.getPositionAt(this._offset+o),d.getPositionAt(this._offset+o+g)),f=l.isFinalTabstop?n._decor.inactiveFinal:n._decor.inactive,_=r.addDecoration(c,f);this._placeholderDecorations.set(l,_)}})}move(d){if(!this._editor.hasModel())return[];if(this._initDecorations(),this._placeholderGroupsIdx>=0){const o=[];for(const g of this._placeholderGroups[this._placeholderGroupsIdx])if(g.transform){const c=this._placeholderDecorations.get(g),f=this._editor.getModel().getDecorationRange(c),_=this._editor.getModel().getValueInRange(f),S=g.transform.resolve(_).split(/\r\n|\r|\n/);for(let I=1;I<S.length;I++)S[I]=this._editor.getModel().normalizeIndentation(this._snippetLineLeadingWhitespace+S[I]);o.push(L.EditOperation.replace(f,S.join(this._editor.getModel().getEOL())))}o.length>0&&this._editor.executeEdits("snippet.placeholderTransform",o)}let r=!1;d===!0&&this._placeholderGroupsIdx<this._placeholderGroups.length-1?(this._placeholderGroupsIdx+=1,r=!0):d===!1&&this._placeholderGroupsIdx>0&&(this._placeholderGroupsIdx-=1,r=!0);const l=this._editor.getModel().changeDecorations(o=>{const g=new Set,c=[];for(const f of this._placeholderGroups[this._placeholderGroupsIdx]){const _=this._placeholderDecorations.get(f),S=this._editor.getModel().getDecorationRange(_);c.push(new p.Selection(S.startLineNumber,S.startColumn,S.endLineNumber,S.endColumn)),r=r&&this._hasPlaceholderBeenCollapsed(f),o.changeDecorationOptions(_,f.isFinalTabstop?n._decor.activeFinal:n._decor.active),g.add(f);for(const I of this._snippet.enclosingPlaceholders(f)){const E=this._placeholderDecorations.get(I);o.changeDecorationOptions(E,I.isFinalTabstop?n._decor.activeFinal:n._decor.active),g.add(I)}}for(const[f,_]of this._placeholderDecorations)g.has(f)||o.changeDecorationOptions(_,f.isFinalTabstop?n._decor.inactiveFinal:n._decor.inactive);return c});return r?this.move(d):l??[]}_hasPlaceholderBeenCollapsed(d){let r=d;for(;r;){if(r instanceof s.Placeholder){const l=this._placeholderDecorations.get(r);if(this._editor.getModel().getDecorationRange(l).isEmpty()&&r.toString().length>0)return!0}r=r.parent}return!1}get isAtFirstPlaceholder(){return this._placeholderGroupsIdx<=0||this._placeholderGroups.length===0}get isAtLastPlaceholder(){return this._placeholderGroupsIdx===this._placeholderGroups.length-1}get hasPlaceholder(){return this._snippet.placeholders.length>0}get isTrivialSnippet(){if(this._snippet.placeholders.length===0)return!0;if(this._snippet.placeholders.length===1){const[d]=this._snippet.placeholders;if(d.isFinalTabstop&&this._snippet.rightMostDescendant===d)return!0}return!1}computePossibleSelections(){const d=new Map;for(const r of this._placeholderGroups){let l;for(const o of r){if(o.isFinalTabstop)break;l||(l=[],d.set(o.index,l));const g=this._placeholderDecorations.get(o),c=this._editor.getModel().getDecorationRange(g);if(!c){d.delete(o.index);break}l.push(c)}}return d}get activeChoice(){if(!this._placeholderDecorations)return;const d=this._placeholderGroups[this._placeholderGroupsIdx][0];if(!d?.choice)return;const r=this._placeholderDecorations.get(d);if(!r)return;const l=this._editor.getModel().getDecorationRange(r);if(l)return{range:l,choice:d.choice}}get hasChoice(){let d=!1;return this._snippet.walk(r=>(d=r instanceof s.Choice,!d)),d}merge(d){const r=this._editor.getModel();this._nestingLevel*=10,this._editor.changeDecorations(l=>{for(const o of this._placeholderGroups[this._placeholderGroupsIdx]){const g=d.shift();console.assert(g._offset!==-1),console.assert(!g._placeholderDecorations);const c=g._snippet.placeholderInfo.last.index;for(const _ of g._snippet.placeholderInfo.all)_.isFinalTabstop?_.index=o.index+(c+1)/this._nestingLevel:_.index=o.index+_.index/this._nestingLevel;this._snippet.replace(o,g._snippet.children);const f=this._placeholderDecorations.get(o);l.removeDecoration(f),this._placeholderDecorations.delete(o);for(const _ of g._snippet.placeholders){const S=g._snippet.offset(_),I=g._snippet.fullLen(_),E=y.Range.fromPositions(r.getPositionAt(g._offset+S),r.getPositionAt(g._offset+S+I)),T=l.addDecoration(E,n._decor.inactive);this._placeholderDecorations.set(_,T)}}this._placeholderGroups=(0,m.groupBy)(this._snippet.placeholders,s.Placeholder.compareByIndex)})}}e.OneSnippet=n,n._decor={active:C.ModelDecorationOptions.register({description:"snippet-placeholder-1",stickiness:0,className:"snippet-placeholder"}),inactive:C.ModelDecorationOptions.register({description:"snippet-placeholder-2",stickiness:1,className:"snippet-placeholder"}),activeFinal:C.ModelDecorationOptions.register({description:"snippet-placeholder-3",stickiness:1,className:"finish-snippet-placeholder"}),inactiveFinal:C.ModelDecorationOptions.register({description:"snippet-placeholder-4",stickiness:1,className:"finish-snippet-placeholder"})};const h={overwriteBefore:0,overwriteAfter:0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0};let v=t=class{static adjustWhitespace(d,r,l,o,g){const c=d.getLineContent(r.lineNumber),f=(0,D.getLeadingWhitespace)(c,0,r.column-1);let _;return o.walk(S=>{if(!(S instanceof s.Text)||S.parent instanceof s.Choice||g&&!g.has(S))return!0;const I=S.value.split(/\r\n|\r|\n/);if(l){const T=o.offset(S);if(T===0)I[0]=d.normalizeIndentation(I[0]);else{_=_??o.toString();const N=_.charCodeAt(T-1);(N===10||N===13)&&(I[0]=d.normalizeIndentation(f+I[0]))}for(let N=1;N<I.length;N++)I[N]=d.normalizeIndentation(f+I[N])}const E=I.join(d.getEOL());return E!==S.value&&(S.parent.replace(S,[new s.Text(E)]),_=void 0),!0}),f}static adjustSelection(d,r,l,o){if(l!==0||o!==0){const{positionLineNumber:g,positionColumn:c}=r,f=c-l,_=c+o,S=d.validateRange({startLineNumber:g,startColumn:f,endLineNumber:g,endColumn:_});r=p.Selection.createWithDirection(S.startLineNumber,S.startColumn,S.endLineNumber,S.endColumn,r.getDirection())}return r}static createEditsAndSnippetsFromSelections(d,r,l,o,g,c,f,_,S){const I=[],E=[];if(!d.hasModel())return{edits:I,snippets:E};const T=d.getModel(),N=d.invokeWithinContext(B=>B.get(a.IWorkspaceContextService)),A=d.invokeWithinContext(B=>new i.ModelBasedVariableResolver(B.get(b.ILabelService),T)),O=()=>f,M=T.getValueInRange(t.adjustSelection(T,d.getSelection(),l,0)),P=T.getValueInRange(t.adjustSelection(T,d.getSelection(),0,o)),x=T.getLineFirstNonWhitespaceColumn(d.getSelection().positionLineNumber),R=d.getSelections().map((B,H)=>({selection:B,idx:H})).sort((B,H)=>y.Range.compareRangesUsingStarts(B.selection,H.selection));for(const{selection:B,idx:H}of R){let V=t.adjustSelection(T,B,l,0),q=t.adjustSelection(T,B,0,o);M!==T.getValueInRange(V)&&(V=B),P!==T.getValueInRange(q)&&(q=B);const K=B.setStartPosition(V.startLineNumber,V.startColumn).setEndPosition(q.endLineNumber,q.endColumn),U=new s.SnippetParser().parse(r,!0,g),$=K.getStartPosition(),se=t.adjustWhitespace(T,$,c||H>0&&x!==T.getLineFirstNonWhitespaceColumn(B.positionLineNumber),U);U.resolveVariables(new i.CompositeSnippetVariableResolver([A,new i.ClipboardBasedVariableResolver(O,H,R.length,d.getOption(79)==="spread"),new i.SelectionBasedVariableResolver(T,B,H,_),new i.CommentBasedVariableResolver(T,B,S),new i.TimeBasedVariableResolver,new i.WorkspaceBasedVariableResolver(N),new i.RandomBasedVariableResolver])),I[H]=L.EditOperation.replace(K,U.toString()),I[H].identifier={major:H,minor:0},I[H]._isTracked=!0,E[H]=new n(d,U,se)}return{edits:I,snippets:E}}static createEditsAndSnippetsFromEdits(d,r,l,o,g,c,f){if(!d.hasModel()||r.length===0)return{edits:[],snippets:[]};const _=[],S=d.getModel(),I=new s.SnippetParser,E=new s.TextmateSnippet,T=new i.CompositeSnippetVariableResolver([d.invokeWithinContext(A=>new i.ModelBasedVariableResolver(A.get(b.ILabelService),S)),new i.ClipboardBasedVariableResolver(()=>g,0,d.getSelections().length,d.getOption(79)==="spread"),new i.SelectionBasedVariableResolver(S,d.getSelection(),0,c),new i.CommentBasedVariableResolver(S,d.getSelection(),f),new i.TimeBasedVariableResolver,new i.WorkspaceBasedVariableResolver(d.invokeWithinContext(A=>A.get(a.IWorkspaceContextService))),new i.RandomBasedVariableResolver]);r=r.sort((A,O)=>y.Range.compareRangesUsingStarts(A.range,O.range));let N=0;for(let A=0;A<r.length;A++){const{range:O,template:M}=r[A];if(A>0){const H=r[A-1].range,V=y.Range.fromPositions(H.getEndPosition(),O.getStartPosition()),q=new s.Text(S.getValueInRange(V));E.appendChild(q),N+=q.value.length}const P=I.parseFragment(M,E);t.adjustWhitespace(S,O.getStartPosition(),!0,E,new Set(P)),E.resolveVariables(T);const x=E.toString(),R=x.slice(N);N=x.length;const B=L.EditOperation.replace(O,R);B.identifier={major:A,minor:0},B._isTracked=!0,_.push(B)}return I.ensureFinalTabstop(E,l,!0),{edits:_,snippets:[new n(d,E,"")]}}constructor(d,r,l=h,o){this._editor=d,this._template=r,this._options=l,this._languageConfigurationService=o,this._templateMerges=[],this._snippets=[]}dispose(){(0,k.dispose)(this._snippets)}_logInfo(){return`template="${this._template}", merged_templates="${this._templateMerges.join(" -> ")}"`}insert(){if(!this._editor.hasModel())return;const{edits:d,snippets:r}=typeof this._template=="string"?t.createEditsAndSnippetsFromSelections(this._editor,this._template,this._options.overwriteBefore,this._options.overwriteAfter,!1,this._options.adjustWhitespace,this._options.clipboardText,this._options.overtypingCapturer,this._languageConfigurationService):t.createEditsAndSnippetsFromEdits(this._editor,this._template,!1,this._options.adjustWhitespace,this._options.clipboardText,this._options.overtypingCapturer,this._languageConfigurationService);this._snippets=r,this._editor.executeEdits("snippet",d,l=>{const o=l.filter(g=>!!g.identifier);for(let g=0;g<r.length;g++)r[g].initialize(o[g].textChange);return this._snippets[0].hasPlaceholder?this._move(!0):o.map(g=>p.Selection.fromPositions(g.range.getEndPosition()))}),this._editor.revealRange(this._editor.getSelections()[0])}merge(d,r=h){if(!this._editor.hasModel())return;this._templateMerges.push([this._snippets[0]._nestingLevel,this._snippets[0]._placeholderGroupsIdx,d]);const{edits:l,snippets:o}=t.createEditsAndSnippetsFromSelections(this._editor,d,r.overwriteBefore,r.overwriteAfter,!0,r.adjustWhitespace,r.clipboardText,r.overtypingCapturer,this._languageConfigurationService);this._editor.executeEdits("snippet",l,g=>{const c=g.filter(_=>!!_.identifier);for(let _=0;_<o.length;_++)o[_].initialize(c[_].textChange);const f=o[0].isTrivialSnippet;if(!f){for(const _ of this._snippets)_.merge(o);console.assert(o.length===0)}return this._snippets[0].hasPlaceholder&&!f?this._move(void 0):c.map(_=>p.Selection.fromPositions(_.range.getEndPosition()))})}next(){const d=this._move(!0);this._editor.setSelections(d),this._editor.revealPositionInCenterIfOutsideViewport(d[0].getPosition())}prev(){const d=this._move(!1);this._editor.setSelections(d),this._editor.revealPositionInCenterIfOutsideViewport(d[0].getPosition())}_move(d){const r=[];for(const l of this._snippets){const o=l.move(d);r.push(...o)}return r}get isAtFirstPlaceholder(){return this._snippets[0].isAtFirstPlaceholder}get isAtLastPlaceholder(){return this._snippets[0].isAtLastPlaceholder}get hasPlaceholder(){return this._snippets[0].hasPlaceholder}get hasChoice(){return this._snippets[0].hasChoice}get activeChoice(){return this._snippets[0].activeChoice}isSelectionWithinPlaceholders(){if(!this.hasPlaceholder)return!1;const d=this._editor.getSelections();if(d.length<this._snippets.length)return!1;const r=new Map;for(const l of this._snippets){const o=l.computePossibleSelections();if(r.size===0)for(const[g,c]of o){c.sort(y.Range.compareRangesUsingStarts);for(const f of d)if(c[0].containsRange(f)){r.set(g,[]);break}}if(r.size===0)return!1;r.forEach((g,c)=>{g.push(...o.get(c))})}d.sort(y.Range.compareRangesUsingStarts);for(const[l,o]of r){if(o.length!==d.length){r.delete(l);continue}o.sort(y.Range.compareRangesUsingStarts);for(let g=0;g<o.length;g++)if(!o[g].containsRange(d[g])){r.delete(l);continue}}return r.size>0}};e.SnippetSession=v,e.SnippetSession=v=t=Ie([he(3,w.ILanguageConfigurationService)],v)}),define(te[211],ie([1,0,2,21,16,9,19,33,18,149,742,14,61,410]),function(J,e,m,k,D,L,y,p,w,C,b,a,s,i){"use strict";var t;Object.defineProperty(e,"__esModule",{value:!0}),e.SnippetController2=void 0;const n={overwriteBefore:0,overwriteAfter:0,undoStopBefore:!0,undoStopAfter:!0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0};let h=t=class{static get(d){return d.getContribution(t.ID)}constructor(d,r,l,o,g){this._editor=d,this._logService=r,this._languageFeaturesService=l,this._languageConfigurationService=g,this._snippetListener=new m.DisposableStore,this._modelVersionId=-1,this._inSnippet=t.InSnippetMode.bindTo(o),this._hasNextTabstop=t.HasNextTabstop.bindTo(o),this._hasPrevTabstop=t.HasPrevTabstop.bindTo(o)}dispose(){var d;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),(d=this._session)===null||d===void 0||d.dispose(),this._snippetListener.dispose()}insert(d,r){try{this._doInsert(d,typeof r>"u"?n:{...n,...r})}catch(l){this.cancel(),this._logService.error(l),this._logService.error("snippet_error"),this._logService.error("insert_template=",d),this._logService.error("existing_template=",this._session?this._session._logInfo():"<no_session>")}}_doInsert(d,r){var l;if(this._editor.hasModel()){if(this._snippetListener.clear(),r.undoStopBefore&&this._editor.getModel().pushStackElement(),this._session&&typeof d!="string"&&this.cancel(),this._session?((0,k.assertType)(typeof d=="string"),this._session.merge(d,r)):(this._modelVersionId=this._editor.getModel().getAlternativeVersionId(),this._session=new i.SnippetSession(this._editor,d,r,this._languageConfigurationService),this._session.insert()),r.undoStopAfter&&this._editor.getModel().pushStackElement(),!((l=this._session)===null||l===void 0)&&l.hasChoice){const o={_debugDisplayName:"snippetChoiceCompletions",provideCompletionItems:(I,E)=>{if(!this._session||I!==this._editor.getModel()||!L.Position.equals(this._editor.getPosition(),E))return;const{activeChoice:T}=this._session;if(!T||T.choice.options.length===0)return;const N=I.getValueInRange(T.range),A=!!T.choice.options.find(M=>M.value===N),O=[];for(let M=0;M<T.choice.options.length;M++){const P=T.choice.options[M];O.push({kind:13,label:P.value,insertText:P.value,sortText:"a".repeat(M+1),range:T.range,filterText:A?`${N}_${P.value}`:void 0,command:{id:"jumpToNextSnippetPlaceholder",title:(0,b.localize)(3,null)}})}return{suggestions:O}}},g=this._editor.getModel();let c,f=!1;const _=()=>{c?.dispose(),f=!1},S=()=>{f||(c=this._languageFeaturesService.completionProvider.register({language:g.getLanguageId(),pattern:g.uri.fsPath,scheme:g.uri.scheme,exclusive:!0},o),this._snippetListener.add(c),f=!0)};this._choiceCompletions={provider:o,enable:S,disable:_}}this._updateState(),this._snippetListener.add(this._editor.onDidChangeModelContent(o=>o.isFlush&&this.cancel())),this._snippetListener.add(this._editor.onDidChangeModel(()=>this.cancel())),this._snippetListener.add(this._editor.onDidChangeCursorSelection(()=>this._updateState()))}}_updateState(){if(!(!this._session||!this._editor.hasModel())){if(this._modelVersionId===this._editor.getModel().getAlternativeVersionId())return this.cancel();if(!this._session.hasPlaceholder)return this.cancel();if(this._session.isAtLastPlaceholder||!this._session.isSelectionWithinPlaceholders())return this._editor.getModel().pushStackElement(),this.cancel();this._inSnippet.set(!0),this._hasPrevTabstop.set(!this._session.isAtFirstPlaceholder),this._hasNextTabstop.set(!this._session.isAtLastPlaceholder),this._handleChoice()}}_handleChoice(){var d;if(!this._session||!this._editor.hasModel()){this._currentChoice=void 0;return}const{activeChoice:r}=this._session;if(!r||!this._choiceCompletions){(d=this._choiceCompletions)===null||d===void 0||d.disable(),this._currentChoice=void 0;return}this._currentChoice!==r.choice&&(this._currentChoice=r.choice,this._choiceCompletions.enable(),queueMicrotask(()=>{(0,C.showSimpleSuggestions)(this._editor,this._choiceCompletions.provider)}))}finish(){for(;this._inSnippet.get();)this.next()}cancel(d=!1){var r;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),this._snippetListener.clear(),this._currentChoice=void 0,(r=this._session)===null||r===void 0||r.dispose(),this._session=void 0,this._modelVersionId=-1,d&&this._editor.setSelections([this._editor.getSelection()])}prev(){var d;(d=this._session)===null||d===void 0||d.prev(),this._updateState()}next(){var d;(d=this._session)===null||d===void 0||d.next(),this._updateState()}isInSnippet(){return!!this._inSnippet.get()}};e.SnippetController2=h,h.ID="snippetController2",h.InSnippetMode=new a.RawContextKey("inSnippetMode",!1,(0,b.localize)(0,null)),h.HasNextTabstop=new a.RawContextKey("hasNextTabstop",!1,(0,b.localize)(1,null)),h.HasPrevTabstop=new a.RawContextKey("hasPrevTabstop",!1,(0,b.localize)(2,null)),e.SnippetController2=h=t=Ie([he(1,s.ILogService),he(2,w.ILanguageFeaturesService),he(3,a.IContextKeyService),he(4,p.ILanguageConfigurationService)],h),(0,D.registerEditorContribution)(h.ID,h,4);const v=D.EditorCommand.bindToContribution(h.get);(0,D.registerEditorCommand)(new v({id:"jumpToNextSnippetPlaceholder",precondition:a.ContextKeyExpr.and(h.InSnippetMode,h.HasNextTabstop),handler:u=>u.next(),kbOpts:{weight:130,kbExpr:y.EditorContextKeys.editorTextFocus,primary:2}})),(0,D.registerEditorCommand)(new v({id:"jumpToPrevSnippetPlaceholder",precondition:a.ContextKeyExpr.and(h.InSnippetMode,h.HasPrevTabstop),handler:u=>u.prev(),kbOpts:{weight:130,kbExpr:y.EditorContextKeys.editorTextFocus,primary:1026}})),(0,D.registerEditorCommand)(new v({id:"leaveSnippet",precondition:h.InSnippetMode,handler:u=>u.cancel(!0),kbOpts:{weight:130,kbExpr:y.EditorContextKeys.editorTextFocus,primary:9,secondary:[1033]}})),(0,D.registerEditorCommand)(new v({id:"acceptSnippet",precondition:h.InSnippetMode,handler:u=>u.finish()}))}),define(te[974],ie([1,0,13,66,12,2,32,11,21,71,9,5,24,29,33,195,834,123,196,211,27,8,233,122]),function(J,e,m,k,D,L,y,p,w,C,b,a,s,i,t,n,h,v,u,d,r,l,o,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlineCompletionsModel=e.VersionIdChangeReason=void 0,e.getSecondaryEdits=_;var c;(function(E){E[E.Undo=0]="Undo",E[E.Redo=1]="Redo",E[E.AcceptWord=2]="AcceptWord",E[E.Other=3]="Other"})(c||(e.VersionIdChangeReason=c={}));let f=class extends L.Disposable{get isAcceptingPartially(){return this._isAcceptingPartially}constructor(T,N,A,O,M,P,x,R,B,H,V,q){super(),this.textModel=T,this.selectedSuggestItem=N,this.textModelVersionId=A,this._positions=O,this._debounceValue=M,this._suggestPreviewEnabled=P,this._suggestPreviewMode=x,this._inlineSuggestMode=R,this._enabled=B,this._instantiationService=H,this._commandService=V,this._languageConfigurationService=q,this._source=this._register(this._instantiationService.createInstance(h.InlineCompletionsSource,this.textModel,this.textModelVersionId,this._debounceValue)),this._isActive=(0,y.observableValue)(this,!1),this._forceUpdateSignal=(0,y.observableSignal)("forceUpdate"),this._selectedInlineCompletionId=(0,y.observableValue)(this,void 0),this._primaryPosition=(0,y.derived)(this,U=>{var $;return($=this._positions.read(U)[0])!==null&&$!==void 0?$:new b.Position(1,1)}),this._isAcceptingPartially=!1,this._preserveCurrentCompletionReasons=new Set([c.Redo,c.Undo,c.AcceptWord]),this._fetchInlineCompletions=(0,y.derivedHandleChanges)({owner:this,createEmptyChangeSummary:()=>({preserveCurrentCompletion:!1,inlineCompletionTriggerKind:i.InlineCompletionTriggerKind.Automatic}),handleChange:(U,$)=>(U.didChange(this.textModelVersionId)&&this._preserveCurrentCompletionReasons.has(U.change)?$.preserveCurrentCompletion=!0:U.didChange(this._forceUpdateSignal)&&($.inlineCompletionTriggerKind=U.change),!0)},(U,$)=>{if(this._forceUpdateSignal.read(U),!(this._enabled.read(U)&&this.selectedSuggestItem.read(U)||this._isActive.read(U))){this._source.cancelUpdate();return}this.textModelVersionId.read(U);const F=this.selectedInlineCompletion.get(),X=$.preserveCurrentCompletion||F?.forwardStable?F:void 0,Q=this._source.suggestWidgetInlineCompletions.get(),Z=this.selectedSuggestItem.read(U);if(Q&&!Z){const ge=this._source.inlineCompletions.get();(0,y.transaction)(fe=>{(!ge||Q.request.versionId>ge.request.versionId)&&this._source.inlineCompletions.set(Q.clone(),fe),this._source.clearSuggestWidgetInlineCompletions(fe)})}const ae=this._primaryPosition.read(U),ue={triggerKind:$.inlineCompletionTriggerKind,selectedSuggestionInfo:Z?.toSelectedSuggestionInfo()};return this._source.fetch(ae,ue,X)}),this._filteredInlineCompletionItems=(0,y.derived)(this,U=>{const $=this._source.inlineCompletions.read(U);if(!$)return[];const se=this._primaryPosition.read(U);return $.inlineCompletions.filter(X=>X.isVisible(this.textModel,se,U))}),this.selectedInlineCompletionIndex=(0,y.derived)(this,U=>{const $=this._selectedInlineCompletionId.read(U),se=this._filteredInlineCompletionItems.read(U),F=this._selectedInlineCompletionId===void 0?-1:se.findIndex(X=>X.semanticId===$);return F===-1?(this._selectedInlineCompletionId.set(void 0,void 0),0):F}),this.selectedInlineCompletion=(0,y.derived)(this,U=>{const $=this._filteredInlineCompletionItems.read(U),se=this.selectedInlineCompletionIndex.read(U);return $[se]}),this.lastTriggerKind=this._source.inlineCompletions.map(this,U=>U?.request.context.triggerKind),this.inlineCompletionsCount=(0,y.derived)(this,U=>{if(this.lastTriggerKind.read(U)===i.InlineCompletionTriggerKind.Explicit)return this._filteredInlineCompletionItems.read(U).length}),this.state=(0,y.derivedOpts)({owner:this,equalityComparer:(U,$)=>!U||!$?U===$:(0,n.ghostTextsOrReplacementsEqual)(U.ghostTexts,$.ghostTexts)&&U.inlineCompletion===$.inlineCompletion&&U.suggestItem===$.suggestItem},U=>{var $,se;const F=this.textModel,X=this.selectedSuggestItem.read(U);if(X){const Q=(0,o.singleTextRemoveCommonPrefix)(X.toSingleTextEdit(),F),Z=this._computeAugmentation(Q,U);if(!this._suggestPreviewEnabled.read(U)&&!Z)return;const ue=($=Z?.edit)!==null&&$!==void 0?$:Q,ge=Z?Z.edit.text.length-Q.text.length:0,fe=this._suggestPreviewMode.read(U),re=this._positions.read(U),de=[ue,..._(this.textModel,re,ue)],ee=de.map((z,Y)=>(0,o.computeGhostText)(z,F,fe,re[Y],ge)).filter(w.isDefined),W=(se=ee[0])!==null&&se!==void 0?se:new n.GhostText(ue.range.endLineNumber,[]);return{edits:de,primaryGhostText:W,ghostTexts:ee,inlineCompletion:Z?.completion,suggestItem:X}}else{if(!this._isActive.read(U))return;const Q=this.selectedInlineCompletion.read(U);if(!Q)return;const Z=Q.toSingleTextEdit(U),ae=this._inlineSuggestMode.read(U),ue=this._positions.read(U),ge=[Z,..._(this.textModel,ue,Z)],fe=ge.map((re,de)=>(0,o.computeGhostText)(re,F,ae,ue[de],0)).filter(w.isDefined);return fe[0]?{edits:ge,primaryGhostText:fe[0],ghostTexts:fe,inlineCompletion:Q,suggestItem:void 0}:void 0}}),this.ghostTexts=(0,y.derivedOpts)({owner:this,equalityComparer:n.ghostTextsOrReplacementsEqual},U=>{const $=this.state.read(U);if($)return $.ghostTexts}),this.primaryGhostText=(0,y.derivedOpts)({owner:this,equalityComparer:n.ghostTextOrReplacementEquals},U=>{const $=this.state.read(U);if($)return $?.primaryGhostText}),this._register((0,y.recomputeInitiallyAndOnChange)(this._fetchInlineCompletions));let K;this._register((0,y.autorun)(U=>{var $,se;const F=this.state.read(U),X=F?.inlineCompletion;if(X?.semanticId!==K?.semanticId&&(K=X,X)){const Q=X.inlineCompletion,Z=Q.source;(se=($=Z.provider).handleItemDidShow)===null||se===void 0||se.call($,Z.inlineCompletions,Q.sourceInlineCompletion,Q.insertText)}}))}async trigger(T){this._isActive.set(!0,T),await this._fetchInlineCompletions.get()}async triggerExplicitly(T){(0,y.subtransaction)(T,N=>{this._isActive.set(!0,N),this._forceUpdateSignal.trigger(N,i.InlineCompletionTriggerKind.Explicit)}),await this._fetchInlineCompletions.get()}stop(T){(0,y.subtransaction)(T,N=>{this._isActive.set(!1,N),this._source.clear(N)})}_computeAugmentation(T,N){const A=this.textModel,O=this._source.suggestWidgetInlineCompletions.read(N),M=O?O.inlineCompletions:[this.selectedInlineCompletion.read(N)].filter(w.isDefined);return(0,k.mapFindFirst)(M,x=>{let R=x.toSingleTextEdit(N);return R=(0,o.singleTextRemoveCommonPrefix)(R,A,a.Range.fromPositions(R.range.getStartPosition(),T.range.getEndPosition())),(0,o.singleTextEditAugments)(R,T)?{completion:x,edit:R}:void 0})}async _deltaSelectedInlineCompletionIndex(T){await this.triggerExplicitly();const N=this._filteredInlineCompletionItems.get()||[];if(N.length>0){const A=(this.selectedInlineCompletionIndex.get()+T+N.length)%N.length;this._selectedInlineCompletionId.set(N[A].semanticId,void 0)}else this._selectedInlineCompletionId.set(void 0,void 0)}async next(){await this._deltaSelectedInlineCompletionIndex(1)}async previous(){await this._deltaSelectedInlineCompletionIndex(-1)}async accept(T){var N;if(T.getModel()!==this.textModel)throw new D.BugIndicatingError;const A=this.state.get();if(!A||A.primaryGhostText.isEmpty()||!A.inlineCompletion)return;const O=A.inlineCompletion.toInlineCompletion(void 0);if(T.pushUndoStop(),O.snippetInfo)T.executeEdits("inlineSuggestion.accept",[C.EditOperation.replaceMove(O.range,""),...O.additionalTextEdits]),T.setPosition(O.snippetInfo.range.getStartPosition(),"inlineCompletionAccept"),(N=d.SnippetController2.get(T))===null||N===void 0||N.insert(O.snippetInfo.snippet,{undoStopBefore:!1});else{const M=A.edits,P=I(M).map(x=>s.Selection.fromPositions(x));T.executeEdits("inlineSuggestion.accept",[...M.map(x=>C.EditOperation.replaceMove(x.range,x.text)),...O.additionalTextEdits]),T.setSelections(P,"inlineCompletionAccept")}O.command&&O.source.addRef(),(0,y.transaction)(M=>{this._source.clear(M),this._isActive.set(!1,M)}),O.command&&(await this._commandService.executeCommand(O.command.id,...O.command.arguments||[]).then(void 0,D.onUnexpectedExternalError),O.source.removeRef())}async acceptNextWord(T){await this._acceptNext(T,(N,A)=>{const O=this.textModel.getLanguageIdAtPosition(N.lineNumber,N.column),M=this._languageConfigurationService.getLanguageConfiguration(O),P=new RegExp(M.wordDefinition.source,M.wordDefinition.flags.replace("g","")),x=A.match(P);let R=0;x&&x.index!==void 0?x.index===0?R=x[0].length:R=x.index:R=A.length;const H=/\s+/g.exec(A);return H&&H.index!==void 0&&H.index+H[0].length<R&&(R=H.index+H[0].length),R},0)}async acceptNextLine(T){await this._acceptNext(T,(N,A)=>{const O=A.match(/\n/);return O&&O.index!==void 0?O.index+1:A.length},1)}async _acceptNext(T,N,A){if(T.getModel()!==this.textModel)throw new D.BugIndicatingError;const O=this.state.get();if(!O||O.primaryGhostText.isEmpty()||!O.inlineCompletion)return;const M=O.primaryGhostText,P=O.inlineCompletion.toInlineCompletion(void 0);if(P.snippetInfo||P.filterText!==P.insertText){await this.accept(T);return}const x=M.parts[0],R=new b.Position(M.lineNumber,x.column),B=x.text,H=N(R,B);if(H===B.length&&M.parts.length===1){this.accept(T);return}const V=B.substring(0,H),q=this._positions.get(),K=q[0];P.source.addRef();try{this._isAcceptingPartially=!0;try{T.pushUndoStop();const U=a.Range.fromPositions(K,R),$=T.getModel().getValueInRange(U)+V,se=new v.SingleTextEdit(U,$),F=[se,..._(this.textModel,q,se)],X=I(F).map(Q=>s.Selection.fromPositions(Q));T.executeEdits("inlineSuggestion.accept",F.map(Q=>C.EditOperation.replaceMove(Q.range,Q.text))),T.setSelections(X,"inlineCompletionPartialAccept")}finally{this._isAcceptingPartially=!1}if(P.source.provider.handlePartialAccept){const U=a.Range.fromPositions(P.range.getStartPosition(),g.TextLength.ofText(V).addToPosition(R)),$=T.getModel().getValueInRange(U,1);P.source.provider.handlePartialAccept(P.source.inlineCompletions,P.sourceInlineCompletion,$.length,{kind:A})}}finally{P.source.removeRef()}}handleSuggestAccepted(T){var N,A;const O=(0,o.singleTextRemoveCommonPrefix)(T.toSingleTextEdit(),this.textModel),M=this._computeAugmentation(O,void 0);if(!M)return;const P=M.completion.inlineCompletion;(A=(N=P.source.provider).handlePartialAccept)===null||A===void 0||A.call(N,P.source.inlineCompletions,P.sourceInlineCompletion,O.text.length,{kind:2})}};e.InlineCompletionsModel=f,e.InlineCompletionsModel=f=Ie([he(9,l.IInstantiationService),he(10,r.ICommandService),he(11,t.ILanguageConfigurationService)],f);function _(E,T,N){if(T.length===1)return[];const A=T[0],O=T.slice(1),M=N.range.getStartPosition(),P=N.range.getEndPosition(),x=E.getValueInRange(a.Range.fromPositions(A,P)),R=(0,u.subtractPositions)(A,M);if(R.lineNumber<1)return(0,D.onUnexpectedError)(new D.BugIndicatingError(`positionWithinTextEdit line number should be bigger than 0.
			Invalid subtraction between ${A.toString()} and ${M.toString()}`)),[];const B=S(N.text,R);return O.map(H=>{const V=(0,u.addPositions)((0,u.subtractPositions)(H,M),P),q=E.getValueInRange(a.Range.fromPositions(H,V)),K=(0,p.commonPrefixLength)(x,q),U=a.Range.fromPositions(H,H.delta(0,K));return new v.SingleTextEdit(U,B)})}function S(E,T){let N="";const A=(0,p.splitLinesIncludeSeparators)(E);for(let O=T.lineNumber-1;O<A.length;O++)N+=A[O].substring(O===T.lineNumber-1?T.column-1:0);return N}function I(E){const T=m.Permutation.createSortPermutation(E,(M,P)=>a.Range.compareRangesUsingStarts(M.range,P.range)),A=new v.TextEdit(T.apply(E)).getNewRanges();return T.inverse().apply(A).map(M=>M.getEndPosition())}}),define(te[411],ie([1,0,15,20,12,7,2,11,24,111,329,112,25,14,61,65,328,149,18,76,21,256,211,258]),function(J,e,m,k,D,L,y,p,w,C,b,a,s,i,t,n,h,v,u,d,r,l,o,g){"use strict";var c;Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestModel=e.LineContext=void 0;class f{static shouldAutoTrigger(T){if(!T.hasModel())return!1;const N=T.getModel(),A=T.getPosition();N.tokenization.tokenizeIfCheap(A.lineNumber);const O=N.getWordAtPosition(A);return!(!O||O.endColumn!==A.column&&O.startColumn+1!==A.column||!isNaN(Number(O.word)))}constructor(T,N,A){this.leadingLineContent=T.getLineContent(N.lineNumber).substr(0,N.column-1),this.leadingWord=T.getWordUntilPosition(N),this.lineNumber=N.lineNumber,this.column=N.column,this.triggerOptions=A}}e.LineContext=f;function _(E,T,N){if(!T.getContextKeyValue(l.InlineCompletionContextKeys.inlineSuggestionVisible.key))return!0;const A=T.getContextKeyValue(l.InlineCompletionContextKeys.suppressSuggestions.key);return A!==void 0?!A:!E.getOption(62).suppressSuggestions}function S(E,T,N){if(!T.getContextKeyValue("inlineSuggestionVisible"))return!0;const A=T.getContextKeyValue(l.InlineCompletionContextKeys.suppressSuggestions.key);return A!==void 0?!A:!E.getOption(62).suppressSuggestions}let I=c=class{constructor(T,N,A,O,M,P,x,R,B){this._editor=T,this._editorWorkerService=N,this._clipboardService=A,this._telemetryService=O,this._logService=M,this._contextKeyService=P,this._configurationService=x,this._languageFeaturesService=R,this._envService=B,this._toDispose=new y.DisposableStore,this._triggerCharacterListener=new y.DisposableStore,this._triggerQuickSuggest=new m.TimeoutTimer,this._triggerState=void 0,this._completionDisposables=new y.DisposableStore,this._onDidCancel=new L.Emitter,this._onDidTrigger=new L.Emitter,this._onDidSuggest=new L.Emitter,this.onDidCancel=this._onDidCancel.event,this.onDidTrigger=this._onDidTrigger.event,this.onDidSuggest=this._onDidSuggest.event,this._telemetryGate=0,this._currentSelection=this._editor.getSelection()||new w.Selection(1,1,1,1),this._toDispose.add(this._editor.onDidChangeModel(()=>{this._updateTriggerCharacters(),this.cancel()})),this._toDispose.add(this._editor.onDidChangeModelLanguage(()=>{this._updateTriggerCharacters(),this.cancel()})),this._toDispose.add(this._editor.onDidChangeConfiguration(()=>{this._updateTriggerCharacters()})),this._toDispose.add(this._languageFeaturesService.completionProvider.onDidChange(()=>{this._updateTriggerCharacters(),this._updateActiveSuggestSession()}));let H=!1;this._toDispose.add(this._editor.onDidCompositionStart(()=>{H=!0})),this._toDispose.add(this._editor.onDidCompositionEnd(()=>{H=!1,this._onCompositionEnd()})),this._toDispose.add(this._editor.onDidChangeCursorSelection(V=>{H||this._onCursorChange(V)})),this._toDispose.add(this._editor.onDidChangeModelContent(()=>{!H&&this._triggerState!==void 0&&this._refilterCompletionItems()})),this._updateTriggerCharacters()}dispose(){(0,y.dispose)(this._triggerCharacterListener),(0,y.dispose)([this._onDidCancel,this._onDidSuggest,this._onDidTrigger,this._triggerQuickSuggest]),this._toDispose.dispose(),this._completionDisposables.dispose(),this.cancel()}_updateTriggerCharacters(){if(this._triggerCharacterListener.clear(),this._editor.getOption(91)||!this._editor.hasModel()||!this._editor.getOption(121))return;const T=new Map;for(const A of this._languageFeaturesService.completionProvider.all(this._editor.getModel()))for(const O of A.triggerCharacters||[]){let M=T.get(O);M||(M=new Set,M.add((0,v.getSnippetSuggestSupport)()),T.set(O,M)),M.add(A)}const N=A=>{var O;if(!S(this._editor,this._contextKeyService,this._configurationService)||f.shouldAutoTrigger(this._editor))return;if(!A){const x=this._editor.getPosition();A=this._editor.getModel().getLineContent(x.lineNumber).substr(0,x.column-1)}let M="";(0,p.isLowSurrogate)(A.charCodeAt(A.length-1))?(0,p.isHighSurrogate)(A.charCodeAt(A.length-2))&&(M=A.substr(A.length-2)):M=A.charAt(A.length-1);const P=T.get(M);if(P){const x=new Map;if(this._completionModel)for(const[R,B]of this._completionModel.getItemsByProvider())P.has(R)||x.set(R,B);this.trigger({auto:!0,triggerKind:1,triggerCharacter:M,retrigger:!!this._completionModel,clipboardText:(O=this._completionModel)===null||O===void 0?void 0:O.clipboardText,completionOptions:{providerFilter:P,providerItemsToReuse:x}})}};this._triggerCharacterListener.add(this._editor.onDidType(N)),this._triggerCharacterListener.add(this._editor.onDidCompositionEnd(()=>N()))}get state(){return this._triggerState?this._triggerState.auto?2:1:0}cancel(T=!1){var N;this._triggerState!==void 0&&(this._triggerQuickSuggest.cancel(),(N=this._requestToken)===null||N===void 0||N.cancel(),this._requestToken=void 0,this._triggerState=void 0,this._completionModel=void 0,this._context=void 0,this._onDidCancel.fire({retrigger:T}))}clear(){this._completionDisposables.clear()}_updateActiveSuggestSession(){this._triggerState!==void 0&&(!this._editor.hasModel()||!this._languageFeaturesService.completionProvider.has(this._editor.getModel())?this.cancel():this.trigger({auto:this._triggerState.auto,retrigger:!0}))}_onCursorChange(T){if(!this._editor.hasModel())return;const N=this._currentSelection;if(this._currentSelection=this._editor.getSelection(),!T.selection.isEmpty()||T.reason!==0&&T.reason!==3||T.source!=="keyboard"&&T.source!=="deleteLeft"){this.cancel();return}this._triggerState===void 0&&T.reason===0?(N.containsRange(this._currentSelection)||N.getEndPosition().isBeforeOrEqual(this._currentSelection.getPosition()))&&this._doTriggerQuickSuggest():this._triggerState!==void 0&&T.reason===3&&this._refilterCompletionItems()}_onCompositionEnd(){this._triggerState===void 0?this._doTriggerQuickSuggest():this._refilterCompletionItems()}_doTriggerQuickSuggest(){var T;v.QuickSuggestionsOptions.isAllOff(this._editor.getOption(89))||this._editor.getOption(118).snippetsPreventQuickSuggestions&&(!((T=o.SnippetController2.get(this._editor))===null||T===void 0)&&T.isInSnippet())||(this.cancel(),this._triggerQuickSuggest.cancelAndSet(()=>{if(this._triggerState!==void 0||!f.shouldAutoTrigger(this._editor)||!this._editor.hasModel()||!this._editor.hasWidgetFocus())return;const N=this._editor.getModel(),A=this._editor.getPosition(),O=this._editor.getOption(89);if(!v.QuickSuggestionsOptions.isAllOff(O)){if(!v.QuickSuggestionsOptions.isAllOn(O)){N.tokenization.tokenizeIfCheap(A.lineNumber);const M=N.tokenization.getLineTokens(A.lineNumber),P=M.getStandardTokenType(M.findTokenIndexAtOffset(Math.max(A.column-1-1,0)));if(v.QuickSuggestionsOptions.valueFor(O,P)!=="on")return}_(this._editor,this._contextKeyService,this._configurationService)&&this._languageFeaturesService.completionProvider.has(N)&&this.trigger({auto:!0})}},this._editor.getOption(90)))}_refilterCompletionItems(){(0,r.assertType)(this._editor.hasModel()),(0,r.assertType)(this._triggerState!==void 0);const T=this._editor.getModel(),N=this._editor.getPosition(),A=new f(T,N,{...this._triggerState,refilter:!0});this._onNewContext(A)}trigger(T){var N,A,O,M,P,x;if(!this._editor.hasModel())return;const R=this._editor.getModel(),B=new f(R,this._editor.getPosition(),T);this.cancel(T.retrigger),this._triggerState=T,this._onDidTrigger.fire({auto:T.auto,shy:(N=T.shy)!==null&&N!==void 0?N:!1,position:this._editor.getPosition()}),this._context=B;let H={triggerKind:(A=T.triggerKind)!==null&&A!==void 0?A:0};T.triggerCharacter&&(H={triggerKind:1,triggerCharacter:T.triggerCharacter}),this._requestToken=new k.CancellationTokenSource;const V=this._editor.getOption(112);let q=1;switch(V){case"top":q=0;break;case"bottom":q=2;break}const{itemKind:K,showDeprecated:U}=c.createSuggestFilter(this._editor),$=new v.CompletionOptions(q,(M=(O=T.completionOptions)===null||O===void 0?void 0:O.kindFilter)!==null&&M!==void 0?M:K,(P=T.completionOptions)===null||P===void 0?void 0:P.providerFilter,(x=T.completionOptions)===null||x===void 0?void 0:x.providerItemsToReuse,U),se=b.WordDistance.create(this._editorWorkerService,this._editor),F=(0,v.provideSuggestionItems)(this._languageFeaturesService.completionProvider,R,this._editor.getPosition(),$,H,this._requestToken.token);Promise.all([F,se]).then(async([X,Q])=>{var Z;if((Z=this._requestToken)===null||Z===void 0||Z.dispose(),!this._editor.hasModel())return;let ae=T?.clipboardText;if(!ae&&X.needsClipboard&&(ae=await this._clipboardService.readText()),this._triggerState===void 0)return;const ue=this._editor.getModel(),ge=new f(ue,this._editor.getPosition(),T),fe={...d.FuzzyScoreOptions.default,firstMatchCanBeWeak:!this._editor.getOption(118).matchOnWordStartOnly};if(this._completionModel=new h.CompletionModel(X.items,this._context.column,{leadingLineContent:ge.leadingLineContent,characterCountDelta:ge.column-this._context.column},Q,this._editor.getOption(118),this._editor.getOption(112),fe,ae),this._completionDisposables.add(X.disposable),this._onNewContext(ge),this._reportDurationsTelemetry(X.durations),!this._envService.isBuilt||this._envService.isExtensionDevelopment)for(const re of X.items)re.isInvalid&&this._logService.warn(`[suggest] did IGNORE invalid completion item from ${re.provider._debugDisplayName}`,re.completion)}).catch(D.onUnexpectedError)}_reportDurationsTelemetry(T){this._telemetryGate++%230===0&&setTimeout(()=>{this._telemetryService.publicLog2("suggest.durations.json",{data:JSON.stringify(T)}),this._logService.debug("suggest.durations.json",T)})}static createSuggestFilter(T){const N=new Set;T.getOption(112)==="none"&&N.add(27);const O=T.getOption(118);return O.showMethods||N.add(0),O.showFunctions||N.add(1),O.showConstructors||N.add(2),O.showFields||N.add(3),O.showVariables||N.add(4),O.showClasses||N.add(5),O.showStructs||N.add(6),O.showInterfaces||N.add(7),O.showModules||N.add(8),O.showProperties||N.add(9),O.showEvents||N.add(10),O.showOperators||N.add(11),O.showUnits||N.add(12),O.showValues||N.add(13),O.showConstants||N.add(14),O.showEnums||N.add(15),O.showEnumMembers||N.add(16),O.showKeywords||N.add(17),O.showWords||N.add(18),O.showColors||N.add(19),O.showFiles||N.add(20),O.showReferences||N.add(21),O.showColors||N.add(22),O.showFolders||N.add(23),O.showTypeParameters||N.add(24),O.showSnippets||N.add(27),O.showUsers||N.add(25),O.showIssues||N.add(26),{itemKind:N,showDeprecated:O.showDeprecated}}_onNewContext(T){if(this._context){if(T.lineNumber!==this._context.lineNumber){this.cancel();return}if((0,p.getLeadingWhitespace)(T.leadingLineContent)!==(0,p.getLeadingWhitespace)(this._context.leadingLineContent)){this.cancel();return}if(T.column<this._context.column){T.leadingWord.word?this.trigger({auto:this._context.triggerOptions.auto,retrigger:!0}):this.cancel();return}if(this._completionModel){if(T.leadingWord.word.length!==0&&T.leadingWord.startColumn>this._context.leadingWord.startColumn){if(f.shouldAutoTrigger(this._editor)&&this._context){const A=this._completionModel.getItemsByProvider();this.trigger({auto:this._context.triggerOptions.auto,retrigger:!0,clipboardText:this._completionModel.clipboardText,completionOptions:{providerItemsToReuse:A}})}return}if(T.column>this._context.column&&this._completionModel.getIncompleteProvider().size>0&&T.leadingWord.word.length!==0){const N=new Map,A=new Set;for(const[O,M]of this._completionModel.getItemsByProvider())M.length>0&&M[0].container.incomplete?A.add(O):N.set(O,M);this.trigger({auto:this._context.triggerOptions.auto,triggerKind:2,retrigger:!0,clipboardText:this._completionModel.clipboardText,completionOptions:{providerFilter:A,providerItemsToReuse:N}})}else{const N=this._completionModel.lineContext;let A=!1;if(this._completionModel.lineContext={leadingLineContent:T.leadingLineContent,characterCountDelta:T.column-this._context.column},this._completionModel.items.length===0){const O=f.shouldAutoTrigger(this._editor);if(!this._context){this.cancel();return}if(O&&this._context.leadingWord.endColumn<T.leadingWord.startColumn){this.trigger({auto:this._context.triggerOptions.auto,retrigger:!0});return}if(this._context.triggerOptions.auto){this.cancel();return}else if(this._completionModel.lineContext=N,A=this._completionModel.items.length>0,A&&T.leadingWord.word.length===0){this.cancel();return}}this._onDidSuggest.fire({completionModel:this._completionModel,triggerOptions:T.triggerOptions,isFrozen:A})}}}}};e.SuggestModel=I,e.SuggestModel=I=c=Ie([he(1,C.IEditorWorkerService),he(2,a.IClipboardService),he(3,n.ITelemetryService),he(4,t.ILogService),he(5,i.IContextKeyService),he(6,s.IConfigurationService),he(7,u.ILanguageFeaturesService),he(8,g.IEnvironmentService)],I)}),define(te[412],ie([1,0,45,13,20,12,7,133,2,17,63,21,137,16,71,9,5,19,211,128,377,808,746,27,14,8,61,149,807,590,411,591,955,65,50,121,6,37]),function(J,e,m,k,D,L,y,p,w,C,b,a,s,i,t,n,h,v,u,d,r,l,o,g,c,f,_,S,I,E,T,N,A,O,M,P,x,R){"use strict";var B;Object.defineProperty(e,"__esModule",{value:!0}),e.TriggerSuggestAction=e.SuggestController=void 0;const H=!1;class V{constructor(X,Q){if(this._model=X,this._position=Q,this._decorationOptions=R.ModelDecorationOptions.register({description:"suggest-line-suffix",stickiness:1}),X.getLineMaxColumn(Q.lineNumber)!==Q.column){const ae=X.getOffsetAt(Q),ue=X.getPositionAt(ae+1);X.changeDecorations(ge=>{this._marker&&ge.removeDecoration(this._marker),this._marker=ge.addDecoration(h.Range.fromPositions(Q,ue),this._decorationOptions)})}}dispose(){this._marker&&!this._model.isDisposed()&&this._model.changeDecorations(X=>{X.removeDecoration(this._marker),this._marker=void 0})}delta(X){if(this._model.isDisposed()||this._position.lineNumber!==X.lineNumber)return 0;if(this._marker){const Q=this._model.getDecorationRange(this._marker);return this._model.getOffsetAt(Q.getStartPosition())-this._model.getOffsetAt(X)}else return this._model.getLineMaxColumn(X.lineNumber)-X.column}}let q=B=class{static get(X){return X.getContribution(B.ID)}constructor(X,Q,Z,ae,ue,ge,fe){this._memoryService=Q,this._commandService=Z,this._contextKeyService=ae,this._instantiationService=ue,this._logService=ge,this._telemetryService=fe,this._lineSuffix=new w.MutableDisposable,this._toDispose=new w.DisposableStore,this._selectors=new K(W=>W.priority),this._onWillInsertSuggestItem=new y.Emitter,this.onWillInsertSuggestItem=this._onWillInsertSuggestItem.event,this.editor=X,this.model=ue.createInstance(T.SuggestModel,this.editor),this._selectors.register({priority:0,select:(W,z,Y)=>this._memoryService.select(W,z,Y)});const re=S.Context.InsertMode.bindTo(ae);re.set(X.getOption(118).insertMode),this._toDispose.add(this.model.onDidTrigger(()=>re.set(X.getOption(118).insertMode))),this.widget=this._toDispose.add(new x.WindowIdleValue((0,x.getWindow)(X.getDomNode()),()=>{const W=this._instantiationService.createInstance(A.SuggestWidget,this.editor);this._toDispose.add(W),this._toDispose.add(W.onDidSelect(oe=>this._insertSuggestion(oe,0),this));const z=new E.CommitCharacterController(this.editor,W,this.model,oe=>this._insertSuggestion(oe,2));this._toDispose.add(z);const Y=S.Context.MakesTextEdit.bindTo(this._contextKeyService),j=S.Context.HasInsertAndReplaceRange.bindTo(this._contextKeyService),G=S.Context.CanResolve.bindTo(this._contextKeyService);return this._toDispose.add((0,w.toDisposable)(()=>{Y.reset(),j.reset(),G.reset()})),this._toDispose.add(W.onDidFocus(({item:oe})=>{const ne=this.editor.getPosition(),ce=oe.editStart.column,le=ne.column;let me=!0;this.editor.getOption(1)==="smart"&&this.model.state===2&&!oe.completion.additionalTextEdits&&!(oe.completion.insertTextRules&4)&&le-ce===oe.completion.insertText.length&&(me=this.editor.getModel().getValueInRange({startLineNumber:ne.lineNumber,startColumn:ce,endLineNumber:ne.lineNumber,endColumn:le})!==oe.completion.insertText),Y.set(me),j.set(!n.Position.equals(oe.editInsertEnd,oe.editReplaceEnd)),G.set(!!oe.provider.resolveCompletionItem||!!oe.completion.documentation||oe.completion.detail!==oe.completion.label)})),this._toDispose.add(W.onDetailsKeyDown(oe=>{if(oe.toKeyCodeChord().equals(new p.KeyCodeChord(!0,!1,!1,!1,33))||C.isMacintosh&&oe.toKeyCodeChord().equals(new p.KeyCodeChord(!1,!1,!1,!0,33))){oe.stopPropagation();return}oe.toKeyCodeChord().isModifierKey()||this.editor.focus()})),W})),this._overtypingCapturer=this._toDispose.add(new x.WindowIdleValue((0,x.getWindow)(X.getDomNode()),()=>this._toDispose.add(new N.OvertypingCapturer(this.editor,this.model)))),this._alternatives=this._toDispose.add(new x.WindowIdleValue((0,x.getWindow)(X.getDomNode()),()=>this._toDispose.add(new I.SuggestAlternatives(this.editor,this._contextKeyService)))),this._toDispose.add(ue.createInstance(l.WordContextKey,X)),this._toDispose.add(this.model.onDidTrigger(W=>{this.widget.value.showTriggered(W.auto,W.shy?250:50),this._lineSuffix.value=new V(this.editor.getModel(),W.position)})),this._toDispose.add(this.model.onDidSuggest(W=>{if(W.triggerOptions.shy)return;let z=-1;for(const j of this._selectors.itemsOrderedByPriorityDesc)if(z=j.select(this.editor.getModel(),this.editor.getPosition(),W.completionModel.items),z!==-1)break;if(z===-1&&(z=0),this.model.state===0)return;let Y=!1;if(W.triggerOptions.auto){const j=this.editor.getOption(118);j.selectionMode==="never"||j.selectionMode==="always"?Y=j.selectionMode==="never":j.selectionMode==="whenTriggerCharacter"?Y=W.triggerOptions.triggerKind!==1:j.selectionMode==="whenQuickSuggestion"&&(Y=W.triggerOptions.triggerKind===1&&!W.triggerOptions.refilter)}this.widget.value.showSuggestions(W.completionModel,z,W.isFrozen,W.triggerOptions.auto,Y)})),this._toDispose.add(this.model.onDidCancel(W=>{W.retrigger||this.widget.value.hideWidget()})),this._toDispose.add(this.editor.onDidBlurEditorWidget(()=>{H||(this.model.cancel(),this.model.clear())}));const de=S.Context.AcceptSuggestionsOnEnter.bindTo(ae),ee=()=>{const W=this.editor.getOption(1);de.set(W==="on"||W==="smart")};this._toDispose.add(this.editor.onDidChangeConfiguration(()=>ee())),ee()}dispose(){this._alternatives.dispose(),this._toDispose.dispose(),this.widget.dispose(),this.model.dispose(),this._lineSuffix.dispose(),this._onWillInsertSuggestItem.dispose()}_insertSuggestion(X,Q){if(!X||!X.item){this._alternatives.value.reset(),this.model.cancel(),this.model.clear();return}if(!this.editor.hasModel())return;const Z=u.SnippetController2.get(this.editor);if(!Z)return;this._onWillInsertSuggestItem.fire({item:X.item});const ae=this.editor.getModel(),ue=ae.getAlternativeVersionId(),{item:ge}=X,fe=[],re=new D.CancellationTokenSource;Q&1||this.editor.pushUndoStop();const de=this.getOverwriteInfo(ge,!!(Q&8));this._memoryService.memorize(ae,this.editor.getPosition(),ge);const ee=ge.isResolved;let W=-1,z=-1;if(Array.isArray(ge.completion.additionalTextEdits)){this.model.cancel();const j=s.StableEditorScrollState.capture(this.editor);this.editor.executeEdits("suggestController.additionalTextEdits.sync",ge.completion.additionalTextEdits.map(G=>{let oe=h.Range.lift(G.range);if(oe.startLineNumber===ge.position.lineNumber&&oe.startColumn>ge.position.column){const ne=this.editor.getPosition().column-ge.position.column,ce=ne,le=h.Range.spansMultipleLines(oe)?0:ne;oe=new h.Range(oe.startLineNumber,oe.startColumn+ce,oe.endLineNumber,oe.endColumn+le)}return t.EditOperation.replaceMove(oe,G.text)})),j.restoreRelativeVerticalPositionOfCursor(this.editor)}else if(!ee){const j=new b.StopWatch;let G;const oe=ae.onDidChangeContent(me=>{if(me.isFlush){re.cancel(),oe.dispose();return}for(const ve of me.changes){const Ce=h.Range.getEndPosition(ve.range);(!G||n.Position.isBefore(Ce,G))&&(G=Ce)}}),ne=Q;Q|=2;let ce=!1;const le=this.editor.onWillType(()=>{le.dispose(),ce=!0,ne&2||this.editor.pushUndoStop()});fe.push(ge.resolve(re.token).then(()=>{if(!ge.completion.additionalTextEdits||re.token.isCancellationRequested)return;if(G&&ge.completion.additionalTextEdits.some(ve=>n.Position.isBefore(G,h.Range.getStartPosition(ve.range))))return!1;ce&&this.editor.pushUndoStop();const me=s.StableEditorScrollState.capture(this.editor);return this.editor.executeEdits("suggestController.additionalTextEdits.async",ge.completion.additionalTextEdits.map(ve=>t.EditOperation.replaceMove(h.Range.lift(ve.range),ve.text))),me.restoreRelativeVerticalPositionOfCursor(this.editor),(ce||!(ne&2))&&this.editor.pushUndoStop(),!0}).then(me=>{this._logService.trace("[suggest] async resolving of edits DONE (ms, applied?)",j.elapsed(),me),z=me===!0?1:me===!1?0:-2}).finally(()=>{oe.dispose(),le.dispose()}))}let{insertText:Y}=ge.completion;if(ge.completion.insertTextRules&4||(Y=d.SnippetParser.escape(Y)),this.model.cancel(),Z.insert(Y,{overwriteBefore:de.overwriteBefore,overwriteAfter:de.overwriteAfter,undoStopBefore:!1,undoStopAfter:!1,adjustWhitespace:!(ge.completion.insertTextRules&1),clipboardText:X.model.clipboardText,overtypingCapturer:this._overtypingCapturer.value}),Q&2||this.editor.pushUndoStop(),ge.completion.command)if(ge.completion.command.id===U.id)this.model.trigger({auto:!0,retrigger:!0});else{const j=new b.StopWatch;fe.push(this._commandService.executeCommand(ge.completion.command.id,...ge.completion.command.arguments?[...ge.completion.command.arguments]:[]).catch(G=>{ge.completion.extensionId?(0,L.onUnexpectedExternalError)(G):(0,L.onUnexpectedError)(G)}).finally(()=>{W=j.elapsed()}))}Q&4&&this._alternatives.value.set(X,j=>{for(re.cancel();ae.canUndo();){ue!==ae.getAlternativeVersionId()&&ae.undo(),this._insertSuggestion(j,3|(Q&8?8:0));break}}),this._alertCompletionItem(ge),Promise.all(fe).finally(()=>{this._reportSuggestionAcceptedTelemetry(ge,ae,ee,W,z),this.model.clear(),re.dispose()})}_reportSuggestionAcceptedTelemetry(X,Q,Z,ae,ue){var ge,fe,re;Math.floor(Math.random()*100)!==0&&this._telemetryService.publicLog2("suggest.acceptedSuggestion",{extensionId:(fe=(ge=X.extensionId)===null||ge===void 0?void 0:ge.value)!==null&&fe!==void 0?fe:"unknown",providerId:(re=X.provider._debugDisplayName)!==null&&re!==void 0?re:"unknown",kind:X.completion.kind,basenameHash:(0,P.hash)((0,M.basename)(Q.uri)).toString(16),languageId:Q.getLanguageId(),fileExtension:(0,M.extname)(Q.uri),resolveInfo:X.provider.resolveCompletionItem?Z?1:0:-1,resolveDuration:X.resolveDuration,commandDuration:ae,additionalEditsAsync:ue})}getOverwriteInfo(X,Q){(0,a.assertType)(this.editor.hasModel());let Z=this.editor.getOption(118).insertMode==="replace";Q&&(Z=!Z);const ae=X.position.column-X.editStart.column,ue=(Z?X.editReplaceEnd.column:X.editInsertEnd.column)-X.position.column,ge=this.editor.getPosition().column-X.position.column,fe=this._lineSuffix.value?this._lineSuffix.value.delta(this.editor.getPosition()):0;return{overwriteBefore:ae+ge,overwriteAfter:ue+fe}}_alertCompletionItem(X){if((0,k.isNonEmptyArray)(X.completion.additionalTextEdits)){const Q=o.localize(0,null,X.textLabel,X.completion.additionalTextEdits.length);(0,m.alert)(Q)}}triggerSuggest(X,Q,Z){this.editor.hasModel()&&(this.model.trigger({auto:Q??!1,completionOptions:{providerFilter:X,kindFilter:Z?new Set:void 0}}),this.editor.revealPosition(this.editor.getPosition(),0),this.editor.focus())}triggerSuggestAndAcceptBest(X){if(!this.editor.hasModel())return;const Q=this.editor.getPosition(),Z=()=>{Q.equals(this.editor.getPosition())&&this._commandService.executeCommand(X.fallback)},ae=ue=>{if(ue.completion.insertTextRules&4||ue.completion.additionalTextEdits)return!0;const ge=this.editor.getPosition(),fe=ue.editStart.column,re=ge.column;return re-fe!==ue.completion.insertText.length?!0:this.editor.getModel().getValueInRange({startLineNumber:ge.lineNumber,startColumn:fe,endLineNumber:ge.lineNumber,endColumn:re})!==ue.completion.insertText};y.Event.once(this.model.onDidTrigger)(ue=>{const ge=[];y.Event.any(this.model.onDidTrigger,this.model.onDidCancel)(()=>{(0,w.dispose)(ge),Z()},void 0,ge),this.model.onDidSuggest(({completionModel:fe})=>{if((0,w.dispose)(ge),fe.items.length===0){Z();return}const re=this._memoryService.select(this.editor.getModel(),this.editor.getPosition(),fe.items),de=fe.items[re];if(!ae(de)){Z();return}this.editor.pushUndoStop(),this._insertSuggestion({index:re,item:de,model:fe},7)},void 0,ge)}),this.model.trigger({auto:!1,shy:!0}),this.editor.revealPosition(Q,0),this.editor.focus()}acceptSelectedSuggestion(X,Q){const Z=this.widget.value.getFocusedItem();let ae=0;X&&(ae|=4),Q&&(ae|=8),this._insertSuggestion(Z,ae)}acceptNextSuggestion(){this._alternatives.value.next()}acceptPrevSuggestion(){this._alternatives.value.prev()}cancelSuggestWidget(){this.model.cancel(),this.model.clear(),this.widget.value.hideWidget()}focusSuggestion(){this.widget.value.focusSelected()}selectNextSuggestion(){this.widget.value.selectNext()}selectNextPageSuggestion(){this.widget.value.selectNextPage()}selectLastSuggestion(){this.widget.value.selectLast()}selectPrevSuggestion(){this.widget.value.selectPrevious()}selectPrevPageSuggestion(){this.widget.value.selectPreviousPage()}selectFirstSuggestion(){this.widget.value.selectFirst()}toggleSuggestionDetails(){this.widget.value.toggleDetails()}toggleExplainMode(){this.widget.value.toggleExplainMode()}toggleSuggestionFocus(){this.widget.value.toggleDetailsFocus()}resetWidgetSize(){this.widget.value.resetPersistedSize()}forceRenderingAbove(){this.widget.value.forceRenderingAbove()}stopForceRenderingAbove(){this.widget.isInitialized&&this.widget.value.stopForceRenderingAbove()}registerSelector(X){return this._selectors.register(X)}};e.SuggestController=q,q.ID="editor.contrib.suggestController",e.SuggestController=q=B=Ie([he(1,r.ISuggestMemoryService),he(2,g.ICommandService),he(3,c.IContextKeyService),he(4,f.IInstantiationService),he(5,_.ILogService),he(6,O.ITelemetryService)],q);class K{constructor(X){this.prioritySelector=X,this._items=new Array}register(X){if(this._items.indexOf(X)!==-1)throw new Error("Value is already registered");return this._items.push(X),this._items.sort((Q,Z)=>this.prioritySelector(Z)-this.prioritySelector(Q)),{dispose:()=>{const Q=this._items.indexOf(X);Q>=0&&this._items.splice(Q,1)}}}get itemsOrderedByPriorityDesc(){return this._items}}class U extends i.EditorAction{constructor(){super({id:U.id,label:o.localize(1,null),alias:"Trigger Suggest",precondition:c.ContextKeyExpr.and(v.EditorContextKeys.writable,v.EditorContextKeys.hasCompletionItemProvider,S.Context.Visible.toNegated()),kbOpts:{kbExpr:v.EditorContextKeys.textInputFocus,primary:2058,secondary:[2087],mac:{primary:266,secondary:[521,2087]},weight:100}})}run(X,Q,Z){const ae=q.get(Q);if(!ae)return;let ue;Z&&typeof Z=="object"&&Z.auto===!0&&(ue=!0),ae.triggerSuggest(void 0,ue,void 0)}}e.TriggerSuggestAction=U,U.id="editor.action.triggerSuggest",(0,i.registerEditorContribution)(q.ID,q,2),(0,i.registerEditorAction)(U);const $=190,se=i.EditorCommand.bindToContribution(q.get);(0,i.registerEditorCommand)(new se({id:"acceptSelectedSuggestion",precondition:c.ContextKeyExpr.and(S.Context.Visible,S.Context.HasFocusedSuggestion),handler(F){F.acceptSelectedSuggestion(!0,!1)},kbOpts:[{primary:2,kbExpr:c.ContextKeyExpr.and(S.Context.Visible,v.EditorContextKeys.textInputFocus),weight:$},{primary:3,kbExpr:c.ContextKeyExpr.and(S.Context.Visible,v.EditorContextKeys.textInputFocus,S.Context.AcceptSuggestionsOnEnter,S.Context.MakesTextEdit),weight:$}],menuOpts:[{menuId:S.suggestWidgetStatusbarMenu,title:o.localize(2,null),group:"left",order:1,when:S.Context.HasInsertAndReplaceRange.toNegated()},{menuId:S.suggestWidgetStatusbarMenu,title:o.localize(3,null),group:"left",order:1,when:c.ContextKeyExpr.and(S.Context.HasInsertAndReplaceRange,S.Context.InsertMode.isEqualTo("insert"))},{menuId:S.suggestWidgetStatusbarMenu,title:o.localize(4,null),group:"left",order:1,when:c.ContextKeyExpr.and(S.Context.HasInsertAndReplaceRange,S.Context.InsertMode.isEqualTo("replace"))}]})),(0,i.registerEditorCommand)(new se({id:"acceptAlternativeSelectedSuggestion",precondition:c.ContextKeyExpr.and(S.Context.Visible,v.EditorContextKeys.textInputFocus,S.Context.HasFocusedSuggestion),kbOpts:{weight:$,kbExpr:v.EditorContextKeys.textInputFocus,primary:1027,secondary:[1026]},handler(F){F.acceptSelectedSuggestion(!1,!0)},menuOpts:[{menuId:S.suggestWidgetStatusbarMenu,group:"left",order:2,when:c.ContextKeyExpr.and(S.Context.HasInsertAndReplaceRange,S.Context.InsertMode.isEqualTo("insert")),title:o.localize(5,null)},{menuId:S.suggestWidgetStatusbarMenu,group:"left",order:2,when:c.ContextKeyExpr.and(S.Context.HasInsertAndReplaceRange,S.Context.InsertMode.isEqualTo("replace")),title:o.localize(6,null)}]})),g.CommandsRegistry.registerCommandAlias("acceptSelectedSuggestionOnEnter","acceptSelectedSuggestion"),(0,i.registerEditorCommand)(new se({id:"hideSuggestWidget",precondition:S.Context.Visible,handler:F=>F.cancelSuggestWidget(),kbOpts:{weight:$,kbExpr:v.EditorContextKeys.textInputFocus,primary:9,secondary:[1033]}})),(0,i.registerEditorCommand)(new se({id:"selectNextSuggestion",precondition:c.ContextKeyExpr.and(S.Context.Visible,c.ContextKeyExpr.or(S.Context.MultipleSuggestions,S.Context.HasFocusedSuggestion.negate())),handler:F=>F.selectNextSuggestion(),kbOpts:{weight:$,kbExpr:v.EditorContextKeys.textInputFocus,primary:18,secondary:[2066],mac:{primary:18,secondary:[2066,300]}}})),(0,i.registerEditorCommand)(new se({id:"selectNextPageSuggestion",precondition:c.ContextKeyExpr.and(S.Context.Visible,c.ContextKeyExpr.or(S.Context.MultipleSuggestions,S.Context.HasFocusedSuggestion.negate())),handler:F=>F.selectNextPageSuggestion(),kbOpts:{weight:$,kbExpr:v.EditorContextKeys.textInputFocus,primary:12,secondary:[2060]}})),(0,i.registerEditorCommand)(new se({id:"selectLastSuggestion",precondition:c.ContextKeyExpr.and(S.Context.Visible,c.ContextKeyExpr.or(S.Context.MultipleSuggestions,S.Context.HasFocusedSuggestion.negate())),handler:F=>F.selectLastSuggestion()})),(0,i.registerEditorCommand)(new se({id:"selectPrevSuggestion",precondition:c.ContextKeyExpr.and(S.Context.Visible,c.ContextKeyExpr.or(S.Context.MultipleSuggestions,S.Context.HasFocusedSuggestion.negate())),handler:F=>F.selectPrevSuggestion(),kbOpts:{weight:$,kbExpr:v.EditorContextKeys.textInputFocus,primary:16,secondary:[2064],mac:{primary:16,secondary:[2064,302]}}})),(0,i.registerEditorCommand)(new se({id:"selectPrevPageSuggestion",precondition:c.ContextKeyExpr.and(S.Context.Visible,c.ContextKeyExpr.or(S.Context.MultipleSuggestions,S.Context.HasFocusedSuggestion.negate())),handler:F=>F.selectPrevPageSuggestion(),kbOpts:{weight:$,kbExpr:v.EditorContextKeys.textInputFocus,primary:11,secondary:[2059]}})),(0,i.registerEditorCommand)(new se({id:"selectFirstSuggestion",precondition:c.ContextKeyExpr.and(S.Context.Visible,c.ContextKeyExpr.or(S.Context.MultipleSuggestions,S.Context.HasFocusedSuggestion.negate())),handler:F=>F.selectFirstSuggestion()})),(0,i.registerEditorCommand)(new se({id:"focusSuggestion",precondition:c.ContextKeyExpr.and(S.Context.Visible,S.Context.HasFocusedSuggestion.negate()),handler:F=>F.focusSuggestion(),kbOpts:{weight:$,kbExpr:v.EditorContextKeys.textInputFocus,primary:2058,secondary:[2087],mac:{primary:266,secondary:[2087]}}})),(0,i.registerEditorCommand)(new se({id:"focusAndAcceptSuggestion",precondition:c.ContextKeyExpr.and(S.Context.Visible,S.Context.HasFocusedSuggestion.negate()),handler:F=>{F.focusSuggestion(),F.acceptSelectedSuggestion(!0,!1)}})),(0,i.registerEditorCommand)(new se({id:"toggleSuggestionDetails",precondition:c.ContextKeyExpr.and(S.Context.Visible,S.Context.HasFocusedSuggestion),handler:F=>F.toggleSuggestionDetails(),kbOpts:{weight:$,kbExpr:v.EditorContextKeys.textInputFocus,primary:2058,secondary:[2087],mac:{primary:266,secondary:[2087]}},menuOpts:[{menuId:S.suggestWidgetStatusbarMenu,group:"right",order:1,when:c.ContextKeyExpr.and(S.Context.DetailsVisible,S.Context.CanResolve),title:o.localize(7,null)},{menuId:S.suggestWidgetStatusbarMenu,group:"right",order:1,when:c.ContextKeyExpr.and(S.Context.DetailsVisible.toNegated(),S.Context.CanResolve),title:o.localize(8,null)}]})),(0,i.registerEditorCommand)(new se({id:"toggleExplainMode",precondition:S.Context.Visible,handler:F=>F.toggleExplainMode(),kbOpts:{weight:100,primary:2138}})),(0,i.registerEditorCommand)(new se({id:"toggleSuggestionFocus",precondition:S.Context.Visible,handler:F=>F.toggleSuggestionFocus(),kbOpts:{weight:$,kbExpr:v.EditorContextKeys.textInputFocus,primary:2570,mac:{primary:778}}})),(0,i.registerEditorCommand)(new se({id:"insertBestCompletion",precondition:c.ContextKeyExpr.and(v.EditorContextKeys.textInputFocus,c.ContextKeyExpr.equals("config.editor.tabCompletion","on"),l.WordContextKey.AtEnd,S.Context.Visible.toNegated(),I.SuggestAlternatives.OtherSuggestions.toNegated(),u.SnippetController2.InSnippetMode.toNegated()),handler:(F,X)=>{F.triggerSuggestAndAcceptBest((0,a.isObject)(X)?{fallback:"tab",...X}:{fallback:"tab"})},kbOpts:{weight:$,primary:2}})),(0,i.registerEditorCommand)(new se({id:"insertNextSuggestion",precondition:c.ContextKeyExpr.and(v.EditorContextKeys.textInputFocus,c.ContextKeyExpr.equals("config.editor.tabCompletion","on"),I.SuggestAlternatives.OtherSuggestions,S.Context.Visible.toNegated(),u.SnippetController2.InSnippetMode.toNegated()),handler:F=>F.acceptNextSuggestion(),kbOpts:{weight:$,kbExpr:v.EditorContextKeys.textInputFocus,primary:2}})),(0,i.registerEditorCommand)(new se({id:"insertPrevSuggestion",precondition:c.ContextKeyExpr.and(v.EditorContextKeys.textInputFocus,c.ContextKeyExpr.equals("config.editor.tabCompletion","on"),I.SuggestAlternatives.OtherSuggestions,S.Context.Visible.toNegated(),u.SnippetController2.InSnippetMode.toNegated()),handler:F=>F.acceptPrevSuggestion(),kbOpts:{weight:$,kbExpr:v.EditorContextKeys.textInputFocus,primary:1026}})),(0,i.registerEditorAction)(class extends i.EditorAction{constructor(){super({id:"editor.action.resetSuggestSize",label:o.localize(9,null),alias:"Reset Suggest Widget Size",precondition:void 0})}run(F,X){var Q;(Q=q.get(X))===null||Q===void 0||Q.resetWidgetSize()}})}),define(te[975],ie([1,0,7,2,9,5,29,128,410,412,32,123,13,66,233]),function(J,e,m,k,D,L,y,p,w,C,b,a,s,i,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestItemInfo=e.SuggestWidgetAdaptor=void 0;class n extends k.Disposable{get selectedItem(){return this._selectedItem}constructor(d,r,l,o){super(),this.editor=d,this.suggestControllerPreselector=r,this.checkModelVersion=l,this.onWillAccept=o,this.isSuggestWidgetVisible=!1,this.isShiftKeyPressed=!1,this._isActive=!1,this._currentSuggestItemInfo=void 0,this._selectedItem=(0,b.observableValue)(this,void 0),this._register(d.onKeyDown(c=>{c.shiftKey&&!this.isShiftKeyPressed&&(this.isShiftKeyPressed=!0,this.update(this._isActive))})),this._register(d.onKeyUp(c=>{c.shiftKey&&this.isShiftKeyPressed&&(this.isShiftKeyPressed=!1,this.update(this._isActive))}));const g=C.SuggestController.get(this.editor);if(g){this._register(g.registerSelector({priority:100,select:(_,S,I)=>{(0,b.transaction)(P=>this.checkModelVersion(P));const E=this.editor.getModel();if(!E)return-1;const T=this.suggestControllerPreselector(),N=T?(0,t.singleTextRemoveCommonPrefix)(T,E):void 0;if(!N)return-1;const A=D.Position.lift(S),O=I.map((P,x)=>{const R=h.fromSuggestion(g,E,A,P,this.isShiftKeyPressed),B=(0,t.singleTextRemoveCommonPrefix)(R.toSingleTextEdit(),E),H=(0,t.singleTextEditAugments)(N,B);return{index:x,valid:H,prefixLength:B.text.length,suggestItem:P}}).filter(P=>P&&P.valid&&P.prefixLength>0),M=(0,i.findFirstMaxBy)(O,(0,s.compareBy)(P=>P.prefixLength,s.numberComparator));return M?M.index:-1}}));let c=!1;const f=()=>{c||(c=!0,this._register(g.widget.value.onDidShow(()=>{this.isSuggestWidgetVisible=!0,this.update(!0)})),this._register(g.widget.value.onDidHide(()=>{this.isSuggestWidgetVisible=!1,this.update(!1)})),this._register(g.widget.value.onDidFocus(()=>{this.isSuggestWidgetVisible=!0,this.update(!0)})))};this._register(m.Event.once(g.model.onDidTrigger)(_=>{f()})),this._register(g.onWillInsertSuggestItem(_=>{const S=this.editor.getPosition(),I=this.editor.getModel();if(!S||!I)return;const E=h.fromSuggestion(g,I,S,_.item,this.isShiftKeyPressed);this.onWillAccept(E)}))}this.update(this._isActive)}update(d){const r=this.getSuggestItemInfo();(this._isActive!==d||!v(this._currentSuggestItemInfo,r))&&(this._isActive=d,this._currentSuggestItemInfo=r,(0,b.transaction)(l=>{this.checkModelVersion(l),this._selectedItem.set(this._isActive?this._currentSuggestItemInfo:void 0,l)}))}getSuggestItemInfo(){const d=C.SuggestController.get(this.editor);if(!d||!this.isSuggestWidgetVisible)return;const r=d.widget.value.getFocusedItem(),l=this.editor.getPosition(),o=this.editor.getModel();if(!(!r||!l||!o))return h.fromSuggestion(d,o,l,r.item,this.isShiftKeyPressed)}stopForceRenderingAbove(){const d=C.SuggestController.get(this.editor);d?.stopForceRenderingAbove()}forceRenderingAbove(){const d=C.SuggestController.get(this.editor);d?.forceRenderingAbove()}}e.SuggestWidgetAdaptor=n;class h{static fromSuggestion(d,r,l,o,g){let{insertText:c}=o.completion,f=!1;if(o.completion.insertTextRules&4){const S=new p.SnippetParser().parse(c);S.children.length<100&&w.SnippetSession.adjustWhitespace(r,l,!0,S),c=S.toString(),f=!0}const _=d.getOverwriteInfo(o,g);return new h(L.Range.fromPositions(l.delta(0,-_.overwriteBefore),l.delta(0,Math.max(_.overwriteAfter,0))),c,o.completion.kind,f)}constructor(d,r,l,o){this.range=d,this.insertText=r,this.completionItemKind=l,this.isSnippetText=o}equals(d){return this.range.equalsRange(d.range)&&this.insertText===d.insertText&&this.completionItemKind===d.completionItemKind&&this.isSnippetText===d.isSnippetText}toSelectedSuggestionInfo(){return new y.SelectedSuggestionInfo(this.range,this.insertText,this.completionItemKind,this.isSnippetText)}toSingleTextEdit(){return new a.SingleTextEdit(this.range,this.insertText)}}e.SuggestItemInfo=h;function v(u,d){return u===d?!0:!u||!d?!1:u.equals(d)}}),define(te[281],ie([1,0,6,45,2,32,204,9,83,18,232,360,256,273,974,975,725,130,27,25,14,8,35,287]),function(J,e,m,k,D,L,y,p,w,C,b,a,s,i,t,n,h,v,u,d,r,l,o,g){"use strict";var c;Object.defineProperty(e,"__esModule",{value:!0}),e.InlineCompletionsController=void 0;let f=c=class extends D.Disposable{static get(I){return I.getContribution(c.ID)}constructor(I,E,T,N,A,O,M,P,x){super(),this.editor=I,this._instantiationService=E,this._contextKeyService=T,this._configurationService=N,this._commandService=A,this._debounceService=O,this._languageFeaturesService=M,this._accessibilitySignalService=P,this._keybindingService=x,this.model=this._register((0,L.disposableObservableValue)("inlineCompletionModel",void 0)),this._textModelVersionId=(0,L.observableValue)(this,-1),this._positions=(0,L.observableValue)(this,[new p.Position(1,1)]),this._suggestWidgetAdaptor=this._register(new n.SuggestWidgetAdaptor(this.editor,()=>{var V,q;return(q=(V=this.model.get())===null||V===void 0?void 0:V.selectedInlineCompletion.get())===null||q===void 0?void 0:q.toSingleTextEdit(void 0)},V=>this.updateObservables(V,t.VersionIdChangeReason.Other),V=>{(0,L.transaction)(q=>{var K;this.updateObservables(q,t.VersionIdChangeReason.Other),(K=this.model.get())===null||K===void 0||K.handleSuggestAccepted(V)})})),this._enabled=(0,L.observableFromEvent)(this.editor.onDidChangeConfiguration,()=>this.editor.getOption(62).enabled),this._fontFamily=(0,L.observableFromEvent)(this.editor.onDidChangeConfiguration,()=>this.editor.getOption(62).fontFamily),this._ghostTexts=(0,L.derived)(this,V=>{var q;const K=this.model.read(V);return(q=K?.ghostTexts.read(V))!==null&&q!==void 0?q:[]}),this._stablizedGhostTexts=_(this._ghostTexts,this._store),this._ghostTextWidgets=(0,g.mapObservableArrayCached)(this,this._stablizedGhostTexts,(V,q)=>q.add(this._instantiationService.createInstance(a.GhostTextWidget,this.editor,{ghostText:V,minReservedLineCount:(0,L.constObservable)(0),targetTextModel:this.model.map(K=>K?.textModel)}))).recomputeInitiallyAndOnChange(this._store),this._debounceValue=this._debounceService.for(this._languageFeaturesService.inlineCompletionsProvider,"InlineCompletionsDebounce",{min:50,max:50}),this._playAccessibilitySignal=(0,L.observableSignal)(this),this._isReadonly=(0,L.observableFromEvent)(this.editor.onDidChangeConfiguration,()=>this.editor.getOption(91)),this._textModel=(0,L.observableFromEvent)(this.editor.onDidChangeModel,()=>this.editor.getModel()),this._textModelIfWritable=(0,L.derived)(V=>this._isReadonly.read(V)?void 0:this._textModel.read(V)),this._register(new s.InlineCompletionContextKeys(this._contextKeyService,this.model)),this._register((0,L.autorun)(V=>{const q=this._textModelIfWritable.read(V);(0,L.transaction)(K=>{if(this.model.set(void 0,K),this.updateObservables(K,t.VersionIdChangeReason.Other),q){const U=E.createInstance(t.InlineCompletionsModel,q,this._suggestWidgetAdaptor.selectedItem,this._textModelVersionId,this._positions,this._debounceValue,(0,L.observableFromEvent)(I.onDidChangeConfiguration,()=>I.getOption(118).preview),(0,L.observableFromEvent)(I.onDidChangeConfiguration,()=>I.getOption(118).previewMode),(0,L.observableFromEvent)(I.onDidChangeConfiguration,()=>I.getOption(62).mode),this._enabled);this.model.set(U,K)}})}));const R=this._register((0,m.createStyleSheet2)());this._register((0,L.autorun)(V=>{const q=this._fontFamily.read(V);R.setStyle(q===""||q==="default"?"":`
.monaco-editor .ghost-text-decoration,
.monaco-editor .ghost-text-decoration-preview,
.monaco-editor .ghost-text {
	font-family: ${q};
}`)}));const B=V=>{var q;return V.isUndoing?t.VersionIdChangeReason.Undo:V.isRedoing?t.VersionIdChangeReason.Redo:!((q=this.model.get())===null||q===void 0)&&q.isAcceptingPartially?t.VersionIdChangeReason.AcceptWord:t.VersionIdChangeReason.Other};this._register(I.onDidChangeModelContent(V=>(0,L.transaction)(q=>this.updateObservables(q,B(V))))),this._register(I.onDidChangeCursorPosition(V=>(0,L.transaction)(q=>{var K;this.updateObservables(q,t.VersionIdChangeReason.Other),(V.reason===3||V.source==="api")&&((K=this.model.get())===null||K===void 0||K.stop(q))}))),this._register(I.onDidType(()=>(0,L.transaction)(V=>{var q;this.updateObservables(V,t.VersionIdChangeReason.Other),this._enabled.get()&&((q=this.model.get())===null||q===void 0||q.trigger(V))}))),this._register(this._commandService.onDidExecuteCommand(V=>{new Set([y.CoreEditingCommands.Tab.id,y.CoreEditingCommands.DeleteLeft.id,y.CoreEditingCommands.DeleteRight.id,b.inlineSuggestCommitId,"acceptSelectedSuggestion"]).has(V.commandId)&&I.hasTextFocus()&&this._enabled.get()&&(0,L.transaction)(K=>{var U;(U=this.model.get())===null||U===void 0||U.trigger(K)})})),this._register(this.editor.onDidBlurEditorWidget(()=>{this._contextKeyService.getContextKeyValue("accessibleViewIsShown")||this._configurationService.getValue("editor.inlineSuggest.keepOnBlur")||I.getOption(62).keepOnBlur||i.InlineSuggestionHintsContentWidget.dropDownVisible||(0,L.transaction)(V=>{var q;(q=this.model.get())===null||q===void 0||q.stop(V)})})),this._register((0,L.autorun)(V=>{var q;const K=(q=this.model.read(V))===null||q===void 0?void 0:q.state.read(V);K?.suggestItem?K.primaryGhostText.lineCount>=2&&this._suggestWidgetAdaptor.forceRenderingAbove():this._suggestWidgetAdaptor.stopForceRenderingAbove()})),this._register((0,D.toDisposable)(()=>{this._suggestWidgetAdaptor.stopForceRenderingAbove()}));let H;this._register((0,L.autorunHandleChanges)({handleChange:(V,q)=>(V.didChange(this._playAccessibilitySignal)&&(H=void 0),!0)},async V=>{this._playAccessibilitySignal.read(V);const q=this.model.read(V),K=q?.state.read(V);if(!q||!K||!K.inlineCompletion){H=void 0;return}if(K.inlineCompletion.semanticId!==H){H=K.inlineCompletion.semanticId;const U=q.textModel.getLineContent(K.primaryGhostText.lineNumber);this._accessibilitySignalService.playSignal(v.AccessibilitySignal.inlineSuggestion).then(()=>{this.editor.getOption(8)&&this.provideScreenReaderUpdate(K.primaryGhostText.renderForScreenReader(U))})}})),this._register(new i.InlineCompletionsHintsWidget(this.editor,this.model,this._instantiationService)),this._register(this._configurationService.onDidChangeConfiguration(V=>{V.affectsConfiguration("accessibility.verbosity.inlineCompletions")&&this.editor.updateOptions({inlineCompletionsAccessibilityVerbose:this._configurationService.getValue("accessibility.verbosity.inlineCompletions")})})),this.editor.updateOptions({inlineCompletionsAccessibilityVerbose:this._configurationService.getValue("accessibility.verbosity.inlineCompletions")})}playAccessibilitySignal(I){this._playAccessibilitySignal.trigger(I)}provideScreenReaderUpdate(I){const E=this._contextKeyService.getContextKeyValue("accessibleViewIsShown"),T=this._keybindingService.lookupKeybinding("editor.action.accessibleView");let N;!E&&T&&this.editor.getOption(149)&&(N=(0,h.localize)(0,null,T.getAriaLabel())),N?(0,k.alert)(I+", "+N):(0,k.alert)(I)}updateObservables(I,E){var T,N,A;const O=this.editor.getModel();this._textModelVersionId.set((T=O?.getVersionId())!==null&&T!==void 0?T:-1,I,E),this._positions.set((A=(N=this.editor.getSelections())===null||N===void 0?void 0:N.map(M=>M.getPosition()))!==null&&A!==void 0?A:[new p.Position(1,1)],I)}shouldShowHoverAt(I){var E;const T=(E=this.model.get())===null||E===void 0?void 0:E.primaryGhostText.get();return T?T.parts.some(N=>I.containsPosition(new p.Position(T.lineNumber,N.column))):!1}shouldShowHoverAtViewZone(I){var E,T;return(T=(E=this._ghostTextWidgets.get()[0])===null||E===void 0?void 0:E.ownsViewZone(I))!==null&&T!==void 0?T:!1}};e.InlineCompletionsController=f,f.ID="editor.contrib.inlineCompletionsController",e.InlineCompletionsController=f=c=Ie([he(1,l.IInstantiationService),he(2,r.IContextKeyService),he(3,d.IConfigurationService),he(4,u.ICommandService),he(5,w.ILanguageFeatureDebounceService),he(6,C.ILanguageFeaturesService),he(7,v.IAccessibilitySignalService),he(8,o.IKeybindingService)],f);function _(S,I){const E=(0,L.observableValue)("result",[]),T=[];return I.add((0,L.autorun)(N=>{const A=S.read(N);(0,L.transaction)(O=>{if(A.length!==T.length){T.length=A.length;for(let M=0;M<T.length;M++)T[M]||(T[M]=(0,L.observableValue)("item",A[M]));E.set([...T],O)}T.forEach((M,P)=>M.set(A[P],O))})})),E}}),define(te[976],ie([1,0,32,135,16,19,232,256,281,149,722,28,25,14]),function(J,e,m,k,D,L,y,p,w,C,b,a,s,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ToggleAlwaysShowInlineSuggestionToolbar=e.HideInlineCompletion=e.AcceptInlineCompletion=e.AcceptNextLineOfInlineCompletion=e.AcceptNextWordOfInlineCompletion=e.TriggerInlineSuggestionAction=e.ShowPreviousInlineSuggestionAction=e.ShowNextInlineSuggestionAction=void 0;class t extends D.EditorAction{constructor(){super({id:t.ID,label:b.localize(0,null),alias:"Show Next Inline Suggestion",precondition:i.ContextKeyExpr.and(L.EditorContextKeys.writable,p.InlineCompletionContextKeys.inlineSuggestionVisible),kbOpts:{weight:100,primary:606}})}async run(g,c){var f;const _=w.InlineCompletionsController.get(c);(f=_?.model.get())===null||f===void 0||f.next()}}e.ShowNextInlineSuggestionAction=t,t.ID=y.showNextInlineSuggestionActionId;class n extends D.EditorAction{constructor(){super({id:n.ID,label:b.localize(1,null),alias:"Show Previous Inline Suggestion",precondition:i.ContextKeyExpr.and(L.EditorContextKeys.writable,p.InlineCompletionContextKeys.inlineSuggestionVisible),kbOpts:{weight:100,primary:604}})}async run(g,c){var f;const _=w.InlineCompletionsController.get(c);(f=_?.model.get())===null||f===void 0||f.previous()}}e.ShowPreviousInlineSuggestionAction=n,n.ID=y.showPreviousInlineSuggestionActionId;class h extends D.EditorAction{constructor(){super({id:"editor.action.inlineSuggest.trigger",label:b.localize(2,null),alias:"Trigger Inline Suggestion",precondition:L.EditorContextKeys.writable})}async run(g,c){const f=w.InlineCompletionsController.get(c);await(0,k.asyncTransaction)(async _=>{var S;await((S=f?.model.get())===null||S===void 0?void 0:S.triggerExplicitly(_)),f?.playAccessibilitySignal(_)})}}e.TriggerInlineSuggestionAction=h;class v extends D.EditorAction{constructor(){super({id:"editor.action.inlineSuggest.acceptNextWord",label:b.localize(3,null),alias:"Accept Next Word Of Inline Suggestion",precondition:i.ContextKeyExpr.and(L.EditorContextKeys.writable,p.InlineCompletionContextKeys.inlineSuggestionVisible),kbOpts:{weight:101,primary:2065,kbExpr:i.ContextKeyExpr.and(L.EditorContextKeys.writable,p.InlineCompletionContextKeys.inlineSuggestionVisible)},menuOpts:[{menuId:a.MenuId.InlineSuggestionToolbar,title:b.localize(4,null),group:"primary",order:2}]})}async run(g,c){var f;const _=w.InlineCompletionsController.get(c);await((f=_?.model.get())===null||f===void 0?void 0:f.acceptNextWord(_.editor))}}e.AcceptNextWordOfInlineCompletion=v;class u extends D.EditorAction{constructor(){super({id:"editor.action.inlineSuggest.acceptNextLine",label:b.localize(5,null),alias:"Accept Next Line Of Inline Suggestion",precondition:i.ContextKeyExpr.and(L.EditorContextKeys.writable,p.InlineCompletionContextKeys.inlineSuggestionVisible),kbOpts:{weight:101},menuOpts:[{menuId:a.MenuId.InlineSuggestionToolbar,title:b.localize(6,null),group:"secondary",order:2}]})}async run(g,c){var f;const _=w.InlineCompletionsController.get(c);await((f=_?.model.get())===null||f===void 0?void 0:f.acceptNextLine(_.editor))}}e.AcceptNextLineOfInlineCompletion=u;class d extends D.EditorAction{constructor(){super({id:y.inlineSuggestCommitId,label:b.localize(7,null),alias:"Accept Inline Suggestion",precondition:p.InlineCompletionContextKeys.inlineSuggestionVisible,menuOpts:[{menuId:a.MenuId.InlineSuggestionToolbar,title:b.localize(8,null),group:"primary",order:1}],kbOpts:{primary:2,weight:200,kbExpr:i.ContextKeyExpr.and(p.InlineCompletionContextKeys.inlineSuggestionVisible,L.EditorContextKeys.tabMovesFocus.toNegated(),p.InlineCompletionContextKeys.inlineSuggestionHasIndentationLessThanTabSize,C.Context.Visible.toNegated(),L.EditorContextKeys.hoverFocused.toNegated())}})}async run(g,c){var f;const _=w.InlineCompletionsController.get(c);_&&((f=_.model.get())===null||f===void 0||f.accept(_.editor),_.editor.focus())}}e.AcceptInlineCompletion=d;class r extends D.EditorAction{constructor(){super({id:r.ID,label:b.localize(9,null),alias:"Hide Inline Suggestion",precondition:p.InlineCompletionContextKeys.inlineSuggestionVisible,kbOpts:{weight:100,primary:9}})}async run(g,c){const f=w.InlineCompletionsController.get(c);(0,m.transaction)(_=>{var S;(S=f?.model.get())===null||S===void 0||S.stop(_)})}}e.HideInlineCompletion=r,r.ID="editor.action.inlineSuggest.hide";class l extends a.Action2{constructor(){super({id:l.ID,title:b.localize(10,null),f1:!1,precondition:void 0,menu:[{id:a.MenuId.InlineSuggestionToolbar,group:"secondary",order:10}],toggled:i.ContextKeyExpr.equals("config.editor.inlineSuggest.showToolbar","always")})}async run(g,c){const f=g.get(s.IConfigurationService),S=f.getValue("editor.inlineSuggest.showToolbar")==="always"?"onHover":"always";f.updateValue("editor.inlineSuggest.showToolbar",S)}}e.ToggleAlwaysShowInlineSuggestionToolbar=l,l.ID="editor.action.inlineSuggest.toggleAlwaysShowToolbar"}),define(te[977],ie([1,0,6,57,2,32,5,42,95,281,273,114,723,74,8,59,65]),function(J,e,m,k,D,L,y,p,w,C,b,a,s,i,t,n,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlineCompletionsHoverParticipant=e.InlineCompletionsHover=void 0;class v{constructor(r,l,o){this.owner=r,this.range=l,this.controller=o}isValidForHoverAnchor(r){return r.type===1&&this.range.startColumn<=r.range.startColumn&&this.range.endColumn>=r.range.endColumn}}e.InlineCompletionsHover=v;let u=class{constructor(r,l,o,g,c,f){this._editor=r,this._languageService=l,this._openerService=o,this.accessibilityService=g,this._instantiationService=c,this._telemetryService=f,this.hoverOrdinal=4}suggestHoverAnchor(r){const l=C.InlineCompletionsController.get(this._editor);if(!l)return null;const o=r.target;if(o.type===8){const g=o.detail;if(l.shouldShowHoverAtViewZone(g.viewZoneId))return new w.HoverForeignElementAnchor(1e3,this,y.Range.fromPositions(this._editor.getModel().validatePosition(g.positionBefore||g.position)),r.event.posx,r.event.posy,!1)}return o.type===7&&l.shouldShowHoverAt(o.range)?new w.HoverForeignElementAnchor(1e3,this,o.range,r.event.posx,r.event.posy,!1):o.type===6&&o.detail.mightBeForeignElement&&l.shouldShowHoverAt(o.range)?new w.HoverForeignElementAnchor(1e3,this,o.range,r.event.posx,r.event.posy,!1):null}computeSync(r,l){if(this._editor.getOption(62).showToolbar!=="onHover")return[];const o=C.InlineCompletionsController.get(this._editor);return o&&o.shouldShowHoverAt(r.range)?[new v(this,r.range,o)]:[]}renderHoverParts(r,l){const o=new D.DisposableStore,g=l[0];this._telemetryService.publicLog2("inlineCompletionHover.shown"),this.accessibilityService.isScreenReaderOptimized()&&!this._editor.getOption(8)&&this.renderScreenReaderText(r,g,o);const c=g.controller.model.get(),f=this._instantiationService.createInstance(b.InlineSuggestionHintsContentWidget,this._editor,!1,(0,L.constObservable)(null),c.selectedInlineCompletionIndex,c.inlineCompletionsCount,c.selectedInlineCompletion.map(_=>{var S;return(S=_?.inlineCompletion.source.inlineCompletions.commands)!==null&&S!==void 0?S:[]}));return r.fragment.appendChild(f.getDomNode()),c.triggerExplicitly(),o.add(f),o}renderScreenReaderText(r,l,o){const g=m.$,c=g("div.hover-row.markdown-hover"),f=m.append(c,g("div.hover-contents",{"aria-live":"assertive"})),_=o.add(new a.MarkdownRenderer({editor:this._editor},this._languageService,this._openerService)),S=I=>{o.add(_.onDidRenderAsync(()=>{f.className="hover-contents code-hover-contents",r.onContentsChanged()}));const E=s.localize(0,null),T=o.add(_.render(new k.MarkdownString().appendText(E).appendCodeblock("text",I)));f.replaceChildren(T.element)};o.add((0,L.autorun)(I=>{var E;const T=(E=l.controller.model.read(I))===null||E===void 0?void 0:E.primaryGhostText.read(I);if(T){const N=this._editor.getModel().getLineContent(T.lineNumber);S(T.renderForScreenReader(N))}else m.reset(f)})),r.fragment.appendChild(c)}};e.InlineCompletionsHoverParticipant=u,e.InlineCompletionsHoverParticipant=u=Ie([he(1,p.ILanguageService),he(2,n.IOpenerService),he(3,i.IAccessibilityService),he(4,t.IInstantiationService),he(5,h.ITelemetryService)],u)}),define(te[978],ie([1,0,16,95,976,977,281,28]),function(J,e,m,k,D,L,y,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),(0,m.registerEditorContribution)(y.InlineCompletionsController.ID,y.InlineCompletionsController,3),(0,m.registerEditorAction)(D.TriggerInlineSuggestionAction),(0,m.registerEditorAction)(D.ShowNextInlineSuggestionAction),(0,m.registerEditorAction)(D.ShowPreviousInlineSuggestionAction),(0,m.registerEditorAction)(D.AcceptNextWordOfInlineCompletion),(0,m.registerEditorAction)(D.AcceptNextLineOfInlineCompletion),(0,m.registerEditorAction)(D.AcceptInlineCompletion),(0,m.registerEditorAction)(D.HideInlineCompletion),(0,p.registerAction2)(D.ToggleAlwaysShowInlineSuggestionToolbar),k.HoverParticipantRegistry.register(L.InlineCompletionsHoverParticipant)}),define(te[979],ie([1,0,20,76,54,2,36,5,141,18,328,149,377,411,329,112]),function(J,e,m,k,D,L,y,p,w,C,b,a,s,i,t,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestInlineCompletions=void 0;class h{constructor(r,l,o,g,c,f){this.range=r,this.insertText=l,this.filterText=o,this.additionalTextEdits=g,this.command=c,this.completion=f}}let v=class extends L.RefCountedDisposable{constructor(r,l,o,g,c,f){super(c.disposable),this.model=r,this.line=l,this.word=o,this.completionModel=g,this._suggestMemoryService=f}canBeReused(r,l,o){return this.model===r&&this.line===l&&this.word.word.length>0&&this.word.startColumn===o.startColumn&&this.word.endColumn<o.endColumn&&this.completionModel.getIncompleteProvider().size===0}get items(){var r;const l=[],{items:o}=this.completionModel,g=this._suggestMemoryService.select(this.model,{lineNumber:this.line,column:this.word.endColumn+this.completionModel.lineContext.characterCountDelta},o),c=D.Iterable.slice(o,g),f=D.Iterable.slice(o,0,g);let _=5;for(const S of D.Iterable.concat(c,f)){if(S.score===k.FuzzyScore.Default)continue;const I=new p.Range(S.editStart.lineNumber,S.editStart.column,S.editInsertEnd.lineNumber,S.editInsertEnd.column+this.completionModel.lineContext.characterCountDelta),E=S.completion.insertTextRules&&S.completion.insertTextRules&4?{snippet:S.completion.insertText}:S.completion.insertText;l.push(new h(I,E,(r=S.filterTextLow)!==null&&r!==void 0?r:S.labelLow,S.completion.additionalTextEdits,S.completion.command,S)),_-->=0&&S.resolve(m.CancellationToken.None)}return l}};v=Ie([he(5,s.ISuggestMemoryService)],v);let u=class extends L.Disposable{constructor(r,l,o,g){super(),this._languageFeatureService=r,this._clipboardService=l,this._suggestMemoryService=o,this._editorService=g,this._store.add(r.inlineCompletionsProvider.register("*",this))}async provideInlineCompletions(r,l,o,g){var c;if(o.selectedSuggestionInfo)return;let f;for(const O of this._editorService.listCodeEditors())if(O.getModel()===r){f=O;break}if(!f)return;const _=f.getOption(89);if(a.QuickSuggestionsOptions.isAllOff(_))return;r.tokenization.tokenizeIfCheap(l.lineNumber);const S=r.tokenization.getLineTokens(l.lineNumber),I=S.getStandardTokenType(S.findTokenIndexAtOffset(Math.max(l.column-1-1,0)));if(a.QuickSuggestionsOptions.valueFor(_,I)!=="inline")return;let E=r.getWordAtPosition(l),T;if(E?.word||(T=this._getTriggerCharacterInfo(r,l)),!E?.word&&!T||(E||(E=r.getWordUntilPosition(l)),E.endColumn!==l.column))return;let N;const A=r.getValueInRange(new p.Range(l.lineNumber,1,l.lineNumber,l.column));if(!T&&(!((c=this._lastResult)===null||c===void 0)&&c.canBeReused(r,l.lineNumber,E))){const O=new b.LineContext(A,l.column-this._lastResult.word.endColumn);this._lastResult.completionModel.lineContext=O,this._lastResult.acquire(),N=this._lastResult}else{const O=await(0,a.provideSuggestionItems)(this._languageFeatureService.completionProvider,r,l,new a.CompletionOptions(void 0,i.SuggestModel.createSuggestFilter(f).itemKind,T?.providers),T&&{triggerKind:1,triggerCharacter:T.ch},g);let M;O.needsClipboard&&(M=await this._clipboardService.readText());const P=new b.CompletionModel(O.items,l.column,new b.LineContext(A,0),t.WordDistance.None,f.getOption(118),f.getOption(112),{boostFullMatch:!1,firstMatchCanBeWeak:!1},M);N=new v(r,l.lineNumber,E,P,O,this._suggestMemoryService)}return this._lastResult=N,N}handleItemDidShow(r,l){l.completion.resolve(m.CancellationToken.None)}freeInlineCompletions(r){r.release()}_getTriggerCharacterInfo(r,l){var o;const g=r.getValueInRange(p.Range.fromPositions({lineNumber:l.lineNumber,column:l.column-1},l)),c=new Set;for(const f of this._languageFeatureService.completionProvider.all(r))!((o=f.triggerCharacters)===null||o===void 0)&&o.includes(g)&&c.add(f);if(c.size!==0)return{providers:c,ch:g}}};e.SuggestInlineCompletions=u,e.SuggestInlineCompletions=u=Ie([he(0,C.ILanguageFeaturesService),he(1,n.IClipboardService),he(2,s.ISuggestMemoryService),he(3,y.ICodeEditorService)],u),(0,w.registerEditorFeature)(u)}),define(te[413],ie([1,0,8]),function(J,e,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IWorkspaceTrustManagementService=void 0,e.IWorkspaceTrustManagementService=(0,m.createDecorator)("workspaceTrustManagementService")}),define(te[980],ie([1,0,15,26,57,2,17,11,16,38,37,314,111,42,353,95,267,886,754,25,8,59,75,85,413,504]),function(J,e,m,k,D,L,y,p,w,C,b,a,s,i,t,n,h,v,u,d,r,l,o,g,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ShowExcludeOptions=e.DisableHighlightingOfNonBasicAsciiCharactersAction=e.DisableHighlightingOfInvisibleCharactersAction=e.DisableHighlightingOfAmbiguousCharactersAction=e.DisableHighlightingInStringsAction=e.DisableHighlightingInCommentsAction=e.UnicodeHighlighterHoverParticipant=e.UnicodeHighlighter=e.warningIcon=void 0,e.warningIcon=(0,g.registerIcon)("extensions-warning-message",k.Codicon.warning,u.localize(0,null));let f=class extends L.Disposable{constructor(F,X,Q,Z){super(),this._editor=F,this._editorWorkerService=X,this._workspaceTrustService=Q,this._highlighter=null,this._bannerClosed=!1,this._updateState=ae=>{if(ae&&ae.hasMore){if(this._bannerClosed)return;const ue=Math.max(ae.ambiguousCharacterCount,ae.nonBasicAsciiCharacterCount,ae.invisibleCharacterCount);let ge;if(ae.nonBasicAsciiCharacterCount>=ue)ge={message:u.localize(1,null),command:new V};else if(ae.ambiguousCharacterCount>=ue)ge={message:u.localize(2,null),command:new B};else if(ae.invisibleCharacterCount>=ue)ge={message:u.localize(3,null),command:new H};else throw new Error("Unreachable");this._bannerController.show({id:"unicodeHighlightBanner",message:ge.message,icon:e.warningIcon,actions:[{label:ge.command.shortLabel,href:`command:${ge.command.id}`}],onClose:()=>{this._bannerClosed=!0}})}else this._bannerController.hide()},this._bannerController=this._register(Z.createInstance(v.BannerController,F)),this._register(this._editor.onDidChangeModel(()=>{this._bannerClosed=!1,this._updateHighlighter()})),this._options=F.getOption(125),this._register(Q.onDidChangeTrust(ae=>{this._updateHighlighter()})),this._register(F.onDidChangeConfiguration(ae=>{ae.hasChanged(125)&&(this._options=F.getOption(125),this._updateHighlighter())})),this._updateHighlighter()}dispose(){this._highlighter&&(this._highlighter.dispose(),this._highlighter=null),super.dispose()}_updateHighlighter(){if(this._updateState(null),this._highlighter&&(this._highlighter.dispose(),this._highlighter=null),!this._editor.hasModel())return;const F=_(this._workspaceTrustService.isWorkspaceTrusted(),this._options);if([F.nonBasicASCII,F.ambiguousCharacters,F.invisibleCharacters].every(Q=>Q===!1))return;const X={nonBasicASCII:F.nonBasicASCII,ambiguousCharacters:F.ambiguousCharacters,invisibleCharacters:F.invisibleCharacters,includeComments:F.includeComments,includeStrings:F.includeStrings,allowedCodePoints:Object.keys(F.allowedCharacters).map(Q=>Q.codePointAt(0)),allowedLocales:Object.keys(F.allowedLocales).map(Q=>Q==="_os"?new Intl.NumberFormat().resolvedOptions().locale:Q==="_vscode"?y.language:Q)};this._editorWorkerService.canComputeUnicodeHighlights(this._editor.getModel().uri)?this._highlighter=new S(this._editor,X,this._updateState,this._editorWorkerService):this._highlighter=new I(this._editor,X,this._updateState)}getDecorationInfo(F){return this._highlighter?this._highlighter.getDecorationInfo(F):null}};e.UnicodeHighlighter=f,f.ID="editor.contrib.unicodeHighlighter",e.UnicodeHighlighter=f=Ie([he(1,s.IEditorWorkerService),he(2,c.IWorkspaceTrustManagementService),he(3,r.IInstantiationService)],f);function _(se,F){return{nonBasicASCII:F.nonBasicASCII===C.inUntrustedWorkspace?!se:F.nonBasicASCII,ambiguousCharacters:F.ambiguousCharacters,invisibleCharacters:F.invisibleCharacters,includeComments:F.includeComments===C.inUntrustedWorkspace?!se:F.includeComments,includeStrings:F.includeStrings===C.inUntrustedWorkspace?!se:F.includeStrings,allowedCharacters:F.allowedCharacters,allowedLocales:F.allowedLocales}}let S=class extends L.Disposable{constructor(F,X,Q,Z){super(),this._editor=F,this._options=X,this._updateState=Q,this._editorWorkerService=Z,this._model=this._editor.getModel(),this._decorations=this._editor.createDecorationsCollection(),this._updateSoon=this._register(new m.RunOnceScheduler(()=>this._update(),250)),this._register(this._editor.onDidChangeModelContent(()=>{this._updateSoon.schedule()})),this._updateSoon.schedule()}dispose(){this._decorations.clear(),super.dispose()}_update(){if(this._model.isDisposed())return;if(!this._model.mightContainNonBasicASCII()){this._decorations.clear();return}const F=this._model.getVersionId();this._editorWorkerService.computedUnicodeHighlights(this._model.uri,this._options).then(X=>{if(this._model.isDisposed()||this._model.getVersionId()!==F)return;this._updateState(X);const Q=[];if(!X.hasMore)for(const Z of X.ranges)Q.push({range:Z,options:P.instance.getDecorationFromOptions(this._options)});this._decorations.set(Q)})}getDecorationInfo(F){if(!this._decorations.has(F))return null;const X=this._editor.getModel();if(!(0,t.isModelDecorationVisible)(X,F))return null;const Q=X.getValueInRange(F.range);return{reason:M(Q,this._options),inComment:(0,t.isModelDecorationInComment)(X,F),inString:(0,t.isModelDecorationInString)(X,F)}}};S=Ie([he(3,s.IEditorWorkerService)],S);class I extends L.Disposable{constructor(F,X,Q){super(),this._editor=F,this._options=X,this._updateState=Q,this._model=this._editor.getModel(),this._decorations=this._editor.createDecorationsCollection(),this._updateSoon=this._register(new m.RunOnceScheduler(()=>this._update(),250)),this._register(this._editor.onDidLayoutChange(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidScrollChange(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidChangeHiddenAreas(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidChangeModelContent(()=>{this._updateSoon.schedule()})),this._updateSoon.schedule()}dispose(){this._decorations.clear(),super.dispose()}_update(){if(this._model.isDisposed())return;if(!this._model.mightContainNonBasicASCII()){this._decorations.clear();return}const F=this._editor.getVisibleRanges(),X=[],Q={ranges:[],ambiguousCharacterCount:0,invisibleCharacterCount:0,nonBasicAsciiCharacterCount:0,hasMore:!1};for(const Z of F){const ae=a.UnicodeTextModelHighlighter.computeUnicodeHighlights(this._model,this._options,Z);for(const ue of ae.ranges)Q.ranges.push(ue);Q.ambiguousCharacterCount+=Q.ambiguousCharacterCount,Q.invisibleCharacterCount+=Q.invisibleCharacterCount,Q.nonBasicAsciiCharacterCount+=Q.nonBasicAsciiCharacterCount,Q.hasMore=Q.hasMore||ae.hasMore}if(!Q.hasMore)for(const Z of Q.ranges)X.push({range:Z,options:P.instance.getDecorationFromOptions(this._options)});this._updateState(Q),this._decorations.set(X)}getDecorationInfo(F){if(!this._decorations.has(F))return null;const X=this._editor.getModel(),Q=X.getValueInRange(F.range);return(0,t.isModelDecorationVisible)(X,F)?{reason:M(Q,this._options),inComment:(0,t.isModelDecorationInComment)(X,F),inString:(0,t.isModelDecorationInString)(X,F)}:null}}const E=u.localize(4,null);let T=class{constructor(F,X,Q){this._editor=F,this._languageService=X,this._openerService=Q,this.hoverOrdinal=5}computeSync(F,X){if(!this._editor.hasModel()||F.type!==1)return[];const Q=this._editor.getModel(),Z=this._editor.getContribution(f.ID);if(!Z)return[];const ae=[],ue=new Set;let ge=300;for(const fe of X){const re=Z.getDecorationInfo(fe);if(!re)continue;const ee=Q.getValueInRange(fe.range).codePointAt(0),W=A(ee);let z;switch(re.reason.kind){case 0:{(0,p.isBasicASCII)(re.reason.confusableWith)?z=u.localize(5,null,W,A(re.reason.confusableWith.codePointAt(0))):z=u.localize(6,null,W,A(re.reason.confusableWith.codePointAt(0)));break}case 1:z=u.localize(7,null,W);break;case 2:z=u.localize(8,null,W);break}if(ue.has(z))continue;ue.add(z);const Y={codePoint:ee,reason:re.reason,inComment:re.inComment,inString:re.inString},j=u.localize(9,null),G=`command:${q.ID}?${encodeURIComponent(JSON.stringify(Y))}`,oe=new D.MarkdownString("",!0).appendMarkdown(z).appendText(" ").appendLink(G,j,E);ae.push(new h.MarkdownHover(this,fe.range,[oe],!1,ge++))}return ae}renderHoverParts(F,X){return(0,h.renderMarkdownHovers)(F,X,this._editor,this._languageService,this._openerService)}};e.UnicodeHighlighterHoverParticipant=T,e.UnicodeHighlighterHoverParticipant=T=Ie([he(1,i.ILanguageService),he(2,l.IOpenerService)],T);function N(se){return`U+${se.toString(16).padStart(4,"0")}`}function A(se){let F=`\`${N(se)}\``;return p.InvisibleCharacters.isInvisibleCharacter(se)||(F+=` "${`${O(se)}`}"`),F}function O(se){return se===96?"`` ` ``":"`"+String.fromCodePoint(se)+"`"}function M(se,F){return a.UnicodeTextModelHighlighter.computeUnicodeHighlightReason(se,F)}class P{constructor(){this.map=new Map}getDecorationFromOptions(F){return this.getDecoration(!F.includeComments,!F.includeStrings)}getDecoration(F,X){const Q=`${F}${X}`;let Z=this.map.get(Q);return Z||(Z=b.ModelDecorationOptions.createDynamic({description:"unicode-highlight",stickiness:1,className:"unicode-highlight",showIfCollapsed:!0,overviewRuler:null,minimap:null,hideInCommentTokens:F,hideInStringTokens:X}),this.map.set(Q,Z)),Z}}P.instance=new P;class x extends w.EditorAction{constructor(){super({id:B.ID,label:u.localize(11,null),alias:"Disable highlighting of characters in comments",precondition:void 0}),this.shortLabel=u.localize(10,null)}async run(F,X,Q){const Z=F?.get(d.IConfigurationService);Z&&this.runAction(Z)}async runAction(F){await F.updateValue(C.unicodeHighlightConfigKeys.includeComments,!1,2)}}e.DisableHighlightingInCommentsAction=x;class R extends w.EditorAction{constructor(){super({id:B.ID,label:u.localize(13,null),alias:"Disable highlighting of characters in strings",precondition:void 0}),this.shortLabel=u.localize(12,null)}async run(F,X,Q){const Z=F?.get(d.IConfigurationService);Z&&this.runAction(Z)}async runAction(F){await F.updateValue(C.unicodeHighlightConfigKeys.includeStrings,!1,2)}}e.DisableHighlightingInStringsAction=R;class B extends w.EditorAction{constructor(){super({id:B.ID,label:u.localize(15,null),alias:"Disable highlighting of ambiguous characters",precondition:void 0}),this.shortLabel=u.localize(14,null)}async run(F,X,Q){const Z=F?.get(d.IConfigurationService);Z&&this.runAction(Z)}async runAction(F){await F.updateValue(C.unicodeHighlightConfigKeys.ambiguousCharacters,!1,2)}}e.DisableHighlightingOfAmbiguousCharactersAction=B,B.ID="editor.action.unicodeHighlight.disableHighlightingOfAmbiguousCharacters";class H extends w.EditorAction{constructor(){super({id:H.ID,label:u.localize(17,null),alias:"Disable highlighting of invisible characters",precondition:void 0}),this.shortLabel=u.localize(16,null)}async run(F,X,Q){const Z=F?.get(d.IConfigurationService);Z&&this.runAction(Z)}async runAction(F){await F.updateValue(C.unicodeHighlightConfigKeys.invisibleCharacters,!1,2)}}e.DisableHighlightingOfInvisibleCharactersAction=H,H.ID="editor.action.unicodeHighlight.disableHighlightingOfInvisibleCharacters";class V extends w.EditorAction{constructor(){super({id:V.ID,label:u.localize(19,null),alias:"Disable highlighting of non basic ASCII characters",precondition:void 0}),this.shortLabel=u.localize(18,null)}async run(F,X,Q){const Z=F?.get(d.IConfigurationService);Z&&this.runAction(Z)}async runAction(F){await F.updateValue(C.unicodeHighlightConfigKeys.nonBasicASCII,!1,2)}}e.DisableHighlightingOfNonBasicAsciiCharactersAction=V,V.ID="editor.action.unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters";class q extends w.EditorAction{constructor(){super({id:q.ID,label:u.localize(20,null),alias:"Show Exclude Options",precondition:void 0})}async run(F,X,Q){const{codePoint:Z,reason:ae,inString:ue,inComment:ge}=Q,fe=String.fromCodePoint(Z),re=F.get(o.IQuickInputService),de=F.get(d.IConfigurationService);function ee(Y){return p.InvisibleCharacters.isInvisibleCharacter(Y)?u.localize(21,null,N(Y)):u.localize(22,null,`${N(Y)} "${fe}"`)}const W=[];if(ae.kind===0)for(const Y of ae.notAmbiguousInLocales)W.push({label:u.localize(23,null,Y),run:async()=>{U(de,[Y])}});if(W.push({label:ee(Z),run:()=>K(de,[Z])}),ge){const Y=new x;W.push({label:Y.label,run:async()=>Y.runAction(de)})}else if(ue){const Y=new R;W.push({label:Y.label,run:async()=>Y.runAction(de)})}if(ae.kind===0){const Y=new B;W.push({label:Y.label,run:async()=>Y.runAction(de)})}else if(ae.kind===1){const Y=new H;W.push({label:Y.label,run:async()=>Y.runAction(de)})}else if(ae.kind===2){const Y=new V;W.push({label:Y.label,run:async()=>Y.runAction(de)})}else $(ae);const z=await re.pick(W,{title:E});z&&await z.run()}}e.ShowExcludeOptions=q,q.ID="editor.action.unicodeHighlight.showExcludeOptions";async function K(se,F){const X=se.getValue(C.unicodeHighlightConfigKeys.allowedCharacters);let Q;typeof X=="object"&&X?Q=X:Q={};for(const Z of F)Q[String.fromCodePoint(Z)]=!0;await se.updateValue(C.unicodeHighlightConfigKeys.allowedCharacters,Q,2)}async function U(se,F){var X;const Q=(X=se.inspect(C.unicodeHighlightConfigKeys.allowedLocales).user)===null||X===void 0?void 0:X.value;let Z;typeof Q=="object"&&Q?Z=Object.assign({},Q):Z={};for(const ae of F)Z[ae]=!0;await se.updateValue(C.unicodeHighlightConfigKeys.allowedLocales,Z,2)}function $(se){throw new Error(`Unexpected value: ${se}`)}(0,w.registerEditorAction)(B),(0,w.registerEditorAction)(H),(0,w.registerEditorAction)(V),(0,w.registerEditorAction)(q),(0,w.registerEditorContribution)(f.ID,f,1),n.HoverParticipantRegistry.register(T)}),define(te[981],ie([1,0,204,209,932,847,935,848,849,970,937,939,962,946,850,969,851,940,971,972,398,277,854,855,817,978,278,279,404,402,405,857,964,947,858,859,949,950,860,956,921,885,909,951,910,911,862,211,966,412,979,863,837,980,864,957,383,865,861,816,103,187]),function(J,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),define(te[282],ie([1,0,11,6,48,7,133,2,17,107,22,147,260,71,9,5,53,73,200,27,25,375,14,170,8,813,35,365,131,366,814,172,51,91,65,177,113,103,50,36,61,413,58,368,832,922,46,822,111,261,42,904,253,928,925,391,148,815,74,28,843,818,112,810,252,811,171,205,104,821,59,75,97,836,130,819,141,12,258,52,33,390,367,968,83,905,801,892]),function(J,e,m,k,D,L,y,p,w,C,b,a,s,i,t,n,h,v,u,d,r,l,o,g,c,f,_,S,I,E,T,N,A,O,M,P,x,R,B,H,V,q,K,U,$,se,F,X,Q,Z,ae,ue,ge,fe,re,de,ee,W,z,Y,j,G,oe,ne,ce,le,me,ve,Ce,Se,_e,Le,ke,Ae,xe,He,Be,Ee,Ne,pe){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandaloneServices=e.StandaloneConfigurationService=e.StandaloneKeybindingService=e.StandaloneCommandService=e.StandaloneNotificationService=void 0,e.updateConfigurationService=we;class be{constructor(Fe){this.disposed=!1,this.model=Fe,this._onWillDispose=new L.Emitter}get textEditorModel(){return this.model}dispose(){this.disposed=!0,this._onWillDispose.fire()}}let Re=class{constructor(Fe){this.modelService=Fe}createModelReference(Fe){const Ve=this.modelService.getModel(Fe);return Ve?Promise.resolve(new p.ImmortalReference(new be(Ve))):Promise.reject(new Error("Model not found"))}};Re=Ie([he(0,h.IModelService)],Re);class We{show(){return We.NULL_PROGRESS_RUNNER}async showWhile(Fe,Ve){await Fe}}We.NULL_PROGRESS_RUNNER={done:()=>{},total:()=>{},worked:()=>{}};class qe{withProgress(Fe,Ve,Ke){return Ve({report:()=>{}})}}class je{constructor(){this.isExtensionDevelopment=!1,this.isBuilt=!1}}class Ze{async confirm(Fe){return{confirmed:this.doConfirm(Fe.message,Fe.detail),checkboxChecked:!1}}doConfirm(Fe,Ve){let Ke=Fe;return Ve&&(Ke=Ke+`

`+Ve),pe.mainWindow.confirm(Ke)}async prompt(Fe){var Ve,Ke;let Ge;if(this.doConfirm(Fe.message,Fe.detail)){const tt=[...(Ve=Fe.buttons)!==null&&Ve!==void 0?Ve:[]];Fe.cancelButton&&typeof Fe.cancelButton!="string"&&typeof Fe.cancelButton!="boolean"&&tt.push(Fe.cancelButton),Ge=await((Ke=tt[0])===null||Ke===void 0?void 0:Ke.run({checkboxChecked:!1}))}return{result:Ge}}async error(Fe,Ve){await this.prompt({type:C.default.Error,message:Fe,detail:Ve})}}class Je{info(Fe){return this.notify({severity:C.default.Info,message:Fe})}warn(Fe){return this.notify({severity:C.default.Warning,message:Fe})}error(Fe){return this.notify({severity:C.default.Error,message:Fe})}notify(Fe){switch(Fe.severity){case C.default.Error:console.error(Fe.message);break;case C.default.Warning:console.warn(Fe.message);break;default:console.log(Fe.message);break}return Je.NO_OP}prompt(Fe,Ve,Ke,Ge){return Je.NO_OP}status(Fe,Ve){return p.Disposable.None}}e.StandaloneNotificationService=Je,Je.NO_OP=new A.NoOpNotification;let st=class{constructor(Fe){this._onWillExecuteCommand=new L.Emitter,this._onDidExecuteCommand=new L.Emitter,this.onDidExecuteCommand=this._onDidExecuteCommand.event,this._instantiationService=Fe}executeCommand(Fe,...Ve){const Ke=d.CommandsRegistry.getCommand(Fe);if(!Ke)return Promise.reject(new Error(`command '${Fe}' not found`));try{this._onWillExecuteCommand.fire({commandId:Fe,args:Ve});const Ge=this._instantiationService.invokeFunction.apply(this._instantiationService,[Ke.handler,...Ve]);return this._onDidExecuteCommand.fire({commandId:Fe,args:Ve}),Promise.resolve(Ge)}catch(Ge){return Promise.reject(Ge)}}};e.StandaloneCommandService=st,e.StandaloneCommandService=st=Ie([he(0,c.IInstantiationService)],st);let rt=class extends f.AbstractKeybindingService{constructor(Fe,Ve,Ke,Ge,it,tt){super(Fe,Ve,Ke,Ge,it),this._cachedResolver=null,this._dynamicKeybindings=[],this._domNodeListeners=[];const lt=ct=>{const gt=new p.DisposableStore;gt.add(k.addDisposableListener(ct,k.EventType.KEY_DOWN,Dt=>{const Lt=new D.StandardKeyboardEvent(Dt);this._dispatch(Lt,Lt.target)&&(Lt.preventDefault(),Lt.stopPropagation())})),gt.add(k.addDisposableListener(ct,k.EventType.KEY_UP,Dt=>{const Lt=new D.StandardKeyboardEvent(Dt);this._singleModifierDispatch(Lt,Lt.target)&&Lt.preventDefault()})),this._domNodeListeners.push(new pt(ct,gt))},nt=ct=>{for(let gt=0;gt<this._domNodeListeners.length;gt++){const Dt=this._domNodeListeners[gt];Dt.domNode===ct&&(this._domNodeListeners.splice(gt,1),Dt.dispose())}},at=ct=>{ct.getOption(61)||lt(ct.getContainerDomNode())},dt=ct=>{ct.getOption(61)||nt(ct.getContainerDomNode())};this._register(tt.onCodeEditorAdd(at)),this._register(tt.onCodeEditorRemove(dt)),tt.listCodeEditors().forEach(at);const ht=ct=>{lt(ct.getContainerDomNode())},mt=ct=>{nt(ct.getContainerDomNode())};this._register(tt.onDiffEditorAdd(ht)),this._register(tt.onDiffEditorRemove(mt)),tt.listDiffEditors().forEach(ht)}addDynamicKeybinding(Fe,Ve,Ke,Ge){return(0,p.combinedDisposable)(d.CommandsRegistry.registerCommand(Fe,Ke),this.addDynamicKeybindings([{keybinding:Ve,command:Fe,when:Ge}]))}addDynamicKeybindings(Fe){const Ve=Fe.map(Ke=>{var Ge;return{keybinding:(0,y.decodeKeybinding)(Ke.keybinding,w.OS),command:(Ge=Ke.command)!==null&&Ge!==void 0?Ge:null,commandArgs:Ke.commandArgs,when:Ke.when,weight1:1e3,weight2:0,extensionId:null,isBuiltinExtension:!1}});return this._dynamicKeybindings=this._dynamicKeybindings.concat(Ve),this.updateResolver(),(0,p.toDisposable)(()=>{for(let Ke=0;Ke<this._dynamicKeybindings.length;Ke++)if(this._dynamicKeybindings[Ke]===Ve[0]){this._dynamicKeybindings.splice(Ke,Ve.length),this.updateResolver();return}})}updateResolver(){this._cachedResolver=null,this._onDidUpdateKeybindings.fire()}_getResolver(){if(!this._cachedResolver){const Fe=this._toNormalizedKeybindingItems(I.KeybindingsRegistry.getDefaultKeybindings(),!0),Ve=this._toNormalizedKeybindingItems(this._dynamicKeybindings,!1);this._cachedResolver=new S.KeybindingResolver(Fe,Ve,Ke=>this._log(Ke))}return this._cachedResolver}_documentHasFocus(){return pe.mainWindow.document.hasFocus()}_toNormalizedKeybindingItems(Fe,Ve){const Ke=[];let Ge=0;for(const it of Fe){const tt=it.when||void 0,lt=it.keybinding;if(!lt)Ke[Ge++]=new E.ResolvedKeybindingItem(void 0,it.command,it.commandArgs,tt,Ve,null,!1);else{const nt=T.USLayoutResolvedKeybinding.resolveKeybinding(lt,w.OS);for(const at of nt)Ke[Ge++]=new E.ResolvedKeybindingItem(at,it.command,it.commandArgs,tt,Ve,null,!1)}}return Ke}resolveKeyboardEvent(Fe){const Ve=new y.KeyCodeChord(Fe.ctrlKey,Fe.shiftKey,Fe.altKey,Fe.metaKey,Fe.keyCode);return new T.USLayoutResolvedKeybinding([Ve],w.OS)}};e.StandaloneKeybindingService=rt,e.StandaloneKeybindingService=rt=Ie([he(0,o.IContextKeyService),he(1,d.ICommandService),he(2,M.ITelemetryService),he(3,A.INotificationService),he(4,V.ILogService),he(5,H.ICodeEditorService)],rt);class pt extends p.Disposable{constructor(Fe,Ve){super(),this.domNode=Fe,this._register(Ve)}}function et(Ye){return Ye&&typeof Ye=="object"&&(!Ye.overrideIdentifier||typeof Ye.overrideIdentifier=="string")&&(!Ye.resource||Ye.resource instanceof b.URI)}class ut{constructor(){this._onDidChangeConfiguration=new L.Emitter,this.onDidChangeConfiguration=this._onDidChangeConfiguration.event;const Fe=new Ae.DefaultConfiguration;this._configuration=new l.Configuration(Fe.reload(),new l.ConfigurationModel,new l.ConfigurationModel,new l.ConfigurationModel),Fe.dispose()}getValue(Fe,Ve){const Ke=typeof Fe=="string"?Fe:void 0,Ge=et(Fe)?Fe:et(Ve)?Ve:{};return this._configuration.getValue(Ke,Ge,void 0)}updateValues(Fe){const Ve={data:this._configuration.toData()},Ke=[];for(const Ge of Fe){const[it,tt]=Ge;this.getValue(it)!==tt&&(this._configuration.updateValue(it,tt),Ke.push(it))}if(Ke.length>0){const Ge=new l.ConfigurationChangeEvent({keys:Ke,overrides:[]},Ve,this._configuration);Ge.source=8,this._onDidChangeConfiguration.fire(Ge)}return Promise.resolve()}updateValue(Fe,Ve,Ke,Ge){return this.updateValues([[Fe,Ve]])}inspect(Fe,Ve={}){return this._configuration.inspect(Fe,Ve,void 0)}}e.StandaloneConfigurationService=ut;let ot=class{constructor(Fe,Ve,Ke){this.configurationService=Fe,this.modelService=Ve,this.languageService=Ke,this._onDidChangeConfiguration=new L.Emitter,this.configurationService.onDidChangeConfiguration(Ge=>{this._onDidChangeConfiguration.fire({affectedKeys:Ge.affectedKeys,affectsConfiguration:(it,tt)=>Ge.affectsConfiguration(tt)})})}getValue(Fe,Ve,Ke){const Ge=t.Position.isIPosition(Ve)?Ve:null,it=Ge?typeof Ke=="string"?Ke:void 0:typeof Ve=="string"?Ve:void 0,tt=Fe?this.getLanguage(Fe,Ge):void 0;return typeof it>"u"?this.configurationService.getValue({resource:Fe,overrideIdentifier:tt}):this.configurationService.getValue(it,{resource:Fe,overrideIdentifier:tt})}getLanguage(Fe,Ve){const Ke=this.modelService.getModel(Fe);return Ke?Ve?Ke.getLanguageIdAtPosition(Ve.lineNumber,Ve.column):Ke.getLanguageId():this.languageService.guessLanguageIdByFilepathOrFirstLine(Fe)}};ot=Ie([he(0,r.IConfigurationService),he(1,h.IModelService),he(2,ae.ILanguageService)],ot);let _t=class{constructor(Fe){this.configurationService=Fe}getEOL(Fe,Ve){const Ke=this.configurationService.getValue("files.eol",{overrideIdentifier:Ve,resource:Fe});return Ke&&typeof Ke=="string"&&Ke!=="auto"?Ke:w.isLinux||w.isMacintosh?`
`:`\r
`}};_t=Ie([he(0,r.IConfigurationService)],_t);class St{publicLog2(){}}class ye{constructor(){const Fe=b.URI.from({scheme:ye.SCHEME,authority:"model",path:"/"});this.workspace={id:P.STANDALONE_EDITOR_WORKSPACE_ID,folders:[new P.WorkspaceFolder({uri:Fe,name:"",index:0})]}}getWorkspace(){return this.workspace}getWorkspaceFolder(Fe){return Fe&&Fe.scheme===ye.SCHEME?this.workspace.folders[0]:null}}ye.SCHEME="inmemory";function we(Ye,Fe,Ve){if(!Fe||!(Ye instanceof ut))return;const Ke=[];Object.keys(Fe).forEach(Ge=>{(0,s.isEditorConfigurationKey)(Ge)&&Ke.push([`editor.${Ge}`,Fe[Ge]]),Ve&&(0,s.isDiffEditorConfigurationKey)(Ge)&&Ke.push([`diffEditor.${Ge}`,Fe[Ge]])}),Ke.length>0&&Ye.updateValues(Ke)}let Me=class{constructor(Fe){this._modelService=Fe}hasPreviewHandler(){return!1}async apply(Fe,Ve){const Ke=Array.isArray(Fe)?Fe:a.ResourceEdit.convert(Fe),Ge=new Map;for(const lt of Ke){if(!(lt instanceof a.ResourceTextEdit))throw new Error("bad edit - only text edits are supported");const nt=this._modelService.getModel(lt.resource);if(!nt)throw new Error("bad edit - model not found");if(typeof lt.versionId=="number"&&nt.getVersionId()!==lt.versionId)throw new Error("bad state - model changed in the meantime");let at=Ge.get(nt);at||(at=[],Ge.set(nt,at)),at.push(i.EditOperation.replaceMove(n.Range.lift(lt.textEdit.range),lt.textEdit.text))}let it=0,tt=0;for(const[lt,nt]of Ge)lt.pushStackElement(),lt.pushEditOperations([],nt,()=>[]),lt.pushStackElement(),tt+=1,it+=nt.length;return{ariaSummary:m.format(R.StandaloneServicesNLS.bulkEditServiceSummary,it,tt),isApplied:it>0}}};Me=Ie([he(0,h.IModelService)],Me);class Te{getUriLabel(Fe,Ve){return Fe.scheme==="file"?Fe.fsPath:Fe.path}getUriBasenameLabel(Fe){return(0,B.basename)(Fe)}}let De=class extends U.ContextViewService{constructor(Fe,Ve){super(Fe),this._codeEditorService=Ve}showContextView(Fe,Ve,Ke){if(!Ve){const Ge=this._codeEditorService.getFocusedCodeEditor()||this._codeEditorService.getActiveCodeEditor();Ge&&(Ve=Ge.getContainerDomNode())}return super.showContextView(Fe,Ve,Ke)}};De=Ie([he(0,x.ILayoutService),he(1,H.ICodeEditorService)],De);class Oe{constructor(){this._neverEmitter=new L.Emitter,this.onDidChangeTrust=this._neverEmitter.event}isWorkspaceTrusted(){return!0}}class Pe extends $.LanguageService{constructor(){super()}}class ze extends He.LogService{constructor(){super(new V.ConsoleLogger)}}let Ue=class extends se.ContextMenuService{constructor(Fe,Ve,Ke,Ge,it,tt){super(Fe,Ve,Ke,Ge,it,tt),this.configure({blockMouse:!1})}};Ue=Ie([he(0,M.ITelemetryService),he(1,A.INotificationService),he(2,K.IContextViewService),he(3,_.IKeybindingService),he(4,Y.IMenuService),he(5,o.IContextKeyService)],Ue);class $e{async playSignal(Fe,Ve){}}(0,F.registerSingleton)(r.IConfigurationService,ut,0),(0,F.registerSingleton)(u.ITextResourceConfigurationService,ot,0),(0,F.registerSingleton)(u.ITextResourcePropertiesService,_t,0),(0,F.registerSingleton)(P.IWorkspaceContextService,ye,0),(0,F.registerSingleton)(N.ILabelService,Te,0),(0,F.registerSingleton)(M.ITelemetryService,St,0),(0,F.registerSingleton)(g.IDialogService,Ze,0),(0,F.registerSingleton)(Ne.IEnvironmentService,je,0),(0,F.registerSingleton)(A.INotificationService,Je,0),(0,F.registerSingleton)(Ce.IMarkerService,Se.MarkerService,0),(0,F.registerSingleton)(ae.ILanguageService,Pe,0),(0,F.registerSingleton)(ee.IStandaloneThemeService,de.StandaloneThemeService,0),(0,F.registerSingleton)(V.ILogService,ze,0),(0,F.registerSingleton)(h.IModelService,fe.ModelService,0),(0,F.registerSingleton)(ge.IMarkerDecorationsService,ue.MarkerDecorationsService,0),(0,F.registerSingleton)(o.IContextKeyService,ne.ContextKeyService,0),(0,F.registerSingleton)(O.IProgressService,qe,0),(0,F.registerSingleton)(O.IEditorProgressService,We,0),(0,F.registerSingleton)(ke.IStorageService,ke.InMemoryStorageService,0),(0,F.registerSingleton)(Q.IEditorWorkerService,Z.EditorWorkerService,0),(0,F.registerSingleton)(a.IBulkEditService,Me,0),(0,F.registerSingleton)(q.IWorkspaceTrustManagementService,Oe,0),(0,F.registerSingleton)(v.ITextModelService,Re,0),(0,F.registerSingleton)(z.IAccessibilityService,W.AccessibilityService,0),(0,F.registerSingleton)(ve.IListService,ve.ListService,0),(0,F.registerSingleton)(d.ICommandService,st,0),(0,F.registerSingleton)(_.IKeybindingService,rt,0),(0,F.registerSingleton)(Le.IQuickInputService,re.StandaloneQuickInputService,0),(0,F.registerSingleton)(K.IContextViewService,De,0),(0,F.registerSingleton)(_e.IOpenerService,X.OpenerService,0),(0,F.registerSingleton)(oe.IClipboardService,G.BrowserClipboardService,0),(0,F.registerSingleton)(K.IContextMenuService,Ue,0),(0,F.registerSingleton)(Y.IMenuService,j.MenuService,0),(0,F.registerSingleton)(xe.IAccessibilitySignalService,$e,0);var Qe;(function(Ye){const Fe=new me.ServiceCollection;for(const[nt,at]of(0,F.getSingletonServiceDescriptors)())Fe.set(nt,at);const Ve=new le.InstantiationService(Fe,!0);Fe.set(c.IInstantiationService,Ve);function Ke(nt){Ge||tt({});const at=Fe.get(nt);if(!at)throw new Error("Missing service "+nt);return at instanceof ce.SyncDescriptor?Ve.invokeFunction(dt=>dt.get(nt)):at}Ye.get=Ke;let Ge=!1;const it=new L.Emitter;function tt(nt){if(Ge)return Ve;Ge=!0;for(const[dt,ht]of(0,F.getSingletonServiceDescriptors)())Fe.get(dt)||Fe.set(dt,ht);for(const dt in nt)if(nt.hasOwnProperty(dt)){const ht=(0,c.createDecorator)(dt);Fe.get(ht)instanceof ce.SyncDescriptor&&Fe.set(ht,nt[dt])}const at=(0,Be.getEditorFeatures)();for(const dt of at)try{Ve.createInstance(dt)}catch(ht){(0,Ee.onUnexpectedError)(ht)}return it.fire(),Ve}Ye.initialize=tt;function lt(nt){if(Ge)return nt();const at=new p.DisposableStore,dt=at.add(it.event(()=>{dt.dispose(),at.add(nt())}));return at}Ye.withServices=lt})(Qe||(e.StandaloneServices=Qe={}))}),define(te[982],ie([1,0,45,2,36,209,305,282,148,28,27,25,14,58,8,35,51,23,74,103,112,91,53,42,390,84,33,18,275,130,52,44,202]),function(J,e,m,k,D,L,y,p,w,C,b,a,s,i,t,n,h,v,u,d,r,l,o,g,c,f,_,S,I,E,T,N,A){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandaloneDiffEditor2=e.StandaloneEditor=e.StandaloneCodeEditor=void 0,e.createTextModel=H;let O=0,M=!1;function P(q){if(!q){if(M)return;M=!0}m.setARIAContainer(q||T.mainWindow.document.body)}let x=class extends L.CodeEditorWidget{constructor(K,U,$,se,F,X,Q,Z,ae,ue,ge,fe){const re={...U};re.ariaLabel=re.ariaLabel||d.StandaloneCodeEditorNLS.editorViewAccessibleLabel,re.ariaLabel=re.ariaLabel+";"+d.StandaloneCodeEditorNLS.accessibilityHelpMessage,super(K,re,{},$,se,F,X,Z,ae,ue,ge,fe),Q instanceof p.StandaloneKeybindingService?this._standaloneKeybindingService=Q:this._standaloneKeybindingService=null,P(re.ariaContainerElement),(0,N.setHoverDelegateFactory)((de,ee)=>$.createInstance(A.WorkbenchHoverDelegate,de,ee,{}))}addCommand(K,U,$){if(!this._standaloneKeybindingService)return console.warn("Cannot add command because the editor is configured with an unrecognized KeybindingService"),null;const se="DYNAMIC_"+ ++O,F=s.ContextKeyExpr.deserialize($);return this._standaloneKeybindingService.addDynamicKeybinding(se,K,U,F),se}createContextKey(K,U){return this._contextKeyService.createKey(K,U)}addAction(K){if(typeof K.id!="string"||typeof K.label!="string"||typeof K.run!="function")throw new Error("Invalid action descriptor, `id`, `label` and `run` are required properties!");if(!this._standaloneKeybindingService)return console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService"),k.Disposable.None;const U=K.id,$=K.label,se=s.ContextKeyExpr.and(s.ContextKeyExpr.equals("editorId",this.getId()),s.ContextKeyExpr.deserialize(K.precondition)),F=K.keybindings,X=s.ContextKeyExpr.and(se,s.ContextKeyExpr.deserialize(K.keybindingContext)),Q=K.contextMenuGroupId||null,Z=K.contextMenuOrder||0,ae=(re,...de)=>Promise.resolve(K.run(this,...de)),ue=new k.DisposableStore,ge=this.getId()+":"+U;if(ue.add(b.CommandsRegistry.registerCommand(ge,ae)),Q){const re={command:{id:ge,title:$},when:se,group:Q,order:Z};ue.add(C.MenuRegistry.appendMenuItem(C.MenuId.EditorContext,re))}if(Array.isArray(F))for(const re of F)ue.add(this._standaloneKeybindingService.addDynamicKeybinding(ge,re,ae,X));const fe=new y.InternalEditorAction(ge,$,$,void 0,se,(...re)=>Promise.resolve(K.run(this,...re)),this._contextKeyService);return this._actions.set(U,fe),ue.add((0,k.toDisposable)(()=>{this._actions.delete(U)})),ue}_triggerCommand(K,U){if(this._codeEditorService instanceof c.StandaloneCodeEditorService)try{this._codeEditorService.setActiveCodeEditor(this),super._triggerCommand(K,U)}finally{this._codeEditorService.setActiveCodeEditor(null)}else super._triggerCommand(K,U)}};e.StandaloneCodeEditor=x,e.StandaloneCodeEditor=x=Ie([he(2,t.IInstantiationService),he(3,D.ICodeEditorService),he(4,b.ICommandService),he(5,s.IContextKeyService),he(6,n.IKeybindingService),he(7,v.IThemeService),he(8,h.INotificationService),he(9,u.IAccessibilityService),he(10,_.ILanguageConfigurationService),he(11,S.ILanguageFeaturesService)],x);let R=class extends x{constructor(K,U,$,se,F,X,Q,Z,ae,ue,ge,fe,re,de,ee){const W={...U};(0,p.updateConfigurationService)(ue,W,!1);const z=Z.registerEditorContainer(K);typeof W.theme=="string"&&Z.setTheme(W.theme),typeof W.autoDetectHighContrast<"u"&&Z.setAutoDetectHighContrast(!!W.autoDetectHighContrast);const Y=W.model;delete W.model,super(K,W,$,se,F,X,Q,Z,ae,ge,de,ee),this._configurationService=ue,this._standaloneThemeService=Z,this._register(z);let j;if(typeof Y>"u"){const G=re.getLanguageIdByMimeType(W.language)||W.language||f.PLAINTEXT_LANGUAGE_ID;j=H(fe,re,W.value||"",G,void 0),this._ownsModel=!0}else j=Y,this._ownsModel=!1;if(this._attachModel(j),j){const G={oldModelUrl:null,newModelUrl:j.uri};this._onDidChangeModel.fire(G)}}dispose(){super.dispose()}updateOptions(K){(0,p.updateConfigurationService)(this._configurationService,K,!1),typeof K.theme=="string"&&this._standaloneThemeService.setTheme(K.theme),typeof K.autoDetectHighContrast<"u"&&this._standaloneThemeService.setAutoDetectHighContrast(!!K.autoDetectHighContrast),super.updateOptions(K)}_postDetachModelCleanup(K){super._postDetachModelCleanup(K),K&&this._ownsModel&&(K.dispose(),this._ownsModel=!1)}};e.StandaloneEditor=R,e.StandaloneEditor=R=Ie([he(2,t.IInstantiationService),he(3,D.ICodeEditorService),he(4,b.ICommandService),he(5,s.IContextKeyService),he(6,n.IKeybindingService),he(7,w.IStandaloneThemeService),he(8,h.INotificationService),he(9,a.IConfigurationService),he(10,u.IAccessibilityService),he(11,o.IModelService),he(12,g.ILanguageService),he(13,_.ILanguageConfigurationService),he(14,S.ILanguageFeaturesService)],R);let B=class extends I.DiffEditorWidget{constructor(K,U,$,se,F,X,Q,Z,ae,ue,ge,fe){const re={...U};(0,p.updateConfigurationService)(Z,re,!0);const de=X.registerEditorContainer(K);typeof re.theme=="string"&&X.setTheme(re.theme),typeof re.autoDetectHighContrast<"u"&&X.setAutoDetectHighContrast(!!re.autoDetectHighContrast),super(K,re,{},se,$,F,fe,ue),this._configurationService=Z,this._standaloneThemeService=X,this._register(de)}dispose(){super.dispose()}updateOptions(K){(0,p.updateConfigurationService)(this._configurationService,K,!0),typeof K.theme=="string"&&this._standaloneThemeService.setTheme(K.theme),typeof K.autoDetectHighContrast<"u"&&this._standaloneThemeService.setAutoDetectHighContrast(!!K.autoDetectHighContrast),super.updateOptions(K)}_createInnerEditor(K,U,$){return K.createInstance(x,U,$)}getOriginalEditor(){return super.getOriginalEditor()}getModifiedEditor(){return super.getModifiedEditor()}addCommand(K,U,$){return this.getModifiedEditor().addCommand(K,U,$)}createContextKey(K,U){return this.getModifiedEditor().createContextKey(K,U)}addAction(K){return this.getModifiedEditor().addAction(K)}};e.StandaloneDiffEditor2=B,e.StandaloneDiffEditor2=B=Ie([he(2,t.IInstantiationService),he(3,s.IContextKeyService),he(4,D.ICodeEditorService),he(5,w.IStandaloneThemeService),he(6,h.INotificationService),he(7,a.IConfigurationService),he(8,i.IContextMenuService),he(9,l.IEditorProgressService),he(10,r.IClipboardService),he(11,E.IAccessibilitySignalService)],B);function H(q,K,U,$,se){if(U=U||"",!$){const F=U.indexOf(`
`);let X=U;return F!==-1&&(X=U.substring(0,F)),V(q,U,K.createByFilepathOrFirstLine(se||null,X),se)}return V(q,U,K.createById($),se)}function V(q,K,U,$){return q.createModel(K,U,$)}}),define(te[983],ie([1,0,52,2,11,22,352,16,36,827,38,158,251,189,29,42,33,84,168,43,53,227,805,982,282,148,28,27,14,35,104,59,934,510]),function(J,e,m,k,D,L,y,p,w,C,b,a,s,i,t,n,h,v,u,d,r,l,o,g,c,f,_,S,I,E,T,N,A){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.create=O,e.onDidCreateEditor=M,e.onDidCreateDiffEditor=P,e.getEditors=x,e.getDiffEditors=R,e.createDiffEditor=B,e.createMultiFileDiffEditor=H,e.addCommand=V,e.addEditorAction=q,e.addKeybindingRule=K,e.addKeybindingRules=U,e.createModel=$,e.setModelLanguage=se,e.setModelMarkers=F,e.removeAllMarkers=X,e.getModelMarkers=Q,e.onDidChangeMarkers=Z,e.getModel=ae,e.getModels=ue,e.onDidCreateModel=ge,e.onWillDisposeModel=fe,e.onDidChangeModelLanguage=re,e.createWebWorker=de,e.colorizeElement=ee,e.colorize=W,e.colorizeModelLine=z,e.tokenize=j,e.defineTheme=G,e.setTheme=oe,e.remeasureFonts=ne,e.registerCommand=ce,e.registerLinkOpener=le,e.registerEditorOpener=me,e.createMonacoEditorAPI=ve;function O(Ce,Se,_e){return c.StandaloneServices.initialize(_e||{}).createInstance(g.StandaloneEditor,Ce,Se)}function M(Ce){return c.StandaloneServices.get(w.ICodeEditorService).onCodeEditorAdd(_e=>{Ce(_e)})}function P(Ce){return c.StandaloneServices.get(w.ICodeEditorService).onDiffEditorAdd(_e=>{Ce(_e)})}function x(){return c.StandaloneServices.get(w.ICodeEditorService).listCodeEditors()}function R(){return c.StandaloneServices.get(w.ICodeEditorService).listDiffEditors()}function B(Ce,Se,_e){return c.StandaloneServices.initialize(_e||{}).createInstance(g.StandaloneDiffEditor2,Ce,Se)}function H(Ce,Se){const _e=c.StandaloneServices.initialize(Se||{});return new A.MultiDiffEditorWidget(Ce,{},_e)}function V(Ce){if(typeof Ce.id!="string"||typeof Ce.run!="function")throw new Error("Invalid command descriptor, `id` and `run` are required properties!");return S.CommandsRegistry.registerCommand(Ce.id,Ce.run)}function q(Ce){if(typeof Ce.id!="string"||typeof Ce.label!="string"||typeof Ce.run!="function")throw new Error("Invalid action descriptor, `id`, `label` and `run` are required properties!");const Se=I.ContextKeyExpr.deserialize(Ce.precondition),_e=(ke,...Ae)=>p.EditorCommand.runEditorCommand(ke,Ae,Se,(xe,He,Be)=>Promise.resolve(Ce.run(He,...Be))),Le=new k.DisposableStore;if(Le.add(S.CommandsRegistry.registerCommand(Ce.id,_e)),Ce.contextMenuGroupId){const ke={command:{id:Ce.id,title:Ce.label},when:Se,group:Ce.contextMenuGroupId,order:Ce.contextMenuOrder||0};Le.add(_.MenuRegistry.appendMenuItem(_.MenuId.EditorContext,ke))}if(Array.isArray(Ce.keybindings)){const ke=c.StandaloneServices.get(E.IKeybindingService);if(!(ke instanceof c.StandaloneKeybindingService))console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService");else{const Ae=I.ContextKeyExpr.and(Se,I.ContextKeyExpr.deserialize(Ce.keybindingContext));Le.add(ke.addDynamicKeybindings(Ce.keybindings.map(xe=>({keybinding:xe,command:Ce.id,when:Ae}))))}}return Le}function K(Ce){return U([Ce])}function U(Ce){const Se=c.StandaloneServices.get(E.IKeybindingService);return Se instanceof c.StandaloneKeybindingService?Se.addDynamicKeybindings(Ce.map(_e=>({keybinding:_e.keybinding,command:_e.command,commandArgs:_e.commandArgs,when:I.ContextKeyExpr.deserialize(_e.when)}))):(console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService"),k.Disposable.None)}function $(Ce,Se,_e){const Le=c.StandaloneServices.get(n.ILanguageService),ke=Le.getLanguageIdByMimeType(Se)||Se;return(0,g.createTextModel)(c.StandaloneServices.get(r.IModelService),Le,Ce,ke,_e)}function se(Ce,Se){const _e=c.StandaloneServices.get(n.ILanguageService),Le=_e.getLanguageIdByMimeType(Se)||Se||v.PLAINTEXT_LANGUAGE_ID;Ce.setLanguage(_e.createById(Le))}function F(Ce,Se,_e){Ce&&c.StandaloneServices.get(T.IMarkerService).changeOne(Se,Ce.uri,_e)}function X(Ce){c.StandaloneServices.get(T.IMarkerService).changeAll(Ce,[])}function Q(Ce){return c.StandaloneServices.get(T.IMarkerService).read(Ce)}function Z(Ce){return c.StandaloneServices.get(T.IMarkerService).onMarkerChanged(Ce)}function ae(Ce){return c.StandaloneServices.get(r.IModelService).getModel(Ce)}function ue(){return c.StandaloneServices.get(r.IModelService).getModels()}function ge(Ce){return c.StandaloneServices.get(r.IModelService).onModelAdded(Ce)}function fe(Ce){return c.StandaloneServices.get(r.IModelService).onModelRemoved(Ce)}function re(Ce){return c.StandaloneServices.get(r.IModelService).onModelLanguageChanged(_e=>{Ce({model:_e.model,oldLanguage:_e.oldLanguageId})})}function de(Ce){return(0,C.createWebWorker)(c.StandaloneServices.get(r.IModelService),c.StandaloneServices.get(h.ILanguageConfigurationService),Ce)}function ee(Ce,Se){const _e=c.StandaloneServices.get(n.ILanguageService),Le=c.StandaloneServices.get(f.IStandaloneThemeService);return o.Colorizer.colorizeElement(Le,_e,Ce,Se).then(()=>{Le.registerEditorContainer(Ce)})}function W(Ce,Se,_e){const Le=c.StandaloneServices.get(n.ILanguageService);return c.StandaloneServices.get(f.IStandaloneThemeService).registerEditorContainer(m.mainWindow.document.body),o.Colorizer.colorize(Le,Ce,Se,_e)}function z(Ce,Se,_e=4){return c.StandaloneServices.get(f.IStandaloneThemeService).registerEditorContainer(m.mainWindow.document.body),o.Colorizer.colorizeModelLine(Ce,Se,_e)}function Y(Ce){const Se=t.TokenizationRegistry.get(Ce);return Se||{getInitialState:()=>u.NullState,tokenize:(_e,Le,ke)=>(0,u.nullTokenize)(Ce,ke)}}function j(Ce,Se){t.TokenizationRegistry.getOrCreate(Se);const _e=Y(Se),Le=(0,D.splitLines)(Ce),ke=[];let Ae=_e.getInitialState();for(let xe=0,He=Le.length;xe<He;xe++){const Be=Le[xe],Ee=_e.tokenize(Be,!0,Ae);ke[xe]=Ee.tokens,Ae=Ee.endState}return ke}function G(Ce,Se){c.StandaloneServices.get(f.IStandaloneThemeService).defineTheme(Ce,Se)}function oe(Ce){c.StandaloneServices.get(f.IStandaloneThemeService).setTheme(Ce)}function ne(){y.FontMeasurements.clearAllFontInfos()}function ce(Ce,Se){return S.CommandsRegistry.registerCommand({id:Ce,handler:Se})}function le(Ce){return c.StandaloneServices.get(N.IOpenerService).registerOpener({async open(_e){return typeof _e=="string"&&(_e=L.URI.parse(_e)),Ce.open(_e)}})}function me(Ce){return c.StandaloneServices.get(w.ICodeEditorService).registerCodeEditorOpenHandler(async(_e,Le,ke)=>{var Ae;if(!Le)return null;const xe=(Ae=_e.options)===null||Ae===void 0?void 0:Ae.selection;let He;return xe&&typeof xe.endLineNumber=="number"&&typeof xe.endColumn=="number"?He=xe:xe&&(He={lineNumber:xe.startLineNumber,column:xe.startColumn}),await Ce.openCodeEditor(Le,_e.resource,He)?Le:null})}function ve(){return{create:O,getEditors:x,getDiffEditors:R,onDidCreateEditor:M,onDidCreateDiffEditor:P,createDiffEditor:B,addCommand:V,addEditorAction:q,addKeybindingRule:K,addKeybindingRules:U,createModel:$,setModelLanguage:se,setModelMarkers:F,getModelMarkers:Q,removeAllMarkers:X,onDidChangeMarkers:Z,getModels:ue,getModel:ae,onDidCreateModel:ge,onWillDisposeModel:fe,onDidChangeModelLanguage:re,createWebWorker:de,colorizeElement:ee,colorize:W,colorizeModelLine:z,tokenize:j,defineTheme:G,setTheme:oe,remeasureFonts:ne,registerCommand:ce,registerLinkOpener:le,registerEditorOpener:me,AccessibilitySupport:l.AccessibilitySupport,ContentWidgetPositionPreference:l.ContentWidgetPositionPreference,CursorChangeReason:l.CursorChangeReason,DefaultEndOfLine:l.DefaultEndOfLine,EditorAutoIndentStrategy:l.EditorAutoIndentStrategy,EditorOption:l.EditorOption,EndOfLinePreference:l.EndOfLinePreference,EndOfLineSequence:l.EndOfLineSequence,MinimapPosition:l.MinimapPosition,MinimapSectionHeaderStyle:l.MinimapSectionHeaderStyle,MouseTargetType:l.MouseTargetType,OverlayWidgetPositionPreference:l.OverlayWidgetPositionPreference,OverviewRulerLane:l.OverviewRulerLane,GlyphMarginLane:l.GlyphMarginLane,RenderLineNumbersType:l.RenderLineNumbersType,RenderMinimap:l.RenderMinimap,ScrollbarVisibility:l.ScrollbarVisibility,ScrollType:l.ScrollType,TextEditorCursorBlinkingStyle:l.TextEditorCursorBlinkingStyle,TextEditorCursorStyle:l.TextEditorCursorStyle,TrackedRangeStickiness:l.TrackedRangeStickiness,WrappingIndent:l.WrappingIndent,InjectedTextCursorStops:l.InjectedTextCursorStops,PositionAffinity:l.PositionAffinity,ShowLightbulbIconMode:l.ShowLightbulbIconMode,ConfigurationChangedEvent:b.ConfigurationChangedEvent,BareFontInfo:s.BareFontInfo,FontInfo:s.FontInfo,TextModelResolvedOptions:d.TextModelResolvedOptions,FindMatch:d.FindMatch,ApplyUpdateResult:b.ApplyUpdateResult,EditorZoom:a.EditorZoom,createMultiFileDiffEditor:H,EditorType:i.EditorType,EditorOptions:b.EditorOptions}}}),define(te[984],ie([1,0,34,5,29,33,84,42,227,282,592,363,148,104,18,25]),function(J,e,m,k,D,L,y,p,w,C,b,a,s,i,t,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TokenizationSupportAdapter=e.EncodedTokenizationSupportAdapter=void 0,e.register=h,e.getLanguages=v,e.getEncodedLanguageId=u,e.onLanguage=d,e.onLanguageEncountered=r,e.setLanguageConfiguration=l,e.setColorMap=S,e.registerTokensProviderFactory=E,e.setTokensProvider=T,e.setMonarchTokensProvider=N,e.registerReferenceProvider=A,e.registerRenameProvider=O,e.registerNewSymbolNameProvider=M,e.registerSignatureHelpProvider=P,e.registerHoverProvider=x,e.registerDocumentSymbolProvider=R,e.registerDocumentHighlightProvider=B,e.registerLinkedEditingRangeProvider=H,e.registerDefinitionProvider=V,e.registerImplementationProvider=q,e.registerTypeDefinitionProvider=K,e.registerCodeLensProvider=U,e.registerCodeActionProvider=$,e.registerDocumentFormattingEditProvider=se,e.registerDocumentRangeFormattingEditProvider=F,e.registerOnTypeFormattingEditProvider=X,e.registerLinkProvider=Q,e.registerCompletionItemProvider=Z,e.registerColorProvider=ae,e.registerFoldingRangeProvider=ue,e.registerDeclarationProvider=ge,e.registerSelectionRangeProvider=fe,e.registerDocumentSemanticTokensProvider=re,e.registerDocumentRangeSemanticTokensProvider=de,e.registerInlineCompletionsProvider=ee,e.registerInlineEditProvider=W,e.registerInlayHintsProvider=z,e.createMonacoLanguagesAPI=Y;function h(j){y.ModesRegistry.registerLanguage(j)}function v(){let j=[];return j=j.concat(y.ModesRegistry.getLanguages()),j}function u(j){return C.StandaloneServices.get(p.ILanguageService).languageIdCodec.encodeLanguageId(j)}function d(j,G){return C.StandaloneServices.withServices(()=>{const ne=C.StandaloneServices.get(p.ILanguageService).onDidRequestRichLanguageFeatures(ce=>{ce===j&&(ne.dispose(),G())});return ne})}function r(j,G){return C.StandaloneServices.withServices(()=>{const ne=C.StandaloneServices.get(p.ILanguageService).onDidRequestBasicLanguageFeatures(ce=>{ce===j&&(ne.dispose(),G())});return ne})}function l(j,G){if(!C.StandaloneServices.get(p.ILanguageService).isRegisteredLanguageId(j))throw new Error(`Cannot set configuration for unknown language ${j}`);return C.StandaloneServices.get(L.ILanguageConfigurationService).register(j,G,100)}class o{constructor(G,oe){this._languageId=G,this._actual=oe}dispose(){}getInitialState(){return this._actual.getInitialState()}tokenize(G,oe,ne){if(typeof this._actual.tokenize=="function")return g.adaptTokenize(this._languageId,this._actual,G,ne);throw new Error("Not supported!")}tokenizeEncoded(G,oe,ne){const ce=this._actual.tokenizeEncoded(G,ne);return new D.EncodedTokenizationResult(ce.tokens,ce.endState)}}e.EncodedTokenizationSupportAdapter=o;class g{constructor(G,oe,ne,ce){this._languageId=G,this._actual=oe,this._languageService=ne,this._standaloneThemeService=ce}dispose(){}getInitialState(){return this._actual.getInitialState()}static _toClassicTokens(G,oe){const ne=[];let ce=0;for(let le=0,me=G.length;le<me;le++){const ve=G[le];let Ce=ve.startIndex;le===0?Ce=0:Ce<ce&&(Ce=ce),ne[le]=new D.Token(Ce,ve.scopes,oe),ce=Ce}return ne}static adaptTokenize(G,oe,ne,ce){const le=oe.tokenize(ne,ce),me=g._toClassicTokens(le.tokens,G);let ve;return le.endState.equals(ce)?ve=ce:ve=le.endState,new D.TokenizationResult(me,ve)}tokenize(G,oe,ne){return g.adaptTokenize(this._languageId,this._actual,G,ne)}_toBinaryTokens(G,oe){const ne=G.encodeLanguageId(this._languageId),ce=this._standaloneThemeService.getColorTheme().tokenTheme,le=[];let me=0,ve=0;for(let Se=0,_e=oe.length;Se<_e;Se++){const Le=oe[Se],ke=ce.match(ne,Le.scopes)|1024;if(me>0&&le[me-1]===ke)continue;let Ae=Le.startIndex;Se===0?Ae=0:Ae<ve&&(Ae=ve),le[me++]=Ae,le[me++]=ke,ve=Ae}const Ce=new Uint32Array(me);for(let Se=0;Se<me;Se++)Ce[Se]=le[Se];return Ce}tokenizeEncoded(G,oe,ne){const ce=this._actual.tokenize(G,ne),le=this._toBinaryTokens(this._languageService.languageIdCodec,ce.tokens);let me;return ce.endState.equals(ne)?me=ne:me=ce.endState,new D.EncodedTokenizationResult(le,me)}}e.TokenizationSupportAdapter=g;function c(j){return typeof j.getInitialState=="function"}function f(j){return"tokenizeEncoded"in j}function _(j){return j&&typeof j.then=="function"}function S(j){const G=C.StandaloneServices.get(s.IStandaloneThemeService);if(j){const oe=[null];for(let ne=1,ce=j.length;ne<ce;ne++)oe[ne]=m.Color.fromHex(j[ne]);G.setColorMapOverride(oe)}else G.setColorMapOverride(null)}function I(j,G){return f(G)?new o(j,G):new g(j,G,C.StandaloneServices.get(p.ILanguageService),C.StandaloneServices.get(s.IStandaloneThemeService))}function E(j,G){const oe=new D.LazyTokenizationSupport(async()=>{const ne=await Promise.resolve(G.create());return ne?c(ne)?I(j,ne):new a.MonarchTokenizer(C.StandaloneServices.get(p.ILanguageService),C.StandaloneServices.get(s.IStandaloneThemeService),j,(0,b.compile)(j,ne),C.StandaloneServices.get(n.IConfigurationService)):null});return D.TokenizationRegistry.registerFactory(j,oe)}function T(j,G){if(!C.StandaloneServices.get(p.ILanguageService).isRegisteredLanguageId(j))throw new Error(`Cannot set tokens provider for unknown language ${j}`);return _(G)?E(j,{create:()=>G}):D.TokenizationRegistry.register(j,I(j,G))}function N(j,G){const oe=ne=>new a.MonarchTokenizer(C.StandaloneServices.get(p.ILanguageService),C.StandaloneServices.get(s.IStandaloneThemeService),j,(0,b.compile)(j,ne),C.StandaloneServices.get(n.IConfigurationService));return _(G)?E(j,{create:()=>G}):D.TokenizationRegistry.register(j,oe(G))}function A(j,G){return C.StandaloneServices.get(t.ILanguageFeaturesService).referenceProvider.register(j,G)}function O(j,G){return C.StandaloneServices.get(t.ILanguageFeaturesService).renameProvider.register(j,G)}function M(j,G){return C.StandaloneServices.get(t.ILanguageFeaturesService).newSymbolNamesProvider.register(j,G)}function P(j,G){return C.StandaloneServices.get(t.ILanguageFeaturesService).signatureHelpProvider.register(j,G)}function x(j,G){return C.StandaloneServices.get(t.ILanguageFeaturesService).hoverProvider.register(j,{provideHover:(ne,ce,le)=>{const me=ne.getWordAtPosition(ce);return Promise.resolve(G.provideHover(ne,ce,le)).then(ve=>{if(ve)return!ve.range&&me&&(ve.range=new k.Range(ce.lineNumber,me.startColumn,ce.lineNumber,me.endColumn)),ve.range||(ve.range=new k.Range(ce.lineNumber,ce.column,ce.lineNumber,ce.column)),ve})}})}function R(j,G){return C.StandaloneServices.get(t.ILanguageFeaturesService).documentSymbolProvider.register(j,G)}function B(j,G){return C.StandaloneServices.get(t.ILanguageFeaturesService).documentHighlightProvider.register(j,G)}function H(j,G){return C.StandaloneServices.get(t.ILanguageFeaturesService).linkedEditingRangeProvider.register(j,G)}function V(j,G){return C.StandaloneServices.get(t.ILanguageFeaturesService).definitionProvider.register(j,G)}function q(j,G){return C.StandaloneServices.get(t.ILanguageFeaturesService).implementationProvider.register(j,G)}function K(j,G){return C.StandaloneServices.get(t.ILanguageFeaturesService).typeDefinitionProvider.register(j,G)}function U(j,G){return C.StandaloneServices.get(t.ILanguageFeaturesService).codeLensProvider.register(j,G)}function $(j,G,oe){return C.StandaloneServices.get(t.ILanguageFeaturesService).codeActionProvider.register(j,{providedCodeActionKinds:oe?.providedCodeActionKinds,documentation:oe?.documentation,provideCodeActions:(ce,le,me,ve)=>{const Se=C.StandaloneServices.get(i.IMarkerService).read({resource:ce.uri}).filter(_e=>k.Range.areIntersectingOrTouching(_e,le));return G.provideCodeActions(ce,le,{markers:Se,only:me.only,trigger:me.trigger},ve)},resolveCodeAction:G.resolveCodeAction})}function se(j,G){return C.StandaloneServices.get(t.ILanguageFeaturesService).documentFormattingEditProvider.register(j,G)}function F(j,G){return C.StandaloneServices.get(t.ILanguageFeaturesService).documentRangeFormattingEditProvider.register(j,G)}function X(j,G){return C.StandaloneServices.get(t.ILanguageFeaturesService).onTypeFormattingEditProvider.register(j,G)}function Q(j,G){return C.StandaloneServices.get(t.ILanguageFeaturesService).linkProvider.register(j,G)}function Z(j,G){return C.StandaloneServices.get(t.ILanguageFeaturesService).completionProvider.register(j,G)}function ae(j,G){return C.StandaloneServices.get(t.ILanguageFeaturesService).colorProvider.register(j,G)}function ue(j,G){return C.StandaloneServices.get(t.ILanguageFeaturesService).foldingRangeProvider.register(j,G)}function ge(j,G){return C.StandaloneServices.get(t.ILanguageFeaturesService).declarationProvider.register(j,G)}function fe(j,G){return C.StandaloneServices.get(t.ILanguageFeaturesService).selectionRangeProvider.register(j,G)}function re(j,G){return C.StandaloneServices.get(t.ILanguageFeaturesService).documentSemanticTokensProvider.register(j,G)}function de(j,G){return C.StandaloneServices.get(t.ILanguageFeaturesService).documentRangeSemanticTokensProvider.register(j,G)}function ee(j,G){return C.StandaloneServices.get(t.ILanguageFeaturesService).inlineCompletionsProvider.register(j,G)}function W(j,G){return C.StandaloneServices.get(t.ILanguageFeaturesService).inlineEditProvider.register(j,G)}function z(j,G){return C.StandaloneServices.get(t.ILanguageFeaturesService).inlayHintsProvider.register(j,G)}function Y(){return{register:h,getLanguages:v,onLanguage:d,onLanguageEncountered:r,getEncodedLanguageId:u,setLanguageConfiguration:l,setColorMap:S,registerTokensProviderFactory:E,setTokensProvider:T,setMonarchTokensProvider:N,registerReferenceProvider:A,registerRenameProvider:O,registerNewSymbolNameProvider:M,registerCompletionItemProvider:Z,registerSignatureHelpProvider:P,registerHoverProvider:x,registerDocumentSymbolProvider:R,registerDocumentHighlightProvider:B,registerLinkedEditingRangeProvider:H,registerDefinitionProvider:V,registerImplementationProvider:q,registerTypeDefinitionProvider:K,registerCodeLensProvider:U,registerCodeActionProvider:$,registerDocumentFormattingEditProvider:se,registerDocumentRangeFormattingEditProvider:F,registerOnTypeFormattingEditProvider:X,registerLinkProvider:Q,registerColorProvider:ae,registerFoldingRangeProvider:ue,registerDeclarationProvider:ge,registerSelectionRangeProvider:fe,registerDocumentSemanticTokensProvider:re,registerDocumentRangeSemanticTokensProvider:de,registerInlineCompletionsProvider:ee,registerInlineEditProvider:W,registerInlayHintsProvider:z,DocumentHighlightKind:w.DocumentHighlightKind,CompletionItemKind:w.CompletionItemKind,CompletionItemTag:w.CompletionItemTag,CompletionItemInsertTextRule:w.CompletionItemInsertTextRule,SymbolKind:w.SymbolKind,SymbolTag:w.SymbolTag,IndentAction:w.IndentAction,CompletionTriggerKind:w.CompletionTriggerKind,SignatureHelpTriggerKind:w.SignatureHelpTriggerKind,InlayHintKind:w.InlayHintKind,InlineCompletionTriggerKind:w.InlineCompletionTriggerKind,InlineEditTriggerKind:w.InlineEditTriggerKind,CodeActionTriggerType:w.CodeActionTriggerType,NewSymbolNameTag:w.NewSymbolNameTag,PartialAcceptTriggerKind:w.PartialAcceptTriggerKind,FoldingRangeKind:D.FoldingRangeKind,SelectedSuggestionInfo:D.SelectedSuggestionInfo}}}),define(te[985],ie([1,0,38,355,983,984,381]),function(J,e,m,k,D,L,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.languages=e.editor=e.Token=e.Uri=e.MarkerTag=e.MarkerSeverity=e.SelectionDirection=e.Selection=e.Range=e.Position=e.KeyMod=e.KeyCode=e.Emitter=e.CancellationTokenSource=void 0,m.EditorOptions.wrappingIndent.defaultValue=0,m.EditorOptions.glyphMargin.defaultValue=!1,m.EditorOptions.autoIndent.defaultValue=3,m.EditorOptions.overviewRulerLanes.defaultValue=2,y.FormattingConflicts.setFormatterSelector((C,b,a)=>Promise.resolve(C[0]));const p=(0,k.createMonacoBaseAPI)();p.editor=(0,D.createMonacoEditorAPI)(),p.languages=(0,L.createMonacoLanguagesAPI)(),e.CancellationTokenSource=p.CancellationTokenSource,e.Emitter=p.Emitter,e.KeyCode=p.KeyCode,e.KeyMod=p.KeyMod,e.Position=p.Position,e.Range=p.Range,e.Selection=p.Selection,e.SelectionDirection=p.SelectionDirection,e.MarkerSeverity=p.MarkerSeverity,e.MarkerTag=p.MarkerTag,e.Uri=p.Uri,e.Token=p.Token,e.editor=p.editor,e.languages=p.languages;const w=globalThis.MonacoEnvironment;(w?.globalAPI||typeof define=="function"&&define.amd)&&(globalThis.monaco=p),typeof globalThis.require<"u"&&typeof globalThis.require.config=="function"&&globalThis.require.config({ignoreDuplicateModules:["vscode-languageserver-types","vscode-languageserver-types/main","vscode-languageserver-textdocument","vscode-languageserver-textdocument/main","vscode-nls","vscode-nls/vscode-nls","jsonc-parser","jsonc-parser/main","vscode-uri","vscode-uri/index","vs/basic-languages/typescript/typescript"]})});var Wt=this&&this.__createBinding||(Object.create?function(J,e,m,k){k===void 0&&(k=m);var D=Object.getOwnPropertyDescriptor(e,m);(!D||("get"in D?!e.__esModule:D.writable||D.configurable))&&(D={enumerable:!0,get:function(){return e[m]}}),Object.defineProperty(J,k,D)}:function(J,e,m,k){k===void 0&&(k=m),J[k]=e[m]}),Ct=this&&this.__exportStar||function(J,e){for(var m in J)m!=="default"&&!Object.prototype.hasOwnProperty.call(e,m)&&Wt(e,J,m)};define(te[987],ie([1,0,985,981,866,867,839,913,914,870,967,916]),function(J,e,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Ct(m,e)})}).call(this);


/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 5.4.5(0c29454a782516c45c830dd86fb76badebbd8097)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/
define("vs/basic-languages/monaco.contribution", ["require","require","vs/editor/editor.api"],(require)=>{
"use strict";var moduleExports=(()=>{var y=Object.create;var g=Object.defineProperty;var x=Object.getOwnPropertyDescriptor;var q=Object.getOwnPropertyNames;var A=Object.getPrototypeOf,M=Object.prototype.hasOwnProperty;var a=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(r,s)=>(typeof require<"u"?require:r)[s]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')});var D=(e,r)=>()=>(r||e((r={exports:{}}).exports,r),r.exports);var l=(e,r,s,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let o of q(r))!M.call(e,o)&&o!==s&&g(e,o,{get:()=>r[o],enumerable:!(n=x(r,o))||n.enumerable});return e},p=(e,r,s)=>(l(e,r,"default"),s&&l(s,r,"default")),c=(e,r,s)=>(s=e!=null?y(A(e)):{},l(r||!e||!e.__esModule?g(s,"default",{value:e,enumerable:!0}):s,e));var v=D((w,d)=>{var b=c(a("vs/editor/editor.api"));d.exports=b});var t={};p(t,c(v()));var f={},m={},u=class e{static getOrCreate(r){return m[r]||(m[r]=new e(r)),m[r]}constructor(r){this._languageId=r,this._loadingTriggered=!1,this._lazyLoadPromise=new Promise((s,n)=>{this._lazyLoadPromiseResolve=s,this._lazyLoadPromiseReject=n})}load(){return this._loadingTriggered||(this._loadingTriggered=!0,f[this._languageId].loader().then(r=>this._lazyLoadPromiseResolve(r),r=>this._lazyLoadPromiseReject(r))),this._lazyLoadPromise}};function i(e){let r=e.id;f[r]=e,t.languages.register(e);let s=u.getOrCreate(r);t.languages.registerTokensProviderFactory(r,{create:async()=>(await s.load()).language}),t.languages.onLanguageEncountered(r,async()=>{let n=await s.load();t.languages.setLanguageConfiguration(r,n.conf)})}i({id:"abap",extensions:[".abap"],aliases:["abap","ABAP"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/abap/abap"],e,r)})});i({id:"apex",extensions:[".cls"],aliases:["Apex","apex"],mimetypes:["text/x-apex-source","text/x-apex"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/apex/apex"],e,r)})});i({id:"azcli",extensions:[".azcli"],aliases:["Azure CLI","azcli"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/azcli/azcli"],e,r)})});i({id:"bat",extensions:[".bat",".cmd"],aliases:["Batch","bat"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/bat/bat"],e,r)})});i({id:"bicep",extensions:[".bicep"],aliases:["Bicep"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/bicep/bicep"],e,r)})});i({id:"cameligo",extensions:[".mligo"],aliases:["Cameligo"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/cameligo/cameligo"],e,r)})});i({id:"clojure",extensions:[".clj",".cljs",".cljc",".edn"],aliases:["clojure","Clojure"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/clojure/clojure"],e,r)})});i({id:"coffeescript",extensions:[".coffee"],aliases:["CoffeeScript","coffeescript","coffee"],mimetypes:["text/x-coffeescript","text/coffeescript"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/coffee/coffee"],e,r)})});i({id:"c",extensions:[".c",".h"],aliases:["C","c"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/cpp/cpp"],e,r)})});i({id:"cpp",extensions:[".cpp",".cc",".cxx",".hpp",".hh",".hxx"],aliases:["C++","Cpp","cpp"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/cpp/cpp"],e,r)})});i({id:"csharp",extensions:[".cs",".csx",".cake"],aliases:["C#","csharp"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/csharp/csharp"],e,r)})});i({id:"csp",extensions:[],aliases:["CSP","csp"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/csp/csp"],e,r)})});i({id:"css",extensions:[".css"],aliases:["CSS","css"],mimetypes:["text/css"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/css/css"],e,r)})});i({id:"cypher",extensions:[".cypher",".cyp"],aliases:["Cypher","OpenCypher"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/cypher/cypher"],e,r)})});i({id:"dart",extensions:[".dart"],aliases:["Dart","dart"],mimetypes:["text/x-dart-source","text/x-dart"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/dart/dart"],e,r)})});i({id:"dockerfile",extensions:[".dockerfile"],filenames:["Dockerfile"],aliases:["Dockerfile"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/dockerfile/dockerfile"],e,r)})});i({id:"ecl",extensions:[".ecl"],aliases:["ECL","Ecl","ecl"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/ecl/ecl"],e,r)})});i({id:"elixir",extensions:[".ex",".exs"],aliases:["Elixir","elixir","ex"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/elixir/elixir"],e,r)})});i({id:"flow9",extensions:[".flow"],aliases:["Flow9","Flow","flow9","flow"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/flow9/flow9"],e,r)})});i({id:"fsharp",extensions:[".fs",".fsi",".ml",".mli",".fsx",".fsscript"],aliases:["F#","FSharp","fsharp"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/fsharp/fsharp"],e,r)})});i({id:"freemarker2",extensions:[".ftl",".ftlh",".ftlx"],aliases:["FreeMarker2","Apache FreeMarker2"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/freemarker2/freemarker2"],e,r)}).then(e=>e.TagAngleInterpolationDollar)});i({id:"freemarker2.tag-angle.interpolation-dollar",aliases:["FreeMarker2 (Angle/Dollar)","Apache FreeMarker2 (Angle/Dollar)"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/freemarker2/freemarker2"],e,r)}).then(e=>e.TagAngleInterpolationDollar)});i({id:"freemarker2.tag-bracket.interpolation-dollar",aliases:["FreeMarker2 (Bracket/Dollar)","Apache FreeMarker2 (Bracket/Dollar)"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/freemarker2/freemarker2"],e,r)}).then(e=>e.TagBracketInterpolationDollar)});i({id:"freemarker2.tag-angle.interpolation-bracket",aliases:["FreeMarker2 (Angle/Bracket)","Apache FreeMarker2 (Angle/Bracket)"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/freemarker2/freemarker2"],e,r)}).then(e=>e.TagAngleInterpolationBracket)});i({id:"freemarker2.tag-bracket.interpolation-bracket",aliases:["FreeMarker2 (Bracket/Bracket)","Apache FreeMarker2 (Bracket/Bracket)"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/freemarker2/freemarker2"],e,r)}).then(e=>e.TagBracketInterpolationBracket)});i({id:"freemarker2.tag-auto.interpolation-dollar",aliases:["FreeMarker2 (Auto/Dollar)","Apache FreeMarker2 (Auto/Dollar)"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/freemarker2/freemarker2"],e,r)}).then(e=>e.TagAutoInterpolationDollar)});i({id:"freemarker2.tag-auto.interpolation-bracket",aliases:["FreeMarker2 (Auto/Bracket)","Apache FreeMarker2 (Auto/Bracket)"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/freemarker2/freemarker2"],e,r)}).then(e=>e.TagAutoInterpolationBracket)});i({id:"go",extensions:[".go"],aliases:["Go"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/go/go"],e,r)})});i({id:"graphql",extensions:[".graphql",".gql"],aliases:["GraphQL","graphql","gql"],mimetypes:["application/graphql"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/graphql/graphql"],e,r)})});i({id:"handlebars",extensions:[".handlebars",".hbs"],aliases:["Handlebars","handlebars","hbs"],mimetypes:["text/x-handlebars-template"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/handlebars/handlebars"],e,r)})});i({id:"hcl",extensions:[".tf",".tfvars",".hcl"],aliases:["Terraform","tf","HCL","hcl"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/hcl/hcl"],e,r)})});i({id:"html",extensions:[".html",".htm",".shtml",".xhtml",".mdoc",".jsp",".asp",".aspx",".jshtm"],aliases:["HTML","htm","html","xhtml"],mimetypes:["text/html","text/x-jshtm","text/template","text/ng-template"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/html/html"],e,r)})});i({id:"ini",extensions:[".ini",".properties",".gitconfig"],filenames:["config",".gitattributes",".gitconfig",".editorconfig"],aliases:["Ini","ini"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/ini/ini"],e,r)})});i({id:"java",extensions:[".java",".jav"],aliases:["Java","java"],mimetypes:["text/x-java-source","text/x-java"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/java/java"],e,r)})});i({id:"javascript",extensions:[".js",".es6",".jsx",".mjs",".cjs"],firstLine:"^#!.*\\bnode",filenames:["jakefile"],aliases:["JavaScript","javascript","js"],mimetypes:["text/javascript"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/javascript/javascript"],e,r)})});i({id:"julia",extensions:[".jl"],aliases:["julia","Julia"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/julia/julia"],e,r)})});i({id:"kotlin",extensions:[".kt",".kts"],aliases:["Kotlin","kotlin"],mimetypes:["text/x-kotlin-source","text/x-kotlin"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/kotlin/kotlin"],e,r)})});i({id:"less",extensions:[".less"],aliases:["Less","less"],mimetypes:["text/x-less","text/less"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/less/less"],e,r)})});i({id:"lexon",extensions:[".lex"],aliases:["Lexon"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/lexon/lexon"],e,r)})});i({id:"lua",extensions:[".lua"],aliases:["Lua","lua"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/lua/lua"],e,r)})});i({id:"liquid",extensions:[".liquid",".html.liquid"],aliases:["Liquid","liquid"],mimetypes:["application/liquid"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/liquid/liquid"],e,r)})});i({id:"m3",extensions:[".m3",".i3",".mg",".ig"],aliases:["Modula-3","Modula3","modula3","m3"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/m3/m3"],e,r)})});i({id:"markdown",extensions:[".md",".markdown",".mdown",".mkdn",".mkd",".mdwn",".mdtxt",".mdtext"],aliases:["Markdown","markdown"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/markdown/markdown"],e,r)})});i({id:"mdx",extensions:[".mdx"],aliases:["MDX","mdx"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/mdx/mdx"],e,r)})});i({id:"mips",extensions:[".s"],aliases:["MIPS","MIPS-V"],mimetypes:["text/x-mips","text/mips","text/plaintext"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/mips/mips"],e,r)})});i({id:"msdax",extensions:[".dax",".msdax"],aliases:["DAX","MSDAX"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/msdax/msdax"],e,r)})});i({id:"mysql",extensions:[],aliases:["MySQL","mysql"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/mysql/mysql"],e,r)})});i({id:"objective-c",extensions:[".m"],aliases:["Objective-C"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/objective-c/objective-c"],e,r)})});i({id:"pascal",extensions:[".pas",".p",".pp"],aliases:["Pascal","pas"],mimetypes:["text/x-pascal-source","text/x-pascal"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/pascal/pascal"],e,r)})});i({id:"pascaligo",extensions:[".ligo"],aliases:["Pascaligo","ligo"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/pascaligo/pascaligo"],e,r)})});i({id:"perl",extensions:[".pl",".pm"],aliases:["Perl","pl"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/perl/perl"],e,r)})});i({id:"pgsql",extensions:[],aliases:["PostgreSQL","postgres","pg","postgre"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/pgsql/pgsql"],e,r)})});i({id:"php",extensions:[".php",".php4",".php5",".phtml",".ctp"],aliases:["PHP","php"],mimetypes:["application/x-php"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/php/php"],e,r)})});i({id:"pla",extensions:[".pla"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/pla/pla"],e,r)})});i({id:"postiats",extensions:[".dats",".sats",".hats"],aliases:["ATS","ATS/Postiats"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/postiats/postiats"],e,r)})});i({id:"powerquery",extensions:[".pq",".pqm"],aliases:["PQ","M","Power Query","Power Query M"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/powerquery/powerquery"],e,r)})});i({id:"powershell",extensions:[".ps1",".psm1",".psd1"],aliases:["PowerShell","powershell","ps","ps1"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/powershell/powershell"],e,r)})});i({id:"proto",extensions:[".proto"],aliases:["protobuf","Protocol Buffers"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/protobuf/protobuf"],e,r)})});i({id:"pug",extensions:[".jade",".pug"],aliases:["Pug","Jade","jade"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/pug/pug"],e,r)})});i({id:"python",extensions:[".py",".rpy",".pyw",".cpy",".gyp",".gypi"],aliases:["Python","py"],firstLine:"^#!/.*\\bpython[0-9.-]*\\b",loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/python/python"],e,r)})});i({id:"qsharp",extensions:[".qs"],aliases:["Q#","qsharp"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/qsharp/qsharp"],e,r)})});i({id:"r",extensions:[".r",".rhistory",".rmd",".rprofile",".rt"],aliases:["R","r"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/r/r"],e,r)})});i({id:"razor",extensions:[".cshtml"],aliases:["Razor","razor"],mimetypes:["text/x-cshtml"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/razor/razor"],e,r)})});i({id:"redis",extensions:[".redis"],aliases:["redis"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/redis/redis"],e,r)})});i({id:"redshift",extensions:[],aliases:["Redshift","redshift"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/redshift/redshift"],e,r)})});i({id:"restructuredtext",extensions:[".rst"],aliases:["reStructuredText","restructuredtext"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/restructuredtext/restructuredtext"],e,r)})});i({id:"ruby",extensions:[".rb",".rbx",".rjs",".gemspec",".pp"],filenames:["rakefile","Gemfile"],aliases:["Ruby","rb"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/ruby/ruby"],e,r)})});i({id:"rust",extensions:[".rs",".rlib"],aliases:["Rust","rust"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/rust/rust"],e,r)})});i({id:"sb",extensions:[".sb"],aliases:["Small Basic","sb"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/sb/sb"],e,r)})});i({id:"scala",extensions:[".scala",".sc",".sbt"],aliases:["Scala","scala","SBT","Sbt","sbt","Dotty","dotty"],mimetypes:["text/x-scala-source","text/x-scala","text/x-sbt","text/x-dotty"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/scala/scala"],e,r)})});i({id:"scheme",extensions:[".scm",".ss",".sch",".rkt"],aliases:["scheme","Scheme"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/scheme/scheme"],e,r)})});i({id:"scss",extensions:[".scss"],aliases:["Sass","sass","scss"],mimetypes:["text/x-scss","text/scss"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/scss/scss"],e,r)})});i({id:"shell",extensions:[".sh",".bash"],aliases:["Shell","sh"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/shell/shell"],e,r)})});i({id:"sol",extensions:[".sol"],aliases:["sol","solidity","Solidity"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/solidity/solidity"],e,r)})});i({id:"aes",extensions:[".aes"],aliases:["aes","sophia","Sophia"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/sophia/sophia"],e,r)})});i({id:"sparql",extensions:[".rq"],aliases:["sparql","SPARQL"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/sparql/sparql"],e,r)})});i({id:"sql",extensions:[".sql"],aliases:["SQL"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/sql/sql"],e,r)})});i({id:"st",extensions:[".st",".iecst",".iecplc",".lc3lib",".TcPOU",".TcDUT",".TcGVL",".TcIO"],aliases:["StructuredText","scl","stl"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/st/st"],e,r)})});i({id:"swift",aliases:["Swift","swift"],extensions:[".swift"],mimetypes:["text/swift"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/swift/swift"],e,r)})});i({id:"systemverilog",extensions:[".sv",".svh"],aliases:["SV","sv","SystemVerilog","systemverilog"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/systemverilog/systemverilog"],e,r)})});i({id:"verilog",extensions:[".v",".vh"],aliases:["V","v","Verilog","verilog"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/systemverilog/systemverilog"],e,r)})});i({id:"tcl",extensions:[".tcl"],aliases:["tcl","Tcl","tcltk","TclTk","tcl/tk","Tcl/Tk"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/tcl/tcl"],e,r)})});i({id:"twig",extensions:[".twig"],aliases:["Twig","twig"],mimetypes:["text/x-twig"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/twig/twig"],e,r)})});i({id:"typescript",extensions:[".ts",".tsx",".cts",".mts"],aliases:["TypeScript","ts","typescript"],mimetypes:["text/typescript"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/typescript/typescript"],e,r)})});i({id:"vb",extensions:[".vb"],aliases:["Visual Basic","vb"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/vb/vb"],e,r)})});i({id:"wgsl",extensions:[".wgsl"],aliases:["WebGPU Shading Language","WGSL","wgsl"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/wgsl/wgsl"],e,r)})});i({id:"xml",extensions:[".xml",".xsd",".dtd",".ascx",".csproj",".config",".props",".targets",".wxi",".wxl",".wxs",".xaml",".svg",".svgz",".opf",".xslt",".xsl"],firstLine:"(\\<\\?xml.*)|(\\<svg)|(\\<\\!doctype\\s+svg)",aliases:["XML","xml"],mimetypes:["text/xml","application/xml","application/xaml+xml","application/xml-dtd"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/xml/xml"],e,r)})});i({id:"yaml",extensions:[".yaml",".yml"],aliases:["YAML","yaml","YML","yml"],mimetypes:["application/x-yaml","text/x-yaml"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/yaml/yaml"],e,r)})});})();
return moduleExports;
});

/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 5.4.5(0c29454a782516c45c830dd86fb76badebbd8097)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/
define("vs/language/css/monaco.contribution", ["require","require","vs/editor/editor.api"],(require)=>{
"use strict";var moduleExports=(()=>{var C=Object.create;var g=Object.defineProperty;var S=Object.getOwnPropertyDescriptor;var b=Object.getOwnPropertyNames;var x=Object.getPrototypeOf,h=Object.prototype.hasOwnProperty;var l=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(n,r)=>(typeof require<"u"?require:n)[r]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')});var I=(e,n)=>()=>(n||e((n={exports:{}}).exports,n),n.exports),M=(e,n)=>{for(var r in n)g(e,r,{get:n[r],enumerable:!0})},s=(e,n,r,a)=>{if(n&&typeof n=="object"||typeof n=="function")for(let t of b(n))!h.call(e,t)&&t!==r&&g(e,t,{get:()=>n[t],enumerable:!(a=S(n,t))||a.enumerable});return e},y=(e,n,r)=>(s(e,n,"default"),r&&s(r,n,"default")),w=(e,n,r)=>(r=e!=null?C(x(e)):{},s(n||!e||!e.__esModule?g(r,"default",{value:e,enumerable:!0}):r,e)),P=e=>s(g({},"__esModule",{value:!0}),e);var v=I((k,D)=>{var O=w(l("vs/editor/editor.api"));D.exports=O});var R={};M(R,{cssDefaults:()=>p,lessDefaults:()=>f,scssDefaults:()=>c});var o={};y(o,w(v()));var i=class{constructor(n,r,a){this._onDidChange=new o.Emitter;this._languageId=n,this.setOptions(r),this.setModeConfiguration(a)}get onDidChange(){return this._onDidChange.event}get languageId(){return this._languageId}get modeConfiguration(){return this._modeConfiguration}get diagnosticsOptions(){return this.options}get options(){return this._options}setOptions(n){this._options=n||Object.create(null),this._onDidChange.fire(this)}setDiagnosticsOptions(n){this.setOptions(n)}setModeConfiguration(n){this._modeConfiguration=n||Object.create(null),this._onDidChange.fire(this)}},d={validate:!0,lint:{compatibleVendorPrefixes:"ignore",vendorPrefix:"warning",duplicateProperties:"warning",emptyRules:"warning",importStatement:"ignore",boxModel:"ignore",universalSelector:"ignore",zeroUnits:"ignore",fontFaceProperties:"warning",hexColorLength:"error",argumentsInColorFunction:"error",unknownProperties:"warning",ieHack:"ignore",unknownVendorSpecificProperties:"ignore",propertyIgnoredDueToDisplay:"warning",important:"ignore",float:"ignore",idSelector:"ignore"},data:{useDefaultDataProvider:!0},format:{newlineBetweenSelectors:!0,newlineBetweenRules:!0,spaceAroundSelectorSeparator:!1,braceStyle:"collapse",maxPreserveNewLines:void 0,preserveNewLines:!0}},u={completionItems:!0,hovers:!0,documentSymbols:!0,definitions:!0,references:!0,documentHighlights:!0,rename:!0,colors:!0,foldingRanges:!0,diagnostics:!0,selectionRanges:!0,documentFormattingEdits:!0,documentRangeFormattingEdits:!0},p=new i("css",d,u),c=new i("scss",d,u),f=new i("less",d,u);o.languages.css={cssDefaults:p,lessDefaults:f,scssDefaults:c};function m(){return new Promise((e,n)=>{l(["vs/language/css/cssMode"],e,n)})}o.languages.onLanguage("less",()=>{m().then(e=>e.setupMode(f))});o.languages.onLanguage("scss",()=>{m().then(e=>e.setupMode(c))});o.languages.onLanguage("css",()=>{m().then(e=>e.setupMode(p))});return P(R);})();
return moduleExports;
});

/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 5.4.5(0c29454a782516c45c830dd86fb76badebbd8097)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/
define("vs/language/html/monaco.contribution", ["require","require","vs/editor/editor.api"],(require)=>{
"use strict";var moduleExports=(()=>{var w=Object.create;var l=Object.defineProperty;var R=Object.getOwnPropertyDescriptor;var H=Object.getOwnPropertyNames;var O=Object.getPrototypeOf,_=Object.prototype.hasOwnProperty;var f=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(n,t)=>(typeof require<"u"?require:n)[t]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')});var k=(e,n)=>()=>(n||e((n={exports:{}}).exports,n),n.exports),T=(e,n)=>{for(var t in n)l(e,t,{get:n[t],enumerable:!0})},d=(e,n,t,r)=>{if(n&&typeof n=="object"||typeof n=="function")for(let o of H(n))!_.call(e,o)&&o!==t&&l(e,o,{get:()=>n[o],enumerable:!(r=R(n,o))||r.enumerable});return e},b=(e,n,t)=>(d(e,n,"default"),t&&d(t,n,"default")),v=(e,n,t)=>(t=e!=null?w(O(e)):{},d(n||!e||!e.__esModule?l(t,"default",{value:e,enumerable:!0}):t,e)),A=e=>d(l({},"__esModule",{value:!0}),e);var C=k((z,h)=>{var E=v(f("vs/editor/editor.api"));h.exports=E});var V={};T(V,{handlebarDefaults:()=>M,handlebarLanguageService:()=>m,htmlDefaults:()=>x,htmlLanguageService:()=>c,razorDefaults:()=>I,razorLanguageService:()=>y,registerHTMLLanguageService:()=>s});var a={};b(a,v(C()));var p=class{constructor(n,t,r){this._onDidChange=new a.Emitter;this._languageId=n,this.setOptions(t),this.setModeConfiguration(r)}get onDidChange(){return this._onDidChange.event}get languageId(){return this._languageId}get options(){return this._options}get modeConfiguration(){return this._modeConfiguration}setOptions(n){this._options=n||Object.create(null),this._onDidChange.fire(this)}setModeConfiguration(n){this._modeConfiguration=n||Object.create(null),this._onDidChange.fire(this)}},F={tabSize:4,insertSpaces:!1,wrapLineLength:120,unformatted:'default": "a, abbr, acronym, b, bdo, big, br, button, cite, code, dfn, em, i, img, input, kbd, label, map, object, q, samp, select, small, span, strong, sub, sup, textarea, tt, var',contentUnformatted:"pre",indentInnerHtml:!1,preserveNewLines:!0,maxPreserveNewLines:void 0,indentHandlebars:!1,endWithNewline:!1,extraLiners:"head, body, /html",wrapAttributes:"auto"},u={format:F,suggest:{},data:{useDefaultDataProvider:!0}};function g(e){return{completionItems:!0,hovers:!0,documentSymbols:!0,links:!0,documentHighlights:!0,rename:!0,colors:!0,foldingRanges:!0,selectionRanges:!0,diagnostics:e===i,documentFormattingEdits:e===i,documentRangeFormattingEdits:e===i}}var i="html",D="handlebars",L="razor",c=s(i,u,g(i)),x=c.defaults,m=s(D,u,g(D)),M=m.defaults,y=s(L,u,g(L)),I=y.defaults;a.languages.html={htmlDefaults:x,razorDefaults:I,handlebarDefaults:M,htmlLanguageService:c,handlebarLanguageService:m,razorLanguageService:y,registerHTMLLanguageService:s};function P(){return new Promise((e,n)=>{f(["vs/language/html/htmlMode"],e,n)})}function s(e,n=u,t=g(e)){let r=new p(e,n,t),o,S=a.languages.onLanguage(e,async()=>{o=(await P()).setupMode(r)});return{defaults:r,dispose(){S.dispose(),o?.dispose(),o=void 0}}}return A(V);})();
return moduleExports;
});

/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 5.4.5(0c29454a782516c45c830dd86fb76badebbd8097)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/
define("vs/language/json/monaco.contribution", ["require","require","vs/editor/editor.api"],(require)=>{
"use strict";var moduleExports=(()=>{var y=Object.create;var i=Object.defineProperty;var f=Object.getOwnPropertyDescriptor;var h=Object.getOwnPropertyNames;var N=Object.getPrototypeOf,b=Object.prototype.hasOwnProperty;var s=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(n,o)=>(typeof require<"u"?require:n)[o]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')});var O=(e,n)=>()=>(n||e((n={exports:{}}).exports,n),n.exports),v=(e,n)=>{for(var o in n)i(e,o,{get:n[o],enumerable:!0})},g=(e,n,o,a)=>{if(n&&typeof n=="object"||typeof n=="function")for(let r of h(n))!b.call(e,r)&&r!==o&&i(e,r,{get:()=>n[r],enumerable:!(a=f(n,r))||a.enumerable});return e};var m=(e,n,o)=>(o=e!=null?y(N(e)):{},g(n||!e||!e.__esModule?i(o,"default",{value:e,enumerable:!0}):o,e)),x=e=>g(i({},"__esModule",{value:!0}),e);var u=O((J,c)=>{var A=m(s("vs/editor/editor.api"));c.exports=A});var C={};v(C,{getWorker:()=>S,jsonDefaults:()=>l});var t=m(u());var d=class{constructor(n,o,a){this._onDidChange=new t.Emitter;this._languageId=n,this.setDiagnosticsOptions(o),this.setModeConfiguration(a)}get onDidChange(){return this._onDidChange.event}get languageId(){return this._languageId}get modeConfiguration(){return this._modeConfiguration}get diagnosticsOptions(){return this._diagnosticsOptions}setDiagnosticsOptions(n){this._diagnosticsOptions=n||Object.create(null),this._onDidChange.fire(this)}setModeConfiguration(n){this._modeConfiguration=n||Object.create(null),this._onDidChange.fire(this)}},T={validate:!0,allowComments:!0,schemas:[],enableSchemaRequest:!1,schemaRequest:"warning",schemaValidation:"warning",comments:"error",trailingCommas:"error"},D={documentFormattingEdits:!0,documentRangeFormattingEdits:!0,completionItems:!0,hovers:!0,documentSymbols:!0,tokens:!0,colors:!0,foldingRanges:!0,diagnostics:!0,selectionRanges:!0},l=new d("json",T,D),S=()=>p().then(e=>e.getWorker());t.languages.json={jsonDefaults:l,getWorker:S};function p(){return new Promise((e,n)=>{s(["vs/language/json/jsonMode"],e,n)})}t.languages.register({id:"json",extensions:[".json",".bowerrc",".jshintrc",".jscsrc",".eslintrc",".babelrc",".har"],aliases:["JSON","json"],mimetypes:["application/json"]});t.languages.onLanguage("json",()=>{p().then(e=>e.setupMode(l))});return x(C);})();
return moduleExports;
});

/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 5.4.5(0c29454a782516c45c830dd86fb76badebbd8097)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/
define("vs/language/typescript/monaco.contribution", ["require","require","vs/editor/editor.api"],(require)=>{
"use strict";var moduleExports=(()=>{var N=Object.create;var d=Object.defineProperty;var H=Object.getOwnPropertyDescriptor;var M=Object.getOwnPropertyNames;var R=Object.getPrototypeOf,F=Object.prototype.hasOwnProperty;var c=(n=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(n,{get:(e,t)=>(typeof require<"u"?require:e)[t]}):n)(function(n){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+n+'" is not supported')});var w=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports),A=(n,e)=>{for(var t in e)d(n,t,{get:e[t],enumerable:!0})},g=(n,e,t,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of M(e))!F.call(n,r)&&r!==t&&d(n,r,{get:()=>e[r],enumerable:!(i=H(e,r))||i.enumerable});return n},D=(n,e,t)=>(g(n,e,"default"),t&&g(t,e,"default")),C=(n,e,t)=>(t=n!=null?N(R(n)):{},g(e||!n||!n.__esModule?d(t,"default",{value:n,enumerable:!0}):t,n)),W=n=>g(d({},"__esModule",{value:!0}),n);var _=w((B,E)=>{var V=C(c("vs/editor/editor.api"));E.exports=V});var T={};A(T,{JsxEmit:()=>f,ModuleKind:()=>b,ModuleResolutionKind:()=>O,NewLineKind:()=>y,ScriptTarget:()=>h,getJavaScriptWorker:()=>k,getTypeScriptWorker:()=>P,javascriptDefaults:()=>v,typescriptDefaults:()=>x,typescriptVersion:()=>I});var L="5.4.5";var l={};D(l,C(_()));var b=(s=>(s[s.None=0]="None",s[s.CommonJS=1]="CommonJS",s[s.AMD=2]="AMD",s[s.UMD=3]="UMD",s[s.System=4]="System",s[s.ES2015=5]="ES2015",s[s.ESNext=99]="ESNext",s))(b||{}),f=(a=>(a[a.None=0]="None",a[a.Preserve=1]="Preserve",a[a.React=2]="React",a[a.ReactNative=3]="ReactNative",a[a.ReactJSX=4]="ReactJSX",a[a.ReactJSXDev=5]="ReactJSXDev",a))(f||{}),y=(t=>(t[t.CarriageReturnLineFeed=0]="CarriageReturnLineFeed",t[t.LineFeed=1]="LineFeed",t))(y||{}),h=(o=>(o[o.ES3=0]="ES3",o[o.ES5=1]="ES5",o[o.ES2015=2]="ES2015",o[o.ES2016=3]="ES2016",o[o.ES2017=4]="ES2017",o[o.ES2018=5]="ES2018",o[o.ES2019=6]="ES2019",o[o.ES2020=7]="ES2020",o[o.ESNext=99]="ESNext",o[o.JSON=100]="JSON",o[o.Latest=99]="Latest",o))(h||{}),O=(t=>(t[t.Classic=1]="Classic",t[t.NodeJs=2]="NodeJs",t))(O||{}),m=class{constructor(e,t,i,r,p){this._onDidChange=new l.Emitter;this._onDidExtraLibsChange=new l.Emitter;this._extraLibs=Object.create(null),this._removedExtraLibs=Object.create(null),this._eagerModelSync=!1,this.setCompilerOptions(e),this.setDiagnosticsOptions(t),this.setWorkerOptions(i),this.setInlayHintsOptions(r),this.setModeConfiguration(p),this._onDidExtraLibsChangeTimeout=-1}get onDidChange(){return this._onDidChange.event}get onDidExtraLibsChange(){return this._onDidExtraLibsChange.event}get modeConfiguration(){return this._modeConfiguration}get workerOptions(){return this._workerOptions}get inlayHintsOptions(){return this._inlayHintsOptions}getExtraLibs(){return this._extraLibs}addExtraLib(e,t){let i;if(typeof t>"u"?i=`ts:extralib-${Math.random().toString(36).substring(2,15)}`:i=t,this._extraLibs[i]&&this._extraLibs[i].content===e)return{dispose:()=>{}};let r=1;return this._removedExtraLibs[i]&&(r=this._removedExtraLibs[i]+1),this._extraLibs[i]&&(r=this._extraLibs[i].version+1),this._extraLibs[i]={content:e,version:r},this._fireOnDidExtraLibsChangeSoon(),{dispose:()=>{let p=this._extraLibs[i];p&&p.version===r&&(delete this._extraLibs[i],this._removedExtraLibs[i]=r,this._fireOnDidExtraLibsChangeSoon())}}}setExtraLibs(e){for(let t in this._extraLibs)this._removedExtraLibs[t]=this._extraLibs[t].version;if(this._extraLibs=Object.create(null),e&&e.length>0)for(let t of e){let i=t.filePath||`ts:extralib-${Math.random().toString(36).substring(2,15)}`,r=t.content,p=1;this._removedExtraLibs[i]&&(p=this._removedExtraLibs[i]+1),this._extraLibs[i]={content:r,version:p}}this._fireOnDidExtraLibsChangeSoon()}_fireOnDidExtraLibsChangeSoon(){this._onDidExtraLibsChangeTimeout===-1&&(this._onDidExtraLibsChangeTimeout=window.setTimeout(()=>{this._onDidExtraLibsChangeTimeout=-1,this._onDidExtraLibsChange.fire(void 0)},0))}getCompilerOptions(){return this._compilerOptions}setCompilerOptions(e){this._compilerOptions=e||Object.create(null),this._onDidChange.fire(void 0)}getDiagnosticsOptions(){return this._diagnosticsOptions}setDiagnosticsOptions(e){this._diagnosticsOptions=e||Object.create(null),this._onDidChange.fire(void 0)}setWorkerOptions(e){this._workerOptions=e||Object.create(null),this._onDidChange.fire(void 0)}setInlayHintsOptions(e){this._inlayHintsOptions=e||Object.create(null),this._onDidChange.fire(void 0)}setMaximumWorkerIdleTime(e){}setEagerModelSync(e){this._eagerModelSync=e}getEagerModelSync(){return this._eagerModelSync}setModeConfiguration(e){this._modeConfiguration=e||Object.create(null),this._onDidChange.fire(void 0)}},I=L,S={completionItems:!0,hovers:!0,documentSymbols:!0,definitions:!0,references:!0,documentHighlights:!0,rename:!0,diagnostics:!0,documentRangeFormattingEdits:!0,signatureHelp:!0,onTypeFormattingEdits:!0,codeActions:!0,inlayHints:!0},x=new m({allowNonTsExtensions:!0,target:99},{noSemanticValidation:!1,noSyntaxValidation:!1,onlyVisible:!1},{},{},S),v=new m({allowNonTsExtensions:!0,allowJs:!0,target:99},{noSemanticValidation:!0,noSyntaxValidation:!1,onlyVisible:!1},{},{},S),P=()=>u().then(n=>n.getTypeScriptWorker()),k=()=>u().then(n=>n.getJavaScriptWorker());l.languages.typescript={ModuleKind:b,JsxEmit:f,NewLineKind:y,ScriptTarget:h,ModuleResolutionKind:O,typescriptVersion:I,typescriptDefaults:x,javascriptDefaults:v,getTypeScriptWorker:P,getJavaScriptWorker:k};function u(){return new Promise((n,e)=>{c(["vs/language/typescript/tsMode"],n,e)})}l.languages.onLanguage("typescript",()=>u().then(n=>n.setupTypeScript(x)));l.languages.onLanguage("javascript",()=>u().then(n=>n.setupJavaScript(v)));return W(T);})();
return moduleExports;
});

define("vs/editor/editor.main", ["vs/editor/edcore.main","vs/basic-languages/monaco.contribution","vs/language/css/monaco.contribution","vs/language/html/monaco.contribution","vs/language/json/monaco.contribution","vs/language/typescript/monaco.contribution"], function(api) { return api; });
//# sourceMappingURL=../../../min-maps/vs/editor/editor.main.js.map